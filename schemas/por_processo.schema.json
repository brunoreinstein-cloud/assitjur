{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://assistjur.com.br/schemas/por_processo.schema.json",
  "title": "AssistJur.IA - Esquema Por Processo",
  "description": "Schema de validação para dados de processo no formato canônico AssistJur.IA",
  "type": "object",
  "properties": {
    "CNJ": {
      "type": "string",
      "description": "Código CNJ do processo (preserva formato original)",
      "pattern": "^[0-9\\-\\.]+$",
      "minLength": 1,
      "examples": ["0001234-56.2024.5.01.0001", "00012345620245010001"]
    },
    "Status": {
      "type": ["string", "null"],
      "description": "Status atual do processo",
      "examples": ["Em andamento", "Sentenciado", "Arquivado", "Suspenso"]
    },
    "Fase": {
      "type": ["string", "null"],
      "description": "Fase processual atual",
      "examples": ["Conhecimento", "Execução", "Instrução", "Recurso"]
    },
    "UF": {
      "type": "string",
      "description": "Unidade Federativa (2 letras)",
      "pattern": "^[A-Z]{2}$",
      "examples": ["SP", "RJ", "MG", "RS", "PR"]
    },
    "Comarca": {
      "type": "string",
      "description": "Nome da comarca",
      "minLength": 1,
      "examples": ["São Paulo", "Rio de Janeiro", "Belo Horizonte"]
    },
    "reclamante_nome": {
      "type": ["string", "null"],
      "description": "Nome do reclamante principal (campo legado para compatibilidade)",
      "examples": ["Ana Lima", "Pedro Santos"]
    },
    "reu_nome": {
      "type": ["string", "null"],
      "description": "Nome do réu (campo legado para compatibilidade)",
      "examples": ["Empresa XYZ Ltda", "Indústria ABC S/A"]
    },
    "Reclamantes": {
      "type": "string",
      "description": "Lista de reclamantes separada por ';' ou nome único",
      "minLength": 1,
      "examples": ["Ana Lima", "Pedro Santos; Maria Costa"]
    },
    "Advogados_Ativo": {
      "type": "string",
      "description": "Lista de advogados do polo ativo separada por ';'",
      "minLength": 1,
      "examples": ["Dr. Xavier Silva", "Dr. Xavier Silva; Dra. Yasmim Oliveira"]
    },
    "Testemunhas_Ativo": {
      "type": ["string", "null"],
      "description": "Lista de testemunhas do polo ativo separada por ';' ou '—' se vazia",
      "examples": ["João Pereira", "João Pereira; Carlos Costa", "—"]
    },
    "Testemunhas_Passivo": {
      "type": ["string", "null"],
      "description": "Lista de testemunhas do polo passivo separada por ';' ou '—' se vazia",
      "examples": ["Ana Silva", "Ana Silva; Pedro Lima", "—"]
    },
    "Todas_Testemunhas": {
      "type": "string",
      "description": "Lista de todas as testemunhas separada por ';'",
      "minLength": 1,
      "examples": ["João Pereira; Beatriz Nunes", "Carlos Costa"]
    },
    "Reclamante_Foi_Testemunha": {
      "type": ["boolean", "null"],
      "description": "Se o reclamante já foi testemunha em outros processos",
      "examples": [true, false]
    },
    "Qtd_Reclamante_Testemunha": {
      "type": ["integer", "null"],
      "description": "Quantidade de vezes que o reclamante foi testemunha",
      "minimum": 0,
      "examples": [0, 1, 3, 5]
    },
    "CNJs_Reclamante_Testemunha": {
      "type": ["string", "null"],
      "description": "CNJs onde o reclamante foi testemunha, separados por ';'",
      "examples": ["0009876-12.2023.5.04.0002", "CNJ1; CNJ2; CNJ3", "—"]
    },
    "Reclamante_Testemunha_Polo_Passivo": {
      "type": ["boolean", "null"],
      "description": "Se o reclamante foi testemunha do polo passivo",
      "examples": [true, false]
    },
    "CNJs_Passivo": {
      "type": ["string", "null"],
      "description": "CNJs onde foi testemunha do polo passivo",
      "examples": ["CNJ123; CNJ456", "—"]
    },
    "Triangulacao_Confirmada": {
      "type": ["boolean", "null"],
      "description": "Se há triangulação confirmada no processo",
      "examples": [true, false]
    },
    "Desenho_Triangulacao": {
      "type": ["string", "null"],
      "description": "Padrão da triangulação identificada",
      "examples": ["A→B→C→A", "X↔Y↔Z", "—"]
    },
    "CNJs_Triangulacao": {
      "type": ["string", "null"],
      "description": "CNJs envolvidos na triangulação, separados por ';'",
      "examples": ["0001; 0002; 0003", "CNJ_A; CNJ_B; CNJ_C", "—"]
    },
    "Contem_Prova_Emprestada": {
      "type": ["boolean", "null"],
      "description": "Se o processo contém prova emprestada",
      "examples": [true, false]
    },
    "Testemunhas_Prova_Emprestada": {
      "type": ["string", "null"],
      "description": "Nomes das testemunhas de prova emprestada, separados por ';'",
      "examples": ["João Pereira", "João Pereira; Maria Santos", "—"]
    },
    "Classificacao_Final": {
      "type": ["string", "null"],
      "description": "Classificação de risco do processo",
      "enum": ["Risco Alto", "Risco Médio", "Risco Baixo", null],
      "examples": ["Risco Alto", "Risco Médio", "Risco Baixo"]
    },
    "Insight_Estrategico": {
      "type": ["string", "null"],
      "description": "Resumo dos principais achados estratégicos",
      "examples": [
        "Triangulação + prova emprestada",
        "Processo regular sem irregularidades",
        "Testemunha recorrente - monitorar"
      ]
    }
  },
  "required": [
    "CNJ",
    "UF",
    "Comarca",
    "Reclamantes",
    "Advogados_Ativo",
    "Todas_Testemunhas"
  ],
  "additionalProperties": false,
  "examples": [
    {
      "CNJ": "0001234-56.2024.5.01.0001",
      "Status": "Em andamento",
      "Fase": "Instrução",
      "UF": "RJ",
      "Comarca": "Rio de Janeiro",
      "Reclamantes": "Ana Lima",
      "Advogados_Ativo": "Dr. Xavier Silva; Dra. Yasmim Oliveira",
      "Testemunhas_Ativo": "João Pereira",
      "Testemunhas_Passivo": "—",
      "Todas_Testemunhas": "João Pereira; Beatriz Nunes",
      "Reclamante_Foi_Testemunha": true,
      "Qtd_Reclamante_Testemunha": 1,
      "CNJs_Reclamante_Testemunha": "0009876-12.2023.5.04.0002",
      "Reclamante_Testemunha_Polo_Passivo": false,
      "CNJs_Passivo": "—",
      "Triangulacao_Confirmada": true,
      "Desenho_Triangulacao": "A→B→C→A",
      "CNJs_Triangulacao": "0001; 0002; 0003",
      "Contem_Prova_Emprestada": true,
      "Testemunhas_Prova_Emprestada": "João Pereira",
      "Classificacao_Final": "Risco Alto",
      "Insight_Estrategico": "Triangulação + prova emprestada"
    }
  ]
}
