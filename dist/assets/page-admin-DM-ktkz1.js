const __vite__mapDeps = (
  i,
  m = __vite__mapDeps,
  d = m.f ||
    (m.f = [
      "assets/page-About-RKuI2z9S.js",
      "assets/vendor-xNGbxDip.js",
      "assets/page-Login-5_M3Gm0y.js",
      "assets/report-BQ8mdzYG.js",
      "assets/page-MapaPage-DdhKmZnw.js",
      "assets/page-DemoMapaTestemunhas-CBcv0AZO.js",
      "assets/page-PublicHome-De_9pnWE.js",
      "assets/page-NotFound-cpOlfL10.js",
      "assets/page-ReportDemo-BWE1-LYm.js",
    ]),
) => i.map((i) => d[i]);
import {
  r as P,
  c7 as Dy,
  R as A,
  c8 as kr,
  j as a,
  a8 as Tr,
  p as Pt,
  c9 as qa,
  ac as dt,
  v as Me,
  D as Gt,
  z as sr,
  ab as Qe,
  bc as fn,
  bx as dr,
  U as Ai,
  c2 as Ry,
  bB as Da,
  e as _n,
  ca as vo,
  g as _p,
  bo as Kt,
  d as Ly,
  cb as ac,
  cc as ka,
  x as ls,
  Y as zy,
  bk as By,
  bm as Op,
  bl as us,
  cd as En,
  a9 as Sp,
  ce as Fy,
  cf as cu,
  bd as lu,
  m as ds,
  a7 as Ap,
  cg as Vy,
  K as fr,
  N as Uy,
  bP as qy,
  w as Wa,
  h as It,
  bS as fs,
  c5 as uu,
  aa as Wy,
  be as Pp,
  o as Cp,
  ch as Gy,
  ci as Ep,
  cj as Ky,
  ck as Hy,
  cl as Xy,
  cm as Yy,
  cn as Tp,
  i as Jy,
  A as Zy,
  co as xo,
  c3 as Mr,
  cp as rr,
  Z as hs,
  cq as Pd,
  cr as Qy,
  cs as eb,
  bb as $p,
  n as tb,
  ct as rb,
  cu as nb,
  u as ab,
  by as ib,
  F as Cd,
  cv as sb,
  cw as ob,
  au as cb,
  ad as lb,
  cx as ub,
  E as db,
  am as Rc,
  cy as fb,
  cz as hb,
  cA as mb,
  a4 as pb,
} from "./vendor-xNGbxDip.js";
import {
  y as Oe,
  K as pe,
  g as st,
  C as M,
  j as B,
  k as F,
  l as re,
  m as R,
  D as la,
  a as L,
  n as Le,
  p as ze,
  b as H,
  s as te,
  _ as Ga,
  t as me,
  r as go,
  L as Ma,
  M as ic,
  v as Tt,
  G as vb,
  x as xb,
  S as Ed,
} from "./page-About-RKuI2z9S.js";
import {
  a as ft,
  i as Lc,
  w as Td,
  C as Tn,
  u as Ve,
  T as gr,
  c as yr,
  d as we,
  e as Pe,
  l as Ra,
  h as ms,
  I as $e,
  L as le,
  j as sc,
  k as gb,
} from "./page-Login-5_M3Gm0y.js";
import {
  D as hn,
  e as mn,
  f as or,
  g as cr,
  w as du,
  P as Pi,
  x as kp,
  y as Ci,
  S as tt,
  a as rt,
  b as nt,
  c as at,
  d as ue,
  A as fu,
  z as hu,
  B as mu,
  C as pu,
  F as vu,
  G as xu,
  H as gu,
  I as ps,
  s as Ei,
  J as yu,
  T as Mp,
  K as Ip,
  L as ss,
  M as zc,
} from "./page-MapaPage-DdhKmZnw.js";
import { S as $d } from "./page-PublicHome-De_9pnWE.js";
import {
  T as Ht,
  c as Xt,
  d as Ne,
  e as Z,
  f as Rt,
  g as X,
  P as yb,
  a as bb,
  b as jb,
} from "./page-DemoMapaTestemunhas-CBcv0AZO.js";
import { A as wb, f as $n, p as Ka } from "./page-ReportDemo-BWE1-LYm.js";
var Nb = Array.isArray,
  pt = Nb,
  _b =
    typeof globalThis == "object" &&
    globalThis &&
    globalThis.Object === Object &&
    globalThis,
  Dp = _b,
  Ob = Dp,
  Sb = typeof self == "object" && self && self.Object === Object && self,
  Ab = Ob || Sb || Function("return this")(),
  Zt = Ab,
  Pb = Zt,
  Cb = Pb.Symbol,
  Ti = Cb,
  kd = Ti,
  Rp = Object.prototype,
  Eb = Rp.hasOwnProperty,
  Tb = Rp.toString,
  Na = kd ? kd.toStringTag : void 0;
function $b(e) {
  var t = Eb.call(e, Na),
    r = e[Na];
  try {
    e[Na] = void 0;
    var n = !0;
  } catch {}
  var i = Tb.call(e);
  return (n && (t ? (e[Na] = r) : delete e[Na]), i);
}
var kb = $b,
  Mb = Object.prototype,
  Ib = Mb.toString;
function Db(e) {
  return Ib.call(e);
}
var Rb = Db,
  Md = Ti,
  Lb = kb,
  zb = Rb,
  Bb = "[object Null]",
  Fb = "[object Undefined]",
  Id = Md ? Md.toStringTag : void 0;
function Vb(e) {
  return e == null
    ? e === void 0
      ? Fb
      : Bb
    : Id && Id in Object(e)
      ? Lb(e)
      : zb(e);
}
var br = Vb;
function Ub(e) {
  return e != null && typeof e == "object";
}
var jr = Ub,
  qb = br,
  Wb = jr,
  Gb = "[object Symbol]";
function Kb(e) {
  return typeof e == "symbol" || (Wb(e) && qb(e) == Gb);
}
var ua = Kb,
  Hb = pt,
  Xb = ua,
  Yb = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
  Jb = /^\w*$/;
function Zb(e, t) {
  if (Hb(e)) return !1;
  var r = typeof e;
  return r == "number" || r == "symbol" || r == "boolean" || e == null || Xb(e)
    ? !0
    : Jb.test(e) || !Yb.test(e) || (t != null && e in Object(t));
}
var bu = Zb;
function Qb(e) {
  var t = typeof e;
  return e != null && (t == "object" || t == "function");
}
var Dr = Qb;
const da = Oe(Dr);
var ej = br,
  tj = Dr,
  rj = "[object AsyncFunction]",
  nj = "[object Function]",
  aj = "[object GeneratorFunction]",
  ij = "[object Proxy]";
function sj(e) {
  if (!tj(e)) return !1;
  var t = ej(e);
  return t == nj || t == aj || t == rj || t == ij;
}
var ju = sj;
const ce = Oe(ju);
var oj = Zt,
  cj = oj["__core-js_shared__"],
  lj = cj,
  oc = lj,
  Dd = (function () {
    var e = /[^.]+$/.exec((oc && oc.keys && oc.keys.IE_PROTO) || "");
    return e ? "Symbol(src)_1." + e : "";
  })();
function uj(e) {
  return !!Dd && Dd in e;
}
var dj = uj,
  fj = Function.prototype,
  hj = fj.toString;
function mj(e) {
  if (e != null) {
    try {
      return hj.call(e);
    } catch {}
    try {
      return e + "";
    } catch {}
  }
  return "";
}
var Lp = mj,
  pj = ju,
  vj = dj,
  xj = Dr,
  gj = Lp,
  yj = /[\\^$.*+?()[\]{}|]/g,
  bj = /^\[object .+?Constructor\]$/,
  jj = Function.prototype,
  wj = Object.prototype,
  Nj = jj.toString,
  _j = wj.hasOwnProperty,
  Oj = RegExp(
    "^" +
      Nj.call(_j)
        .replace(yj, "\\$&")
        .replace(
          /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
          "$1.*?",
        ) +
      "$",
  );
function Sj(e) {
  if (!xj(e) || vj(e)) return !1;
  var t = pj(e) ? Oj : bj;
  return t.test(gj(e));
}
var Aj = Sj;
function Pj(e, t) {
  return e?.[t];
}
var Cj = Pj,
  Ej = Aj,
  Tj = Cj;
function $j(e, t) {
  var r = Tj(e, t);
  return Ej(r) ? r : void 0;
}
var pn = $j,
  kj = pn,
  Mj = kj(Object, "create"),
  yo = Mj,
  Rd = yo;
function Ij() {
  ((this.__data__ = Rd ? Rd(null) : {}), (this.size = 0));
}
var Dj = Ij;
function Rj(e) {
  var t = this.has(e) && delete this.__data__[e];
  return ((this.size -= t ? 1 : 0), t);
}
var Lj = Rj,
  zj = yo,
  Bj = "__lodash_hash_undefined__",
  Fj = Object.prototype,
  Vj = Fj.hasOwnProperty;
function Uj(e) {
  var t = this.__data__;
  if (zj) {
    var r = t[e];
    return r === Bj ? void 0 : r;
  }
  return Vj.call(t, e) ? t[e] : void 0;
}
var qj = Uj,
  Wj = yo,
  Gj = Object.prototype,
  Kj = Gj.hasOwnProperty;
function Hj(e) {
  var t = this.__data__;
  return Wj ? t[e] !== void 0 : Kj.call(t, e);
}
var Xj = Hj,
  Yj = yo,
  Jj = "__lodash_hash_undefined__";
function Zj(e, t) {
  var r = this.__data__;
  return (
    (this.size += this.has(e) ? 0 : 1),
    (r[e] = Yj && t === void 0 ? Jj : t),
    this
  );
}
var Qj = Zj,
  e0 = Dj,
  t0 = Lj,
  r0 = qj,
  n0 = Xj,
  a0 = Qj;
function fa(e) {
  var t = -1,
    r = e == null ? 0 : e.length;
  for (this.clear(); ++t < r; ) {
    var n = e[t];
    this.set(n[0], n[1]);
  }
}
fa.prototype.clear = e0;
fa.prototype.delete = t0;
fa.prototype.get = r0;
fa.prototype.has = n0;
fa.prototype.set = a0;
var i0 = fa;
function s0() {
  ((this.__data__ = []), (this.size = 0));
}
var o0 = s0;
function c0(e, t) {
  return e === t || (e !== e && t !== t);
}
var wu = c0,
  l0 = wu;
function u0(e, t) {
  for (var r = e.length; r--; ) if (l0(e[r][0], t)) return r;
  return -1;
}
var bo = u0,
  d0 = bo,
  f0 = Array.prototype,
  h0 = f0.splice;
function m0(e) {
  var t = this.__data__,
    r = d0(t, e);
  if (r < 0) return !1;
  var n = t.length - 1;
  return (r == n ? t.pop() : h0.call(t, r, 1), --this.size, !0);
}
var p0 = m0,
  v0 = bo;
function x0(e) {
  var t = this.__data__,
    r = v0(t, e);
  return r < 0 ? void 0 : t[r][1];
}
var g0 = x0,
  y0 = bo;
function b0(e) {
  return y0(this.__data__, e) > -1;
}
var j0 = b0,
  w0 = bo;
function N0(e, t) {
  var r = this.__data__,
    n = w0(r, e);
  return (n < 0 ? (++this.size, r.push([e, t])) : (r[n][1] = t), this);
}
var _0 = N0,
  O0 = o0,
  S0 = p0,
  A0 = g0,
  P0 = j0,
  C0 = _0;
function ha(e) {
  var t = -1,
    r = e == null ? 0 : e.length;
  for (this.clear(); ++t < r; ) {
    var n = e[t];
    this.set(n[0], n[1]);
  }
}
ha.prototype.clear = O0;
ha.prototype.delete = S0;
ha.prototype.get = A0;
ha.prototype.has = P0;
ha.prototype.set = C0;
var jo = ha,
  E0 = pn,
  T0 = Zt,
  $0 = E0(T0, "Map"),
  Nu = $0,
  Ld = i0,
  k0 = jo,
  M0 = Nu;
function I0() {
  ((this.size = 0),
    (this.__data__ = {
      hash: new Ld(),
      map: new (M0 || k0)(),
      string: new Ld(),
    }));
}
var D0 = I0;
function R0(e) {
  var t = typeof e;
  return t == "string" || t == "number" || t == "symbol" || t == "boolean"
    ? e !== "__proto__"
    : e === null;
}
var L0 = R0,
  z0 = L0;
function B0(e, t) {
  var r = e.__data__;
  return z0(t) ? r[typeof t == "string" ? "string" : "hash"] : r.map;
}
var wo = B0,
  F0 = wo;
function V0(e) {
  var t = F0(this, e).delete(e);
  return ((this.size -= t ? 1 : 0), t);
}
var U0 = V0,
  q0 = wo;
function W0(e) {
  return q0(this, e).get(e);
}
var G0 = W0,
  K0 = wo;
function H0(e) {
  return K0(this, e).has(e);
}
var X0 = H0,
  Y0 = wo;
function J0(e, t) {
  var r = Y0(this, e),
    n = r.size;
  return (r.set(e, t), (this.size += r.size == n ? 0 : 1), this);
}
var Z0 = J0,
  Q0 = D0,
  ew = U0,
  tw = G0,
  rw = X0,
  nw = Z0;
function ma(e) {
  var t = -1,
    r = e == null ? 0 : e.length;
  for (this.clear(); ++t < r; ) {
    var n = e[t];
    this.set(n[0], n[1]);
  }
}
ma.prototype.clear = Q0;
ma.prototype.delete = ew;
ma.prototype.get = tw;
ma.prototype.has = rw;
ma.prototype.set = nw;
var _u = ma,
  zp = _u,
  aw = "Expected a function";
function Ou(e, t) {
  if (typeof e != "function" || (t != null && typeof t != "function"))
    throw new TypeError(aw);
  var r = function () {
    var n = arguments,
      i = t ? t.apply(this, n) : n[0],
      s = r.cache;
    if (s.has(i)) return s.get(i);
    var o = e.apply(this, n);
    return ((r.cache = s.set(i, o) || s), o);
  };
  return ((r.cache = new (Ou.Cache || zp)()), r);
}
Ou.Cache = zp;
var Bp = Ou;
const iw = Oe(Bp);
var sw = Bp,
  ow = 500;
function cw(e) {
  var t = sw(e, function (n) {
      return (r.size === ow && r.clear(), n);
    }),
    r = t.cache;
  return t;
}
var lw = cw,
  uw = lw,
  dw =
    /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
  fw = /\\(\\)?/g,
  hw = uw(function (e) {
    var t = [];
    return (
      e.charCodeAt(0) === 46 && t.push(""),
      e.replace(dw, function (r, n, i, s) {
        t.push(i ? s.replace(fw, "$1") : n || r);
      }),
      t
    );
  }),
  mw = hw;
function pw(e, t) {
  for (var r = -1, n = e == null ? 0 : e.length, i = Array(n); ++r < n; )
    i[r] = t(e[r], r, e);
  return i;
}
var Su = pw,
  zd = Ti,
  vw = Su,
  xw = pt,
  gw = ua,
  Bd = zd ? zd.prototype : void 0,
  Fd = Bd ? Bd.toString : void 0;
function Fp(e) {
  if (typeof e == "string") return e;
  if (xw(e)) return vw(e, Fp) + "";
  if (gw(e)) return Fd ? Fd.call(e) : "";
  var t = e + "";
  return t == "0" && 1 / e == -1 / 0 ? "-0" : t;
}
var yw = Fp,
  bw = yw;
function jw(e) {
  return e == null ? "" : bw(e);
}
var Vp = jw,
  ww = pt,
  Nw = bu,
  _w = mw,
  Ow = Vp;
function Sw(e, t) {
  return ww(e) ? e : Nw(e, t) ? [e] : _w(Ow(e));
}
var Up = Sw,
  Aw = ua;
function Pw(e) {
  if (typeof e == "string" || Aw(e)) return e;
  var t = e + "";
  return t == "0" && 1 / e == -1 / 0 ? "-0" : t;
}
var No = Pw,
  Cw = Up,
  Ew = No;
function Tw(e, t) {
  t = Cw(t, e);
  for (var r = 0, n = t.length; e != null && r < n; ) e = e[Ew(t[r++])];
  return r && r == n ? e : void 0;
}
var Au = Tw,
  $w = Au;
function kw(e, t, r) {
  var n = e == null ? void 0 : $w(e, t);
  return n === void 0 ? r : n;
}
var qp = kw;
const bt = Oe(qp);
function Mw(e) {
  return e == null;
}
var Iw = Mw;
const fe = Oe(Iw);
var Dw = br,
  Rw = pt,
  Lw = jr,
  zw = "[object String]";
function Bw(e) {
  return typeof e == "string" || (!Rw(e) && Lw(e) && Dw(e) == zw);
}
var Fw = Bw;
const nn = Oe(Fw);
var Vw = br,
  Uw = jr,
  qw = "[object Number]";
function Ww(e) {
  return typeof e == "number" || (Uw(e) && Vw(e) == qw);
}
var Wp = Ww;
const Gw = Oe(Wp);
var Kw = Wp;
function Hw(e) {
  return Kw(e) && e != +e;
}
var Xw = Hw;
const pa = Oe(Xw);
var ct = function (t) {
    return t === 0 ? 0 : t > 0 ? 1 : -1;
  },
  Xr = function (t) {
    return nn(t) && t.indexOf("%") === t.length - 1;
  },
  W = function (t) {
    return Gw(t) && !pa(t);
  },
  Yw = function (t) {
    return fe(t);
  },
  Xe = function (t) {
    return W(t) || nn(t);
  },
  Jw = 0,
  vn = function (t) {
    var r = ++Jw;
    return "".concat(t || "").concat(r);
  },
  lt = function (t, r) {
    var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0,
      i = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
    if (!W(t) && !nn(t)) return n;
    var s;
    if (Xr(t)) {
      var o = t.indexOf("%");
      s = (r * parseFloat(t.slice(0, o))) / 100;
    } else s = +t;
    return (pa(s) && (s = n), i && s > r && (s = r), s);
  },
  Pr = function (t) {
    if (!t) return null;
    var r = Object.keys(t);
    return r && r.length ? t[r[0]] : null;
  },
  Zw = function (t) {
    if (!Array.isArray(t)) return !1;
    for (var r = t.length, n = {}, i = 0; i < r; i++)
      if (!n[t[i]]) n[t[i]] = !0;
      else return !0;
    return !1;
  },
  He = function (t, r) {
    return W(t) && W(r)
      ? function (n) {
          return t + n * (r - t);
        }
      : function () {
          return r;
        };
  };
function vs(e, t, r) {
  return !e || !e.length
    ? null
    : e.find(function (n) {
        return n && (typeof t == "function" ? t(n) : bt(n, t)) === r;
      });
}
var Qw = function (t, r) {
  return W(t) && W(r)
    ? t - r
    : nn(t) && nn(r)
      ? t.localeCompare(r)
      : t instanceof Date && r instanceof Date
        ? t.getTime() - r.getTime()
        : String(t).localeCompare(String(r));
};
function kn(e, t) {
  for (var r in e)
    if (
      {}.hasOwnProperty.call(e, r) &&
      (!{}.hasOwnProperty.call(t, r) || e[r] !== t[r])
    )
      return !1;
  for (var n in t)
    if ({}.hasOwnProperty.call(t, n) && !{}.hasOwnProperty.call(e, n))
      return !1;
  return !0;
}
function Bc(e) {
  "@babel/helpers - typeof";
  return (
    (Bc =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Bc(e)
  );
}
var eN = ["viewBox", "children"],
  tN = [
    "aria-activedescendant",
    "aria-atomic",
    "aria-autocomplete",
    "aria-busy",
    "aria-checked",
    "aria-colcount",
    "aria-colindex",
    "aria-colspan",
    "aria-controls",
    "aria-current",
    "aria-describedby",
    "aria-details",
    "aria-disabled",
    "aria-errormessage",
    "aria-expanded",
    "aria-flowto",
    "aria-haspopup",
    "aria-hidden",
    "aria-invalid",
    "aria-keyshortcuts",
    "aria-label",
    "aria-labelledby",
    "aria-level",
    "aria-live",
    "aria-modal",
    "aria-multiline",
    "aria-multiselectable",
    "aria-orientation",
    "aria-owns",
    "aria-placeholder",
    "aria-posinset",
    "aria-pressed",
    "aria-readonly",
    "aria-relevant",
    "aria-required",
    "aria-roledescription",
    "aria-rowcount",
    "aria-rowindex",
    "aria-rowspan",
    "aria-selected",
    "aria-setsize",
    "aria-sort",
    "aria-valuemax",
    "aria-valuemin",
    "aria-valuenow",
    "aria-valuetext",
    "className",
    "color",
    "height",
    "id",
    "lang",
    "max",
    "media",
    "method",
    "min",
    "name",
    "style",
    "target",
    "width",
    "role",
    "tabIndex",
    "accentHeight",
    "accumulate",
    "additive",
    "alignmentBaseline",
    "allowReorder",
    "alphabetic",
    "amplitude",
    "arabicForm",
    "ascent",
    "attributeName",
    "attributeType",
    "autoReverse",
    "azimuth",
    "baseFrequency",
    "baselineShift",
    "baseProfile",
    "bbox",
    "begin",
    "bias",
    "by",
    "calcMode",
    "capHeight",
    "clip",
    "clipPath",
    "clipPathUnits",
    "clipRule",
    "colorInterpolation",
    "colorInterpolationFilters",
    "colorProfile",
    "colorRendering",
    "contentScriptType",
    "contentStyleType",
    "cursor",
    "cx",
    "cy",
    "d",
    "decelerate",
    "descent",
    "diffuseConstant",
    "direction",
    "display",
    "divisor",
    "dominantBaseline",
    "dur",
    "dx",
    "dy",
    "edgeMode",
    "elevation",
    "enableBackground",
    "end",
    "exponent",
    "externalResourcesRequired",
    "fill",
    "fillOpacity",
    "fillRule",
    "filter",
    "filterRes",
    "filterUnits",
    "floodColor",
    "floodOpacity",
    "focusable",
    "fontFamily",
    "fontSize",
    "fontSizeAdjust",
    "fontStretch",
    "fontStyle",
    "fontVariant",
    "fontWeight",
    "format",
    "from",
    "fx",
    "fy",
    "g1",
    "g2",
    "glyphName",
    "glyphOrientationHorizontal",
    "glyphOrientationVertical",
    "glyphRef",
    "gradientTransform",
    "gradientUnits",
    "hanging",
    "horizAdvX",
    "horizOriginX",
    "href",
    "ideographic",
    "imageRendering",
    "in2",
    "in",
    "intercept",
    "k1",
    "k2",
    "k3",
    "k4",
    "k",
    "kernelMatrix",
    "kernelUnitLength",
    "kerning",
    "keyPoints",
    "keySplines",
    "keyTimes",
    "lengthAdjust",
    "letterSpacing",
    "lightingColor",
    "limitingConeAngle",
    "local",
    "markerEnd",
    "markerHeight",
    "markerMid",
    "markerStart",
    "markerUnits",
    "markerWidth",
    "mask",
    "maskContentUnits",
    "maskUnits",
    "mathematical",
    "mode",
    "numOctaves",
    "offset",
    "opacity",
    "operator",
    "order",
    "orient",
    "orientation",
    "origin",
    "overflow",
    "overlinePosition",
    "overlineThickness",
    "paintOrder",
    "panose1",
    "pathLength",
    "patternContentUnits",
    "patternTransform",
    "patternUnits",
    "pointerEvents",
    "pointsAtX",
    "pointsAtY",
    "pointsAtZ",
    "preserveAlpha",
    "preserveAspectRatio",
    "primitiveUnits",
    "r",
    "radius",
    "refX",
    "refY",
    "renderingIntent",
    "repeatCount",
    "repeatDur",
    "requiredExtensions",
    "requiredFeatures",
    "restart",
    "result",
    "rotate",
    "rx",
    "ry",
    "seed",
    "shapeRendering",
    "slope",
    "spacing",
    "specularConstant",
    "specularExponent",
    "speed",
    "spreadMethod",
    "startOffset",
    "stdDeviation",
    "stemh",
    "stemv",
    "stitchTiles",
    "stopColor",
    "stopOpacity",
    "strikethroughPosition",
    "strikethroughThickness",
    "string",
    "stroke",
    "strokeDasharray",
    "strokeDashoffset",
    "strokeLinecap",
    "strokeLinejoin",
    "strokeMiterlimit",
    "strokeOpacity",
    "strokeWidth",
    "surfaceScale",
    "systemLanguage",
    "tableValues",
    "targetX",
    "targetY",
    "textAnchor",
    "textDecoration",
    "textLength",
    "textRendering",
    "to",
    "transform",
    "u1",
    "u2",
    "underlinePosition",
    "underlineThickness",
    "unicode",
    "unicodeBidi",
    "unicodeRange",
    "unitsPerEm",
    "vAlphabetic",
    "values",
    "vectorEffect",
    "version",
    "vertAdvY",
    "vertOriginX",
    "vertOriginY",
    "vHanging",
    "vIdeographic",
    "viewTarget",
    "visibility",
    "vMathematical",
    "widths",
    "wordSpacing",
    "writingMode",
    "x1",
    "x2",
    "x",
    "xChannelSelector",
    "xHeight",
    "xlinkActuate",
    "xlinkArcrole",
    "xlinkHref",
    "xlinkRole",
    "xlinkShow",
    "xlinkTitle",
    "xlinkType",
    "xmlBase",
    "xmlLang",
    "xmlns",
    "xmlnsXlink",
    "xmlSpace",
    "y1",
    "y2",
    "y",
    "yChannelSelector",
    "z",
    "zoomAndPan",
    "ref",
    "key",
    "angle",
  ],
  Vd = ["points", "pathLength"],
  cc = { svg: eN, polygon: Vd, polyline: Vd },
  Pu = [
    "dangerouslySetInnerHTML",
    "onCopy",
    "onCopyCapture",
    "onCut",
    "onCutCapture",
    "onPaste",
    "onPasteCapture",
    "onCompositionEnd",
    "onCompositionEndCapture",
    "onCompositionStart",
    "onCompositionStartCapture",
    "onCompositionUpdate",
    "onCompositionUpdateCapture",
    "onFocus",
    "onFocusCapture",
    "onBlur",
    "onBlurCapture",
    "onChange",
    "onChangeCapture",
    "onBeforeInput",
    "onBeforeInputCapture",
    "onInput",
    "onInputCapture",
    "onReset",
    "onResetCapture",
    "onSubmit",
    "onSubmitCapture",
    "onInvalid",
    "onInvalidCapture",
    "onLoad",
    "onLoadCapture",
    "onError",
    "onErrorCapture",
    "onKeyDown",
    "onKeyDownCapture",
    "onKeyPress",
    "onKeyPressCapture",
    "onKeyUp",
    "onKeyUpCapture",
    "onAbort",
    "onAbortCapture",
    "onCanPlay",
    "onCanPlayCapture",
    "onCanPlayThrough",
    "onCanPlayThroughCapture",
    "onDurationChange",
    "onDurationChangeCapture",
    "onEmptied",
    "onEmptiedCapture",
    "onEncrypted",
    "onEncryptedCapture",
    "onEnded",
    "onEndedCapture",
    "onLoadedData",
    "onLoadedDataCapture",
    "onLoadedMetadata",
    "onLoadedMetadataCapture",
    "onLoadStart",
    "onLoadStartCapture",
    "onPause",
    "onPauseCapture",
    "onPlay",
    "onPlayCapture",
    "onPlaying",
    "onPlayingCapture",
    "onProgress",
    "onProgressCapture",
    "onRateChange",
    "onRateChangeCapture",
    "onSeeked",
    "onSeekedCapture",
    "onSeeking",
    "onSeekingCapture",
    "onStalled",
    "onStalledCapture",
    "onSuspend",
    "onSuspendCapture",
    "onTimeUpdate",
    "onTimeUpdateCapture",
    "onVolumeChange",
    "onVolumeChangeCapture",
    "onWaiting",
    "onWaitingCapture",
    "onAuxClick",
    "onAuxClickCapture",
    "onClick",
    "onClickCapture",
    "onContextMenu",
    "onContextMenuCapture",
    "onDoubleClick",
    "onDoubleClickCapture",
    "onDrag",
    "onDragCapture",
    "onDragEnd",
    "onDragEndCapture",
    "onDragEnter",
    "onDragEnterCapture",
    "onDragExit",
    "onDragExitCapture",
    "onDragLeave",
    "onDragLeaveCapture",
    "onDragOver",
    "onDragOverCapture",
    "onDragStart",
    "onDragStartCapture",
    "onDrop",
    "onDropCapture",
    "onMouseDown",
    "onMouseDownCapture",
    "onMouseEnter",
    "onMouseLeave",
    "onMouseMove",
    "onMouseMoveCapture",
    "onMouseOut",
    "onMouseOutCapture",
    "onMouseOver",
    "onMouseOverCapture",
    "onMouseUp",
    "onMouseUpCapture",
    "onSelect",
    "onSelectCapture",
    "onTouchCancel",
    "onTouchCancelCapture",
    "onTouchEnd",
    "onTouchEndCapture",
    "onTouchMove",
    "onTouchMoveCapture",
    "onTouchStart",
    "onTouchStartCapture",
    "onPointerDown",
    "onPointerDownCapture",
    "onPointerMove",
    "onPointerMoveCapture",
    "onPointerUp",
    "onPointerUpCapture",
    "onPointerCancel",
    "onPointerCancelCapture",
    "onPointerEnter",
    "onPointerEnterCapture",
    "onPointerLeave",
    "onPointerLeaveCapture",
    "onPointerOver",
    "onPointerOverCapture",
    "onPointerOut",
    "onPointerOutCapture",
    "onGotPointerCapture",
    "onGotPointerCaptureCapture",
    "onLostPointerCapture",
    "onLostPointerCaptureCapture",
    "onScroll",
    "onScrollCapture",
    "onWheel",
    "onWheelCapture",
    "onAnimationStart",
    "onAnimationStartCapture",
    "onAnimationEnd",
    "onAnimationEndCapture",
    "onAnimationIteration",
    "onAnimationIterationCapture",
    "onTransitionEnd",
    "onTransitionEndCapture",
  ],
  xs = function (t, r) {
    if (!t || typeof t == "function" || typeof t == "boolean") return null;
    var n = t;
    if ((P.isValidElement(t) && (n = t.props), !da(n))) return null;
    var i = {};
    return (
      Object.keys(n).forEach(function (s) {
        Pu.includes(s) &&
          (i[s] =
            r ||
            function (o) {
              return n[s](n, o);
            });
      }),
      i
    );
  },
  rN = function (t, r, n) {
    return function (i) {
      return (t(r, n, i), null);
    };
  },
  an = function (t, r, n) {
    if (!da(t) || Bc(t) !== "object") return null;
    var i = null;
    return (
      Object.keys(t).forEach(function (s) {
        var o = t[s];
        Pu.includes(s) &&
          typeof o == "function" &&
          (i || (i = {}), (i[s] = rN(o, r, n)));
      }),
      i
    );
  },
  nN = ["children"],
  aN = ["children"];
function Ud(e, t) {
  if (e == null) return {};
  var r = iN(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function iN(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function Fc(e) {
  "@babel/helpers - typeof";
  return (
    (Fc =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Fc(e)
  );
}
var qd = {
    click: "onClick",
    mousedown: "onMouseDown",
    mouseup: "onMouseUp",
    mouseover: "onMouseOver",
    mousemove: "onMouseMove",
    mouseout: "onMouseOut",
    mouseenter: "onMouseEnter",
    mouseleave: "onMouseLeave",
    touchcancel: "onTouchCancel",
    touchend: "onTouchEnd",
    touchmove: "onTouchMove",
    touchstart: "onTouchStart",
    contextmenu: "onContextMenu",
    dblclick: "onDoubleClick",
  },
  lr = function (t) {
    return typeof t == "string"
      ? t
      : t
        ? t.displayName || t.name || "Component"
        : "";
  },
  Wd = null,
  lc = null,
  Cu = function e(t) {
    if (t === Wd && Array.isArray(lc)) return lc;
    var r = [];
    return (
      P.Children.forEach(t, function (n) {
        fe(n) ||
          (Dy.isFragment(n) ? (r = r.concat(e(n.props.children))) : r.push(n));
      }),
      (lc = r),
      (Wd = t),
      r
    );
  };
function jt(e, t) {
  var r = [],
    n = [];
  return (
    Array.isArray(t)
      ? (n = t.map(function (i) {
          return lr(i);
        }))
      : (n = [lr(t)]),
    Cu(e).forEach(function (i) {
      var s = bt(i, "type.displayName") || bt(i, "type.name");
      n.indexOf(s) !== -1 && r.push(i);
    }),
    r
  );
}
function gt(e, t) {
  var r = jt(e, t);
  return r && r[0];
}
var Gd = function (t) {
    if (!t || !t.props) return !1;
    var r = t.props,
      n = r.width,
      i = r.height;
    return !(!W(n) || n <= 0 || !W(i) || i <= 0);
  },
  sN = [
    "a",
    "altGlyph",
    "altGlyphDef",
    "altGlyphItem",
    "animate",
    "animateColor",
    "animateMotion",
    "animateTransform",
    "circle",
    "clipPath",
    "color-profile",
    "cursor",
    "defs",
    "desc",
    "ellipse",
    "feBlend",
    "feColormatrix",
    "feComponentTransfer",
    "feComposite",
    "feConvolveMatrix",
    "feDiffuseLighting",
    "feDisplacementMap",
    "feDistantLight",
    "feFlood",
    "feFuncA",
    "feFuncB",
    "feFuncG",
    "feFuncR",
    "feGaussianBlur",
    "feImage",
    "feMerge",
    "feMergeNode",
    "feMorphology",
    "feOffset",
    "fePointLight",
    "feSpecularLighting",
    "feSpotLight",
    "feTile",
    "feTurbulence",
    "filter",
    "font",
    "font-face",
    "font-face-format",
    "font-face-name",
    "font-face-url",
    "foreignObject",
    "g",
    "glyph",
    "glyphRef",
    "hkern",
    "image",
    "line",
    "lineGradient",
    "marker",
    "mask",
    "metadata",
    "missing-glyph",
    "mpath",
    "path",
    "pattern",
    "polygon",
    "polyline",
    "radialGradient",
    "rect",
    "script",
    "set",
    "stop",
    "style",
    "svg",
    "switch",
    "symbol",
    "text",
    "textPath",
    "title",
    "tref",
    "tspan",
    "use",
    "view",
    "vkern",
  ],
  oN = function (t) {
    return t && t.type && nn(t.type) && sN.indexOf(t.type) >= 0;
  },
  Gp = function (t) {
    return t && Fc(t) === "object" && "clipDot" in t;
  },
  cN = function (t, r, n, i) {
    var s,
      o = (s = cc?.[i]) !== null && s !== void 0 ? s : [];
    return (
      r.startsWith("data-") ||
      (!ce(t) && ((i && o.includes(r)) || tN.includes(r))) ||
      (n && Pu.includes(r))
    );
  },
  ne = function (t, r, n) {
    if (!t || typeof t == "function" || typeof t == "boolean") return null;
    var i = t;
    if ((P.isValidElement(t) && (i = t.props), !da(i))) return null;
    var s = {};
    return (
      Object.keys(i).forEach(function (o) {
        var c;
        cN((c = i) === null || c === void 0 ? void 0 : c[o], o, r, n) &&
          (s[o] = i[o]);
      }),
      s
    );
  },
  Vc = function e(t, r) {
    if (t === r) return !0;
    var n = P.Children.count(t);
    if (n !== P.Children.count(r)) return !1;
    if (n === 0) return !0;
    if (n === 1)
      return Kd(Array.isArray(t) ? t[0] : t, Array.isArray(r) ? r[0] : r);
    for (var i = 0; i < n; i++) {
      var s = t[i],
        o = r[i];
      if (Array.isArray(s) || Array.isArray(o)) {
        if (!e(s, o)) return !1;
      } else if (!Kd(s, o)) return !1;
    }
    return !0;
  },
  Kd = function (t, r) {
    if (fe(t) && fe(r)) return !0;
    if (!fe(t) && !fe(r)) {
      var n = t.props || {},
        i = n.children,
        s = Ud(n, nN),
        o = r.props || {},
        c = o.children,
        l = Ud(o, aN);
      return i && c ? kn(s, l) && Vc(i, c) : !i && !c ? kn(s, l) : !1;
    }
    return !1;
  },
  Hd = function (t, r) {
    var n = [],
      i = {};
    return (
      Cu(t).forEach(function (s, o) {
        if (oN(s)) n.push(s);
        else if (s) {
          var c = lr(s.type),
            l = r[c] || {},
            u = l.handler,
            f = l.once;
          if (u && (!f || !i[c])) {
            var d = u(s, c, o);
            (n.push(d), (i[c] = !0));
          }
        }
      }),
      n
    );
  },
  lN = function (t) {
    var r = t && t.type;
    return r && qd[r] ? qd[r] : null;
  },
  uN = function (t, r) {
    return Cu(r).indexOf(t);
  },
  dN = [
    "children",
    "width",
    "height",
    "viewBox",
    "className",
    "style",
    "title",
    "desc",
  ];
function Uc() {
  return (
    (Uc = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Uc.apply(this, arguments)
  );
}
function fN(e, t) {
  if (e == null) return {};
  var r = hN(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function hN(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function qc(e) {
  var t = e.children,
    r = e.width,
    n = e.height,
    i = e.viewBox,
    s = e.className,
    o = e.style,
    c = e.title,
    l = e.desc,
    u = fN(e, dN),
    f = i || { width: r, height: n, x: 0, y: 0 },
    d = pe("recharts-surface", s);
  return A.createElement(
    "svg",
    Uc({}, ne(u, !0, "svg"), {
      className: d,
      width: r,
      height: n,
      style: o,
      viewBox: ""
        .concat(f.x, " ")
        .concat(f.y, " ")
        .concat(f.width, " ")
        .concat(f.height),
    }),
    A.createElement("title", null, c),
    A.createElement("desc", null, l),
    t,
  );
}
var mN = ["children", "className"];
function Wc() {
  return (
    (Wc = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Wc.apply(this, arguments)
  );
}
function pN(e, t) {
  if (e == null) return {};
  var r = vN(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function vN(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
var xe = A.forwardRef(function (e, t) {
    var r = e.children,
      n = e.className,
      i = pN(e, mN),
      s = pe("recharts-layer", n);
    return A.createElement("g", Wc({ className: s }, ne(i, !0), { ref: t }), r);
  }),
  Dt = function (t, r) {
    for (
      var n = arguments.length, i = new Array(n > 2 ? n - 2 : 0), s = 2;
      s < n;
      s++
    )
      i[s - 2] = arguments[s];
  };
function xN(e, t, r) {
  var n = -1,
    i = e.length;
  (t < 0 && (t = -t > i ? 0 : i + t),
    (r = r > i ? i : r),
    r < 0 && (r += i),
    (i = t > r ? 0 : (r - t) >>> 0),
    (t >>>= 0));
  for (var s = Array(i); ++n < i; ) s[n] = e[n + t];
  return s;
}
var gN = xN,
  yN = gN;
function bN(e, t, r) {
  var n = e.length;
  return ((r = r === void 0 ? n : r), !t && r >= n ? e : yN(e, t, r));
}
var jN = bN,
  wN = "\\ud800-\\udfff",
  NN = "\\u0300-\\u036f",
  _N = "\\ufe20-\\ufe2f",
  ON = "\\u20d0-\\u20ff",
  SN = NN + _N + ON,
  AN = "\\ufe0e\\ufe0f",
  PN = "\\u200d",
  CN = RegExp("[" + PN + wN + SN + AN + "]");
function EN(e) {
  return CN.test(e);
}
var Kp = EN;
function TN(e) {
  return e.split("");
}
var $N = TN,
  Hp = "\\ud800-\\udfff",
  kN = "\\u0300-\\u036f",
  MN = "\\ufe20-\\ufe2f",
  IN = "\\u20d0-\\u20ff",
  DN = kN + MN + IN,
  RN = "\\ufe0e\\ufe0f",
  LN = "[" + Hp + "]",
  Gc = "[" + DN + "]",
  Kc = "\\ud83c[\\udffb-\\udfff]",
  zN = "(?:" + Gc + "|" + Kc + ")",
  Xp = "[^" + Hp + "]",
  Yp = "(?:\\ud83c[\\udde6-\\uddff]){2}",
  Jp = "[\\ud800-\\udbff][\\udc00-\\udfff]",
  BN = "\\u200d",
  Zp = zN + "?",
  Qp = "[" + RN + "]?",
  FN = "(?:" + BN + "(?:" + [Xp, Yp, Jp].join("|") + ")" + Qp + Zp + ")*",
  VN = Qp + Zp + FN,
  UN = "(?:" + [Xp + Gc + "?", Gc, Yp, Jp, LN].join("|") + ")",
  qN = RegExp(Kc + "(?=" + Kc + ")|" + UN + VN, "g");
function WN(e) {
  return e.match(qN) || [];
}
var GN = WN,
  KN = $N,
  HN = Kp,
  XN = GN;
function YN(e) {
  return HN(e) ? XN(e) : KN(e);
}
var JN = YN,
  ZN = jN,
  QN = Kp,
  e_ = JN,
  t_ = Vp;
function r_(e) {
  return function (t) {
    t = t_(t);
    var r = QN(t) ? e_(t) : void 0,
      n = r ? r[0] : t.charAt(0),
      i = r ? ZN(r, 1).join("") : t.slice(1);
    return n[e]() + i;
  };
}
var n_ = r_,
  a_ = n_,
  i_ = a_("toUpperCase"),
  s_ = i_;
const _o = Oe(s_);
function Ae(e) {
  return function () {
    return e;
  };
}
const ev = Math.cos,
  gs = Math.sin,
  Lt = Math.sqrt,
  ys = Math.PI,
  Oo = 2 * ys,
  Hc = Math.PI,
  Xc = 2 * Hc,
  Wr = 1e-6,
  o_ = Xc - Wr;
function tv(e) {
  this._ += e[0];
  for (let t = 1, r = e.length; t < r; ++t) this._ += arguments[t] + e[t];
}
function c_(e) {
  let t = Math.floor(e);
  if (!(t >= 0)) throw new Error(`invalid digits: ${e}`);
  if (t > 15) return tv;
  const r = 10 ** t;
  return function (n) {
    this._ += n[0];
    for (let i = 1, s = n.length; i < s; ++i)
      this._ += Math.round(arguments[i] * r) / r + n[i];
  };
}
class l_ {
  constructor(t) {
    ((this._x0 = this._y0 = this._x1 = this._y1 = null),
      (this._ = ""),
      (this._append = t == null ? tv : c_(t)));
  }
  moveTo(t, r) {
    this._append`M${(this._x0 = this._x1 = +t)},${(this._y0 = this._y1 = +r)}`;
  }
  closePath() {
    this._x1 !== null &&
      ((this._x1 = this._x0), (this._y1 = this._y0), this._append`Z`);
  }
  lineTo(t, r) {
    this._append`L${(this._x1 = +t)},${(this._y1 = +r)}`;
  }
  quadraticCurveTo(t, r, n, i) {
    this._append`Q${+t},${+r},${(this._x1 = +n)},${(this._y1 = +i)}`;
  }
  bezierCurveTo(t, r, n, i, s, o) {
    this
      ._append`C${+t},${+r},${+n},${+i},${(this._x1 = +s)},${(this._y1 = +o)}`;
  }
  arcTo(t, r, n, i, s) {
    if (((t = +t), (r = +r), (n = +n), (i = +i), (s = +s), s < 0))
      throw new Error(`negative radius: ${s}`);
    let o = this._x1,
      c = this._y1,
      l = n - t,
      u = i - r,
      f = o - t,
      d = c - r,
      h = f * f + d * d;
    if (this._x1 === null) this._append`M${(this._x1 = t)},${(this._y1 = r)}`;
    else if (h > Wr)
      if (!(Math.abs(d * l - u * f) > Wr) || !s)
        this._append`L${(this._x1 = t)},${(this._y1 = r)}`;
      else {
        let m = n - o,
          v = i - c,
          p = l * l + u * u,
          x = m * m + v * v,
          g = Math.sqrt(p),
          b = Math.sqrt(h),
          N = s * Math.tan((Hc - Math.acos((p + h - x) / (2 * g * b))) / 2),
          _ = N / b,
          y = N / g;
        (Math.abs(_ - 1) > Wr && this._append`L${t + _ * f},${r + _ * d}`,
          this
            ._append`A${s},${s},0,0,${+(d * m > f * v)},${(this._x1 = t + y * l)},${(this._y1 = r + y * u)}`);
      }
  }
  arc(t, r, n, i, s, o) {
    if (((t = +t), (r = +r), (n = +n), (o = !!o), n < 0))
      throw new Error(`negative radius: ${n}`);
    let c = n * Math.cos(i),
      l = n * Math.sin(i),
      u = t + c,
      f = r + l,
      d = 1 ^ o,
      h = o ? i - s : s - i;
    (this._x1 === null
      ? this._append`M${u},${f}`
      : (Math.abs(this._x1 - u) > Wr || Math.abs(this._y1 - f) > Wr) &&
        this._append`L${u},${f}`,
      n &&
        (h < 0 && (h = (h % Xc) + Xc),
        h > o_
          ? this
              ._append`A${n},${n},0,1,${d},${t - c},${r - l}A${n},${n},0,1,${d},${(this._x1 = u)},${(this._y1 = f)}`
          : h > Wr &&
            this
              ._append`A${n},${n},0,${+(h >= Hc)},${d},${(this._x1 = t + n * Math.cos(s))},${(this._y1 = r + n * Math.sin(s))}`));
  }
  rect(t, r, n, i) {
    this
      ._append`M${(this._x0 = this._x1 = +t)},${(this._y0 = this._y1 = +r)}h${(n = +n)}v${+i}h${-n}Z`;
  }
  toString() {
    return this._;
  }
}
function Eu(e) {
  let t = 3;
  return (
    (e.digits = function (r) {
      if (!arguments.length) return t;
      if (r == null) t = null;
      else {
        const n = Math.floor(r);
        if (!(n >= 0)) throw new RangeError(`invalid digits: ${r}`);
        t = n;
      }
      return e;
    }),
    () => new l_(t)
  );
}
function Tu(e) {
  return typeof e == "object" && "length" in e ? e : Array.from(e);
}
function rv(e) {
  this._context = e;
}
rv.prototype = {
  areaStart: function () {
    this._line = 0;
  },
  areaEnd: function () {
    this._line = NaN;
  },
  lineStart: function () {
    this._point = 0;
  },
  lineEnd: function () {
    ((this._line || (this._line !== 0 && this._point === 1)) &&
      this._context.closePath(),
      (this._line = 1 - this._line));
  },
  point: function (e, t) {
    switch (((e = +e), (t = +t), this._point)) {
      case 0:
        ((this._point = 1),
          this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t));
        break;
      case 1:
        this._point = 2;
      default:
        this._context.lineTo(e, t);
        break;
    }
  },
};
function So(e) {
  return new rv(e);
}
function nv(e) {
  return e[0];
}
function av(e) {
  return e[1];
}
function iv(e, t) {
  var r = Ae(!0),
    n = null,
    i = So,
    s = null,
    o = Eu(c);
  ((e = typeof e == "function" ? e : e === void 0 ? nv : Ae(e)),
    (t = typeof t == "function" ? t : t === void 0 ? av : Ae(t)));
  function c(l) {
    var u,
      f = (l = Tu(l)).length,
      d,
      h = !1,
      m;
    for (n == null && (s = i((m = o()))), u = 0; u <= f; ++u)
      (!(u < f && r((d = l[u]), u, l)) === h &&
        ((h = !h) ? s.lineStart() : s.lineEnd()),
        h && s.point(+e(d, u, l), +t(d, u, l)));
    if (m) return ((s = null), m + "" || null);
  }
  return (
    (c.x = function (l) {
      return arguments.length
        ? ((e = typeof l == "function" ? l : Ae(+l)), c)
        : e;
    }),
    (c.y = function (l) {
      return arguments.length
        ? ((t = typeof l == "function" ? l : Ae(+l)), c)
        : t;
    }),
    (c.defined = function (l) {
      return arguments.length
        ? ((r = typeof l == "function" ? l : Ae(!!l)), c)
        : r;
    }),
    (c.curve = function (l) {
      return arguments.length ? ((i = l), n != null && (s = i(n)), c) : i;
    }),
    (c.context = function (l) {
      return arguments.length
        ? (l == null ? (n = s = null) : (s = i((n = l))), c)
        : n;
    }),
    c
  );
}
function qi(e, t, r) {
  var n = null,
    i = Ae(!0),
    s = null,
    o = So,
    c = null,
    l = Eu(u);
  ((e = typeof e == "function" ? e : e === void 0 ? nv : Ae(+e)),
    (t = typeof t == "function" ? t : Ae(t === void 0 ? 0 : +t)),
    (r = typeof r == "function" ? r : r === void 0 ? av : Ae(+r)));
  function u(d) {
    var h,
      m,
      v,
      p = (d = Tu(d)).length,
      x,
      g = !1,
      b,
      N = new Array(p),
      _ = new Array(p);
    for (s == null && (c = o((b = l()))), h = 0; h <= p; ++h) {
      if (!(h < p && i((x = d[h]), h, d)) === g)
        if ((g = !g)) ((m = h), c.areaStart(), c.lineStart());
        else {
          for (c.lineEnd(), c.lineStart(), v = h - 1; v >= m; --v)
            c.point(N[v], _[v]);
          (c.lineEnd(), c.areaEnd());
        }
      g &&
        ((N[h] = +e(x, h, d)),
        (_[h] = +t(x, h, d)),
        c.point(n ? +n(x, h, d) : N[h], r ? +r(x, h, d) : _[h]));
    }
    if (b) return ((c = null), b + "" || null);
  }
  function f() {
    return iv().defined(i).curve(o).context(s);
  }
  return (
    (u.x = function (d) {
      return arguments.length
        ? ((e = typeof d == "function" ? d : Ae(+d)), (n = null), u)
        : e;
    }),
    (u.x0 = function (d) {
      return arguments.length
        ? ((e = typeof d == "function" ? d : Ae(+d)), u)
        : e;
    }),
    (u.x1 = function (d) {
      return arguments.length
        ? ((n = d == null ? null : typeof d == "function" ? d : Ae(+d)), u)
        : n;
    }),
    (u.y = function (d) {
      return arguments.length
        ? ((t = typeof d == "function" ? d : Ae(+d)), (r = null), u)
        : t;
    }),
    (u.y0 = function (d) {
      return arguments.length
        ? ((t = typeof d == "function" ? d : Ae(+d)), u)
        : t;
    }),
    (u.y1 = function (d) {
      return arguments.length
        ? ((r = d == null ? null : typeof d == "function" ? d : Ae(+d)), u)
        : r;
    }),
    (u.lineX0 = u.lineY0 =
      function () {
        return f().x(e).y(t);
      }),
    (u.lineY1 = function () {
      return f().x(e).y(r);
    }),
    (u.lineX1 = function () {
      return f().x(n).y(t);
    }),
    (u.defined = function (d) {
      return arguments.length
        ? ((i = typeof d == "function" ? d : Ae(!!d)), u)
        : i;
    }),
    (u.curve = function (d) {
      return arguments.length ? ((o = d), s != null && (c = o(s)), u) : o;
    }),
    (u.context = function (d) {
      return arguments.length
        ? (d == null ? (s = c = null) : (c = o((s = d))), u)
        : s;
    }),
    u
  );
}
class sv {
  constructor(t, r) {
    ((this._context = t), (this._x = r));
  }
  areaStart() {
    this._line = 0;
  }
  areaEnd() {
    this._line = NaN;
  }
  lineStart() {
    this._point = 0;
  }
  lineEnd() {
    ((this._line || (this._line !== 0 && this._point === 1)) &&
      this._context.closePath(),
      (this._line = 1 - this._line));
  }
  point(t, r) {
    switch (((t = +t), (r = +r), this._point)) {
      case 0: {
        ((this._point = 1),
          this._line ? this._context.lineTo(t, r) : this._context.moveTo(t, r));
        break;
      }
      case 1:
        this._point = 2;
      default: {
        this._x
          ? this._context.bezierCurveTo(
              (this._x0 = (this._x0 + t) / 2),
              this._y0,
              this._x0,
              r,
              t,
              r,
            )
          : this._context.bezierCurveTo(
              this._x0,
              (this._y0 = (this._y0 + r) / 2),
              t,
              this._y0,
              t,
              r,
            );
        break;
      }
    }
    ((this._x0 = t), (this._y0 = r));
  }
}
function u_(e) {
  return new sv(e, !0);
}
function d_(e) {
  return new sv(e, !1);
}
const $u = {
    draw(e, t) {
      const r = Lt(t / ys);
      (e.moveTo(r, 0), e.arc(0, 0, r, 0, Oo));
    },
  },
  f_ = {
    draw(e, t) {
      const r = Lt(t / 5) / 2;
      (e.moveTo(-3 * r, -r),
        e.lineTo(-r, -r),
        e.lineTo(-r, -3 * r),
        e.lineTo(r, -3 * r),
        e.lineTo(r, -r),
        e.lineTo(3 * r, -r),
        e.lineTo(3 * r, r),
        e.lineTo(r, r),
        e.lineTo(r, 3 * r),
        e.lineTo(-r, 3 * r),
        e.lineTo(-r, r),
        e.lineTo(-3 * r, r),
        e.closePath());
    },
  },
  ov = Lt(1 / 3),
  h_ = ov * 2,
  m_ = {
    draw(e, t) {
      const r = Lt(t / h_),
        n = r * ov;
      (e.moveTo(0, -r),
        e.lineTo(n, 0),
        e.lineTo(0, r),
        e.lineTo(-n, 0),
        e.closePath());
    },
  },
  p_ = {
    draw(e, t) {
      const r = Lt(t),
        n = -r / 2;
      e.rect(n, n, r, r);
    },
  },
  v_ = 0.8908130915292852,
  cv = gs(ys / 10) / gs((7 * ys) / 10),
  x_ = gs(Oo / 10) * cv,
  g_ = -ev(Oo / 10) * cv,
  y_ = {
    draw(e, t) {
      const r = Lt(t * v_),
        n = x_ * r,
        i = g_ * r;
      (e.moveTo(0, -r), e.lineTo(n, i));
      for (let s = 1; s < 5; ++s) {
        const o = (Oo * s) / 5,
          c = ev(o),
          l = gs(o);
        (e.lineTo(l * r, -c * r), e.lineTo(c * n - l * i, l * n + c * i));
      }
      e.closePath();
    },
  },
  uc = Lt(3),
  b_ = {
    draw(e, t) {
      const r = -Lt(t / (uc * 3));
      (e.moveTo(0, r * 2),
        e.lineTo(-uc * r, -r),
        e.lineTo(uc * r, -r),
        e.closePath());
    },
  },
  wt = -0.5,
  Nt = Lt(3) / 2,
  Yc = 1 / Lt(12),
  j_ = (Yc / 2 + 1) * 3,
  w_ = {
    draw(e, t) {
      const r = Lt(t / j_),
        n = r / 2,
        i = r * Yc,
        s = n,
        o = r * Yc + r,
        c = -s,
        l = o;
      (e.moveTo(n, i),
        e.lineTo(s, o),
        e.lineTo(c, l),
        e.lineTo(wt * n - Nt * i, Nt * n + wt * i),
        e.lineTo(wt * s - Nt * o, Nt * s + wt * o),
        e.lineTo(wt * c - Nt * l, Nt * c + wt * l),
        e.lineTo(wt * n + Nt * i, wt * i - Nt * n),
        e.lineTo(wt * s + Nt * o, wt * o - Nt * s),
        e.lineTo(wt * c + Nt * l, wt * l - Nt * c),
        e.closePath());
    },
  };
function N_(e, t) {
  let r = null,
    n = Eu(i);
  ((e = typeof e == "function" ? e : Ae(e || $u)),
    (t = typeof t == "function" ? t : Ae(t === void 0 ? 64 : +t)));
  function i() {
    let s;
    if (
      (r || (r = s = n()),
      e.apply(this, arguments).draw(r, +t.apply(this, arguments)),
      s)
    )
      return ((r = null), s + "" || null);
  }
  return (
    (i.type = function (s) {
      return arguments.length
        ? ((e = typeof s == "function" ? s : Ae(s)), i)
        : e;
    }),
    (i.size = function (s) {
      return arguments.length
        ? ((t = typeof s == "function" ? s : Ae(+s)), i)
        : t;
    }),
    (i.context = function (s) {
      return arguments.length ? ((r = s ?? null), i) : r;
    }),
    i
  );
}
function bs() {}
function js(e, t, r) {
  e._context.bezierCurveTo(
    (2 * e._x0 + e._x1) / 3,
    (2 * e._y0 + e._y1) / 3,
    (e._x0 + 2 * e._x1) / 3,
    (e._y0 + 2 * e._y1) / 3,
    (e._x0 + 4 * e._x1 + t) / 6,
    (e._y0 + 4 * e._y1 + r) / 6,
  );
}
function lv(e) {
  this._context = e;
}
lv.prototype = {
  areaStart: function () {
    this._line = 0;
  },
  areaEnd: function () {
    this._line = NaN;
  },
  lineStart: function () {
    ((this._x0 = this._x1 = this._y0 = this._y1 = NaN), (this._point = 0));
  },
  lineEnd: function () {
    switch (this._point) {
      case 3:
        js(this, this._x1, this._y1);
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
    }
    ((this._line || (this._line !== 0 && this._point === 1)) &&
      this._context.closePath(),
      (this._line = 1 - this._line));
  },
  point: function (e, t) {
    switch (((e = +e), (t = +t), this._point)) {
      case 0:
        ((this._point = 1),
          this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t));
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        ((this._point = 3),
          this._context.lineTo(
            (5 * this._x0 + this._x1) / 6,
            (5 * this._y0 + this._y1) / 6,
          ));
      default:
        js(this, e, t);
        break;
    }
    ((this._x0 = this._x1),
      (this._x1 = e),
      (this._y0 = this._y1),
      (this._y1 = t));
  },
};
function __(e) {
  return new lv(e);
}
function uv(e) {
  this._context = e;
}
uv.prototype = {
  areaStart: bs,
  areaEnd: bs,
  lineStart: function () {
    ((this._x0 =
      this._x1 =
      this._x2 =
      this._x3 =
      this._x4 =
      this._y0 =
      this._y1 =
      this._y2 =
      this._y3 =
      this._y4 =
        NaN),
      (this._point = 0));
  },
  lineEnd: function () {
    switch (this._point) {
      case 1: {
        (this._context.moveTo(this._x2, this._y2), this._context.closePath());
        break;
      }
      case 2: {
        (this._context.moveTo(
          (this._x2 + 2 * this._x3) / 3,
          (this._y2 + 2 * this._y3) / 3,
        ),
          this._context.lineTo(
            (this._x3 + 2 * this._x2) / 3,
            (this._y3 + 2 * this._y2) / 3,
          ),
          this._context.closePath());
        break;
      }
      case 3: {
        (this.point(this._x2, this._y2),
          this.point(this._x3, this._y3),
          this.point(this._x4, this._y4));
        break;
      }
    }
  },
  point: function (e, t) {
    switch (((e = +e), (t = +t), this._point)) {
      case 0:
        ((this._point = 1), (this._x2 = e), (this._y2 = t));
        break;
      case 1:
        ((this._point = 2), (this._x3 = e), (this._y3 = t));
        break;
      case 2:
        ((this._point = 3),
          (this._x4 = e),
          (this._y4 = t),
          this._context.moveTo(
            (this._x0 + 4 * this._x1 + e) / 6,
            (this._y0 + 4 * this._y1 + t) / 6,
          ));
        break;
      default:
        js(this, e, t);
        break;
    }
    ((this._x0 = this._x1),
      (this._x1 = e),
      (this._y0 = this._y1),
      (this._y1 = t));
  },
};
function O_(e) {
  return new uv(e);
}
function dv(e) {
  this._context = e;
}
dv.prototype = {
  areaStart: function () {
    this._line = 0;
  },
  areaEnd: function () {
    this._line = NaN;
  },
  lineStart: function () {
    ((this._x0 = this._x1 = this._y0 = this._y1 = NaN), (this._point = 0));
  },
  lineEnd: function () {
    ((this._line || (this._line !== 0 && this._point === 3)) &&
      this._context.closePath(),
      (this._line = 1 - this._line));
  },
  point: function (e, t) {
    switch (((e = +e), (t = +t), this._point)) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        var r = (this._x0 + 4 * this._x1 + e) / 6,
          n = (this._y0 + 4 * this._y1 + t) / 6;
        this._line ? this._context.lineTo(r, n) : this._context.moveTo(r, n);
        break;
      case 3:
        this._point = 4;
      default:
        js(this, e, t);
        break;
    }
    ((this._x0 = this._x1),
      (this._x1 = e),
      (this._y0 = this._y1),
      (this._y1 = t));
  },
};
function S_(e) {
  return new dv(e);
}
function fv(e) {
  this._context = e;
}
fv.prototype = {
  areaStart: bs,
  areaEnd: bs,
  lineStart: function () {
    this._point = 0;
  },
  lineEnd: function () {
    this._point && this._context.closePath();
  },
  point: function (e, t) {
    ((e = +e),
      (t = +t),
      this._point
        ? this._context.lineTo(e, t)
        : ((this._point = 1), this._context.moveTo(e, t)));
  },
};
function A_(e) {
  return new fv(e);
}
function Xd(e) {
  return e < 0 ? -1 : 1;
}
function Yd(e, t, r) {
  var n = e._x1 - e._x0,
    i = t - e._x1,
    s = (e._y1 - e._y0) / (n || (i < 0 && -0)),
    o = (r - e._y1) / (i || (n < 0 && -0)),
    c = (s * i + o * n) / (n + i);
  return (
    (Xd(s) + Xd(o)) * Math.min(Math.abs(s), Math.abs(o), 0.5 * Math.abs(c)) || 0
  );
}
function Jd(e, t) {
  var r = e._x1 - e._x0;
  return r ? ((3 * (e._y1 - e._y0)) / r - t) / 2 : t;
}
function dc(e, t, r) {
  var n = e._x0,
    i = e._y0,
    s = e._x1,
    o = e._y1,
    c = (s - n) / 3;
  e._context.bezierCurveTo(n + c, i + c * t, s - c, o - c * r, s, o);
}
function ws(e) {
  this._context = e;
}
ws.prototype = {
  areaStart: function () {
    this._line = 0;
  },
  areaEnd: function () {
    this._line = NaN;
  },
  lineStart: function () {
    ((this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN),
      (this._point = 0));
  },
  lineEnd: function () {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
      case 3:
        dc(this, this._t0, Jd(this, this._t0));
        break;
    }
    ((this._line || (this._line !== 0 && this._point === 1)) &&
      this._context.closePath(),
      (this._line = 1 - this._line));
  },
  point: function (e, t) {
    var r = NaN;
    if (((e = +e), (t = +t), !(e === this._x1 && t === this._y1))) {
      switch (this._point) {
        case 0:
          ((this._point = 1),
            this._line
              ? this._context.lineTo(e, t)
              : this._context.moveTo(e, t));
          break;
        case 1:
          this._point = 2;
          break;
        case 2:
          ((this._point = 3), dc(this, Jd(this, (r = Yd(this, e, t))), r));
          break;
        default:
          dc(this, this._t0, (r = Yd(this, e, t)));
          break;
      }
      ((this._x0 = this._x1),
        (this._x1 = e),
        (this._y0 = this._y1),
        (this._y1 = t),
        (this._t0 = r));
    }
  },
};
function hv(e) {
  this._context = new mv(e);
}
(hv.prototype = Object.create(ws.prototype)).point = function (e, t) {
  ws.prototype.point.call(this, t, e);
};
function mv(e) {
  this._context = e;
}
mv.prototype = {
  moveTo: function (e, t) {
    this._context.moveTo(t, e);
  },
  closePath: function () {
    this._context.closePath();
  },
  lineTo: function (e, t) {
    this._context.lineTo(t, e);
  },
  bezierCurveTo: function (e, t, r, n, i, s) {
    this._context.bezierCurveTo(t, e, n, r, s, i);
  },
};
function P_(e) {
  return new ws(e);
}
function C_(e) {
  return new hv(e);
}
function pv(e) {
  this._context = e;
}
pv.prototype = {
  areaStart: function () {
    this._line = 0;
  },
  areaEnd: function () {
    this._line = NaN;
  },
  lineStart: function () {
    ((this._x = []), (this._y = []));
  },
  lineEnd: function () {
    var e = this._x,
      t = this._y,
      r = e.length;
    if (r)
      if (
        (this._line
          ? this._context.lineTo(e[0], t[0])
          : this._context.moveTo(e[0], t[0]),
        r === 2)
      )
        this._context.lineTo(e[1], t[1]);
      else
        for (var n = Zd(e), i = Zd(t), s = 0, o = 1; o < r; ++s, ++o)
          this._context.bezierCurveTo(
            n[0][s],
            i[0][s],
            n[1][s],
            i[1][s],
            e[o],
            t[o],
          );
    ((this._line || (this._line !== 0 && r === 1)) && this._context.closePath(),
      (this._line = 1 - this._line),
      (this._x = this._y = null));
  },
  point: function (e, t) {
    (this._x.push(+e), this._y.push(+t));
  },
};
function Zd(e) {
  var t,
    r = e.length - 1,
    n,
    i = new Array(r),
    s = new Array(r),
    o = new Array(r);
  for (i[0] = 0, s[0] = 2, o[0] = e[0] + 2 * e[1], t = 1; t < r - 1; ++t)
    ((i[t] = 1), (s[t] = 4), (o[t] = 4 * e[t] + 2 * e[t + 1]));
  for (
    i[r - 1] = 2, s[r - 1] = 7, o[r - 1] = 8 * e[r - 1] + e[r], t = 1;
    t < r;
    ++t
  )
    ((n = i[t] / s[t - 1]), (s[t] -= n), (o[t] -= n * o[t - 1]));
  for (i[r - 1] = o[r - 1] / s[r - 1], t = r - 2; t >= 0; --t)
    i[t] = (o[t] - i[t + 1]) / s[t];
  for (s[r - 1] = (e[r] + i[r - 1]) / 2, t = 0; t < r - 1; ++t)
    s[t] = 2 * e[t + 1] - i[t + 1];
  return [i, s];
}
function E_(e) {
  return new pv(e);
}
function Ao(e, t) {
  ((this._context = e), (this._t = t));
}
Ao.prototype = {
  areaStart: function () {
    this._line = 0;
  },
  areaEnd: function () {
    this._line = NaN;
  },
  lineStart: function () {
    ((this._x = this._y = NaN), (this._point = 0));
  },
  lineEnd: function () {
    (0 < this._t &&
      this._t < 1 &&
      this._point === 2 &&
      this._context.lineTo(this._x, this._y),
      (this._line || (this._line !== 0 && this._point === 1)) &&
        this._context.closePath(),
      this._line >= 0 &&
        ((this._t = 1 - this._t), (this._line = 1 - this._line)));
  },
  point: function (e, t) {
    switch (((e = +e), (t = +t), this._point)) {
      case 0:
        ((this._point = 1),
          this._line ? this._context.lineTo(e, t) : this._context.moveTo(e, t));
        break;
      case 1:
        this._point = 2;
      default: {
        if (this._t <= 0)
          (this._context.lineTo(this._x, t), this._context.lineTo(e, t));
        else {
          var r = this._x * (1 - this._t) + e * this._t;
          (this._context.lineTo(r, this._y), this._context.lineTo(r, t));
        }
        break;
      }
    }
    ((this._x = e), (this._y = t));
  },
};
function T_(e) {
  return new Ao(e, 0.5);
}
function $_(e) {
  return new Ao(e, 0);
}
function k_(e) {
  return new Ao(e, 1);
}
function Rn(e, t) {
  if ((o = e.length) > 1)
    for (var r = 1, n, i, s = e[t[0]], o, c = s.length; r < o; ++r)
      for (i = s, s = e[t[r]], n = 0; n < c; ++n)
        s[n][1] += s[n][0] = isNaN(i[n][1]) ? i[n][0] : i[n][1];
}
function Jc(e) {
  for (var t = e.length, r = new Array(t); --t >= 0; ) r[t] = t;
  return r;
}
function M_(e, t) {
  return e[t];
}
function I_(e) {
  const t = [];
  return ((t.key = e), t);
}
function D_() {
  var e = Ae([]),
    t = Jc,
    r = Rn,
    n = M_;
  function i(s) {
    var o = Array.from(e.apply(this, arguments), I_),
      c,
      l = o.length,
      u = -1,
      f;
    for (const d of s)
      for (c = 0, ++u; c < l; ++c)
        (o[c][u] = [0, +n(d, o[c].key, u, s)]).data = d;
    for (c = 0, f = Tu(t(o)); c < l; ++c) o[f[c]].index = c;
    return (r(o, f), o);
  }
  return (
    (i.keys = function (s) {
      return arguments.length
        ? ((e = typeof s == "function" ? s : Ae(Array.from(s))), i)
        : e;
    }),
    (i.value = function (s) {
      return arguments.length
        ? ((n = typeof s == "function" ? s : Ae(+s)), i)
        : n;
    }),
    (i.order = function (s) {
      return arguments.length
        ? ((t =
            s == null ? Jc : typeof s == "function" ? s : Ae(Array.from(s))),
          i)
        : t;
    }),
    (i.offset = function (s) {
      return arguments.length ? ((r = s ?? Rn), i) : r;
    }),
    i
  );
}
function R_(e, t) {
  if ((n = e.length) > 0) {
    for (var r, n, i = 0, s = e[0].length, o; i < s; ++i) {
      for (o = r = 0; r < n; ++r) o += e[r][i][1] || 0;
      if (o) for (r = 0; r < n; ++r) e[r][i][1] /= o;
    }
    Rn(e, t);
  }
}
function L_(e, t) {
  if ((i = e.length) > 0) {
    for (var r = 0, n = e[t[0]], i, s = n.length; r < s; ++r) {
      for (var o = 0, c = 0; o < i; ++o) c += e[o][r][1] || 0;
      n[r][1] += n[r][0] = -c / 2;
    }
    Rn(e, t);
  }
}
function z_(e, t) {
  if (!(!((o = e.length) > 0) || !((s = (i = e[t[0]]).length) > 0))) {
    for (var r = 0, n = 1, i, s, o; n < s; ++n) {
      for (var c = 0, l = 0, u = 0; c < o; ++c) {
        for (
          var f = e[t[c]],
            d = f[n][1] || 0,
            h = f[n - 1][1] || 0,
            m = (d - h) / 2,
            v = 0;
          v < c;
          ++v
        ) {
          var p = e[t[v]],
            x = p[n][1] || 0,
            g = p[n - 1][1] || 0;
          m += x - g;
        }
        ((l += d), (u += m * d));
      }
      ((i[n - 1][1] += i[n - 1][0] = r), l && (r -= u / l));
    }
    ((i[n - 1][1] += i[n - 1][0] = r), Rn(e, t));
  }
}
function Ha(e) {
  "@babel/helpers - typeof";
  return (
    (Ha =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Ha(e)
  );
}
var B_ = ["type", "size", "sizeType"];
function Zc() {
  return (
    (Zc = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Zc.apply(this, arguments)
  );
}
function Qd(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function ef(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Qd(Object(r), !0).forEach(function (n) {
          F_(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Qd(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function F_(e, t, r) {
  return (
    (t = V_(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function V_(e) {
  var t = U_(e, "string");
  return Ha(t) == "symbol" ? t : t + "";
}
function U_(e, t) {
  if (Ha(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Ha(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function q_(e, t) {
  if (e == null) return {};
  var r = W_(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function W_(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
var vv = {
    symbolCircle: $u,
    symbolCross: f_,
    symbolDiamond: m_,
    symbolSquare: p_,
    symbolStar: y_,
    symbolTriangle: b_,
    symbolWye: w_,
  },
  G_ = Math.PI / 180,
  K_ = function (t) {
    var r = "symbol".concat(_o(t));
    return vv[r] || $u;
  },
  H_ = function (t, r, n) {
    if (r === "area") return t;
    switch (n) {
      case "cross":
        return (5 * t * t) / 9;
      case "diamond":
        return (0.5 * t * t) / Math.sqrt(3);
      case "square":
        return t * t;
      case "star": {
        var i = 18 * G_;
        return (
          1.25 *
          t *
          t *
          (Math.tan(i) - Math.tan(i * 2) * Math.pow(Math.tan(i), 2))
        );
      }
      case "triangle":
        return (Math.sqrt(3) * t * t) / 4;
      case "wye":
        return ((21 - 10 * Math.sqrt(3)) * t * t) / 8;
      default:
        return (Math.PI * t * t) / 4;
    }
  },
  X_ = function (t, r) {
    vv["symbol".concat(_o(t))] = r;
  },
  ku = function (t) {
    var r = t.type,
      n = r === void 0 ? "circle" : r,
      i = t.size,
      s = i === void 0 ? 64 : i,
      o = t.sizeType,
      c = o === void 0 ? "area" : o,
      l = q_(t, B_),
      u = ef(ef({}, l), {}, { type: n, size: s, sizeType: c }),
      f = function () {
        var x = K_(n),
          g = N_()
            .type(x)
            .size(H_(s, c, n));
        return g();
      },
      d = u.className,
      h = u.cx,
      m = u.cy,
      v = ne(u, !0);
    return h === +h && m === +m && s === +s
      ? A.createElement(
          "path",
          Zc({}, v, {
            className: pe("recharts-symbols", d),
            transform: "translate(".concat(h, ", ").concat(m, ")"),
            d: f(),
          }),
        )
      : null;
  };
ku.registerSymbol = X_;
function Ln(e) {
  "@babel/helpers - typeof";
  return (
    (Ln =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Ln(e)
  );
}
function Qc() {
  return (
    (Qc = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Qc.apply(this, arguments)
  );
}
function tf(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Y_(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? tf(Object(r), !0).forEach(function (n) {
          Xa(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : tf(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function J_(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Z_(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, gv(n.key), n));
  }
}
function Q_(e, t, r) {
  return (
    t && Z_(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function e1(e, t, r) {
  return (
    (t = Ns(t)),
    t1(
      e,
      xv() ? Reflect.construct(t, r || [], Ns(e).constructor) : t.apply(e, r),
    )
  );
}
function t1(e, t) {
  if (t && (Ln(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return r1(e);
}
function r1(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function xv() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (xv = function () {
    return !!e;
  })();
}
function Ns(e) {
  return (
    (Ns = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    Ns(e)
  );
}
function n1(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && el(e, t));
}
function el(e, t) {
  return (
    (el = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    el(e, t)
  );
}
function Xa(e, t, r) {
  return (
    (t = gv(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function gv(e) {
  var t = a1(e, "string");
  return Ln(t) == "symbol" ? t : t + "";
}
function a1(e, t) {
  if (Ln(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Ln(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var _t = 32,
  Mu = (function (e) {
    function t() {
      return (J_(this, t), e1(this, t, arguments));
    }
    return (
      n1(t, e),
      Q_(t, [
        {
          key: "renderIcon",
          value: function (n) {
            var i = this.props.inactiveColor,
              s = _t / 2,
              o = _t / 6,
              c = _t / 3,
              l = n.inactive ? i : n.color;
            if (n.type === "plainline")
              return A.createElement("line", {
                strokeWidth: 4,
                fill: "none",
                stroke: l,
                strokeDasharray: n.payload.strokeDasharray,
                x1: 0,
                y1: s,
                x2: _t,
                y2: s,
                className: "recharts-legend-icon",
              });
            if (n.type === "line")
              return A.createElement("path", {
                strokeWidth: 4,
                fill: "none",
                stroke: l,
                d: "M0,"
                  .concat(s, "h")
                  .concat(
                    c,
                    `
            A`,
                  )
                  .concat(o, ",")
                  .concat(o, ",0,1,1,")
                  .concat(2 * c, ",")
                  .concat(
                    s,
                    `
            H`,
                  )
                  .concat(_t, "M")
                  .concat(2 * c, ",")
                  .concat(
                    s,
                    `
            A`,
                  )
                  .concat(o, ",")
                  .concat(o, ",0,1,1,")
                  .concat(c, ",")
                  .concat(s),
                className: "recharts-legend-icon",
              });
            if (n.type === "rect")
              return A.createElement("path", {
                stroke: "none",
                fill: l,
                d: "M0,"
                  .concat(_t / 8, "h")
                  .concat(_t, "v")
                  .concat((_t * 3) / 4, "h")
                  .concat(-_t, "z"),
                className: "recharts-legend-icon",
              });
            if (A.isValidElement(n.legendIcon)) {
              var u = Y_({}, n);
              return (delete u.legendIcon, A.cloneElement(n.legendIcon, u));
            }
            return A.createElement(ku, {
              fill: l,
              cx: s,
              cy: s,
              size: _t,
              sizeType: "diameter",
              type: n.type,
            });
          },
        },
        {
          key: "renderItems",
          value: function () {
            var n = this,
              i = this.props,
              s = i.payload,
              o = i.iconSize,
              c = i.layout,
              l = i.formatter,
              u = i.inactiveColor,
              f = { x: 0, y: 0, width: _t, height: _t },
              d = {
                display: c === "horizontal" ? "inline-block" : "block",
                marginRight: 10,
              },
              h = {
                display: "inline-block",
                verticalAlign: "middle",
                marginRight: 4,
              };
            return s.map(function (m, v) {
              var p = m.formatter || l,
                x = pe(
                  Xa(
                    Xa(
                      { "recharts-legend-item": !0 },
                      "legend-item-".concat(v),
                      !0,
                    ),
                    "inactive",
                    m.inactive,
                  ),
                );
              if (m.type === "none") return null;
              var g = ce(m.value) ? null : m.value;
              Dt(
                !ce(m.value),
                `The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`,
              );
              var b = m.inactive ? u : m.color;
              return A.createElement(
                "li",
                Qc(
                  { className: x, style: d, key: "legend-item-".concat(v) },
                  an(n.props, m, v),
                ),
                A.createElement(
                  qc,
                  { width: o, height: o, viewBox: f, style: h },
                  n.renderIcon(m),
                ),
                A.createElement(
                  "span",
                  {
                    className: "recharts-legend-item-text",
                    style: { color: b },
                  },
                  p ? p(g, m, v) : g,
                ),
              );
            });
          },
        },
        {
          key: "render",
          value: function () {
            var n = this.props,
              i = n.payload,
              s = n.layout,
              o = n.align;
            if (!i || !i.length) return null;
            var c = {
              padding: 0,
              margin: 0,
              textAlign: s === "horizontal" ? o : "left",
            };
            return A.createElement(
              "ul",
              { className: "recharts-default-legend", style: c },
              this.renderItems(),
            );
          },
        },
      ])
    );
  })(P.PureComponent);
Xa(Mu, "displayName", "Legend");
Xa(Mu, "defaultProps", {
  iconSize: 14,
  layout: "horizontal",
  align: "center",
  verticalAlign: "middle",
  inactiveColor: "#ccc",
});
var i1 = jo;
function s1() {
  ((this.__data__ = new i1()), (this.size = 0));
}
var o1 = s1;
function c1(e) {
  var t = this.__data__,
    r = t.delete(e);
  return ((this.size = t.size), r);
}
var l1 = c1;
function u1(e) {
  return this.__data__.get(e);
}
var d1 = u1;
function f1(e) {
  return this.__data__.has(e);
}
var h1 = f1,
  m1 = jo,
  p1 = Nu,
  v1 = _u,
  x1 = 200;
function g1(e, t) {
  var r = this.__data__;
  if (r instanceof m1) {
    var n = r.__data__;
    if (!p1 || n.length < x1 - 1)
      return (n.push([e, t]), (this.size = ++r.size), this);
    r = this.__data__ = new v1(n);
  }
  return (r.set(e, t), (this.size = r.size), this);
}
var y1 = g1,
  b1 = jo,
  j1 = o1,
  w1 = l1,
  N1 = d1,
  _1 = h1,
  O1 = y1;
function va(e) {
  var t = (this.__data__ = new b1(e));
  this.size = t.size;
}
va.prototype.clear = j1;
va.prototype.delete = w1;
va.prototype.get = N1;
va.prototype.has = _1;
va.prototype.set = O1;
var yv = va,
  S1 = "__lodash_hash_undefined__";
function A1(e) {
  return (this.__data__.set(e, S1), this);
}
var P1 = A1;
function C1(e) {
  return this.__data__.has(e);
}
var E1 = C1,
  T1 = _u,
  $1 = P1,
  k1 = E1;
function _s(e) {
  var t = -1,
    r = e == null ? 0 : e.length;
  for (this.__data__ = new T1(); ++t < r; ) this.add(e[t]);
}
_s.prototype.add = _s.prototype.push = $1;
_s.prototype.has = k1;
var bv = _s;
function M1(e, t) {
  for (var r = -1, n = e == null ? 0 : e.length; ++r < n; )
    if (t(e[r], r, e)) return !0;
  return !1;
}
var jv = M1;
function I1(e, t) {
  return e.has(t);
}
var wv = I1,
  D1 = bv,
  R1 = jv,
  L1 = wv,
  z1 = 1,
  B1 = 2;
function F1(e, t, r, n, i, s) {
  var o = r & z1,
    c = e.length,
    l = t.length;
  if (c != l && !(o && l > c)) return !1;
  var u = s.get(e),
    f = s.get(t);
  if (u && f) return u == t && f == e;
  var d = -1,
    h = !0,
    m = r & B1 ? new D1() : void 0;
  for (s.set(e, t), s.set(t, e); ++d < c; ) {
    var v = e[d],
      p = t[d];
    if (n) var x = o ? n(p, v, d, t, e, s) : n(v, p, d, e, t, s);
    if (x !== void 0) {
      if (x) continue;
      h = !1;
      break;
    }
    if (m) {
      if (
        !R1(t, function (g, b) {
          if (!L1(m, b) && (v === g || i(v, g, r, n, s))) return m.push(b);
        })
      ) {
        h = !1;
        break;
      }
    } else if (!(v === p || i(v, p, r, n, s))) {
      h = !1;
      break;
    }
  }
  return (s.delete(e), s.delete(t), h);
}
var Nv = F1,
  V1 = Zt,
  U1 = V1.Uint8Array,
  q1 = U1;
function W1(e) {
  var t = -1,
    r = Array(e.size);
  return (
    e.forEach(function (n, i) {
      r[++t] = [i, n];
    }),
    r
  );
}
var G1 = W1;
function K1(e) {
  var t = -1,
    r = Array(e.size);
  return (
    e.forEach(function (n) {
      r[++t] = n;
    }),
    r
  );
}
var Iu = K1,
  rf = Ti,
  nf = q1,
  H1 = wu,
  X1 = Nv,
  Y1 = G1,
  J1 = Iu,
  Z1 = 1,
  Q1 = 2,
  eO = "[object Boolean]",
  tO = "[object Date]",
  rO = "[object Error]",
  nO = "[object Map]",
  aO = "[object Number]",
  iO = "[object RegExp]",
  sO = "[object Set]",
  oO = "[object String]",
  cO = "[object Symbol]",
  lO = "[object ArrayBuffer]",
  uO = "[object DataView]",
  af = rf ? rf.prototype : void 0,
  fc = af ? af.valueOf : void 0;
function dO(e, t, r, n, i, s, o) {
  switch (r) {
    case uO:
      if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset)
        return !1;
      ((e = e.buffer), (t = t.buffer));
    case lO:
      return !(e.byteLength != t.byteLength || !s(new nf(e), new nf(t)));
    case eO:
    case tO:
    case aO:
      return H1(+e, +t);
    case rO:
      return e.name == t.name && e.message == t.message;
    case iO:
    case oO:
      return e == t + "";
    case nO:
      var c = Y1;
    case sO:
      var l = n & Z1;
      if ((c || (c = J1), e.size != t.size && !l)) return !1;
      var u = o.get(e);
      if (u) return u == t;
      ((n |= Q1), o.set(e, t));
      var f = X1(c(e), c(t), n, i, s, o);
      return (o.delete(e), f);
    case cO:
      if (fc) return fc.call(e) == fc.call(t);
  }
  return !1;
}
var fO = dO;
function hO(e, t) {
  for (var r = -1, n = t.length, i = e.length; ++r < n; ) e[i + r] = t[r];
  return e;
}
var _v = hO,
  mO = _v,
  pO = pt;
function vO(e, t, r) {
  var n = t(e);
  return pO(e) ? n : mO(n, r(e));
}
var xO = vO;
function gO(e, t) {
  for (var r = -1, n = e == null ? 0 : e.length, i = 0, s = []; ++r < n; ) {
    var o = e[r];
    t(o, r, e) && (s[i++] = o);
  }
  return s;
}
var yO = gO;
function bO() {
  return [];
}
var jO = bO,
  wO = yO,
  NO = jO,
  _O = Object.prototype,
  OO = _O.propertyIsEnumerable,
  sf = Object.getOwnPropertySymbols,
  SO = sf
    ? function (e) {
        return e == null
          ? []
          : ((e = Object(e)),
            wO(sf(e), function (t) {
              return OO.call(e, t);
            }));
      }
    : NO,
  AO = SO;
function PO(e, t) {
  for (var r = -1, n = Array(e); ++r < e; ) n[r] = t(r);
  return n;
}
var CO = PO,
  EO = br,
  TO = jr,
  $O = "[object Arguments]";
function kO(e) {
  return TO(e) && EO(e) == $O;
}
var MO = kO,
  of = MO,
  IO = jr,
  Ov = Object.prototype,
  DO = Ov.hasOwnProperty,
  RO = Ov.propertyIsEnumerable,
  LO = of(
    (function () {
      return arguments;
    })(),
  )
    ? of
    : function (e) {
        return IO(e) && DO.call(e, "callee") && !RO.call(e, "callee");
      },
  Du = LO,
  Os = { exports: {} };
function zO() {
  return !1;
}
var BO = zO;
Os.exports;
(function (e, t) {
  var r = Zt,
    n = BO,
    i = t && !t.nodeType && t,
    s = i && !0 && e && !e.nodeType && e,
    o = s && s.exports === i,
    c = o ? r.Buffer : void 0,
    l = c ? c.isBuffer : void 0,
    u = l || n;
  e.exports = u;
})(Os, Os.exports);
var Sv = Os.exports,
  FO = 9007199254740991,
  VO = /^(?:0|[1-9]\d*)$/;
function UO(e, t) {
  var r = typeof e;
  return (
    (t = t ?? FO),
    !!t &&
      (r == "number" || (r != "symbol" && VO.test(e))) &&
      e > -1 &&
      e % 1 == 0 &&
      e < t
  );
}
var Ru = UO,
  qO = 9007199254740991;
function WO(e) {
  return typeof e == "number" && e > -1 && e % 1 == 0 && e <= qO;
}
var Lu = WO,
  GO = br,
  KO = Lu,
  HO = jr,
  XO = "[object Arguments]",
  YO = "[object Array]",
  JO = "[object Boolean]",
  ZO = "[object Date]",
  QO = "[object Error]",
  eS = "[object Function]",
  tS = "[object Map]",
  rS = "[object Number]",
  nS = "[object Object]",
  aS = "[object RegExp]",
  iS = "[object Set]",
  sS = "[object String]",
  oS = "[object WeakMap]",
  cS = "[object ArrayBuffer]",
  lS = "[object DataView]",
  uS = "[object Float32Array]",
  dS = "[object Float64Array]",
  fS = "[object Int8Array]",
  hS = "[object Int16Array]",
  mS = "[object Int32Array]",
  pS = "[object Uint8Array]",
  vS = "[object Uint8ClampedArray]",
  xS = "[object Uint16Array]",
  gS = "[object Uint32Array]",
  Ee = {};
Ee[uS] =
  Ee[dS] =
  Ee[fS] =
  Ee[hS] =
  Ee[mS] =
  Ee[pS] =
  Ee[vS] =
  Ee[xS] =
  Ee[gS] =
    !0;
Ee[XO] =
  Ee[YO] =
  Ee[cS] =
  Ee[JO] =
  Ee[lS] =
  Ee[ZO] =
  Ee[QO] =
  Ee[eS] =
  Ee[tS] =
  Ee[rS] =
  Ee[nS] =
  Ee[aS] =
  Ee[iS] =
  Ee[sS] =
  Ee[oS] =
    !1;
function yS(e) {
  return HO(e) && KO(e.length) && !!Ee[GO(e)];
}
var bS = yS;
function jS(e) {
  return function (t) {
    return e(t);
  };
}
var Av = jS,
  Ss = { exports: {} };
Ss.exports;
(function (e, t) {
  var r = Dp,
    n = t && !t.nodeType && t,
    i = n && !0 && e && !e.nodeType && e,
    s = i && i.exports === n,
    o = s && r.process,
    c = (function () {
      try {
        var l = i && i.require && i.require("util").types;
        return l || (o && o.binding && o.binding("util"));
      } catch {}
    })();
  e.exports = c;
})(Ss, Ss.exports);
var wS = Ss.exports,
  NS = bS,
  _S = Av,
  cf = wS,
  lf = cf && cf.isTypedArray,
  OS = lf ? _S(lf) : NS,
  Pv = OS,
  SS = CO,
  AS = Du,
  PS = pt,
  CS = Sv,
  ES = Ru,
  TS = Pv,
  $S = Object.prototype,
  kS = $S.hasOwnProperty;
function MS(e, t) {
  var r = PS(e),
    n = !r && AS(e),
    i = !r && !n && CS(e),
    s = !r && !n && !i && TS(e),
    o = r || n || i || s,
    c = o ? SS(e.length, String) : [],
    l = c.length;
  for (var u in e)
    (t || kS.call(e, u)) &&
      !(
        o &&
        (u == "length" ||
          (i && (u == "offset" || u == "parent")) ||
          (s && (u == "buffer" || u == "byteLength" || u == "byteOffset")) ||
          ES(u, l))
      ) &&
      c.push(u);
  return c;
}
var IS = MS,
  DS = Object.prototype;
function RS(e) {
  var t = e && e.constructor,
    r = (typeof t == "function" && t.prototype) || DS;
  return e === r;
}
var LS = RS;
function zS(e, t) {
  return function (r) {
    return e(t(r));
  };
}
var Cv = zS,
  BS = Cv,
  FS = BS(Object.keys, Object),
  VS = FS,
  US = LS,
  qS = VS,
  WS = Object.prototype,
  GS = WS.hasOwnProperty;
function KS(e) {
  if (!US(e)) return qS(e);
  var t = [];
  for (var r in Object(e)) GS.call(e, r) && r != "constructor" && t.push(r);
  return t;
}
var HS = KS,
  XS = ju,
  YS = Lu;
function JS(e) {
  return e != null && YS(e.length) && !XS(e);
}
var $i = JS,
  ZS = IS,
  QS = HS,
  eA = $i;
function tA(e) {
  return eA(e) ? ZS(e) : QS(e);
}
var Po = tA,
  rA = xO,
  nA = AO,
  aA = Po;
function iA(e) {
  return rA(e, aA, nA);
}
var sA = iA,
  uf = sA,
  oA = 1,
  cA = Object.prototype,
  lA = cA.hasOwnProperty;
function uA(e, t, r, n, i, s) {
  var o = r & oA,
    c = uf(e),
    l = c.length,
    u = uf(t),
    f = u.length;
  if (l != f && !o) return !1;
  for (var d = l; d--; ) {
    var h = c[d];
    if (!(o ? h in t : lA.call(t, h))) return !1;
  }
  var m = s.get(e),
    v = s.get(t);
  if (m && v) return m == t && v == e;
  var p = !0;
  (s.set(e, t), s.set(t, e));
  for (var x = o; ++d < l; ) {
    h = c[d];
    var g = e[h],
      b = t[h];
    if (n) var N = o ? n(b, g, h, t, e, s) : n(g, b, h, e, t, s);
    if (!(N === void 0 ? g === b || i(g, b, r, n, s) : N)) {
      p = !1;
      break;
    }
    x || (x = h == "constructor");
  }
  if (p && !x) {
    var _ = e.constructor,
      y = t.constructor;
    _ != y &&
      "constructor" in e &&
      "constructor" in t &&
      !(
        typeof _ == "function" &&
        _ instanceof _ &&
        typeof y == "function" &&
        y instanceof y
      ) &&
      (p = !1);
  }
  return (s.delete(e), s.delete(t), p);
}
var dA = uA,
  fA = pn,
  hA = Zt,
  mA = fA(hA, "DataView"),
  pA = mA,
  vA = pn,
  xA = Zt,
  gA = vA(xA, "Promise"),
  yA = gA,
  bA = pn,
  jA = Zt,
  wA = bA(jA, "Set"),
  Ev = wA,
  NA = pn,
  _A = Zt,
  OA = NA(_A, "WeakMap"),
  SA = OA,
  tl = pA,
  rl = Nu,
  nl = yA,
  al = Ev,
  il = SA,
  Tv = br,
  xa = Lp,
  df = "[object Map]",
  AA = "[object Object]",
  ff = "[object Promise]",
  hf = "[object Set]",
  mf = "[object WeakMap]",
  pf = "[object DataView]",
  PA = xa(tl),
  CA = xa(rl),
  EA = xa(nl),
  TA = xa(al),
  $A = xa(il),
  Gr = Tv;
((tl && Gr(new tl(new ArrayBuffer(1))) != pf) ||
  (rl && Gr(new rl()) != df) ||
  (nl && Gr(nl.resolve()) != ff) ||
  (al && Gr(new al()) != hf) ||
  (il && Gr(new il()) != mf)) &&
  (Gr = function (e) {
    var t = Tv(e),
      r = t == AA ? e.constructor : void 0,
      n = r ? xa(r) : "";
    if (n)
      switch (n) {
        case PA:
          return pf;
        case CA:
          return df;
        case EA:
          return ff;
        case TA:
          return hf;
        case $A:
          return mf;
      }
    return t;
  });
var kA = Gr,
  hc = yv,
  MA = Nv,
  IA = fO,
  DA = dA,
  vf = kA,
  xf = pt,
  gf = Sv,
  RA = Pv,
  LA = 1,
  yf = "[object Arguments]",
  bf = "[object Array]",
  Wi = "[object Object]",
  zA = Object.prototype,
  jf = zA.hasOwnProperty;
function BA(e, t, r, n, i, s) {
  var o = xf(e),
    c = xf(t),
    l = o ? bf : vf(e),
    u = c ? bf : vf(t);
  ((l = l == yf ? Wi : l), (u = u == yf ? Wi : u));
  var f = l == Wi,
    d = u == Wi,
    h = l == u;
  if (h && gf(e)) {
    if (!gf(t)) return !1;
    ((o = !0), (f = !1));
  }
  if (h && !f)
    return (
      s || (s = new hc()),
      o || RA(e) ? MA(e, t, r, n, i, s) : IA(e, t, l, r, n, i, s)
    );
  if (!(r & LA)) {
    var m = f && jf.call(e, "__wrapped__"),
      v = d && jf.call(t, "__wrapped__");
    if (m || v) {
      var p = m ? e.value() : e,
        x = v ? t.value() : t;
      return (s || (s = new hc()), i(p, x, r, n, s));
    }
  }
  return h ? (s || (s = new hc()), DA(e, t, r, n, i, s)) : !1;
}
var FA = BA,
  VA = FA,
  wf = jr;
function $v(e, t, r, n, i) {
  return e === t
    ? !0
    : e == null || t == null || (!wf(e) && !wf(t))
      ? e !== e && t !== t
      : VA(e, t, r, n, $v, i);
}
var zu = $v,
  UA = yv,
  qA = zu,
  WA = 1,
  GA = 2;
function KA(e, t, r, n) {
  var i = r.length,
    s = i,
    o = !n;
  if (e == null) return !s;
  for (e = Object(e); i--; ) {
    var c = r[i];
    if (o && c[2] ? c[1] !== e[c[0]] : !(c[0] in e)) return !1;
  }
  for (; ++i < s; ) {
    c = r[i];
    var l = c[0],
      u = e[l],
      f = c[1];
    if (o && c[2]) {
      if (u === void 0 && !(l in e)) return !1;
    } else {
      var d = new UA();
      if (n) var h = n(u, f, l, e, t, d);
      if (!(h === void 0 ? qA(f, u, WA | GA, n, d) : h)) return !1;
    }
  }
  return !0;
}
var HA = KA,
  XA = Dr;
function YA(e) {
  return e === e && !XA(e);
}
var kv = YA,
  JA = kv,
  ZA = Po;
function QA(e) {
  for (var t = ZA(e), r = t.length; r--; ) {
    var n = t[r],
      i = e[n];
    t[r] = [n, i, JA(i)];
  }
  return t;
}
var eP = QA;
function tP(e, t) {
  return function (r) {
    return r == null ? !1 : r[e] === t && (t !== void 0 || e in Object(r));
  };
}
var Mv = tP,
  rP = HA,
  nP = eP,
  aP = Mv;
function iP(e) {
  var t = nP(e);
  return t.length == 1 && t[0][2]
    ? aP(t[0][0], t[0][1])
    : function (r) {
        return r === e || rP(r, e, t);
      };
}
var sP = iP;
function oP(e, t) {
  return e != null && t in Object(e);
}
var cP = oP,
  lP = Up,
  uP = Du,
  dP = pt,
  fP = Ru,
  hP = Lu,
  mP = No;
function pP(e, t, r) {
  t = lP(t, e);
  for (var n = -1, i = t.length, s = !1; ++n < i; ) {
    var o = mP(t[n]);
    if (!(s = e != null && r(e, o))) break;
    e = e[o];
  }
  return s || ++n != i
    ? s
    : ((i = e == null ? 0 : e.length),
      !!i && hP(i) && fP(o, i) && (dP(e) || uP(e)));
}
var vP = pP,
  xP = cP,
  gP = vP;
function yP(e, t) {
  return e != null && gP(e, t, xP);
}
var bP = yP,
  jP = zu,
  wP = qp,
  NP = bP,
  _P = bu,
  OP = kv,
  SP = Mv,
  AP = No,
  PP = 1,
  CP = 2;
function EP(e, t) {
  return _P(e) && OP(t)
    ? SP(AP(e), t)
    : function (r) {
        var n = wP(r, e);
        return n === void 0 && n === t ? NP(r, e) : jP(t, n, PP | CP);
      };
}
var TP = EP;
function $P(e) {
  return e;
}
var ga = $P;
function kP(e) {
  return function (t) {
    return t?.[e];
  };
}
var MP = kP,
  IP = Au;
function DP(e) {
  return function (t) {
    return IP(t, e);
  };
}
var RP = DP,
  LP = MP,
  zP = RP,
  BP = bu,
  FP = No;
function VP(e) {
  return BP(e) ? LP(FP(e)) : zP(e);
}
var UP = VP,
  qP = sP,
  WP = TP,
  GP = ga,
  KP = pt,
  HP = UP;
function XP(e) {
  return typeof e == "function"
    ? e
    : e == null
      ? GP
      : typeof e == "object"
        ? KP(e)
          ? WP(e[0], e[1])
          : qP(e)
        : HP(e);
}
var Qt = XP;
function YP(e, t, r, n) {
  for (var i = e.length, s = r + (n ? 1 : -1); n ? s-- : ++s < i; )
    if (t(e[s], s, e)) return s;
  return -1;
}
var Iv = YP;
function JP(e) {
  return e !== e;
}
var ZP = JP;
function QP(e, t, r) {
  for (var n = r - 1, i = e.length; ++n < i; ) if (e[n] === t) return n;
  return -1;
}
var eC = QP,
  tC = Iv,
  rC = ZP,
  nC = eC;
function aC(e, t, r) {
  return t === t ? nC(e, t, r) : tC(e, rC, r);
}
var iC = aC,
  sC = iC;
function oC(e, t) {
  var r = e == null ? 0 : e.length;
  return !!r && sC(e, t, 0) > -1;
}
var cC = oC;
function lC(e, t, r) {
  for (var n = -1, i = e == null ? 0 : e.length; ++n < i; )
    if (r(t, e[n])) return !0;
  return !1;
}
var uC = lC;
function dC() {}
var fC = dC,
  mc = Ev,
  hC = fC,
  mC = Iu,
  pC = 1 / 0,
  vC =
    mc && 1 / mC(new mc([, -0]))[1] == pC
      ? function (e) {
          return new mc(e);
        }
      : hC,
  xC = vC,
  gC = bv,
  yC = cC,
  bC = uC,
  jC = wv,
  wC = xC,
  NC = Iu,
  _C = 200;
function OC(e, t, r) {
  var n = -1,
    i = yC,
    s = e.length,
    o = !0,
    c = [],
    l = c;
  if (r) ((o = !1), (i = bC));
  else if (s >= _C) {
    var u = t ? null : wC(e);
    if (u) return NC(u);
    ((o = !1), (i = jC), (l = new gC()));
  } else l = t ? [] : c;
  e: for (; ++n < s; ) {
    var f = e[n],
      d = t ? t(f) : f;
    if (((f = r || f !== 0 ? f : 0), o && d === d)) {
      for (var h = l.length; h--; ) if (l[h] === d) continue e;
      (t && l.push(d), c.push(f));
    } else i(l, d, r) || (l !== c && l.push(d), c.push(f));
  }
  return c;
}
var SC = OC,
  AC = Qt,
  PC = SC;
function CC(e, t) {
  return e && e.length ? PC(e, AC(t)) : [];
}
var EC = CC;
const Nf = Oe(EC);
function Dv(e, t, r) {
  return t === !0 ? Nf(e, r) : ce(t) ? Nf(e, t) : e;
}
function zn(e) {
  "@babel/helpers - typeof";
  return (
    (zn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    zn(e)
  );
}
var TC = ["ref"];
function _f(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function er(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? _f(Object(r), !0).forEach(function (n) {
          Co(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : _f(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function $C(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Of(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Lv(n.key), n));
  }
}
function kC(e, t, r) {
  return (
    t && Of(e.prototype, t),
    r && Of(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function MC(e, t, r) {
  return (
    (t = As(t)),
    IC(
      e,
      Rv() ? Reflect.construct(t, r || [], As(e).constructor) : t.apply(e, r),
    )
  );
}
function IC(e, t) {
  if (t && (zn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return DC(e);
}
function DC(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Rv() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Rv = function () {
    return !!e;
  })();
}
function As(e) {
  return (
    (As = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    As(e)
  );
}
function RC(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && sl(e, t));
}
function sl(e, t) {
  return (
    (sl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    sl(e, t)
  );
}
function Co(e, t, r) {
  return (
    (t = Lv(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Lv(e) {
  var t = LC(e, "string");
  return zn(t) == "symbol" ? t : t + "";
}
function LC(e, t) {
  if (zn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (zn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
function zC(e, t) {
  if (e == null) return {};
  var r = BC(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function BC(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function FC(e) {
  return e.value;
}
function VC(e, t) {
  if (A.isValidElement(e)) return A.cloneElement(e, t);
  if (typeof e == "function") return A.createElement(e, t);
  t.ref;
  var r = zC(t, TC);
  return A.createElement(Mu, r);
}
var Sf = 1,
  Mn = (function (e) {
    function t() {
      var r;
      $C(this, t);
      for (var n = arguments.length, i = new Array(n), s = 0; s < n; s++)
        i[s] = arguments[s];
      return (
        (r = MC(this, t, [].concat(i))),
        Co(r, "lastBoundingBox", { width: -1, height: -1 }),
        r
      );
    }
    return (
      RC(t, e),
      kC(
        t,
        [
          {
            key: "componentDidMount",
            value: function () {
              this.updateBBox();
            },
          },
          {
            key: "componentDidUpdate",
            value: function () {
              this.updateBBox();
            },
          },
          {
            key: "getBBox",
            value: function () {
              if (this.wrapperNode && this.wrapperNode.getBoundingClientRect) {
                var n = this.wrapperNode.getBoundingClientRect();
                return (
                  (n.height = this.wrapperNode.offsetHeight),
                  (n.width = this.wrapperNode.offsetWidth),
                  n
                );
              }
              return null;
            },
          },
          {
            key: "updateBBox",
            value: function () {
              var n = this.props.onBBoxUpdate,
                i = this.getBBox();
              i
                ? (Math.abs(i.width - this.lastBoundingBox.width) > Sf ||
                    Math.abs(i.height - this.lastBoundingBox.height) > Sf) &&
                  ((this.lastBoundingBox.width = i.width),
                  (this.lastBoundingBox.height = i.height),
                  n && n(i))
                : (this.lastBoundingBox.width !== -1 ||
                    this.lastBoundingBox.height !== -1) &&
                  ((this.lastBoundingBox.width = -1),
                  (this.lastBoundingBox.height = -1),
                  n && n(null));
            },
          },
          {
            key: "getBBoxSnapshot",
            value: function () {
              return this.lastBoundingBox.width >= 0 &&
                this.lastBoundingBox.height >= 0
                ? er({}, this.lastBoundingBox)
                : { width: 0, height: 0 };
            },
          },
          {
            key: "getDefaultPosition",
            value: function (n) {
              var i = this.props,
                s = i.layout,
                o = i.align,
                c = i.verticalAlign,
                l = i.margin,
                u = i.chartWidth,
                f = i.chartHeight,
                d,
                h;
              if (
                !n ||
                ((n.left === void 0 || n.left === null) &&
                  (n.right === void 0 || n.right === null))
              )
                if (o === "center" && s === "vertical") {
                  var m = this.getBBoxSnapshot();
                  d = { left: ((u || 0) - m.width) / 2 };
                } else
                  d =
                    o === "right"
                      ? { right: (l && l.right) || 0 }
                      : { left: (l && l.left) || 0 };
              if (
                !n ||
                ((n.top === void 0 || n.top === null) &&
                  (n.bottom === void 0 || n.bottom === null))
              )
                if (c === "middle") {
                  var v = this.getBBoxSnapshot();
                  h = { top: ((f || 0) - v.height) / 2 };
                } else
                  h =
                    c === "bottom"
                      ? { bottom: (l && l.bottom) || 0 }
                      : { top: (l && l.top) || 0 };
              return er(er({}, d), h);
            },
          },
          {
            key: "render",
            value: function () {
              var n = this,
                i = this.props,
                s = i.content,
                o = i.width,
                c = i.height,
                l = i.wrapperStyle,
                u = i.payloadUniqBy,
                f = i.payload,
                d = er(
                  er(
                    {
                      position: "absolute",
                      width: o || "auto",
                      height: c || "auto",
                    },
                    this.getDefaultPosition(l),
                  ),
                  l,
                );
              return A.createElement(
                "div",
                {
                  className: "recharts-legend-wrapper",
                  style: d,
                  ref: function (m) {
                    n.wrapperNode = m;
                  },
                },
                VC(s, er(er({}, this.props), {}, { payload: Dv(f, u, FC) })),
              );
            },
          },
        ],
        [
          {
            key: "getWithHeight",
            value: function (n, i) {
              var s = er(er({}, this.defaultProps), n.props),
                o = s.layout;
              return o === "vertical" && W(n.props.height)
                ? { height: n.props.height }
                : o === "horizontal"
                  ? { width: n.props.width || i }
                  : null;
            },
          },
        ],
      )
    );
  })(P.PureComponent);
Co(Mn, "displayName", "Legend");
Co(Mn, "defaultProps", {
  iconSize: 14,
  layout: "horizontal",
  align: "center",
  verticalAlign: "bottom",
});
var Af = Ti,
  UC = Du,
  qC = pt,
  Pf = Af ? Af.isConcatSpreadable : void 0;
function WC(e) {
  return qC(e) || UC(e) || !!(Pf && e && e[Pf]);
}
var GC = WC,
  KC = _v,
  HC = GC;
function zv(e, t, r, n, i) {
  var s = -1,
    o = e.length;
  for (r || (r = HC), i || (i = []); ++s < o; ) {
    var c = e[s];
    t > 0 && r(c)
      ? t > 1
        ? zv(c, t - 1, r, n, i)
        : KC(i, c)
      : n || (i[i.length] = c);
  }
  return i;
}
var Bv = zv;
function XC(e) {
  return function (t, r, n) {
    for (var i = -1, s = Object(t), o = n(t), c = o.length; c--; ) {
      var l = o[e ? c : ++i];
      if (r(s[l], l, s) === !1) break;
    }
    return t;
  };
}
var YC = XC,
  JC = YC,
  ZC = JC(),
  QC = ZC,
  eE = QC,
  tE = Po;
function rE(e, t) {
  return e && eE(e, t, tE);
}
var Fv = rE,
  nE = $i;
function aE(e, t) {
  return function (r, n) {
    if (r == null) return r;
    if (!nE(r)) return e(r, n);
    for (
      var i = r.length, s = t ? i : -1, o = Object(r);
      (t ? s-- : ++s < i) && n(o[s], s, o) !== !1;

    );
    return r;
  };
}
var iE = aE,
  sE = Fv,
  oE = iE,
  cE = oE(sE),
  Bu = cE,
  lE = Bu,
  uE = $i;
function dE(e, t) {
  var r = -1,
    n = uE(e) ? Array(e.length) : [];
  return (
    lE(e, function (i, s, o) {
      n[++r] = t(i, s, o);
    }),
    n
  );
}
var Vv = dE;
function fE(e, t) {
  var r = e.length;
  for (e.sort(t); r--; ) e[r] = e[r].value;
  return e;
}
var hE = fE,
  Cf = ua;
function mE(e, t) {
  if (e !== t) {
    var r = e !== void 0,
      n = e === null,
      i = e === e,
      s = Cf(e),
      o = t !== void 0,
      c = t === null,
      l = t === t,
      u = Cf(t);
    if (
      (!c && !u && !s && e > t) ||
      (s && o && l && !c && !u) ||
      (n && o && l) ||
      (!r && l) ||
      !i
    )
      return 1;
    if (
      (!n && !s && !u && e < t) ||
      (u && r && i && !n && !s) ||
      (c && r && i) ||
      (!o && i) ||
      !l
    )
      return -1;
  }
  return 0;
}
var pE = mE,
  vE = pE;
function xE(e, t, r) {
  for (
    var n = -1, i = e.criteria, s = t.criteria, o = i.length, c = r.length;
    ++n < o;

  ) {
    var l = vE(i[n], s[n]);
    if (l) {
      if (n >= c) return l;
      var u = r[n];
      return l * (u == "desc" ? -1 : 1);
    }
  }
  return e.index - t.index;
}
var gE = xE,
  pc = Su,
  yE = Au,
  bE = Qt,
  jE = Vv,
  wE = hE,
  NE = Av,
  _E = gE,
  OE = ga,
  SE = pt;
function AE(e, t, r) {
  t.length
    ? (t = pc(t, function (s) {
        return SE(s)
          ? function (o) {
              return yE(o, s.length === 1 ? s[0] : s);
            }
          : s;
      }))
    : (t = [OE]);
  var n = -1;
  t = pc(t, NE(bE));
  var i = jE(e, function (s, o, c) {
    var l = pc(t, function (u) {
      return u(s);
    });
    return { criteria: l, index: ++n, value: s };
  });
  return wE(i, function (s, o) {
    return _E(s, o, r);
  });
}
var PE = AE;
function CE(e, t, r) {
  switch (r.length) {
    case 0:
      return e.call(t);
    case 1:
      return e.call(t, r[0]);
    case 2:
      return e.call(t, r[0], r[1]);
    case 3:
      return e.call(t, r[0], r[1], r[2]);
  }
  return e.apply(t, r);
}
var EE = CE,
  TE = EE,
  Ef = Math.max;
function $E(e, t, r) {
  return (
    (t = Ef(t === void 0 ? e.length - 1 : t, 0)),
    function () {
      for (
        var n = arguments, i = -1, s = Ef(n.length - t, 0), o = Array(s);
        ++i < s;

      )
        o[i] = n[t + i];
      i = -1;
      for (var c = Array(t + 1); ++i < t; ) c[i] = n[i];
      return ((c[t] = r(o)), TE(e, this, c));
    }
  );
}
var kE = $E;
function ME(e) {
  return function () {
    return e;
  };
}
var IE = ME,
  DE = pn,
  RE = (function () {
    try {
      var e = DE(Object, "defineProperty");
      return (e({}, "", {}), e);
    } catch {}
  })(),
  Uv = RE,
  LE = IE,
  Tf = Uv,
  zE = ga,
  BE = Tf
    ? function (e, t) {
        return Tf(e, "toString", {
          configurable: !0,
          enumerable: !1,
          value: LE(t),
          writable: !0,
        });
      }
    : zE,
  FE = BE,
  VE = 800,
  UE = 16,
  qE = Date.now;
function WE(e) {
  var t = 0,
    r = 0;
  return function () {
    var n = qE(),
      i = UE - (n - r);
    if (((r = n), i > 0)) {
      if (++t >= VE) return arguments[0];
    } else t = 0;
    return e.apply(void 0, arguments);
  };
}
var GE = WE,
  KE = FE,
  HE = GE,
  XE = HE(KE),
  YE = XE,
  JE = ga,
  ZE = kE,
  QE = YE;
function e2(e, t) {
  return QE(ZE(e, t, JE), e + "");
}
var t2 = e2,
  r2 = wu,
  n2 = $i,
  a2 = Ru,
  i2 = Dr;
function s2(e, t, r) {
  if (!i2(r)) return !1;
  var n = typeof t;
  return (n == "number" ? n2(r) && a2(t, r.length) : n == "string" && t in r)
    ? r2(r[t], e)
    : !1;
}
var Eo = s2,
  o2 = Bv,
  c2 = PE,
  l2 = t2,
  $f = Eo,
  u2 = l2(function (e, t) {
    if (e == null) return [];
    var r = t.length;
    return (
      r > 1 && $f(e, t[0], t[1])
        ? (t = [])
        : r > 2 && $f(t[0], t[1], t[2]) && (t = [t[0]]),
      c2(e, o2(t, 1), [])
    );
  }),
  d2 = u2;
const Fu = Oe(d2);
function Ya(e) {
  "@babel/helpers - typeof";
  return (
    (Ya =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Ya(e)
  );
}
function ol() {
  return (
    (ol = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    ol.apply(this, arguments)
  );
}
function f2(e, t) {
  return v2(e) || p2(e, t) || m2(e, t) || h2();
}
function h2() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function m2(e, t) {
  if (e) {
    if (typeof e == "string") return kf(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return kf(e, t);
  }
}
function kf(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function p2(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t !== 0))
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function v2(e) {
  if (Array.isArray(e)) return e;
}
function Mf(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function vc(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Mf(Object(r), !0).forEach(function (n) {
          x2(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Mf(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function x2(e, t, r) {
  return (
    (t = g2(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function g2(e) {
  var t = y2(e, "string");
  return Ya(t) == "symbol" ? t : t + "";
}
function y2(e, t) {
  if (Ya(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Ya(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function b2(e) {
  return Array.isArray(e) && Xe(e[0]) && Xe(e[1]) ? e.join(" ~ ") : e;
}
var j2 = function (t) {
  var r = t.separator,
    n = r === void 0 ? " : " : r,
    i = t.contentStyle,
    s = i === void 0 ? {} : i,
    o = t.itemStyle,
    c = o === void 0 ? {} : o,
    l = t.labelStyle,
    u = l === void 0 ? {} : l,
    f = t.payload,
    d = t.formatter,
    h = t.itemSorter,
    m = t.wrapperClassName,
    v = t.labelClassName,
    p = t.label,
    x = t.labelFormatter,
    g = t.accessibilityLayer,
    b = g === void 0 ? !1 : g,
    N = function () {
      if (f && f.length) {
        var T = { padding: 0, margin: 0 },
          $ = (h ? Fu(f, h) : f).map(function (I, k) {
            if (I.type === "none") return null;
            var D = vc(
                {
                  display: "block",
                  paddingTop: 4,
                  paddingBottom: 4,
                  color: I.color || "#000",
                },
                c,
              ),
              V = I.formatter || d || b2,
              G = I.value,
              K = I.name,
              ee = G,
              ae = K;
            if (V && ee != null && ae != null) {
              var J = V(G, K, I, k, f);
              if (Array.isArray(J)) {
                var se = f2(J, 2);
                ((ee = se[0]), (ae = se[1]));
              } else ee = J;
            }
            return A.createElement(
              "li",
              {
                className: "recharts-tooltip-item",
                key: "tooltip-item-".concat(k),
                style: D,
              },
              Xe(ae)
                ? A.createElement(
                    "span",
                    { className: "recharts-tooltip-item-name" },
                    ae,
                  )
                : null,
              Xe(ae)
                ? A.createElement(
                    "span",
                    { className: "recharts-tooltip-item-separator" },
                    n,
                  )
                : null,
              A.createElement(
                "span",
                { className: "recharts-tooltip-item-value" },
                ee,
              ),
              A.createElement(
                "span",
                { className: "recharts-tooltip-item-unit" },
                I.unit || "",
              ),
            );
          });
        return A.createElement(
          "ul",
          { className: "recharts-tooltip-item-list", style: T },
          $,
        );
      }
      return null;
    },
    _ = vc(
      {
        margin: 0,
        padding: 10,
        backgroundColor: "#fff",
        border: "1px solid #ccc",
        whiteSpace: "nowrap",
      },
      s,
    ),
    y = vc({ margin: 0 }, u),
    j = !fe(p),
    w = j ? p : "",
    O = pe("recharts-default-tooltip", m),
    S = pe("recharts-tooltip-label", v);
  j && x && f !== void 0 && f !== null && (w = x(p, f));
  var E = b ? { role: "status", "aria-live": "assertive" } : {};
  return A.createElement(
    "div",
    ol({ className: O, style: _ }, E),
    A.createElement(
      "p",
      { className: S, style: y },
      A.isValidElement(w) ? w : "".concat(w),
    ),
    N(),
  );
};
function Ja(e) {
  "@babel/helpers - typeof";
  return (
    (Ja =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Ja(e)
  );
}
function Gi(e, t, r) {
  return (
    (t = w2(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function w2(e) {
  var t = N2(e, "string");
  return Ja(t) == "symbol" ? t : t + "";
}
function N2(e, t) {
  if (Ja(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Ja(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var _a = "recharts-tooltip-wrapper",
  _2 = { visibility: "hidden" };
function O2(e) {
  var t = e.coordinate,
    r = e.translateX,
    n = e.translateY;
  return pe(
    _a,
    Gi(
      Gi(
        Gi(
          Gi({}, "".concat(_a, "-right"), W(r) && t && W(t.x) && r >= t.x),
          "".concat(_a, "-left"),
          W(r) && t && W(t.x) && r < t.x,
        ),
        "".concat(_a, "-bottom"),
        W(n) && t && W(t.y) && n >= t.y,
      ),
      "".concat(_a, "-top"),
      W(n) && t && W(t.y) && n < t.y,
    ),
  );
}
function If(e) {
  var t = e.allowEscapeViewBox,
    r = e.coordinate,
    n = e.key,
    i = e.offsetTopLeft,
    s = e.position,
    o = e.reverseDirection,
    c = e.tooltipDimension,
    l = e.viewBox,
    u = e.viewBoxDimension;
  if (s && W(s[n])) return s[n];
  var f = r[n] - c - i,
    d = r[n] + i;
  if (t[n]) return o[n] ? f : d;
  if (o[n]) {
    var h = f,
      m = l[n];
    return h < m ? Math.max(d, l[n]) : Math.max(f, l[n]);
  }
  var v = d + c,
    p = l[n] + u;
  return v > p ? Math.max(f, l[n]) : Math.max(d, l[n]);
}
function S2(e) {
  var t = e.translateX,
    r = e.translateY,
    n = e.useTranslate3d;
  return {
    transform: n
      ? "translate3d(".concat(t, "px, ").concat(r, "px, 0)")
      : "translate(".concat(t, "px, ").concat(r, "px)"),
  };
}
function A2(e) {
  var t = e.allowEscapeViewBox,
    r = e.coordinate,
    n = e.offsetTopLeft,
    i = e.position,
    s = e.reverseDirection,
    o = e.tooltipBox,
    c = e.useTranslate3d,
    l = e.viewBox,
    u,
    f,
    d;
  return (
    o.height > 0 && o.width > 0 && r
      ? ((f = If({
          allowEscapeViewBox: t,
          coordinate: r,
          key: "x",
          offsetTopLeft: n,
          position: i,
          reverseDirection: s,
          tooltipDimension: o.width,
          viewBox: l,
          viewBoxDimension: l.width,
        })),
        (d = If({
          allowEscapeViewBox: t,
          coordinate: r,
          key: "y",
          offsetTopLeft: n,
          position: i,
          reverseDirection: s,
          tooltipDimension: o.height,
          viewBox: l,
          viewBoxDimension: l.height,
        })),
        (u = S2({ translateX: f, translateY: d, useTranslate3d: c })))
      : (u = _2),
    {
      cssProperties: u,
      cssClasses: O2({ translateX: f, translateY: d, coordinate: r }),
    }
  );
}
function Bn(e) {
  "@babel/helpers - typeof";
  return (
    (Bn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Bn(e)
  );
}
function Df(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Rf(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Df(Object(r), !0).forEach(function (n) {
          ll(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Df(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function P2(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function C2(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Wv(n.key), n));
  }
}
function E2(e, t, r) {
  return (
    t && C2(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function T2(e, t, r) {
  return (
    (t = Ps(t)),
    $2(
      e,
      qv() ? Reflect.construct(t, r || [], Ps(e).constructor) : t.apply(e, r),
    )
  );
}
function $2(e, t) {
  if (t && (Bn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return k2(e);
}
function k2(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function qv() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (qv = function () {
    return !!e;
  })();
}
function Ps(e) {
  return (
    (Ps = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    Ps(e)
  );
}
function M2(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && cl(e, t));
}
function cl(e, t) {
  return (
    (cl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    cl(e, t)
  );
}
function ll(e, t, r) {
  return (
    (t = Wv(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Wv(e) {
  var t = I2(e, "string");
  return Bn(t) == "symbol" ? t : t + "";
}
function I2(e, t) {
  if (Bn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Bn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var Lf = 1,
  D2 = (function (e) {
    function t() {
      var r;
      P2(this, t);
      for (var n = arguments.length, i = new Array(n), s = 0; s < n; s++)
        i[s] = arguments[s];
      return (
        (r = T2(this, t, [].concat(i))),
        ll(r, "state", {
          dismissed: !1,
          dismissedAtCoordinate: { x: 0, y: 0 },
          lastBoundingBox: { width: -1, height: -1 },
        }),
        ll(r, "handleKeyDown", function (o) {
          if (o.key === "Escape") {
            var c, l, u, f;
            r.setState({
              dismissed: !0,
              dismissedAtCoordinate: {
                x:
                  (c =
                    (l = r.props.coordinate) === null || l === void 0
                      ? void 0
                      : l.x) !== null && c !== void 0
                    ? c
                    : 0,
                y:
                  (u =
                    (f = r.props.coordinate) === null || f === void 0
                      ? void 0
                      : f.y) !== null && u !== void 0
                    ? u
                    : 0,
              },
            });
          }
        }),
        r
      );
    }
    return (
      M2(t, e),
      E2(t, [
        {
          key: "updateBBox",
          value: function () {
            if (this.wrapperNode && this.wrapperNode.getBoundingClientRect) {
              var n = this.wrapperNode.getBoundingClientRect();
              (Math.abs(n.width - this.state.lastBoundingBox.width) > Lf ||
                Math.abs(n.height - this.state.lastBoundingBox.height) > Lf) &&
                this.setState({
                  lastBoundingBox: { width: n.width, height: n.height },
                });
            } else
              (this.state.lastBoundingBox.width !== -1 ||
                this.state.lastBoundingBox.height !== -1) &&
                this.setState({ lastBoundingBox: { width: -1, height: -1 } });
          },
        },
        {
          key: "componentDidMount",
          value: function () {
            (document.addEventListener("keydown", this.handleKeyDown),
              this.updateBBox());
          },
        },
        {
          key: "componentWillUnmount",
          value: function () {
            document.removeEventListener("keydown", this.handleKeyDown);
          },
        },
        {
          key: "componentDidUpdate",
          value: function () {
            var n, i;
            (this.props.active && this.updateBBox(),
              this.state.dismissed &&
                (((n = this.props.coordinate) === null || n === void 0
                  ? void 0
                  : n.x) !== this.state.dismissedAtCoordinate.x ||
                  ((i = this.props.coordinate) === null || i === void 0
                    ? void 0
                    : i.y) !== this.state.dismissedAtCoordinate.y) &&
                (this.state.dismissed = !1));
          },
        },
        {
          key: "render",
          value: function () {
            var n = this,
              i = this.props,
              s = i.active,
              o = i.allowEscapeViewBox,
              c = i.animationDuration,
              l = i.animationEasing,
              u = i.children,
              f = i.coordinate,
              d = i.hasPayload,
              h = i.isAnimationActive,
              m = i.offset,
              v = i.position,
              p = i.reverseDirection,
              x = i.useTranslate3d,
              g = i.viewBox,
              b = i.wrapperStyle,
              N = A2({
                allowEscapeViewBox: o,
                coordinate: f,
                offsetTopLeft: m,
                position: v,
                reverseDirection: p,
                tooltipBox: this.state.lastBoundingBox,
                useTranslate3d: x,
                viewBox: g,
              }),
              _ = N.cssClasses,
              y = N.cssProperties,
              j = Rf(
                Rf(
                  {
                    transition:
                      h && s ? "transform ".concat(c, "ms ").concat(l) : void 0,
                  },
                  y,
                ),
                {},
                {
                  pointerEvents: "none",
                  visibility:
                    !this.state.dismissed && s && d ? "visible" : "hidden",
                  position: "absolute",
                  top: 0,
                  left: 0,
                },
                b,
              );
            return A.createElement(
              "div",
              {
                tabIndex: -1,
                className: _,
                style: j,
                ref: function (O) {
                  n.wrapperNode = O;
                },
              },
              u,
            );
          },
        },
      ])
    );
  })(P.PureComponent),
  R2 = function () {
    return !(
      typeof window < "u" &&
      window.document &&
      window.document.createElement &&
      window.setTimeout
    );
  },
  Rr = { isSsr: R2() };
function Fn(e) {
  "@babel/helpers - typeof";
  return (
    (Fn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Fn(e)
  );
}
function zf(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Bf(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? zf(Object(r), !0).forEach(function (n) {
          Vu(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : zf(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function L2(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function z2(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Kv(n.key), n));
  }
}
function B2(e, t, r) {
  return (
    t && z2(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function F2(e, t, r) {
  return (
    (t = Cs(t)),
    V2(
      e,
      Gv() ? Reflect.construct(t, r || [], Cs(e).constructor) : t.apply(e, r),
    )
  );
}
function V2(e, t) {
  if (t && (Fn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return U2(e);
}
function U2(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Gv() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Gv = function () {
    return !!e;
  })();
}
function Cs(e) {
  return (
    (Cs = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    Cs(e)
  );
}
function q2(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && ul(e, t));
}
function ul(e, t) {
  return (
    (ul = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    ul(e, t)
  );
}
function Vu(e, t, r) {
  return (
    (t = Kv(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Kv(e) {
  var t = W2(e, "string");
  return Fn(t) == "symbol" ? t : t + "";
}
function W2(e, t) {
  if (Fn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Fn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
function G2(e) {
  return e.dataKey;
}
function K2(e, t) {
  return A.isValidElement(e)
    ? A.cloneElement(e, t)
    : typeof e == "function"
      ? A.createElement(e, t)
      : A.createElement(j2, t);
}
var zt = (function (e) {
  function t() {
    return (L2(this, t), F2(this, t, arguments));
  }
  return (
    q2(t, e),
    B2(t, [
      {
        key: "render",
        value: function () {
          var n = this,
            i = this.props,
            s = i.active,
            o = i.allowEscapeViewBox,
            c = i.animationDuration,
            l = i.animationEasing,
            u = i.content,
            f = i.coordinate,
            d = i.filterNull,
            h = i.isAnimationActive,
            m = i.offset,
            v = i.payload,
            p = i.payloadUniqBy,
            x = i.position,
            g = i.reverseDirection,
            b = i.useTranslate3d,
            N = i.viewBox,
            _ = i.wrapperStyle,
            y = v ?? [];
          d &&
            y.length &&
            (y = Dv(
              v.filter(function (w) {
                return (
                  w.value != null && (w.hide !== !0 || n.props.includeHidden)
                );
              }),
              p,
              G2,
            ));
          var j = y.length > 0;
          return A.createElement(
            D2,
            {
              allowEscapeViewBox: o,
              animationDuration: c,
              animationEasing: l,
              isAnimationActive: h,
              active: s,
              coordinate: f,
              hasPayload: j,
              offset: m,
              position: x,
              reverseDirection: g,
              useTranslate3d: b,
              viewBox: N,
              wrapperStyle: _,
            },
            K2(u, Bf(Bf({}, this.props), {}, { payload: y })),
          );
        },
      },
    ])
  );
})(P.PureComponent);
Vu(zt, "displayName", "Tooltip");
Vu(zt, "defaultProps", {
  accessibilityLayer: !1,
  allowEscapeViewBox: { x: !1, y: !1 },
  animationDuration: 400,
  animationEasing: "ease",
  contentStyle: {},
  coordinate: { x: 0, y: 0 },
  cursor: !0,
  cursorStyle: {},
  filterNull: !0,
  isAnimationActive: !Rr.isSsr,
  itemStyle: {},
  labelStyle: {},
  offset: 10,
  reverseDirection: { x: !1, y: !1 },
  separator: " : ",
  trigger: "hover",
  useTranslate3d: !1,
  viewBox: { x: 0, y: 0, height: 0, width: 0 },
  wrapperStyle: {},
});
var H2 = Zt,
  X2 = function () {
    return H2.Date.now();
  },
  Y2 = X2,
  J2 = /\s/;
function Z2(e) {
  for (var t = e.length; t-- && J2.test(e.charAt(t)); );
  return t;
}
var Q2 = Z2,
  eT = Q2,
  tT = /^\s+/;
function rT(e) {
  return e && e.slice(0, eT(e) + 1).replace(tT, "");
}
var nT = rT,
  aT = nT,
  Ff = Dr,
  iT = ua,
  Vf = NaN,
  sT = /^[-+]0x[0-9a-f]+$/i,
  oT = /^0b[01]+$/i,
  cT = /^0o[0-7]+$/i,
  lT = parseInt;
function uT(e) {
  if (typeof e == "number") return e;
  if (iT(e)) return Vf;
  if (Ff(e)) {
    var t = typeof e.valueOf == "function" ? e.valueOf() : e;
    e = Ff(t) ? t + "" : t;
  }
  if (typeof e != "string") return e === 0 ? e : +e;
  e = aT(e);
  var r = oT.test(e);
  return r || cT.test(e) ? lT(e.slice(2), r ? 2 : 8) : sT.test(e) ? Vf : +e;
}
var Hv = uT,
  dT = Dr,
  xc = Y2,
  Uf = Hv,
  fT = "Expected a function",
  hT = Math.max,
  mT = Math.min;
function pT(e, t, r) {
  var n,
    i,
    s,
    o,
    c,
    l,
    u = 0,
    f = !1,
    d = !1,
    h = !0;
  if (typeof e != "function") throw new TypeError(fT);
  ((t = Uf(t) || 0),
    dT(r) &&
      ((f = !!r.leading),
      (d = "maxWait" in r),
      (s = d ? hT(Uf(r.maxWait) || 0, t) : s),
      (h = "trailing" in r ? !!r.trailing : h)));
  function m(j) {
    var w = n,
      O = i;
    return ((n = i = void 0), (u = j), (o = e.apply(O, w)), o);
  }
  function v(j) {
    return ((u = j), (c = setTimeout(g, t)), f ? m(j) : o);
  }
  function p(j) {
    var w = j - l,
      O = j - u,
      S = t - w;
    return d ? mT(S, s - O) : S;
  }
  function x(j) {
    var w = j - l,
      O = j - u;
    return l === void 0 || w >= t || w < 0 || (d && O >= s);
  }
  function g() {
    var j = xc();
    if (x(j)) return b(j);
    c = setTimeout(g, p(j));
  }
  function b(j) {
    return ((c = void 0), h && n ? m(j) : ((n = i = void 0), o));
  }
  function N() {
    (c !== void 0 && clearTimeout(c), (u = 0), (n = l = i = c = void 0));
  }
  function _() {
    return c === void 0 ? o : b(xc());
  }
  function y() {
    var j = xc(),
      w = x(j);
    if (((n = arguments), (i = this), (l = j), w)) {
      if (c === void 0) return v(l);
      if (d) return (clearTimeout(c), (c = setTimeout(g, t)), m(l));
    }
    return (c === void 0 && (c = setTimeout(g, t)), o);
  }
  return ((y.cancel = N), (y.flush = _), y);
}
var vT = pT,
  xT = vT,
  gT = Dr,
  yT = "Expected a function";
function bT(e, t, r) {
  var n = !0,
    i = !0;
  if (typeof e != "function") throw new TypeError(yT);
  return (
    gT(r) &&
      ((n = "leading" in r ? !!r.leading : n),
      (i = "trailing" in r ? !!r.trailing : i)),
    xT(e, t, { leading: n, maxWait: t, trailing: i })
  );
}
var jT = bT;
const Xv = Oe(jT);
function Za(e) {
  "@babel/helpers - typeof";
  return (
    (Za =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Za(e)
  );
}
function qf(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Ki(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? qf(Object(r), !0).forEach(function (n) {
          wT(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : qf(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function wT(e, t, r) {
  return (
    (t = NT(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function NT(e) {
  var t = _T(e, "string");
  return Za(t) == "symbol" ? t : t + "";
}
function _T(e, t) {
  if (Za(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Za(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function OT(e, t) {
  return CT(e) || PT(e, t) || AT(e, t) || ST();
}
function ST() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function AT(e, t) {
  if (e) {
    if (typeof e == "string") return Wf(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Wf(e, t);
  }
}
function Wf(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function PT(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t !== 0))
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function CT(e) {
  if (Array.isArray(e)) return e;
}
var Yv = P.forwardRef(function (e, t) {
    var r = e.aspect,
      n = e.initialDimension,
      i = n === void 0 ? { width: -1, height: -1 } : n,
      s = e.width,
      o = s === void 0 ? "100%" : s,
      c = e.height,
      l = c === void 0 ? "100%" : c,
      u = e.minWidth,
      f = u === void 0 ? 0 : u,
      d = e.minHeight,
      h = e.maxHeight,
      m = e.children,
      v = e.debounce,
      p = v === void 0 ? 0 : v,
      x = e.id,
      g = e.className,
      b = e.onResize,
      N = e.style,
      _ = N === void 0 ? {} : N,
      y = P.useRef(null),
      j = P.useRef();
    ((j.current = b),
      P.useImperativeHandle(t, function () {
        return Object.defineProperty(y.current, "current", {
          get: function () {
            return (
              console.warn(
                "The usage of ref.current.current is deprecated and will no longer be supported.",
              ),
              y.current
            );
          },
          configurable: !0,
        });
      }));
    var w = P.useState({ containerWidth: i.width, containerHeight: i.height }),
      O = OT(w, 2),
      S = O[0],
      E = O[1],
      C = P.useCallback(function ($, I) {
        E(function (k) {
          var D = Math.round($),
            V = Math.round(I);
          return k.containerWidth === D && k.containerHeight === V
            ? k
            : { containerWidth: D, containerHeight: V };
        });
      }, []);
    P.useEffect(
      function () {
        var $ = function (K) {
          var ee,
            ae = K[0].contentRect,
            J = ae.width,
            se = ae.height;
          (C(J, se),
            (ee = j.current) === null || ee === void 0 || ee.call(j, J, se));
        };
        p > 0 && ($ = Xv($, p, { trailing: !0, leading: !1 }));
        var I = new ResizeObserver($),
          k = y.current.getBoundingClientRect(),
          D = k.width,
          V = k.height;
        return (
          C(D, V),
          I.observe(y.current),
          function () {
            I.disconnect();
          }
        );
      },
      [C, p],
    );
    var T = P.useMemo(
      function () {
        var $ = S.containerWidth,
          I = S.containerHeight;
        if ($ < 0 || I < 0) return null;
        (Dt(
          Xr(o) || Xr(l),
          `The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,
          o,
          l,
        ),
          Dt(!r || r > 0, "The aspect(%s) must be greater than zero.", r));
        var k = Xr(o) ? $ : o,
          D = Xr(l) ? I : l;
        (r &&
          r > 0 &&
          (k ? (D = k / r) : D && (k = D * r), h && D > h && (D = h)),
          Dt(
            k > 0 || D > 0,
            `The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,
            k,
            D,
            o,
            l,
            f,
            d,
            r,
          ));
        var V = !Array.isArray(m) && lr(m.type).endsWith("Chart");
        return A.Children.map(m, function (G) {
          return A.isValidElement(G)
            ? P.cloneElement(
                G,
                Ki(
                  { width: k, height: D },
                  V
                    ? {
                        style: Ki(
                          {
                            height: "100%",
                            width: "100%",
                            maxHeight: D,
                            maxWidth: k,
                          },
                          G.props.style,
                        ),
                      }
                    : {},
                ),
              )
            : G;
        });
      },
      [r, m, l, h, d, f, S, o],
    );
    return A.createElement(
      "div",
      {
        id: x ? "".concat(x) : void 0,
        className: pe("recharts-responsive-container", g),
        style: Ki(
          Ki({}, _),
          {},
          { width: o, height: l, minWidth: f, minHeight: d, maxHeight: h },
        ),
        ref: y,
      },
      T,
    );
  }),
  To = function (t) {
    return null;
  };
To.displayName = "Cell";
function Qa(e) {
  "@babel/helpers - typeof";
  return (
    (Qa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Qa(e)
  );
}
function Gf(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function dl(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Gf(Object(r), !0).forEach(function (n) {
          ET(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Gf(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function ET(e, t, r) {
  return (
    (t = TT(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function TT(e) {
  var t = $T(e, "string");
  return Qa(t) == "symbol" ? t : t + "";
}
function $T(e, t) {
  if (Qa(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Qa(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var bn = { widthCache: {}, cacheCount: 0 },
  kT = 2e3,
  MT = {
    position: "absolute",
    top: "-20000px",
    left: 0,
    padding: 0,
    margin: 0,
    border: "none",
    whiteSpace: "pre",
  },
  Kf = "recharts_measurement_span";
function IT(e) {
  var t = dl({}, e);
  return (
    Object.keys(t).forEach(function (r) {
      t[r] || delete t[r];
    }),
    t
  );
}
var La = function (t) {
    var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (t == null || Rr.isSsr) return { width: 0, height: 0 };
    var n = IT(r),
      i = JSON.stringify({ text: t, copyStyle: n });
    if (bn.widthCache[i]) return bn.widthCache[i];
    try {
      var s = document.getElementById(Kf);
      s ||
        ((s = document.createElement("span")),
        s.setAttribute("id", Kf),
        s.setAttribute("aria-hidden", "true"),
        document.body.appendChild(s));
      var o = dl(dl({}, MT), n);
      (Object.assign(s.style, o), (s.textContent = "".concat(t)));
      var c = s.getBoundingClientRect(),
        l = { width: c.width, height: c.height };
      return (
        (bn.widthCache[i] = l),
        ++bn.cacheCount > kT && ((bn.cacheCount = 0), (bn.widthCache = {})),
        l
      );
    } catch {
      return { width: 0, height: 0 };
    }
  },
  DT = function (t) {
    return {
      top: t.top + window.scrollY - document.documentElement.clientTop,
      left: t.left + window.scrollX - document.documentElement.clientLeft,
    };
  };
function ei(e) {
  "@babel/helpers - typeof";
  return (
    (ei =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ei(e)
  );
}
function Es(e, t) {
  return BT(e) || zT(e, t) || LT(e, t) || RT();
}
function RT() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function LT(e, t) {
  if (e) {
    if (typeof e == "string") return Hf(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Hf(e, t);
  }
}
function Hf(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function zT(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t === 0)) {
        if (Object(r) !== r) return;
        l = !1;
      } else
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function BT(e) {
  if (Array.isArray(e)) return e;
}
function FT(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Xf(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, UT(n.key), n));
  }
}
function VT(e, t, r) {
  return (
    t && Xf(e.prototype, t),
    r && Xf(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function UT(e) {
  var t = qT(e, "string");
  return ei(t) == "symbol" ? t : t + "";
}
function qT(e, t) {
  if (ei(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (ei(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var Yf = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,
  Jf = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,
  WT = /^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,
  GT = /(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,
  Jv = {
    cm: 96 / 2.54,
    mm: 96 / 25.4,
    pt: 96 / 72,
    pc: 96 / 6,
    in: 96,
    Q: 96 / (2.54 * 40),
    px: 1,
  },
  KT = Object.keys(Jv),
  On = "NaN";
function HT(e, t) {
  return e * Jv[t];
}
var Hi = (function () {
  function e(t, r) {
    (FT(this, e),
      (this.num = t),
      (this.unit = r),
      (this.num = t),
      (this.unit = r),
      Number.isNaN(t) && (this.unit = ""),
      r !== "" && !WT.test(r) && ((this.num = NaN), (this.unit = "")),
      KT.includes(r) && ((this.num = HT(t, r)), (this.unit = "px")));
  }
  return VT(
    e,
    [
      {
        key: "add",
        value: function (r) {
          return this.unit !== r.unit
            ? new e(NaN, "")
            : new e(this.num + r.num, this.unit);
        },
      },
      {
        key: "subtract",
        value: function (r) {
          return this.unit !== r.unit
            ? new e(NaN, "")
            : new e(this.num - r.num, this.unit);
        },
      },
      {
        key: "multiply",
        value: function (r) {
          return this.unit !== "" && r.unit !== "" && this.unit !== r.unit
            ? new e(NaN, "")
            : new e(this.num * r.num, this.unit || r.unit);
        },
      },
      {
        key: "divide",
        value: function (r) {
          return this.unit !== "" && r.unit !== "" && this.unit !== r.unit
            ? new e(NaN, "")
            : new e(this.num / r.num, this.unit || r.unit);
        },
      },
      {
        key: "toString",
        value: function () {
          return "".concat(this.num).concat(this.unit);
        },
      },
      {
        key: "isNaN",
        value: function () {
          return Number.isNaN(this.num);
        },
      },
    ],
    [
      {
        key: "parse",
        value: function (r) {
          var n,
            i = (n = GT.exec(r)) !== null && n !== void 0 ? n : [],
            s = Es(i, 3),
            o = s[1],
            c = s[2];
          return new e(parseFloat(o), c ?? "");
        },
      },
    ],
  );
})();
function Zv(e) {
  if (e.includes(On)) return On;
  for (var t = e; t.includes("*") || t.includes("/"); ) {
    var r,
      n = (r = Yf.exec(t)) !== null && r !== void 0 ? r : [],
      i = Es(n, 4),
      s = i[1],
      o = i[2],
      c = i[3],
      l = Hi.parse(s ?? ""),
      u = Hi.parse(c ?? ""),
      f = o === "*" ? l.multiply(u) : l.divide(u);
    if (f.isNaN()) return On;
    t = t.replace(Yf, f.toString());
  }
  for (; t.includes("+") || /.-\d+(?:\.\d+)?/.test(t); ) {
    var d,
      h = (d = Jf.exec(t)) !== null && d !== void 0 ? d : [],
      m = Es(h, 4),
      v = m[1],
      p = m[2],
      x = m[3],
      g = Hi.parse(v ?? ""),
      b = Hi.parse(x ?? ""),
      N = p === "+" ? g.add(b) : g.subtract(b);
    if (N.isNaN()) return On;
    t = t.replace(Jf, N.toString());
  }
  return t;
}
var Zf = /\(([^()]*)\)/;
function XT(e) {
  for (var t = e; t.includes("("); ) {
    var r = Zf.exec(t),
      n = Es(r, 2),
      i = n[1];
    t = t.replace(Zf, Zv(i));
  }
  return t;
}
function YT(e) {
  var t = e.replace(/\s+/g, "");
  return ((t = XT(t)), (t = Zv(t)), t);
}
function JT(e) {
  try {
    return YT(e);
  } catch {
    return On;
  }
}
function gc(e) {
  var t = JT(e.slice(5, -1));
  return t === On ? "" : t;
}
var ZT = [
    "x",
    "y",
    "lineHeight",
    "capHeight",
    "scaleToFit",
    "textAnchor",
    "verticalAnchor",
    "fill",
  ],
  QT = ["dx", "dy", "angle", "className", "breakAll"];
function fl() {
  return (
    (fl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    fl.apply(this, arguments)
  );
}
function Qf(e, t) {
  if (e == null) return {};
  var r = e$(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function e$(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function eh(e, t) {
  return a$(e) || n$(e, t) || r$(e, t) || t$();
}
function t$() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function r$(e, t) {
  if (e) {
    if (typeof e == "string") return th(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return th(e, t);
  }
}
function th(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function n$(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t === 0)) {
        if (Object(r) !== r) return;
        l = !1;
      } else
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function a$(e) {
  if (Array.isArray(e)) return e;
}
var Qv = /[ \f\n\r\t\v\u2028\u2029]+/,
  ex = function (t) {
    var r = t.children,
      n = t.breakAll,
      i = t.style;
    try {
      var s = [];
      fe(r) ||
        (n ? (s = r.toString().split("")) : (s = r.toString().split(Qv)));
      var o = s.map(function (l) {
          return { word: l, width: La(l, i).width };
        }),
        c = n ? 0 : La("", i).width;
      return { wordsWithComputedWidth: o, spaceWidth: c };
    } catch {
      return null;
    }
  },
  i$ = function (t, r, n, i, s) {
    var o = t.maxLines,
      c = t.children,
      l = t.style,
      u = t.breakAll,
      f = W(o),
      d = c,
      h = function () {
        var k =
          arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
        return k.reduce(function (D, V) {
          var G = V.word,
            K = V.width,
            ee = D[D.length - 1];
          if (ee && (i == null || s || ee.width + K + n < Number(i)))
            (ee.words.push(G), (ee.width += K + n));
          else {
            var ae = { words: [G], width: K };
            D.push(ae);
          }
          return D;
        }, []);
      },
      m = h(r),
      v = function (k) {
        return k.reduce(function (D, V) {
          return D.width > V.width ? D : V;
        });
      };
    if (!f) return m;
    for (
      var p = "",
        x = function (k) {
          var D = d.slice(0, k),
            V = ex({
              breakAll: u,
              style: l,
              children: D + p,
            }).wordsWithComputedWidth,
            G = h(V),
            K = G.length > o || v(G).width > Number(i);
          return [K, G];
        },
        g = 0,
        b = d.length - 1,
        N = 0,
        _;
      g <= b && N <= d.length - 1;

    ) {
      var y = Math.floor((g + b) / 2),
        j = y - 1,
        w = x(j),
        O = eh(w, 2),
        S = O[0],
        E = O[1],
        C = x(y),
        T = eh(C, 1),
        $ = T[0];
      if ((!S && !$ && (g = y + 1), S && $ && (b = y - 1), !S && $)) {
        _ = E;
        break;
      }
      N++;
    }
    return _ || m;
  },
  rh = function (t) {
    var r = fe(t) ? [] : t.toString().split(Qv);
    return [{ words: r }];
  },
  s$ = function (t) {
    var r = t.width,
      n = t.scaleToFit,
      i = t.children,
      s = t.style,
      o = t.breakAll,
      c = t.maxLines;
    if ((r || n) && !Rr.isSsr) {
      var l,
        u,
        f = ex({ breakAll: o, children: i, style: s });
      if (f) {
        var d = f.wordsWithComputedWidth,
          h = f.spaceWidth;
        ((l = d), (u = h));
      } else return rh(i);
      return i$(
        { breakAll: o, children: i, maxLines: c, style: s },
        l,
        u,
        r,
        n,
      );
    }
    return rh(i);
  },
  nh = "#808080",
  sn = function (t) {
    var r = t.x,
      n = r === void 0 ? 0 : r,
      i = t.y,
      s = i === void 0 ? 0 : i,
      o = t.lineHeight,
      c = o === void 0 ? "1em" : o,
      l = t.capHeight,
      u = l === void 0 ? "0.71em" : l,
      f = t.scaleToFit,
      d = f === void 0 ? !1 : f,
      h = t.textAnchor,
      m = h === void 0 ? "start" : h,
      v = t.verticalAnchor,
      p = v === void 0 ? "end" : v,
      x = t.fill,
      g = x === void 0 ? nh : x,
      b = Qf(t, ZT),
      N = P.useMemo(
        function () {
          return s$({
            breakAll: b.breakAll,
            children: b.children,
            maxLines: b.maxLines,
            scaleToFit: d,
            style: b.style,
            width: b.width,
          });
        },
        [b.breakAll, b.children, b.maxLines, d, b.style, b.width],
      ),
      _ = b.dx,
      y = b.dy,
      j = b.angle,
      w = b.className,
      O = b.breakAll,
      S = Qf(b, QT);
    if (!Xe(n) || !Xe(s)) return null;
    var E = n + (W(_) ? _ : 0),
      C = s + (W(y) ? y : 0),
      T;
    switch (p) {
      case "start":
        T = gc("calc(".concat(u, ")"));
        break;
      case "middle":
        T = gc(
          "calc("
            .concat((N.length - 1) / 2, " * -")
            .concat(c, " + (")
            .concat(u, " / 2))"),
        );
        break;
      default:
        T = gc("calc(".concat(N.length - 1, " * -").concat(c, ")"));
        break;
    }
    var $ = [];
    if (d) {
      var I = N[0].width,
        k = b.width;
      $.push("scale(".concat((W(k) ? k / I : 1) / I, ")"));
    }
    return (
      j && $.push("rotate(".concat(j, ", ").concat(E, ", ").concat(C, ")")),
      $.length && (S.transform = $.join(" ")),
      A.createElement(
        "text",
        fl({}, ne(S, !0), {
          x: E,
          y: C,
          className: pe("recharts-text", w),
          textAnchor: m,
          fill: g.includes("url") ? nh : g,
        }),
        N.map(function (D, V) {
          var G = D.words.join(O ? "" : " ");
          return A.createElement(
            "tspan",
            { x: E, dy: V === 0 ? T : c, key: "".concat(G, "-").concat(V) },
            G,
          );
        }),
      )
    );
  };
function $r(e, t) {
  return e == null || t == null
    ? NaN
    : e < t
      ? -1
      : e > t
        ? 1
        : e >= t
          ? 0
          : NaN;
}
function o$(e, t) {
  return e == null || t == null
    ? NaN
    : t < e
      ? -1
      : t > e
        ? 1
        : t >= e
          ? 0
          : NaN;
}
function Uu(e) {
  let t, r, n;
  e.length !== 2
    ? ((t = $r), (r = (c, l) => $r(e(c), l)), (n = (c, l) => e(c) - l))
    : ((t = e === $r || e === o$ ? e : c$), (r = e), (n = e));
  function i(c, l, u = 0, f = c.length) {
    if (u < f) {
      if (t(l, l) !== 0) return f;
      do {
        const d = (u + f) >>> 1;
        r(c[d], l) < 0 ? (u = d + 1) : (f = d);
      } while (u < f);
    }
    return u;
  }
  function s(c, l, u = 0, f = c.length) {
    if (u < f) {
      if (t(l, l) !== 0) return f;
      do {
        const d = (u + f) >>> 1;
        r(c[d], l) <= 0 ? (u = d + 1) : (f = d);
      } while (u < f);
    }
    return u;
  }
  function o(c, l, u = 0, f = c.length) {
    const d = i(c, l, u, f - 1);
    return d > u && n(c[d - 1], l) > -n(c[d], l) ? d - 1 : d;
  }
  return { left: i, center: o, right: s };
}
function c$() {
  return 0;
}
function tx(e) {
  return e === null ? NaN : +e;
}
function* l$(e, t) {
  for (let r of e) r != null && (r = +r) >= r && (yield r);
}
const u$ = Uu($r),
  ki = u$.right;
Uu(tx).center;
class ah extends Map {
  constructor(t, r = h$) {
    if (
      (super(),
      Object.defineProperties(this, {
        _intern: { value: new Map() },
        _key: { value: r },
      }),
      t != null)
    )
      for (const [n, i] of t) this.set(n, i);
  }
  get(t) {
    return super.get(ih(this, t));
  }
  has(t) {
    return super.has(ih(this, t));
  }
  set(t, r) {
    return super.set(d$(this, t), r);
  }
  delete(t) {
    return super.delete(f$(this, t));
  }
}
function ih({ _intern: e, _key: t }, r) {
  const n = t(r);
  return e.has(n) ? e.get(n) : r;
}
function d$({ _intern: e, _key: t }, r) {
  const n = t(r);
  return e.has(n) ? e.get(n) : (e.set(n, r), r);
}
function f$({ _intern: e, _key: t }, r) {
  const n = t(r);
  return (e.has(n) && ((r = e.get(n)), e.delete(n)), r);
}
function h$(e) {
  return e !== null && typeof e == "object" ? e.valueOf() : e;
}
function m$(e = $r) {
  if (e === $r) return rx;
  if (typeof e != "function") throw new TypeError("compare is not a function");
  return (t, r) => {
    const n = e(t, r);
    return n || n === 0 ? n : (e(r, r) === 0) - (e(t, t) === 0);
  };
}
function rx(e, t) {
  return (
    (e == null || !(e >= e)) - (t == null || !(t >= t)) ||
    (e < t ? -1 : e > t ? 1 : 0)
  );
}
const p$ = Math.sqrt(50),
  v$ = Math.sqrt(10),
  x$ = Math.sqrt(2);
function Ts(e, t, r) {
  const n = (t - e) / Math.max(0, r),
    i = Math.floor(Math.log10(n)),
    s = n / Math.pow(10, i),
    o = s >= p$ ? 10 : s >= v$ ? 5 : s >= x$ ? 2 : 1;
  let c, l, u;
  return (
    i < 0
      ? ((u = Math.pow(10, -i) / o),
        (c = Math.round(e * u)),
        (l = Math.round(t * u)),
        c / u < e && ++c,
        l / u > t && --l,
        (u = -u))
      : ((u = Math.pow(10, i) * o),
        (c = Math.round(e / u)),
        (l = Math.round(t / u)),
        c * u < e && ++c,
        l * u > t && --l),
    l < c && 0.5 <= r && r < 2 ? Ts(e, t, r * 2) : [c, l, u]
  );
}
function hl(e, t, r) {
  if (((t = +t), (e = +e), (r = +r), !(r > 0))) return [];
  if (e === t) return [e];
  const n = t < e,
    [i, s, o] = n ? Ts(t, e, r) : Ts(e, t, r);
  if (!(s >= i)) return [];
  const c = s - i + 1,
    l = new Array(c);
  if (n)
    if (o < 0) for (let u = 0; u < c; ++u) l[u] = (s - u) / -o;
    else for (let u = 0; u < c; ++u) l[u] = (s - u) * o;
  else if (o < 0) for (let u = 0; u < c; ++u) l[u] = (i + u) / -o;
  else for (let u = 0; u < c; ++u) l[u] = (i + u) * o;
  return l;
}
function ml(e, t, r) {
  return ((t = +t), (e = +e), (r = +r), Ts(e, t, r)[2]);
}
function pl(e, t, r) {
  ((t = +t), (e = +e), (r = +r));
  const n = t < e,
    i = n ? ml(t, e, r) : ml(e, t, r);
  return (n ? -1 : 1) * (i < 0 ? 1 / -i : i);
}
function sh(e, t) {
  let r;
  for (const n of e)
    n != null && (r < n || (r === void 0 && n >= n)) && (r = n);
  return r;
}
function oh(e, t) {
  let r;
  for (const n of e)
    n != null && (r > n || (r === void 0 && n >= n)) && (r = n);
  return r;
}
function nx(e, t, r = 0, n = 1 / 0, i) {
  if (
    ((t = Math.floor(t)),
    (r = Math.floor(Math.max(0, r))),
    (n = Math.floor(Math.min(e.length - 1, n))),
    !(r <= t && t <= n))
  )
    return e;
  for (i = i === void 0 ? rx : m$(i); n > r; ) {
    if (n - r > 600) {
      const l = n - r + 1,
        u = t - r + 1,
        f = Math.log(l),
        d = 0.5 * Math.exp((2 * f) / 3),
        h = 0.5 * Math.sqrt((f * d * (l - d)) / l) * (u - l / 2 < 0 ? -1 : 1),
        m = Math.max(r, Math.floor(t - (u * d) / l + h)),
        v = Math.min(n, Math.floor(t + ((l - u) * d) / l + h));
      nx(e, t, m, v, i);
    }
    const s = e[t];
    let o = r,
      c = n;
    for (Oa(e, r, t), i(e[n], s) > 0 && Oa(e, r, n); o < c; ) {
      for (Oa(e, o, c), ++o, --c; i(e[o], s) < 0; ) ++o;
      for (; i(e[c], s) > 0; ) --c;
    }
    (i(e[r], s) === 0 ? Oa(e, r, c) : (++c, Oa(e, c, n)),
      c <= t && (r = c + 1),
      t <= c && (n = c - 1));
  }
  return e;
}
function Oa(e, t, r) {
  const n = e[t];
  ((e[t] = e[r]), (e[r] = n));
}
function g$(e, t, r) {
  if (((e = Float64Array.from(l$(e))), !(!(n = e.length) || isNaN((t = +t))))) {
    if (t <= 0 || n < 2) return oh(e);
    if (t >= 1) return sh(e);
    var n,
      i = (n - 1) * t,
      s = Math.floor(i),
      o = sh(nx(e, s).subarray(0, s + 1)),
      c = oh(e.subarray(s + 1));
    return o + (c - o) * (i - s);
  }
}
function y$(e, t, r = tx) {
  if (!(!(n = e.length) || isNaN((t = +t)))) {
    if (t <= 0 || n < 2) return +r(e[0], 0, e);
    if (t >= 1) return +r(e[n - 1], n - 1, e);
    var n,
      i = (n - 1) * t,
      s = Math.floor(i),
      o = +r(e[s], s, e),
      c = +r(e[s + 1], s + 1, e);
    return o + (c - o) * (i - s);
  }
}
function b$(e, t, r) {
  ((e = +e),
    (t = +t),
    (r = (i = arguments.length) < 2 ? ((t = e), (e = 0), 1) : i < 3 ? 1 : +r));
  for (
    var n = -1, i = Math.max(0, Math.ceil((t - e) / r)) | 0, s = new Array(i);
    ++n < i;

  )
    s[n] = e + n * r;
  return s;
}
function Et(e, t) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(e);
      break;
    default:
      this.range(t).domain(e);
      break;
  }
  return this;
}
function wr(e, t) {
  switch (arguments.length) {
    case 0:
      break;
    case 1: {
      typeof e == "function" ? this.interpolator(e) : this.range(e);
      break;
    }
    default: {
      (this.domain(e),
        typeof t == "function" ? this.interpolator(t) : this.range(t));
      break;
    }
  }
  return this;
}
const vl = Symbol("implicit");
function qu() {
  var e = new ah(),
    t = [],
    r = [],
    n = vl;
  function i(s) {
    let o = e.get(s);
    if (o === void 0) {
      if (n !== vl) return n;
      e.set(s, (o = t.push(s) - 1));
    }
    return r[o % r.length];
  }
  return (
    (i.domain = function (s) {
      if (!arguments.length) return t.slice();
      ((t = []), (e = new ah()));
      for (const o of s) e.has(o) || e.set(o, t.push(o) - 1);
      return i;
    }),
    (i.range = function (s) {
      return arguments.length ? ((r = Array.from(s)), i) : r.slice();
    }),
    (i.unknown = function (s) {
      return arguments.length ? ((n = s), i) : n;
    }),
    (i.copy = function () {
      return qu(t, r).unknown(n);
    }),
    Et.apply(i, arguments),
    i
  );
}
function ti() {
  var e = qu().unknown(void 0),
    t = e.domain,
    r = e.range,
    n = 0,
    i = 1,
    s,
    o,
    c = !1,
    l = 0,
    u = 0,
    f = 0.5;
  delete e.unknown;
  function d() {
    var h = t().length,
      m = i < n,
      v = m ? i : n,
      p = m ? n : i;
    ((s = (p - v) / Math.max(1, h - l + u * 2)),
      c && (s = Math.floor(s)),
      (v += (p - v - s * (h - l)) * f),
      (o = s * (1 - l)),
      c && ((v = Math.round(v)), (o = Math.round(o))));
    var x = b$(h).map(function (g) {
      return v + s * g;
    });
    return r(m ? x.reverse() : x);
  }
  return (
    (e.domain = function (h) {
      return arguments.length ? (t(h), d()) : t();
    }),
    (e.range = function (h) {
      return arguments.length
        ? (([n, i] = h), (n = +n), (i = +i), d())
        : [n, i];
    }),
    (e.rangeRound = function (h) {
      return (([n, i] = h), (n = +n), (i = +i), (c = !0), d());
    }),
    (e.bandwidth = function () {
      return o;
    }),
    (e.step = function () {
      return s;
    }),
    (e.round = function (h) {
      return arguments.length ? ((c = !!h), d()) : c;
    }),
    (e.padding = function (h) {
      return arguments.length ? ((l = Math.min(1, (u = +h))), d()) : l;
    }),
    (e.paddingInner = function (h) {
      return arguments.length ? ((l = Math.min(1, h)), d()) : l;
    }),
    (e.paddingOuter = function (h) {
      return arguments.length ? ((u = +h), d()) : u;
    }),
    (e.align = function (h) {
      return arguments.length ? ((f = Math.max(0, Math.min(1, h))), d()) : f;
    }),
    (e.copy = function () {
      return ti(t(), [n, i]).round(c).paddingInner(l).paddingOuter(u).align(f);
    }),
    Et.apply(d(), arguments)
  );
}
function ax(e) {
  var t = e.copy;
  return (
    (e.padding = e.paddingOuter),
    delete e.paddingInner,
    delete e.paddingOuter,
    (e.copy = function () {
      return ax(t());
    }),
    e
  );
}
function za() {
  return ax(ti.apply(null, arguments).paddingInner(1));
}
function Wu(e, t, r) {
  ((e.prototype = t.prototype = r), (r.constructor = e));
}
function ix(e, t) {
  var r = Object.create(e.prototype);
  for (var n in t) r[n] = t[n];
  return r;
}
function Mi() {}
var ri = 0.7,
  $s = 1 / ri,
  In = "\\s*([+-]?\\d+)\\s*",
  ni = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",
  Ut = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
  j$ = /^#([0-9a-f]{3,8})$/,
  w$ = new RegExp(`^rgb\\(${In},${In},${In}\\)$`),
  N$ = new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),
  _$ = new RegExp(`^rgba\\(${In},${In},${In},${ni}\\)$`),
  O$ = new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${ni}\\)$`),
  S$ = new RegExp(`^hsl\\(${ni},${Ut},${Ut}\\)$`),
  A$ = new RegExp(`^hsla\\(${ni},${Ut},${Ut},${ni}\\)$`),
  ch = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    rebeccapurple: 6697881,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074,
  };
Wu(Mi, ai, {
  copy(e) {
    return Object.assign(new this.constructor(), this, e);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: lh,
  formatHex: lh,
  formatHex8: P$,
  formatHsl: C$,
  formatRgb: uh,
  toString: uh,
});
function lh() {
  return this.rgb().formatHex();
}
function P$() {
  return this.rgb().formatHex8();
}
function C$() {
  return sx(this).formatHsl();
}
function uh() {
  return this.rgb().formatRgb();
}
function ai(e) {
  var t, r;
  return (
    (e = (e + "").trim().toLowerCase()),
    (t = j$.exec(e))
      ? ((r = t[1].length),
        (t = parseInt(t[1], 16)),
        r === 6
          ? dh(t)
          : r === 3
            ? new mt(
                ((t >> 8) & 15) | ((t >> 4) & 240),
                ((t >> 4) & 15) | (t & 240),
                ((t & 15) << 4) | (t & 15),
                1,
              )
            : r === 8
              ? Xi(
                  (t >> 24) & 255,
                  (t >> 16) & 255,
                  (t >> 8) & 255,
                  (t & 255) / 255,
                )
              : r === 4
                ? Xi(
                    ((t >> 12) & 15) | ((t >> 8) & 240),
                    ((t >> 8) & 15) | ((t >> 4) & 240),
                    ((t >> 4) & 15) | (t & 240),
                    (((t & 15) << 4) | (t & 15)) / 255,
                  )
                : null)
      : (t = w$.exec(e))
        ? new mt(t[1], t[2], t[3], 1)
        : (t = N$.exec(e))
          ? new mt(
              (t[1] * 255) / 100,
              (t[2] * 255) / 100,
              (t[3] * 255) / 100,
              1,
            )
          : (t = _$.exec(e))
            ? Xi(t[1], t[2], t[3], t[4])
            : (t = O$.exec(e))
              ? Xi(
                  (t[1] * 255) / 100,
                  (t[2] * 255) / 100,
                  (t[3] * 255) / 100,
                  t[4],
                )
              : (t = S$.exec(e))
                ? mh(t[1], t[2] / 100, t[3] / 100, 1)
                : (t = A$.exec(e))
                  ? mh(t[1], t[2] / 100, t[3] / 100, t[4])
                  : ch.hasOwnProperty(e)
                    ? dh(ch[e])
                    : e === "transparent"
                      ? new mt(NaN, NaN, NaN, 0)
                      : null
  );
}
function dh(e) {
  return new mt((e >> 16) & 255, (e >> 8) & 255, e & 255, 1);
}
function Xi(e, t, r, n) {
  return (n <= 0 && (e = t = r = NaN), new mt(e, t, r, n));
}
function E$(e) {
  return (
    e instanceof Mi || (e = ai(e)),
    e ? ((e = e.rgb()), new mt(e.r, e.g, e.b, e.opacity)) : new mt()
  );
}
function xl(e, t, r, n) {
  return arguments.length === 1 ? E$(e) : new mt(e, t, r, n ?? 1);
}
function mt(e, t, r, n) {
  ((this.r = +e), (this.g = +t), (this.b = +r), (this.opacity = +n));
}
Wu(
  mt,
  xl,
  ix(Mi, {
    brighter(e) {
      return (
        (e = e == null ? $s : Math.pow($s, e)),
        new mt(this.r * e, this.g * e, this.b * e, this.opacity)
      );
    },
    darker(e) {
      return (
        (e = e == null ? ri : Math.pow(ri, e)),
        new mt(this.r * e, this.g * e, this.b * e, this.opacity)
      );
    },
    rgb() {
      return this;
    },
    clamp() {
      return new mt(en(this.r), en(this.g), en(this.b), ks(this.opacity));
    },
    displayable() {
      return (
        -0.5 <= this.r &&
        this.r < 255.5 &&
        -0.5 <= this.g &&
        this.g < 255.5 &&
        -0.5 <= this.b &&
        this.b < 255.5 &&
        0 <= this.opacity &&
        this.opacity <= 1
      );
    },
    hex: fh,
    formatHex: fh,
    formatHex8: T$,
    formatRgb: hh,
    toString: hh,
  }),
);
function fh() {
  return `#${Yr(this.r)}${Yr(this.g)}${Yr(this.b)}`;
}
function T$() {
  return `#${Yr(this.r)}${Yr(this.g)}${Yr(this.b)}${Yr((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;
}
function hh() {
  const e = ks(this.opacity);
  return `${e === 1 ? "rgb(" : "rgba("}${en(this.r)}, ${en(this.g)}, ${en(this.b)}${e === 1 ? ")" : `, ${e})`}`;
}
function ks(e) {
  return isNaN(e) ? 1 : Math.max(0, Math.min(1, e));
}
function en(e) {
  return Math.max(0, Math.min(255, Math.round(e) || 0));
}
function Yr(e) {
  return ((e = en(e)), (e < 16 ? "0" : "") + e.toString(16));
}
function mh(e, t, r, n) {
  return (
    n <= 0
      ? (e = t = r = NaN)
      : r <= 0 || r >= 1
        ? (e = t = NaN)
        : t <= 0 && (e = NaN),
    new Mt(e, t, r, n)
  );
}
function sx(e) {
  if (e instanceof Mt) return new Mt(e.h, e.s, e.l, e.opacity);
  if ((e instanceof Mi || (e = ai(e)), !e)) return new Mt();
  if (e instanceof Mt) return e;
  e = e.rgb();
  var t = e.r / 255,
    r = e.g / 255,
    n = e.b / 255,
    i = Math.min(t, r, n),
    s = Math.max(t, r, n),
    o = NaN,
    c = s - i,
    l = (s + i) / 2;
  return (
    c
      ? (t === s
          ? (o = (r - n) / c + (r < n) * 6)
          : r === s
            ? (o = (n - t) / c + 2)
            : (o = (t - r) / c + 4),
        (c /= l < 0.5 ? s + i : 2 - s - i),
        (o *= 60))
      : (c = l > 0 && l < 1 ? 0 : o),
    new Mt(o, c, l, e.opacity)
  );
}
function $$(e, t, r, n) {
  return arguments.length === 1 ? sx(e) : new Mt(e, t, r, n ?? 1);
}
function Mt(e, t, r, n) {
  ((this.h = +e), (this.s = +t), (this.l = +r), (this.opacity = +n));
}
Wu(
  Mt,
  $$,
  ix(Mi, {
    brighter(e) {
      return (
        (e = e == null ? $s : Math.pow($s, e)),
        new Mt(this.h, this.s, this.l * e, this.opacity)
      );
    },
    darker(e) {
      return (
        (e = e == null ? ri : Math.pow(ri, e)),
        new Mt(this.h, this.s, this.l * e, this.opacity)
      );
    },
    rgb() {
      var e = (this.h % 360) + (this.h < 0) * 360,
        t = isNaN(e) || isNaN(this.s) ? 0 : this.s,
        r = this.l,
        n = r + (r < 0.5 ? r : 1 - r) * t,
        i = 2 * r - n;
      return new mt(
        yc(e >= 240 ? e - 240 : e + 120, i, n),
        yc(e, i, n),
        yc(e < 120 ? e + 240 : e - 120, i, n),
        this.opacity,
      );
    },
    clamp() {
      return new Mt(ph(this.h), Yi(this.s), Yi(this.l), ks(this.opacity));
    },
    displayable() {
      return (
        ((0 <= this.s && this.s <= 1) || isNaN(this.s)) &&
        0 <= this.l &&
        this.l <= 1 &&
        0 <= this.opacity &&
        this.opacity <= 1
      );
    },
    formatHsl() {
      const e = ks(this.opacity);
      return `${e === 1 ? "hsl(" : "hsla("}${ph(this.h)}, ${Yi(this.s) * 100}%, ${Yi(this.l) * 100}%${e === 1 ? ")" : `, ${e})`}`;
    },
  }),
);
function ph(e) {
  return ((e = (e || 0) % 360), e < 0 ? e + 360 : e);
}
function Yi(e) {
  return Math.max(0, Math.min(1, e || 0));
}
function yc(e, t, r) {
  return (
    (e < 60
      ? t + ((r - t) * e) / 60
      : e < 180
        ? r
        : e < 240
          ? t + ((r - t) * (240 - e)) / 60
          : t) * 255
  );
}
const Gu = (e) => () => e;
function k$(e, t) {
  return function (r) {
    return e + r * t;
  };
}
function M$(e, t, r) {
  return (
    (e = Math.pow(e, r)),
    (t = Math.pow(t, r) - e),
    (r = 1 / r),
    function (n) {
      return Math.pow(e + n * t, r);
    }
  );
}
function I$(e) {
  return (e = +e) == 1
    ? ox
    : function (t, r) {
        return r - t ? M$(t, r, e) : Gu(isNaN(t) ? r : t);
      };
}
function ox(e, t) {
  var r = t - e;
  return r ? k$(e, r) : Gu(isNaN(e) ? t : e);
}
const vh = (function e(t) {
  var r = I$(t);
  function n(i, s) {
    var o = r((i = xl(i)).r, (s = xl(s)).r),
      c = r(i.g, s.g),
      l = r(i.b, s.b),
      u = ox(i.opacity, s.opacity);
    return function (f) {
      return (
        (i.r = o(f)),
        (i.g = c(f)),
        (i.b = l(f)),
        (i.opacity = u(f)),
        i + ""
      );
    };
  }
  return ((n.gamma = e), n);
})(1);
function D$(e, t) {
  t || (t = []);
  var r = e ? Math.min(t.length, e.length) : 0,
    n = t.slice(),
    i;
  return function (s) {
    for (i = 0; i < r; ++i) n[i] = e[i] * (1 - s) + t[i] * s;
    return n;
  };
}
function R$(e) {
  return ArrayBuffer.isView(e) && !(e instanceof DataView);
}
function L$(e, t) {
  var r = t ? t.length : 0,
    n = e ? Math.min(r, e.length) : 0,
    i = new Array(n),
    s = new Array(r),
    o;
  for (o = 0; o < n; ++o) i[o] = ya(e[o], t[o]);
  for (; o < r; ++o) s[o] = t[o];
  return function (c) {
    for (o = 0; o < n; ++o) s[o] = i[o](c);
    return s;
  };
}
function z$(e, t) {
  var r = new Date();
  return (
    (e = +e),
    (t = +t),
    function (n) {
      return (r.setTime(e * (1 - n) + t * n), r);
    }
  );
}
function Ms(e, t) {
  return (
    (e = +e),
    (t = +t),
    function (r) {
      return e * (1 - r) + t * r;
    }
  );
}
function B$(e, t) {
  var r = {},
    n = {},
    i;
  ((e === null || typeof e != "object") && (e = {}),
    (t === null || typeof t != "object") && (t = {}));
  for (i in t) i in e ? (r[i] = ya(e[i], t[i])) : (n[i] = t[i]);
  return function (s) {
    for (i in r) n[i] = r[i](s);
    return n;
  };
}
var gl = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
  bc = new RegExp(gl.source, "g");
function F$(e) {
  return function () {
    return e;
  };
}
function V$(e) {
  return function (t) {
    return e(t) + "";
  };
}
function U$(e, t) {
  var r = (gl.lastIndex = bc.lastIndex = 0),
    n,
    i,
    s,
    o = -1,
    c = [],
    l = [];
  for (e = e + "", t = t + ""; (n = gl.exec(e)) && (i = bc.exec(t)); )
    ((s = i.index) > r &&
      ((s = t.slice(r, s)), c[o] ? (c[o] += s) : (c[++o] = s)),
      (n = n[0]) === (i = i[0])
        ? c[o]
          ? (c[o] += i)
          : (c[++o] = i)
        : ((c[++o] = null), l.push({ i: o, x: Ms(n, i) })),
      (r = bc.lastIndex));
  return (
    r < t.length && ((s = t.slice(r)), c[o] ? (c[o] += s) : (c[++o] = s)),
    c.length < 2
      ? l[0]
        ? V$(l[0].x)
        : F$(t)
      : ((t = l.length),
        function (u) {
          for (var f = 0, d; f < t; ++f) c[(d = l[f]).i] = d.x(u);
          return c.join("");
        })
  );
}
function ya(e, t) {
  var r = typeof t,
    n;
  return t == null || r === "boolean"
    ? Gu(t)
    : (r === "number"
        ? Ms
        : r === "string"
          ? (n = ai(t))
            ? ((t = n), vh)
            : U$
          : t instanceof ai
            ? vh
            : t instanceof Date
              ? z$
              : R$(t)
                ? D$
                : Array.isArray(t)
                  ? L$
                  : (typeof t.valueOf != "function" &&
                        typeof t.toString != "function") ||
                      isNaN(t)
                    ? B$
                    : Ms)(e, t);
}
function Ku(e, t) {
  return (
    (e = +e),
    (t = +t),
    function (r) {
      return Math.round(e * (1 - r) + t * r);
    }
  );
}
function q$(e, t) {
  t === void 0 && ((t = e), (e = ya));
  for (
    var r = 0, n = t.length - 1, i = t[0], s = new Array(n < 0 ? 0 : n);
    r < n;

  )
    s[r] = e(i, (i = t[++r]));
  return function (o) {
    var c = Math.max(0, Math.min(n - 1, Math.floor((o *= n))));
    return s[c](o - c);
  };
}
function W$(e) {
  return function () {
    return e;
  };
}
function Is(e) {
  return +e;
}
var xh = [0, 1];
function ut(e) {
  return e;
}
function yl(e, t) {
  return (t -= e = +e)
    ? function (r) {
        return (r - e) / t;
      }
    : W$(isNaN(t) ? NaN : 0.5);
}
function G$(e, t) {
  var r;
  return (
    e > t && ((r = e), (e = t), (t = r)),
    function (n) {
      return Math.max(e, Math.min(t, n));
    }
  );
}
function K$(e, t, r) {
  var n = e[0],
    i = e[1],
    s = t[0],
    o = t[1];
  return (
    i < n ? ((n = yl(i, n)), (s = r(o, s))) : ((n = yl(n, i)), (s = r(s, o))),
    function (c) {
      return s(n(c));
    }
  );
}
function H$(e, t, r) {
  var n = Math.min(e.length, t.length) - 1,
    i = new Array(n),
    s = new Array(n),
    o = -1;
  for (
    e[n] < e[0] && ((e = e.slice().reverse()), (t = t.slice().reverse()));
    ++o < n;

  )
    ((i[o] = yl(e[o], e[o + 1])), (s[o] = r(t[o], t[o + 1])));
  return function (c) {
    var l = ki(e, c, 1, n) - 1;
    return s[l](i[l](c));
  };
}
function Ii(e, t) {
  return t
    .domain(e.domain())
    .range(e.range())
    .interpolate(e.interpolate())
    .clamp(e.clamp())
    .unknown(e.unknown());
}
function $o() {
  var e = xh,
    t = xh,
    r = ya,
    n,
    i,
    s,
    o = ut,
    c,
    l,
    u;
  function f() {
    var h = Math.min(e.length, t.length);
    return (
      o !== ut && (o = G$(e[0], e[h - 1])),
      (c = h > 2 ? H$ : K$),
      (l = u = null),
      d
    );
  }
  function d(h) {
    return h == null || isNaN((h = +h))
      ? s
      : (l || (l = c(e.map(n), t, r)))(n(o(h)));
  }
  return (
    (d.invert = function (h) {
      return o(i((u || (u = c(t, e.map(n), Ms)))(h)));
    }),
    (d.domain = function (h) {
      return arguments.length ? ((e = Array.from(h, Is)), f()) : e.slice();
    }),
    (d.range = function (h) {
      return arguments.length ? ((t = Array.from(h)), f()) : t.slice();
    }),
    (d.rangeRound = function (h) {
      return ((t = Array.from(h)), (r = Ku), f());
    }),
    (d.clamp = function (h) {
      return arguments.length ? ((o = h ? !0 : ut), f()) : o !== ut;
    }),
    (d.interpolate = function (h) {
      return arguments.length ? ((r = h), f()) : r;
    }),
    (d.unknown = function (h) {
      return arguments.length ? ((s = h), d) : s;
    }),
    function (h, m) {
      return ((n = h), (i = m), f());
    }
  );
}
function Hu() {
  return $o()(ut, ut);
}
function X$(e) {
  return Math.abs((e = Math.round(e))) >= 1e21
    ? e.toLocaleString("en").replace(/,/g, "")
    : e.toString(10);
}
function Ds(e, t) {
  if (
    (r = (e = t ? e.toExponential(t - 1) : e.toExponential()).indexOf("e")) < 0
  )
    return null;
  var r,
    n = e.slice(0, r);
  return [n.length > 1 ? n[0] + n.slice(2) : n, +e.slice(r + 1)];
}
function Vn(e) {
  return ((e = Ds(Math.abs(e))), e ? e[1] : NaN);
}
function Y$(e, t) {
  return function (r, n) {
    for (
      var i = r.length, s = [], o = 0, c = e[0], l = 0;
      i > 0 &&
      c > 0 &&
      (l + c + 1 > n && (c = Math.max(1, n - l)),
      s.push(r.substring((i -= c), i + c)),
      !((l += c + 1) > n));

    )
      c = e[(o = (o + 1) % e.length)];
    return s.reverse().join(t);
  };
}
function J$(e) {
  return function (t) {
    return t.replace(/[0-9]/g, function (r) {
      return e[+r];
    });
  };
}
var Z$ =
  /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function ii(e) {
  if (!(t = Z$.exec(e))) throw new Error("invalid format: " + e);
  var t;
  return new Xu({
    fill: t[1],
    align: t[2],
    sign: t[3],
    symbol: t[4],
    zero: t[5],
    width: t[6],
    comma: t[7],
    precision: t[8] && t[8].slice(1),
    trim: t[9],
    type: t[10],
  });
}
ii.prototype = Xu.prototype;
function Xu(e) {
  ((this.fill = e.fill === void 0 ? " " : e.fill + ""),
    (this.align = e.align === void 0 ? ">" : e.align + ""),
    (this.sign = e.sign === void 0 ? "-" : e.sign + ""),
    (this.symbol = e.symbol === void 0 ? "" : e.symbol + ""),
    (this.zero = !!e.zero),
    (this.width = e.width === void 0 ? void 0 : +e.width),
    (this.comma = !!e.comma),
    (this.precision = e.precision === void 0 ? void 0 : +e.precision),
    (this.trim = !!e.trim),
    (this.type = e.type === void 0 ? "" : e.type + ""));
}
Xu.prototype.toString = function () {
  return (
    this.fill +
    this.align +
    this.sign +
    this.symbol +
    (this.zero ? "0" : "") +
    (this.width === void 0 ? "" : Math.max(1, this.width | 0)) +
    (this.comma ? "," : "") +
    (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) +
    (this.trim ? "~" : "") +
    this.type
  );
};
function Q$(e) {
  e: for (var t = e.length, r = 1, n = -1, i; r < t; ++r)
    switch (e[r]) {
      case ".":
        n = i = r;
        break;
      case "0":
        (n === 0 && (n = r), (i = r));
        break;
      default:
        if (!+e[r]) break e;
        n > 0 && (n = 0);
        break;
    }
  return n > 0 ? e.slice(0, n) + e.slice(i + 1) : e;
}
var cx;
function ek(e, t) {
  var r = Ds(e, t);
  if (!r) return e + "";
  var n = r[0],
    i = r[1],
    s = i - (cx = Math.max(-8, Math.min(8, Math.floor(i / 3))) * 3) + 1,
    o = n.length;
  return s === o
    ? n
    : s > o
      ? n + new Array(s - o + 1).join("0")
      : s > 0
        ? n.slice(0, s) + "." + n.slice(s)
        : "0." + new Array(1 - s).join("0") + Ds(e, Math.max(0, t + s - 1))[0];
}
function gh(e, t) {
  var r = Ds(e, t);
  if (!r) return e + "";
  var n = r[0],
    i = r[1];
  return i < 0
    ? "0." + new Array(-i).join("0") + n
    : n.length > i + 1
      ? n.slice(0, i + 1) + "." + n.slice(i + 1)
      : n + new Array(i - n.length + 2).join("0");
}
const yh = {
  "%": (e, t) => (e * 100).toFixed(t),
  b: (e) => Math.round(e).toString(2),
  c: (e) => e + "",
  d: X$,
  e: (e, t) => e.toExponential(t),
  f: (e, t) => e.toFixed(t),
  g: (e, t) => e.toPrecision(t),
  o: (e) => Math.round(e).toString(8),
  p: (e, t) => gh(e * 100, t),
  r: gh,
  s: ek,
  X: (e) => Math.round(e).toString(16).toUpperCase(),
  x: (e) => Math.round(e).toString(16),
};
function bh(e) {
  return e;
}
var jh = Array.prototype.map,
  wh = [
    "y",
    "z",
    "a",
    "f",
    "p",
    "n",
    "",
    "m",
    "",
    "k",
    "M",
    "G",
    "T",
    "P",
    "E",
    "Z",
    "Y",
  ];
function tk(e) {
  var t =
      e.grouping === void 0 || e.thousands === void 0
        ? bh
        : Y$(jh.call(e.grouping, Number), e.thousands + ""),
    r = e.currency === void 0 ? "" : e.currency[0] + "",
    n = e.currency === void 0 ? "" : e.currency[1] + "",
    i = e.decimal === void 0 ? "." : e.decimal + "",
    s = e.numerals === void 0 ? bh : J$(jh.call(e.numerals, String)),
    o = e.percent === void 0 ? "%" : e.percent + "",
    c = e.minus === void 0 ? "" : e.minus + "",
    l = e.nan === void 0 ? "NaN" : e.nan + "";
  function u(d) {
    d = ii(d);
    var h = d.fill,
      m = d.align,
      v = d.sign,
      p = d.symbol,
      x = d.zero,
      g = d.width,
      b = d.comma,
      N = d.precision,
      _ = d.trim,
      y = d.type;
    (y === "n"
      ? ((b = !0), (y = "g"))
      : yh[y] || (N === void 0 && (N = 12), (_ = !0), (y = "g")),
      (x || (h === "0" && m === "=")) && ((x = !0), (h = "0"), (m = "=")));
    var j =
        p === "$"
          ? r
          : p === "#" && /[boxX]/.test(y)
            ? "0" + y.toLowerCase()
            : "",
      w = p === "$" ? n : /[%p]/.test(y) ? o : "",
      O = yh[y],
      S = /[defgprs%]/.test(y);
    N =
      N === void 0
        ? 6
        : /[gprs]/.test(y)
          ? Math.max(1, Math.min(21, N))
          : Math.max(0, Math.min(20, N));
    function E(C) {
      var T = j,
        $ = w,
        I,
        k,
        D;
      if (y === "c") (($ = O(C) + $), (C = ""));
      else {
        C = +C;
        var V = C < 0 || 1 / C < 0;
        if (
          ((C = isNaN(C) ? l : O(Math.abs(C), N)),
          _ && (C = Q$(C)),
          V && +C == 0 && v !== "+" && (V = !1),
          (T = (V ? (v === "(" ? v : c) : v === "-" || v === "(" ? "" : v) + T),
          ($ =
            (y === "s" ? wh[8 + cx / 3] : "") +
            $ +
            (V && v === "(" ? ")" : "")),
          S)
        ) {
          for (I = -1, k = C.length; ++I < k; )
            if (((D = C.charCodeAt(I)), 48 > D || D > 57)) {
              (($ = (D === 46 ? i + C.slice(I + 1) : C.slice(I)) + $),
                (C = C.slice(0, I)));
              break;
            }
        }
      }
      b && !x && (C = t(C, 1 / 0));
      var G = T.length + C.length + $.length,
        K = G < g ? new Array(g - G + 1).join(h) : "";
      switch (
        (b && x && ((C = t(K + C, K.length ? g - $.length : 1 / 0)), (K = "")),
        m)
      ) {
        case "<":
          C = T + C + $ + K;
          break;
        case "=":
          C = T + K + C + $;
          break;
        case "^":
          C = K.slice(0, (G = K.length >> 1)) + T + C + $ + K.slice(G);
          break;
        default:
          C = K + T + C + $;
          break;
      }
      return s(C);
    }
    return (
      (E.toString = function () {
        return d + "";
      }),
      E
    );
  }
  function f(d, h) {
    var m = u(((d = ii(d)), (d.type = "f"), d)),
      v = Math.max(-8, Math.min(8, Math.floor(Vn(h) / 3))) * 3,
      p = Math.pow(10, -v),
      x = wh[8 + v / 3];
    return function (g) {
      return m(p * g) + x;
    };
  }
  return { format: u, formatPrefix: f };
}
var Ji, Yu, lx;
rk({ thousands: ",", grouping: [3], currency: ["$", ""] });
function rk(e) {
  return ((Ji = tk(e)), (Yu = Ji.format), (lx = Ji.formatPrefix), Ji);
}
function nk(e) {
  return Math.max(0, -Vn(Math.abs(e)));
}
function ak(e, t) {
  return Math.max(
    0,
    Math.max(-8, Math.min(8, Math.floor(Vn(t) / 3))) * 3 - Vn(Math.abs(e)),
  );
}
function ik(e, t) {
  return (
    (e = Math.abs(e)),
    (t = Math.abs(t) - e),
    Math.max(0, Vn(t) - Vn(e)) + 1
  );
}
function ux(e, t, r, n) {
  var i = pl(e, t, r),
    s;
  switch (((n = ii(n ?? ",f")), n.type)) {
    case "s": {
      var o = Math.max(Math.abs(e), Math.abs(t));
      return (
        n.precision == null && !isNaN((s = ak(i, o))) && (n.precision = s),
        lx(n, o)
      );
    }
    case "":
    case "e":
    case "g":
    case "p":
    case "r": {
      n.precision == null &&
        !isNaN((s = ik(i, Math.max(Math.abs(e), Math.abs(t))))) &&
        (n.precision = s - (n.type === "e"));
      break;
    }
    case "f":
    case "%": {
      n.precision == null &&
        !isNaN((s = nk(i))) &&
        (n.precision = s - (n.type === "%") * 2);
      break;
    }
  }
  return Yu(n);
}
function Lr(e) {
  var t = e.domain;
  return (
    (e.ticks = function (r) {
      var n = t();
      return hl(n[0], n[n.length - 1], r ?? 10);
    }),
    (e.tickFormat = function (r, n) {
      var i = t();
      return ux(i[0], i[i.length - 1], r ?? 10, n);
    }),
    (e.nice = function (r) {
      r == null && (r = 10);
      var n = t(),
        i = 0,
        s = n.length - 1,
        o = n[i],
        c = n[s],
        l,
        u,
        f = 10;
      for (
        c < o && ((u = o), (o = c), (c = u), (u = i), (i = s), (s = u));
        f-- > 0;

      ) {
        if (((u = ml(o, c, r)), u === l)) return ((n[i] = o), (n[s] = c), t(n));
        if (u > 0) ((o = Math.floor(o / u) * u), (c = Math.ceil(c / u) * u));
        else if (u < 0)
          ((o = Math.ceil(o * u) / u), (c = Math.floor(c * u) / u));
        else break;
        l = u;
      }
      return e;
    }),
    e
  );
}
function Rs() {
  var e = Hu();
  return (
    (e.copy = function () {
      return Ii(e, Rs());
    }),
    Et.apply(e, arguments),
    Lr(e)
  );
}
function dx(e) {
  var t;
  function r(n) {
    return n == null || isNaN((n = +n)) ? t : n;
  }
  return (
    (r.invert = r),
    (r.domain = r.range =
      function (n) {
        return arguments.length ? ((e = Array.from(n, Is)), r) : e.slice();
      }),
    (r.unknown = function (n) {
      return arguments.length ? ((t = n), r) : t;
    }),
    (r.copy = function () {
      return dx(e).unknown(t);
    }),
    (e = arguments.length ? Array.from(e, Is) : [0, 1]),
    Lr(r)
  );
}
function fx(e, t) {
  e = e.slice();
  var r = 0,
    n = e.length - 1,
    i = e[r],
    s = e[n],
    o;
  return (
    s < i && ((o = r), (r = n), (n = o), (o = i), (i = s), (s = o)),
    (e[r] = t.floor(i)),
    (e[n] = t.ceil(s)),
    e
  );
}
function Nh(e) {
  return Math.log(e);
}
function _h(e) {
  return Math.exp(e);
}
function sk(e) {
  return -Math.log(-e);
}
function ok(e) {
  return -Math.exp(-e);
}
function ck(e) {
  return isFinite(e) ? +("1e" + e) : e < 0 ? 0 : e;
}
function lk(e) {
  return e === 10 ? ck : e === Math.E ? Math.exp : (t) => Math.pow(e, t);
}
function uk(e) {
  return e === Math.E
    ? Math.log
    : (e === 10 && Math.log10) ||
        (e === 2 && Math.log2) ||
        ((e = Math.log(e)), (t) => Math.log(t) / e);
}
function Oh(e) {
  return (t, r) => -e(-t, r);
}
function Ju(e) {
  const t = e(Nh, _h),
    r = t.domain;
  let n = 10,
    i,
    s;
  function o() {
    return (
      (i = uk(n)),
      (s = lk(n)),
      r()[0] < 0 ? ((i = Oh(i)), (s = Oh(s)), e(sk, ok)) : e(Nh, _h),
      t
    );
  }
  return (
    (t.base = function (c) {
      return arguments.length ? ((n = +c), o()) : n;
    }),
    (t.domain = function (c) {
      return arguments.length ? (r(c), o()) : r();
    }),
    (t.ticks = (c) => {
      const l = r();
      let u = l[0],
        f = l[l.length - 1];
      const d = f < u;
      d && ([u, f] = [f, u]);
      let h = i(u),
        m = i(f),
        v,
        p;
      const x = c == null ? 10 : +c;
      let g = [];
      if (!(n % 1) && m - h < x) {
        if (((h = Math.floor(h)), (m = Math.ceil(m)), u > 0)) {
          for (; h <= m; ++h)
            for (v = 1; v < n; ++v)
              if (((p = h < 0 ? v / s(-h) : v * s(h)), !(p < u))) {
                if (p > f) break;
                g.push(p);
              }
        } else
          for (; h <= m; ++h)
            for (v = n - 1; v >= 1; --v)
              if (((p = h > 0 ? v / s(-h) : v * s(h)), !(p < u))) {
                if (p > f) break;
                g.push(p);
              }
        g.length * 2 < x && (g = hl(u, f, x));
      } else g = hl(h, m, Math.min(m - h, x)).map(s);
      return d ? g.reverse() : g;
    }),
    (t.tickFormat = (c, l) => {
      if (
        (c == null && (c = 10),
        l == null && (l = n === 10 ? "s" : ","),
        typeof l != "function" &&
          (!(n % 1) && (l = ii(l)).precision == null && (l.trim = !0),
          (l = Yu(l))),
        c === 1 / 0)
      )
        return l;
      const u = Math.max(1, (n * c) / t.ticks().length);
      return (f) => {
        let d = f / s(Math.round(i(f)));
        return (d * n < n - 0.5 && (d *= n), d <= u ? l(f) : "");
      };
    }),
    (t.nice = () =>
      r(
        fx(r(), {
          floor: (c) => s(Math.floor(i(c))),
          ceil: (c) => s(Math.ceil(i(c))),
        }),
      )),
    t
  );
}
function hx() {
  const e = Ju($o()).domain([1, 10]);
  return (
    (e.copy = () => Ii(e, hx()).base(e.base())),
    Et.apply(e, arguments),
    e
  );
}
function Sh(e) {
  return function (t) {
    return Math.sign(t) * Math.log1p(Math.abs(t / e));
  };
}
function Ah(e) {
  return function (t) {
    return Math.sign(t) * Math.expm1(Math.abs(t)) * e;
  };
}
function Zu(e) {
  var t = 1,
    r = e(Sh(t), Ah(t));
  return (
    (r.constant = function (n) {
      return arguments.length ? e(Sh((t = +n)), Ah(t)) : t;
    }),
    Lr(r)
  );
}
function mx() {
  var e = Zu($o());
  return (
    (e.copy = function () {
      return Ii(e, mx()).constant(e.constant());
    }),
    Et.apply(e, arguments)
  );
}
function Ph(e) {
  return function (t) {
    return t < 0 ? -Math.pow(-t, e) : Math.pow(t, e);
  };
}
function dk(e) {
  return e < 0 ? -Math.sqrt(-e) : Math.sqrt(e);
}
function fk(e) {
  return e < 0 ? -e * e : e * e;
}
function Qu(e) {
  var t = e(ut, ut),
    r = 1;
  function n() {
    return r === 1 ? e(ut, ut) : r === 0.5 ? e(dk, fk) : e(Ph(r), Ph(1 / r));
  }
  return (
    (t.exponent = function (i) {
      return arguments.length ? ((r = +i), n()) : r;
    }),
    Lr(t)
  );
}
function ed() {
  var e = Qu($o());
  return (
    (e.copy = function () {
      return Ii(e, ed()).exponent(e.exponent());
    }),
    Et.apply(e, arguments),
    e
  );
}
function hk() {
  return ed.apply(null, arguments).exponent(0.5);
}
function Ch(e) {
  return Math.sign(e) * e * e;
}
function mk(e) {
  return Math.sign(e) * Math.sqrt(Math.abs(e));
}
function px() {
  var e = Hu(),
    t = [0, 1],
    r = !1,
    n;
  function i(s) {
    var o = mk(e(s));
    return isNaN(o) ? n : r ? Math.round(o) : o;
  }
  return (
    (i.invert = function (s) {
      return e.invert(Ch(s));
    }),
    (i.domain = function (s) {
      return arguments.length ? (e.domain(s), i) : e.domain();
    }),
    (i.range = function (s) {
      return arguments.length
        ? (e.range((t = Array.from(s, Is)).map(Ch)), i)
        : t.slice();
    }),
    (i.rangeRound = function (s) {
      return i.range(s).round(!0);
    }),
    (i.round = function (s) {
      return arguments.length ? ((r = !!s), i) : r;
    }),
    (i.clamp = function (s) {
      return arguments.length ? (e.clamp(s), i) : e.clamp();
    }),
    (i.unknown = function (s) {
      return arguments.length ? ((n = s), i) : n;
    }),
    (i.copy = function () {
      return px(e.domain(), t).round(r).clamp(e.clamp()).unknown(n);
    }),
    Et.apply(i, arguments),
    Lr(i)
  );
}
function vx() {
  var e = [],
    t = [],
    r = [],
    n;
  function i() {
    var o = 0,
      c = Math.max(1, t.length);
    for (r = new Array(c - 1); ++o < c; ) r[o - 1] = y$(e, o / c);
    return s;
  }
  function s(o) {
    return o == null || isNaN((o = +o)) ? n : t[ki(r, o)];
  }
  return (
    (s.invertExtent = function (o) {
      var c = t.indexOf(o);
      return c < 0
        ? [NaN, NaN]
        : [c > 0 ? r[c - 1] : e[0], c < r.length ? r[c] : e[e.length - 1]];
    }),
    (s.domain = function (o) {
      if (!arguments.length) return e.slice();
      e = [];
      for (let c of o) c != null && !isNaN((c = +c)) && e.push(c);
      return (e.sort($r), i());
    }),
    (s.range = function (o) {
      return arguments.length ? ((t = Array.from(o)), i()) : t.slice();
    }),
    (s.unknown = function (o) {
      return arguments.length ? ((n = o), s) : n;
    }),
    (s.quantiles = function () {
      return r.slice();
    }),
    (s.copy = function () {
      return vx().domain(e).range(t).unknown(n);
    }),
    Et.apply(s, arguments)
  );
}
function xx() {
  var e = 0,
    t = 1,
    r = 1,
    n = [0.5],
    i = [0, 1],
    s;
  function o(l) {
    return l != null && l <= l ? i[ki(n, l, 0, r)] : s;
  }
  function c() {
    var l = -1;
    for (n = new Array(r); ++l < r; )
      n[l] = ((l + 1) * t - (l - r) * e) / (r + 1);
    return o;
  }
  return (
    (o.domain = function (l) {
      return arguments.length
        ? (([e, t] = l), (e = +e), (t = +t), c())
        : [e, t];
    }),
    (o.range = function (l) {
      return arguments.length
        ? ((r = (i = Array.from(l)).length - 1), c())
        : i.slice();
    }),
    (o.invertExtent = function (l) {
      var u = i.indexOf(l);
      return u < 0
        ? [NaN, NaN]
        : u < 1
          ? [e, n[0]]
          : u >= r
            ? [n[r - 1], t]
            : [n[u - 1], n[u]];
    }),
    (o.unknown = function (l) {
      return (arguments.length && (s = l), o);
    }),
    (o.thresholds = function () {
      return n.slice();
    }),
    (o.copy = function () {
      return xx().domain([e, t]).range(i).unknown(s);
    }),
    Et.apply(Lr(o), arguments)
  );
}
function gx() {
  var e = [0.5],
    t = [0, 1],
    r,
    n = 1;
  function i(s) {
    return s != null && s <= s ? t[ki(e, s, 0, n)] : r;
  }
  return (
    (i.domain = function (s) {
      return arguments.length
        ? ((e = Array.from(s)), (n = Math.min(e.length, t.length - 1)), i)
        : e.slice();
    }),
    (i.range = function (s) {
      return arguments.length
        ? ((t = Array.from(s)), (n = Math.min(e.length, t.length - 1)), i)
        : t.slice();
    }),
    (i.invertExtent = function (s) {
      var o = t.indexOf(s);
      return [e[o - 1], e[o]];
    }),
    (i.unknown = function (s) {
      return arguments.length ? ((r = s), i) : r;
    }),
    (i.copy = function () {
      return gx().domain(e).range(t).unknown(r);
    }),
    Et.apply(i, arguments)
  );
}
const jc = new Date(),
  wc = new Date();
function Ye(e, t, r, n) {
  function i(s) {
    return (e((s = arguments.length === 0 ? new Date() : new Date(+s))), s);
  }
  return (
    (i.floor = (s) => (e((s = new Date(+s))), s)),
    (i.ceil = (s) => (e((s = new Date(s - 1))), t(s, 1), e(s), s)),
    (i.round = (s) => {
      const o = i(s),
        c = i.ceil(s);
      return s - o < c - s ? o : c;
    }),
    (i.offset = (s, o) => (
      t((s = new Date(+s)), o == null ? 1 : Math.floor(o)),
      s
    )),
    (i.range = (s, o, c) => {
      const l = [];
      if (
        ((s = i.ceil(s)),
        (c = c == null ? 1 : Math.floor(c)),
        !(s < o) || !(c > 0))
      )
        return l;
      let u;
      do (l.push((u = new Date(+s))), t(s, c), e(s));
      while (u < s && s < o);
      return l;
    }),
    (i.filter = (s) =>
      Ye(
        (o) => {
          if (o >= o) for (; e(o), !s(o); ) o.setTime(o - 1);
        },
        (o, c) => {
          if (o >= o)
            if (c < 0) for (; ++c <= 0; ) for (; t(o, -1), !s(o); );
            else for (; --c >= 0; ) for (; t(o, 1), !s(o); );
        },
      )),
    r &&
      ((i.count = (s, o) => (
        jc.setTime(+s),
        wc.setTime(+o),
        e(jc),
        e(wc),
        Math.floor(r(jc, wc))
      )),
      (i.every = (s) => (
        (s = Math.floor(s)),
        !isFinite(s) || !(s > 0)
          ? null
          : s > 1
            ? i.filter(
                n ? (o) => n(o) % s === 0 : (o) => i.count(0, o) % s === 0,
              )
            : i
      ))),
    i
  );
}
const Ls = Ye(
  () => {},
  (e, t) => {
    e.setTime(+e + t);
  },
  (e, t) => t - e,
);
Ls.every = (e) => (
  (e = Math.floor(e)),
  !isFinite(e) || !(e > 0)
    ? null
    : e > 1
      ? Ye(
          (t) => {
            t.setTime(Math.floor(t / e) * e);
          },
          (t, r) => {
            t.setTime(+t + r * e);
          },
          (t, r) => (r - t) / e,
        )
      : Ls
);
Ls.range;
const nr = 1e3,
  At = nr * 60,
  ar = At * 60,
  hr = ar * 24,
  td = hr * 7,
  Eh = hr * 30,
  Nc = hr * 365,
  Jr = Ye(
    (e) => {
      e.setTime(e - e.getMilliseconds());
    },
    (e, t) => {
      e.setTime(+e + t * nr);
    },
    (e, t) => (t - e) / nr,
    (e) => e.getUTCSeconds(),
  );
Jr.range;
const rd = Ye(
  (e) => {
    e.setTime(e - e.getMilliseconds() - e.getSeconds() * nr);
  },
  (e, t) => {
    e.setTime(+e + t * At);
  },
  (e, t) => (t - e) / At,
  (e) => e.getMinutes(),
);
rd.range;
const nd = Ye(
  (e) => {
    e.setUTCSeconds(0, 0);
  },
  (e, t) => {
    e.setTime(+e + t * At);
  },
  (e, t) => (t - e) / At,
  (e) => e.getUTCMinutes(),
);
nd.range;
const ad = Ye(
  (e) => {
    e.setTime(
      e - e.getMilliseconds() - e.getSeconds() * nr - e.getMinutes() * At,
    );
  },
  (e, t) => {
    e.setTime(+e + t * ar);
  },
  (e, t) => (t - e) / ar,
  (e) => e.getHours(),
);
ad.range;
const id = Ye(
  (e) => {
    e.setUTCMinutes(0, 0, 0);
  },
  (e, t) => {
    e.setTime(+e + t * ar);
  },
  (e, t) => (t - e) / ar,
  (e) => e.getUTCHours(),
);
id.range;
const Di = Ye(
  (e) => e.setHours(0, 0, 0, 0),
  (e, t) => e.setDate(e.getDate() + t),
  (e, t) => (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * At) / hr,
  (e) => e.getDate() - 1,
);
Di.range;
const ko = Ye(
  (e) => {
    e.setUTCHours(0, 0, 0, 0);
  },
  (e, t) => {
    e.setUTCDate(e.getUTCDate() + t);
  },
  (e, t) => (t - e) / hr,
  (e) => e.getUTCDate() - 1,
);
ko.range;
const yx = Ye(
  (e) => {
    e.setUTCHours(0, 0, 0, 0);
  },
  (e, t) => {
    e.setUTCDate(e.getUTCDate() + t);
  },
  (e, t) => (t - e) / hr,
  (e) => Math.floor(e / hr),
);
yx.range;
function xn(e) {
  return Ye(
    (t) => {
      (t.setDate(t.getDate() - ((t.getDay() + 7 - e) % 7)),
        t.setHours(0, 0, 0, 0));
    },
    (t, r) => {
      t.setDate(t.getDate() + r * 7);
    },
    (t, r) =>
      (r - t - (r.getTimezoneOffset() - t.getTimezoneOffset()) * At) / td,
  );
}
const Mo = xn(0),
  zs = xn(1),
  pk = xn(2),
  vk = xn(3),
  Un = xn(4),
  xk = xn(5),
  gk = xn(6);
Mo.range;
zs.range;
pk.range;
vk.range;
Un.range;
xk.range;
gk.range;
function gn(e) {
  return Ye(
    (t) => {
      (t.setUTCDate(t.getUTCDate() - ((t.getUTCDay() + 7 - e) % 7)),
        t.setUTCHours(0, 0, 0, 0));
    },
    (t, r) => {
      t.setUTCDate(t.getUTCDate() + r * 7);
    },
    (t, r) => (r - t) / td,
  );
}
const Io = gn(0),
  Bs = gn(1),
  yk = gn(2),
  bk = gn(3),
  qn = gn(4),
  jk = gn(5),
  wk = gn(6);
Io.range;
Bs.range;
yk.range;
bk.range;
qn.range;
jk.range;
wk.range;
const sd = Ye(
  (e) => {
    (e.setDate(1), e.setHours(0, 0, 0, 0));
  },
  (e, t) => {
    e.setMonth(e.getMonth() + t);
  },
  (e, t) =>
    t.getMonth() - e.getMonth() + (t.getFullYear() - e.getFullYear()) * 12,
  (e) => e.getMonth(),
);
sd.range;
const od = Ye(
  (e) => {
    (e.setUTCDate(1), e.setUTCHours(0, 0, 0, 0));
  },
  (e, t) => {
    e.setUTCMonth(e.getUTCMonth() + t);
  },
  (e, t) =>
    t.getUTCMonth() -
    e.getUTCMonth() +
    (t.getUTCFullYear() - e.getUTCFullYear()) * 12,
  (e) => e.getUTCMonth(),
);
od.range;
const mr = Ye(
  (e) => {
    (e.setMonth(0, 1), e.setHours(0, 0, 0, 0));
  },
  (e, t) => {
    e.setFullYear(e.getFullYear() + t);
  },
  (e, t) => t.getFullYear() - e.getFullYear(),
  (e) => e.getFullYear(),
);
mr.every = (e) =>
  !isFinite((e = Math.floor(e))) || !(e > 0)
    ? null
    : Ye(
        (t) => {
          (t.setFullYear(Math.floor(t.getFullYear() / e) * e),
            t.setMonth(0, 1),
            t.setHours(0, 0, 0, 0));
        },
        (t, r) => {
          t.setFullYear(t.getFullYear() + r * e);
        },
      );
mr.range;
const pr = Ye(
  (e) => {
    (e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0));
  },
  (e, t) => {
    e.setUTCFullYear(e.getUTCFullYear() + t);
  },
  (e, t) => t.getUTCFullYear() - e.getUTCFullYear(),
  (e) => e.getUTCFullYear(),
);
pr.every = (e) =>
  !isFinite((e = Math.floor(e))) || !(e > 0)
    ? null
    : Ye(
        (t) => {
          (t.setUTCFullYear(Math.floor(t.getUTCFullYear() / e) * e),
            t.setUTCMonth(0, 1),
            t.setUTCHours(0, 0, 0, 0));
        },
        (t, r) => {
          t.setUTCFullYear(t.getUTCFullYear() + r * e);
        },
      );
pr.range;
function bx(e, t, r, n, i, s) {
  const o = [
    [Jr, 1, nr],
    [Jr, 5, 5 * nr],
    [Jr, 15, 15 * nr],
    [Jr, 30, 30 * nr],
    [s, 1, At],
    [s, 5, 5 * At],
    [s, 15, 15 * At],
    [s, 30, 30 * At],
    [i, 1, ar],
    [i, 3, 3 * ar],
    [i, 6, 6 * ar],
    [i, 12, 12 * ar],
    [n, 1, hr],
    [n, 2, 2 * hr],
    [r, 1, td],
    [t, 1, Eh],
    [t, 3, 3 * Eh],
    [e, 1, Nc],
  ];
  function c(u, f, d) {
    const h = f < u;
    h && ([u, f] = [f, u]);
    const m = d && typeof d.range == "function" ? d : l(u, f, d),
      v = m ? m.range(u, +f + 1) : [];
    return h ? v.reverse() : v;
  }
  function l(u, f, d) {
    const h = Math.abs(f - u) / d,
      m = Uu(([, , x]) => x).right(o, h);
    if (m === o.length) return e.every(pl(u / Nc, f / Nc, d));
    if (m === 0) return Ls.every(Math.max(pl(u, f, d), 1));
    const [v, p] = o[h / o[m - 1][2] < o[m][2] / h ? m - 1 : m];
    return v.every(p);
  }
  return [c, l];
}
const [Nk, _k] = bx(pr, od, Io, yx, id, nd),
  [Ok, Sk] = bx(mr, sd, Mo, Di, ad, rd);
function _c(e) {
  if (0 <= e.y && e.y < 100) {
    var t = new Date(-1, e.m, e.d, e.H, e.M, e.S, e.L);
    return (t.setFullYear(e.y), t);
  }
  return new Date(e.y, e.m, e.d, e.H, e.M, e.S, e.L);
}
function Oc(e) {
  if (0 <= e.y && e.y < 100) {
    var t = new Date(Date.UTC(-1, e.m, e.d, e.H, e.M, e.S, e.L));
    return (t.setUTCFullYear(e.y), t);
  }
  return new Date(Date.UTC(e.y, e.m, e.d, e.H, e.M, e.S, e.L));
}
function Sa(e, t, r) {
  return { y: e, m: t, d: r, H: 0, M: 0, S: 0, L: 0 };
}
function Ak(e) {
  var t = e.dateTime,
    r = e.date,
    n = e.time,
    i = e.periods,
    s = e.days,
    o = e.shortDays,
    c = e.months,
    l = e.shortMonths,
    u = Aa(i),
    f = Pa(i),
    d = Aa(s),
    h = Pa(s),
    m = Aa(o),
    v = Pa(o),
    p = Aa(c),
    x = Pa(c),
    g = Aa(l),
    b = Pa(l),
    N = {
      a: V,
      A: G,
      b: K,
      B: ee,
      c: null,
      d: Dh,
      e: Dh,
      f: Yk,
      g: sM,
      G: cM,
      H: Kk,
      I: Hk,
      j: Xk,
      L: jx,
      m: Jk,
      M: Zk,
      p: ae,
      q: J,
      Q: zh,
      s: Bh,
      S: Qk,
      u: eM,
      U: tM,
      V: rM,
      w: nM,
      W: aM,
      x: null,
      X: null,
      y: iM,
      Y: oM,
      Z: lM,
      "%": Lh,
    },
    _ = {
      a: se,
      A: ie,
      b: de,
      B: q,
      c: null,
      d: Rh,
      e: Rh,
      f: hM,
      g: NM,
      G: OM,
      H: uM,
      I: dM,
      j: fM,
      L: Nx,
      m: mM,
      M: pM,
      p: ge,
      q: Ie,
      Q: zh,
      s: Bh,
      S: vM,
      u: xM,
      U: gM,
      V: yM,
      w: bM,
      W: jM,
      x: null,
      X: null,
      y: wM,
      Y: _M,
      Z: SM,
      "%": Lh,
    },
    y = {
      a: E,
      A: C,
      b: T,
      B: $,
      c: I,
      d: Mh,
      e: Mh,
      f: Uk,
      g: kh,
      G: $h,
      H: Ih,
      I: Ih,
      j: zk,
      L: Vk,
      m: Lk,
      M: Bk,
      p: S,
      q: Rk,
      Q: Wk,
      s: Gk,
      S: Fk,
      u: $k,
      U: kk,
      V: Mk,
      w: Tk,
      W: Ik,
      x: k,
      X: D,
      y: kh,
      Y: $h,
      Z: Dk,
      "%": qk,
    };
  ((N.x = j(r, N)),
    (N.X = j(n, N)),
    (N.c = j(t, N)),
    (_.x = j(r, _)),
    (_.X = j(n, _)),
    (_.c = j(t, _)));
  function j(Y, he) {
    return function (ve) {
      var U = [],
        De = -1,
        ye = 0,
        qe = Y.length,
        We,
        ht,
        Or;
      for (ve instanceof Date || (ve = new Date(+ve)); ++De < qe; )
        Y.charCodeAt(De) === 37 &&
          (U.push(Y.slice(ye, De)),
          (ht = Th[(We = Y.charAt(++De))]) != null
            ? (We = Y.charAt(++De))
            : (ht = We === "e" ? " " : "0"),
          (Or = he[We]) && (We = Or(ve, ht)),
          U.push(We),
          (ye = De + 1));
      return (U.push(Y.slice(ye, De)), U.join(""));
    };
  }
  function w(Y, he) {
    return function (ve) {
      var U = Sa(1900, void 0, 1),
        De = O(U, Y, (ve += ""), 0),
        ye,
        qe;
      if (De != ve.length) return null;
      if ("Q" in U) return new Date(U.Q);
      if ("s" in U) return new Date(U.s * 1e3 + ("L" in U ? U.L : 0));
      if (
        (he && !("Z" in U) && (U.Z = 0),
        "p" in U && (U.H = (U.H % 12) + U.p * 12),
        U.m === void 0 && (U.m = "q" in U ? U.q : 0),
        "V" in U)
      ) {
        if (U.V < 1 || U.V > 53) return null;
        ("w" in U || (U.w = 1),
          "Z" in U
            ? ((ye = Oc(Sa(U.y, 0, 1))),
              (qe = ye.getUTCDay()),
              (ye = qe > 4 || qe === 0 ? Bs.ceil(ye) : Bs(ye)),
              (ye = ko.offset(ye, (U.V - 1) * 7)),
              (U.y = ye.getUTCFullYear()),
              (U.m = ye.getUTCMonth()),
              (U.d = ye.getUTCDate() + ((U.w + 6) % 7)))
            : ((ye = _c(Sa(U.y, 0, 1))),
              (qe = ye.getDay()),
              (ye = qe > 4 || qe === 0 ? zs.ceil(ye) : zs(ye)),
              (ye = Di.offset(ye, (U.V - 1) * 7)),
              (U.y = ye.getFullYear()),
              (U.m = ye.getMonth()),
              (U.d = ye.getDate() + ((U.w + 6) % 7))));
      } else
        ("W" in U || "U" in U) &&
          ("w" in U || (U.w = "u" in U ? U.u % 7 : "W" in U ? 1 : 0),
          (qe =
            "Z" in U
              ? Oc(Sa(U.y, 0, 1)).getUTCDay()
              : _c(Sa(U.y, 0, 1)).getDay()),
          (U.m = 0),
          (U.d =
            "W" in U
              ? ((U.w + 6) % 7) + U.W * 7 - ((qe + 5) % 7)
              : U.w + U.U * 7 - ((qe + 6) % 7)));
      return "Z" in U
        ? ((U.H += (U.Z / 100) | 0), (U.M += U.Z % 100), Oc(U))
        : _c(U);
    };
  }
  function O(Y, he, ve, U) {
    for (var De = 0, ye = he.length, qe = ve.length, We, ht; De < ye; ) {
      if (U >= qe) return -1;
      if (((We = he.charCodeAt(De++)), We === 37)) {
        if (
          ((We = he.charAt(De++)),
          (ht = y[We in Th ? he.charAt(De++) : We]),
          !ht || (U = ht(Y, ve, U)) < 0)
        )
          return -1;
      } else if (We != ve.charCodeAt(U++)) return -1;
    }
    return U;
  }
  function S(Y, he, ve) {
    var U = u.exec(he.slice(ve));
    return U ? ((Y.p = f.get(U[0].toLowerCase())), ve + U[0].length) : -1;
  }
  function E(Y, he, ve) {
    var U = m.exec(he.slice(ve));
    return U ? ((Y.w = v.get(U[0].toLowerCase())), ve + U[0].length) : -1;
  }
  function C(Y, he, ve) {
    var U = d.exec(he.slice(ve));
    return U ? ((Y.w = h.get(U[0].toLowerCase())), ve + U[0].length) : -1;
  }
  function T(Y, he, ve) {
    var U = g.exec(he.slice(ve));
    return U ? ((Y.m = b.get(U[0].toLowerCase())), ve + U[0].length) : -1;
  }
  function $(Y, he, ve) {
    var U = p.exec(he.slice(ve));
    return U ? ((Y.m = x.get(U[0].toLowerCase())), ve + U[0].length) : -1;
  }
  function I(Y, he, ve) {
    return O(Y, t, he, ve);
  }
  function k(Y, he, ve) {
    return O(Y, r, he, ve);
  }
  function D(Y, he, ve) {
    return O(Y, n, he, ve);
  }
  function V(Y) {
    return o[Y.getDay()];
  }
  function G(Y) {
    return s[Y.getDay()];
  }
  function K(Y) {
    return l[Y.getMonth()];
  }
  function ee(Y) {
    return c[Y.getMonth()];
  }
  function ae(Y) {
    return i[+(Y.getHours() >= 12)];
  }
  function J(Y) {
    return 1 + ~~(Y.getMonth() / 3);
  }
  function se(Y) {
    return o[Y.getUTCDay()];
  }
  function ie(Y) {
    return s[Y.getUTCDay()];
  }
  function de(Y) {
    return l[Y.getUTCMonth()];
  }
  function q(Y) {
    return c[Y.getUTCMonth()];
  }
  function ge(Y) {
    return i[+(Y.getUTCHours() >= 12)];
  }
  function Ie(Y) {
    return 1 + ~~(Y.getUTCMonth() / 3);
  }
  return {
    format: function (Y) {
      var he = j((Y += ""), N);
      return (
        (he.toString = function () {
          return Y;
        }),
        he
      );
    },
    parse: function (Y) {
      var he = w((Y += ""), !1);
      return (
        (he.toString = function () {
          return Y;
        }),
        he
      );
    },
    utcFormat: function (Y) {
      var he = j((Y += ""), _);
      return (
        (he.toString = function () {
          return Y;
        }),
        he
      );
    },
    utcParse: function (Y) {
      var he = w((Y += ""), !0);
      return (
        (he.toString = function () {
          return Y;
        }),
        he
      );
    },
  };
}
var Th = { "-": "", _: " ", 0: "0" },
  et = /^\s*\d+/,
  Pk = /^%/,
  Ck = /[\\^$*+?|[\]().{}]/g;
function be(e, t, r) {
  var n = e < 0 ? "-" : "",
    i = (n ? -e : e) + "",
    s = i.length;
  return n + (s < r ? new Array(r - s + 1).join(t) + i : i);
}
function Ek(e) {
  return e.replace(Ck, "\\$&");
}
function Aa(e) {
  return new RegExp("^(?:" + e.map(Ek).join("|") + ")", "i");
}
function Pa(e) {
  return new Map(e.map((t, r) => [t.toLowerCase(), r]));
}
function Tk(e, t, r) {
  var n = et.exec(t.slice(r, r + 1));
  return n ? ((e.w = +n[0]), r + n[0].length) : -1;
}
function $k(e, t, r) {
  var n = et.exec(t.slice(r, r + 1));
  return n ? ((e.u = +n[0]), r + n[0].length) : -1;
}
function kk(e, t, r) {
  var n = et.exec(t.slice(r, r + 2));
  return n ? ((e.U = +n[0]), r + n[0].length) : -1;
}
function Mk(e, t, r) {
  var n = et.exec(t.slice(r, r + 2));
  return n ? ((e.V = +n[0]), r + n[0].length) : -1;
}
function Ik(e, t, r) {
  var n = et.exec(t.slice(r, r + 2));
  return n ? ((e.W = +n[0]), r + n[0].length) : -1;
}
function $h(e, t, r) {
  var n = et.exec(t.slice(r, r + 4));
  return n ? ((e.y = +n[0]), r + n[0].length) : -1;
}
function kh(e, t, r) {
  var n = et.exec(t.slice(r, r + 2));
  return n ? ((e.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3)), r + n[0].length) : -1;
}
function Dk(e, t, r) {
  var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r, r + 6));
  return n
    ? ((e.Z = n[1] ? 0 : -(n[2] + (n[3] || "00"))), r + n[0].length)
    : -1;
}
function Rk(e, t, r) {
  var n = et.exec(t.slice(r, r + 1));
  return n ? ((e.q = n[0] * 3 - 3), r + n[0].length) : -1;
}
function Lk(e, t, r) {
  var n = et.exec(t.slice(r, r + 2));
  return n ? ((e.m = n[0] - 1), r + n[0].length) : -1;
}
function Mh(e, t, r) {
  var n = et.exec(t.slice(r, r + 2));
  return n ? ((e.d = +n[0]), r + n[0].length) : -1;
}
function zk(e, t, r) {
  var n = et.exec(t.slice(r, r + 3));
  return n ? ((e.m = 0), (e.d = +n[0]), r + n[0].length) : -1;
}
function Ih(e, t, r) {
  var n = et.exec(t.slice(r, r + 2));
  return n ? ((e.H = +n[0]), r + n[0].length) : -1;
}
function Bk(e, t, r) {
  var n = et.exec(t.slice(r, r + 2));
  return n ? ((e.M = +n[0]), r + n[0].length) : -1;
}
function Fk(e, t, r) {
  var n = et.exec(t.slice(r, r + 2));
  return n ? ((e.S = +n[0]), r + n[0].length) : -1;
}
function Vk(e, t, r) {
  var n = et.exec(t.slice(r, r + 3));
  return n ? ((e.L = +n[0]), r + n[0].length) : -1;
}
function Uk(e, t, r) {
  var n = et.exec(t.slice(r, r + 6));
  return n ? ((e.L = Math.floor(n[0] / 1e3)), r + n[0].length) : -1;
}
function qk(e, t, r) {
  var n = Pk.exec(t.slice(r, r + 1));
  return n ? r + n[0].length : -1;
}
function Wk(e, t, r) {
  var n = et.exec(t.slice(r));
  return n ? ((e.Q = +n[0]), r + n[0].length) : -1;
}
function Gk(e, t, r) {
  var n = et.exec(t.slice(r));
  return n ? ((e.s = +n[0]), r + n[0].length) : -1;
}
function Dh(e, t) {
  return be(e.getDate(), t, 2);
}
function Kk(e, t) {
  return be(e.getHours(), t, 2);
}
function Hk(e, t) {
  return be(e.getHours() % 12 || 12, t, 2);
}
function Xk(e, t) {
  return be(1 + Di.count(mr(e), e), t, 3);
}
function jx(e, t) {
  return be(e.getMilliseconds(), t, 3);
}
function Yk(e, t) {
  return jx(e, t) + "000";
}
function Jk(e, t) {
  return be(e.getMonth() + 1, t, 2);
}
function Zk(e, t) {
  return be(e.getMinutes(), t, 2);
}
function Qk(e, t) {
  return be(e.getSeconds(), t, 2);
}
function eM(e) {
  var t = e.getDay();
  return t === 0 ? 7 : t;
}
function tM(e, t) {
  return be(Mo.count(mr(e) - 1, e), t, 2);
}
function wx(e) {
  var t = e.getDay();
  return t >= 4 || t === 0 ? Un(e) : Un.ceil(e);
}
function rM(e, t) {
  return ((e = wx(e)), be(Un.count(mr(e), e) + (mr(e).getDay() === 4), t, 2));
}
function nM(e) {
  return e.getDay();
}
function aM(e, t) {
  return be(zs.count(mr(e) - 1, e), t, 2);
}
function iM(e, t) {
  return be(e.getFullYear() % 100, t, 2);
}
function sM(e, t) {
  return ((e = wx(e)), be(e.getFullYear() % 100, t, 2));
}
function oM(e, t) {
  return be(e.getFullYear() % 1e4, t, 4);
}
function cM(e, t) {
  var r = e.getDay();
  return (
    (e = r >= 4 || r === 0 ? Un(e) : Un.ceil(e)),
    be(e.getFullYear() % 1e4, t, 4)
  );
}
function lM(e) {
  var t = e.getTimezoneOffset();
  return (
    (t > 0 ? "-" : ((t *= -1), "+")) +
    be((t / 60) | 0, "0", 2) +
    be(t % 60, "0", 2)
  );
}
function Rh(e, t) {
  return be(e.getUTCDate(), t, 2);
}
function uM(e, t) {
  return be(e.getUTCHours(), t, 2);
}
function dM(e, t) {
  return be(e.getUTCHours() % 12 || 12, t, 2);
}
function fM(e, t) {
  return be(1 + ko.count(pr(e), e), t, 3);
}
function Nx(e, t) {
  return be(e.getUTCMilliseconds(), t, 3);
}
function hM(e, t) {
  return Nx(e, t) + "000";
}
function mM(e, t) {
  return be(e.getUTCMonth() + 1, t, 2);
}
function pM(e, t) {
  return be(e.getUTCMinutes(), t, 2);
}
function vM(e, t) {
  return be(e.getUTCSeconds(), t, 2);
}
function xM(e) {
  var t = e.getUTCDay();
  return t === 0 ? 7 : t;
}
function gM(e, t) {
  return be(Io.count(pr(e) - 1, e), t, 2);
}
function _x(e) {
  var t = e.getUTCDay();
  return t >= 4 || t === 0 ? qn(e) : qn.ceil(e);
}
function yM(e, t) {
  return (
    (e = _x(e)),
    be(qn.count(pr(e), e) + (pr(e).getUTCDay() === 4), t, 2)
  );
}
function bM(e) {
  return e.getUTCDay();
}
function jM(e, t) {
  return be(Bs.count(pr(e) - 1, e), t, 2);
}
function wM(e, t) {
  return be(e.getUTCFullYear() % 100, t, 2);
}
function NM(e, t) {
  return ((e = _x(e)), be(e.getUTCFullYear() % 100, t, 2));
}
function _M(e, t) {
  return be(e.getUTCFullYear() % 1e4, t, 4);
}
function OM(e, t) {
  var r = e.getUTCDay();
  return (
    (e = r >= 4 || r === 0 ? qn(e) : qn.ceil(e)),
    be(e.getUTCFullYear() % 1e4, t, 4)
  );
}
function SM() {
  return "+0000";
}
function Lh() {
  return "%";
}
function zh(e) {
  return +e;
}
function Bh(e) {
  return Math.floor(+e / 1e3);
}
var jn, Ox, Sx;
AM({
  dateTime: "%x, %X",
  date: "%-m/%-d/%Y",
  time: "%-I:%M:%S %p",
  periods: ["AM", "PM"],
  days: [
    "Sunday",
    "Monday",
    "Tuesday",
    "Wednesday",
    "Thursday",
    "Friday",
    "Saturday",
  ],
  shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  months: [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December",
  ],
  shortMonths: [
    "Jan",
    "Feb",
    "Mar",
    "Apr",
    "May",
    "Jun",
    "Jul",
    "Aug",
    "Sep",
    "Oct",
    "Nov",
    "Dec",
  ],
});
function AM(e) {
  return (
    (jn = Ak(e)),
    (Ox = jn.format),
    jn.parse,
    (Sx = jn.utcFormat),
    jn.utcParse,
    jn
  );
}
function PM(e) {
  return new Date(e);
}
function CM(e) {
  return e instanceof Date ? +e : +new Date(+e);
}
function cd(e, t, r, n, i, s, o, c, l, u) {
  var f = Hu(),
    d = f.invert,
    h = f.domain,
    m = u(".%L"),
    v = u(":%S"),
    p = u("%I:%M"),
    x = u("%I %p"),
    g = u("%a %d"),
    b = u("%b %d"),
    N = u("%B"),
    _ = u("%Y");
  function y(j) {
    return (
      l(j) < j
        ? m
        : c(j) < j
          ? v
          : o(j) < j
            ? p
            : s(j) < j
              ? x
              : n(j) < j
                ? i(j) < j
                  ? g
                  : b
                : r(j) < j
                  ? N
                  : _
    )(j);
  }
  return (
    (f.invert = function (j) {
      return new Date(d(j));
    }),
    (f.domain = function (j) {
      return arguments.length ? h(Array.from(j, CM)) : h().map(PM);
    }),
    (f.ticks = function (j) {
      var w = h();
      return e(w[0], w[w.length - 1], j ?? 10);
    }),
    (f.tickFormat = function (j, w) {
      return w == null ? y : u(w);
    }),
    (f.nice = function (j) {
      var w = h();
      return (
        (!j || typeof j.range != "function") &&
          (j = t(w[0], w[w.length - 1], j ?? 10)),
        j ? h(fx(w, j)) : f
      );
    }),
    (f.copy = function () {
      return Ii(f, cd(e, t, r, n, i, s, o, c, l, u));
    }),
    f
  );
}
function EM() {
  return Et.apply(
    cd(Ok, Sk, mr, sd, Mo, Di, ad, rd, Jr, Ox).domain([
      new Date(2e3, 0, 1),
      new Date(2e3, 0, 2),
    ]),
    arguments,
  );
}
function TM() {
  return Et.apply(
    cd(Nk, _k, pr, od, Io, ko, id, nd, Jr, Sx).domain([
      Date.UTC(2e3, 0, 1),
      Date.UTC(2e3, 0, 2),
    ]),
    arguments,
  );
}
function Do() {
  var e = 0,
    t = 1,
    r,
    n,
    i,
    s,
    o = ut,
    c = !1,
    l;
  function u(d) {
    return d == null || isNaN((d = +d))
      ? l
      : o(
          i === 0
            ? 0.5
            : ((d = (s(d) - r) * i), c ? Math.max(0, Math.min(1, d)) : d),
        );
  }
  ((u.domain = function (d) {
    return arguments.length
      ? (([e, t] = d),
        (r = s((e = +e))),
        (n = s((t = +t))),
        (i = r === n ? 0 : 1 / (n - r)),
        u)
      : [e, t];
  }),
    (u.clamp = function (d) {
      return arguments.length ? ((c = !!d), u) : c;
    }),
    (u.interpolator = function (d) {
      return arguments.length ? ((o = d), u) : o;
    }));
  function f(d) {
    return function (h) {
      var m, v;
      return arguments.length ? (([m, v] = h), (o = d(m, v)), u) : [o(0), o(1)];
    };
  }
  return (
    (u.range = f(ya)),
    (u.rangeRound = f(Ku)),
    (u.unknown = function (d) {
      return arguments.length ? ((l = d), u) : l;
    }),
    function (d) {
      return (
        (s = d),
        (r = d(e)),
        (n = d(t)),
        (i = r === n ? 0 : 1 / (n - r)),
        u
      );
    }
  );
}
function zr(e, t) {
  return t
    .domain(e.domain())
    .interpolator(e.interpolator())
    .clamp(e.clamp())
    .unknown(e.unknown());
}
function Ax() {
  var e = Lr(Do()(ut));
  return (
    (e.copy = function () {
      return zr(e, Ax());
    }),
    wr.apply(e, arguments)
  );
}
function Px() {
  var e = Ju(Do()).domain([1, 10]);
  return (
    (e.copy = function () {
      return zr(e, Px()).base(e.base());
    }),
    wr.apply(e, arguments)
  );
}
function Cx() {
  var e = Zu(Do());
  return (
    (e.copy = function () {
      return zr(e, Cx()).constant(e.constant());
    }),
    wr.apply(e, arguments)
  );
}
function ld() {
  var e = Qu(Do());
  return (
    (e.copy = function () {
      return zr(e, ld()).exponent(e.exponent());
    }),
    wr.apply(e, arguments)
  );
}
function $M() {
  return ld.apply(null, arguments).exponent(0.5);
}
function Ex() {
  var e = [],
    t = ut;
  function r(n) {
    if (n != null && !isNaN((n = +n)))
      return t((ki(e, n, 1) - 1) / (e.length - 1));
  }
  return (
    (r.domain = function (n) {
      if (!arguments.length) return e.slice();
      e = [];
      for (let i of n) i != null && !isNaN((i = +i)) && e.push(i);
      return (e.sort($r), r);
    }),
    (r.interpolator = function (n) {
      return arguments.length ? ((t = n), r) : t;
    }),
    (r.range = function () {
      return e.map((n, i) => t(i / (e.length - 1)));
    }),
    (r.quantiles = function (n) {
      return Array.from({ length: n + 1 }, (i, s) => g$(e, s / n));
    }),
    (r.copy = function () {
      return Ex(t).domain(e);
    }),
    wr.apply(r, arguments)
  );
}
function Ro() {
  var e = 0,
    t = 0.5,
    r = 1,
    n = 1,
    i,
    s,
    o,
    c,
    l,
    u = ut,
    f,
    d = !1,
    h;
  function m(p) {
    return isNaN((p = +p))
      ? h
      : ((p = 0.5 + ((p = +f(p)) - s) * (n * p < n * s ? c : l)),
        u(d ? Math.max(0, Math.min(1, p)) : p));
  }
  ((m.domain = function (p) {
    return arguments.length
      ? (([e, t, r] = p),
        (i = f((e = +e))),
        (s = f((t = +t))),
        (o = f((r = +r))),
        (c = i === s ? 0 : 0.5 / (s - i)),
        (l = s === o ? 0 : 0.5 / (o - s)),
        (n = s < i ? -1 : 1),
        m)
      : [e, t, r];
  }),
    (m.clamp = function (p) {
      return arguments.length ? ((d = !!p), m) : d;
    }),
    (m.interpolator = function (p) {
      return arguments.length ? ((u = p), m) : u;
    }));
  function v(p) {
    return function (x) {
      var g, b, N;
      return arguments.length
        ? (([g, b, N] = x), (u = q$(p, [g, b, N])), m)
        : [u(0), u(0.5), u(1)];
    };
  }
  return (
    (m.range = v(ya)),
    (m.rangeRound = v(Ku)),
    (m.unknown = function (p) {
      return arguments.length ? ((h = p), m) : h;
    }),
    function (p) {
      return (
        (f = p),
        (i = p(e)),
        (s = p(t)),
        (o = p(r)),
        (c = i === s ? 0 : 0.5 / (s - i)),
        (l = s === o ? 0 : 0.5 / (o - s)),
        (n = s < i ? -1 : 1),
        m
      );
    }
  );
}
function Tx() {
  var e = Lr(Ro()(ut));
  return (
    (e.copy = function () {
      return zr(e, Tx());
    }),
    wr.apply(e, arguments)
  );
}
function $x() {
  var e = Ju(Ro()).domain([0.1, 1, 10]);
  return (
    (e.copy = function () {
      return zr(e, $x()).base(e.base());
    }),
    wr.apply(e, arguments)
  );
}
function kx() {
  var e = Zu(Ro());
  return (
    (e.copy = function () {
      return zr(e, kx()).constant(e.constant());
    }),
    wr.apply(e, arguments)
  );
}
function ud() {
  var e = Qu(Ro());
  return (
    (e.copy = function () {
      return zr(e, ud()).exponent(e.exponent());
    }),
    wr.apply(e, arguments)
  );
}
function kM() {
  return ud.apply(null, arguments).exponent(0.5);
}
const Fh = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      scaleBand: ti,
      scaleDiverging: Tx,
      scaleDivergingLog: $x,
      scaleDivergingPow: ud,
      scaleDivergingSqrt: kM,
      scaleDivergingSymlog: kx,
      scaleIdentity: dx,
      scaleImplicit: vl,
      scaleLinear: Rs,
      scaleLog: hx,
      scaleOrdinal: qu,
      scalePoint: za,
      scalePow: ed,
      scaleQuantile: vx,
      scaleQuantize: xx,
      scaleRadial: px,
      scaleSequential: Ax,
      scaleSequentialLog: Px,
      scaleSequentialPow: ld,
      scaleSequentialQuantile: Ex,
      scaleSequentialSqrt: $M,
      scaleSequentialSymlog: Cx,
      scaleSqrt: hk,
      scaleSymlog: mx,
      scaleThreshold: gx,
      scaleTime: EM,
      scaleUtc: TM,
      tickFormat: ux,
    },
    Symbol.toStringTag,
    { value: "Module" },
  ),
);
var MM = ua;
function IM(e, t, r) {
  for (var n = -1, i = e.length; ++n < i; ) {
    var s = e[n],
      o = t(s);
    if (o != null && (c === void 0 ? o === o && !MM(o) : r(o, c)))
      var c = o,
        l = s;
  }
  return l;
}
var Lo = IM;
function DM(e, t) {
  return e > t;
}
var Mx = DM,
  RM = Lo,
  LM = Mx,
  zM = ga;
function BM(e) {
  return e && e.length ? RM(e, zM, LM) : void 0;
}
var FM = BM;
const Cr = Oe(FM);
function VM(e, t) {
  return e < t;
}
var Ix = VM,
  UM = Lo,
  qM = Ix,
  WM = ga;
function GM(e) {
  return e && e.length ? UM(e, WM, qM) : void 0;
}
var KM = GM;
const zo = Oe(KM);
var HM = Su,
  XM = Qt,
  YM = Vv,
  JM = pt;
function ZM(e, t) {
  var r = JM(e) ? HM : YM;
  return r(e, XM(t));
}
var QM = ZM,
  eI = Bv,
  tI = QM;
function rI(e, t) {
  return eI(tI(e, t), 1);
}
var nI = rI;
const aI = Oe(nI);
var iI = zu;
function sI(e, t) {
  return iI(e, t);
}
var oI = sI;
const on = Oe(oI);
var ba = 1e9,
  cI = {
    precision: 20,
    rounding: 4,
    toExpNeg: -7,
    toExpPos: 21,
    LN10: "2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286",
  },
  fd,
  ke = !0,
  Ct = "[DecimalError] ",
  tn = Ct + "Invalid argument: ",
  dd = Ct + "Exponent out of range: ",
  ja = Math.floor,
  Kr = Math.pow,
  lI = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,
  yt,
  Je = 1e7,
  Te = 7,
  Dx = 9007199254740991,
  Fs = ja(Dx / Te),
  Q = {};
Q.absoluteValue = Q.abs = function () {
  var e = new this.constructor(this);
  return (e.s && (e.s = 1), e);
};
Q.comparedTo = Q.cmp = function (e) {
  var t,
    r,
    n,
    i,
    s = this;
  if (((e = new s.constructor(e)), s.s !== e.s)) return s.s || -e.s;
  if (s.e !== e.e) return (s.e > e.e) ^ (s.s < 0) ? 1 : -1;
  for (n = s.d.length, i = e.d.length, t = 0, r = n < i ? n : i; t < r; ++t)
    if (s.d[t] !== e.d[t]) return (s.d[t] > e.d[t]) ^ (s.s < 0) ? 1 : -1;
  return n === i ? 0 : (n > i) ^ (s.s < 0) ? 1 : -1;
};
Q.decimalPlaces = Q.dp = function () {
  var e = this,
    t = e.d.length - 1,
    r = (t - e.e) * Te;
  if (((t = e.d[t]), t)) for (; t % 10 == 0; t /= 10) r--;
  return r < 0 ? 0 : r;
};
Q.dividedBy = Q.div = function (e) {
  return ur(this, new this.constructor(e));
};
Q.dividedToIntegerBy = Q.idiv = function (e) {
  var t = this,
    r = t.constructor;
  return _e(ur(t, new r(e), 0, 1), r.precision);
};
Q.equals = Q.eq = function (e) {
  return !this.cmp(e);
};
Q.exponent = function () {
  return Ue(this);
};
Q.greaterThan = Q.gt = function (e) {
  return this.cmp(e) > 0;
};
Q.greaterThanOrEqualTo = Q.gte = function (e) {
  return this.cmp(e) >= 0;
};
Q.isInteger = Q.isint = function () {
  return this.e > this.d.length - 2;
};
Q.isNegative = Q.isneg = function () {
  return this.s < 0;
};
Q.isPositive = Q.ispos = function () {
  return this.s > 0;
};
Q.isZero = function () {
  return this.s === 0;
};
Q.lessThan = Q.lt = function (e) {
  return this.cmp(e) < 0;
};
Q.lessThanOrEqualTo = Q.lte = function (e) {
  return this.cmp(e) < 1;
};
Q.logarithm = Q.log = function (e) {
  var t,
    r = this,
    n = r.constructor,
    i = n.precision,
    s = i + 5;
  if (e === void 0) e = new n(10);
  else if (((e = new n(e)), e.s < 1 || e.eq(yt))) throw Error(Ct + "NaN");
  if (r.s < 1) throw Error(Ct + (r.s ? "NaN" : "-Infinity"));
  return r.eq(yt)
    ? new n(0)
    : ((ke = !1), (t = ur(si(r, s), si(e, s), s)), (ke = !0), _e(t, i));
};
Q.minus = Q.sub = function (e) {
  var t = this;
  return (
    (e = new t.constructor(e)),
    t.s == e.s ? zx(t, e) : Rx(t, ((e.s = -e.s), e))
  );
};
Q.modulo = Q.mod = function (e) {
  var t,
    r = this,
    n = r.constructor,
    i = n.precision;
  if (((e = new n(e)), !e.s)) throw Error(Ct + "NaN");
  return r.s
    ? ((ke = !1), (t = ur(r, e, 0, 1).times(e)), (ke = !0), r.minus(t))
    : _e(new n(r), i);
};
Q.naturalExponential = Q.exp = function () {
  return Lx(this);
};
Q.naturalLogarithm = Q.ln = function () {
  return si(this);
};
Q.negated = Q.neg = function () {
  var e = new this.constructor(this);
  return ((e.s = -e.s || 0), e);
};
Q.plus = Q.add = function (e) {
  var t = this;
  return (
    (e = new t.constructor(e)),
    t.s == e.s ? Rx(t, e) : zx(t, ((e.s = -e.s), e))
  );
};
Q.precision = Q.sd = function (e) {
  var t,
    r,
    n,
    i = this;
  if (e !== void 0 && e !== !!e && e !== 1 && e !== 0) throw Error(tn + e);
  if (
    ((t = Ue(i) + 1), (n = i.d.length - 1), (r = n * Te + 1), (n = i.d[n]), n)
  ) {
    for (; n % 10 == 0; n /= 10) r--;
    for (n = i.d[0]; n >= 10; n /= 10) r++;
  }
  return e && t > r ? t : r;
};
Q.squareRoot = Q.sqrt = function () {
  var e,
    t,
    r,
    n,
    i,
    s,
    o,
    c = this,
    l = c.constructor;
  if (c.s < 1) {
    if (!c.s) return new l(0);
    throw Error(Ct + "NaN");
  }
  for (
    e = Ue(c),
      ke = !1,
      i = Math.sqrt(+c),
      i == 0 || i == 1 / 0
        ? ((t = Ft(c.d)),
          (t.length + e) % 2 == 0 && (t += "0"),
          (i = Math.sqrt(t)),
          (e = ja((e + 1) / 2) - (e < 0 || e % 2)),
          i == 1 / 0
            ? (t = "5e" + e)
            : ((t = i.toExponential()),
              (t = t.slice(0, t.indexOf("e") + 1) + e)),
          (n = new l(t)))
        : (n = new l(i.toString())),
      r = l.precision,
      i = o = r + 3;
    ;

  )
    if (
      ((s = n),
      (n = s.plus(ur(c, s, o + 2)).times(0.5)),
      Ft(s.d).slice(0, o) === (t = Ft(n.d)).slice(0, o))
    ) {
      if (((t = t.slice(o - 3, o + 1)), i == o && t == "4999")) {
        if ((_e(s, r + 1, 0), s.times(s).eq(c))) {
          n = s;
          break;
        }
      } else if (t != "9999") break;
      o += 4;
    }
  return ((ke = !0), _e(n, r));
};
Q.times = Q.mul = function (e) {
  var t,
    r,
    n,
    i,
    s,
    o,
    c,
    l,
    u,
    f = this,
    d = f.constructor,
    h = f.d,
    m = (e = new d(e)).d;
  if (!f.s || !e.s) return new d(0);
  for (
    e.s *= f.s,
      r = f.e + e.e,
      l = h.length,
      u = m.length,
      l < u && ((s = h), (h = m), (m = s), (o = l), (l = u), (u = o)),
      s = [],
      o = l + u,
      n = o;
    n--;

  )
    s.push(0);
  for (n = u; --n >= 0; ) {
    for (t = 0, i = l + n; i > n; )
      ((c = s[i] + m[n] * h[i - n - 1] + t),
        (s[i--] = c % Je | 0),
        (t = (c / Je) | 0));
    s[i] = (s[i] + t) % Je | 0;
  }
  for (; !s[--o]; ) s.pop();
  return (
    t ? ++r : s.shift(),
    (e.d = s),
    (e.e = r),
    ke ? _e(e, d.precision) : e
  );
};
Q.toDecimalPlaces = Q.todp = function (e, t) {
  var r = this,
    n = r.constructor;
  return (
    (r = new n(r)),
    e === void 0
      ? r
      : (Yt(e, 0, ba),
        t === void 0 ? (t = n.rounding) : Yt(t, 0, 8),
        _e(r, e + Ue(r) + 1, t))
  );
};
Q.toExponential = function (e, t) {
  var r,
    n = this,
    i = n.constructor;
  return (
    e === void 0
      ? (r = cn(n, !0))
      : (Yt(e, 0, ba),
        t === void 0 ? (t = i.rounding) : Yt(t, 0, 8),
        (n = _e(new i(n), e + 1, t)),
        (r = cn(n, !0, e + 1))),
    r
  );
};
Q.toFixed = function (e, t) {
  var r,
    n,
    i = this,
    s = i.constructor;
  return e === void 0
    ? cn(i)
    : (Yt(e, 0, ba),
      t === void 0 ? (t = s.rounding) : Yt(t, 0, 8),
      (n = _e(new s(i), e + Ue(i) + 1, t)),
      (r = cn(n.abs(), !1, e + Ue(n) + 1)),
      i.isneg() && !i.isZero() ? "-" + r : r);
};
Q.toInteger = Q.toint = function () {
  var e = this,
    t = e.constructor;
  return _e(new t(e), Ue(e) + 1, t.rounding);
};
Q.toNumber = function () {
  return +this;
};
Q.toPower = Q.pow = function (e) {
  var t,
    r,
    n,
    i,
    s,
    o,
    c = this,
    l = c.constructor,
    u = 12,
    f = +(e = new l(e));
  if (!e.s) return new l(yt);
  if (((c = new l(c)), !c.s)) {
    if (e.s < 1) throw Error(Ct + "Infinity");
    return c;
  }
  if (c.eq(yt)) return c;
  if (((n = l.precision), e.eq(yt))) return _e(c, n);
  if (((t = e.e), (r = e.d.length - 1), (o = t >= r), (s = c.s), o)) {
    if ((r = f < 0 ? -f : f) <= Dx) {
      for (
        i = new l(yt), t = Math.ceil(n / Te + 4), ke = !1;
        r % 2 && ((i = i.times(c)), Uh(i.d, t)), (r = ja(r / 2)), r !== 0;

      )
        ((c = c.times(c)), Uh(c.d, t));
      return ((ke = !0), e.s < 0 ? new l(yt).div(i) : _e(i, n));
    }
  } else if (s < 0) throw Error(Ct + "NaN");
  return (
    (s = s < 0 && e.d[Math.max(t, r)] & 1 ? -1 : 1),
    (c.s = 1),
    (ke = !1),
    (i = e.times(si(c, n + u))),
    (ke = !0),
    (i = Lx(i)),
    (i.s = s),
    i
  );
};
Q.toPrecision = function (e, t) {
  var r,
    n,
    i = this,
    s = i.constructor;
  return (
    e === void 0
      ? ((r = Ue(i)), (n = cn(i, r <= s.toExpNeg || r >= s.toExpPos)))
      : (Yt(e, 1, ba),
        t === void 0 ? (t = s.rounding) : Yt(t, 0, 8),
        (i = _e(new s(i), e, t)),
        (r = Ue(i)),
        (n = cn(i, e <= r || r <= s.toExpNeg, e))),
    n
  );
};
Q.toSignificantDigits = Q.tosd = function (e, t) {
  var r = this,
    n = r.constructor;
  return (
    e === void 0
      ? ((e = n.precision), (t = n.rounding))
      : (Yt(e, 1, ba), t === void 0 ? (t = n.rounding) : Yt(t, 0, 8)),
    _e(new n(r), e, t)
  );
};
Q.toString =
  Q.valueOf =
  Q.val =
  Q.toJSON =
  Q[Symbol.for("nodejs.util.inspect.custom")] =
    function () {
      var e = this,
        t = Ue(e),
        r = e.constructor;
      return cn(e, t <= r.toExpNeg || t >= r.toExpPos);
    };
function Rx(e, t) {
  var r,
    n,
    i,
    s,
    o,
    c,
    l,
    u,
    f = e.constructor,
    d = f.precision;
  if (!e.s || !t.s) return (t.s || (t = new f(e)), ke ? _e(t, d) : t);
  if (
    ((l = e.d),
    (u = t.d),
    (o = e.e),
    (i = t.e),
    (l = l.slice()),
    (s = o - i),
    s)
  ) {
    for (
      s < 0
        ? ((n = l), (s = -s), (c = u.length))
        : ((n = u), (i = o), (c = l.length)),
        o = Math.ceil(d / Te),
        c = o > c ? o + 1 : c + 1,
        s > c && ((s = c), (n.length = 1)),
        n.reverse();
      s--;

    )
      n.push(0);
    n.reverse();
  }
  for (
    c = l.length,
      s = u.length,
      c - s < 0 && ((s = c), (n = u), (u = l), (l = n)),
      r = 0;
    s;

  )
    ((r = ((l[--s] = l[s] + u[s] + r) / Je) | 0), (l[s] %= Je));
  for (r && (l.unshift(r), ++i), c = l.length; l[--c] == 0; ) l.pop();
  return ((t.d = l), (t.e = i), ke ? _e(t, d) : t);
}
function Yt(e, t, r) {
  if (e !== ~~e || e < t || e > r) throw Error(tn + e);
}
function Ft(e) {
  var t,
    r,
    n,
    i = e.length - 1,
    s = "",
    o = e[0];
  if (i > 0) {
    for (s += o, t = 1; t < i; t++)
      ((n = e[t] + ""), (r = Te - n.length), r && (s += Ar(r)), (s += n));
    ((o = e[t]), (n = o + ""), (r = Te - n.length), r && (s += Ar(r)));
  } else if (o === 0) return "0";
  for (; o % 10 === 0; ) o /= 10;
  return s + o;
}
var ur = (function () {
  function e(n, i) {
    var s,
      o = 0,
      c = n.length;
    for (n = n.slice(); c--; )
      ((s = n[c] * i + o), (n[c] = s % Je | 0), (o = (s / Je) | 0));
    return (o && n.unshift(o), n);
  }
  function t(n, i, s, o) {
    var c, l;
    if (s != o) l = s > o ? 1 : -1;
    else
      for (c = l = 0; c < s; c++)
        if (n[c] != i[c]) {
          l = n[c] > i[c] ? 1 : -1;
          break;
        }
    return l;
  }
  function r(n, i, s) {
    for (var o = 0; s--; )
      ((n[s] -= o), (o = n[s] < i[s] ? 1 : 0), (n[s] = o * Je + n[s] - i[s]));
    for (; !n[0] && n.length > 1; ) n.shift();
  }
  return function (n, i, s, o) {
    var c,
      l,
      u,
      f,
      d,
      h,
      m,
      v,
      p,
      x,
      g,
      b,
      N,
      _,
      y,
      j,
      w,
      O,
      S = n.constructor,
      E = n.s == i.s ? 1 : -1,
      C = n.d,
      T = i.d;
    if (!n.s) return new S(n);
    if (!i.s) throw Error(Ct + "Division by zero");
    for (
      l = n.e - i.e,
        w = T.length,
        y = C.length,
        m = new S(E),
        v = m.d = [],
        u = 0;
      T[u] == (C[u] || 0);

    )
      ++u;
    if (
      (T[u] > (C[u] || 0) && --l,
      s == null
        ? (b = s = S.precision)
        : o
          ? (b = s + (Ue(n) - Ue(i)) + 1)
          : (b = s),
      b < 0)
    )
      return new S(0);
    if (((b = (b / Te + 2) | 0), (u = 0), w == 1))
      for (f = 0, T = T[0], b++; (u < y || f) && b--; u++)
        ((N = f * Je + (C[u] || 0)), (v[u] = (N / T) | 0), (f = N % T | 0));
    else {
      for (
        f = (Je / (T[0] + 1)) | 0,
          f > 1 &&
            ((T = e(T, f)), (C = e(C, f)), (w = T.length), (y = C.length)),
          _ = w,
          p = C.slice(0, w),
          x = p.length;
        x < w;

      )
        p[x++] = 0;
      ((O = T.slice()), O.unshift(0), (j = T[0]), T[1] >= Je / 2 && ++j);
      do
        ((f = 0),
          (c = t(T, p, w, x)),
          c < 0
            ? ((g = p[0]),
              w != x && (g = g * Je + (p[1] || 0)),
              (f = (g / j) | 0),
              f > 1
                ? (f >= Je && (f = Je - 1),
                  (d = e(T, f)),
                  (h = d.length),
                  (x = p.length),
                  (c = t(d, p, h, x)),
                  c == 1 && (f--, r(d, w < h ? O : T, h)))
                : (f == 0 && (c = f = 1), (d = T.slice())),
              (h = d.length),
              h < x && d.unshift(0),
              r(p, d, x),
              c == -1 &&
                ((x = p.length),
                (c = t(T, p, w, x)),
                c < 1 && (f++, r(p, w < x ? O : T, x))),
              (x = p.length))
            : c === 0 && (f++, (p = [0])),
          (v[u++] = f),
          c && p[0] ? (p[x++] = C[_] || 0) : ((p = [C[_]]), (x = 1)));
      while ((_++ < y || p[0] !== void 0) && b--);
    }
    return (v[0] || v.shift(), (m.e = l), _e(m, o ? s + Ue(m) + 1 : s));
  };
})();
function Lx(e, t) {
  var r,
    n,
    i,
    s,
    o,
    c,
    l = 0,
    u = 0,
    f = e.constructor,
    d = f.precision;
  if (Ue(e) > 16) throw Error(dd + Ue(e));
  if (!e.s) return new f(yt);
  for (ke = !1, c = d, o = new f(0.03125); e.abs().gte(0.1); )
    ((e = e.times(o)), (u += 5));
  for (
    n = ((Math.log(Kr(2, u)) / Math.LN10) * 2 + 5) | 0,
      c += n,
      r = i = s = new f(yt),
      f.precision = c;
    ;

  ) {
    if (
      ((i = _e(i.times(e), c)),
      (r = r.times(++l)),
      (o = s.plus(ur(i, r, c))),
      Ft(o.d).slice(0, c) === Ft(s.d).slice(0, c))
    ) {
      for (; u--; ) s = _e(s.times(s), c);
      return ((f.precision = d), t == null ? ((ke = !0), _e(s, d)) : s);
    }
    s = o;
  }
}
function Ue(e) {
  for (var t = e.e * Te, r = e.d[0]; r >= 10; r /= 10) t++;
  return t;
}
function Sc(e, t, r) {
  if (t > e.LN10.sd())
    throw (
      (ke = !0),
      r && (e.precision = r),
      Error(Ct + "LN10 precision limit exceeded")
    );
  return _e(new e(e.LN10), t);
}
function Ar(e) {
  for (var t = ""; e--; ) t += "0";
  return t;
}
function si(e, t) {
  var r,
    n,
    i,
    s,
    o,
    c,
    l,
    u,
    f,
    d = 1,
    h = 10,
    m = e,
    v = m.d,
    p = m.constructor,
    x = p.precision;
  if (m.s < 1) throw Error(Ct + (m.s ? "NaN" : "-Infinity"));
  if (m.eq(yt)) return new p(0);
  if ((t == null ? ((ke = !1), (u = x)) : (u = t), m.eq(10)))
    return (t == null && (ke = !0), Sc(p, u));
  if (
    ((u += h),
    (p.precision = u),
    (r = Ft(v)),
    (n = r.charAt(0)),
    (s = Ue(m)),
    Math.abs(s) < 15e14)
  ) {
    for (; (n < 7 && n != 1) || (n == 1 && r.charAt(1) > 3); )
      ((m = m.times(e)), (r = Ft(m.d)), (n = r.charAt(0)), d++);
    ((s = Ue(m)),
      n > 1 ? ((m = new p("0." + r)), s++) : (m = new p(n + "." + r.slice(1))));
  } else
    return (
      (l = Sc(p, u + 2, x).times(s + "")),
      (m = si(new p(n + "." + r.slice(1)), u - h).plus(l)),
      (p.precision = x),
      t == null ? ((ke = !0), _e(m, x)) : m
    );
  for (
    c = o = m = ur(m.minus(yt), m.plus(yt), u), f = _e(m.times(m), u), i = 3;
    ;

  ) {
    if (
      ((o = _e(o.times(f), u)),
      (l = c.plus(ur(o, new p(i), u))),
      Ft(l.d).slice(0, u) === Ft(c.d).slice(0, u))
    )
      return (
        (c = c.times(2)),
        s !== 0 && (c = c.plus(Sc(p, u + 2, x).times(s + ""))),
        (c = ur(c, new p(d), u)),
        (p.precision = x),
        t == null ? ((ke = !0), _e(c, x)) : c
      );
    ((c = l), (i += 2));
  }
}
function Vh(e, t) {
  var r, n, i;
  for (
    (r = t.indexOf(".")) > -1 && (t = t.replace(".", "")),
      (n = t.search(/e/i)) > 0
        ? (r < 0 && (r = n), (r += +t.slice(n + 1)), (t = t.substring(0, n)))
        : r < 0 && (r = t.length),
      n = 0;
    t.charCodeAt(n) === 48;

  )
    ++n;
  for (i = t.length; t.charCodeAt(i - 1) === 48; ) --i;
  if (((t = t.slice(n, i)), t)) {
    if (
      ((i -= n),
      (r = r - n - 1),
      (e.e = ja(r / Te)),
      (e.d = []),
      (n = (r + 1) % Te),
      r < 0 && (n += Te),
      n < i)
    ) {
      for (n && e.d.push(+t.slice(0, n)), i -= Te; n < i; )
        e.d.push(+t.slice(n, (n += Te)));
      ((t = t.slice(n)), (n = Te - t.length));
    } else n -= i;
    for (; n--; ) t += "0";
    if ((e.d.push(+t), ke && (e.e > Fs || e.e < -Fs))) throw Error(dd + r);
  } else ((e.s = 0), (e.e = 0), (e.d = [0]));
  return e;
}
function _e(e, t, r) {
  var n,
    i,
    s,
    o,
    c,
    l,
    u,
    f,
    d = e.d;
  for (o = 1, s = d[0]; s >= 10; s /= 10) o++;
  if (((n = t - o), n < 0)) ((n += Te), (i = t), (u = d[(f = 0)]));
  else {
    if (((f = Math.ceil((n + 1) / Te)), (s = d.length), f >= s)) return e;
    for (u = s = d[f], o = 1; s >= 10; s /= 10) o++;
    ((n %= Te), (i = n - Te + o));
  }
  if (
    (r !== void 0 &&
      ((s = Kr(10, o - i - 1)),
      (c = (u / s) % 10 | 0),
      (l = t < 0 || d[f + 1] !== void 0 || u % s),
      (l =
        r < 4
          ? (c || l) && (r == 0 || r == (e.s < 0 ? 3 : 2))
          : c > 5 ||
            (c == 5 &&
              (r == 4 ||
                l ||
                (r == 6 &&
                  (n > 0 ? (i > 0 ? u / Kr(10, o - i) : 0) : d[f - 1]) % 10 &
                    1) ||
                r == (e.s < 0 ? 8 : 7))))),
    t < 1 || !d[0])
  )
    return (
      l
        ? ((s = Ue(e)),
          (d.length = 1),
          (t = t - s - 1),
          (d[0] = Kr(10, (Te - (t % Te)) % Te)),
          (e.e = ja(-t / Te) || 0))
        : ((d.length = 1), (d[0] = e.e = e.s = 0)),
      e
    );
  if (
    (n == 0
      ? ((d.length = f), (s = 1), f--)
      : ((d.length = f + 1),
        (s = Kr(10, Te - n)),
        (d[f] = i > 0 ? ((u / Kr(10, o - i)) % Kr(10, i) | 0) * s : 0)),
    l)
  )
    for (;;)
      if (f == 0) {
        (d[0] += s) == Je && ((d[0] = 1), ++e.e);
        break;
      } else {
        if (((d[f] += s), d[f] != Je)) break;
        ((d[f--] = 0), (s = 1));
      }
  for (n = d.length; d[--n] === 0; ) d.pop();
  if (ke && (e.e > Fs || e.e < -Fs)) throw Error(dd + Ue(e));
  return e;
}
function zx(e, t) {
  var r,
    n,
    i,
    s,
    o,
    c,
    l,
    u,
    f,
    d,
    h = e.constructor,
    m = h.precision;
  if (!e.s || !t.s)
    return (t.s ? (t.s = -t.s) : (t = new h(e)), ke ? _e(t, m) : t);
  if (
    ((l = e.d),
    (d = t.d),
    (n = t.e),
    (u = e.e),
    (l = l.slice()),
    (o = u - n),
    o)
  ) {
    for (
      f = o < 0,
        f
          ? ((r = l), (o = -o), (c = d.length))
          : ((r = d), (n = u), (c = l.length)),
        i = Math.max(Math.ceil(m / Te), c) + 2,
        o > i && ((o = i), (r.length = 1)),
        r.reverse(),
        i = o;
      i--;

    )
      r.push(0);
    r.reverse();
  } else {
    for (i = l.length, c = d.length, f = i < c, f && (c = i), i = 0; i < c; i++)
      if (l[i] != d[i]) {
        f = l[i] < d[i];
        break;
      }
    o = 0;
  }
  for (
    f && ((r = l), (l = d), (d = r), (t.s = -t.s)),
      c = l.length,
      i = d.length - c;
    i > 0;
    --i
  )
    l[c++] = 0;
  for (i = d.length; i > o; ) {
    if (l[--i] < d[i]) {
      for (s = i; s && l[--s] === 0; ) l[s] = Je - 1;
      (--l[s], (l[i] += Je));
    }
    l[i] -= d[i];
  }
  for (; l[--c] === 0; ) l.pop();
  for (; l[0] === 0; l.shift()) --n;
  return l[0] ? ((t.d = l), (t.e = n), ke ? _e(t, m) : t) : new h(0);
}
function cn(e, t, r) {
  var n,
    i = Ue(e),
    s = Ft(e.d),
    o = s.length;
  return (
    t
      ? (r && (n = r - o) > 0
          ? (s = s.charAt(0) + "." + s.slice(1) + Ar(n))
          : o > 1 && (s = s.charAt(0) + "." + s.slice(1)),
        (s = s + (i < 0 ? "e" : "e+") + i))
      : i < 0
        ? ((s = "0." + Ar(-i - 1) + s), r && (n = r - o) > 0 && (s += Ar(n)))
        : i >= o
          ? ((s += Ar(i + 1 - o)),
            r && (n = r - i - 1) > 0 && (s = s + "." + Ar(n)))
          : ((n = i + 1) < o && (s = s.slice(0, n) + "." + s.slice(n)),
            r && (n = r - o) > 0 && (i + 1 === o && (s += "."), (s += Ar(n)))),
    e.s < 0 ? "-" + s : s
  );
}
function Uh(e, t) {
  if (e.length > t) return ((e.length = t), !0);
}
function Bx(e) {
  var t, r, n;
  function i(s) {
    var o = this;
    if (!(o instanceof i)) return new i(s);
    if (((o.constructor = i), s instanceof i)) {
      ((o.s = s.s), (o.e = s.e), (o.d = (s = s.d) ? s.slice() : s));
      return;
    }
    if (typeof s == "number") {
      if (s * 0 !== 0) throw Error(tn + s);
      if (s > 0) o.s = 1;
      else if (s < 0) ((s = -s), (o.s = -1));
      else {
        ((o.s = 0), (o.e = 0), (o.d = [0]));
        return;
      }
      if (s === ~~s && s < 1e7) {
        ((o.e = 0), (o.d = [s]));
        return;
      }
      return Vh(o, s.toString());
    } else if (typeof s != "string") throw Error(tn + s);
    if (
      (s.charCodeAt(0) === 45 ? ((s = s.slice(1)), (o.s = -1)) : (o.s = 1),
      lI.test(s))
    )
      Vh(o, s);
    else throw Error(tn + s);
  }
  if (
    ((i.prototype = Q),
    (i.ROUND_UP = 0),
    (i.ROUND_DOWN = 1),
    (i.ROUND_CEIL = 2),
    (i.ROUND_FLOOR = 3),
    (i.ROUND_HALF_UP = 4),
    (i.ROUND_HALF_DOWN = 5),
    (i.ROUND_HALF_EVEN = 6),
    (i.ROUND_HALF_CEIL = 7),
    (i.ROUND_HALF_FLOOR = 8),
    (i.clone = Bx),
    (i.config = i.set = uI),
    e === void 0 && (e = {}),
    e)
  )
    for (
      n = ["precision", "rounding", "toExpNeg", "toExpPos", "LN10"], t = 0;
      t < n.length;

    )
      e.hasOwnProperty((r = n[t++])) || (e[r] = this[r]);
  return (i.config(e), i);
}
function uI(e) {
  if (!e || typeof e != "object") throw Error(Ct + "Object expected");
  var t,
    r,
    n,
    i = [
      "precision",
      1,
      ba,
      "rounding",
      0,
      8,
      "toExpNeg",
      -1 / 0,
      0,
      "toExpPos",
      0,
      1 / 0,
    ];
  for (t = 0; t < i.length; t += 3)
    if ((n = e[(r = i[t])]) !== void 0)
      if (ja(n) === n && n >= i[t + 1] && n <= i[t + 2]) this[r] = n;
      else throw Error(tn + r + ": " + n);
  if ((n = e[(r = "LN10")]) !== void 0)
    if (n == Math.LN10) this[r] = new this(n);
    else throw Error(tn + r + ": " + n);
  return this;
}
var fd = Bx(cI);
yt = new fd(1);
const je = fd;
function dI(e) {
  return pI(e) || mI(e) || hI(e) || fI();
}
function fI() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function hI(e, t) {
  if (e) {
    if (typeof e == "string") return bl(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return bl(e, t);
  }
}
function mI(e) {
  if (typeof Symbol < "u" && Symbol.iterator in Object(e)) return Array.from(e);
}
function pI(e) {
  if (Array.isArray(e)) return bl(e);
}
function bl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
var vI = function (t) {
    return t;
  },
  Fx = {},
  Vx = function (t) {
    return t === Fx;
  },
  qh = function (t) {
    return function r() {
      return arguments.length === 0 ||
        (arguments.length === 1 &&
          Vx(arguments.length <= 0 ? void 0 : arguments[0]))
        ? r
        : t.apply(void 0, arguments);
    };
  },
  xI = function e(t, r) {
    return t === 1
      ? r
      : qh(function () {
          for (var n = arguments.length, i = new Array(n), s = 0; s < n; s++)
            i[s] = arguments[s];
          var o = i.filter(function (c) {
            return c !== Fx;
          }).length;
          return o >= t
            ? r.apply(void 0, i)
            : e(
                t - o,
                qh(function () {
                  for (
                    var c = arguments.length, l = new Array(c), u = 0;
                    u < c;
                    u++
                  )
                    l[u] = arguments[u];
                  var f = i.map(function (d) {
                    return Vx(d) ? l.shift() : d;
                  });
                  return r.apply(void 0, dI(f).concat(l));
                }),
              );
        });
  },
  Bo = function (t) {
    return xI(t.length, t);
  },
  jl = function (t, r) {
    for (var n = [], i = t; i < r; ++i) n[i - t] = i;
    return n;
  },
  gI = Bo(function (e, t) {
    return Array.isArray(t)
      ? t.map(e)
      : Object.keys(t)
          .map(function (r) {
            return t[r];
          })
          .map(e);
  }),
  yI = function () {
    for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)
      r[n] = arguments[n];
    if (!r.length) return vI;
    var i = r.reverse(),
      s = i[0],
      o = i.slice(1);
    return function () {
      return o.reduce(
        function (c, l) {
          return l(c);
        },
        s.apply(void 0, arguments),
      );
    };
  },
  wl = function (t) {
    return Array.isArray(t) ? t.reverse() : t.split("").reverse.join("");
  },
  Ux = function (t) {
    var r = null,
      n = null;
    return function () {
      for (var i = arguments.length, s = new Array(i), o = 0; o < i; o++)
        s[o] = arguments[o];
      return (
        (r &&
          s.every(function (c, l) {
            return c === r[l];
          })) ||
          ((r = s), (n = t.apply(void 0, s))),
        n
      );
    };
  };
function bI(e) {
  var t;
  return (
    e === 0
      ? (t = 1)
      : (t = Math.floor(new je(e).abs().log(10).toNumber()) + 1),
    t
  );
}
function jI(e, t, r) {
  for (var n = new je(e), i = 0, s = []; n.lt(t) && i < 1e5; )
    (s.push(n.toNumber()), (n = n.add(r)), i++);
  return s;
}
var wI = Bo(function (e, t, r) {
    var n = +e,
      i = +t;
    return n + r * (i - n);
  }),
  NI = Bo(function (e, t, r) {
    var n = t - +e;
    return ((n = n || 1 / 0), (r - e) / n);
  }),
  _I = Bo(function (e, t, r) {
    var n = t - +e;
    return ((n = n || 1 / 0), Math.max(0, Math.min(1, (r - e) / n)));
  });
const Fo = {
  rangeStep: jI,
  getDigitCount: bI,
  interpolateNumber: wI,
  uninterpolateNumber: NI,
  uninterpolateTruncation: _I,
};
function Nl(e) {
  return AI(e) || SI(e) || qx(e) || OI();
}
function OI() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function SI(e) {
  if (typeof Symbol < "u" && Symbol.iterator in Object(e)) return Array.from(e);
}
function AI(e) {
  if (Array.isArray(e)) return _l(e);
}
function oi(e, t) {
  return EI(e) || CI(e, t) || qx(e, t) || PI();
}
function PI() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function qx(e, t) {
  if (e) {
    if (typeof e == "string") return _l(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return _l(e, t);
  }
}
function _l(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function CI(e, t) {
  if (!(typeof Symbol > "u" || !(Symbol.iterator in Object(e)))) {
    var r = [],
      n = !0,
      i = !1,
      s = void 0;
    try {
      for (
        var o = e[Symbol.iterator](), c;
        !(n = (c = o.next()).done) && (r.push(c.value), !(t && r.length === t));
        n = !0
      );
    } catch (l) {
      ((i = !0), (s = l));
    } finally {
      try {
        !n && o.return != null && o.return();
      } finally {
        if (i) throw s;
      }
    }
    return r;
  }
}
function EI(e) {
  if (Array.isArray(e)) return e;
}
function Wx(e) {
  var t = oi(e, 2),
    r = t[0],
    n = t[1],
    i = r,
    s = n;
  return (r > n && ((i = n), (s = r)), [i, s]);
}
function Gx(e, t, r) {
  if (e.lte(0)) return new je(0);
  var n = Fo.getDigitCount(e.toNumber()),
    i = new je(10).pow(n),
    s = e.div(i),
    o = n !== 1 ? 0.05 : 0.1,
    c = new je(Math.ceil(s.div(o).toNumber())).add(r).mul(o),
    l = c.mul(i);
  return t ? l : new je(Math.ceil(l));
}
function TI(e, t, r) {
  var n = 1,
    i = new je(e);
  if (!i.isint() && r) {
    var s = Math.abs(e);
    s < 1
      ? ((n = new je(10).pow(Fo.getDigitCount(e) - 1)),
        (i = new je(Math.floor(i.div(n).toNumber())).mul(n)))
      : s > 1 && (i = new je(Math.floor(e)));
  } else
    e === 0
      ? (i = new je(Math.floor((t - 1) / 2)))
      : r || (i = new je(Math.floor(e)));
  var o = Math.floor((t - 1) / 2),
    c = yI(
      gI(function (l) {
        return i.add(new je(l - o).mul(n)).toNumber();
      }),
      jl,
    );
  return c(0, t);
}
function Kx(e, t, r, n) {
  var i = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0;
  if (!Number.isFinite((t - e) / (r - 1)))
    return { step: new je(0), tickMin: new je(0), tickMax: new je(0) };
  var s = Gx(new je(t).sub(e).div(r - 1), n, i),
    o;
  e <= 0 && t >= 0
    ? (o = new je(0))
    : ((o = new je(e).add(t).div(2)), (o = o.sub(new je(o).mod(s))));
  var c = Math.ceil(o.sub(e).div(s).toNumber()),
    l = Math.ceil(new je(t).sub(o).div(s).toNumber()),
    u = c + l + 1;
  return u > r
    ? Kx(e, t, r, n, i + 1)
    : (u < r && ((l = t > 0 ? l + (r - u) : l), (c = t > 0 ? c : c + (r - u))),
      {
        step: s,
        tickMin: o.sub(new je(c).mul(s)),
        tickMax: o.add(new je(l).mul(s)),
      });
}
function $I(e) {
  var t = oi(e, 2),
    r = t[0],
    n = t[1],
    i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 6,
    s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0,
    o = Math.max(i, 2),
    c = Wx([r, n]),
    l = oi(c, 2),
    u = l[0],
    f = l[1];
  if (u === -1 / 0 || f === 1 / 0) {
    var d =
      f === 1 / 0
        ? [u].concat(
            Nl(
              jl(0, i - 1).map(function () {
                return 1 / 0;
              }),
            ),
          )
        : [].concat(
            Nl(
              jl(0, i - 1).map(function () {
                return -1 / 0;
              }),
            ),
            [f],
          );
    return r > n ? wl(d) : d;
  }
  if (u === f) return TI(u, i, s);
  var h = Kx(u, f, o, s),
    m = h.step,
    v = h.tickMin,
    p = h.tickMax,
    x = Fo.rangeStep(v, p.add(new je(0.1).mul(m)), m);
  return r > n ? wl(x) : x;
}
function kI(e, t) {
  var r = oi(e, 2),
    n = r[0],
    i = r[1],
    s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0,
    o = Wx([n, i]),
    c = oi(o, 2),
    l = c[0],
    u = c[1];
  if (l === -1 / 0 || u === 1 / 0) return [n, i];
  if (l === u) return [l];
  var f = Math.max(t, 2),
    d = Gx(new je(u).sub(l).div(f - 1), s, 0),
    h = [].concat(
      Nl(Fo.rangeStep(new je(l), new je(u).sub(new je(0.99).mul(d)), d)),
      [u],
    );
  return n > i ? wl(h) : h;
}
var MI = Ux($I),
  II = Ux(kI),
  DI = "Invariant failed";
function ln(e, t) {
  throw new Error(DI);
}
var RI = [
  "offset",
  "layout",
  "width",
  "dataKey",
  "data",
  "dataPointFormatter",
  "xAxis",
  "yAxis",
];
function Wn(e) {
  "@babel/helpers - typeof";
  return (
    (Wn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Wn(e)
  );
}
function Vs() {
  return (
    (Vs = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Vs.apply(this, arguments)
  );
}
function LI(e, t) {
  return VI(e) || FI(e, t) || BI(e, t) || zI();
}
function zI() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function BI(e, t) {
  if (e) {
    if (typeof e == "string") return Wh(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Wh(e, t);
  }
}
function Wh(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function FI(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t !== 0))
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function VI(e) {
  if (Array.isArray(e)) return e;
}
function UI(e, t) {
  if (e == null) return {};
  var r = qI(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function qI(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function WI(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function GI(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Yx(n.key), n));
  }
}
function KI(e, t, r) {
  return (
    t && GI(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function HI(e, t, r) {
  return (
    (t = Us(t)),
    XI(
      e,
      Hx() ? Reflect.construct(t, r || [], Us(e).constructor) : t.apply(e, r),
    )
  );
}
function XI(e, t) {
  if (t && (Wn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return YI(e);
}
function YI(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Hx() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Hx = function () {
    return !!e;
  })();
}
function Us(e) {
  return (
    (Us = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    Us(e)
  );
}
function JI(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Ol(e, t));
}
function Ol(e, t) {
  return (
    (Ol = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Ol(e, t)
  );
}
function Xx(e, t, r) {
  return (
    (t = Yx(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Yx(e) {
  var t = ZI(e, "string");
  return Wn(t) == "symbol" ? t : t + "";
}
function ZI(e, t) {
  if (Wn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Wn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var Ri = (function (e) {
  function t() {
    return (WI(this, t), HI(this, t, arguments));
  }
  return (
    JI(t, e),
    KI(t, [
      {
        key: "render",
        value: function () {
          var n = this.props,
            i = n.offset,
            s = n.layout,
            o = n.width,
            c = n.dataKey,
            l = n.data,
            u = n.dataPointFormatter,
            f = n.xAxis,
            d = n.yAxis,
            h = UI(n, RI),
            m = ne(h, !1);
          this.props.direction === "x" && f.type !== "number" && ln();
          var v = l.map(function (p) {
            var x = u(p, c),
              g = x.x,
              b = x.y,
              N = x.value,
              _ = x.errorVal;
            if (!_) return null;
            var y = [],
              j,
              w;
            if (Array.isArray(_)) {
              var O = LI(_, 2);
              ((j = O[0]), (w = O[1]));
            } else j = w = _;
            if (s === "vertical") {
              var S = f.scale,
                E = b + i,
                C = E + o,
                T = E - o,
                $ = S(N - j),
                I = S(N + w);
              (y.push({ x1: I, y1: C, x2: I, y2: T }),
                y.push({ x1: $, y1: E, x2: I, y2: E }),
                y.push({ x1: $, y1: C, x2: $, y2: T }));
            } else if (s === "horizontal") {
              var k = d.scale,
                D = g + i,
                V = D - o,
                G = D + o,
                K = k(N - j),
                ee = k(N + w);
              (y.push({ x1: V, y1: ee, x2: G, y2: ee }),
                y.push({ x1: D, y1: K, x2: D, y2: ee }),
                y.push({ x1: V, y1: K, x2: G, y2: K }));
            }
            return A.createElement(
              xe,
              Vs(
                {
                  className: "recharts-errorBar",
                  key: "bar-".concat(
                    y.map(function (ae) {
                      return ""
                        .concat(ae.x1, "-")
                        .concat(ae.x2, "-")
                        .concat(ae.y1, "-")
                        .concat(ae.y2);
                    }),
                  ),
                },
                m,
              ),
              y.map(function (ae) {
                return A.createElement(
                  "line",
                  Vs({}, ae, {
                    key: "line-"
                      .concat(ae.x1, "-")
                      .concat(ae.x2, "-")
                      .concat(ae.y1, "-")
                      .concat(ae.y2),
                  }),
                );
              }),
            );
          });
          return A.createElement(xe, { className: "recharts-errorBars" }, v);
        },
      },
    ])
  );
})(A.Component);
Xx(Ri, "defaultProps", {
  stroke: "black",
  strokeWidth: 1.5,
  width: 5,
  offset: 0,
  layout: "horizontal",
});
Xx(Ri, "displayName", "ErrorBar");
function ci(e) {
  "@babel/helpers - typeof";
  return (
    (ci =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ci(e)
  );
}
function Gh(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Vr(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Gh(Object(r), !0).forEach(function (n) {
          QI(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Gh(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function QI(e, t, r) {
  return (
    (t = eD(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function eD(e) {
  var t = tD(e, "string");
  return ci(t) == "symbol" ? t : t + "";
}
function tD(e, t) {
  if (ci(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (ci(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Jx = function (t) {
  var r = t.children,
    n = t.formattedGraphicalItems,
    i = t.legendWidth,
    s = t.legendContent,
    o = gt(r, Mn);
  if (!o) return null;
  var c = Mn.defaultProps,
    l = c !== void 0 ? Vr(Vr({}, c), o.props) : {},
    u;
  return (
    o.props && o.props.payload
      ? (u = o.props && o.props.payload)
      : s === "children"
        ? (u = (n || []).reduce(function (f, d) {
            var h = d.item,
              m = d.props,
              v = m.sectors || m.data || [];
            return f.concat(
              v.map(function (p) {
                return {
                  type: o.props.iconType || h.props.legendType,
                  value: p.name,
                  color: p.fill,
                  payload: p,
                };
              }),
            );
          }, []))
        : (u = (n || []).map(function (f) {
            var d = f.item,
              h = d.type.defaultProps,
              m = h !== void 0 ? Vr(Vr({}, h), d.props) : {},
              v = m.dataKey,
              p = m.name,
              x = m.legendType,
              g = m.hide;
            return {
              inactive: g,
              dataKey: v,
              type: l.iconType || x || "square",
              color: hd(d),
              value: p || v,
              payload: m,
            };
          })),
    Vr(Vr(Vr({}, l), Mn.getWithHeight(o, i)), {}, { payload: u, item: o })
  );
};
function li(e) {
  "@babel/helpers - typeof";
  return (
    (li =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    li(e)
  );
}
function Kh(e) {
  return iD(e) || aD(e) || nD(e) || rD();
}
function rD() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function nD(e, t) {
  if (e) {
    if (typeof e == "string") return Sl(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Sl(e, t);
  }
}
function aD(e) {
  if (
    (typeof Symbol < "u" && e[Symbol.iterator] != null) ||
    e["@@iterator"] != null
  )
    return Array.from(e);
}
function iD(e) {
  if (Array.isArray(e)) return Sl(e);
}
function Sl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function Hh(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Re(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Hh(Object(r), !0).forEach(function (n) {
          Dn(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Hh(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function Dn(e, t, r) {
  return (
    (t = sD(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function sD(e) {
  var t = oD(e, "string");
  return li(t) == "symbol" ? t : t + "";
}
function oD(e, t) {
  if (li(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (li(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function Be(e, t, r) {
  return fe(e) || fe(t) ? r : Xe(t) ? bt(e, t, r) : ce(t) ? t(e) : r;
}
function Ba(e, t, r, n) {
  var i = aI(e, function (c) {
    return Be(c, t);
  });
  if (r === "number") {
    var s = i.filter(function (c) {
      return W(c) || parseFloat(c);
    });
    return s.length ? [zo(s), Cr(s)] : [1 / 0, -1 / 0];
  }
  var o = n
    ? i.filter(function (c) {
        return !fe(c);
      })
    : i;
  return o.map(function (c) {
    return Xe(c) || c instanceof Date ? c : "";
  });
}
var cD = function (t) {
    var r,
      n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [],
      i = arguments.length > 2 ? arguments[2] : void 0,
      s = arguments.length > 3 ? arguments[3] : void 0,
      o = -1,
      c = (r = n?.length) !== null && r !== void 0 ? r : 0;
    if (c <= 1) return 0;
    if (
      s &&
      s.axisType === "angleAxis" &&
      Math.abs(Math.abs(s.range[1] - s.range[0]) - 360) <= 1e-6
    )
      for (var l = s.range, u = 0; u < c; u++) {
        var f = u > 0 ? i[u - 1].coordinate : i[c - 1].coordinate,
          d = i[u].coordinate,
          h = u >= c - 1 ? i[0].coordinate : i[u + 1].coordinate,
          m = void 0;
        if (ct(d - f) !== ct(h - d)) {
          var v = [];
          if (ct(h - d) === ct(l[1] - l[0])) {
            m = h;
            var p = d + l[1] - l[0];
            ((v[0] = Math.min(p, (p + f) / 2)),
              (v[1] = Math.max(p, (p + f) / 2)));
          } else {
            m = f;
            var x = h + l[1] - l[0];
            ((v[0] = Math.min(d, (x + d) / 2)),
              (v[1] = Math.max(d, (x + d) / 2)));
          }
          var g = [Math.min(d, (m + d) / 2), Math.max(d, (m + d) / 2)];
          if ((t > g[0] && t <= g[1]) || (t >= v[0] && t <= v[1])) {
            o = i[u].index;
            break;
          }
        } else {
          var b = Math.min(f, h),
            N = Math.max(f, h);
          if (t > (b + d) / 2 && t <= (N + d) / 2) {
            o = i[u].index;
            break;
          }
        }
      }
    else
      for (var _ = 0; _ < c; _++)
        if (
          (_ === 0 && t <= (n[_].coordinate + n[_ + 1].coordinate) / 2) ||
          (_ > 0 &&
            _ < c - 1 &&
            t > (n[_].coordinate + n[_ - 1].coordinate) / 2 &&
            t <= (n[_].coordinate + n[_ + 1].coordinate) / 2) ||
          (_ === c - 1 && t > (n[_].coordinate + n[_ - 1].coordinate) / 2)
        ) {
          o = n[_].index;
          break;
        }
    return o;
  },
  hd = function (t) {
    var r,
      n = t,
      i = n.type.displayName,
      s =
        (r = t.type) !== null && r !== void 0 && r.defaultProps
          ? Re(Re({}, t.type.defaultProps), t.props)
          : t.props,
      o = s.stroke,
      c = s.fill,
      l;
    switch (i) {
      case "Line":
        l = o;
        break;
      case "Area":
      case "Radar":
        l = o && o !== "none" ? o : c;
        break;
      default:
        l = c;
        break;
    }
    return l;
  },
  lD = function (t) {
    var r = t.barSize,
      n = t.totalSize,
      i = t.stackGroups,
      s = i === void 0 ? {} : i;
    if (!s) return {};
    for (var o = {}, c = Object.keys(s), l = 0, u = c.length; l < u; l++)
      for (
        var f = s[c[l]].stackGroups, d = Object.keys(f), h = 0, m = d.length;
        h < m;
        h++
      ) {
        var v = f[d[h]],
          p = v.items,
          x = v.cateAxisId,
          g = p.filter(function (w) {
            return lr(w.type).indexOf("Bar") >= 0;
          });
        if (g && g.length) {
          var b = g[0].type.defaultProps,
            N = b !== void 0 ? Re(Re({}, b), g[0].props) : g[0].props,
            _ = N.barSize,
            y = N[x];
          o[y] || (o[y] = []);
          var j = fe(_) ? r : _;
          o[y].push({
            item: g[0],
            stackList: g.slice(1),
            barSize: fe(j) ? void 0 : lt(j, n, 0),
          });
        }
      }
    return o;
  },
  uD = function (t) {
    var r = t.barGap,
      n = t.barCategoryGap,
      i = t.bandSize,
      s = t.sizeList,
      o = s === void 0 ? [] : s,
      c = t.maxBarSize,
      l = o.length;
    if (l < 1) return null;
    var u = lt(r, i, 0, !0),
      f,
      d = [];
    if (o[0].barSize === +o[0].barSize) {
      var h = !1,
        m = i / l,
        v = o.reduce(function (_, y) {
          return _ + y.barSize || 0;
        }, 0);
      ((v += (l - 1) * u),
        v >= i && ((v -= (l - 1) * u), (u = 0)),
        v >= i && m > 0 && ((h = !0), (m *= 0.9), (v = l * m)));
      var p = ((i - v) / 2) >> 0,
        x = { offset: p - u, size: 0 };
      f = o.reduce(function (_, y) {
        var j = {
            item: y.item,
            position: {
              offset: x.offset + x.size + u,
              size: h ? m : y.barSize,
            },
          },
          w = [].concat(Kh(_), [j]);
        return (
          (x = w[w.length - 1].position),
          y.stackList &&
            y.stackList.length &&
            y.stackList.forEach(function (O) {
              w.push({ item: O, position: x });
            }),
          w
        );
      }, d);
    } else {
      var g = lt(n, i, 0, !0);
      i - 2 * g - (l - 1) * u <= 0 && (u = 0);
      var b = (i - 2 * g - (l - 1) * u) / l;
      b > 1 && (b >>= 0);
      var N = c === +c ? Math.min(b, c) : b;
      f = o.reduce(function (_, y, j) {
        var w = [].concat(Kh(_), [
          {
            item: y.item,
            position: { offset: g + (b + u) * j + (b - N) / 2, size: N },
          },
        ]);
        return (
          y.stackList &&
            y.stackList.length &&
            y.stackList.forEach(function (O) {
              w.push({ item: O, position: w[w.length - 1].position });
            }),
          w
        );
      }, d);
    }
    return f;
  },
  dD = function (t, r, n, i) {
    var s = n.children,
      o = n.width,
      c = n.margin,
      l = o - (c.left || 0) - (c.right || 0),
      u = Jx({ children: s, legendWidth: l });
    if (u) {
      var f = i || {},
        d = f.width,
        h = f.height,
        m = u.align,
        v = u.verticalAlign,
        p = u.layout;
      if (
        (p === "vertical" || (p === "horizontal" && v === "middle")) &&
        m !== "center" &&
        W(t[m])
      )
        return Re(Re({}, t), {}, Dn({}, m, t[m] + (d || 0)));
      if (
        (p === "horizontal" || (p === "vertical" && m === "center")) &&
        v !== "middle" &&
        W(t[v])
      )
        return Re(Re({}, t), {}, Dn({}, v, t[v] + (h || 0)));
    }
    return t;
  },
  fD = function (t, r, n) {
    return fe(r)
      ? !0
      : t === "horizontal"
        ? r === "yAxis"
        : t === "vertical" || n === "x"
          ? r === "xAxis"
          : n === "y"
            ? r === "yAxis"
            : !0;
  },
  Zx = function (t, r, n, i, s) {
    var o = r.props.children,
      c = jt(o, Ri).filter(function (u) {
        return fD(i, s, u.props.direction);
      });
    if (c && c.length) {
      var l = c.map(function (u) {
        return u.props.dataKey;
      });
      return t.reduce(
        function (u, f) {
          var d = Be(f, n);
          if (fe(d)) return u;
          var h = Array.isArray(d) ? [zo(d), Cr(d)] : [d, d],
            m = l.reduce(
              function (v, p) {
                var x = Be(f, p, 0),
                  g = h[0] - Math.abs(Array.isArray(x) ? x[0] : x),
                  b = h[1] + Math.abs(Array.isArray(x) ? x[1] : x);
                return [Math.min(g, v[0]), Math.max(b, v[1])];
              },
              [1 / 0, -1 / 0],
            );
          return [Math.min(m[0], u[0]), Math.max(m[1], u[1])];
        },
        [1 / 0, -1 / 0],
      );
    }
    return null;
  },
  hD = function (t, r, n, i, s) {
    var o = r
      .map(function (c) {
        return Zx(t, c, n, s, i);
      })
      .filter(function (c) {
        return !fe(c);
      });
    return o && o.length
      ? o.reduce(
          function (c, l) {
            return [Math.min(c[0], l[0]), Math.max(c[1], l[1])];
          },
          [1 / 0, -1 / 0],
        )
      : null;
  },
  Qx = function (t, r, n, i, s) {
    var o = r.map(function (l) {
      var u = l.props.dataKey;
      return (n === "number" && u && Zx(t, l, u, i)) || Ba(t, u, n, s);
    });
    if (n === "number")
      return o.reduce(
        function (l, u) {
          return [Math.min(l[0], u[0]), Math.max(l[1], u[1])];
        },
        [1 / 0, -1 / 0],
      );
    var c = {};
    return o.reduce(function (l, u) {
      for (var f = 0, d = u.length; f < d; f++)
        c[u[f]] || ((c[u[f]] = !0), l.push(u[f]));
      return l;
    }, []);
  },
  eg = function (t, r) {
    return (
      (t === "horizontal" && r === "xAxis") ||
      (t === "vertical" && r === "yAxis") ||
      (t === "centric" && r === "angleAxis") ||
      (t === "radial" && r === "radiusAxis")
    );
  },
  tg = function (t, r, n, i) {
    if (i)
      return t.map(function (l) {
        return l.coordinate;
      });
    var s,
      o,
      c = t.map(function (l) {
        return (
          l.coordinate === r && (s = !0),
          l.coordinate === n && (o = !0),
          l.coordinate
        );
      });
    return (s || c.push(r), o || c.push(n), c);
  },
  ir = function (t, r, n) {
    if (!t) return null;
    var i = t.scale,
      s = t.duplicateDomain,
      o = t.type,
      c = t.range,
      l = t.realScaleType === "scaleBand" ? i.bandwidth() / 2 : 2,
      u = (r || n) && o === "category" && i.bandwidth ? i.bandwidth() / l : 0;
    if (
      ((u =
        t.axisType === "angleAxis" && c?.length >= 2
          ? ct(c[0] - c[1]) * 2 * u
          : u),
      r && (t.ticks || t.niceTicks))
    ) {
      var f = (t.ticks || t.niceTicks).map(function (d) {
        var h = s ? s.indexOf(d) : d;
        return { coordinate: i(h) + u, value: d, offset: u };
      });
      return f.filter(function (d) {
        return !pa(d.coordinate);
      });
    }
    return t.isCategorical && t.categoricalDomain
      ? t.categoricalDomain.map(function (d, h) {
          return { coordinate: i(d) + u, value: d, index: h, offset: u };
        })
      : i.ticks && !n
        ? i.ticks(t.tickCount).map(function (d) {
            return { coordinate: i(d) + u, value: d, offset: u };
          })
        : i.domain().map(function (d, h) {
            return {
              coordinate: i(d) + u,
              value: s ? s[d] : d,
              index: h,
              offset: u,
            };
          });
  },
  Ac = new WeakMap(),
  Zi = function (t, r) {
    if (typeof r != "function") return t;
    Ac.has(t) || Ac.set(t, new WeakMap());
    var n = Ac.get(t);
    if (n.has(r)) return n.get(r);
    var i = function () {
      (t.apply(void 0, arguments), r.apply(void 0, arguments));
    };
    return (n.set(r, i), i);
  },
  rg = function (t, r, n) {
    var i = t.scale,
      s = t.type,
      o = t.layout,
      c = t.axisType;
    if (i === "auto")
      return o === "radial" && c === "radiusAxis"
        ? { scale: ti(), realScaleType: "band" }
        : o === "radial" && c === "angleAxis"
          ? { scale: Rs(), realScaleType: "linear" }
          : s === "category" &&
              r &&
              (r.indexOf("LineChart") >= 0 ||
                r.indexOf("AreaChart") >= 0 ||
                (r.indexOf("ComposedChart") >= 0 && !n))
            ? { scale: za(), realScaleType: "point" }
            : s === "category"
              ? { scale: ti(), realScaleType: "band" }
              : { scale: Rs(), realScaleType: "linear" };
    if (nn(i)) {
      var l = "scale".concat(_o(i));
      return { scale: (Fh[l] || za)(), realScaleType: Fh[l] ? l : "point" };
    }
    return ce(i) ? { scale: i } : { scale: za(), realScaleType: "point" };
  },
  Xh = 1e-4,
  ng = function (t) {
    var r = t.domain();
    if (!(!r || r.length <= 2)) {
      var n = r.length,
        i = t.range(),
        s = Math.min(i[0], i[1]) - Xh,
        o = Math.max(i[0], i[1]) + Xh,
        c = t(r[0]),
        l = t(r[n - 1]);
      (c < s || c > o || l < s || l > o) && t.domain([r[0], r[n - 1]]);
    }
  },
  mD = function (t, r) {
    if (!t) return null;
    for (var n = 0, i = t.length; n < i; n++)
      if (t[n].item === r) return t[n].position;
    return null;
  },
  pD = function (t, r) {
    if (!r || r.length !== 2 || !W(r[0]) || !W(r[1])) return t;
    var n = Math.min(r[0], r[1]),
      i = Math.max(r[0], r[1]),
      s = [t[0], t[1]];
    return (
      (!W(t[0]) || t[0] < n) && (s[0] = n),
      (!W(t[1]) || t[1] > i) && (s[1] = i),
      s[0] > i && (s[0] = i),
      s[1] < n && (s[1] = n),
      s
    );
  },
  vD = function (t) {
    var r = t.length;
    if (!(r <= 0))
      for (var n = 0, i = t[0].length; n < i; ++n)
        for (var s = 0, o = 0, c = 0; c < r; ++c) {
          var l = pa(t[c][n][1]) ? t[c][n][0] : t[c][n][1];
          l >= 0
            ? ((t[c][n][0] = s), (t[c][n][1] = s + l), (s = t[c][n][1]))
            : ((t[c][n][0] = o), (t[c][n][1] = o + l), (o = t[c][n][1]));
        }
  },
  xD = function (t) {
    var r = t.length;
    if (!(r <= 0))
      for (var n = 0, i = t[0].length; n < i; ++n)
        for (var s = 0, o = 0; o < r; ++o) {
          var c = pa(t[o][n][1]) ? t[o][n][0] : t[o][n][1];
          c >= 0
            ? ((t[o][n][0] = s), (t[o][n][1] = s + c), (s = t[o][n][1]))
            : ((t[o][n][0] = 0), (t[o][n][1] = 0));
        }
  },
  gD = {
    sign: vD,
    expand: R_,
    none: Rn,
    silhouette: L_,
    wiggle: z_,
    positive: xD,
  },
  yD = function (t, r, n) {
    var i = r.map(function (c) {
        return c.props.dataKey;
      }),
      s = gD[n],
      o = D_()
        .keys(i)
        .value(function (c, l) {
          return +Be(c, l, 0);
        })
        .order(Jc)
        .offset(s);
    return o(t);
  },
  bD = function (t, r, n, i, s, o) {
    if (!t) return null;
    var c = o ? r.reverse() : r,
      l = {},
      u = c.reduce(function (d, h) {
        var m,
          v =
            (m = h.type) !== null && m !== void 0 && m.defaultProps
              ? Re(Re({}, h.type.defaultProps), h.props)
              : h.props,
          p = v.stackId,
          x = v.hide;
        if (x) return d;
        var g = v[n],
          b = d[g] || { hasStack: !1, stackGroups: {} };
        if (Xe(p)) {
          var N = b.stackGroups[p] || {
            numericAxisId: n,
            cateAxisId: i,
            items: [],
          };
          (N.items.push(h), (b.hasStack = !0), (b.stackGroups[p] = N));
        } else
          b.stackGroups[vn("_stackId_")] = {
            numericAxisId: n,
            cateAxisId: i,
            items: [h],
          };
        return Re(Re({}, d), {}, Dn({}, g, b));
      }, l),
      f = {};
    return Object.keys(u).reduce(function (d, h) {
      var m = u[h];
      if (m.hasStack) {
        var v = {};
        m.stackGroups = Object.keys(m.stackGroups).reduce(function (p, x) {
          var g = m.stackGroups[x];
          return Re(
            Re({}, p),
            {},
            Dn({}, x, {
              numericAxisId: n,
              cateAxisId: i,
              items: g.items,
              stackedData: yD(t, g.items, s),
            }),
          );
        }, v);
      }
      return Re(Re({}, d), {}, Dn({}, h, m));
    }, f);
  },
  ag = function (t, r) {
    var n = r.realScaleType,
      i = r.type,
      s = r.tickCount,
      o = r.originalDomain,
      c = r.allowDecimals,
      l = n || r.scale;
    if (l !== "auto" && l !== "linear") return null;
    if (s && i === "number" && o && (o[0] === "auto" || o[1] === "auto")) {
      var u = t.domain();
      if (!u.length) return null;
      var f = MI(u, s, c);
      return (t.domain([zo(f), Cr(f)]), { niceTicks: f });
    }
    if (s && i === "number") {
      var d = t.domain(),
        h = II(d, s, c);
      return { niceTicks: h };
    }
    return null;
  };
function qs(e) {
  var t = e.axis,
    r = e.ticks,
    n = e.bandSize,
    i = e.entry,
    s = e.index,
    o = e.dataKey;
  if (t.type === "category") {
    if (!t.allowDuplicatedCategory && t.dataKey && !fe(i[t.dataKey])) {
      var c = vs(r, "value", i[t.dataKey]);
      if (c) return c.coordinate + n / 2;
    }
    return r[s] ? r[s].coordinate + n / 2 : null;
  }
  var l = Be(i, fe(o) ? t.dataKey : o);
  return fe(l) ? null : t.scale(l);
}
var Yh = function (t) {
    var r = t.axis,
      n = t.ticks,
      i = t.offset,
      s = t.bandSize,
      o = t.entry,
      c = t.index;
    if (r.type === "category") return n[c] ? n[c].coordinate + i : null;
    var l = Be(o, r.dataKey, r.domain[c]);
    return fe(l) ? null : r.scale(l) - s / 2 + i;
  },
  jD = function (t) {
    var r = t.numericAxis,
      n = r.scale.domain();
    if (r.type === "number") {
      var i = Math.min(n[0], n[1]),
        s = Math.max(n[0], n[1]);
      return i <= 0 && s >= 0 ? 0 : s < 0 ? s : i;
    }
    return n[0];
  },
  wD = function (t, r) {
    var n,
      i =
        (n = t.type) !== null && n !== void 0 && n.defaultProps
          ? Re(Re({}, t.type.defaultProps), t.props)
          : t.props,
      s = i.stackId;
    if (Xe(s)) {
      var o = r[s];
      if (o) {
        var c = o.items.indexOf(t);
        return c >= 0 ? o.stackedData[c] : null;
      }
    }
    return null;
  },
  ND = function (t) {
    return t.reduce(
      function (r, n) {
        return [zo(n.concat([r[0]]).filter(W)), Cr(n.concat([r[1]]).filter(W))];
      },
      [1 / 0, -1 / 0],
    );
  },
  ig = function (t, r, n) {
    return Object.keys(t)
      .reduce(
        function (i, s) {
          var o = t[s],
            c = o.stackedData,
            l = c.reduce(
              function (u, f) {
                var d = ND(f.slice(r, n + 1));
                return [Math.min(u[0], d[0]), Math.max(u[1], d[1])];
              },
              [1 / 0, -1 / 0],
            );
          return [Math.min(l[0], i[0]), Math.max(l[1], i[1])];
        },
        [1 / 0, -1 / 0],
      )
      .map(function (i) {
        return i === 1 / 0 || i === -1 / 0 ? 0 : i;
      });
  },
  Jh = /^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,
  Zh = /^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,
  Al = function (t, r, n) {
    if (ce(t)) return t(r, n);
    if (!Array.isArray(t)) return r;
    var i = [];
    if (W(t[0])) i[0] = n ? t[0] : Math.min(t[0], r[0]);
    else if (Jh.test(t[0])) {
      var s = +Jh.exec(t[0])[1];
      i[0] = r[0] - s;
    } else ce(t[0]) ? (i[0] = t[0](r[0])) : (i[0] = r[0]);
    if (W(t[1])) i[1] = n ? t[1] : Math.max(t[1], r[1]);
    else if (Zh.test(t[1])) {
      var o = +Zh.exec(t[1])[1];
      i[1] = r[1] + o;
    } else ce(t[1]) ? (i[1] = t[1](r[1])) : (i[1] = r[1]);
    return i;
  },
  Ws = function (t, r, n) {
    if (t && t.scale && t.scale.bandwidth) {
      var i = t.scale.bandwidth();
      if (!n || i > 0) return i;
    }
    if (t && r && r.length >= 2) {
      for (
        var s = Fu(r, function (d) {
            return d.coordinate;
          }),
          o = 1 / 0,
          c = 1,
          l = s.length;
        c < l;
        c++
      ) {
        var u = s[c],
          f = s[c - 1];
        o = Math.min((u.coordinate || 0) - (f.coordinate || 0), o);
      }
      return o === 1 / 0 ? 0 : o;
    }
    return n ? void 0 : 0;
  },
  Qh = function (t, r, n) {
    return !t || !t.length || on(t, bt(n, "type.defaultProps.domain")) ? r : t;
  },
  sg = function (t, r) {
    var n = t.type.defaultProps
        ? Re(Re({}, t.type.defaultProps), t.props)
        : t.props,
      i = n.dataKey,
      s = n.name,
      o = n.unit,
      c = n.formatter,
      l = n.tooltipType,
      u = n.chartType,
      f = n.hide;
    return Re(
      Re({}, ne(t, !1)),
      {},
      {
        dataKey: i,
        unit: o,
        formatter: c,
        name: s || i,
        color: hd(t),
        value: Be(r, i),
        type: l,
        payload: r,
        chartType: u,
        hide: f,
      },
    );
  };
function ui(e) {
  "@babel/helpers - typeof";
  return (
    (ui =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ui(e)
  );
}
function em(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function tr(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? em(Object(r), !0).forEach(function (n) {
          og(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : em(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function og(e, t, r) {
  return (
    (t = _D(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function _D(e) {
  var t = OD(e, "string");
  return ui(t) == "symbol" ? t : t + "";
}
function OD(e, t) {
  if (ui(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (ui(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function SD(e, t) {
  return ED(e) || CD(e, t) || PD(e, t) || AD();
}
function AD() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function PD(e, t) {
  if (e) {
    if (typeof e == "string") return tm(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return tm(e, t);
  }
}
function tm(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function CD(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t !== 0))
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function ED(e) {
  if (Array.isArray(e)) return e;
}
var Gs = Math.PI / 180,
  TD = function (t) {
    return (t * 180) / Math.PI;
  },
  Ce = function (t, r, n, i) {
    return { x: t + Math.cos(-Gs * i) * n, y: r + Math.sin(-Gs * i) * n };
  },
  cg = function (t, r) {
    var n =
      arguments.length > 2 && arguments[2] !== void 0
        ? arguments[2]
        : { top: 0, right: 0, bottom: 0, left: 0 };
    return (
      Math.min(
        Math.abs(t - (n.left || 0) - (n.right || 0)),
        Math.abs(r - (n.top || 0) - (n.bottom || 0)),
      ) / 2
    );
  },
  $D = function (t, r, n, i, s) {
    var o = t.width,
      c = t.height,
      l = t.startAngle,
      u = t.endAngle,
      f = lt(t.cx, o, o / 2),
      d = lt(t.cy, c, c / 2),
      h = cg(o, c, n),
      m = lt(t.innerRadius, h, 0),
      v = lt(t.outerRadius, h, h * 0.8),
      p = Object.keys(r);
    return p.reduce(function (x, g) {
      var b = r[g],
        N = b.domain,
        _ = b.reversed,
        y;
      if (fe(b.range))
        (i === "angleAxis" ? (y = [l, u]) : i === "radiusAxis" && (y = [m, v]),
          _ && (y = [y[1], y[0]]));
      else {
        y = b.range;
        var j = y,
          w = SD(j, 2);
        ((l = w[0]), (u = w[1]));
      }
      var O = rg(b, s),
        S = O.realScaleType,
        E = O.scale;
      (E.domain(N).range(y), ng(E));
      var C = ag(E, tr(tr({}, b), {}, { realScaleType: S })),
        T = tr(
          tr(tr({}, b), C),
          {},
          {
            range: y,
            radius: v,
            realScaleType: S,
            scale: E,
            cx: f,
            cy: d,
            innerRadius: m,
            outerRadius: v,
            startAngle: l,
            endAngle: u,
          },
        );
      return tr(tr({}, x), {}, og({}, g, T));
    }, {});
  },
  kD = function (t, r) {
    var n = t.x,
      i = t.y,
      s = r.x,
      o = r.y;
    return Math.sqrt(Math.pow(n - s, 2) + Math.pow(i - o, 2));
  },
  MD = function (t, r) {
    var n = t.x,
      i = t.y,
      s = r.cx,
      o = r.cy,
      c = kD({ x: n, y: i }, { x: s, y: o });
    if (c <= 0) return { radius: c };
    var l = (n - s) / c,
      u = Math.acos(l);
    return (
      i > o && (u = 2 * Math.PI - u),
      { radius: c, angle: TD(u), angleInRadian: u }
    );
  },
  ID = function (t) {
    var r = t.startAngle,
      n = t.endAngle,
      i = Math.floor(r / 360),
      s = Math.floor(n / 360),
      o = Math.min(i, s);
    return { startAngle: r - o * 360, endAngle: n - o * 360 };
  },
  DD = function (t, r) {
    var n = r.startAngle,
      i = r.endAngle,
      s = Math.floor(n / 360),
      o = Math.floor(i / 360),
      c = Math.min(s, o);
    return t + c * 360;
  },
  rm = function (t, r) {
    var n = t.x,
      i = t.y,
      s = MD({ x: n, y: i }, r),
      o = s.radius,
      c = s.angle,
      l = r.innerRadius,
      u = r.outerRadius;
    if (o < l || o > u) return !1;
    if (o === 0) return !0;
    var f = ID(r),
      d = f.startAngle,
      h = f.endAngle,
      m = c,
      v;
    if (d <= h) {
      for (; m > h; ) m -= 360;
      for (; m < d; ) m += 360;
      v = m >= d && m <= h;
    } else {
      for (; m > d; ) m -= 360;
      for (; m < h; ) m += 360;
      v = m >= h && m <= d;
    }
    return v ? tr(tr({}, r), {}, { radius: o, angle: DD(m, r) }) : null;
  },
  lg = function (t) {
    return !P.isValidElement(t) && !ce(t) && typeof t != "boolean"
      ? t.className
      : "";
  };
function di(e) {
  "@babel/helpers - typeof";
  return (
    (di =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    di(e)
  );
}
var RD = ["offset"];
function LD(e) {
  return VD(e) || FD(e) || BD(e) || zD();
}
function zD() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function BD(e, t) {
  if (e) {
    if (typeof e == "string") return Pl(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Pl(e, t);
  }
}
function FD(e) {
  if (
    (typeof Symbol < "u" && e[Symbol.iterator] != null) ||
    e["@@iterator"] != null
  )
    return Array.from(e);
}
function VD(e) {
  if (Array.isArray(e)) return Pl(e);
}
function Pl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function UD(e, t) {
  if (e == null) return {};
  var r = qD(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function qD(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function nm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Ke(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? nm(Object(r), !0).forEach(function (n) {
          WD(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : nm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function WD(e, t, r) {
  return (
    (t = GD(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function GD(e) {
  var t = KD(e, "string");
  return di(t) == "symbol" ? t : t + "";
}
function KD(e, t) {
  if (di(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (di(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function fi() {
  return (
    (fi = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    fi.apply(this, arguments)
  );
}
var HD = function (t) {
    var r = t.value,
      n = t.formatter,
      i = fe(t.children) ? r : t.children;
    return ce(n) ? n(i) : i;
  },
  XD = function (t, r) {
    var n = ct(r - t),
      i = Math.min(Math.abs(r - t), 360);
    return n * i;
  },
  YD = function (t, r, n) {
    var i = t.position,
      s = t.viewBox,
      o = t.offset,
      c = t.className,
      l = s,
      u = l.cx,
      f = l.cy,
      d = l.innerRadius,
      h = l.outerRadius,
      m = l.startAngle,
      v = l.endAngle,
      p = l.clockWise,
      x = (d + h) / 2,
      g = XD(m, v),
      b = g >= 0 ? 1 : -1,
      N,
      _;
    (i === "insideStart"
      ? ((N = m + b * o), (_ = p))
      : i === "insideEnd"
        ? ((N = v - b * o), (_ = !p))
        : i === "end" && ((N = v + b * o), (_ = p)),
      (_ = g <= 0 ? _ : !_));
    var y = Ce(u, f, x, N),
      j = Ce(u, f, x, N + (_ ? 1 : -1) * 359),
      w = "M"
        .concat(y.x, ",")
        .concat(
          y.y,
          `
    A`,
        )
        .concat(x, ",")
        .concat(x, ",0,1,")
        .concat(
          _ ? 0 : 1,
          `,
    `,
        )
        .concat(j.x, ",")
        .concat(j.y),
      O = fe(t.id) ? vn("recharts-radial-line-") : t.id;
    return A.createElement(
      "text",
      fi({}, n, {
        dominantBaseline: "central",
        className: pe("recharts-radial-bar-label", c),
      }),
      A.createElement("defs", null, A.createElement("path", { id: O, d: w })),
      A.createElement("textPath", { xlinkHref: "#".concat(O) }, r),
    );
  },
  JD = function (t) {
    var r = t.viewBox,
      n = t.offset,
      i = t.position,
      s = r,
      o = s.cx,
      c = s.cy,
      l = s.innerRadius,
      u = s.outerRadius,
      f = s.startAngle,
      d = s.endAngle,
      h = (f + d) / 2;
    if (i === "outside") {
      var m = Ce(o, c, u + n, h),
        v = m.x,
        p = m.y;
      return {
        x: v,
        y: p,
        textAnchor: v >= o ? "start" : "end",
        verticalAnchor: "middle",
      };
    }
    if (i === "center")
      return { x: o, y: c, textAnchor: "middle", verticalAnchor: "middle" };
    if (i === "centerTop")
      return { x: o, y: c, textAnchor: "middle", verticalAnchor: "start" };
    if (i === "centerBottom")
      return { x: o, y: c, textAnchor: "middle", verticalAnchor: "end" };
    var x = (l + u) / 2,
      g = Ce(o, c, x, h),
      b = g.x,
      N = g.y;
    return { x: b, y: N, textAnchor: "middle", verticalAnchor: "middle" };
  },
  ZD = function (t) {
    var r = t.viewBox,
      n = t.parentViewBox,
      i = t.offset,
      s = t.position,
      o = r,
      c = o.x,
      l = o.y,
      u = o.width,
      f = o.height,
      d = f >= 0 ? 1 : -1,
      h = d * i,
      m = d > 0 ? "end" : "start",
      v = d > 0 ? "start" : "end",
      p = u >= 0 ? 1 : -1,
      x = p * i,
      g = p > 0 ? "end" : "start",
      b = p > 0 ? "start" : "end";
    if (s === "top") {
      var N = {
        x: c + u / 2,
        y: l - d * i,
        textAnchor: "middle",
        verticalAnchor: m,
      };
      return Ke(Ke({}, N), n ? { height: Math.max(l - n.y, 0), width: u } : {});
    }
    if (s === "bottom") {
      var _ = {
        x: c + u / 2,
        y: l + f + h,
        textAnchor: "middle",
        verticalAnchor: v,
      };
      return Ke(
        Ke({}, _),
        n ? { height: Math.max(n.y + n.height - (l + f), 0), width: u } : {},
      );
    }
    if (s === "left") {
      var y = {
        x: c - x,
        y: l + f / 2,
        textAnchor: g,
        verticalAnchor: "middle",
      };
      return Ke(
        Ke({}, y),
        n ? { width: Math.max(y.x - n.x, 0), height: f } : {},
      );
    }
    if (s === "right") {
      var j = {
        x: c + u + x,
        y: l + f / 2,
        textAnchor: b,
        verticalAnchor: "middle",
      };
      return Ke(
        Ke({}, j),
        n ? { width: Math.max(n.x + n.width - j.x, 0), height: f } : {},
      );
    }
    var w = n ? { width: u, height: f } : {};
    return s === "insideLeft"
      ? Ke(
          { x: c + x, y: l + f / 2, textAnchor: b, verticalAnchor: "middle" },
          w,
        )
      : s === "insideRight"
        ? Ke(
            {
              x: c + u - x,
              y: l + f / 2,
              textAnchor: g,
              verticalAnchor: "middle",
            },
            w,
          )
        : s === "insideTop"
          ? Ke(
              {
                x: c + u / 2,
                y: l + h,
                textAnchor: "middle",
                verticalAnchor: v,
              },
              w,
            )
          : s === "insideBottom"
            ? Ke(
                {
                  x: c + u / 2,
                  y: l + f - h,
                  textAnchor: "middle",
                  verticalAnchor: m,
                },
                w,
              )
            : s === "insideTopLeft"
              ? Ke({ x: c + x, y: l + h, textAnchor: b, verticalAnchor: v }, w)
              : s === "insideTopRight"
                ? Ke(
                    {
                      x: c + u - x,
                      y: l + h,
                      textAnchor: g,
                      verticalAnchor: v,
                    },
                    w,
                  )
                : s === "insideBottomLeft"
                  ? Ke(
                      {
                        x: c + x,
                        y: l + f - h,
                        textAnchor: b,
                        verticalAnchor: m,
                      },
                      w,
                    )
                  : s === "insideBottomRight"
                    ? Ke(
                        {
                          x: c + u - x,
                          y: l + f - h,
                          textAnchor: g,
                          verticalAnchor: m,
                        },
                        w,
                      )
                    : da(s) && (W(s.x) || Xr(s.x)) && (W(s.y) || Xr(s.y))
                      ? Ke(
                          {
                            x: c + lt(s.x, u),
                            y: l + lt(s.y, f),
                            textAnchor: "end",
                            verticalAnchor: "end",
                          },
                          w,
                        )
                      : Ke(
                          {
                            x: c + u / 2,
                            y: l + f / 2,
                            textAnchor: "middle",
                            verticalAnchor: "middle",
                          },
                          w,
                        );
  },
  QD = function (t) {
    return "cx" in t && W(t.cx);
  };
function Ze(e) {
  var t = e.offset,
    r = t === void 0 ? 5 : t,
    n = UD(e, RD),
    i = Ke({ offset: r }, n),
    s = i.viewBox,
    o = i.position,
    c = i.value,
    l = i.children,
    u = i.content,
    f = i.className,
    d = f === void 0 ? "" : f,
    h = i.textBreakAll;
  if (!s || (fe(c) && fe(l) && !P.isValidElement(u) && !ce(u))) return null;
  if (P.isValidElement(u)) return P.cloneElement(u, i);
  var m;
  if (ce(u)) {
    if (((m = P.createElement(u, i)), P.isValidElement(m))) return m;
  } else m = HD(i);
  var v = QD(s),
    p = ne(i, !0);
  if (v && (o === "insideStart" || o === "insideEnd" || o === "end"))
    return YD(i, m, p);
  var x = v ? JD(i) : ZD(i);
  return A.createElement(
    sn,
    fi({ className: pe("recharts-label", d) }, p, x, { breakAll: h }),
    m,
  );
}
Ze.displayName = "Label";
var ug = function (t) {
    var r = t.cx,
      n = t.cy,
      i = t.angle,
      s = t.startAngle,
      o = t.endAngle,
      c = t.r,
      l = t.radius,
      u = t.innerRadius,
      f = t.outerRadius,
      d = t.x,
      h = t.y,
      m = t.top,
      v = t.left,
      p = t.width,
      x = t.height,
      g = t.clockWise,
      b = t.labelViewBox;
    if (b) return b;
    if (W(p) && W(x)) {
      if (W(d) && W(h)) return { x: d, y: h, width: p, height: x };
      if (W(m) && W(v)) return { x: m, y: v, width: p, height: x };
    }
    return W(d) && W(h)
      ? { x: d, y: h, width: 0, height: 0 }
      : W(r) && W(n)
        ? {
            cx: r,
            cy: n,
            startAngle: s || i || 0,
            endAngle: o || i || 0,
            innerRadius: u || 0,
            outerRadius: f || l || c || 0,
            clockWise: g,
          }
        : t.viewBox
          ? t.viewBox
          : {};
  },
  eR = function (t, r) {
    return t
      ? t === !0
        ? A.createElement(Ze, { key: "label-implicit", viewBox: r })
        : Xe(t)
          ? A.createElement(Ze, { key: "label-implicit", viewBox: r, value: t })
          : P.isValidElement(t)
            ? t.type === Ze
              ? P.cloneElement(t, { key: "label-implicit", viewBox: r })
              : A.createElement(Ze, {
                  key: "label-implicit",
                  content: t,
                  viewBox: r,
                })
            : ce(t)
              ? A.createElement(Ze, {
                  key: "label-implicit",
                  content: t,
                  viewBox: r,
                })
              : da(t)
                ? A.createElement(
                    Ze,
                    fi({ viewBox: r }, t, { key: "label-implicit" }),
                  )
                : null
      : null;
  },
  tR = function (t, r) {
    var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
    if (!t || (!t.children && n && !t.label)) return null;
    var i = t.children,
      s = ug(t),
      o = jt(i, Ze).map(function (l, u) {
        return P.cloneElement(l, { viewBox: r || s, key: "label-".concat(u) });
      });
    if (!n) return o;
    var c = eR(t.label, r || s);
    return [c].concat(LD(o));
  };
Ze.parseViewBox = ug;
Ze.renderCallByParent = tR;
function rR(e) {
  var t = e == null ? 0 : e.length;
  return t ? e[t - 1] : void 0;
}
var nR = rR;
const aR = Oe(nR);
function hi(e) {
  "@babel/helpers - typeof";
  return (
    (hi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    hi(e)
  );
}
var iR = ["valueAccessor"],
  sR = ["data", "dataKey", "clockWise", "id", "textBreakAll"];
function oR(e) {
  return dR(e) || uR(e) || lR(e) || cR();
}
function cR() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function lR(e, t) {
  if (e) {
    if (typeof e == "string") return Cl(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Cl(e, t);
  }
}
function uR(e) {
  if (
    (typeof Symbol < "u" && e[Symbol.iterator] != null) ||
    e["@@iterator"] != null
  )
    return Array.from(e);
}
function dR(e) {
  if (Array.isArray(e)) return Cl(e);
}
function Cl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function Ks() {
  return (
    (Ks = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Ks.apply(this, arguments)
  );
}
function am(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function im(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? am(Object(r), !0).forEach(function (n) {
          fR(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : am(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function fR(e, t, r) {
  return (
    (t = hR(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function hR(e) {
  var t = mR(e, "string");
  return hi(t) == "symbol" ? t : t + "";
}
function mR(e, t) {
  if (hi(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (hi(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function sm(e, t) {
  if (e == null) return {};
  var r = pR(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function pR(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
var vR = function (t) {
  return Array.isArray(t.value) ? aR(t.value) : t.value;
};
function qt(e) {
  var t = e.valueAccessor,
    r = t === void 0 ? vR : t,
    n = sm(e, iR),
    i = n.data,
    s = n.dataKey,
    o = n.clockWise,
    c = n.id,
    l = n.textBreakAll,
    u = sm(n, sR);
  return !i || !i.length
    ? null
    : A.createElement(
        xe,
        { className: "recharts-label-list" },
        i.map(function (f, d) {
          var h = fe(s) ? r(f, d) : Be(f && f.payload, s),
            m = fe(c) ? {} : { id: "".concat(c, "-").concat(d) };
          return A.createElement(
            Ze,
            Ks({}, ne(f, !0), u, m, {
              parentViewBox: f.parentViewBox,
              value: h,
              textBreakAll: l,
              viewBox: Ze.parseViewBox(
                fe(o) ? f : im(im({}, f), {}, { clockWise: o }),
              ),
              key: "label-".concat(d),
              index: d,
            }),
          );
        }),
      );
}
qt.displayName = "LabelList";
function xR(e, t) {
  return e
    ? e === !0
      ? A.createElement(qt, { key: "labelList-implicit", data: t })
      : A.isValidElement(e) || ce(e)
        ? A.createElement(qt, {
            key: "labelList-implicit",
            data: t,
            content: e,
          })
        : da(e)
          ? A.createElement(
              qt,
              Ks({ data: t }, e, { key: "labelList-implicit" }),
            )
          : null
    : null;
}
function gR(e, t) {
  var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
  if (!e || (!e.children && r && !e.label)) return null;
  var n = e.children,
    i = jt(n, qt).map(function (o, c) {
      return P.cloneElement(o, { data: t, key: "labelList-".concat(c) });
    });
  if (!r) return i;
  var s = xR(e.label, t);
  return [s].concat(oR(i));
}
qt.renderCallByParent = gR;
function mi(e) {
  "@babel/helpers - typeof";
  return (
    (mi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    mi(e)
  );
}
function El() {
  return (
    (El = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    El.apply(this, arguments)
  );
}
function om(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function cm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? om(Object(r), !0).forEach(function (n) {
          yR(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : om(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function yR(e, t, r) {
  return (
    (t = bR(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function bR(e) {
  var t = jR(e, "string");
  return mi(t) == "symbol" ? t : t + "";
}
function jR(e, t) {
  if (mi(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (mi(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var wR = function (t, r) {
    var n = ct(r - t),
      i = Math.min(Math.abs(r - t), 359.999);
    return n * i;
  },
  Qi = function (t) {
    var r = t.cx,
      n = t.cy,
      i = t.radius,
      s = t.angle,
      o = t.sign,
      c = t.isExternal,
      l = t.cornerRadius,
      u = t.cornerIsExternal,
      f = l * (c ? 1 : -1) + i,
      d = Math.asin(l / f) / Gs,
      h = u ? s : s + o * d,
      m = Ce(r, n, f, h),
      v = Ce(r, n, i, h),
      p = u ? s - o * d : s,
      x = Ce(r, n, f * Math.cos(d * Gs), p);
    return { center: m, circleTangency: v, lineTangency: x, theta: d };
  },
  dg = function (t) {
    var r = t.cx,
      n = t.cy,
      i = t.innerRadius,
      s = t.outerRadius,
      o = t.startAngle,
      c = t.endAngle,
      l = wR(o, c),
      u = o + l,
      f = Ce(r, n, s, o),
      d = Ce(r, n, s, u),
      h = "M "
        .concat(f.x, ",")
        .concat(
          f.y,
          `
    A `,
        )
        .concat(s, ",")
        .concat(
          s,
          `,0,
    `,
        )
        .concat(+(Math.abs(l) > 180), ",")
        .concat(
          +(o > u),
          `,
    `,
        )
        .concat(d.x, ",")
        .concat(
          d.y,
          `
  `,
        );
    if (i > 0) {
      var m = Ce(r, n, i, o),
        v = Ce(r, n, i, u);
      h += "L "
        .concat(v.x, ",")
        .concat(
          v.y,
          `
            A `,
        )
        .concat(i, ",")
        .concat(
          i,
          `,0,
            `,
        )
        .concat(+(Math.abs(l) > 180), ",")
        .concat(
          +(o <= u),
          `,
            `,
        )
        .concat(m.x, ",")
        .concat(m.y, " Z");
    } else h += "L ".concat(r, ",").concat(n, " Z");
    return h;
  },
  NR = function (t) {
    var r = t.cx,
      n = t.cy,
      i = t.innerRadius,
      s = t.outerRadius,
      o = t.cornerRadius,
      c = t.forceCornerRadius,
      l = t.cornerIsExternal,
      u = t.startAngle,
      f = t.endAngle,
      d = ct(f - u),
      h = Qi({
        cx: r,
        cy: n,
        radius: s,
        angle: u,
        sign: d,
        cornerRadius: o,
        cornerIsExternal: l,
      }),
      m = h.circleTangency,
      v = h.lineTangency,
      p = h.theta,
      x = Qi({
        cx: r,
        cy: n,
        radius: s,
        angle: f,
        sign: -d,
        cornerRadius: o,
        cornerIsExternal: l,
      }),
      g = x.circleTangency,
      b = x.lineTangency,
      N = x.theta,
      _ = l ? Math.abs(u - f) : Math.abs(u - f) - p - N;
    if (_ < 0)
      return c
        ? "M "
            .concat(v.x, ",")
            .concat(
              v.y,
              `
        a`,
            )
            .concat(o, ",")
            .concat(o, ",0,0,1,")
            .concat(
              o * 2,
              `,0
        a`,
            )
            .concat(o, ",")
            .concat(o, ",0,0,1,")
            .concat(
              -o * 2,
              `,0
      `,
            )
        : dg({
            cx: r,
            cy: n,
            innerRadius: i,
            outerRadius: s,
            startAngle: u,
            endAngle: f,
          });
    var y = "M "
      .concat(v.x, ",")
      .concat(
        v.y,
        `
    A`,
      )
      .concat(o, ",")
      .concat(o, ",0,0,")
      .concat(+(d < 0), ",")
      .concat(m.x, ",")
      .concat(
        m.y,
        `
    A`,
      )
      .concat(s, ",")
      .concat(s, ",0,")
      .concat(+(_ > 180), ",")
      .concat(+(d < 0), ",")
      .concat(g.x, ",")
      .concat(
        g.y,
        `
    A`,
      )
      .concat(o, ",")
      .concat(o, ",0,0,")
      .concat(+(d < 0), ",")
      .concat(b.x, ",")
      .concat(
        b.y,
        `
  `,
      );
    if (i > 0) {
      var j = Qi({
          cx: r,
          cy: n,
          radius: i,
          angle: u,
          sign: d,
          isExternal: !0,
          cornerRadius: o,
          cornerIsExternal: l,
        }),
        w = j.circleTangency,
        O = j.lineTangency,
        S = j.theta,
        E = Qi({
          cx: r,
          cy: n,
          radius: i,
          angle: f,
          sign: -d,
          isExternal: !0,
          cornerRadius: o,
          cornerIsExternal: l,
        }),
        C = E.circleTangency,
        T = E.lineTangency,
        $ = E.theta,
        I = l ? Math.abs(u - f) : Math.abs(u - f) - S - $;
      if (I < 0 && o === 0)
        return "".concat(y, "L").concat(r, ",").concat(n, "Z");
      y += "L"
        .concat(T.x, ",")
        .concat(
          T.y,
          `
      A`,
        )
        .concat(o, ",")
        .concat(o, ",0,0,")
        .concat(+(d < 0), ",")
        .concat(C.x, ",")
        .concat(
          C.y,
          `
      A`,
        )
        .concat(i, ",")
        .concat(i, ",0,")
        .concat(+(I > 180), ",")
        .concat(+(d > 0), ",")
        .concat(w.x, ",")
        .concat(
          w.y,
          `
      A`,
        )
        .concat(o, ",")
        .concat(o, ",0,0,")
        .concat(+(d < 0), ",")
        .concat(O.x, ",")
        .concat(O.y, "Z");
    } else y += "L".concat(r, ",").concat(n, "Z");
    return y;
  },
  _R = {
    cx: 0,
    cy: 0,
    innerRadius: 0,
    outerRadius: 0,
    startAngle: 0,
    endAngle: 0,
    cornerRadius: 0,
    forceCornerRadius: !1,
    cornerIsExternal: !1,
  },
  fg = function (t) {
    var r = cm(cm({}, _R), t),
      n = r.cx,
      i = r.cy,
      s = r.innerRadius,
      o = r.outerRadius,
      c = r.cornerRadius,
      l = r.forceCornerRadius,
      u = r.cornerIsExternal,
      f = r.startAngle,
      d = r.endAngle,
      h = r.className;
    if (o < s || f === d) return null;
    var m = pe("recharts-sector", h),
      v = o - s,
      p = lt(c, v, 0, !0),
      x;
    return (
      p > 0 && Math.abs(f - d) < 360
        ? (x = NR({
            cx: n,
            cy: i,
            innerRadius: s,
            outerRadius: o,
            cornerRadius: Math.min(p, v / 2),
            forceCornerRadius: l,
            cornerIsExternal: u,
            startAngle: f,
            endAngle: d,
          }))
        : (x = dg({
            cx: n,
            cy: i,
            innerRadius: s,
            outerRadius: o,
            startAngle: f,
            endAngle: d,
          })),
      A.createElement(
        "path",
        El({}, ne(r, !0), { className: m, d: x, role: "img" }),
      )
    );
  };
function pi(e) {
  "@babel/helpers - typeof";
  return (
    (pi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    pi(e)
  );
}
function Tl() {
  return (
    (Tl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Tl.apply(this, arguments)
  );
}
function lm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function um(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? lm(Object(r), !0).forEach(function (n) {
          OR(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : lm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function OR(e, t, r) {
  return (
    (t = SR(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function SR(e) {
  var t = AR(e, "string");
  return pi(t) == "symbol" ? t : t + "";
}
function AR(e, t) {
  if (pi(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (pi(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var dm = {
    curveBasisClosed: O_,
    curveBasisOpen: S_,
    curveBasis: __,
    curveBumpX: u_,
    curveBumpY: d_,
    curveLinearClosed: A_,
    curveLinear: So,
    curveMonotoneX: P_,
    curveMonotoneY: C_,
    curveNatural: E_,
    curveStep: T_,
    curveStepAfter: k_,
    curveStepBefore: $_,
  },
  es = function (t) {
    return t.x === +t.x && t.y === +t.y;
  },
  Ca = function (t) {
    return t.x;
  },
  Ea = function (t) {
    return t.y;
  },
  PR = function (t, r) {
    if (ce(t)) return t;
    var n = "curve".concat(_o(t));
    return (n === "curveMonotone" || n === "curveBump") && r
      ? dm["".concat(n).concat(r === "vertical" ? "Y" : "X")]
      : dm[n] || So;
  },
  CR = function (t) {
    var r = t.type,
      n = r === void 0 ? "linear" : r,
      i = t.points,
      s = i === void 0 ? [] : i,
      o = t.baseLine,
      c = t.layout,
      l = t.connectNulls,
      u = l === void 0 ? !1 : l,
      f = PR(n, c),
      d = u
        ? s.filter(function (p) {
            return es(p);
          })
        : s,
      h;
    if (Array.isArray(o)) {
      var m = u
          ? o.filter(function (p) {
              return es(p);
            })
          : o,
        v = d.map(function (p, x) {
          return um(um({}, p), {}, { base: m[x] });
        });
      return (
        c === "vertical"
          ? (h = qi()
              .y(Ea)
              .x1(Ca)
              .x0(function (p) {
                return p.base.x;
              }))
          : (h = qi()
              .x(Ca)
              .y1(Ea)
              .y0(function (p) {
                return p.base.y;
              })),
        h.defined(es).curve(f),
        h(v)
      );
    }
    return (
      c === "vertical" && W(o)
        ? (h = qi().y(Ea).x1(Ca).x0(o))
        : W(o)
          ? (h = qi().x(Ca).y1(Ea).y0(o))
          : (h = iv().x(Ca).y(Ea)),
      h.defined(es).curve(f),
      h(d)
    );
  },
  rn = function (t) {
    var r = t.className,
      n = t.points,
      i = t.path,
      s = t.pathRef;
    if ((!n || !n.length) && !i) return null;
    var o = n && n.length ? CR(t) : i;
    return P.createElement(
      "path",
      Tl({}, ne(t, !1), xs(t), {
        className: pe("recharts-curve", r),
        d: o,
        ref: s,
      }),
    );
  };
function vi(e) {
  "@babel/helpers - typeof";
  return (
    (vi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    vi(e)
  );
}
function Hs() {
  return (
    (Hs = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Hs.apply(this, arguments)
  );
}
function ER(e, t) {
  return MR(e) || kR(e, t) || $R(e, t) || TR();
}
function TR() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function $R(e, t) {
  if (e) {
    if (typeof e == "string") return fm(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return fm(e, t);
  }
}
function fm(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function kR(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t !== 0))
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function MR(e) {
  if (Array.isArray(e)) return e;
}
function hm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function mm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? hm(Object(r), !0).forEach(function (n) {
          IR(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : hm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function IR(e, t, r) {
  return (
    (t = DR(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function DR(e) {
  var t = RR(e, "string");
  return vi(t) == "symbol" ? t : t + "";
}
function RR(e, t) {
  if (vi(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (vi(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var pm = function (t, r, n, i, s) {
    var o = Math.min(Math.abs(n) / 2, Math.abs(i) / 2),
      c = i >= 0 ? 1 : -1,
      l = n >= 0 ? 1 : -1,
      u = (i >= 0 && n >= 0) || (i < 0 && n < 0) ? 1 : 0,
      f;
    if (o > 0 && s instanceof Array) {
      for (var d = [0, 0, 0, 0], h = 0, m = 4; h < m; h++)
        d[h] = s[h] > o ? o : s[h];
      ((f = "M".concat(t, ",").concat(r + c * d[0])),
        d[0] > 0 &&
          (f += "A "
            .concat(d[0], ",")
            .concat(d[0], ",0,0,")
            .concat(u, ",")
            .concat(t + l * d[0], ",")
            .concat(r)),
        (f += "L ".concat(t + n - l * d[1], ",").concat(r)),
        d[1] > 0 &&
          (f += "A "
            .concat(d[1], ",")
            .concat(d[1], ",0,0,")
            .concat(
              u,
              `,
        `,
            )
            .concat(t + n, ",")
            .concat(r + c * d[1])),
        (f += "L ".concat(t + n, ",").concat(r + i - c * d[2])),
        d[2] > 0 &&
          (f += "A "
            .concat(d[2], ",")
            .concat(d[2], ",0,0,")
            .concat(
              u,
              `,
        `,
            )
            .concat(t + n - l * d[2], ",")
            .concat(r + i)),
        (f += "L ".concat(t + l * d[3], ",").concat(r + i)),
        d[3] > 0 &&
          (f += "A "
            .concat(d[3], ",")
            .concat(d[3], ",0,0,")
            .concat(
              u,
              `,
        `,
            )
            .concat(t, ",")
            .concat(r + i - c * d[3])),
        (f += "Z"));
    } else if (o > 0 && s === +s && s > 0) {
      var v = Math.min(o, s);
      f = "M "
        .concat(t, ",")
        .concat(
          r + c * v,
          `
            A `,
        )
        .concat(v, ",")
        .concat(v, ",0,0,")
        .concat(u, ",")
        .concat(t + l * v, ",")
        .concat(
          r,
          `
            L `,
        )
        .concat(t + n - l * v, ",")
        .concat(
          r,
          `
            A `,
        )
        .concat(v, ",")
        .concat(v, ",0,0,")
        .concat(u, ",")
        .concat(t + n, ",")
        .concat(
          r + c * v,
          `
            L `,
        )
        .concat(t + n, ",")
        .concat(
          r + i - c * v,
          `
            A `,
        )
        .concat(v, ",")
        .concat(v, ",0,0,")
        .concat(u, ",")
        .concat(t + n - l * v, ",")
        .concat(
          r + i,
          `
            L `,
        )
        .concat(t + l * v, ",")
        .concat(
          r + i,
          `
            A `,
        )
        .concat(v, ",")
        .concat(v, ",0,0,")
        .concat(u, ",")
        .concat(t, ",")
        .concat(r + i - c * v, " Z");
    } else
      f = "M "
        .concat(t, ",")
        .concat(r, " h ")
        .concat(n, " v ")
        .concat(i, " h ")
        .concat(-n, " Z");
    return f;
  },
  LR = function (t, r) {
    if (!t || !r) return !1;
    var n = t.x,
      i = t.y,
      s = r.x,
      o = r.y,
      c = r.width,
      l = r.height;
    if (Math.abs(c) > 0 && Math.abs(l) > 0) {
      var u = Math.min(s, s + c),
        f = Math.max(s, s + c),
        d = Math.min(o, o + l),
        h = Math.max(o, o + l);
      return n >= u && n <= f && i >= d && i <= h;
    }
    return !1;
  },
  zR = {
    x: 0,
    y: 0,
    width: 0,
    height: 0,
    radius: 0,
    isAnimationActive: !1,
    isUpdateAnimationActive: !1,
    animationBegin: 0,
    animationDuration: 1500,
    animationEasing: "ease",
  },
  md = function (t) {
    var r = mm(mm({}, zR), t),
      n = P.useRef(),
      i = P.useState(-1),
      s = ER(i, 2),
      o = s[0],
      c = s[1];
    P.useEffect(function () {
      if (n.current && n.current.getTotalLength)
        try {
          var _ = n.current.getTotalLength();
          _ && c(_);
        } catch {}
    }, []);
    var l = r.x,
      u = r.y,
      f = r.width,
      d = r.height,
      h = r.radius,
      m = r.className,
      v = r.animationEasing,
      p = r.animationDuration,
      x = r.animationBegin,
      g = r.isAnimationActive,
      b = r.isUpdateAnimationActive;
    if (l !== +l || u !== +u || f !== +f || d !== +d || f === 0 || d === 0)
      return null;
    var N = pe("recharts-rectangle", m);
    return b
      ? A.createElement(
          kr,
          {
            canBegin: o > 0,
            from: { width: f, height: d, x: l, y: u },
            to: { width: f, height: d, x: l, y: u },
            duration: p,
            animationEasing: v,
            isActive: b,
          },
          function (_) {
            var y = _.width,
              j = _.height,
              w = _.x,
              O = _.y;
            return A.createElement(
              kr,
              {
                canBegin: o > 0,
                from: "0px ".concat(o === -1 ? 1 : o, "px"),
                to: "".concat(o, "px 0px"),
                attributeName: "strokeDasharray",
                begin: x,
                duration: p,
                isActive: g,
                easing: v,
              },
              A.createElement(
                "path",
                Hs({}, ne(r, !0), {
                  className: N,
                  d: pm(w, O, y, j, h),
                  ref: n,
                }),
              ),
            );
          },
        )
      : A.createElement(
          "path",
          Hs({}, ne(r, !0), { className: N, d: pm(l, u, f, d, h) }),
        );
  },
  BR = ["points", "className", "baseLinePoints", "connectNulls"];
function Sn() {
  return (
    (Sn = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Sn.apply(this, arguments)
  );
}
function FR(e, t) {
  if (e == null) return {};
  var r = VR(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function VR(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function vm(e) {
  return GR(e) || WR(e) || qR(e) || UR();
}
function UR() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function qR(e, t) {
  if (e) {
    if (typeof e == "string") return $l(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return $l(e, t);
  }
}
function WR(e) {
  if (
    (typeof Symbol < "u" && e[Symbol.iterator] != null) ||
    e["@@iterator"] != null
  )
    return Array.from(e);
}
function GR(e) {
  if (Array.isArray(e)) return $l(e);
}
function $l(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
var xm = function (t) {
    return t && t.x === +t.x && t.y === +t.y;
  },
  KR = function () {
    var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [],
      r = [[]];
    return (
      t.forEach(function (n) {
        xm(n)
          ? r[r.length - 1].push(n)
          : r[r.length - 1].length > 0 && r.push([]);
      }),
      xm(t[0]) && r[r.length - 1].push(t[0]),
      r[r.length - 1].length <= 0 && (r = r.slice(0, -1)),
      r
    );
  },
  Fa = function (t, r) {
    var n = KR(t);
    r &&
      (n = [
        n.reduce(function (s, o) {
          return [].concat(vm(s), vm(o));
        }, []),
      ]);
    var i = n
      .map(function (s) {
        return s.reduce(function (o, c, l) {
          return ""
            .concat(o)
            .concat(l === 0 ? "M" : "L")
            .concat(c.x, ",")
            .concat(c.y);
        }, "");
      })
      .join("");
    return n.length === 1 ? "".concat(i, "Z") : i;
  },
  HR = function (t, r, n) {
    var i = Fa(t, n);
    return ""
      .concat(i.slice(-1) === "Z" ? i.slice(0, -1) : i, "L")
      .concat(Fa(r.reverse(), n).slice(1));
  },
  XR = function (t) {
    var r = t.points,
      n = t.className,
      i = t.baseLinePoints,
      s = t.connectNulls,
      o = FR(t, BR);
    if (!r || !r.length) return null;
    var c = pe("recharts-polygon", n);
    if (i && i.length) {
      var l = o.stroke && o.stroke !== "none",
        u = HR(r, i, s);
      return A.createElement(
        "g",
        { className: c },
        A.createElement(
          "path",
          Sn({}, ne(o, !0), {
            fill: u.slice(-1) === "Z" ? o.fill : "none",
            stroke: "none",
            d: u,
          }),
        ),
        l
          ? A.createElement(
              "path",
              Sn({}, ne(o, !0), { fill: "none", d: Fa(r, s) }),
            )
          : null,
        l
          ? A.createElement(
              "path",
              Sn({}, ne(o, !0), { fill: "none", d: Fa(i, s) }),
            )
          : null,
      );
    }
    var f = Fa(r, s);
    return A.createElement(
      "path",
      Sn({}, ne(o, !0), {
        fill: f.slice(-1) === "Z" ? o.fill : "none",
        className: c,
        d: f,
      }),
    );
  };
function kl() {
  return (
    (kl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    kl.apply(this, arguments)
  );
}
var Li = function (t) {
  var r = t.cx,
    n = t.cy,
    i = t.r,
    s = t.className,
    o = pe("recharts-dot", s);
  return r === +r && n === +n && i === +i
    ? P.createElement(
        "circle",
        kl({}, ne(t, !1), xs(t), { className: o, cx: r, cy: n, r: i }),
      )
    : null;
};
function xi(e) {
  "@babel/helpers - typeof";
  return (
    (xi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    xi(e)
  );
}
var YR = ["x", "y", "top", "left", "width", "height", "className"];
function Ml() {
  return (
    (Ml = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Ml.apply(this, arguments)
  );
}
function gm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function JR(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? gm(Object(r), !0).forEach(function (n) {
          ZR(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : gm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function ZR(e, t, r) {
  return (
    (t = QR(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function QR(e) {
  var t = eL(e, "string");
  return xi(t) == "symbol" ? t : t + "";
}
function eL(e, t) {
  if (xi(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (xi(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function tL(e, t) {
  if (e == null) return {};
  var r = rL(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function rL(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
var nL = function (t, r, n, i, s, o) {
    return "M"
      .concat(t, ",")
      .concat(s, "v")
      .concat(i, "M")
      .concat(o, ",")
      .concat(r, "h")
      .concat(n);
  },
  aL = function (t) {
    var r = t.x,
      n = r === void 0 ? 0 : r,
      i = t.y,
      s = i === void 0 ? 0 : i,
      o = t.top,
      c = o === void 0 ? 0 : o,
      l = t.left,
      u = l === void 0 ? 0 : l,
      f = t.width,
      d = f === void 0 ? 0 : f,
      h = t.height,
      m = h === void 0 ? 0 : h,
      v = t.className,
      p = tL(t, YR),
      x = JR({ x: n, y: s, top: c, left: u, width: d, height: m }, p);
    return !W(n) || !W(s) || !W(d) || !W(m) || !W(c) || !W(u)
      ? null
      : A.createElement(
          "path",
          Ml({}, ne(x, !0), {
            className: pe("recharts-cross", v),
            d: nL(n, s, d, m, c, u),
          }),
        );
  },
  iL = Lo,
  sL = Mx,
  oL = Qt;
function cL(e, t) {
  return e && e.length ? iL(e, oL(t), sL) : void 0;
}
var lL = cL;
const uL = Oe(lL);
var dL = Lo,
  fL = Qt,
  hL = Ix;
function mL(e, t) {
  return e && e.length ? dL(e, fL(t), hL) : void 0;
}
var pL = mL;
const vL = Oe(pL);
var xL = ["cx", "cy", "angle", "ticks", "axisLine"],
  gL = ["ticks", "tick", "angle", "tickFormatter", "stroke"];
function Gn(e) {
  "@babel/helpers - typeof";
  return (
    (Gn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Gn(e)
  );
}
function Va() {
  return (
    (Va = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Va.apply(this, arguments)
  );
}
function ym(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Ur(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? ym(Object(r), !0).forEach(function (n) {
          Vo(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : ym(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function bm(e, t) {
  if (e == null) return {};
  var r = yL(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function yL(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function bL(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function jm(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, mg(n.key), n));
  }
}
function jL(e, t, r) {
  return (
    t && jm(e.prototype, t),
    r && jm(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function wL(e, t, r) {
  return (
    (t = Xs(t)),
    NL(
      e,
      hg() ? Reflect.construct(t, r || [], Xs(e).constructor) : t.apply(e, r),
    )
  );
}
function NL(e, t) {
  if (t && (Gn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return _L(e);
}
function _L(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function hg() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (hg = function () {
    return !!e;
  })();
}
function Xs(e) {
  return (
    (Xs = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    Xs(e)
  );
}
function OL(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Il(e, t));
}
function Il(e, t) {
  return (
    (Il = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Il(e, t)
  );
}
function Vo(e, t, r) {
  return (
    (t = mg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function mg(e) {
  var t = SL(e, "string");
  return Gn(t) == "symbol" ? t : t + "";
}
function SL(e, t) {
  if (Gn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Gn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var Uo = (function (e) {
  function t() {
    return (bL(this, t), wL(this, t, arguments));
  }
  return (
    OL(t, e),
    jL(
      t,
      [
        {
          key: "getTickValueCoord",
          value: function (n) {
            var i = n.coordinate,
              s = this.props,
              o = s.angle,
              c = s.cx,
              l = s.cy;
            return Ce(c, l, i, o);
          },
        },
        {
          key: "getTickTextAnchor",
          value: function () {
            var n = this.props.orientation,
              i;
            switch (n) {
              case "left":
                i = "end";
                break;
              case "right":
                i = "start";
                break;
              default:
                i = "middle";
                break;
            }
            return i;
          },
        },
        {
          key: "getViewBox",
          value: function () {
            var n = this.props,
              i = n.cx,
              s = n.cy,
              o = n.angle,
              c = n.ticks,
              l = uL(c, function (f) {
                return f.coordinate || 0;
              }),
              u = vL(c, function (f) {
                return f.coordinate || 0;
              });
            return {
              cx: i,
              cy: s,
              startAngle: o,
              endAngle: o,
              innerRadius: u.coordinate || 0,
              outerRadius: l.coordinate || 0,
            };
          },
        },
        {
          key: "renderAxisLine",
          value: function () {
            var n = this.props,
              i = n.cx,
              s = n.cy,
              o = n.angle,
              c = n.ticks,
              l = n.axisLine,
              u = bm(n, xL),
              f = c.reduce(
                function (v, p) {
                  return [
                    Math.min(v[0], p.coordinate),
                    Math.max(v[1], p.coordinate),
                  ];
                },
                [1 / 0, -1 / 0],
              ),
              d = Ce(i, s, f[0], o),
              h = Ce(i, s, f[1], o),
              m = Ur(
                Ur(Ur({}, ne(u, !1)), {}, { fill: "none" }, ne(l, !1)),
                {},
                { x1: d.x, y1: d.y, x2: h.x, y2: h.y },
              );
            return A.createElement(
              "line",
              Va({ className: "recharts-polar-radius-axis-line" }, m),
            );
          },
        },
        {
          key: "renderTicks",
          value: function () {
            var n = this,
              i = this.props,
              s = i.ticks,
              o = i.tick,
              c = i.angle,
              l = i.tickFormatter,
              u = i.stroke,
              f = bm(i, gL),
              d = this.getTickTextAnchor(),
              h = ne(f, !1),
              m = ne(o, !1),
              v = s.map(function (p, x) {
                var g = n.getTickValueCoord(p),
                  b = Ur(
                    Ur(
                      Ur(
                        Ur(
                          {
                            textAnchor: d,
                            transform: "rotate("
                              .concat(90 - c, ", ")
                              .concat(g.x, ", ")
                              .concat(g.y, ")"),
                          },
                          h,
                        ),
                        {},
                        { stroke: "none", fill: u },
                        m,
                      ),
                      {},
                      { index: x },
                      g,
                    ),
                    {},
                    { payload: p },
                  );
                return A.createElement(
                  xe,
                  Va(
                    {
                      className: pe("recharts-polar-radius-axis-tick", lg(o)),
                      key: "tick-".concat(p.coordinate),
                    },
                    an(n.props, p, x),
                  ),
                  t.renderTickItem(o, b, l ? l(p.value, x) : p.value),
                );
              });
            return A.createElement(
              xe,
              { className: "recharts-polar-radius-axis-ticks" },
              v,
            );
          },
        },
        {
          key: "render",
          value: function () {
            var n = this.props,
              i = n.ticks,
              s = n.axisLine,
              o = n.tick;
            return !i || !i.length
              ? null
              : A.createElement(
                  xe,
                  {
                    className: pe(
                      "recharts-polar-radius-axis",
                      this.props.className,
                    ),
                  },
                  s && this.renderAxisLine(),
                  o && this.renderTicks(),
                  Ze.renderCallByParent(this.props, this.getViewBox()),
                );
          },
        },
      ],
      [
        {
          key: "renderTickItem",
          value: function (n, i, s) {
            var o;
            return (
              A.isValidElement(n)
                ? (o = A.cloneElement(n, i))
                : ce(n)
                  ? (o = n(i))
                  : (o = A.createElement(
                      sn,
                      Va({}, i, {
                        className: "recharts-polar-radius-axis-tick-value",
                      }),
                      s,
                    )),
              o
            );
          },
        },
      ],
    )
  );
})(P.PureComponent);
Vo(Uo, "displayName", "PolarRadiusAxis");
Vo(Uo, "axisType", "radiusAxis");
Vo(Uo, "defaultProps", {
  type: "number",
  radiusAxisId: 0,
  cx: 0,
  cy: 0,
  angle: 0,
  orientation: "right",
  stroke: "#ccc",
  axisLine: !0,
  tick: !0,
  tickCount: 5,
  allowDataOverflow: !1,
  scale: "auto",
  allowDuplicatedCategory: !0,
});
function Kn(e) {
  "@babel/helpers - typeof";
  return (
    (Kn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Kn(e)
  );
}
function Hr() {
  return (
    (Hr = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Hr.apply(this, arguments)
  );
}
function wm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function qr(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? wm(Object(r), !0).forEach(function (n) {
          qo(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : wm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function AL(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Nm(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, vg(n.key), n));
  }
}
function PL(e, t, r) {
  return (
    t && Nm(e.prototype, t),
    r && Nm(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function CL(e, t, r) {
  return (
    (t = Ys(t)),
    EL(
      e,
      pg() ? Reflect.construct(t, r || [], Ys(e).constructor) : t.apply(e, r),
    )
  );
}
function EL(e, t) {
  if (t && (Kn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return TL(e);
}
function TL(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function pg() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (pg = function () {
    return !!e;
  })();
}
function Ys(e) {
  return (
    (Ys = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    Ys(e)
  );
}
function $L(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Dl(e, t));
}
function Dl(e, t) {
  return (
    (Dl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Dl(e, t)
  );
}
function qo(e, t, r) {
  return (
    (t = vg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function vg(e) {
  var t = kL(e, "string");
  return Kn(t) == "symbol" ? t : t + "";
}
function kL(e, t) {
  if (Kn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Kn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var ML = Math.PI / 180,
  _m = 1e-5,
  Wo = (function (e) {
    function t() {
      return (AL(this, t), CL(this, t, arguments));
    }
    return (
      $L(t, e),
      PL(
        t,
        [
          {
            key: "getTickLineCoord",
            value: function (n) {
              var i = this.props,
                s = i.cx,
                o = i.cy,
                c = i.radius,
                l = i.orientation,
                u = i.tickSize,
                f = u || 8,
                d = Ce(s, o, c, n.coordinate),
                h = Ce(s, o, c + (l === "inner" ? -1 : 1) * f, n.coordinate);
              return { x1: d.x, y1: d.y, x2: h.x, y2: h.y };
            },
          },
          {
            key: "getTickTextAnchor",
            value: function (n) {
              var i = this.props.orientation,
                s = Math.cos(-n.coordinate * ML),
                o;
              return (
                s > _m
                  ? (o = i === "outer" ? "start" : "end")
                  : s < -_m
                    ? (o = i === "outer" ? "end" : "start")
                    : (o = "middle"),
                o
              );
            },
          },
          {
            key: "renderAxisLine",
            value: function () {
              var n = this.props,
                i = n.cx,
                s = n.cy,
                o = n.radius,
                c = n.axisLine,
                l = n.axisLineType,
                u = qr(
                  qr({}, ne(this.props, !1)),
                  {},
                  { fill: "none" },
                  ne(c, !1),
                );
              if (l === "circle")
                return A.createElement(
                  Li,
                  Hr({ className: "recharts-polar-angle-axis-line" }, u, {
                    cx: i,
                    cy: s,
                    r: o,
                  }),
                );
              var f = this.props.ticks,
                d = f.map(function (h) {
                  return Ce(i, s, o, h.coordinate);
                });
              return A.createElement(
                XR,
                Hr({ className: "recharts-polar-angle-axis-line" }, u, {
                  points: d,
                }),
              );
            },
          },
          {
            key: "renderTicks",
            value: function () {
              var n = this,
                i = this.props,
                s = i.ticks,
                o = i.tick,
                c = i.tickLine,
                l = i.tickFormatter,
                u = i.stroke,
                f = ne(this.props, !1),
                d = ne(o, !1),
                h = qr(qr({}, f), {}, { fill: "none" }, ne(c, !1)),
                m = s.map(function (v, p) {
                  var x = n.getTickLineCoord(v),
                    g = n.getTickTextAnchor(v),
                    b = qr(
                      qr(
                        qr({ textAnchor: g }, f),
                        {},
                        { stroke: "none", fill: u },
                        d,
                      ),
                      {},
                      { index: p, payload: v, x: x.x2, y: x.y2 },
                    );
                  return A.createElement(
                    xe,
                    Hr(
                      {
                        className: pe("recharts-polar-angle-axis-tick", lg(o)),
                        key: "tick-".concat(v.coordinate),
                      },
                      an(n.props, v, p),
                    ),
                    c &&
                      A.createElement(
                        "line",
                        Hr(
                          { className: "recharts-polar-angle-axis-tick-line" },
                          h,
                          x,
                        ),
                      ),
                    o && t.renderTickItem(o, b, l ? l(v.value, p) : v.value),
                  );
                });
              return A.createElement(
                xe,
                { className: "recharts-polar-angle-axis-ticks" },
                m,
              );
            },
          },
          {
            key: "render",
            value: function () {
              var n = this.props,
                i = n.ticks,
                s = n.radius,
                o = n.axisLine;
              return s <= 0 || !i || !i.length
                ? null
                : A.createElement(
                    xe,
                    {
                      className: pe(
                        "recharts-polar-angle-axis",
                        this.props.className,
                      ),
                    },
                    o && this.renderAxisLine(),
                    this.renderTicks(),
                  );
            },
          },
        ],
        [
          {
            key: "renderTickItem",
            value: function (n, i, s) {
              var o;
              return (
                A.isValidElement(n)
                  ? (o = A.cloneElement(n, i))
                  : ce(n)
                    ? (o = n(i))
                    : (o = A.createElement(
                        sn,
                        Hr({}, i, {
                          className: "recharts-polar-angle-axis-tick-value",
                        }),
                        s,
                      )),
                o
              );
            },
          },
        ],
      )
    );
  })(P.PureComponent);
qo(Wo, "displayName", "PolarAngleAxis");
qo(Wo, "axisType", "angleAxis");
qo(Wo, "defaultProps", {
  type: "category",
  angleAxisId: 0,
  scale: "auto",
  cx: 0,
  cy: 0,
  orientation: "outer",
  axisLine: !0,
  tickLine: !0,
  tickSize: 8,
  tick: !0,
  hide: !1,
  allowDuplicatedCategory: !0,
});
var IL = Cv,
  DL = IL(Object.getPrototypeOf, Object),
  RL = DL,
  LL = br,
  zL = RL,
  BL = jr,
  FL = "[object Object]",
  VL = Function.prototype,
  UL = Object.prototype,
  xg = VL.toString,
  qL = UL.hasOwnProperty,
  WL = xg.call(Object);
function GL(e) {
  if (!BL(e) || LL(e) != FL) return !1;
  var t = zL(e);
  if (t === null) return !0;
  var r = qL.call(t, "constructor") && t.constructor;
  return typeof r == "function" && r instanceof r && xg.call(r) == WL;
}
var KL = GL;
const HL = Oe(KL);
var XL = br,
  YL = jr,
  JL = "[object Boolean]";
function ZL(e) {
  return e === !0 || e === !1 || (YL(e) && XL(e) == JL);
}
var QL = ZL;
const e4 = Oe(QL);
function gi(e) {
  "@babel/helpers - typeof";
  return (
    (gi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    gi(e)
  );
}
function Js() {
  return (
    (Js = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Js.apply(this, arguments)
  );
}
function t4(e, t) {
  return i4(e) || a4(e, t) || n4(e, t) || r4();
}
function r4() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function n4(e, t) {
  if (e) {
    if (typeof e == "string") return Om(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Om(e, t);
  }
}
function Om(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function a4(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t !== 0))
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function i4(e) {
  if (Array.isArray(e)) return e;
}
function Sm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Am(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Sm(Object(r), !0).forEach(function (n) {
          s4(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Sm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function s4(e, t, r) {
  return (
    (t = o4(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function o4(e) {
  var t = c4(e, "string");
  return gi(t) == "symbol" ? t : t + "";
}
function c4(e, t) {
  if (gi(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (gi(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Pm = function (t, r, n, i, s) {
    var o = n - i,
      c;
    return (
      (c = "M ".concat(t, ",").concat(r)),
      (c += "L ".concat(t + n, ",").concat(r)),
      (c += "L ".concat(t + n - o / 2, ",").concat(r + s)),
      (c += "L ".concat(t + n - o / 2 - i, ",").concat(r + s)),
      (c += "L ".concat(t, ",").concat(r, " Z")),
      c
    );
  },
  l4 = {
    x: 0,
    y: 0,
    upperWidth: 0,
    lowerWidth: 0,
    height: 0,
    isUpdateAnimationActive: !1,
    animationBegin: 0,
    animationDuration: 1500,
    animationEasing: "ease",
  },
  u4 = function (t) {
    var r = Am(Am({}, l4), t),
      n = P.useRef(),
      i = P.useState(-1),
      s = t4(i, 2),
      o = s[0],
      c = s[1];
    P.useEffect(function () {
      if (n.current && n.current.getTotalLength)
        try {
          var N = n.current.getTotalLength();
          N && c(N);
        } catch {}
    }, []);
    var l = r.x,
      u = r.y,
      f = r.upperWidth,
      d = r.lowerWidth,
      h = r.height,
      m = r.className,
      v = r.animationEasing,
      p = r.animationDuration,
      x = r.animationBegin,
      g = r.isUpdateAnimationActive;
    if (
      l !== +l ||
      u !== +u ||
      f !== +f ||
      d !== +d ||
      h !== +h ||
      (f === 0 && d === 0) ||
      h === 0
    )
      return null;
    var b = pe("recharts-trapezoid", m);
    return g
      ? A.createElement(
          kr,
          {
            canBegin: o > 0,
            from: { upperWidth: 0, lowerWidth: 0, height: h, x: l, y: u },
            to: { upperWidth: f, lowerWidth: d, height: h, x: l, y: u },
            duration: p,
            animationEasing: v,
            isActive: g,
          },
          function (N) {
            var _ = N.upperWidth,
              y = N.lowerWidth,
              j = N.height,
              w = N.x,
              O = N.y;
            return A.createElement(
              kr,
              {
                canBegin: o > 0,
                from: "0px ".concat(o === -1 ? 1 : o, "px"),
                to: "".concat(o, "px 0px"),
                attributeName: "strokeDasharray",
                begin: x,
                duration: p,
                easing: v,
              },
              A.createElement(
                "path",
                Js({}, ne(r, !0), {
                  className: b,
                  d: Pm(w, O, _, y, j),
                  ref: n,
                }),
              ),
            );
          },
        )
      : A.createElement(
          "g",
          null,
          A.createElement(
            "path",
            Js({}, ne(r, !0), { className: b, d: Pm(l, u, f, d, h) }),
          ),
        );
  },
  d4 = [
    "option",
    "shapeType",
    "propTransformer",
    "activeClassName",
    "isActive",
  ];
function yi(e) {
  "@babel/helpers - typeof";
  return (
    (yi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    yi(e)
  );
}
function f4(e, t) {
  if (e == null) return {};
  var r = h4(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function h4(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function Cm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Zs(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Cm(Object(r), !0).forEach(function (n) {
          m4(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Cm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function m4(e, t, r) {
  return (
    (t = p4(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function p4(e) {
  var t = v4(e, "string");
  return yi(t) == "symbol" ? t : t + "";
}
function v4(e, t) {
  if (yi(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (yi(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function x4(e, t) {
  return Zs(Zs({}, t), e);
}
function g4(e, t) {
  return e === "symbols";
}
function Em(e) {
  var t = e.shapeType,
    r = e.elementProps;
  switch (t) {
    case "rectangle":
      return A.createElement(md, r);
    case "trapezoid":
      return A.createElement(u4, r);
    case "sector":
      return A.createElement(fg, r);
    case "symbols":
      if (g4(t)) return A.createElement(ku, r);
      break;
    default:
      return null;
  }
}
function y4(e) {
  return P.isValidElement(e) ? e.props : e;
}
function gg(e) {
  var t = e.option,
    r = e.shapeType,
    n = e.propTransformer,
    i = n === void 0 ? x4 : n,
    s = e.activeClassName,
    o = s === void 0 ? "recharts-active-shape" : s,
    c = e.isActive,
    l = f4(e, d4),
    u;
  if (P.isValidElement(t)) u = P.cloneElement(t, Zs(Zs({}, l), y4(t)));
  else if (ce(t)) u = t(l);
  else if (HL(t) && !e4(t)) {
    var f = i(t, l);
    u = A.createElement(Em, { shapeType: r, elementProps: f });
  } else {
    var d = l;
    u = A.createElement(Em, { shapeType: r, elementProps: d });
  }
  return c ? A.createElement(xe, { className: o }, u) : u;
}
function Go(e, t) {
  return t != null && "trapezoids" in e.props;
}
function Ko(e, t) {
  return t != null && "sectors" in e.props;
}
function bi(e, t) {
  return t != null && "points" in e.props;
}
function b4(e, t) {
  var r,
    n,
    i =
      e.x ===
        (t == null || (r = t.labelViewBox) === null || r === void 0
          ? void 0
          : r.x) || e.x === t.x,
    s =
      e.y ===
        (t == null || (n = t.labelViewBox) === null || n === void 0
          ? void 0
          : n.y) || e.y === t.y;
  return i && s;
}
function j4(e, t) {
  var r = e.endAngle === t.endAngle,
    n = e.startAngle === t.startAngle;
  return r && n;
}
function w4(e, t) {
  var r = e.x === t.x,
    n = e.y === t.y,
    i = e.z === t.z;
  return r && n && i;
}
function N4(e, t) {
  var r;
  return (Go(e, t) ? (r = b4) : Ko(e, t) ? (r = j4) : bi(e, t) && (r = w4), r);
}
function _4(e, t) {
  var r;
  return (
    Go(e, t)
      ? (r = "trapezoids")
      : Ko(e, t)
        ? (r = "sectors")
        : bi(e, t) && (r = "points"),
    r
  );
}
function O4(e, t) {
  if (Go(e, t)) {
    var r;
    return (r = t.tooltipPayload) === null ||
      r === void 0 ||
      (r = r[0]) === null ||
      r === void 0 ||
      (r = r.payload) === null ||
      r === void 0
      ? void 0
      : r.payload;
  }
  if (Ko(e, t)) {
    var n;
    return (n = t.tooltipPayload) === null ||
      n === void 0 ||
      (n = n[0]) === null ||
      n === void 0 ||
      (n = n.payload) === null ||
      n === void 0
      ? void 0
      : n.payload;
  }
  return bi(e, t) ? t.payload : {};
}
function S4(e) {
  var t = e.activeTooltipItem,
    r = e.graphicalItem,
    n = e.itemData,
    i = _4(r, t),
    s = O4(r, t),
    o = n.filter(function (l, u) {
      var f = on(s, l),
        d = r.props[i].filter(function (v) {
          var p = N4(r, t);
          return p(v, t);
        }),
        h = r.props[i].indexOf(d[d.length - 1]),
        m = u === h;
      return f && m;
    }),
    c = n.indexOf(o[o.length - 1]);
  return c;
}
var os;
function Hn(e) {
  "@babel/helpers - typeof";
  return (
    (Hn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Hn(e)
  );
}
function An() {
  return (
    (An = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    An.apply(this, arguments)
  );
}
function Tm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Se(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Tm(Object(r), !0).forEach(function (n) {
          St(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Tm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function A4(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function $m(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, bg(n.key), n));
  }
}
function P4(e, t, r) {
  return (
    t && $m(e.prototype, t),
    r && $m(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function C4(e, t, r) {
  return (
    (t = Qs(t)),
    E4(
      e,
      yg() ? Reflect.construct(t, r || [], Qs(e).constructor) : t.apply(e, r),
    )
  );
}
function E4(e, t) {
  if (t && (Hn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return T4(e);
}
function T4(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function yg() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (yg = function () {
    return !!e;
  })();
}
function Qs(e) {
  return (
    (Qs = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    Qs(e)
  );
}
function $4(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Rl(e, t));
}
function Rl(e, t) {
  return (
    (Rl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Rl(e, t)
  );
}
function St(e, t, r) {
  return (
    (t = bg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function bg(e) {
  var t = k4(e, "string");
  return Hn(t) == "symbol" ? t : t + "";
}
function k4(e, t) {
  if (Hn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Hn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var Nr = (function (e) {
  function t(r) {
    var n;
    return (
      A4(this, t),
      (n = C4(this, t, [r])),
      St(n, "pieRef", null),
      St(n, "sectorRefs", []),
      St(n, "id", vn("recharts-pie-")),
      St(n, "handleAnimationEnd", function () {
        var i = n.props.onAnimationEnd;
        (n.setState({ isAnimationFinished: !0 }), ce(i) && i());
      }),
      St(n, "handleAnimationStart", function () {
        var i = n.props.onAnimationStart;
        (n.setState({ isAnimationFinished: !1 }), ce(i) && i());
      }),
      (n.state = {
        isAnimationFinished: !r.isAnimationActive,
        prevIsAnimationActive: r.isAnimationActive,
        prevAnimationId: r.animationId,
        sectorToFocus: 0,
      }),
      n
    );
  }
  return (
    $4(t, e),
    P4(
      t,
      [
        {
          key: "isActiveIndex",
          value: function (n) {
            var i = this.props.activeIndex;
            return Array.isArray(i) ? i.indexOf(n) !== -1 : n === i;
          },
        },
        {
          key: "hasActiveIndex",
          value: function () {
            var n = this.props.activeIndex;
            return Array.isArray(n) ? n.length !== 0 : n || n === 0;
          },
        },
        {
          key: "renderLabels",
          value: function (n) {
            var i = this.props.isAnimationActive;
            if (i && !this.state.isAnimationFinished) return null;
            var s = this.props,
              o = s.label,
              c = s.labelLine,
              l = s.dataKey,
              u = s.valueKey,
              f = ne(this.props, !1),
              d = ne(o, !1),
              h = ne(c, !1),
              m = (o && o.offsetRadius) || 20,
              v = n.map(function (p, x) {
                var g = (p.startAngle + p.endAngle) / 2,
                  b = Ce(p.cx, p.cy, p.outerRadius + m, g),
                  N = Se(
                    Se(Se(Se({}, f), p), {}, { stroke: "none" }, d),
                    {},
                    { index: x, textAnchor: t.getTextAnchor(b.x, p.cx) },
                    b,
                  ),
                  _ = Se(
                    Se(
                      Se(Se({}, f), p),
                      {},
                      { fill: "none", stroke: p.fill },
                      h,
                    ),
                    {},
                    { index: x, points: [Ce(p.cx, p.cy, p.outerRadius, g), b] },
                  ),
                  y = l;
                return (
                  fe(l) && fe(u) ? (y = "value") : fe(l) && (y = u),
                  A.createElement(
                    xe,
                    {
                      key: "label-"
                        .concat(p.startAngle, "-")
                        .concat(p.endAngle, "-")
                        .concat(p.midAngle, "-")
                        .concat(x),
                    },
                    c && t.renderLabelLineItem(c, _, "line"),
                    t.renderLabelItem(o, N, Be(p, y)),
                  )
                );
              });
            return A.createElement(xe, { className: "recharts-pie-labels" }, v);
          },
        },
        {
          key: "renderSectorsStatically",
          value: function (n) {
            var i = this,
              s = this.props,
              o = s.activeShape,
              c = s.blendStroke,
              l = s.inactiveShape;
            return n.map(function (u, f) {
              if (u?.startAngle === 0 && u?.endAngle === 0 && n.length !== 1)
                return null;
              var d = i.isActiveIndex(f),
                h = l && i.hasActiveIndex() ? l : null,
                m = d ? o : h,
                v = Se(
                  Se({}, u),
                  {},
                  { stroke: c ? u.fill : u.stroke, tabIndex: -1 },
                );
              return A.createElement(
                xe,
                An(
                  {
                    ref: function (x) {
                      x && !i.sectorRefs.includes(x) && i.sectorRefs.push(x);
                    },
                    tabIndex: -1,
                    className: "recharts-pie-sector",
                  },
                  an(i.props, u, f),
                  {
                    key: "sector-"
                      .concat(u?.startAngle, "-")
                      .concat(u?.endAngle, "-")
                      .concat(u.midAngle, "-")
                      .concat(f),
                  },
                ),
                A.createElement(
                  gg,
                  An({ option: m, isActive: d, shapeType: "sector" }, v),
                ),
              );
            });
          },
        },
        {
          key: "renderSectorsWithAnimation",
          value: function () {
            var n = this,
              i = this.props,
              s = i.sectors,
              o = i.isAnimationActive,
              c = i.animationBegin,
              l = i.animationDuration,
              u = i.animationEasing,
              f = i.animationId,
              d = this.state,
              h = d.prevSectors,
              m = d.prevIsAnimationActive;
            return A.createElement(
              kr,
              {
                begin: c,
                duration: l,
                isActive: o,
                easing: u,
                from: { t: 0 },
                to: { t: 1 },
                key: "pie-".concat(f, "-").concat(m),
                onAnimationStart: this.handleAnimationStart,
                onAnimationEnd: this.handleAnimationEnd,
              },
              function (v) {
                var p = v.t,
                  x = [],
                  g = s && s[0],
                  b = g.startAngle;
                return (
                  s.forEach(function (N, _) {
                    var y = h && h[_],
                      j = _ > 0 ? bt(N, "paddingAngle", 0) : 0;
                    if (y) {
                      var w = He(
                          y.endAngle - y.startAngle,
                          N.endAngle - N.startAngle,
                        ),
                        O = Se(
                          Se({}, N),
                          {},
                          { startAngle: b + j, endAngle: b + w(p) + j },
                        );
                      (x.push(O), (b = O.endAngle));
                    } else {
                      var S = N.endAngle,
                        E = N.startAngle,
                        C = He(0, S - E),
                        T = C(p),
                        $ = Se(
                          Se({}, N),
                          {},
                          { startAngle: b + j, endAngle: b + T + j },
                        );
                      (x.push($), (b = $.endAngle));
                    }
                  }),
                  A.createElement(xe, null, n.renderSectorsStatically(x))
                );
              },
            );
          },
        },
        {
          key: "attachKeyboardHandlers",
          value: function (n) {
            var i = this;
            n.onkeydown = function (s) {
              if (!s.altKey)
                switch (s.key) {
                  case "ArrowLeft": {
                    var o = ++i.state.sectorToFocus % i.sectorRefs.length;
                    (i.sectorRefs[o].focus(), i.setState({ sectorToFocus: o }));
                    break;
                  }
                  case "ArrowRight": {
                    var c =
                      --i.state.sectorToFocus < 0
                        ? i.sectorRefs.length - 1
                        : i.state.sectorToFocus % i.sectorRefs.length;
                    (i.sectorRefs[c].focus(), i.setState({ sectorToFocus: c }));
                    break;
                  }
                  case "Escape": {
                    (i.sectorRefs[i.state.sectorToFocus].blur(),
                      i.setState({ sectorToFocus: 0 }));
                    break;
                  }
                }
            };
          },
        },
        {
          key: "renderSectors",
          value: function () {
            var n = this.props,
              i = n.sectors,
              s = n.isAnimationActive,
              o = this.state.prevSectors;
            return s && i && i.length && (!o || !on(o, i))
              ? this.renderSectorsWithAnimation()
              : this.renderSectorsStatically(i);
          },
        },
        {
          key: "componentDidMount",
          value: function () {
            this.pieRef && this.attachKeyboardHandlers(this.pieRef);
          },
        },
        {
          key: "render",
          value: function () {
            var n = this,
              i = this.props,
              s = i.hide,
              o = i.sectors,
              c = i.className,
              l = i.label,
              u = i.cx,
              f = i.cy,
              d = i.innerRadius,
              h = i.outerRadius,
              m = i.isAnimationActive,
              v = this.state.isAnimationFinished;
            if (s || !o || !o.length || !W(u) || !W(f) || !W(d) || !W(h))
              return null;
            var p = pe("recharts-pie", c);
            return A.createElement(
              xe,
              {
                tabIndex: this.props.rootTabIndex,
                className: p,
                ref: function (g) {
                  n.pieRef = g;
                },
              },
              this.renderSectors(),
              l && this.renderLabels(o),
              Ze.renderCallByParent(this.props, null, !1),
              (!m || v) && qt.renderCallByParent(this.props, o, !1),
            );
          },
        },
      ],
      [
        {
          key: "getDerivedStateFromProps",
          value: function (n, i) {
            return i.prevIsAnimationActive !== n.isAnimationActive
              ? {
                  prevIsAnimationActive: n.isAnimationActive,
                  prevAnimationId: n.animationId,
                  curSectors: n.sectors,
                  prevSectors: [],
                  isAnimationFinished: !0,
                }
              : n.isAnimationActive && n.animationId !== i.prevAnimationId
                ? {
                    prevAnimationId: n.animationId,
                    curSectors: n.sectors,
                    prevSectors: i.curSectors,
                    isAnimationFinished: !0,
                  }
                : n.sectors !== i.curSectors
                  ? { curSectors: n.sectors, isAnimationFinished: !0 }
                  : null;
          },
        },
        {
          key: "getTextAnchor",
          value: function (n, i) {
            return n > i ? "start" : n < i ? "end" : "middle";
          },
        },
        {
          key: "renderLabelLineItem",
          value: function (n, i, s) {
            if (A.isValidElement(n)) return A.cloneElement(n, i);
            if (ce(n)) return n(i);
            var o = pe(
              "recharts-pie-label-line",
              typeof n != "boolean" ? n.className : "",
            );
            return A.createElement(
              rn,
              An({}, i, { key: s, type: "linear", className: o }),
            );
          },
        },
        {
          key: "renderLabelItem",
          value: function (n, i, s) {
            if (A.isValidElement(n)) return A.cloneElement(n, i);
            var o = s;
            if (ce(n) && ((o = n(i)), A.isValidElement(o))) return o;
            var c = pe(
              "recharts-pie-label-text",
              typeof n != "boolean" && !ce(n) ? n.className : "",
            );
            return A.createElement(
              sn,
              An({}, i, { alignmentBaseline: "middle", className: c }),
              o,
            );
          },
        },
      ],
    )
  );
})(P.PureComponent);
os = Nr;
St(Nr, "displayName", "Pie");
St(Nr, "defaultProps", {
  stroke: "#fff",
  fill: "#808080",
  legendType: "rect",
  cx: "50%",
  cy: "50%",
  startAngle: 0,
  endAngle: 360,
  innerRadius: 0,
  outerRadius: "80%",
  paddingAngle: 0,
  labelLine: !0,
  hide: !1,
  minAngle: 0,
  isAnimationActive: !Rr.isSsr,
  animationBegin: 400,
  animationDuration: 1500,
  animationEasing: "ease",
  nameKey: "name",
  blendStroke: !1,
  rootTabIndex: 0,
});
St(Nr, "parseDeltaAngle", function (e, t) {
  var r = ct(t - e),
    n = Math.min(Math.abs(t - e), 360);
  return r * n;
});
St(Nr, "getRealPieData", function (e) {
  var t = e.data,
    r = e.children,
    n = ne(e, !1),
    i = jt(r, To);
  return t && t.length
    ? t.map(function (s, o) {
        return Se(Se(Se({ payload: s }, n), s), i && i[o] && i[o].props);
      })
    : i && i.length
      ? i.map(function (s) {
          return Se(Se({}, n), s.props);
        })
      : [];
});
St(Nr, "parseCoordinateOfPie", function (e, t) {
  var r = t.top,
    n = t.left,
    i = t.width,
    s = t.height,
    o = cg(i, s),
    c = n + lt(e.cx, i, i / 2),
    l = r + lt(e.cy, s, s / 2),
    u = lt(e.innerRadius, o, 0),
    f = lt(e.outerRadius, o, o * 0.8),
    d = e.maxRadius || Math.sqrt(i * i + s * s) / 2;
  return { cx: c, cy: l, innerRadius: u, outerRadius: f, maxRadius: d };
});
St(Nr, "getComposedData", function (e) {
  var t = e.item,
    r = e.offset,
    n =
      t.type.defaultProps !== void 0
        ? Se(Se({}, t.type.defaultProps), t.props)
        : t.props,
    i = os.getRealPieData(n);
  if (!i || !i.length) return null;
  var s = n.cornerRadius,
    o = n.startAngle,
    c = n.endAngle,
    l = n.paddingAngle,
    u = n.dataKey,
    f = n.nameKey,
    d = n.valueKey,
    h = n.tooltipType,
    m = Math.abs(n.minAngle),
    v = os.parseCoordinateOfPie(n, r),
    p = os.parseDeltaAngle(o, c),
    x = Math.abs(p),
    g = u;
  fe(u) && fe(d)
    ? (Dt(
        !1,
        `Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`,
      ),
      (g = "value"))
    : fe(u) &&
      (Dt(
        !1,
        `Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`,
      ),
      (g = d));
  var b = i.filter(function (O) {
      return Be(O, g, 0) !== 0;
    }).length,
    N = (x >= 360 ? b : b - 1) * l,
    _ = x - b * m - N,
    y = i.reduce(function (O, S) {
      var E = Be(S, g, 0);
      return O + (W(E) ? E : 0);
    }, 0),
    j;
  if (y > 0) {
    var w;
    j = i.map(function (O, S) {
      var E = Be(O, g, 0),
        C = Be(O, f, S),
        T = (W(E) ? E : 0) / y,
        $;
      S ? ($ = w.endAngle + ct(p) * l * (E !== 0 ? 1 : 0)) : ($ = o);
      var I = $ + ct(p) * ((E !== 0 ? m : 0) + T * _),
        k = ($ + I) / 2,
        D = (v.innerRadius + v.outerRadius) / 2,
        V = [{ name: C, value: E, payload: O, dataKey: g, type: h }],
        G = Ce(v.cx, v.cy, D, k);
      return (
        (w = Se(
          Se(
            Se(
              {
                percent: T,
                cornerRadius: s,
                name: C,
                tooltipPayload: V,
                midAngle: k,
                middleRadius: D,
                tooltipPosition: G,
              },
              O,
            ),
            v,
          ),
          {},
          {
            value: Be(O, g),
            startAngle: $,
            endAngle: I,
            payload: O,
            paddingAngle: ct(p) * l,
          },
        )),
        w
      );
    });
  }
  return Se(Se({}, v), {}, { sectors: j, data: i });
});
var M4 = Math.ceil,
  I4 = Math.max;
function D4(e, t, r, n) {
  for (var i = -1, s = I4(M4((t - e) / (r || 1)), 0), o = Array(s); s--; )
    ((o[n ? s : ++i] = e), (e += r));
  return o;
}
var R4 = D4,
  L4 = Hv,
  km = 1 / 0,
  z4 = 17976931348623157e292;
function B4(e) {
  if (!e) return e === 0 ? e : 0;
  if (((e = L4(e)), e === km || e === -km)) {
    var t = e < 0 ? -1 : 1;
    return t * z4;
  }
  return e === e ? e : 0;
}
var jg = B4,
  F4 = R4,
  V4 = Eo,
  Pc = jg;
function U4(e) {
  return function (t, r, n) {
    return (
      n && typeof n != "number" && V4(t, r, n) && (r = n = void 0),
      (t = Pc(t)),
      r === void 0 ? ((r = t), (t = 0)) : (r = Pc(r)),
      (n = n === void 0 ? (t < r ? 1 : -1) : Pc(n)),
      F4(t, r, n, e)
    );
  };
}
var q4 = U4,
  W4 = q4,
  G4 = W4(),
  K4 = G4;
const eo = Oe(K4);
function ji(e) {
  "@babel/helpers - typeof";
  return (
    (ji =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ji(e)
  );
}
function Mm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Im(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Mm(Object(r), !0).forEach(function (n) {
          wg(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Mm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function wg(e, t, r) {
  return (
    (t = H4(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function H4(e) {
  var t = X4(e, "string");
  return ji(t) == "symbol" ? t : t + "";
}
function X4(e, t) {
  if (ji(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (ji(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var Y4 = ["Webkit", "Moz", "O", "ms"],
  J4 = function (t, r) {
    var n = t.replace(/(\w)/, function (s) {
        return s.toUpperCase();
      }),
      i = Y4.reduce(function (s, o) {
        return Im(Im({}, s), {}, wg({}, o + n, r));
      }, {});
    return ((i[t] = r), i);
  };
function Xn(e) {
  "@babel/helpers - typeof";
  return (
    (Xn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Xn(e)
  );
}
function to() {
  return (
    (to = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    to.apply(this, arguments)
  );
}
function Dm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Cc(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Dm(Object(r), !0).forEach(function (n) {
          xt(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Dm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function Z4(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Rm(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, _g(n.key), n));
  }
}
function Q4(e, t, r) {
  return (
    t && Rm(e.prototype, t),
    r && Rm(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function ez(e, t, r) {
  return (
    (t = ro(t)),
    tz(
      e,
      Ng() ? Reflect.construct(t, r || [], ro(e).constructor) : t.apply(e, r),
    )
  );
}
function tz(e, t) {
  if (t && (Xn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return rz(e);
}
function rz(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Ng() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Ng = function () {
    return !!e;
  })();
}
function ro(e) {
  return (
    (ro = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    ro(e)
  );
}
function nz(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Ll(e, t));
}
function Ll(e, t) {
  return (
    (Ll = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Ll(e, t)
  );
}
function xt(e, t, r) {
  return (
    (t = _g(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function _g(e) {
  var t = az(e, "string");
  return Xn(t) == "symbol" ? t : t + "";
}
function az(e, t) {
  if (Xn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Xn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var iz = function (t) {
    var r = t.data,
      n = t.startIndex,
      i = t.endIndex,
      s = t.x,
      o = t.width,
      c = t.travellerWidth;
    if (!r || !r.length) return {};
    var l = r.length,
      u = za()
        .domain(eo(0, l))
        .range([s, s + o - c]),
      f = u.domain().map(function (d) {
        return u(d);
      });
    return {
      isTextActive: !1,
      isSlideMoving: !1,
      isTravellerMoving: !1,
      isTravellerFocused: !1,
      startX: u(n),
      endX: u(i),
      scale: u,
      scaleValues: f,
    };
  },
  Lm = function (t) {
    return t.changedTouches && !!t.changedTouches.length;
  },
  Yn = (function (e) {
    function t(r) {
      var n;
      return (
        Z4(this, t),
        (n = ez(this, t, [r])),
        xt(n, "handleDrag", function (i) {
          (n.leaveTimer && (clearTimeout(n.leaveTimer), (n.leaveTimer = null)),
            n.state.isTravellerMoving
              ? n.handleTravellerMove(i)
              : n.state.isSlideMoving && n.handleSlideDrag(i));
        }),
        xt(n, "handleTouchMove", function (i) {
          i.changedTouches != null &&
            i.changedTouches.length > 0 &&
            n.handleDrag(i.changedTouches[0]);
        }),
        xt(n, "handleDragEnd", function () {
          (n.setState(
            { isTravellerMoving: !1, isSlideMoving: !1 },
            function () {
              var i = n.props,
                s = i.endIndex,
                o = i.onDragEnd,
                c = i.startIndex;
              o?.({ endIndex: s, startIndex: c });
            },
          ),
            n.detachDragEndListener());
        }),
        xt(n, "handleLeaveWrapper", function () {
          (n.state.isTravellerMoving || n.state.isSlideMoving) &&
            (n.leaveTimer = window.setTimeout(
              n.handleDragEnd,
              n.props.leaveTimeOut,
            ));
        }),
        xt(n, "handleEnterSlideOrTraveller", function () {
          n.setState({ isTextActive: !0 });
        }),
        xt(n, "handleLeaveSlideOrTraveller", function () {
          n.setState({ isTextActive: !1 });
        }),
        xt(n, "handleSlideDragStart", function (i) {
          var s = Lm(i) ? i.changedTouches[0] : i;
          (n.setState({
            isTravellerMoving: !1,
            isSlideMoving: !0,
            slideMoveStartX: s.pageX,
          }),
            n.attachDragEndListener());
        }),
        (n.travellerDragStartHandlers = {
          startX: n.handleTravellerDragStart.bind(n, "startX"),
          endX: n.handleTravellerDragStart.bind(n, "endX"),
        }),
        (n.state = {}),
        n
      );
    }
    return (
      nz(t, e),
      Q4(
        t,
        [
          {
            key: "componentWillUnmount",
            value: function () {
              (this.leaveTimer &&
                (clearTimeout(this.leaveTimer), (this.leaveTimer = null)),
                this.detachDragEndListener());
            },
          },
          {
            key: "getIndex",
            value: function (n) {
              var i = n.startX,
                s = n.endX,
                o = this.state.scaleValues,
                c = this.props,
                l = c.gap,
                u = c.data,
                f = u.length - 1,
                d = Math.min(i, s),
                h = Math.max(i, s),
                m = t.getIndexInRange(o, d),
                v = t.getIndexInRange(o, h);
              return {
                startIndex: m - (m % l),
                endIndex: v === f ? f : v - (v % l),
              };
            },
          },
          {
            key: "getTextOfTick",
            value: function (n) {
              var i = this.props,
                s = i.data,
                o = i.tickFormatter,
                c = i.dataKey,
                l = Be(s[n], c, n);
              return ce(o) ? o(l, n) : l;
            },
          },
          {
            key: "attachDragEndListener",
            value: function () {
              (window.addEventListener("mouseup", this.handleDragEnd, !0),
                window.addEventListener("touchend", this.handleDragEnd, !0),
                window.addEventListener("mousemove", this.handleDrag, !0));
            },
          },
          {
            key: "detachDragEndListener",
            value: function () {
              (window.removeEventListener("mouseup", this.handleDragEnd, !0),
                window.removeEventListener("touchend", this.handleDragEnd, !0),
                window.removeEventListener("mousemove", this.handleDrag, !0));
            },
          },
          {
            key: "handleSlideDrag",
            value: function (n) {
              var i = this.state,
                s = i.slideMoveStartX,
                o = i.startX,
                c = i.endX,
                l = this.props,
                u = l.x,
                f = l.width,
                d = l.travellerWidth,
                h = l.startIndex,
                m = l.endIndex,
                v = l.onChange,
                p = n.pageX - s;
              p > 0
                ? (p = Math.min(p, u + f - d - c, u + f - d - o))
                : p < 0 && (p = Math.max(p, u - o, u - c));
              var x = this.getIndex({ startX: o + p, endX: c + p });
              ((x.startIndex !== h || x.endIndex !== m) && v && v(x),
                this.setState({
                  startX: o + p,
                  endX: c + p,
                  slideMoveStartX: n.pageX,
                }));
            },
          },
          {
            key: "handleTravellerDragStart",
            value: function (n, i) {
              var s = Lm(i) ? i.changedTouches[0] : i;
              (this.setState({
                isSlideMoving: !1,
                isTravellerMoving: !0,
                movingTravellerId: n,
                brushMoveStartX: s.pageX,
              }),
                this.attachDragEndListener());
            },
          },
          {
            key: "handleTravellerMove",
            value: function (n) {
              var i = this.state,
                s = i.brushMoveStartX,
                o = i.movingTravellerId,
                c = i.endX,
                l = i.startX,
                u = this.state[o],
                f = this.props,
                d = f.x,
                h = f.width,
                m = f.travellerWidth,
                v = f.onChange,
                p = f.gap,
                x = f.data,
                g = { startX: this.state.startX, endX: this.state.endX },
                b = n.pageX - s;
              (b > 0
                ? (b = Math.min(b, d + h - m - u))
                : b < 0 && (b = Math.max(b, d - u)),
                (g[o] = u + b));
              var N = this.getIndex(g),
                _ = N.startIndex,
                y = N.endIndex,
                j = function () {
                  var O = x.length - 1;
                  return (
                    (o === "startX" && (c > l ? _ % p === 0 : y % p === 0)) ||
                    (c < l && y === O) ||
                    (o === "endX" && (c > l ? y % p === 0 : _ % p === 0)) ||
                    (c > l && y === O)
                  );
                };
              this.setState(
                xt(xt({}, o, u + b), "brushMoveStartX", n.pageX),
                function () {
                  v && j() && v(N);
                },
              );
            },
          },
          {
            key: "handleTravellerMoveKeyboard",
            value: function (n, i) {
              var s = this,
                o = this.state,
                c = o.scaleValues,
                l = o.startX,
                u = o.endX,
                f = this.state[i],
                d = c.indexOf(f);
              if (d !== -1) {
                var h = d + n;
                if (!(h === -1 || h >= c.length)) {
                  var m = c[h];
                  (i === "startX" && m >= u) ||
                    (i === "endX" && m <= l) ||
                    this.setState(xt({}, i, m), function () {
                      s.props.onChange(
                        s.getIndex({
                          startX: s.state.startX,
                          endX: s.state.endX,
                        }),
                      );
                    });
                }
              }
            },
          },
          {
            key: "renderBackground",
            value: function () {
              var n = this.props,
                i = n.x,
                s = n.y,
                o = n.width,
                c = n.height,
                l = n.fill,
                u = n.stroke;
              return A.createElement("rect", {
                stroke: u,
                fill: l,
                x: i,
                y: s,
                width: o,
                height: c,
              });
            },
          },
          {
            key: "renderPanorama",
            value: function () {
              var n = this.props,
                i = n.x,
                s = n.y,
                o = n.width,
                c = n.height,
                l = n.data,
                u = n.children,
                f = n.padding,
                d = P.Children.only(u);
              return d
                ? A.cloneElement(d, {
                    x: i,
                    y: s,
                    width: o,
                    height: c,
                    margin: f,
                    compact: !0,
                    data: l,
                  })
                : null;
            },
          },
          {
            key: "renderTravellerLayer",
            value: function (n, i) {
              var s,
                o,
                c = this,
                l = this.props,
                u = l.y,
                f = l.travellerWidth,
                d = l.height,
                h = l.traveller,
                m = l.ariaLabel,
                v = l.data,
                p = l.startIndex,
                x = l.endIndex,
                g = Math.max(n, this.props.x),
                b = Cc(
                  Cc({}, ne(this.props, !1)),
                  {},
                  { x: g, y: u, width: f, height: d },
                ),
                N =
                  m ||
                  "Min value: "
                    .concat(
                      (s = v[p]) === null || s === void 0 ? void 0 : s.name,
                      ", Max value: ",
                    )
                    .concat(
                      (o = v[x]) === null || o === void 0 ? void 0 : o.name,
                    );
              return A.createElement(
                xe,
                {
                  tabIndex: 0,
                  role: "slider",
                  "aria-label": N,
                  "aria-valuenow": n,
                  className: "recharts-brush-traveller",
                  onMouseEnter: this.handleEnterSlideOrTraveller,
                  onMouseLeave: this.handleLeaveSlideOrTraveller,
                  onMouseDown: this.travellerDragStartHandlers[i],
                  onTouchStart: this.travellerDragStartHandlers[i],
                  onKeyDown: function (y) {
                    ["ArrowLeft", "ArrowRight"].includes(y.key) &&
                      (y.preventDefault(),
                      y.stopPropagation(),
                      c.handleTravellerMoveKeyboard(
                        y.key === "ArrowRight" ? 1 : -1,
                        i,
                      ));
                  },
                  onFocus: function () {
                    c.setState({ isTravellerFocused: !0 });
                  },
                  onBlur: function () {
                    c.setState({ isTravellerFocused: !1 });
                  },
                  style: { cursor: "col-resize" },
                },
                t.renderTraveller(h, b),
              );
            },
          },
          {
            key: "renderSlide",
            value: function (n, i) {
              var s = this.props,
                o = s.y,
                c = s.height,
                l = s.stroke,
                u = s.travellerWidth,
                f = Math.min(n, i) + u,
                d = Math.max(Math.abs(i - n) - u, 0);
              return A.createElement("rect", {
                className: "recharts-brush-slide",
                onMouseEnter: this.handleEnterSlideOrTraveller,
                onMouseLeave: this.handleLeaveSlideOrTraveller,
                onMouseDown: this.handleSlideDragStart,
                onTouchStart: this.handleSlideDragStart,
                style: { cursor: "move" },
                stroke: "none",
                fill: l,
                fillOpacity: 0.2,
                x: f,
                y: o,
                width: d,
                height: c,
              });
            },
          },
          {
            key: "renderText",
            value: function () {
              var n = this.props,
                i = n.startIndex,
                s = n.endIndex,
                o = n.y,
                c = n.height,
                l = n.travellerWidth,
                u = n.stroke,
                f = this.state,
                d = f.startX,
                h = f.endX,
                m = 5,
                v = { pointerEvents: "none", fill: u };
              return A.createElement(
                xe,
                { className: "recharts-brush-texts" },
                A.createElement(
                  sn,
                  to(
                    {
                      textAnchor: "end",
                      verticalAnchor: "middle",
                      x: Math.min(d, h) - m,
                      y: o + c / 2,
                    },
                    v,
                  ),
                  this.getTextOfTick(i),
                ),
                A.createElement(
                  sn,
                  to(
                    {
                      textAnchor: "start",
                      verticalAnchor: "middle",
                      x: Math.max(d, h) + l + m,
                      y: o + c / 2,
                    },
                    v,
                  ),
                  this.getTextOfTick(s),
                ),
              );
            },
          },
          {
            key: "render",
            value: function () {
              var n = this.props,
                i = n.data,
                s = n.className,
                o = n.children,
                c = n.x,
                l = n.y,
                u = n.width,
                f = n.height,
                d = n.alwaysShowText,
                h = this.state,
                m = h.startX,
                v = h.endX,
                p = h.isTextActive,
                x = h.isSlideMoving,
                g = h.isTravellerMoving,
                b = h.isTravellerFocused;
              if (
                !i ||
                !i.length ||
                !W(c) ||
                !W(l) ||
                !W(u) ||
                !W(f) ||
                u <= 0 ||
                f <= 0
              )
                return null;
              var N = pe("recharts-brush", s),
                _ = A.Children.count(o) === 1,
                y = J4("userSelect", "none");
              return A.createElement(
                xe,
                {
                  className: N,
                  onMouseLeave: this.handleLeaveWrapper,
                  onTouchMove: this.handleTouchMove,
                  style: y,
                },
                this.renderBackground(),
                _ && this.renderPanorama(),
                this.renderSlide(m, v),
                this.renderTravellerLayer(m, "startX"),
                this.renderTravellerLayer(v, "endX"),
                (p || x || g || b || d) && this.renderText(),
              );
            },
          },
        ],
        [
          {
            key: "renderDefaultTraveller",
            value: function (n) {
              var i = n.x,
                s = n.y,
                o = n.width,
                c = n.height,
                l = n.stroke,
                u = Math.floor(s + c / 2) - 1;
              return A.createElement(
                A.Fragment,
                null,
                A.createElement("rect", {
                  x: i,
                  y: s,
                  width: o,
                  height: c,
                  fill: l,
                  stroke: "none",
                }),
                A.createElement("line", {
                  x1: i + 1,
                  y1: u,
                  x2: i + o - 1,
                  y2: u,
                  fill: "none",
                  stroke: "#fff",
                }),
                A.createElement("line", {
                  x1: i + 1,
                  y1: u + 2,
                  x2: i + o - 1,
                  y2: u + 2,
                  fill: "none",
                  stroke: "#fff",
                }),
              );
            },
          },
          {
            key: "renderTraveller",
            value: function (n, i) {
              var s;
              return (
                A.isValidElement(n)
                  ? (s = A.cloneElement(n, i))
                  : ce(n)
                    ? (s = n(i))
                    : (s = t.renderDefaultTraveller(i)),
                s
              );
            },
          },
          {
            key: "getDerivedStateFromProps",
            value: function (n, i) {
              var s = n.data,
                o = n.width,
                c = n.x,
                l = n.travellerWidth,
                u = n.updateId,
                f = n.startIndex,
                d = n.endIndex;
              if (s !== i.prevData || u !== i.prevUpdateId)
                return Cc(
                  {
                    prevData: s,
                    prevTravellerWidth: l,
                    prevUpdateId: u,
                    prevX: c,
                    prevWidth: o,
                  },
                  s && s.length
                    ? iz({
                        data: s,
                        width: o,
                        x: c,
                        travellerWidth: l,
                        startIndex: f,
                        endIndex: d,
                      })
                    : { scale: null, scaleValues: null },
                );
              if (
                i.scale &&
                (o !== i.prevWidth ||
                  c !== i.prevX ||
                  l !== i.prevTravellerWidth)
              ) {
                i.scale.range([c, c + o - l]);
                var h = i.scale.domain().map(function (m) {
                  return i.scale(m);
                });
                return {
                  prevData: s,
                  prevTravellerWidth: l,
                  prevUpdateId: u,
                  prevX: c,
                  prevWidth: o,
                  startX: i.scale(n.startIndex),
                  endX: i.scale(n.endIndex),
                  scaleValues: h,
                };
              }
              return null;
            },
          },
          {
            key: "getIndexInRange",
            value: function (n, i) {
              for (var s = n.length, o = 0, c = s - 1; c - o > 1; ) {
                var l = Math.floor((o + c) / 2);
                n[l] > i ? (c = l) : (o = l);
              }
              return i >= n[c] ? c : o;
            },
          },
        ],
      )
    );
  })(P.PureComponent);
xt(Yn, "displayName", "Brush");
xt(Yn, "defaultProps", {
  height: 40,
  travellerWidth: 5,
  gap: 1,
  fill: "#fff",
  stroke: "#666",
  padding: { top: 1, right: 1, bottom: 1, left: 1 },
  leaveTimeOut: 1e3,
  alwaysShowText: !1,
});
var sz = Bu;
function oz(e, t) {
  var r;
  return (
    sz(e, function (n, i, s) {
      return ((r = t(n, i, s)), !r);
    }),
    !!r
  );
}
var cz = oz,
  lz = jv,
  uz = Qt,
  dz = cz,
  fz = pt,
  hz = Eo;
function mz(e, t, r) {
  var n = fz(e) ? lz : dz;
  return (r && hz(e, t, r) && (t = void 0), n(e, uz(t)));
}
var pz = mz;
const vz = Oe(pz);
var Wt = function (t, r) {
    var n = t.alwaysShow,
      i = t.ifOverflow;
    return (n && (i = "extendDomain"), i === r);
  },
  zm = Uv;
function xz(e, t, r) {
  t == "__proto__" && zm
    ? zm(e, t, { configurable: !0, enumerable: !0, value: r, writable: !0 })
    : (e[t] = r);
}
var gz = xz,
  yz = gz,
  bz = Fv,
  jz = Qt;
function wz(e, t) {
  var r = {};
  return (
    (t = jz(t)),
    bz(e, function (n, i, s) {
      yz(r, i, t(n, i, s));
    }),
    r
  );
}
var Nz = wz;
const _z = Oe(Nz);
function Oz(e, t) {
  for (var r = -1, n = e == null ? 0 : e.length; ++r < n; )
    if (!t(e[r], r, e)) return !1;
  return !0;
}
var Sz = Oz,
  Az = Bu;
function Pz(e, t) {
  var r = !0;
  return (
    Az(e, function (n, i, s) {
      return ((r = !!t(n, i, s)), r);
    }),
    r
  );
}
var Cz = Pz,
  Ez = Sz,
  Tz = Cz,
  $z = Qt,
  kz = pt,
  Mz = Eo;
function Iz(e, t, r) {
  var n = kz(e) ? Ez : Tz;
  return (r && Mz(e, t, r) && (t = void 0), n(e, $z(t)));
}
var Dz = Iz;
const Og = Oe(Dz);
var Rz = ["x", "y"];
function wi(e) {
  "@babel/helpers - typeof";
  return (
    (wi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    wi(e)
  );
}
function zl() {
  return (
    (zl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    zl.apply(this, arguments)
  );
}
function Bm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Ta(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Bm(Object(r), !0).forEach(function (n) {
          Lz(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Bm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function Lz(e, t, r) {
  return (
    (t = zz(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function zz(e) {
  var t = Bz(e, "string");
  return wi(t) == "symbol" ? t : t + "";
}
function Bz(e, t) {
  if (wi(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (wi(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function Fz(e, t) {
  if (e == null) return {};
  var r = Vz(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function Vz(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function Uz(e, t) {
  var r = e.x,
    n = e.y,
    i = Fz(e, Rz),
    s = "".concat(r),
    o = parseInt(s, 10),
    c = "".concat(n),
    l = parseInt(c, 10),
    u = "".concat(t.height || i.height),
    f = parseInt(u, 10),
    d = "".concat(t.width || i.width),
    h = parseInt(d, 10);
  return Ta(
    Ta(Ta(Ta(Ta({}, t), i), o ? { x: o } : {}), l ? { y: l } : {}),
    {},
    { height: f, width: h, name: t.name, radius: t.radius },
  );
}
function Fm(e) {
  return A.createElement(
    gg,
    zl(
      {
        shapeType: "rectangle",
        propTransformer: Uz,
        activeClassName: "recharts-active-bar",
      },
      e,
    ),
  );
}
var qz = function (t) {
    var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return function (n, i) {
      if (typeof t == "number") return t;
      var s = W(n) || Yw(n);
      return s ? t(n, i) : (s || ln(), r);
    };
  },
  Wz = ["value", "background"],
  Sg;
function Jn(e) {
  "@babel/helpers - typeof";
  return (
    (Jn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Jn(e)
  );
}
function Gz(e, t) {
  if (e == null) return {};
  var r = Kz(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function Kz(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function no() {
  return (
    (no = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    no.apply(this, arguments)
  );
}
function Vm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Fe(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Vm(Object(r), !0).forEach(function (n) {
          Er(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Vm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function Hz(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Um(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Pg(n.key), n));
  }
}
function Xz(e, t, r) {
  return (
    t && Um(e.prototype, t),
    r && Um(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function Yz(e, t, r) {
  return (
    (t = ao(t)),
    Jz(
      e,
      Ag() ? Reflect.construct(t, r || [], ao(e).constructor) : t.apply(e, r),
    )
  );
}
function Jz(e, t) {
  if (t && (Jn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return Zz(e);
}
function Zz(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Ag() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Ag = function () {
    return !!e;
  })();
}
function ao(e) {
  return (
    (ao = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    ao(e)
  );
}
function Qz(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Bl(e, t));
}
function Bl(e, t) {
  return (
    (Bl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Bl(e, t)
  );
}
function Er(e, t, r) {
  return (
    (t = Pg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Pg(e) {
  var t = eB(e, "string");
  return Jn(t) == "symbol" ? t : t + "";
}
function eB(e, t) {
  if (Jn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Jn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var vr = (function (e) {
  function t() {
    var r;
    Hz(this, t);
    for (var n = arguments.length, i = new Array(n), s = 0; s < n; s++)
      i[s] = arguments[s];
    return (
      (r = Yz(this, t, [].concat(i))),
      Er(r, "state", { isAnimationFinished: !1 }),
      Er(r, "id", vn("recharts-bar-")),
      Er(r, "handleAnimationEnd", function () {
        var o = r.props.onAnimationEnd;
        (r.setState({ isAnimationFinished: !0 }), o && o());
      }),
      Er(r, "handleAnimationStart", function () {
        var o = r.props.onAnimationStart;
        (r.setState({ isAnimationFinished: !1 }), o && o());
      }),
      r
    );
  }
  return (
    Qz(t, e),
    Xz(
      t,
      [
        {
          key: "renderRectanglesStatically",
          value: function (n) {
            var i = this,
              s = this.props,
              o = s.shape,
              c = s.dataKey,
              l = s.activeIndex,
              u = s.activeBar,
              f = ne(this.props, !1);
            return (
              n &&
              n.map(function (d, h) {
                var m = h === l,
                  v = m ? u : o,
                  p = Fe(
                    Fe(Fe({}, f), d),
                    {},
                    {
                      isActive: m,
                      option: v,
                      index: h,
                      dataKey: c,
                      onAnimationStart: i.handleAnimationStart,
                      onAnimationEnd: i.handleAnimationEnd,
                    },
                  );
                return A.createElement(
                  xe,
                  no(
                    { className: "recharts-bar-rectangle" },
                    an(i.props, d, h),
                    {
                      key: "rectangle-"
                        .concat(d?.x, "-")
                        .concat(d?.y, "-")
                        .concat(d?.value, "-")
                        .concat(h),
                    },
                  ),
                  A.createElement(Fm, p),
                );
              })
            );
          },
        },
        {
          key: "renderRectanglesWithAnimation",
          value: function () {
            var n = this,
              i = this.props,
              s = i.data,
              o = i.layout,
              c = i.isAnimationActive,
              l = i.animationBegin,
              u = i.animationDuration,
              f = i.animationEasing,
              d = i.animationId,
              h = this.state.prevData;
            return A.createElement(
              kr,
              {
                begin: l,
                duration: u,
                isActive: c,
                easing: f,
                from: { t: 0 },
                to: { t: 1 },
                key: "bar-".concat(d),
                onAnimationEnd: this.handleAnimationEnd,
                onAnimationStart: this.handleAnimationStart,
              },
              function (m) {
                var v = m.t,
                  p = s.map(function (x, g) {
                    var b = h && h[g];
                    if (b) {
                      var N = He(b.x, x.x),
                        _ = He(b.y, x.y),
                        y = He(b.width, x.width),
                        j = He(b.height, x.height);
                      return Fe(
                        Fe({}, x),
                        {},
                        { x: N(v), y: _(v), width: y(v), height: j(v) },
                      );
                    }
                    if (o === "horizontal") {
                      var w = He(0, x.height),
                        O = w(v);
                      return Fe(
                        Fe({}, x),
                        {},
                        { y: x.y + x.height - O, height: O },
                      );
                    }
                    var S = He(0, x.width),
                      E = S(v);
                    return Fe(Fe({}, x), {}, { width: E });
                  });
                return A.createElement(
                  xe,
                  null,
                  n.renderRectanglesStatically(p),
                );
              },
            );
          },
        },
        {
          key: "renderRectangles",
          value: function () {
            var n = this.props,
              i = n.data,
              s = n.isAnimationActive,
              o = this.state.prevData;
            return s && i && i.length && (!o || !on(o, i))
              ? this.renderRectanglesWithAnimation()
              : this.renderRectanglesStatically(i);
          },
        },
        {
          key: "renderBackground",
          value: function () {
            var n = this,
              i = this.props,
              s = i.data,
              o = i.dataKey,
              c = i.activeIndex,
              l = ne(this.props.background, !1);
            return s.map(function (u, f) {
              u.value;
              var d = u.background,
                h = Gz(u, Wz);
              if (!d) return null;
              var m = Fe(
                Fe(
                  Fe(Fe(Fe({}, h), {}, { fill: "#eee" }, d), l),
                  an(n.props, u, f),
                ),
                {},
                {
                  onAnimationStart: n.handleAnimationStart,
                  onAnimationEnd: n.handleAnimationEnd,
                  dataKey: o,
                  index: f,
                  className: "recharts-bar-background-rectangle",
                },
              );
              return A.createElement(
                Fm,
                no(
                  {
                    key: "background-bar-".concat(f),
                    option: n.props.background,
                    isActive: f === c,
                  },
                  m,
                ),
              );
            });
          },
        },
        {
          key: "renderErrorBar",
          value: function (n, i) {
            if (this.props.isAnimationActive && !this.state.isAnimationFinished)
              return null;
            var s = this.props,
              o = s.data,
              c = s.xAxis,
              l = s.yAxis,
              u = s.layout,
              f = s.children,
              d = jt(f, Ri);
            if (!d) return null;
            var h = u === "vertical" ? o[0].height / 2 : o[0].width / 2,
              m = function (x, g) {
                var b = Array.isArray(x.value) ? x.value[1] : x.value;
                return { x: x.x, y: x.y, value: b, errorVal: Be(x, g) };
              },
              v = { clipPath: n ? "url(#clipPath-".concat(i, ")") : null };
            return A.createElement(
              xe,
              v,
              d.map(function (p) {
                return A.cloneElement(p, {
                  key: "error-bar-".concat(i, "-").concat(p.props.dataKey),
                  data: o,
                  xAxis: c,
                  yAxis: l,
                  layout: u,
                  offset: h,
                  dataPointFormatter: m,
                });
              }),
            );
          },
        },
        {
          key: "render",
          value: function () {
            var n = this.props,
              i = n.hide,
              s = n.data,
              o = n.className,
              c = n.xAxis,
              l = n.yAxis,
              u = n.left,
              f = n.top,
              d = n.width,
              h = n.height,
              m = n.isAnimationActive,
              v = n.background,
              p = n.id;
            if (i || !s || !s.length) return null;
            var x = this.state.isAnimationFinished,
              g = pe("recharts-bar", o),
              b = c && c.allowDataOverflow,
              N = l && l.allowDataOverflow,
              _ = b || N,
              y = fe(p) ? this.id : p;
            return A.createElement(
              xe,
              { className: g },
              b || N
                ? A.createElement(
                    "defs",
                    null,
                    A.createElement(
                      "clipPath",
                      { id: "clipPath-".concat(y) },
                      A.createElement("rect", {
                        x: b ? u : u - d / 2,
                        y: N ? f : f - h / 2,
                        width: b ? d : d * 2,
                        height: N ? h : h * 2,
                      }),
                    ),
                  )
                : null,
              A.createElement(
                xe,
                {
                  className: "recharts-bar-rectangles",
                  clipPath: _ ? "url(#clipPath-".concat(y, ")") : null,
                },
                v ? this.renderBackground() : null,
                this.renderRectangles(),
              ),
              this.renderErrorBar(_, y),
              (!m || x) && qt.renderCallByParent(this.props, s),
            );
          },
        },
      ],
      [
        {
          key: "getDerivedStateFromProps",
          value: function (n, i) {
            return n.animationId !== i.prevAnimationId
              ? {
                  prevAnimationId: n.animationId,
                  curData: n.data,
                  prevData: i.curData,
                }
              : n.data !== i.curData
                ? { curData: n.data }
                : null;
          },
        },
      ],
    )
  );
})(P.PureComponent);
Sg = vr;
Er(vr, "displayName", "Bar");
Er(vr, "defaultProps", {
  xAxisId: 0,
  yAxisId: 0,
  legendType: "rect",
  minPointSize: 0,
  hide: !1,
  data: [],
  layout: "vertical",
  activeBar: !1,
  isAnimationActive: !Rr.isSsr,
  animationBegin: 0,
  animationDuration: 400,
  animationEasing: "ease",
});
Er(vr, "getComposedData", function (e) {
  var t = e.props,
    r = e.item,
    n = e.barPosition,
    i = e.bandSize,
    s = e.xAxis,
    o = e.yAxis,
    c = e.xAxisTicks,
    l = e.yAxisTicks,
    u = e.stackedData,
    f = e.dataStartIndex,
    d = e.displayedData,
    h = e.offset,
    m = mD(n, r);
  if (!m) return null;
  var v = t.layout,
    p = r.type.defaultProps,
    x = p !== void 0 ? Fe(Fe({}, p), r.props) : r.props,
    g = x.dataKey,
    b = x.children,
    N = x.minPointSize,
    _ = v === "horizontal" ? o : s,
    y = u ? _.scale.domain() : null,
    j = jD({ numericAxis: _ }),
    w = jt(b, To),
    O = d.map(function (S, E) {
      var C, T, $, I, k, D;
      u
        ? (C = pD(u[f + E], y))
        : ((C = Be(S, g)), Array.isArray(C) || (C = [j, C]));
      var V = qz(N, Sg.defaultProps.minPointSize)(C[1], E);
      if (v === "horizontal") {
        var G,
          K = [o.scale(C[0]), o.scale(C[1])],
          ee = K[0],
          ae = K[1];
        ((T = Yh({
          axis: s,
          ticks: c,
          bandSize: i,
          offset: m.offset,
          entry: S,
          index: E,
        })),
          ($ = (G = ae ?? ee) !== null && G !== void 0 ? G : void 0),
          (I = m.size));
        var J = ee - ae;
        if (
          ((k = Number.isNaN(J) ? 0 : J),
          (D = { x: T, y: o.y, width: I, height: o.height }),
          Math.abs(V) > 0 && Math.abs(k) < Math.abs(V))
        ) {
          var se = ct(k || V) * (Math.abs(V) - Math.abs(k));
          (($ -= se), (k += se));
        }
      } else {
        var ie = [s.scale(C[0]), s.scale(C[1])],
          de = ie[0],
          q = ie[1];
        if (
          ((T = de),
          ($ = Yh({
            axis: o,
            ticks: l,
            bandSize: i,
            offset: m.offset,
            entry: S,
            index: E,
          })),
          (I = q - de),
          (k = m.size),
          (D = { x: s.x, y: $, width: s.width, height: k }),
          Math.abs(V) > 0 && Math.abs(I) < Math.abs(V))
        ) {
          var ge = ct(I || V) * (Math.abs(V) - Math.abs(I));
          I += ge;
        }
      }
      return Fe(
        Fe(
          Fe({}, S),
          {},
          {
            x: T,
            y: $,
            width: I,
            height: k,
            value: u ? C : C[1],
            payload: S,
            background: D,
          },
          w && w[E] && w[E].props,
        ),
        {},
        {
          tooltipPayload: [sg(r, S)],
          tooltipPosition: { x: T + I / 2, y: $ + k / 2 },
        },
      );
    });
  return Fe({ data: O, layout: v }, h);
});
function Ni(e) {
  "@babel/helpers - typeof";
  return (
    (Ni =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Ni(e)
  );
}
function tB(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function qm(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Cg(n.key), n));
  }
}
function rB(e, t, r) {
  return (
    t && qm(e.prototype, t),
    r && qm(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function Wm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function $t(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Wm(Object(r), !0).forEach(function (n) {
          Ho(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Wm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function Ho(e, t, r) {
  return (
    (t = Cg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Cg(e) {
  var t = nB(e, "string");
  return Ni(t) == "symbol" ? t : t + "";
}
function nB(e, t) {
  if (Ni(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Ni(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var pd = function (t, r, n, i, s) {
    var o = t.width,
      c = t.height,
      l = t.layout,
      u = t.children,
      f = Object.keys(r),
      d = {
        left: n.left,
        leftMirror: n.left,
        right: o - n.right,
        rightMirror: o - n.right,
        top: n.top,
        topMirror: n.top,
        bottom: c - n.bottom,
        bottomMirror: c - n.bottom,
      },
      h = !!gt(u, vr);
    return f.reduce(function (m, v) {
      var p = r[v],
        x = p.orientation,
        g = p.domain,
        b = p.padding,
        N = b === void 0 ? {} : b,
        _ = p.mirror,
        y = p.reversed,
        j = "".concat(x).concat(_ ? "Mirror" : ""),
        w,
        O,
        S,
        E,
        C;
      if (
        p.type === "number" &&
        (p.padding === "gap" || p.padding === "no-gap")
      ) {
        var T = g[1] - g[0],
          $ = 1 / 0,
          I = p.categoricalDomain.sort(Qw);
        if (
          (I.forEach(function (ie, de) {
            de > 0 && ($ = Math.min((ie || 0) - (I[de - 1] || 0), $));
          }),
          Number.isFinite($))
        ) {
          var k = $ / T,
            D = p.layout === "vertical" ? n.height : n.width;
          if (
            (p.padding === "gap" && (w = (k * D) / 2), p.padding === "no-gap")
          ) {
            var V = lt(t.barCategoryGap, k * D),
              G = (k * D) / 2;
            w = G - V - ((G - V) / D) * V;
          }
        }
      }
      (i === "xAxis"
        ? (O = [
            n.left + (N.left || 0) + (w || 0),
            n.left + n.width - (N.right || 0) - (w || 0),
          ])
        : i === "yAxis"
          ? (O =
              l === "horizontal"
                ? [n.top + n.height - (N.bottom || 0), n.top + (N.top || 0)]
                : [
                    n.top + (N.top || 0) + (w || 0),
                    n.top + n.height - (N.bottom || 0) - (w || 0),
                  ])
          : (O = p.range),
        y && (O = [O[1], O[0]]));
      var K = rg(p, s, h),
        ee = K.scale,
        ae = K.realScaleType;
      (ee.domain(g).range(O), ng(ee));
      var J = ag(ee, $t($t({}, p), {}, { realScaleType: ae }));
      i === "xAxis"
        ? ((C = (x === "top" && !_) || (x === "bottom" && _)),
          (S = n.left),
          (E = d[j] - C * p.height))
        : i === "yAxis" &&
          ((C = (x === "left" && !_) || (x === "right" && _)),
          (S = d[j] - C * p.width),
          (E = n.top));
      var se = $t(
        $t($t({}, p), J),
        {},
        {
          realScaleType: ae,
          x: S,
          y: E,
          scale: ee,
          width: i === "xAxis" ? n.width : p.width,
          height: i === "yAxis" ? n.height : p.height,
        },
      );
      return (
        (se.bandSize = Ws(se, J)),
        !p.hide && i === "xAxis"
          ? (d[j] += (C ? -1 : 1) * se.height)
          : p.hide || (d[j] += (C ? -1 : 1) * se.width),
        $t($t({}, m), {}, Ho({}, v, se))
      );
    }, {});
  },
  Eg = function (t, r) {
    var n = t.x,
      i = t.y,
      s = r.x,
      o = r.y;
    return {
      x: Math.min(n, s),
      y: Math.min(i, o),
      width: Math.abs(s - n),
      height: Math.abs(o - i),
    };
  },
  aB = function (t) {
    var r = t.x1,
      n = t.y1,
      i = t.x2,
      s = t.y2;
    return Eg({ x: r, y: n }, { x: i, y: s });
  },
  Tg = (function () {
    function e(t) {
      (tB(this, e), (this.scale = t));
    }
    return rB(
      e,
      [
        {
          key: "domain",
          get: function () {
            return this.scale.domain;
          },
        },
        {
          key: "range",
          get: function () {
            return this.scale.range;
          },
        },
        {
          key: "rangeMin",
          get: function () {
            return this.range()[0];
          },
        },
        {
          key: "rangeMax",
          get: function () {
            return this.range()[1];
          },
        },
        {
          key: "bandwidth",
          get: function () {
            return this.scale.bandwidth;
          },
        },
        {
          key: "apply",
          value: function (r) {
            var n =
                arguments.length > 1 && arguments[1] !== void 0
                  ? arguments[1]
                  : {},
              i = n.bandAware,
              s = n.position;
            if (r !== void 0) {
              if (s)
                switch (s) {
                  case "start":
                    return this.scale(r);
                  case "middle": {
                    var o = this.bandwidth ? this.bandwidth() / 2 : 0;
                    return this.scale(r) + o;
                  }
                  case "end": {
                    var c = this.bandwidth ? this.bandwidth() : 0;
                    return this.scale(r) + c;
                  }
                  default:
                    return this.scale(r);
                }
              if (i) {
                var l = this.bandwidth ? this.bandwidth() / 2 : 0;
                return this.scale(r) + l;
              }
              return this.scale(r);
            }
          },
        },
        {
          key: "isInRange",
          value: function (r) {
            var n = this.range(),
              i = n[0],
              s = n[n.length - 1];
            return i <= s ? r >= i && r <= s : r >= s && r <= i;
          },
        },
      ],
      [
        {
          key: "create",
          value: function (r) {
            return new e(r);
          },
        },
      ],
    );
  })();
Ho(Tg, "EPS", 1e-4);
var vd = function (t) {
  var r = Object.keys(t).reduce(function (n, i) {
    return $t($t({}, n), {}, Ho({}, i, Tg.create(t[i])));
  }, {});
  return $t(
    $t({}, r),
    {},
    {
      apply: function (i) {
        var s =
            arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
          o = s.bandAware,
          c = s.position;
        return _z(i, function (l, u) {
          return r[u].apply(l, { bandAware: o, position: c });
        });
      },
      isInRange: function (i) {
        return Og(i, function (s, o) {
          return r[o].isInRange(s);
        });
      },
    },
  );
};
function iB(e) {
  return ((e % 180) + 180) % 180;
}
var sB = function (t) {
    var r = t.width,
      n = t.height,
      i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
      s = iB(i),
      o = (s * Math.PI) / 180,
      c = Math.atan(n / r),
      l = o > c && o < Math.PI - c ? n / Math.sin(o) : r / Math.cos(o);
    return Math.abs(l);
  },
  oB = Qt,
  cB = $i,
  lB = Po;
function uB(e) {
  return function (t, r, n) {
    var i = Object(t);
    if (!cB(t)) {
      var s = oB(r);
      ((t = lB(t)),
        (r = function (c) {
          return s(i[c], c, i);
        }));
    }
    var o = e(t, r, n);
    return o > -1 ? i[s ? t[o] : o] : void 0;
  };
}
var dB = uB,
  fB = jg;
function hB(e) {
  var t = fB(e),
    r = t % 1;
  return t === t ? (r ? t - r : t) : 0;
}
var mB = hB,
  pB = Iv,
  vB = Qt,
  xB = mB,
  gB = Math.max;
function yB(e, t, r) {
  var n = e == null ? 0 : e.length;
  if (!n) return -1;
  var i = r == null ? 0 : xB(r);
  return (i < 0 && (i = gB(n + i, 0)), pB(e, vB(t), i));
}
var bB = yB,
  jB = dB,
  wB = bB,
  NB = jB(wB),
  _B = NB;
const OB = Oe(_B);
var SB = iw(
    function (e) {
      return { x: e.left, y: e.top, width: e.width, height: e.height };
    },
    function (e) {
      return ["l", e.left, "t", e.top, "w", e.width, "h", e.height].join("");
    },
  ),
  xd = P.createContext(void 0),
  gd = P.createContext(void 0),
  $g = P.createContext(void 0),
  kg = P.createContext({}),
  Mg = P.createContext(void 0),
  Ig = P.createContext(0),
  Dg = P.createContext(0),
  Gm = function (t) {
    var r = t.state,
      n = r.xAxisMap,
      i = r.yAxisMap,
      s = r.offset,
      o = t.clipPathId,
      c = t.children,
      l = t.width,
      u = t.height,
      f = SB(s);
    return A.createElement(
      xd.Provider,
      { value: n },
      A.createElement(
        gd.Provider,
        { value: i },
        A.createElement(
          kg.Provider,
          { value: s },
          A.createElement(
            $g.Provider,
            { value: f },
            A.createElement(
              Mg.Provider,
              { value: o },
              A.createElement(
                Ig.Provider,
                { value: u },
                A.createElement(Dg.Provider, { value: l }, c),
              ),
            ),
          ),
        ),
      ),
    );
  },
  AB = function () {
    return P.useContext(Mg);
  },
  Rg = function (t) {
    var r = P.useContext(xd);
    r == null && ln();
    var n = r[t];
    return (n == null && ln(), n);
  },
  PB = function () {
    var t = P.useContext(xd);
    return Pr(t);
  },
  CB = function () {
    var t = P.useContext(gd),
      r = OB(t, function (n) {
        return Og(n.domain, Number.isFinite);
      });
    return r || Pr(t);
  },
  Lg = function (t) {
    var r = P.useContext(gd);
    r == null && ln();
    var n = r[t];
    return (n == null && ln(), n);
  },
  EB = function () {
    var t = P.useContext($g);
    return t;
  },
  TB = function () {
    return P.useContext(kg);
  },
  yd = function () {
    return P.useContext(Dg);
  },
  bd = function () {
    return P.useContext(Ig);
  };
function Zn(e) {
  "@babel/helpers - typeof";
  return (
    (Zn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Zn(e)
  );
}
function $B(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function kB(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Bg(n.key), n));
  }
}
function MB(e, t, r) {
  return (
    t && kB(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function IB(e, t, r) {
  return (
    (t = io(t)),
    DB(
      e,
      zg() ? Reflect.construct(t, r || [], io(e).constructor) : t.apply(e, r),
    )
  );
}
function DB(e, t) {
  if (t && (Zn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return RB(e);
}
function RB(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function zg() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (zg = function () {
    return !!e;
  })();
}
function io(e) {
  return (
    (io = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    io(e)
  );
}
function LB(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Fl(e, t));
}
function Fl(e, t) {
  return (
    (Fl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Fl(e, t)
  );
}
function Km(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Hm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Km(Object(r), !0).forEach(function (n) {
          jd(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Km(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function jd(e, t, r) {
  return (
    (t = Bg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Bg(e) {
  var t = zB(e, "string");
  return Zn(t) == "symbol" ? t : t + "";
}
function zB(e, t) {
  if (Zn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Zn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
function BB(e, t) {
  return qB(e) || UB(e, t) || VB(e, t) || FB();
}
function FB() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function VB(e, t) {
  if (e) {
    if (typeof e == "string") return Xm(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Xm(e, t);
  }
}
function Xm(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function UB(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t !== 0))
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function qB(e) {
  if (Array.isArray(e)) return e;
}
function Vl() {
  return (
    (Vl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Vl.apply(this, arguments)
  );
}
var WB = function (t, r) {
    var n;
    return (
      A.isValidElement(t)
        ? (n = A.cloneElement(t, r))
        : ce(t)
          ? (n = t(r))
          : (n = A.createElement(
              "line",
              Vl({}, r, { className: "recharts-reference-line-line" }),
            )),
      n
    );
  },
  GB = function (t, r, n, i, s, o, c, l, u) {
    var f = s.x,
      d = s.y,
      h = s.width,
      m = s.height;
    if (n) {
      var v = u.y,
        p = t.y.apply(v, { position: o });
      if (Wt(u, "discard") && !t.y.isInRange(p)) return null;
      var x = [
        { x: f + h, y: p },
        { x: f, y: p },
      ];
      return l === "left" ? x.reverse() : x;
    }
    if (r) {
      var g = u.x,
        b = t.x.apply(g, { position: o });
      if (Wt(u, "discard") && !t.x.isInRange(b)) return null;
      var N = [
        { x: b, y: d + m },
        { x: b, y: d },
      ];
      return c === "top" ? N.reverse() : N;
    }
    if (i) {
      var _ = u.segment,
        y = _.map(function (j) {
          return t.apply(j, { position: o });
        });
      return Wt(u, "discard") &&
        vz(y, function (j) {
          return !t.isInRange(j);
        })
        ? null
        : y;
    }
    return null;
  };
function KB(e) {
  var t = e.x,
    r = e.y,
    n = e.segment,
    i = e.xAxisId,
    s = e.yAxisId,
    o = e.shape,
    c = e.className,
    l = e.alwaysShow,
    u = AB(),
    f = Rg(i),
    d = Lg(s),
    h = EB();
  if (!u || !h) return null;
  Dt(
    l === void 0,
    'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.',
  );
  var m = vd({ x: f.scale, y: d.scale }),
    v = Xe(t),
    p = Xe(r),
    x = n && n.length === 2,
    g = GB(m, v, p, x, h, e.position, f.orientation, d.orientation, e);
  if (!g) return null;
  var b = BB(g, 2),
    N = b[0],
    _ = N.x,
    y = N.y,
    j = b[1],
    w = j.x,
    O = j.y,
    S = Wt(e, "hidden") ? "url(#".concat(u, ")") : void 0,
    E = Hm(Hm({ clipPath: S }, ne(e, !0)), {}, { x1: _, y1: y, x2: w, y2: O });
  return A.createElement(
    xe,
    { className: pe("recharts-reference-line", c) },
    WB(o, E),
    Ze.renderCallByParent(e, aB({ x1: _, y1: y, x2: w, y2: O })),
  );
}
var wd = (function (e) {
  function t() {
    return ($B(this, t), IB(this, t, arguments));
  }
  return (
    LB(t, e),
    MB(t, [
      {
        key: "render",
        value: function () {
          return A.createElement(KB, this.props);
        },
      },
    ])
  );
})(A.Component);
jd(wd, "displayName", "ReferenceLine");
jd(wd, "defaultProps", {
  isFront: !1,
  ifOverflow: "discard",
  xAxisId: 0,
  yAxisId: 0,
  fill: "none",
  stroke: "#ccc",
  fillOpacity: 1,
  strokeWidth: 1,
  position: "middle",
});
function Ul() {
  return (
    (Ul = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Ul.apply(this, arguments)
  );
}
function Qn(e) {
  "@babel/helpers - typeof";
  return (
    (Qn =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Qn(e)
  );
}
function Ym(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Jm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Ym(Object(r), !0).forEach(function (n) {
          Xo(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Ym(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function HB(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function XB(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Vg(n.key), n));
  }
}
function YB(e, t, r) {
  return (
    t && XB(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function JB(e, t, r) {
  return (
    (t = so(t)),
    ZB(
      e,
      Fg() ? Reflect.construct(t, r || [], so(e).constructor) : t.apply(e, r),
    )
  );
}
function ZB(e, t) {
  if (t && (Qn(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return QB(e);
}
function QB(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Fg() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Fg = function () {
    return !!e;
  })();
}
function so(e) {
  return (
    (so = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    so(e)
  );
}
function e3(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && ql(e, t));
}
function ql(e, t) {
  return (
    (ql = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    ql(e, t)
  );
}
function Xo(e, t, r) {
  return (
    (t = Vg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Vg(e) {
  var t = t3(e, "string");
  return Qn(t) == "symbol" ? t : t + "";
}
function t3(e, t) {
  if (Qn(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Qn(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var r3 = function (t) {
    var r = t.x,
      n = t.y,
      i = t.xAxis,
      s = t.yAxis,
      o = vd({ x: i.scale, y: s.scale }),
      c = o.apply({ x: r, y: n }, { bandAware: !0 });
    return Wt(t, "discard") && !o.isInRange(c) ? null : c;
  },
  Yo = (function (e) {
    function t() {
      return (HB(this, t), JB(this, t, arguments));
    }
    return (
      e3(t, e),
      YB(t, [
        {
          key: "render",
          value: function () {
            var n = this.props,
              i = n.x,
              s = n.y,
              o = n.r,
              c = n.alwaysShow,
              l = n.clipPathId,
              u = Xe(i),
              f = Xe(s);
            if (
              (Dt(
                c === void 0,
                'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.',
              ),
              !u || !f)
            )
              return null;
            var d = r3(this.props);
            if (!d) return null;
            var h = d.x,
              m = d.y,
              v = this.props,
              p = v.shape,
              x = v.className,
              g = Wt(this.props, "hidden") ? "url(#".concat(l, ")") : void 0,
              b = Jm(
                Jm({ clipPath: g }, ne(this.props, !0)),
                {},
                { cx: h, cy: m },
              );
            return A.createElement(
              xe,
              { className: pe("recharts-reference-dot", x) },
              t.renderDot(p, b),
              Ze.renderCallByParent(this.props, {
                x: h - o,
                y: m - o,
                width: 2 * o,
                height: 2 * o,
              }),
            );
          },
        },
      ])
    );
  })(A.Component);
Xo(Yo, "displayName", "ReferenceDot");
Xo(Yo, "defaultProps", {
  isFront: !1,
  ifOverflow: "discard",
  xAxisId: 0,
  yAxisId: 0,
  r: 10,
  fill: "#fff",
  stroke: "#ccc",
  fillOpacity: 1,
  strokeWidth: 1,
});
Xo(Yo, "renderDot", function (e, t) {
  var r;
  return (
    A.isValidElement(e)
      ? (r = A.cloneElement(e, t))
      : ce(e)
        ? (r = e(t))
        : (r = A.createElement(
            Li,
            Ul({}, t, {
              cx: t.cx,
              cy: t.cy,
              className: "recharts-reference-dot-dot",
            }),
          )),
    r
  );
});
function Wl() {
  return (
    (Wl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Wl.apply(this, arguments)
  );
}
function ea(e) {
  "@babel/helpers - typeof";
  return (
    (ea =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ea(e)
  );
}
function Zm(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Qm(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? Zm(Object(r), !0).forEach(function (n) {
          Jo(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : Zm(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function n3(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function a3(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, qg(n.key), n));
  }
}
function i3(e, t, r) {
  return (
    t && a3(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function s3(e, t, r) {
  return (
    (t = oo(t)),
    o3(
      e,
      Ug() ? Reflect.construct(t, r || [], oo(e).constructor) : t.apply(e, r),
    )
  );
}
function o3(e, t) {
  if (t && (ea(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return c3(e);
}
function c3(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Ug() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Ug = function () {
    return !!e;
  })();
}
function oo(e) {
  return (
    (oo = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    oo(e)
  );
}
function l3(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Gl(e, t));
}
function Gl(e, t) {
  return (
    (Gl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Gl(e, t)
  );
}
function Jo(e, t, r) {
  return (
    (t = qg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function qg(e) {
  var t = u3(e, "string");
  return ea(t) == "symbol" ? t : t + "";
}
function u3(e, t) {
  if (ea(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (ea(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var d3 = function (t, r, n, i, s) {
    var o = s.x1,
      c = s.x2,
      l = s.y1,
      u = s.y2,
      f = s.xAxis,
      d = s.yAxis;
    if (!f || !d) return null;
    var h = vd({ x: f.scale, y: d.scale }),
      m = {
        x: t ? h.x.apply(o, { position: "start" }) : h.x.rangeMin,
        y: n ? h.y.apply(l, { position: "start" }) : h.y.rangeMin,
      },
      v = {
        x: r ? h.x.apply(c, { position: "end" }) : h.x.rangeMax,
        y: i ? h.y.apply(u, { position: "end" }) : h.y.rangeMax,
      };
    return Wt(s, "discard") && (!h.isInRange(m) || !h.isInRange(v))
      ? null
      : Eg(m, v);
  },
  Zo = (function (e) {
    function t() {
      return (n3(this, t), s3(this, t, arguments));
    }
    return (
      l3(t, e),
      i3(t, [
        {
          key: "render",
          value: function () {
            var n = this.props,
              i = n.x1,
              s = n.x2,
              o = n.y1,
              c = n.y2,
              l = n.className,
              u = n.alwaysShow,
              f = n.clipPathId;
            Dt(
              u === void 0,
              'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.',
            );
            var d = Xe(i),
              h = Xe(s),
              m = Xe(o),
              v = Xe(c),
              p = this.props.shape;
            if (!d && !h && !m && !v && !p) return null;
            var x = d3(d, h, m, v, this.props);
            if (!x && !p) return null;
            var g = Wt(this.props, "hidden") ? "url(#".concat(f, ")") : void 0;
            return A.createElement(
              xe,
              { className: pe("recharts-reference-area", l) },
              t.renderRect(p, Qm(Qm({ clipPath: g }, ne(this.props, !0)), x)),
              Ze.renderCallByParent(this.props, x),
            );
          },
        },
      ])
    );
  })(A.Component);
Jo(Zo, "displayName", "ReferenceArea");
Jo(Zo, "defaultProps", {
  isFront: !1,
  ifOverflow: "discard",
  xAxisId: 0,
  yAxisId: 0,
  r: 10,
  fill: "#ccc",
  fillOpacity: 0.5,
  stroke: "none",
  strokeWidth: 1,
});
Jo(Zo, "renderRect", function (e, t) {
  var r;
  return (
    A.isValidElement(e)
      ? (r = A.cloneElement(e, t))
      : ce(e)
        ? (r = e(t))
        : (r = A.createElement(
            md,
            Wl({}, t, { className: "recharts-reference-area-rect" }),
          )),
    r
  );
});
function Wg(e, t, r) {
  if (t < 1) return [];
  if (t === 1 && r === void 0) return e;
  for (var n = [], i = 0; i < e.length; i += t) n.push(e[i]);
  return n;
}
function f3(e, t, r) {
  var n = { width: e.width + t.width, height: e.height + t.height };
  return sB(n, r);
}
function h3(e, t, r) {
  var n = r === "width",
    i = e.x,
    s = e.y,
    o = e.width,
    c = e.height;
  return t === 1
    ? { start: n ? i : s, end: n ? i + o : s + c }
    : { start: n ? i + o : s + c, end: n ? i : s };
}
function co(e, t, r, n, i) {
  if (e * t < e * n || e * t > e * i) return !1;
  var s = r();
  return e * (t - (e * s) / 2 - n) >= 0 && e * (t + (e * s) / 2 - i) <= 0;
}
function m3(e, t) {
  return Wg(e, t + 1);
}
function p3(e, t, r, n, i) {
  for (
    var s = (n || []).slice(),
      o = t.start,
      c = t.end,
      l = 0,
      u = 1,
      f = o,
      d = function () {
        var v = n?.[l];
        if (v === void 0) return { v: Wg(n, u) };
        var p = l,
          x,
          g = function () {
            return (x === void 0 && (x = r(v, p)), x);
          },
          b = v.coordinate,
          N = l === 0 || co(e, b, g, f, c);
        (N || ((l = 0), (f = o), (u += 1)),
          N && ((f = b + e * (g() / 2 + i)), (l += u)));
      },
      h;
    u <= s.length;

  )
    if (((h = d()), h)) return h.v;
  return [];
}
function _i(e) {
  "@babel/helpers - typeof";
  return (
    (_i =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    _i(e)
  );
}
function ep(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function it(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? ep(Object(r), !0).forEach(function (n) {
          v3(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : ep(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function v3(e, t, r) {
  return (
    (t = x3(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function x3(e) {
  var t = g3(e, "string");
  return _i(t) == "symbol" ? t : t + "";
}
function g3(e, t) {
  if (_i(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (_i(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function y3(e, t, r, n, i) {
  for (
    var s = (n || []).slice(),
      o = s.length,
      c = t.start,
      l = t.end,
      u = function (h) {
        var m = s[h],
          v,
          p = function () {
            return (v === void 0 && (v = r(m, h)), v);
          };
        if (h === o - 1) {
          var x = e * (m.coordinate + (e * p()) / 2 - l);
          s[h] = m = it(
            it({}, m),
            {},
            { tickCoord: x > 0 ? m.coordinate - x * e : m.coordinate },
          );
        } else s[h] = m = it(it({}, m), {}, { tickCoord: m.coordinate });
        var g = co(e, m.tickCoord, p, c, l);
        g &&
          ((l = m.tickCoord - e * (p() / 2 + i)),
          (s[h] = it(it({}, m), {}, { isShow: !0 })));
      },
      f = o - 1;
    f >= 0;
    f--
  )
    u(f);
  return s;
}
function b3(e, t, r, n, i, s) {
  var o = (n || []).slice(),
    c = o.length,
    l = t.start,
    u = t.end;
  if (s) {
    var f = n[c - 1],
      d = r(f, c - 1),
      h = e * (f.coordinate + (e * d) / 2 - u);
    o[c - 1] = f = it(
      it({}, f),
      {},
      { tickCoord: h > 0 ? f.coordinate - h * e : f.coordinate },
    );
    var m = co(
      e,
      f.tickCoord,
      function () {
        return d;
      },
      l,
      u,
    );
    m &&
      ((u = f.tickCoord - e * (d / 2 + i)),
      (o[c - 1] = it(it({}, f), {}, { isShow: !0 })));
  }
  for (
    var v = s ? c - 1 : c,
      p = function (b) {
        var N = o[b],
          _,
          y = function () {
            return (_ === void 0 && (_ = r(N, b)), _);
          };
        if (b === 0) {
          var j = e * (N.coordinate - (e * y()) / 2 - l);
          o[b] = N = it(
            it({}, N),
            {},
            { tickCoord: j < 0 ? N.coordinate - j * e : N.coordinate },
          );
        } else o[b] = N = it(it({}, N), {}, { tickCoord: N.coordinate });
        var w = co(e, N.tickCoord, y, l, u);
        w &&
          ((l = N.tickCoord + e * (y() / 2 + i)),
          (o[b] = it(it({}, N), {}, { isShow: !0 })));
      },
      x = 0;
    x < v;
    x++
  )
    p(x);
  return o;
}
function Nd(e, t, r) {
  var n = e.tick,
    i = e.ticks,
    s = e.viewBox,
    o = e.minTickGap,
    c = e.orientation,
    l = e.interval,
    u = e.tickFormatter,
    f = e.unit,
    d = e.angle;
  if (!i || !i.length || !n) return [];
  if (W(l) || Rr.isSsr) return m3(i, typeof l == "number" && W(l) ? l : 0);
  var h = [],
    m = c === "top" || c === "bottom" ? "width" : "height",
    v =
      f && m === "width"
        ? La(f, { fontSize: t, letterSpacing: r })
        : { width: 0, height: 0 },
    p = function (N, _) {
      var y = ce(u) ? u(N.value, _) : N.value;
      return m === "width"
        ? f3(La(y, { fontSize: t, letterSpacing: r }), v, d)
        : La(y, { fontSize: t, letterSpacing: r })[m];
    },
    x = i.length >= 2 ? ct(i[1].coordinate - i[0].coordinate) : 1,
    g = h3(s, x, m);
  return l === "equidistantPreserveStart"
    ? p3(x, g, p, i, o)
    : (l === "preserveStart" || l === "preserveStartEnd"
        ? (h = b3(x, g, p, i, o, l === "preserveStartEnd"))
        : (h = y3(x, g, p, i, o)),
      h.filter(function (b) {
        return b.isShow;
      }));
}
var j3 = ["viewBox"],
  w3 = ["viewBox"],
  N3 = ["ticks"];
function ta(e) {
  "@babel/helpers - typeof";
  return (
    (ta =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ta(e)
  );
}
function Pn() {
  return (
    (Pn = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Pn.apply(this, arguments)
  );
}
function tp(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Ge(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? tp(Object(r), !0).forEach(function (n) {
          _d(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : tp(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function Ec(e, t) {
  if (e == null) return {};
  var r = _3(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function _3(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function O3(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function rp(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Kg(n.key), n));
  }
}
function S3(e, t, r) {
  return (
    t && rp(e.prototype, t),
    r && rp(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function A3(e, t, r) {
  return (
    (t = lo(t)),
    P3(
      e,
      Gg() ? Reflect.construct(t, r || [], lo(e).constructor) : t.apply(e, r),
    )
  );
}
function P3(e, t) {
  if (t && (ta(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return C3(e);
}
function C3(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Gg() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Gg = function () {
    return !!e;
  })();
}
function lo(e) {
  return (
    (lo = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    lo(e)
  );
}
function E3(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Kl(e, t));
}
function Kl(e, t) {
  return (
    (Kl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Kl(e, t)
  );
}
function _d(e, t, r) {
  return (
    (t = Kg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Kg(e) {
  var t = T3(e, "string");
  return ta(t) == "symbol" ? t : t + "";
}
function T3(e, t) {
  if (ta(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (ta(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var wa = (function (e) {
  function t(r) {
    var n;
    return (
      O3(this, t),
      (n = A3(this, t, [r])),
      (n.state = { fontSize: "", letterSpacing: "" }),
      n
    );
  }
  return (
    E3(t, e),
    S3(
      t,
      [
        {
          key: "shouldComponentUpdate",
          value: function (n, i) {
            var s = n.viewBox,
              o = Ec(n, j3),
              c = this.props,
              l = c.viewBox,
              u = Ec(c, w3);
            return !kn(s, l) || !kn(o, u) || !kn(i, this.state);
          },
        },
        {
          key: "componentDidMount",
          value: function () {
            var n = this.layerReference;
            if (n) {
              var i = n.getElementsByClassName(
                "recharts-cartesian-axis-tick-value",
              )[0];
              i &&
                this.setState({
                  fontSize: window.getComputedStyle(i).fontSize,
                  letterSpacing: window.getComputedStyle(i).letterSpacing,
                });
            }
          },
        },
        {
          key: "getTickLineCoord",
          value: function (n) {
            var i = this.props,
              s = i.x,
              o = i.y,
              c = i.width,
              l = i.height,
              u = i.orientation,
              f = i.tickSize,
              d = i.mirror,
              h = i.tickMargin,
              m,
              v,
              p,
              x,
              g,
              b,
              N = d ? -1 : 1,
              _ = n.tickSize || f,
              y = W(n.tickCoord) ? n.tickCoord : n.coordinate;
            switch (u) {
              case "top":
                ((m = v = n.coordinate),
                  (x = o + +!d * l),
                  (p = x - N * _),
                  (b = p - N * h),
                  (g = y));
                break;
              case "left":
                ((p = x = n.coordinate),
                  (v = s + +!d * c),
                  (m = v - N * _),
                  (g = m - N * h),
                  (b = y));
                break;
              case "right":
                ((p = x = n.coordinate),
                  (v = s + +d * c),
                  (m = v + N * _),
                  (g = m + N * h),
                  (b = y));
                break;
              default:
                ((m = v = n.coordinate),
                  (x = o + +d * l),
                  (p = x + N * _),
                  (b = p + N * h),
                  (g = y));
                break;
            }
            return {
              line: { x1: m, y1: p, x2: v, y2: x },
              tick: { x: g, y: b },
            };
          },
        },
        {
          key: "getTickTextAnchor",
          value: function () {
            var n = this.props,
              i = n.orientation,
              s = n.mirror,
              o;
            switch (i) {
              case "left":
                o = s ? "start" : "end";
                break;
              case "right":
                o = s ? "end" : "start";
                break;
              default:
                o = "middle";
                break;
            }
            return o;
          },
        },
        {
          key: "getTickVerticalAnchor",
          value: function () {
            var n = this.props,
              i = n.orientation,
              s = n.mirror,
              o = "end";
            switch (i) {
              case "left":
              case "right":
                o = "middle";
                break;
              case "top":
                o = s ? "start" : "end";
                break;
              default:
                o = s ? "end" : "start";
                break;
            }
            return o;
          },
        },
        {
          key: "renderAxisLine",
          value: function () {
            var n = this.props,
              i = n.x,
              s = n.y,
              o = n.width,
              c = n.height,
              l = n.orientation,
              u = n.mirror,
              f = n.axisLine,
              d = Ge(
                Ge(Ge({}, ne(this.props, !1)), ne(f, !1)),
                {},
                { fill: "none" },
              );
            if (l === "top" || l === "bottom") {
              var h = +((l === "top" && !u) || (l === "bottom" && u));
              d = Ge(
                Ge({}, d),
                {},
                { x1: i, y1: s + h * c, x2: i + o, y2: s + h * c },
              );
            } else {
              var m = +((l === "left" && !u) || (l === "right" && u));
              d = Ge(
                Ge({}, d),
                {},
                { x1: i + m * o, y1: s, x2: i + m * o, y2: s + c },
              );
            }
            return A.createElement(
              "line",
              Pn({}, d, {
                className: pe(
                  "recharts-cartesian-axis-line",
                  bt(f, "className"),
                ),
              }),
            );
          },
        },
        {
          key: "renderTicks",
          value: function (n, i, s) {
            var o = this,
              c = this.props,
              l = c.tickLine,
              u = c.stroke,
              f = c.tick,
              d = c.tickFormatter,
              h = c.unit,
              m = Nd(Ge(Ge({}, this.props), {}, { ticks: n }), i, s),
              v = this.getTickTextAnchor(),
              p = this.getTickVerticalAnchor(),
              x = ne(this.props, !1),
              g = ne(f, !1),
              b = Ge(Ge({}, x), {}, { fill: "none" }, ne(l, !1)),
              N = m.map(function (_, y) {
                var j = o.getTickLineCoord(_),
                  w = j.line,
                  O = j.tick,
                  S = Ge(
                    Ge(
                      Ge(
                        Ge({ textAnchor: v, verticalAnchor: p }, x),
                        {},
                        { stroke: "none", fill: u },
                        g,
                      ),
                      O,
                    ),
                    {},
                    {
                      index: y,
                      payload: _,
                      visibleTicksCount: m.length,
                      tickFormatter: d,
                    },
                  );
                return A.createElement(
                  xe,
                  Pn(
                    {
                      className: "recharts-cartesian-axis-tick",
                      key: "tick-"
                        .concat(_.value, "-")
                        .concat(_.coordinate, "-")
                        .concat(_.tickCoord),
                    },
                    an(o.props, _, y),
                  ),
                  l &&
                    A.createElement(
                      "line",
                      Pn({}, b, w, {
                        className: pe(
                          "recharts-cartesian-axis-tick-line",
                          bt(l, "className"),
                        ),
                      }),
                    ),
                  f &&
                    t.renderTickItem(
                      f,
                      S,
                      ""
                        .concat(ce(d) ? d(_.value, y) : _.value)
                        .concat(h || ""),
                    ),
                );
              });
            return A.createElement(
              "g",
              { className: "recharts-cartesian-axis-ticks" },
              N,
            );
          },
        },
        {
          key: "render",
          value: function () {
            var n = this,
              i = this.props,
              s = i.axisLine,
              o = i.width,
              c = i.height,
              l = i.ticksGenerator,
              u = i.className,
              f = i.hide;
            if (f) return null;
            var d = this.props,
              h = d.ticks,
              m = Ec(d, N3),
              v = h;
            return (
              ce(l) && (v = h && h.length > 0 ? l(this.props) : l(m)),
              o <= 0 || c <= 0 || !v || !v.length
                ? null
                : A.createElement(
                    xe,
                    {
                      className: pe("recharts-cartesian-axis", u),
                      ref: function (x) {
                        n.layerReference = x;
                      },
                    },
                    s && this.renderAxisLine(),
                    this.renderTicks(
                      v,
                      this.state.fontSize,
                      this.state.letterSpacing,
                    ),
                    Ze.renderCallByParent(this.props),
                  )
            );
          },
        },
      ],
      [
        {
          key: "renderTickItem",
          value: function (n, i, s) {
            var o,
              c = pe(i.className, "recharts-cartesian-axis-tick-value");
            return (
              A.isValidElement(n)
                ? (o = A.cloneElement(n, Ge(Ge({}, i), {}, { className: c })))
                : ce(n)
                  ? (o = n(Ge(Ge({}, i), {}, { className: c })))
                  : (o = A.createElement(
                      sn,
                      Pn({}, i, {
                        className: "recharts-cartesian-axis-tick-value",
                      }),
                      s,
                    )),
              o
            );
          },
        },
      ],
    )
  );
})(P.Component);
_d(wa, "displayName", "CartesianAxis");
_d(wa, "defaultProps", {
  x: 0,
  y: 0,
  width: 0,
  height: 0,
  viewBox: { x: 0, y: 0, width: 0, height: 0 },
  orientation: "bottom",
  ticks: [],
  stroke: "#666",
  tickLine: !0,
  axisLine: !0,
  tick: !0,
  mirror: !1,
  minTickGap: 5,
  tickSize: 6,
  tickMargin: 2,
  interval: "preserveEnd",
});
var $3 = ["x1", "y1", "x2", "y2", "key"],
  k3 = ["offset"];
function un(e) {
  "@babel/helpers - typeof";
  return (
    (un =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    un(e)
  );
}
function np(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function ot(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? np(Object(r), !0).forEach(function (n) {
          M3(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : np(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function M3(e, t, r) {
  return (
    (t = I3(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function I3(e) {
  var t = D3(e, "string");
  return un(t) == "symbol" ? t : t + "";
}
function D3(e, t) {
  if (un(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (un(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function Zr() {
  return (
    (Zr = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Zr.apply(this, arguments)
  );
}
function ap(e, t) {
  if (e == null) return {};
  var r = R3(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function R3(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
var L3 = function (t) {
  var r = t.fill;
  if (!r || r === "none") return null;
  var n = t.fillOpacity,
    i = t.x,
    s = t.y,
    o = t.width,
    c = t.height,
    l = t.ry;
  return A.createElement("rect", {
    x: i,
    y: s,
    ry: l,
    width: o,
    height: c,
    stroke: "none",
    fill: r,
    fillOpacity: n,
    className: "recharts-cartesian-grid-bg",
  });
};
function Hg(e, t) {
  var r;
  if (A.isValidElement(e)) r = A.cloneElement(e, t);
  else if (ce(e)) r = e(t);
  else {
    var n = t.x1,
      i = t.y1,
      s = t.x2,
      o = t.y2,
      c = t.key,
      l = ap(t, $3),
      u = ne(l, !1);
    u.offset;
    var f = ap(u, k3);
    r = A.createElement(
      "line",
      Zr({}, f, { x1: n, y1: i, x2: s, y2: o, fill: "none", key: c }),
    );
  }
  return r;
}
function z3(e) {
  var t = e.x,
    r = e.width,
    n = e.horizontal,
    i = n === void 0 ? !0 : n,
    s = e.horizontalPoints;
  if (!i || !s || !s.length) return null;
  var o = s.map(function (c, l) {
    var u = ot(
      ot({}, e),
      {},
      { x1: t, y1: c, x2: t + r, y2: c, key: "line-".concat(l), index: l },
    );
    return Hg(i, u);
  });
  return A.createElement(
    "g",
    { className: "recharts-cartesian-grid-horizontal" },
    o,
  );
}
function B3(e) {
  var t = e.y,
    r = e.height,
    n = e.vertical,
    i = n === void 0 ? !0 : n,
    s = e.verticalPoints;
  if (!i || !s || !s.length) return null;
  var o = s.map(function (c, l) {
    var u = ot(
      ot({}, e),
      {},
      { x1: c, y1: t, x2: c, y2: t + r, key: "line-".concat(l), index: l },
    );
    return Hg(i, u);
  });
  return A.createElement(
    "g",
    { className: "recharts-cartesian-grid-vertical" },
    o,
  );
}
function F3(e) {
  var t = e.horizontalFill,
    r = e.fillOpacity,
    n = e.x,
    i = e.y,
    s = e.width,
    o = e.height,
    c = e.horizontalPoints,
    l = e.horizontal,
    u = l === void 0 ? !0 : l;
  if (!u || !t || !t.length) return null;
  var f = c
    .map(function (h) {
      return Math.round(h + i - i);
    })
    .sort(function (h, m) {
      return h - m;
    });
  i !== f[0] && f.unshift(0);
  var d = f.map(function (h, m) {
    var v = !f[m + 1],
      p = v ? i + o - h : f[m + 1] - h;
    if (p <= 0) return null;
    var x = m % t.length;
    return A.createElement("rect", {
      key: "react-".concat(m),
      y: h,
      x: n,
      height: p,
      width: s,
      stroke: "none",
      fill: t[x],
      fillOpacity: r,
      className: "recharts-cartesian-grid-bg",
    });
  });
  return A.createElement(
    "g",
    { className: "recharts-cartesian-gridstripes-horizontal" },
    d,
  );
}
function V3(e) {
  var t = e.vertical,
    r = t === void 0 ? !0 : t,
    n = e.verticalFill,
    i = e.fillOpacity,
    s = e.x,
    o = e.y,
    c = e.width,
    l = e.height,
    u = e.verticalPoints;
  if (!r || !n || !n.length) return null;
  var f = u
    .map(function (h) {
      return Math.round(h + s - s);
    })
    .sort(function (h, m) {
      return h - m;
    });
  s !== f[0] && f.unshift(0);
  var d = f.map(function (h, m) {
    var v = !f[m + 1],
      p = v ? s + c - h : f[m + 1] - h;
    if (p <= 0) return null;
    var x = m % n.length;
    return A.createElement("rect", {
      key: "react-".concat(m),
      x: h,
      y: o,
      width: p,
      height: l,
      stroke: "none",
      fill: n[x],
      fillOpacity: i,
      className: "recharts-cartesian-grid-bg",
    });
  });
  return A.createElement(
    "g",
    { className: "recharts-cartesian-gridstripes-vertical" },
    d,
  );
}
var U3 = function (t, r) {
    var n = t.xAxis,
      i = t.width,
      s = t.height,
      o = t.offset;
    return tg(
      Nd(
        ot(
          ot(ot({}, wa.defaultProps), n),
          {},
          { ticks: ir(n, !0), viewBox: { x: 0, y: 0, width: i, height: s } },
        ),
      ),
      o.left,
      o.left + o.width,
      r,
    );
  },
  q3 = function (t, r) {
    var n = t.yAxis,
      i = t.width,
      s = t.height,
      o = t.offset;
    return tg(
      Nd(
        ot(
          ot(ot({}, wa.defaultProps), n),
          {},
          { ticks: ir(n, !0), viewBox: { x: 0, y: 0, width: i, height: s } },
        ),
      ),
      o.top,
      o.top + o.height,
      r,
    );
  },
  wn = {
    horizontal: !0,
    vertical: !0,
    stroke: "#ccc",
    fill: "none",
    verticalFill: [],
    horizontalFill: [],
  };
function zi(e) {
  var t,
    r,
    n,
    i,
    s,
    o,
    c = yd(),
    l = bd(),
    u = TB(),
    f = ot(
      ot({}, e),
      {},
      {
        stroke: (t = e.stroke) !== null && t !== void 0 ? t : wn.stroke,
        fill: (r = e.fill) !== null && r !== void 0 ? r : wn.fill,
        horizontal:
          (n = e.horizontal) !== null && n !== void 0 ? n : wn.horizontal,
        horizontalFill:
          (i = e.horizontalFill) !== null && i !== void 0
            ? i
            : wn.horizontalFill,
        vertical: (s = e.vertical) !== null && s !== void 0 ? s : wn.vertical,
        verticalFill:
          (o = e.verticalFill) !== null && o !== void 0 ? o : wn.verticalFill,
        x: W(e.x) ? e.x : u.left,
        y: W(e.y) ? e.y : u.top,
        width: W(e.width) ? e.width : u.width,
        height: W(e.height) ? e.height : u.height,
      },
    ),
    d = f.x,
    h = f.y,
    m = f.width,
    v = f.height,
    p = f.syncWithTicks,
    x = f.horizontalValues,
    g = f.verticalValues,
    b = PB(),
    N = CB();
  if (
    !W(m) ||
    m <= 0 ||
    !W(v) ||
    v <= 0 ||
    !W(d) ||
    d !== +d ||
    !W(h) ||
    h !== +h
  )
    return null;
  var _ = f.verticalCoordinatesGenerator || U3,
    y = f.horizontalCoordinatesGenerator || q3,
    j = f.horizontalPoints,
    w = f.verticalPoints;
  if ((!j || !j.length) && ce(y)) {
    var O = x && x.length,
      S = y(
        {
          yAxis: N ? ot(ot({}, N), {}, { ticks: O ? x : N.ticks }) : void 0,
          width: c,
          height: l,
          offset: u,
        },
        O ? !0 : p,
      );
    (Dt(
      Array.isArray(S),
      "horizontalCoordinatesGenerator should return Array but instead it returned [".concat(
        un(S),
        "]",
      ),
    ),
      Array.isArray(S) && (j = S));
  }
  if ((!w || !w.length) && ce(_)) {
    var E = g && g.length,
      C = _(
        {
          xAxis: b ? ot(ot({}, b), {}, { ticks: E ? g : b.ticks }) : void 0,
          width: c,
          height: l,
          offset: u,
        },
        E ? !0 : p,
      );
    (Dt(
      Array.isArray(C),
      "verticalCoordinatesGenerator should return Array but instead it returned [".concat(
        un(C),
        "]",
      ),
    ),
      Array.isArray(C) && (w = C));
  }
  return A.createElement(
    "g",
    { className: "recharts-cartesian-grid" },
    A.createElement(L3, {
      fill: f.fill,
      fillOpacity: f.fillOpacity,
      x: f.x,
      y: f.y,
      width: f.width,
      height: f.height,
      ry: f.ry,
    }),
    A.createElement(
      z3,
      Zr({}, f, { offset: u, horizontalPoints: j, xAxis: b, yAxis: N }),
    ),
    A.createElement(
      B3,
      Zr({}, f, { offset: u, verticalPoints: w, xAxis: b, yAxis: N }),
    ),
    A.createElement(F3, Zr({}, f, { horizontalPoints: j })),
    A.createElement(V3, Zr({}, f, { verticalPoints: w })),
  );
}
zi.displayName = "CartesianGrid";
var W3 = ["type", "layout", "connectNulls", "ref"],
  G3 = ["key"];
function ra(e) {
  "@babel/helpers - typeof";
  return (
    (ra =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ra(e)
  );
}
function ip(e, t) {
  if (e == null) return {};
  var r = K3(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function K3(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function Ua() {
  return (
    (Ua = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Ua.apply(this, arguments)
  );
}
function sp(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function vt(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? sp(Object(r), !0).forEach(function (n) {
          kt(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : sp(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function Nn(e) {
  return J3(e) || Y3(e) || X3(e) || H3();
}
function H3() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function X3(e, t) {
  if (e) {
    if (typeof e == "string") return Hl(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return Hl(e, t);
  }
}
function Y3(e) {
  if (
    (typeof Symbol < "u" && e[Symbol.iterator] != null) ||
    e["@@iterator"] != null
  )
    return Array.from(e);
}
function J3(e) {
  if (Array.isArray(e)) return Hl(e);
}
function Hl(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function Z3(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function op(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, Yg(n.key), n));
  }
}
function Q3(e, t, r) {
  return (
    t && op(e.prototype, t),
    r && op(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function eF(e, t, r) {
  return (
    (t = uo(t)),
    tF(
      e,
      Xg() ? Reflect.construct(t, r || [], uo(e).constructor) : t.apply(e, r),
    )
  );
}
function tF(e, t) {
  if (t && (ra(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return rF(e);
}
function rF(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Xg() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Xg = function () {
    return !!e;
  })();
}
function uo(e) {
  return (
    (uo = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    uo(e)
  );
}
function nF(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Xl(e, t));
}
function Xl(e, t) {
  return (
    (Xl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Xl(e, t)
  );
}
function kt(e, t, r) {
  return (
    (t = Yg(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function Yg(e) {
  var t = aF(e, "string");
  return ra(t) == "symbol" ? t : t + "";
}
function aF(e, t) {
  if (ra(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (ra(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var na = (function (e) {
  function t() {
    var r;
    Z3(this, t);
    for (var n = arguments.length, i = new Array(n), s = 0; s < n; s++)
      i[s] = arguments[s];
    return (
      (r = eF(this, t, [].concat(i))),
      kt(r, "state", { isAnimationFinished: !0, totalLength: 0 }),
      kt(r, "generateSimpleStrokeDasharray", function (o, c) {
        return "".concat(c, "px ").concat(o - c, "px");
      }),
      kt(r, "getStrokeDasharray", function (o, c, l) {
        var u = l.reduce(function (g, b) {
          return g + b;
        });
        if (!u) return r.generateSimpleStrokeDasharray(c, o);
        for (
          var f = Math.floor(o / u), d = o % u, h = c - o, m = [], v = 0, p = 0;
          v < l.length;
          p += l[v], ++v
        )
          if (p + l[v] > d) {
            m = [].concat(Nn(l.slice(0, v)), [d - p]);
            break;
          }
        var x = m.length % 2 === 0 ? [0, h] : [h];
        return []
          .concat(Nn(t.repeat(l, f)), Nn(m), x)
          .map(function (g) {
            return "".concat(g, "px");
          })
          .join(", ");
      }),
      kt(r, "id", vn("recharts-line-")),
      kt(r, "pathRef", function (o) {
        r.mainCurve = o;
      }),
      kt(r, "handleAnimationEnd", function () {
        (r.setState({ isAnimationFinished: !0 }),
          r.props.onAnimationEnd && r.props.onAnimationEnd());
      }),
      kt(r, "handleAnimationStart", function () {
        (r.setState({ isAnimationFinished: !1 }),
          r.props.onAnimationStart && r.props.onAnimationStart());
      }),
      r
    );
  }
  return (
    nF(t, e),
    Q3(
      t,
      [
        {
          key: "componentDidMount",
          value: function () {
            if (this.props.isAnimationActive) {
              var n = this.getTotalLength();
              this.setState({ totalLength: n });
            }
          },
        },
        {
          key: "componentDidUpdate",
          value: function () {
            if (this.props.isAnimationActive) {
              var n = this.getTotalLength();
              n !== this.state.totalLength && this.setState({ totalLength: n });
            }
          },
        },
        {
          key: "getTotalLength",
          value: function () {
            var n = this.mainCurve;
            try {
              return (n && n.getTotalLength && n.getTotalLength()) || 0;
            } catch {
              return 0;
            }
          },
        },
        {
          key: "renderErrorBar",
          value: function (n, i) {
            if (this.props.isAnimationActive && !this.state.isAnimationFinished)
              return null;
            var s = this.props,
              o = s.points,
              c = s.xAxis,
              l = s.yAxis,
              u = s.layout,
              f = s.children,
              d = jt(f, Ri);
            if (!d) return null;
            var h = function (p, x) {
                return {
                  x: p.x,
                  y: p.y,
                  value: p.value,
                  errorVal: Be(p.payload, x),
                };
              },
              m = { clipPath: n ? "url(#clipPath-".concat(i, ")") : null };
            return A.createElement(
              xe,
              m,
              d.map(function (v) {
                return A.cloneElement(v, {
                  key: "bar-".concat(v.props.dataKey),
                  data: o,
                  xAxis: c,
                  yAxis: l,
                  layout: u,
                  dataPointFormatter: h,
                });
              }),
            );
          },
        },
        {
          key: "renderDots",
          value: function (n, i, s) {
            var o = this.props.isAnimationActive;
            if (o && !this.state.isAnimationFinished) return null;
            var c = this.props,
              l = c.dot,
              u = c.points,
              f = c.dataKey,
              d = ne(this.props, !1),
              h = ne(l, !0),
              m = u.map(function (p, x) {
                var g = vt(
                  vt(vt({ key: "dot-".concat(x), r: 3 }, d), h),
                  {},
                  {
                    index: x,
                    cx: p.x,
                    cy: p.y,
                    value: p.value,
                    dataKey: f,
                    payload: p.payload,
                    points: u,
                  },
                );
                return t.renderDotItem(l, g);
              }),
              v = {
                clipPath: n
                  ? "url(#clipPath-".concat(i ? "" : "dots-").concat(s, ")")
                  : null,
              };
            return A.createElement(
              xe,
              Ua({ className: "recharts-line-dots", key: "dots" }, v),
              m,
            );
          },
        },
        {
          key: "renderCurveStatically",
          value: function (n, i, s, o) {
            var c = this.props,
              l = c.type,
              u = c.layout,
              f = c.connectNulls;
            c.ref;
            var d = ip(c, W3),
              h = vt(
                vt(
                  vt({}, ne(d, !0)),
                  {},
                  {
                    fill: "none",
                    className: "recharts-line-curve",
                    clipPath: i ? "url(#clipPath-".concat(s, ")") : null,
                    points: n,
                  },
                  o,
                ),
                {},
                { type: l, layout: u, connectNulls: f },
              );
            return A.createElement(rn, Ua({}, h, { pathRef: this.pathRef }));
          },
        },
        {
          key: "renderCurveWithAnimation",
          value: function (n, i) {
            var s = this,
              o = this.props,
              c = o.points,
              l = o.strokeDasharray,
              u = o.isAnimationActive,
              f = o.animationBegin,
              d = o.animationDuration,
              h = o.animationEasing,
              m = o.animationId,
              v = o.animateNewValues,
              p = o.width,
              x = o.height,
              g = this.state,
              b = g.prevPoints,
              N = g.totalLength;
            return A.createElement(
              kr,
              {
                begin: f,
                duration: d,
                isActive: u,
                easing: h,
                from: { t: 0 },
                to: { t: 1 },
                key: "line-".concat(m),
                onAnimationEnd: this.handleAnimationEnd,
                onAnimationStart: this.handleAnimationStart,
              },
              function (_) {
                var y = _.t;
                if (b) {
                  var j = b.length / c.length,
                    w = c.map(function (T, $) {
                      var I = Math.floor($ * j);
                      if (b[I]) {
                        var k = b[I],
                          D = He(k.x, T.x),
                          V = He(k.y, T.y);
                        return vt(vt({}, T), {}, { x: D(y), y: V(y) });
                      }
                      if (v) {
                        var G = He(p * 2, T.x),
                          K = He(x / 2, T.y);
                        return vt(vt({}, T), {}, { x: G(y), y: K(y) });
                      }
                      return vt(vt({}, T), {}, { x: T.x, y: T.y });
                    });
                  return s.renderCurveStatically(w, n, i);
                }
                var O = He(0, N),
                  S = O(y),
                  E;
                if (l) {
                  var C = ""
                    .concat(l)
                    .split(/[,\s]+/gim)
                    .map(function (T) {
                      return parseFloat(T);
                    });
                  E = s.getStrokeDasharray(S, N, C);
                } else E = s.generateSimpleStrokeDasharray(N, S);
                return s.renderCurveStatically(c, n, i, { strokeDasharray: E });
              },
            );
          },
        },
        {
          key: "renderCurve",
          value: function (n, i) {
            var s = this.props,
              o = s.points,
              c = s.isAnimationActive,
              l = this.state,
              u = l.prevPoints,
              f = l.totalLength;
            return c && o && o.length && ((!u && f > 0) || !on(u, o))
              ? this.renderCurveWithAnimation(n, i)
              : this.renderCurveStatically(o, n, i);
          },
        },
        {
          key: "render",
          value: function () {
            var n,
              i = this.props,
              s = i.hide,
              o = i.dot,
              c = i.points,
              l = i.className,
              u = i.xAxis,
              f = i.yAxis,
              d = i.top,
              h = i.left,
              m = i.width,
              v = i.height,
              p = i.isAnimationActive,
              x = i.id;
            if (s || !c || !c.length) return null;
            var g = this.state.isAnimationFinished,
              b = c.length === 1,
              N = pe("recharts-line", l),
              _ = u && u.allowDataOverflow,
              y = f && f.allowDataOverflow,
              j = _ || y,
              w = fe(x) ? this.id : x,
              O =
                (n = ne(o, !1)) !== null && n !== void 0
                  ? n
                  : { r: 3, strokeWidth: 2 },
              S = O.r,
              E = S === void 0 ? 3 : S,
              C = O.strokeWidth,
              T = C === void 0 ? 2 : C,
              $ = Gp(o) ? o : {},
              I = $.clipDot,
              k = I === void 0 ? !0 : I,
              D = E * 2 + T;
            return A.createElement(
              xe,
              { className: N },
              _ || y
                ? A.createElement(
                    "defs",
                    null,
                    A.createElement(
                      "clipPath",
                      { id: "clipPath-".concat(w) },
                      A.createElement("rect", {
                        x: _ ? h : h - m / 2,
                        y: y ? d : d - v / 2,
                        width: _ ? m : m * 2,
                        height: y ? v : v * 2,
                      }),
                    ),
                    !k &&
                      A.createElement(
                        "clipPath",
                        { id: "clipPath-dots-".concat(w) },
                        A.createElement("rect", {
                          x: h - D / 2,
                          y: d - D / 2,
                          width: m + D,
                          height: v + D,
                        }),
                      ),
                  )
                : null,
              !b && this.renderCurve(j, w),
              this.renderErrorBar(j, w),
              (b || o) && this.renderDots(j, k, w),
              (!p || g) && qt.renderCallByParent(this.props, c),
            );
          },
        },
      ],
      [
        {
          key: "getDerivedStateFromProps",
          value: function (n, i) {
            return n.animationId !== i.prevAnimationId
              ? {
                  prevAnimationId: n.animationId,
                  curPoints: n.points,
                  prevPoints: i.curPoints,
                }
              : n.points !== i.curPoints
                ? { curPoints: n.points }
                : null;
          },
        },
        {
          key: "repeat",
          value: function (n, i) {
            for (
              var s = n.length % 2 !== 0 ? [].concat(Nn(n), [0]) : n,
                o = [],
                c = 0;
              c < i;
              ++c
            )
              o = [].concat(Nn(o), Nn(s));
            return o;
          },
        },
        {
          key: "renderDotItem",
          value: function (n, i) {
            var s;
            if (A.isValidElement(n)) s = A.cloneElement(n, i);
            else if (ce(n)) s = n(i);
            else {
              var o = i.key,
                c = ip(i, G3),
                l = pe(
                  "recharts-line-dot",
                  typeof n != "boolean" ? n.className : "",
                );
              s = A.createElement(Li, Ua({ key: o }, c, { className: l }));
            }
            return s;
          },
        },
      ],
    )
  );
})(P.PureComponent);
kt(na, "displayName", "Line");
kt(na, "defaultProps", {
  xAxisId: 0,
  yAxisId: 0,
  connectNulls: !1,
  activeDot: !0,
  dot: !0,
  legendType: "line",
  stroke: "#3182bd",
  strokeWidth: 1,
  fill: "#fff",
  points: [],
  isAnimationActive: !Rr.isSsr,
  animateNewValues: !0,
  animationBegin: 0,
  animationDuration: 1500,
  animationEasing: "ease",
  hide: !1,
  label: !1,
});
kt(na, "getComposedData", function (e) {
  var t = e.props,
    r = e.xAxis,
    n = e.yAxis,
    i = e.xAxisTicks,
    s = e.yAxisTicks,
    o = e.dataKey,
    c = e.bandSize,
    l = e.displayedData,
    u = e.offset,
    f = t.layout,
    d = l.map(function (h, m) {
      var v = Be(h, o);
      return f === "horizontal"
        ? {
            x: qs({ axis: r, ticks: i, bandSize: c, entry: h, index: m }),
            y: fe(v) ? null : n.scale(v),
            value: v,
            payload: h,
          }
        : {
            x: fe(v) ? null : r.scale(v),
            y: qs({ axis: n, ticks: s, bandSize: c, entry: h, index: m }),
            value: v,
            payload: h,
          };
    });
  return vt({ points: d, layout: f }, u);
});
var iF = ["layout", "type", "stroke", "connectNulls", "isRange", "ref"],
  sF = ["key"],
  Jg;
function aa(e) {
  "@babel/helpers - typeof";
  return (
    (aa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    aa(e)
  );
}
function Zg(e, t) {
  if (e == null) return {};
  var r = oF(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function oF(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function Qr() {
  return (
    (Qr = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Qr.apply(this, arguments)
  );
}
function cp(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function Sr(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? cp(Object(r), !0).forEach(function (n) {
          Vt(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : cp(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function cF(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function lp(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, ey(n.key), n));
  }
}
function lF(e, t, r) {
  return (
    t && lp(e.prototype, t),
    r && lp(e, r),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function uF(e, t, r) {
  return (
    (t = fo(t)),
    dF(
      e,
      Qg() ? Reflect.construct(t, r || [], fo(e).constructor) : t.apply(e, r),
    )
  );
}
function dF(e, t) {
  if (t && (aa(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return fF(e);
}
function fF(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function Qg() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (Qg = function () {
    return !!e;
  })();
}
function fo(e) {
  return (
    (fo = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    fo(e)
  );
}
function hF(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Yl(e, t));
}
function Yl(e, t) {
  return (
    (Yl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Yl(e, t)
  );
}
function Vt(e, t, r) {
  return (
    (t = ey(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function ey(e) {
  var t = mF(e, "string");
  return aa(t) == "symbol" ? t : t + "";
}
function mF(e, t) {
  if (aa(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (aa(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var xr = (function (e) {
  function t() {
    var r;
    cF(this, t);
    for (var n = arguments.length, i = new Array(n), s = 0; s < n; s++)
      i[s] = arguments[s];
    return (
      (r = uF(this, t, [].concat(i))),
      Vt(r, "state", { isAnimationFinished: !0 }),
      Vt(r, "id", vn("recharts-area-")),
      Vt(r, "handleAnimationEnd", function () {
        var o = r.props.onAnimationEnd;
        (r.setState({ isAnimationFinished: !0 }), ce(o) && o());
      }),
      Vt(r, "handleAnimationStart", function () {
        var o = r.props.onAnimationStart;
        (r.setState({ isAnimationFinished: !1 }), ce(o) && o());
      }),
      r
    );
  }
  return (
    hF(t, e),
    lF(
      t,
      [
        {
          key: "renderDots",
          value: function (n, i, s) {
            var o = this.props.isAnimationActive,
              c = this.state.isAnimationFinished;
            if (o && !c) return null;
            var l = this.props,
              u = l.dot,
              f = l.points,
              d = l.dataKey,
              h = ne(this.props, !1),
              m = ne(u, !0),
              v = f.map(function (x, g) {
                var b = Sr(
                  Sr(Sr({ key: "dot-".concat(g), r: 3 }, h), m),
                  {},
                  {
                    index: g,
                    cx: x.x,
                    cy: x.y,
                    dataKey: d,
                    value: x.value,
                    payload: x.payload,
                    points: f,
                  },
                );
                return t.renderDotItem(u, b);
              }),
              p = {
                clipPath: n
                  ? "url(#clipPath-".concat(i ? "" : "dots-").concat(s, ")")
                  : null,
              };
            return A.createElement(
              xe,
              Qr({ className: "recharts-area-dots" }, p),
              v,
            );
          },
        },
        {
          key: "renderHorizontalRect",
          value: function (n) {
            var i = this.props,
              s = i.baseLine,
              o = i.points,
              c = i.strokeWidth,
              l = o[0].x,
              u = o[o.length - 1].x,
              f = n * Math.abs(l - u),
              d = Cr(
                o.map(function (h) {
                  return h.y || 0;
                }),
              );
            return (
              W(s) && typeof s == "number"
                ? (d = Math.max(s, d))
                : s &&
                  Array.isArray(s) &&
                  s.length &&
                  (d = Math.max(
                    Cr(
                      s.map(function (h) {
                        return h.y || 0;
                      }),
                    ),
                    d,
                  )),
              W(d)
                ? A.createElement("rect", {
                    x: l < u ? l : l - f,
                    y: 0,
                    width: f,
                    height: Math.floor(
                      d + (c ? parseInt("".concat(c), 10) : 1),
                    ),
                  })
                : null
            );
          },
        },
        {
          key: "renderVerticalRect",
          value: function (n) {
            var i = this.props,
              s = i.baseLine,
              o = i.points,
              c = i.strokeWidth,
              l = o[0].y,
              u = o[o.length - 1].y,
              f = n * Math.abs(l - u),
              d = Cr(
                o.map(function (h) {
                  return h.x || 0;
                }),
              );
            return (
              W(s) && typeof s == "number"
                ? (d = Math.max(s, d))
                : s &&
                  Array.isArray(s) &&
                  s.length &&
                  (d = Math.max(
                    Cr(
                      s.map(function (h) {
                        return h.x || 0;
                      }),
                    ),
                    d,
                  )),
              W(d)
                ? A.createElement("rect", {
                    x: 0,
                    y: l < u ? l : l - f,
                    width: d + (c ? parseInt("".concat(c), 10) : 1),
                    height: Math.floor(f),
                  })
                : null
            );
          },
        },
        {
          key: "renderClipRect",
          value: function (n) {
            var i = this.props.layout;
            return i === "vertical"
              ? this.renderVerticalRect(n)
              : this.renderHorizontalRect(n);
          },
        },
        {
          key: "renderAreaStatically",
          value: function (n, i, s, o) {
            var c = this.props,
              l = c.layout,
              u = c.type,
              f = c.stroke,
              d = c.connectNulls,
              h = c.isRange;
            c.ref;
            var m = Zg(c, iF);
            return A.createElement(
              xe,
              { clipPath: s ? "url(#clipPath-".concat(o, ")") : null },
              A.createElement(
                rn,
                Qr({}, ne(m, !0), {
                  points: n,
                  connectNulls: d,
                  type: u,
                  baseLine: i,
                  layout: l,
                  stroke: "none",
                  className: "recharts-area-area",
                }),
              ),
              f !== "none" &&
                A.createElement(
                  rn,
                  Qr({}, ne(this.props, !1), {
                    className: "recharts-area-curve",
                    layout: l,
                    type: u,
                    connectNulls: d,
                    fill: "none",
                    points: n,
                  }),
                ),
              f !== "none" &&
                h &&
                A.createElement(
                  rn,
                  Qr({}, ne(this.props, !1), {
                    className: "recharts-area-curve",
                    layout: l,
                    type: u,
                    connectNulls: d,
                    fill: "none",
                    points: i,
                  }),
                ),
            );
          },
        },
        {
          key: "renderAreaWithAnimation",
          value: function (n, i) {
            var s = this,
              o = this.props,
              c = o.points,
              l = o.baseLine,
              u = o.isAnimationActive,
              f = o.animationBegin,
              d = o.animationDuration,
              h = o.animationEasing,
              m = o.animationId,
              v = this.state,
              p = v.prevPoints,
              x = v.prevBaseLine;
            return A.createElement(
              kr,
              {
                begin: f,
                duration: d,
                isActive: u,
                easing: h,
                from: { t: 0 },
                to: { t: 1 },
                key: "area-".concat(m),
                onAnimationEnd: this.handleAnimationEnd,
                onAnimationStart: this.handleAnimationStart,
              },
              function (g) {
                var b = g.t;
                if (p) {
                  var N = p.length / c.length,
                    _ = c.map(function (O, S) {
                      var E = Math.floor(S * N);
                      if (p[E]) {
                        var C = p[E],
                          T = He(C.x, O.x),
                          $ = He(C.y, O.y);
                        return Sr(Sr({}, O), {}, { x: T(b), y: $(b) });
                      }
                      return O;
                    }),
                    y;
                  if (W(l) && typeof l == "number") {
                    var j = He(x, l);
                    y = j(b);
                  } else if (fe(l) || pa(l)) {
                    var w = He(x, 0);
                    y = w(b);
                  } else
                    y = l.map(function (O, S) {
                      var E = Math.floor(S * N);
                      if (x[E]) {
                        var C = x[E],
                          T = He(C.x, O.x),
                          $ = He(C.y, O.y);
                        return Sr(Sr({}, O), {}, { x: T(b), y: $(b) });
                      }
                      return O;
                    });
                  return s.renderAreaStatically(_, y, n, i);
                }
                return A.createElement(
                  xe,
                  null,
                  A.createElement(
                    "defs",
                    null,
                    A.createElement(
                      "clipPath",
                      { id: "animationClipPath-".concat(i) },
                      s.renderClipRect(b),
                    ),
                  ),
                  A.createElement(
                    xe,
                    { clipPath: "url(#animationClipPath-".concat(i, ")") },
                    s.renderAreaStatically(c, l, n, i),
                  ),
                );
              },
            );
          },
        },
        {
          key: "renderArea",
          value: function (n, i) {
            var s = this.props,
              o = s.points,
              c = s.baseLine,
              l = s.isAnimationActive,
              u = this.state,
              f = u.prevPoints,
              d = u.prevBaseLine,
              h = u.totalLength;
            return l &&
              o &&
              o.length &&
              ((!f && h > 0) || !on(f, o) || !on(d, c))
              ? this.renderAreaWithAnimation(n, i)
              : this.renderAreaStatically(o, c, n, i);
          },
        },
        {
          key: "render",
          value: function () {
            var n,
              i = this.props,
              s = i.hide,
              o = i.dot,
              c = i.points,
              l = i.className,
              u = i.top,
              f = i.left,
              d = i.xAxis,
              h = i.yAxis,
              m = i.width,
              v = i.height,
              p = i.isAnimationActive,
              x = i.id;
            if (s || !c || !c.length) return null;
            var g = this.state.isAnimationFinished,
              b = c.length === 1,
              N = pe("recharts-area", l),
              _ = d && d.allowDataOverflow,
              y = h && h.allowDataOverflow,
              j = _ || y,
              w = fe(x) ? this.id : x,
              O =
                (n = ne(o, !1)) !== null && n !== void 0
                  ? n
                  : { r: 3, strokeWidth: 2 },
              S = O.r,
              E = S === void 0 ? 3 : S,
              C = O.strokeWidth,
              T = C === void 0 ? 2 : C,
              $ = Gp(o) ? o : {},
              I = $.clipDot,
              k = I === void 0 ? !0 : I,
              D = E * 2 + T;
            return A.createElement(
              xe,
              { className: N },
              _ || y
                ? A.createElement(
                    "defs",
                    null,
                    A.createElement(
                      "clipPath",
                      { id: "clipPath-".concat(w) },
                      A.createElement("rect", {
                        x: _ ? f : f - m / 2,
                        y: y ? u : u - v / 2,
                        width: _ ? m : m * 2,
                        height: y ? v : v * 2,
                      }),
                    ),
                    !k &&
                      A.createElement(
                        "clipPath",
                        { id: "clipPath-dots-".concat(w) },
                        A.createElement("rect", {
                          x: f - D / 2,
                          y: u - D / 2,
                          width: m + D,
                          height: v + D,
                        }),
                      ),
                  )
                : null,
              b ? null : this.renderArea(j, w),
              (o || b) && this.renderDots(j, k, w),
              (!p || g) && qt.renderCallByParent(this.props, c),
            );
          },
        },
      ],
      [
        {
          key: "getDerivedStateFromProps",
          value: function (n, i) {
            return n.animationId !== i.prevAnimationId
              ? {
                  prevAnimationId: n.animationId,
                  curPoints: n.points,
                  curBaseLine: n.baseLine,
                  prevPoints: i.curPoints,
                  prevBaseLine: i.curBaseLine,
                }
              : n.points !== i.curPoints || n.baseLine !== i.curBaseLine
                ? { curPoints: n.points, curBaseLine: n.baseLine }
                : null;
          },
        },
      ],
    )
  );
})(P.PureComponent);
Jg = xr;
Vt(xr, "displayName", "Area");
Vt(xr, "defaultProps", {
  stroke: "#3182bd",
  fill: "#3182bd",
  fillOpacity: 0.6,
  xAxisId: 0,
  yAxisId: 0,
  legendType: "line",
  connectNulls: !1,
  points: [],
  dot: !1,
  activeDot: !0,
  hide: !1,
  isAnimationActive: !Rr.isSsr,
  animationBegin: 0,
  animationDuration: 1500,
  animationEasing: "ease",
});
Vt(xr, "getBaseValue", function (e, t, r, n) {
  var i = e.layout,
    s = e.baseValue,
    o = t.props.baseValue,
    c = o ?? s;
  if (W(c) && typeof c == "number") return c;
  var l = i === "horizontal" ? n : r,
    u = l.scale.domain();
  if (l.type === "number") {
    var f = Math.max(u[0], u[1]),
      d = Math.min(u[0], u[1]);
    return c === "dataMin"
      ? d
      : c === "dataMax" || f < 0
        ? f
        : Math.max(Math.min(u[0], u[1]), 0);
  }
  return c === "dataMin" ? u[0] : c === "dataMax" ? u[1] : u[0];
});
Vt(xr, "getComposedData", function (e) {
  var t = e.props,
    r = e.item,
    n = e.xAxis,
    i = e.yAxis,
    s = e.xAxisTicks,
    o = e.yAxisTicks,
    c = e.bandSize,
    l = e.dataKey,
    u = e.stackedData,
    f = e.dataStartIndex,
    d = e.displayedData,
    h = e.offset,
    m = t.layout,
    v = u && u.length,
    p = Jg.getBaseValue(t, r, n, i),
    x = m === "horizontal",
    g = !1,
    b = d.map(function (_, y) {
      var j;
      v
        ? (j = u[f + y])
        : ((j = Be(_, l)), Array.isArray(j) ? (g = !0) : (j = [p, j]));
      var w = j[1] == null || (v && Be(_, l) == null);
      return x
        ? {
            x: qs({ axis: n, ticks: s, bandSize: c, entry: _, index: y }),
            y: w ? null : i.scale(j[1]),
            value: j,
            payload: _,
          }
        : {
            x: w ? null : n.scale(j[1]),
            y: qs({ axis: i, ticks: o, bandSize: c, entry: _, index: y }),
            value: j,
            payload: _,
          };
    }),
    N;
  return (
    v || g
      ? (N = b.map(function (_) {
          var y = Array.isArray(_.value) ? _.value[0] : null;
          return x
            ? { x: _.x, y: y != null && _.y != null ? i.scale(y) : null }
            : { x: y != null ? n.scale(y) : null, y: _.y };
        }))
      : (N = x ? i.scale(p) : n.scale(p)),
    Sr({ points: b, baseLine: N, layout: m, isRange: g }, h)
  );
});
Vt(xr, "renderDotItem", function (e, t) {
  var r;
  if (A.isValidElement(e)) r = A.cloneElement(e, t);
  else if (ce(e)) r = e(t);
  else {
    var n = pe("recharts-area-dot", typeof e != "boolean" ? e.className : ""),
      i = t.key,
      s = Zg(t, sF);
    r = A.createElement(Li, Qr({}, s, { key: i, className: n }));
  }
  return r;
});
function ia(e) {
  "@babel/helpers - typeof";
  return (
    (ia =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    ia(e)
  );
}
function pF(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function vF(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, ny(n.key), n));
  }
}
function xF(e, t, r) {
  return (
    t && vF(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function gF(e, t, r) {
  return (
    (t = ho(t)),
    yF(
      e,
      ty() ? Reflect.construct(t, r || [], ho(e).constructor) : t.apply(e, r),
    )
  );
}
function yF(e, t) {
  if (t && (ia(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return bF(e);
}
function bF(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function ty() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (ty = function () {
    return !!e;
  })();
}
function ho(e) {
  return (
    (ho = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    ho(e)
  );
}
function jF(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Jl(e, t));
}
function Jl(e, t) {
  return (
    (Jl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Jl(e, t)
  );
}
function ry(e, t, r) {
  return (
    (t = ny(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function ny(e) {
  var t = wF(e, "string");
  return ia(t) == "symbol" ? t : t + "";
}
function wF(e, t) {
  if (ia(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (ia(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
function Zl() {
  return (
    (Zl = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Zl.apply(this, arguments)
  );
}
function NF(e) {
  var t = e.xAxisId,
    r = yd(),
    n = bd(),
    i = Rg(t);
  return i == null
    ? null
    : P.createElement(
        wa,
        Zl({}, i, {
          className: pe(
            "recharts-".concat(i.axisType, " ").concat(i.axisType),
            i.className,
          ),
          viewBox: { x: 0, y: 0, width: r, height: n },
          ticksGenerator: function (o) {
            return ir(o, !0);
          },
        }),
      );
}
var _r = (function (e) {
  function t() {
    return (pF(this, t), gF(this, t, arguments));
  }
  return (
    jF(t, e),
    xF(t, [
      {
        key: "render",
        value: function () {
          return P.createElement(NF, this.props);
        },
      },
    ])
  );
})(P.Component);
ry(_r, "displayName", "XAxis");
ry(_r, "defaultProps", {
  allowDecimals: !0,
  hide: !1,
  orientation: "bottom",
  width: 0,
  height: 30,
  mirror: !1,
  xAxisId: 0,
  tickCount: 5,
  type: "category",
  padding: { left: 0, right: 0 },
  allowDataOverflow: !1,
  scale: "auto",
  reversed: !1,
  allowDuplicatedCategory: !0,
});
function sa(e) {
  "@babel/helpers - typeof";
  return (
    (sa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    sa(e)
  );
}
function _F(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function OF(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, sy(n.key), n));
  }
}
function SF(e, t, r) {
  return (
    t && OF(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function AF(e, t, r) {
  return (
    (t = mo(t)),
    PF(
      e,
      ay() ? Reflect.construct(t, r || [], mo(e).constructor) : t.apply(e, r),
    )
  );
}
function PF(e, t) {
  if (t && (sa(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return CF(e);
}
function CF(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function ay() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (ay = function () {
    return !!e;
  })();
}
function mo(e) {
  return (
    (mo = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    mo(e)
  );
}
function EF(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && Ql(e, t));
}
function Ql(e, t) {
  return (
    (Ql = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    Ql(e, t)
  );
}
function iy(e, t, r) {
  return (
    (t = sy(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function sy(e) {
  var t = TF(e, "string");
  return sa(t) == "symbol" ? t : t + "";
}
function TF(e, t) {
  if (sa(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (sa(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
function eu() {
  return (
    (eu = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    eu.apply(this, arguments)
  );
}
var $F = function (t) {
    var r = t.yAxisId,
      n = yd(),
      i = bd(),
      s = Lg(r);
    return s == null
      ? null
      : P.createElement(
          wa,
          eu({}, s, {
            className: pe(
              "recharts-".concat(s.axisType, " ").concat(s.axisType),
              s.className,
            ),
            viewBox: { x: 0, y: 0, width: n, height: i },
            ticksGenerator: function (c) {
              return ir(c, !0);
            },
          }),
        );
  },
  Jt = (function (e) {
    function t() {
      return (_F(this, t), AF(this, t, arguments));
    }
    return (
      EF(t, e),
      SF(t, [
        {
          key: "render",
          value: function () {
            return P.createElement($F, this.props);
          },
        },
      ])
    );
  })(P.Component);
iy(Jt, "displayName", "YAxis");
iy(Jt, "defaultProps", {
  allowDuplicatedCategory: !0,
  allowDecimals: !0,
  hide: !1,
  orientation: "left",
  width: 60,
  height: 0,
  mirror: !1,
  yAxisId: 0,
  tickCount: 5,
  type: "number",
  padding: { top: 0, bottom: 0 },
  allowDataOverflow: !1,
  scale: "auto",
  reversed: !1,
});
function up(e) {
  return DF(e) || IF(e) || MF(e) || kF();
}
function kF() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function MF(e, t) {
  if (e) {
    if (typeof e == "string") return tu(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return tu(e, t);
  }
}
function IF(e) {
  if (
    (typeof Symbol < "u" && e[Symbol.iterator] != null) ||
    e["@@iterator"] != null
  )
    return Array.from(e);
}
function DF(e) {
  if (Array.isArray(e)) return tu(e);
}
function tu(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
var ru = function (t, r, n, i, s) {
    var o = jt(t, wd),
      c = jt(t, Yo),
      l = [].concat(up(o), up(c)),
      u = jt(t, Zo),
      f = "".concat(i, "Id"),
      d = i[0],
      h = r;
    if (
      (l.length &&
        (h = l.reduce(function (p, x) {
          if (
            x.props[f] === n &&
            Wt(x.props, "extendDomain") &&
            W(x.props[d])
          ) {
            var g = x.props[d];
            return [Math.min(p[0], g), Math.max(p[1], g)];
          }
          return p;
        }, h)),
      u.length)
    ) {
      var m = "".concat(d, "1"),
        v = "".concat(d, "2");
      h = u.reduce(function (p, x) {
        if (
          x.props[f] === n &&
          Wt(x.props, "extendDomain") &&
          W(x.props[m]) &&
          W(x.props[v])
        ) {
          var g = x.props[m],
            b = x.props[v];
          return [Math.min(p[0], g, b), Math.max(p[1], g, b)];
        }
        return p;
      }, h);
    }
    return (
      s &&
        s.length &&
        (h = s.reduce(function (p, x) {
          return W(x) ? [Math.min(p[0], x), Math.max(p[1], x)] : p;
        }, h)),
      h
    );
  },
  oy = { exports: {} };
(function (e) {
  var t = Object.prototype.hasOwnProperty,
    r = "~";
  function n() {}
  Object.create &&
    ((n.prototype = Object.create(null)), new n().__proto__ || (r = !1));
  function i(l, u, f) {
    ((this.fn = l), (this.context = u), (this.once = f || !1));
  }
  function s(l, u, f, d, h) {
    if (typeof f != "function")
      throw new TypeError("The listener must be a function");
    var m = new i(f, d || l, h),
      v = r ? r + u : u;
    return (
      l._events[v]
        ? l._events[v].fn
          ? (l._events[v] = [l._events[v], m])
          : l._events[v].push(m)
        : ((l._events[v] = m), l._eventsCount++),
      l
    );
  }
  function o(l, u) {
    --l._eventsCount === 0 ? (l._events = new n()) : delete l._events[u];
  }
  function c() {
    ((this._events = new n()), (this._eventsCount = 0));
  }
  ((c.prototype.eventNames = function () {
    var u = [],
      f,
      d;
    if (this._eventsCount === 0) return u;
    for (d in (f = this._events)) t.call(f, d) && u.push(r ? d.slice(1) : d);
    return Object.getOwnPropertySymbols
      ? u.concat(Object.getOwnPropertySymbols(f))
      : u;
  }),
    (c.prototype.listeners = function (u) {
      var f = r ? r + u : u,
        d = this._events[f];
      if (!d) return [];
      if (d.fn) return [d.fn];
      for (var h = 0, m = d.length, v = new Array(m); h < m; h++)
        v[h] = d[h].fn;
      return v;
    }),
    (c.prototype.listenerCount = function (u) {
      var f = r ? r + u : u,
        d = this._events[f];
      return d ? (d.fn ? 1 : d.length) : 0;
    }),
    (c.prototype.emit = function (u, f, d, h, m, v) {
      var p = r ? r + u : u;
      if (!this._events[p]) return !1;
      var x = this._events[p],
        g = arguments.length,
        b,
        N;
      if (x.fn) {
        switch ((x.once && this.removeListener(u, x.fn, void 0, !0), g)) {
          case 1:
            return (x.fn.call(x.context), !0);
          case 2:
            return (x.fn.call(x.context, f), !0);
          case 3:
            return (x.fn.call(x.context, f, d), !0);
          case 4:
            return (x.fn.call(x.context, f, d, h), !0);
          case 5:
            return (x.fn.call(x.context, f, d, h, m), !0);
          case 6:
            return (x.fn.call(x.context, f, d, h, m, v), !0);
        }
        for (N = 1, b = new Array(g - 1); N < g; N++) b[N - 1] = arguments[N];
        x.fn.apply(x.context, b);
      } else {
        var _ = x.length,
          y;
        for (N = 0; N < _; N++)
          switch (
            (x[N].once && this.removeListener(u, x[N].fn, void 0, !0), g)
          ) {
            case 1:
              x[N].fn.call(x[N].context);
              break;
            case 2:
              x[N].fn.call(x[N].context, f);
              break;
            case 3:
              x[N].fn.call(x[N].context, f, d);
              break;
            case 4:
              x[N].fn.call(x[N].context, f, d, h);
              break;
            default:
              if (!b)
                for (y = 1, b = new Array(g - 1); y < g; y++)
                  b[y - 1] = arguments[y];
              x[N].fn.apply(x[N].context, b);
          }
      }
      return !0;
    }),
    (c.prototype.on = function (u, f, d) {
      return s(this, u, f, d, !1);
    }),
    (c.prototype.once = function (u, f, d) {
      return s(this, u, f, d, !0);
    }),
    (c.prototype.removeListener = function (u, f, d, h) {
      var m = r ? r + u : u;
      if (!this._events[m]) return this;
      if (!f) return (o(this, m), this);
      var v = this._events[m];
      if (v.fn)
        v.fn === f && (!h || v.once) && (!d || v.context === d) && o(this, m);
      else {
        for (var p = 0, x = [], g = v.length; p < g; p++)
          (v[p].fn !== f || (h && !v[p].once) || (d && v[p].context !== d)) &&
            x.push(v[p]);
        x.length ? (this._events[m] = x.length === 1 ? x[0] : x) : o(this, m);
      }
      return this;
    }),
    (c.prototype.removeAllListeners = function (u) {
      var f;
      return (
        u
          ? ((f = r ? r + u : u), this._events[f] && o(this, f))
          : ((this._events = new n()), (this._eventsCount = 0)),
        this
      );
    }),
    (c.prototype.off = c.prototype.removeListener),
    (c.prototype.addListener = c.prototype.on),
    (c.prefixed = r),
    (c.EventEmitter = c),
    (e.exports = c));
})(oy);
var RF = oy.exports;
const LF = Oe(RF);
var Tc = new LF(),
  $c = "recharts.syncMouseEvents";
function Oi(e) {
  "@babel/helpers - typeof";
  return (
    (Oi =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Oi(e)
  );
}
function zF(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function BF(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, cy(n.key), n));
  }
}
function FF(e, t, r) {
  return (
    t && BF(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function kc(e, t, r) {
  return (
    (t = cy(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function cy(e) {
  var t = VF(e, "string");
  return Oi(t) == "symbol" ? t : t + "";
}
function VF(e, t) {
  if (Oi(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Oi(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e);
}
var UF = (function () {
  function e() {
    (zF(this, e),
      kc(this, "activeIndex", 0),
      kc(this, "coordinateList", []),
      kc(this, "layout", "horizontal"));
  }
  return FF(e, [
    {
      key: "setDetails",
      value: function (r) {
        var n,
          i = r.coordinateList,
          s = i === void 0 ? null : i,
          o = r.container,
          c = o === void 0 ? null : o,
          l = r.layout,
          u = l === void 0 ? null : l,
          f = r.offset,
          d = f === void 0 ? null : f,
          h = r.mouseHandlerCallback,
          m = h === void 0 ? null : h;
        ((this.coordinateList =
          (n = s ?? this.coordinateList) !== null && n !== void 0 ? n : []),
          (this.container = c ?? this.container),
          (this.layout = u ?? this.layout),
          (this.offset = d ?? this.offset),
          (this.mouseHandlerCallback = m ?? this.mouseHandlerCallback),
          (this.activeIndex = Math.min(
            Math.max(this.activeIndex, 0),
            this.coordinateList.length - 1,
          )));
      },
    },
    {
      key: "focus",
      value: function () {
        this.spoofMouse();
      },
    },
    {
      key: "keyboardEvent",
      value: function (r) {
        if (this.coordinateList.length !== 0)
          switch (r.key) {
            case "ArrowRight": {
              if (this.layout !== "horizontal") return;
              ((this.activeIndex = Math.min(
                this.activeIndex + 1,
                this.coordinateList.length - 1,
              )),
                this.spoofMouse());
              break;
            }
            case "ArrowLeft": {
              if (this.layout !== "horizontal") return;
              ((this.activeIndex = Math.max(this.activeIndex - 1, 0)),
                this.spoofMouse());
              break;
            }
          }
      },
    },
    {
      key: "setIndex",
      value: function (r) {
        this.activeIndex = r;
      },
    },
    {
      key: "spoofMouse",
      value: function () {
        var r, n;
        if (this.layout === "horizontal" && this.coordinateList.length !== 0) {
          var i = this.container.getBoundingClientRect(),
            s = i.x,
            o = i.y,
            c = i.height,
            l = this.coordinateList[this.activeIndex].coordinate,
            u =
              ((r = window) === null || r === void 0 ? void 0 : r.scrollX) || 0,
            f =
              ((n = window) === null || n === void 0 ? void 0 : n.scrollY) || 0,
            d = s + l + u,
            h = o + this.offset.top + c / 2 + f;
          this.mouseHandlerCallback({ pageX: d, pageY: h });
        }
      },
    },
  ]);
})();
function qF(e, t, r) {
  if (r === "number" && t === !0 && Array.isArray(e)) {
    var n = e?.[0],
      i = e?.[1];
    if (n && i && W(n) && W(i)) return !0;
  }
  return !1;
}
function WF(e, t, r, n) {
  var i = n / 2;
  return {
    stroke: "none",
    fill: "#ccc",
    x: e === "horizontal" ? t.x - i : r.left + 0.5,
    y: e === "horizontal" ? r.top + 0.5 : t.y - i,
    width: e === "horizontal" ? n : r.width - 1,
    height: e === "horizontal" ? r.height - 1 : n,
  };
}
function ly(e) {
  var t = e.cx,
    r = e.cy,
    n = e.radius,
    i = e.startAngle,
    s = e.endAngle,
    o = Ce(t, r, n, i),
    c = Ce(t, r, n, s);
  return {
    points: [o, c],
    cx: t,
    cy: r,
    radius: n,
    startAngle: i,
    endAngle: s,
  };
}
function GF(e, t, r) {
  var n, i, s, o;
  if (e === "horizontal")
    ((n = t.x), (s = n), (i = r.top), (o = r.top + r.height));
  else if (e === "vertical")
    ((i = t.y), (o = i), (n = r.left), (s = r.left + r.width));
  else if (t.cx != null && t.cy != null)
    if (e === "centric") {
      var c = t.cx,
        l = t.cy,
        u = t.innerRadius,
        f = t.outerRadius,
        d = t.angle,
        h = Ce(c, l, u, d),
        m = Ce(c, l, f, d);
      ((n = h.x), (i = h.y), (s = m.x), (o = m.y));
    } else return ly(t);
  return [
    { x: n, y: i },
    { x: s, y: o },
  ];
}
function Si(e) {
  "@babel/helpers - typeof";
  return (
    (Si =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    Si(e)
  );
}
function dp(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function ts(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? dp(Object(r), !0).forEach(function (n) {
          KF(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : dp(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function KF(e, t, r) {
  return (
    (t = HF(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function HF(e) {
  var t = XF(e, "string");
  return Si(t) == "symbol" ? t : t + "";
}
function XF(e, t) {
  if (Si(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (Si(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
function YF(e) {
  var t,
    r,
    n = e.element,
    i = e.tooltipEventType,
    s = e.isActive,
    o = e.activeCoordinate,
    c = e.activePayload,
    l = e.offset,
    u = e.activeTooltipIndex,
    f = e.tooltipAxisBandSize,
    d = e.layout,
    h = e.chartName,
    m =
      (t = n.props.cursor) !== null && t !== void 0
        ? t
        : (r = n.type.defaultProps) === null || r === void 0
          ? void 0
          : r.cursor;
  if (!n || !m || !s || !o || (h !== "ScatterChart" && i !== "axis"))
    return null;
  var v,
    p = rn;
  if (h === "ScatterChart") ((v = o), (p = aL));
  else if (h === "BarChart") ((v = WF(d, o, l, f)), (p = md));
  else if (d === "radial") {
    var x = ly(o),
      g = x.cx,
      b = x.cy,
      N = x.radius,
      _ = x.startAngle,
      y = x.endAngle;
    ((v = {
      cx: g,
      cy: b,
      startAngle: _,
      endAngle: y,
      innerRadius: N,
      outerRadius: N,
    }),
      (p = fg));
  } else ((v = { points: GF(d, o, l) }), (p = rn));
  var j = ts(
    ts(ts(ts({ stroke: "#ccc", pointerEvents: "none" }, l), v), ne(m, !1)),
    {},
    {
      payload: c,
      payloadIndex: u,
      className: pe("recharts-tooltip-cursor", m.className),
    },
  );
  return P.isValidElement(m) ? P.cloneElement(m, j) : P.createElement(p, j);
}
var JF = ["item"],
  ZF = [
    "children",
    "className",
    "width",
    "height",
    "style",
    "compact",
    "title",
    "desc",
  ];
function oa(e) {
  "@babel/helpers - typeof";
  return (
    (oa =
      typeof Symbol == "function" && typeof Symbol.iterator == "symbol"
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              typeof Symbol == "function" &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? "symbol"
              : typeof t;
          }),
    oa(e)
  );
}
function Cn() {
  return (
    (Cn = Object.assign
      ? Object.assign.bind()
      : function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var r = arguments[t];
            for (var n in r)
              Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
    Cn.apply(this, arguments)
  );
}
function fp(e, t) {
  return t5(e) || e5(e, t) || dy(e, t) || QF();
}
function QF() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function e5(e, t) {
  var r =
    e == null
      ? null
      : (typeof Symbol < "u" && e[Symbol.iterator]) || e["@@iterator"];
  if (r != null) {
    var n,
      i,
      s,
      o,
      c = [],
      l = !0,
      u = !1;
    try {
      if (((s = (r = r.call(e)).next), t !== 0))
        for (
          ;
          !(l = (n = s.call(r)).done) && (c.push(n.value), c.length !== t);
          l = !0
        );
    } catch (f) {
      ((u = !0), (i = f));
    } finally {
      try {
        if (!l && r.return != null && ((o = r.return()), Object(o) !== o))
          return;
      } finally {
        if (u) throw i;
      }
    }
    return c;
  }
}
function t5(e) {
  if (Array.isArray(e)) return e;
}
function hp(e, t) {
  if (e == null) return {};
  var r = r5(e, t),
    n,
    i;
  if (Object.getOwnPropertySymbols) {
    var s = Object.getOwnPropertySymbols(e);
    for (i = 0; i < s.length; i++)
      ((n = s[i]),
        !(t.indexOf(n) >= 0) &&
          Object.prototype.propertyIsEnumerable.call(e, n) &&
          (r[n] = e[n]));
  }
  return r;
}
function r5(e, t) {
  if (e == null) return {};
  var r = {};
  for (var n in e)
    if (Object.prototype.hasOwnProperty.call(e, n)) {
      if (t.indexOf(n) >= 0) continue;
      r[n] = e[n];
    }
  return r;
}
function n5(e, t) {
  if (!(e instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function a5(e, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    ((n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(e, fy(n.key), n));
  }
}
function i5(e, t, r) {
  return (
    t && a5(e.prototype, t),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    e
  );
}
function s5(e, t, r) {
  return (
    (t = po(t)),
    o5(
      e,
      uy() ? Reflect.construct(t, r || [], po(e).constructor) : t.apply(e, r),
    )
  );
}
function o5(e, t) {
  if (t && (oa(t) === "object" || typeof t == "function")) return t;
  if (t !== void 0)
    throw new TypeError(
      "Derived constructors may only return object or undefined",
    );
  return c5(e);
}
function c5(e) {
  if (e === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called",
    );
  return e;
}
function uy() {
  try {
    var e = !Boolean.prototype.valueOf.call(
      Reflect.construct(Boolean, [], function () {}),
    );
  } catch {}
  return (uy = function () {
    return !!e;
  })();
}
function po(e) {
  return (
    (po = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (r) {
          return r.__proto__ || Object.getPrototypeOf(r);
        }),
    po(e)
  );
}
function l5(e, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  ((e.prototype = Object.create(t && t.prototype, {
    constructor: { value: e, writable: !0, configurable: !0 },
  })),
    Object.defineProperty(e, "prototype", { writable: !1 }),
    t && nu(e, t));
}
function nu(e, t) {
  return (
    (nu = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (n, i) {
          return ((n.__proto__ = i), n);
        }),
    nu(e, t)
  );
}
function ca(e) {
  return f5(e) || d5(e) || dy(e) || u5();
}
function u5() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function dy(e, t) {
  if (e) {
    if (typeof e == "string") return au(e, t);
    var r = Object.prototype.toString.call(e).slice(8, -1);
    if (
      (r === "Object" && e.constructor && (r = e.constructor.name),
      r === "Map" || r === "Set")
    )
      return Array.from(e);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return au(e, t);
  }
}
function d5(e) {
  if (
    (typeof Symbol < "u" && e[Symbol.iterator] != null) ||
    e["@@iterator"] != null
  )
    return Array.from(e);
}
function f5(e) {
  if (Array.isArray(e)) return au(e);
}
function au(e, t) {
  (t == null || t > e.length) && (t = e.length);
  for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
  return n;
}
function mp(e, t) {
  var r = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    (t &&
      (n = n.filter(function (i) {
        return Object.getOwnPropertyDescriptor(e, i).enumerable;
      })),
      r.push.apply(r, n));
  }
  return r;
}
function z(e) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2
      ? mp(Object(r), !0).forEach(function (n) {
          oe(e, n, r[n]);
        })
      : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : mp(Object(r)).forEach(function (n) {
            Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(r, n));
          });
  }
  return e;
}
function oe(e, t, r) {
  return (
    (t = fy(t)),
    t in e
      ? Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = r),
    e
  );
}
function fy(e) {
  var t = h5(e, "string");
  return oa(t) == "symbol" ? t : t + "";
}
function h5(e, t) {
  if (oa(e) != "object" || !e) return e;
  var r = e[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e, t);
    if (oa(n) != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e);
}
var m5 = { xAxis: ["bottom", "top"], yAxis: ["left", "right"] },
  p5 = { width: "100%", height: "100%" },
  hy = { x: 0, y: 0 };
function rs(e) {
  return e;
}
var v5 = function (t, r) {
    return r === "horizontal"
      ? t.x
      : r === "vertical"
        ? t.y
        : r === "centric"
          ? t.angle
          : t.radius;
  },
  x5 = function (t, r, n, i) {
    var s = r.find(function (f) {
      return f && f.index === n;
    });
    if (s) {
      if (t === "horizontal") return { x: s.coordinate, y: i.y };
      if (t === "vertical") return { x: i.x, y: s.coordinate };
      if (t === "centric") {
        var o = s.coordinate,
          c = i.radius;
        return z(
          z(z({}, i), Ce(i.cx, i.cy, c, o)),
          {},
          { angle: o, radius: c },
        );
      }
      var l = s.coordinate,
        u = i.angle;
      return z(z(z({}, i), Ce(i.cx, i.cy, l, u)), {}, { angle: u, radius: l });
    }
    return hy;
  },
  Qo = function (t, r) {
    var n = r.graphicalItems,
      i = r.dataStartIndex,
      s = r.dataEndIndex,
      o = (n ?? []).reduce(function (c, l) {
        var u = l.props.data;
        return u && u.length ? [].concat(ca(c), ca(u)) : c;
      }, []);
    return o.length > 0
      ? o
      : t && t.length && W(i) && W(s)
        ? t.slice(i, s + 1)
        : [];
  };
function my(e) {
  return e === "number" ? [0, "auto"] : void 0;
}
var iu = function (t, r, n, i) {
    var s = t.graphicalItems,
      o = t.tooltipAxis,
      c = Qo(r, t);
    return n < 0 || !s || !s.length || n >= c.length
      ? null
      : s.reduce(function (l, u) {
          var f,
            d = (f = u.props.data) !== null && f !== void 0 ? f : r;
          d &&
            t.dataStartIndex + t.dataEndIndex !== 0 &&
            t.dataEndIndex - t.dataStartIndex >= n &&
            (d = d.slice(t.dataStartIndex, t.dataEndIndex + 1));
          var h;
          if (o.dataKey && !o.allowDuplicatedCategory) {
            var m = d === void 0 ? c : d;
            h = vs(m, o.dataKey, i);
          } else h = (d && d[n]) || c[n];
          return h ? [].concat(ca(l), [sg(u, h)]) : l;
        }, []);
  },
  pp = function (t, r, n, i) {
    var s = i || { x: t.chartX, y: t.chartY },
      o = v5(s, n),
      c = t.orderedTooltipTicks,
      l = t.tooltipAxis,
      u = t.tooltipTicks,
      f = cD(o, c, u, l);
    if (f >= 0 && u) {
      var d = u[f] && u[f].value,
        h = iu(t, r, f, d),
        m = x5(n, c, f, s);
      return {
        activeTooltipIndex: f,
        activeLabel: d,
        activePayload: h,
        activeCoordinate: m,
      };
    }
    return null;
  },
  g5 = function (t, r) {
    var n = r.axes,
      i = r.graphicalItems,
      s = r.axisType,
      o = r.axisIdKey,
      c = r.stackGroups,
      l = r.dataStartIndex,
      u = r.dataEndIndex,
      f = t.layout,
      d = t.children,
      h = t.stackOffset,
      m = eg(f, s);
    return n.reduce(function (v, p) {
      var x,
        g =
          p.type.defaultProps !== void 0
            ? z(z({}, p.type.defaultProps), p.props)
            : p.props,
        b = g.type,
        N = g.dataKey,
        _ = g.allowDataOverflow,
        y = g.allowDuplicatedCategory,
        j = g.scale,
        w = g.ticks,
        O = g.includeHidden,
        S = g[o];
      if (v[S]) return v;
      var E = Qo(t.data, {
          graphicalItems: i.filter(function (J) {
            var se,
              ie =
                o in J.props
                  ? J.props[o]
                  : (se = J.type.defaultProps) === null || se === void 0
                    ? void 0
                    : se[o];
            return ie === S;
          }),
          dataStartIndex: l,
          dataEndIndex: u,
        }),
        C = E.length,
        T,
        $,
        I;
      qF(g.domain, _, b) &&
        ((T = Al(g.domain, null, _)),
        m && (b === "number" || j !== "auto") && (I = Ba(E, N, "category")));
      var k = my(b);
      if (!T || T.length === 0) {
        var D,
          V = (D = g.domain) !== null && D !== void 0 ? D : k;
        if (N) {
          if (((T = Ba(E, N, b)), b === "category" && m)) {
            var G = Zw(T);
            y && G
              ? (($ = T), (T = eo(0, C)))
              : y ||
                (T = Qh(V, T, p).reduce(function (J, se) {
                  return J.indexOf(se) >= 0 ? J : [].concat(ca(J), [se]);
                }, []));
          } else if (b === "category")
            y
              ? (T = T.filter(function (J) {
                  return J !== "" && !fe(J);
                }))
              : (T = Qh(V, T, p).reduce(function (J, se) {
                  return J.indexOf(se) >= 0 || se === "" || fe(se)
                    ? J
                    : [].concat(ca(J), [se]);
                }, []));
          else if (b === "number") {
            var K = hD(
              E,
              i.filter(function (J) {
                var se,
                  ie,
                  de =
                    o in J.props
                      ? J.props[o]
                      : (se = J.type.defaultProps) === null || se === void 0
                        ? void 0
                        : se[o],
                  q =
                    "hide" in J.props
                      ? J.props.hide
                      : (ie = J.type.defaultProps) === null || ie === void 0
                        ? void 0
                        : ie.hide;
                return de === S && (O || !q);
              }),
              N,
              s,
              f,
            );
            K && (T = K);
          }
          m && (b === "number" || j !== "auto") && (I = Ba(E, N, "category"));
        } else
          m
            ? (T = eo(0, C))
            : c && c[S] && c[S].hasStack && b === "number"
              ? (T = h === "expand" ? [0, 1] : ig(c[S].stackGroups, l, u))
              : (T = Qx(
                  E,
                  i.filter(function (J) {
                    var se = o in J.props ? J.props[o] : J.type.defaultProps[o],
                      ie =
                        "hide" in J.props
                          ? J.props.hide
                          : J.type.defaultProps.hide;
                    return se === S && (O || !ie);
                  }),
                  b,
                  f,
                  !0,
                ));
        if (b === "number") ((T = ru(d, T, S, s, w)), V && (T = Al(V, T, _)));
        else if (b === "category" && V) {
          var ee = V,
            ae = T.every(function (J) {
              return ee.indexOf(J) >= 0;
            });
          ae && (T = ee);
        }
      }
      return z(
        z({}, v),
        {},
        oe(
          {},
          S,
          z(
            z({}, g),
            {},
            {
              axisType: s,
              domain: T,
              categoricalDomain: I,
              duplicateDomain: $,
              originalDomain: (x = g.domain) !== null && x !== void 0 ? x : k,
              isCategorical: m,
              layout: f,
            },
          ),
        ),
      );
    }, {});
  },
  y5 = function (t, r) {
    var n = r.graphicalItems,
      i = r.Axis,
      s = r.axisType,
      o = r.axisIdKey,
      c = r.stackGroups,
      l = r.dataStartIndex,
      u = r.dataEndIndex,
      f = t.layout,
      d = t.children,
      h = Qo(t.data, { graphicalItems: n, dataStartIndex: l, dataEndIndex: u }),
      m = h.length,
      v = eg(f, s),
      p = -1;
    return n.reduce(function (x, g) {
      var b =
          g.type.defaultProps !== void 0
            ? z(z({}, g.type.defaultProps), g.props)
            : g.props,
        N = b[o],
        _ = my("number");
      if (!x[N]) {
        p++;
        var y;
        return (
          v
            ? (y = eo(0, m))
            : c && c[N] && c[N].hasStack
              ? ((y = ig(c[N].stackGroups, l, u)), (y = ru(d, y, N, s)))
              : ((y = Al(
                  _,
                  Qx(
                    h,
                    n.filter(function (j) {
                      var w,
                        O,
                        S =
                          o in j.props
                            ? j.props[o]
                            : (w = j.type.defaultProps) === null || w === void 0
                              ? void 0
                              : w[o],
                        E =
                          "hide" in j.props
                            ? j.props.hide
                            : (O = j.type.defaultProps) === null || O === void 0
                              ? void 0
                              : O.hide;
                      return S === N && !E;
                    }),
                    "number",
                    f,
                  ),
                  i.defaultProps.allowDataOverflow,
                )),
                (y = ru(d, y, N, s))),
          z(
            z({}, x),
            {},
            oe(
              {},
              N,
              z(
                z({ axisType: s }, i.defaultProps),
                {},
                {
                  hide: !0,
                  orientation: bt(m5, "".concat(s, ".").concat(p % 2), null),
                  domain: y,
                  originalDomain: _,
                  isCategorical: v,
                  layout: f,
                },
              ),
            ),
          )
        );
      }
      return x;
    }, {});
  },
  b5 = function (t, r) {
    var n = r.axisType,
      i = n === void 0 ? "xAxis" : n,
      s = r.AxisComp,
      o = r.graphicalItems,
      c = r.stackGroups,
      l = r.dataStartIndex,
      u = r.dataEndIndex,
      f = t.children,
      d = "".concat(i, "Id"),
      h = jt(f, s),
      m = {};
    return (
      h && h.length
        ? (m = g5(t, {
            axes: h,
            graphicalItems: o,
            axisType: i,
            axisIdKey: d,
            stackGroups: c,
            dataStartIndex: l,
            dataEndIndex: u,
          }))
        : o &&
          o.length &&
          (m = y5(t, {
            Axis: s,
            graphicalItems: o,
            axisType: i,
            axisIdKey: d,
            stackGroups: c,
            dataStartIndex: l,
            dataEndIndex: u,
          })),
      m
    );
  },
  j5 = function (t) {
    var r = Pr(t),
      n = ir(r, !1, !0);
    return {
      tooltipTicks: n,
      orderedTooltipTicks: Fu(n, function (i) {
        return i.coordinate;
      }),
      tooltipAxis: r,
      tooltipAxisBandSize: Ws(r, n),
    };
  },
  vp = function (t) {
    var r = t.children,
      n = t.defaultShowTooltip,
      i = gt(r, Yn),
      s = 0,
      o = 0;
    return (
      t.data && t.data.length !== 0 && (o = t.data.length - 1),
      i &&
        i.props &&
        (i.props.startIndex >= 0 && (s = i.props.startIndex),
        i.props.endIndex >= 0 && (o = i.props.endIndex)),
      {
        chartX: 0,
        chartY: 0,
        dataStartIndex: s,
        dataEndIndex: o,
        activeTooltipIndex: -1,
        isTooltipActive: !!n,
      }
    );
  },
  w5 = function (t) {
    return !t || !t.length
      ? !1
      : t.some(function (r) {
          var n = lr(r && r.type);
          return n && n.indexOf("Bar") >= 0;
        });
  },
  xp = function (t) {
    return t === "horizontal"
      ? { numericAxisName: "yAxis", cateAxisName: "xAxis" }
      : t === "vertical"
        ? { numericAxisName: "xAxis", cateAxisName: "yAxis" }
        : t === "centric"
          ? { numericAxisName: "radiusAxis", cateAxisName: "angleAxis" }
          : { numericAxisName: "angleAxis", cateAxisName: "radiusAxis" };
  },
  N5 = function (t, r) {
    var n = t.props,
      i = t.graphicalItems,
      s = t.xAxisMap,
      o = s === void 0 ? {} : s,
      c = t.yAxisMap,
      l = c === void 0 ? {} : c,
      u = n.width,
      f = n.height,
      d = n.children,
      h = n.margin || {},
      m = gt(d, Yn),
      v = gt(d, Mn),
      p = Object.keys(l).reduce(
        function (y, j) {
          var w = l[j],
            O = w.orientation;
          return !w.mirror && !w.hide
            ? z(z({}, y), {}, oe({}, O, y[O] + w.width))
            : y;
        },
        { left: h.left || 0, right: h.right || 0 },
      ),
      x = Object.keys(o).reduce(
        function (y, j) {
          var w = o[j],
            O = w.orientation;
          return !w.mirror && !w.hide
            ? z(z({}, y), {}, oe({}, O, bt(y, "".concat(O)) + w.height))
            : y;
        },
        { top: h.top || 0, bottom: h.bottom || 0 },
      ),
      g = z(z({}, x), p),
      b = g.bottom;
    (m && (g.bottom += m.props.height || Yn.defaultProps.height),
      v && r && (g = dD(g, i, n, r)));
    var N = u - g.left - g.right,
      _ = f - g.top - g.bottom;
    return z(
      z({ brushBottom: b }, g),
      {},
      { width: Math.max(N, 0), height: Math.max(_, 0) },
    );
  },
  _5 = function (t, r) {
    if (r === "xAxis") return t[r].width;
    if (r === "yAxis") return t[r].height;
  },
  ec = function (t) {
    var r = t.chartName,
      n = t.GraphicalChild,
      i = t.defaultTooltipEventType,
      s = i === void 0 ? "axis" : i,
      o = t.validateTooltipEventTypes,
      c = o === void 0 ? ["axis"] : o,
      l = t.axisComponents,
      u = t.legendContent,
      f = t.formatAxisMap,
      d = t.defaultProps,
      h = function (g, b) {
        var N = b.graphicalItems,
          _ = b.stackGroups,
          y = b.offset,
          j = b.updateId,
          w = b.dataStartIndex,
          O = b.dataEndIndex,
          S = g.barSize,
          E = g.layout,
          C = g.barGap,
          T = g.barCategoryGap,
          $ = g.maxBarSize,
          I = xp(E),
          k = I.numericAxisName,
          D = I.cateAxisName,
          V = w5(N),
          G = [];
        return (
          N.forEach(function (K, ee) {
            var ae = Qo(g.data, {
                graphicalItems: [K],
                dataStartIndex: w,
                dataEndIndex: O,
              }),
              J =
                K.type.defaultProps !== void 0
                  ? z(z({}, K.type.defaultProps), K.props)
                  : K.props,
              se = J.dataKey,
              ie = J.maxBarSize,
              de = J["".concat(k, "Id")],
              q = J["".concat(D, "Id")],
              ge = {},
              Ie = l.reduce(function (Br, Fr) {
                var nc = b["".concat(Fr.axisType, "Map")],
                  Sd = J["".concat(Fr.axisType, "Id")];
                (nc && nc[Sd]) || Fr.axisType === "zAxis" || ln();
                var Ad = nc[Sd];
                return z(
                  z({}, Br),
                  {},
                  oe(
                    oe({}, Fr.axisType, Ad),
                    "".concat(Fr.axisType, "Ticks"),
                    ir(Ad),
                  ),
                );
              }, ge),
              Y = Ie[D],
              he = Ie["".concat(D, "Ticks")],
              ve = _ && _[de] && _[de].hasStack && wD(K, _[de].stackGroups),
              U = lr(K.type).indexOf("Bar") >= 0,
              De = Ws(Y, he),
              ye = [],
              qe =
                V && lD({ barSize: S, stackGroups: _, totalSize: _5(Ie, D) });
            if (U) {
              var We,
                ht,
                Or = fe(ie) ? $ : ie,
                yn =
                  (We =
                    (ht = Ws(Y, he, !0)) !== null && ht !== void 0
                      ? ht
                      : Or) !== null && We !== void 0
                    ? We
                    : 0;
              ((ye = uD({
                barGap: C,
                barCategoryGap: T,
                bandSize: yn !== De ? yn : De,
                sizeList: qe[q],
                maxBarSize: Or,
              })),
                yn !== De &&
                  (ye = ye.map(function (Br) {
                    return z(
                      z({}, Br),
                      {},
                      {
                        position: z(
                          z({}, Br.position),
                          {},
                          { offset: Br.position.offset - yn / 2 },
                        ),
                      },
                    );
                  })));
            }
            var Ui = K && K.type && K.type.getComposedData;
            Ui &&
              G.push({
                props: z(
                  z(
                    {},
                    Ui(
                      z(
                        z({}, Ie),
                        {},
                        {
                          displayedData: ae,
                          props: g,
                          dataKey: se,
                          item: K,
                          bandSize: De,
                          barPosition: ye,
                          offset: y,
                          stackedData: ve,
                          layout: E,
                          dataStartIndex: w,
                          dataEndIndex: O,
                        },
                      ),
                    ),
                  ),
                  {},
                  oe(
                    oe(
                      oe({ key: K.key || "item-".concat(ee) }, k, Ie[k]),
                      D,
                      Ie[D],
                    ),
                    "animationId",
                    j,
                  ),
                ),
                childIndex: uN(K, g.children),
                item: K,
              });
          }),
          G
        );
      },
      m = function (g, b) {
        var N = g.props,
          _ = g.dataStartIndex,
          y = g.dataEndIndex,
          j = g.updateId;
        if (!Gd({ props: N })) return null;
        var w = N.children,
          O = N.layout,
          S = N.stackOffset,
          E = N.data,
          C = N.reverseStackOrder,
          T = xp(O),
          $ = T.numericAxisName,
          I = T.cateAxisName,
          k = jt(w, n),
          D = bD(E, k, "".concat($, "Id"), "".concat(I, "Id"), S, C),
          V = l.reduce(function (J, se) {
            var ie = "".concat(se.axisType, "Map");
            return z(
              z({}, J),
              {},
              oe(
                {},
                ie,
                b5(
                  N,
                  z(
                    z({}, se),
                    {},
                    {
                      graphicalItems: k,
                      stackGroups: se.axisType === $ && D,
                      dataStartIndex: _,
                      dataEndIndex: y,
                    },
                  ),
                ),
              ),
            );
          }, {}),
          G = N5(
            z(z({}, V), {}, { props: N, graphicalItems: k }),
            b?.legendBBox,
          );
        Object.keys(V).forEach(function (J) {
          V[J] = f(N, V[J], G, J.replace("Map", ""), r);
        });
        var K = V["".concat(I, "Map")],
          ee = j5(K),
          ae = h(
            N,
            z(
              z({}, V),
              {},
              {
                dataStartIndex: _,
                dataEndIndex: y,
                updateId: j,
                graphicalItems: k,
                stackGroups: D,
                offset: G,
              },
            ),
          );
        return z(
          z(
            {
              formattedGraphicalItems: ae,
              graphicalItems: k,
              offset: G,
              stackGroups: D,
            },
            ee,
          ),
          V,
        );
      },
      v = (function (x) {
        function g(b) {
          var N, _, y;
          return (
            n5(this, g),
            (y = s5(this, g, [b])),
            oe(y, "eventEmitterSymbol", Symbol("rechartsEventEmitter")),
            oe(y, "accessibilityManager", new UF()),
            oe(y, "handleLegendBBoxUpdate", function (j) {
              if (j) {
                var w = y.state,
                  O = w.dataStartIndex,
                  S = w.dataEndIndex,
                  E = w.updateId;
                y.setState(
                  z(
                    { legendBBox: j },
                    m(
                      {
                        props: y.props,
                        dataStartIndex: O,
                        dataEndIndex: S,
                        updateId: E,
                      },
                      z(z({}, y.state), {}, { legendBBox: j }),
                    ),
                  ),
                );
              }
            }),
            oe(y, "handleReceiveSyncEvent", function (j, w, O) {
              if (y.props.syncId === j) {
                if (
                  O === y.eventEmitterSymbol &&
                  typeof y.props.syncMethod != "function"
                )
                  return;
                y.applySyncEvent(w);
              }
            }),
            oe(y, "handleBrushChange", function (j) {
              var w = j.startIndex,
                O = j.endIndex;
              if (w !== y.state.dataStartIndex || O !== y.state.dataEndIndex) {
                var S = y.state.updateId;
                (y.setState(function () {
                  return z(
                    { dataStartIndex: w, dataEndIndex: O },
                    m(
                      {
                        props: y.props,
                        dataStartIndex: w,
                        dataEndIndex: O,
                        updateId: S,
                      },
                      y.state,
                    ),
                  );
                }),
                  y.triggerSyncEvent({ dataStartIndex: w, dataEndIndex: O }));
              }
            }),
            oe(y, "handleMouseEnter", function (j) {
              var w = y.getMouseInfo(j);
              if (w) {
                var O = z(z({}, w), {}, { isTooltipActive: !0 });
                (y.setState(O), y.triggerSyncEvent(O));
                var S = y.props.onMouseEnter;
                ce(S) && S(O, j);
              }
            }),
            oe(y, "triggeredAfterMouseMove", function (j) {
              var w = y.getMouseInfo(j),
                O = w
                  ? z(z({}, w), {}, { isTooltipActive: !0 })
                  : { isTooltipActive: !1 };
              (y.setState(O), y.triggerSyncEvent(O));
              var S = y.props.onMouseMove;
              ce(S) && S(O, j);
            }),
            oe(y, "handleItemMouseEnter", function (j) {
              y.setState(function () {
                return {
                  isTooltipActive: !0,
                  activeItem: j,
                  activePayload: j.tooltipPayload,
                  activeCoordinate: j.tooltipPosition || { x: j.cx, y: j.cy },
                };
              });
            }),
            oe(y, "handleItemMouseLeave", function () {
              y.setState(function () {
                return { isTooltipActive: !1 };
              });
            }),
            oe(y, "handleMouseMove", function (j) {
              (j.persist(), y.throttleTriggeredAfterMouseMove(j));
            }),
            oe(y, "handleMouseLeave", function (j) {
              y.throttleTriggeredAfterMouseMove.cancel();
              var w = { isTooltipActive: !1 };
              (y.setState(w), y.triggerSyncEvent(w));
              var O = y.props.onMouseLeave;
              ce(O) && O(w, j);
            }),
            oe(y, "handleOuterEvent", function (j) {
              var w = lN(j),
                O = bt(y.props, "".concat(w));
              if (w && ce(O)) {
                var S, E;
                (/.*touch.*/i.test(w)
                  ? (E = y.getMouseInfo(j.changedTouches[0]))
                  : (E = y.getMouseInfo(j)),
                  O((S = E) !== null && S !== void 0 ? S : {}, j));
              }
            }),
            oe(y, "handleClick", function (j) {
              var w = y.getMouseInfo(j);
              if (w) {
                var O = z(z({}, w), {}, { isTooltipActive: !0 });
                (y.setState(O), y.triggerSyncEvent(O));
                var S = y.props.onClick;
                ce(S) && S(O, j);
              }
            }),
            oe(y, "handleMouseDown", function (j) {
              var w = y.props.onMouseDown;
              if (ce(w)) {
                var O = y.getMouseInfo(j);
                w(O, j);
              }
            }),
            oe(y, "handleMouseUp", function (j) {
              var w = y.props.onMouseUp;
              if (ce(w)) {
                var O = y.getMouseInfo(j);
                w(O, j);
              }
            }),
            oe(y, "handleTouchMove", function (j) {
              j.changedTouches != null &&
                j.changedTouches.length > 0 &&
                y.throttleTriggeredAfterMouseMove(j.changedTouches[0]);
            }),
            oe(y, "handleTouchStart", function (j) {
              j.changedTouches != null &&
                j.changedTouches.length > 0 &&
                y.handleMouseDown(j.changedTouches[0]);
            }),
            oe(y, "handleTouchEnd", function (j) {
              j.changedTouches != null &&
                j.changedTouches.length > 0 &&
                y.handleMouseUp(j.changedTouches[0]);
            }),
            oe(y, "handleDoubleClick", function (j) {
              var w = y.props.onDoubleClick;
              if (ce(w)) {
                var O = y.getMouseInfo(j);
                w(O, j);
              }
            }),
            oe(y, "handleContextMenu", function (j) {
              var w = y.props.onContextMenu;
              if (ce(w)) {
                var O = y.getMouseInfo(j);
                w(O, j);
              }
            }),
            oe(y, "triggerSyncEvent", function (j) {
              y.props.syncId !== void 0 &&
                Tc.emit($c, y.props.syncId, j, y.eventEmitterSymbol);
            }),
            oe(y, "applySyncEvent", function (j) {
              var w = y.props,
                O = w.layout,
                S = w.syncMethod,
                E = y.state.updateId,
                C = j.dataStartIndex,
                T = j.dataEndIndex;
              if (j.dataStartIndex !== void 0 || j.dataEndIndex !== void 0)
                y.setState(
                  z(
                    { dataStartIndex: C, dataEndIndex: T },
                    m(
                      {
                        props: y.props,
                        dataStartIndex: C,
                        dataEndIndex: T,
                        updateId: E,
                      },
                      y.state,
                    ),
                  ),
                );
              else if (j.activeTooltipIndex !== void 0) {
                var $ = j.chartX,
                  I = j.chartY,
                  k = j.activeTooltipIndex,
                  D = y.state,
                  V = D.offset,
                  G = D.tooltipTicks;
                if (!V) return;
                if (typeof S == "function") k = S(G, j);
                else if (S === "value") {
                  k = -1;
                  for (var K = 0; K < G.length; K++)
                    if (G[K].value === j.activeLabel) {
                      k = K;
                      break;
                    }
                }
                var ee = z(z({}, V), {}, { x: V.left, y: V.top }),
                  ae = Math.min($, ee.x + ee.width),
                  J = Math.min(I, ee.y + ee.height),
                  se = G[k] && G[k].value,
                  ie = iu(y.state, y.props.data, k),
                  de = G[k]
                    ? {
                        x: O === "horizontal" ? G[k].coordinate : ae,
                        y: O === "horizontal" ? J : G[k].coordinate,
                      }
                    : hy;
                y.setState(
                  z(
                    z({}, j),
                    {},
                    {
                      activeLabel: se,
                      activeCoordinate: de,
                      activePayload: ie,
                      activeTooltipIndex: k,
                    },
                  ),
                );
              } else y.setState(j);
            }),
            oe(y, "renderCursor", function (j) {
              var w,
                O = y.state,
                S = O.isTooltipActive,
                E = O.activeCoordinate,
                C = O.activePayload,
                T = O.offset,
                $ = O.activeTooltipIndex,
                I = O.tooltipAxisBandSize,
                k = y.getTooltipEventType(),
                D = (w = j.props.active) !== null && w !== void 0 ? w : S,
                V = y.props.layout,
                G = j.key || "_recharts-cursor";
              return A.createElement(YF, {
                key: G,
                activeCoordinate: E,
                activePayload: C,
                activeTooltipIndex: $,
                chartName: r,
                element: j,
                isActive: D,
                layout: V,
                offset: T,
                tooltipAxisBandSize: I,
                tooltipEventType: k,
              });
            }),
            oe(y, "renderPolarAxis", function (j, w, O) {
              var S = bt(j, "type.axisType"),
                E = bt(y.state, "".concat(S, "Map")),
                C = j.type.defaultProps,
                T = C !== void 0 ? z(z({}, C), j.props) : j.props,
                $ = E && E[T["".concat(S, "Id")]];
              return P.cloneElement(
                j,
                z(
                  z({}, $),
                  {},
                  {
                    className: pe(S, $.className),
                    key: j.key || "".concat(w, "-").concat(O),
                    ticks: ir($, !0),
                  },
                ),
              );
            }),
            oe(y, "renderPolarGrid", function (j) {
              var w = j.props,
                O = w.radialLines,
                S = w.polarAngles,
                E = w.polarRadius,
                C = y.state,
                T = C.radiusAxisMap,
                $ = C.angleAxisMap,
                I = Pr(T),
                k = Pr($),
                D = k.cx,
                V = k.cy,
                G = k.innerRadius,
                K = k.outerRadius;
              return P.cloneElement(j, {
                polarAngles: Array.isArray(S)
                  ? S
                  : ir(k, !0).map(function (ee) {
                      return ee.coordinate;
                    }),
                polarRadius: Array.isArray(E)
                  ? E
                  : ir(I, !0).map(function (ee) {
                      return ee.coordinate;
                    }),
                cx: D,
                cy: V,
                innerRadius: G,
                outerRadius: K,
                key: j.key || "polar-grid",
                radialLines: O,
              });
            }),
            oe(y, "renderLegend", function () {
              var j = y.state.formattedGraphicalItems,
                w = y.props,
                O = w.children,
                S = w.width,
                E = w.height,
                C = y.props.margin || {},
                T = S - (C.left || 0) - (C.right || 0),
                $ = Jx({
                  children: O,
                  formattedGraphicalItems: j,
                  legendWidth: T,
                  legendContent: u,
                });
              if (!$) return null;
              var I = $.item,
                k = hp($, JF);
              return P.cloneElement(
                I,
                z(
                  z({}, k),
                  {},
                  {
                    chartWidth: S,
                    chartHeight: E,
                    margin: C,
                    onBBoxUpdate: y.handleLegendBBoxUpdate,
                  },
                ),
              );
            }),
            oe(y, "renderTooltip", function () {
              var j,
                w = y.props,
                O = w.children,
                S = w.accessibilityLayer,
                E = gt(O, zt);
              if (!E) return null;
              var C = y.state,
                T = C.isTooltipActive,
                $ = C.activeCoordinate,
                I = C.activePayload,
                k = C.activeLabel,
                D = C.offset,
                V = (j = E.props.active) !== null && j !== void 0 ? j : T;
              return P.cloneElement(E, {
                viewBox: z(z({}, D), {}, { x: D.left, y: D.top }),
                active: V,
                label: k,
                payload: V ? I : [],
                coordinate: $,
                accessibilityLayer: S,
              });
            }),
            oe(y, "renderBrush", function (j) {
              var w = y.props,
                O = w.margin,
                S = w.data,
                E = y.state,
                C = E.offset,
                T = E.dataStartIndex,
                $ = E.dataEndIndex,
                I = E.updateId;
              return P.cloneElement(j, {
                key: j.key || "_recharts-brush",
                onChange: Zi(y.handleBrushChange, j.props.onChange),
                data: S,
                x: W(j.props.x) ? j.props.x : C.left,
                y: W(j.props.y)
                  ? j.props.y
                  : C.top + C.height + C.brushBottom - (O.bottom || 0),
                width: W(j.props.width) ? j.props.width : C.width,
                startIndex: T,
                endIndex: $,
                updateId: "brush-".concat(I),
              });
            }),
            oe(y, "renderReferenceElement", function (j, w, O) {
              if (!j) return null;
              var S = y,
                E = S.clipPathId,
                C = y.state,
                T = C.xAxisMap,
                $ = C.yAxisMap,
                I = C.offset,
                k = j.type.defaultProps || {},
                D = j.props,
                V = D.xAxisId,
                G = V === void 0 ? k.xAxisId : V,
                K = D.yAxisId,
                ee = K === void 0 ? k.yAxisId : K;
              return P.cloneElement(j, {
                key: j.key || "".concat(w, "-").concat(O),
                xAxis: T[G],
                yAxis: $[ee],
                viewBox: {
                  x: I.left,
                  y: I.top,
                  width: I.width,
                  height: I.height,
                },
                clipPathId: E,
              });
            }),
            oe(y, "renderActivePoints", function (j) {
              var w = j.item,
                O = j.activePoint,
                S = j.basePoint,
                E = j.childIndex,
                C = j.isRange,
                T = [],
                $ = w.props.key,
                I =
                  w.item.type.defaultProps !== void 0
                    ? z(z({}, w.item.type.defaultProps), w.item.props)
                    : w.item.props,
                k = I.activeDot,
                D = I.dataKey,
                V = z(
                  z(
                    {
                      index: E,
                      dataKey: D,
                      cx: O.x,
                      cy: O.y,
                      r: 4,
                      fill: hd(w.item),
                      strokeWidth: 2,
                      stroke: "#fff",
                      payload: O.payload,
                      value: O.value,
                    },
                    ne(k, !1),
                  ),
                  xs(k),
                );
              return (
                T.push(
                  g.renderActiveDot(
                    k,
                    V,
                    "".concat($, "-activePoint-").concat(E),
                  ),
                ),
                S
                  ? T.push(
                      g.renderActiveDot(
                        k,
                        z(z({}, V), {}, { cx: S.x, cy: S.y }),
                        "".concat($, "-basePoint-").concat(E),
                      ),
                    )
                  : C && T.push(null),
                T
              );
            }),
            oe(y, "renderGraphicChild", function (j, w, O) {
              var S = y.filterFormatItem(j, w, O);
              if (!S) return null;
              var E = y.getTooltipEventType(),
                C = y.state,
                T = C.isTooltipActive,
                $ = C.tooltipAxis,
                I = C.activeTooltipIndex,
                k = C.activeLabel,
                D = y.props.children,
                V = gt(D, zt),
                G = S.props,
                K = G.points,
                ee = G.isRange,
                ae = G.baseLine,
                J =
                  S.item.type.defaultProps !== void 0
                    ? z(z({}, S.item.type.defaultProps), S.item.props)
                    : S.item.props,
                se = J.activeDot,
                ie = J.hide,
                de = J.activeBar,
                q = J.activeShape,
                ge = !!(!ie && T && V && (se || de || q)),
                Ie = {};
              E !== "axis" && V && V.props.trigger === "click"
                ? (Ie = {
                    onClick: Zi(y.handleItemMouseEnter, j.props.onClick),
                  })
                : E !== "axis" &&
                  (Ie = {
                    onMouseLeave: Zi(
                      y.handleItemMouseLeave,
                      j.props.onMouseLeave,
                    ),
                    onMouseEnter: Zi(
                      y.handleItemMouseEnter,
                      j.props.onMouseEnter,
                    ),
                  });
              var Y = P.cloneElement(j, z(z({}, S.props), Ie));
              function he(Fr) {
                return typeof $.dataKey == "function"
                  ? $.dataKey(Fr.payload)
                  : null;
              }
              if (ge)
                if (I >= 0) {
                  var ve, U;
                  if ($.dataKey && !$.allowDuplicatedCategory) {
                    var De =
                      typeof $.dataKey == "function"
                        ? he
                        : "payload.".concat($.dataKey.toString());
                    ((ve = vs(K, De, k)), (U = ee && ae && vs(ae, De, k)));
                  } else ((ve = K?.[I]), (U = ee && ae && ae[I]));
                  if (q || de) {
                    var ye =
                      j.props.activeIndex !== void 0 ? j.props.activeIndex : I;
                    return [
                      P.cloneElement(
                        j,
                        z(z(z({}, S.props), Ie), {}, { activeIndex: ye }),
                      ),
                      null,
                      null,
                    ];
                  }
                  if (!fe(ve))
                    return [Y].concat(
                      ca(
                        y.renderActivePoints({
                          item: S,
                          activePoint: ve,
                          basePoint: U,
                          childIndex: I,
                          isRange: ee,
                        }),
                      ),
                    );
                } else {
                  var qe,
                    We =
                      (qe = y.getItemByXY(y.state.activeCoordinate)) !== null &&
                      qe !== void 0
                        ? qe
                        : { graphicalItem: Y },
                    ht = We.graphicalItem,
                    Or = ht.item,
                    yn = Or === void 0 ? j : Or,
                    Ui = ht.childIndex,
                    Br = z(z(z({}, S.props), Ie), {}, { activeIndex: Ui });
                  return [P.cloneElement(yn, Br), null, null];
                }
              return ee ? [Y, null, null] : [Y, null];
            }),
            oe(y, "renderCustomized", function (j, w, O) {
              return P.cloneElement(
                j,
                z(
                  z({ key: "recharts-customized-".concat(O) }, y.props),
                  y.state,
                ),
              );
            }),
            oe(y, "renderMap", {
              CartesianGrid: { handler: rs, once: !0 },
              ReferenceArea: { handler: y.renderReferenceElement },
              ReferenceLine: { handler: rs },
              ReferenceDot: { handler: y.renderReferenceElement },
              XAxis: { handler: rs },
              YAxis: { handler: rs },
              Brush: { handler: y.renderBrush, once: !0 },
              Bar: { handler: y.renderGraphicChild },
              Line: { handler: y.renderGraphicChild },
              Area: { handler: y.renderGraphicChild },
              Radar: { handler: y.renderGraphicChild },
              RadialBar: { handler: y.renderGraphicChild },
              Scatter: { handler: y.renderGraphicChild },
              Pie: { handler: y.renderGraphicChild },
              Funnel: { handler: y.renderGraphicChild },
              Tooltip: { handler: y.renderCursor, once: !0 },
              PolarGrid: { handler: y.renderPolarGrid, once: !0 },
              PolarAngleAxis: { handler: y.renderPolarAxis },
              PolarRadiusAxis: { handler: y.renderPolarAxis },
              Customized: { handler: y.renderCustomized },
            }),
            (y.clipPathId = "".concat(
              (N = b.id) !== null && N !== void 0 ? N : vn("recharts"),
              "-clip",
            )),
            (y.throttleTriggeredAfterMouseMove = Xv(
              y.triggeredAfterMouseMove,
              (_ = b.throttleDelay) !== null && _ !== void 0 ? _ : 1e3 / 60,
            )),
            (y.state = {}),
            y
          );
        }
        return (
          l5(g, x),
          i5(g, [
            {
              key: "componentDidMount",
              value: function () {
                var N, _;
                (this.addListener(),
                  this.accessibilityManager.setDetails({
                    container: this.container,
                    offset: {
                      left:
                        (N = this.props.margin.left) !== null && N !== void 0
                          ? N
                          : 0,
                      top:
                        (_ = this.props.margin.top) !== null && _ !== void 0
                          ? _
                          : 0,
                    },
                    coordinateList: this.state.tooltipTicks,
                    mouseHandlerCallback: this.triggeredAfterMouseMove,
                    layout: this.props.layout,
                  }),
                  this.displayDefaultTooltip());
              },
            },
            {
              key: "displayDefaultTooltip",
              value: function () {
                var N = this.props,
                  _ = N.children,
                  y = N.data,
                  j = N.height,
                  w = N.layout,
                  O = gt(_, zt);
                if (O) {
                  var S = O.props.defaultIndex;
                  if (
                    !(
                      typeof S != "number" ||
                      S < 0 ||
                      S > this.state.tooltipTicks.length - 1
                    )
                  ) {
                    var E =
                        this.state.tooltipTicks[S] &&
                        this.state.tooltipTicks[S].value,
                      C = iu(this.state, y, S, E),
                      T = this.state.tooltipTicks[S].coordinate,
                      $ = (this.state.offset.top + j) / 2,
                      I = w === "horizontal",
                      k = I ? { x: T, y: $ } : { y: T, x: $ },
                      D = this.state.formattedGraphicalItems.find(function (G) {
                        var K = G.item;
                        return K.type.name === "Scatter";
                      });
                    D &&
                      ((k = z(z({}, k), D.props.points[S].tooltipPosition)),
                      (C = D.props.points[S].tooltipPayload));
                    var V = {
                      activeTooltipIndex: S,
                      isTooltipActive: !0,
                      activeLabel: E,
                      activePayload: C,
                      activeCoordinate: k,
                    };
                    (this.setState(V),
                      this.renderCursor(O),
                      this.accessibilityManager.setIndex(S));
                  }
                }
              },
            },
            {
              key: "getSnapshotBeforeUpdate",
              value: function (N, _) {
                if (!this.props.accessibilityLayer) return null;
                if (
                  (this.state.tooltipTicks !== _.tooltipTicks &&
                    this.accessibilityManager.setDetails({
                      coordinateList: this.state.tooltipTicks,
                    }),
                  this.props.layout !== N.layout &&
                    this.accessibilityManager.setDetails({
                      layout: this.props.layout,
                    }),
                  this.props.margin !== N.margin)
                ) {
                  var y, j;
                  this.accessibilityManager.setDetails({
                    offset: {
                      left:
                        (y = this.props.margin.left) !== null && y !== void 0
                          ? y
                          : 0,
                      top:
                        (j = this.props.margin.top) !== null && j !== void 0
                          ? j
                          : 0,
                    },
                  });
                }
                return null;
              },
            },
            {
              key: "componentDidUpdate",
              value: function (N) {
                Vc([gt(N.children, zt)], [gt(this.props.children, zt)]) ||
                  this.displayDefaultTooltip();
              },
            },
            {
              key: "componentWillUnmount",
              value: function () {
                (this.removeListener(),
                  this.throttleTriggeredAfterMouseMove.cancel());
              },
            },
            {
              key: "getTooltipEventType",
              value: function () {
                var N = gt(this.props.children, zt);
                if (N && typeof N.props.shared == "boolean") {
                  var _ = N.props.shared ? "axis" : "item";
                  return c.indexOf(_) >= 0 ? _ : s;
                }
                return s;
              },
            },
            {
              key: "getMouseInfo",
              value: function (N) {
                if (!this.container) return null;
                var _ = this.container,
                  y = _.getBoundingClientRect(),
                  j = DT(y),
                  w = {
                    chartX: Math.round(N.pageX - j.left),
                    chartY: Math.round(N.pageY - j.top),
                  },
                  O = y.width / _.offsetWidth || 1,
                  S = this.inRange(w.chartX, w.chartY, O);
                if (!S) return null;
                var E = this.state,
                  C = E.xAxisMap,
                  T = E.yAxisMap,
                  $ = this.getTooltipEventType(),
                  I = pp(this.state, this.props.data, this.props.layout, S);
                if ($ !== "axis" && C && T) {
                  var k = Pr(C).scale,
                    D = Pr(T).scale,
                    V = k && k.invert ? k.invert(w.chartX) : null,
                    G = D && D.invert ? D.invert(w.chartY) : null;
                  return z(z({}, w), {}, { xValue: V, yValue: G }, I);
                }
                return I ? z(z({}, w), I) : null;
              },
            },
            {
              key: "inRange",
              value: function (N, _) {
                var y =
                    arguments.length > 2 && arguments[2] !== void 0
                      ? arguments[2]
                      : 1,
                  j = this.props.layout,
                  w = N / y,
                  O = _ / y;
                if (j === "horizontal" || j === "vertical") {
                  var S = this.state.offset,
                    E =
                      w >= S.left &&
                      w <= S.left + S.width &&
                      O >= S.top &&
                      O <= S.top + S.height;
                  return E ? { x: w, y: O } : null;
                }
                var C = this.state,
                  T = C.angleAxisMap,
                  $ = C.radiusAxisMap;
                if (T && $) {
                  var I = Pr(T);
                  return rm({ x: w, y: O }, I);
                }
                return null;
              },
            },
            {
              key: "parseEventsOfWrapper",
              value: function () {
                var N = this.props.children,
                  _ = this.getTooltipEventType(),
                  y = gt(N, zt),
                  j = {};
                y &&
                  _ === "axis" &&
                  (y.props.trigger === "click"
                    ? (j = { onClick: this.handleClick })
                    : (j = {
                        onMouseEnter: this.handleMouseEnter,
                        onDoubleClick: this.handleDoubleClick,
                        onMouseMove: this.handleMouseMove,
                        onMouseLeave: this.handleMouseLeave,
                        onTouchMove: this.handleTouchMove,
                        onTouchStart: this.handleTouchStart,
                        onTouchEnd: this.handleTouchEnd,
                        onContextMenu: this.handleContextMenu,
                      }));
                var w = xs(this.props, this.handleOuterEvent);
                return z(z({}, w), j);
              },
            },
            {
              key: "addListener",
              value: function () {
                Tc.on($c, this.handleReceiveSyncEvent);
              },
            },
            {
              key: "removeListener",
              value: function () {
                Tc.removeListener($c, this.handleReceiveSyncEvent);
              },
            },
            {
              key: "filterFormatItem",
              value: function (N, _, y) {
                for (
                  var j = this.state.formattedGraphicalItems,
                    w = 0,
                    O = j.length;
                  w < O;
                  w++
                ) {
                  var S = j[w];
                  if (
                    S.item === N ||
                    S.props.key === N.key ||
                    (_ === lr(S.item.type) && y === S.childIndex)
                  )
                    return S;
                }
                return null;
              },
            },
            {
              key: "renderClipPath",
              value: function () {
                var N = this.clipPathId,
                  _ = this.state.offset,
                  y = _.left,
                  j = _.top,
                  w = _.height,
                  O = _.width;
                return A.createElement(
                  "defs",
                  null,
                  A.createElement(
                    "clipPath",
                    { id: N },
                    A.createElement("rect", {
                      x: y,
                      y: j,
                      height: w,
                      width: O,
                    }),
                  ),
                );
              },
            },
            {
              key: "getXScales",
              value: function () {
                var N = this.state.xAxisMap;
                return N
                  ? Object.entries(N).reduce(function (_, y) {
                      var j = fp(y, 2),
                        w = j[0],
                        O = j[1];
                      return z(z({}, _), {}, oe({}, w, O.scale));
                    }, {})
                  : null;
              },
            },
            {
              key: "getYScales",
              value: function () {
                var N = this.state.yAxisMap;
                return N
                  ? Object.entries(N).reduce(function (_, y) {
                      var j = fp(y, 2),
                        w = j[0],
                        O = j[1];
                      return z(z({}, _), {}, oe({}, w, O.scale));
                    }, {})
                  : null;
              },
            },
            {
              key: "getXScaleByAxisId",
              value: function (N) {
                var _;
                return (_ = this.state.xAxisMap) === null ||
                  _ === void 0 ||
                  (_ = _[N]) === null ||
                  _ === void 0
                  ? void 0
                  : _.scale;
              },
            },
            {
              key: "getYScaleByAxisId",
              value: function (N) {
                var _;
                return (_ = this.state.yAxisMap) === null ||
                  _ === void 0 ||
                  (_ = _[N]) === null ||
                  _ === void 0
                  ? void 0
                  : _.scale;
              },
            },
            {
              key: "getItemByXY",
              value: function (N) {
                var _ = this.state,
                  y = _.formattedGraphicalItems,
                  j = _.activeItem;
                if (y && y.length)
                  for (var w = 0, O = y.length; w < O; w++) {
                    var S = y[w],
                      E = S.props,
                      C = S.item,
                      T =
                        C.type.defaultProps !== void 0
                          ? z(z({}, C.type.defaultProps), C.props)
                          : C.props,
                      $ = lr(C.type);
                    if ($ === "Bar") {
                      var I = (E.data || []).find(function (G) {
                        return LR(N, G);
                      });
                      if (I) return { graphicalItem: S, payload: I };
                    } else if ($ === "RadialBar") {
                      var k = (E.data || []).find(function (G) {
                        return rm(N, G);
                      });
                      if (k) return { graphicalItem: S, payload: k };
                    } else if (Go(S, j) || Ko(S, j) || bi(S, j)) {
                      var D = S4({
                          graphicalItem: S,
                          activeTooltipItem: j,
                          itemData: T.data,
                        }),
                        V = T.activeIndex === void 0 ? D : T.activeIndex;
                      return {
                        graphicalItem: z(z({}, S), {}, { childIndex: V }),
                        payload: bi(S, j) ? T.data[D] : S.props.data[D],
                      };
                    }
                  }
                return null;
              },
            },
            {
              key: "render",
              value: function () {
                var N = this;
                if (!Gd(this)) return null;
                var _ = this.props,
                  y = _.children,
                  j = _.className,
                  w = _.width,
                  O = _.height,
                  S = _.style,
                  E = _.compact,
                  C = _.title,
                  T = _.desc,
                  $ = hp(_, ZF),
                  I = ne($, !1);
                if (E)
                  return A.createElement(
                    Gm,
                    {
                      state: this.state,
                      width: this.props.width,
                      height: this.props.height,
                      clipPathId: this.clipPathId,
                    },
                    A.createElement(
                      qc,
                      Cn({}, I, { width: w, height: O, title: C, desc: T }),
                      this.renderClipPath(),
                      Hd(y, this.renderMap),
                    ),
                  );
                if (this.props.accessibilityLayer) {
                  var k, D;
                  ((I.tabIndex =
                    (k = this.props.tabIndex) !== null && k !== void 0 ? k : 0),
                    (I.role =
                      (D = this.props.role) !== null && D !== void 0
                        ? D
                        : "application"),
                    (I.onKeyDown = function (G) {
                      N.accessibilityManager.keyboardEvent(G);
                    }),
                    (I.onFocus = function () {
                      N.accessibilityManager.focus();
                    }));
                }
                var V = this.parseEventsOfWrapper();
                return A.createElement(
                  Gm,
                  {
                    state: this.state,
                    width: this.props.width,
                    height: this.props.height,
                    clipPathId: this.clipPathId,
                  },
                  A.createElement(
                    "div",
                    Cn(
                      {
                        className: pe("recharts-wrapper", j),
                        style: z(
                          {
                            position: "relative",
                            cursor: "default",
                            width: w,
                            height: O,
                          },
                          S,
                        ),
                      },
                      V,
                      {
                        ref: function (K) {
                          N.container = K;
                        },
                      },
                    ),
                    A.createElement(
                      qc,
                      Cn({}, I, {
                        width: w,
                        height: O,
                        title: C,
                        desc: T,
                        style: p5,
                      }),
                      this.renderClipPath(),
                      Hd(y, this.renderMap),
                    ),
                    this.renderLegend(),
                    this.renderTooltip(),
                  ),
                );
              },
            },
          ])
        );
      })(P.Component);
    (oe(v, "displayName", r),
      oe(
        v,
        "defaultProps",
        z(
          {
            layout: "horizontal",
            stackOffset: "none",
            barCategoryGap: "10%",
            barGap: 4,
            margin: { top: 5, right: 5, bottom: 5, left: 5 },
            reverseStackOrder: !1,
            syncMethod: "index",
          },
          d,
        ),
      ),
      oe(v, "getDerivedStateFromProps", function (x, g) {
        var b = x.dataKey,
          N = x.data,
          _ = x.children,
          y = x.width,
          j = x.height,
          w = x.layout,
          O = x.stackOffset,
          S = x.margin,
          E = g.dataStartIndex,
          C = g.dataEndIndex;
        if (g.updateId === void 0) {
          var T = vp(x);
          return z(
            z(
              z({}, T),
              {},
              { updateId: 0 },
              m(z(z({ props: x }, T), {}, { updateId: 0 }), g),
            ),
            {},
            {
              prevDataKey: b,
              prevData: N,
              prevWidth: y,
              prevHeight: j,
              prevLayout: w,
              prevStackOffset: O,
              prevMargin: S,
              prevChildren: _,
            },
          );
        }
        if (
          b !== g.prevDataKey ||
          N !== g.prevData ||
          y !== g.prevWidth ||
          j !== g.prevHeight ||
          w !== g.prevLayout ||
          O !== g.prevStackOffset ||
          !kn(S, g.prevMargin)
        ) {
          var $ = vp(x),
            I = {
              chartX: g.chartX,
              chartY: g.chartY,
              isTooltipActive: g.isTooltipActive,
            },
            k = z(z({}, pp(g, N, w)), {}, { updateId: g.updateId + 1 }),
            D = z(z(z({}, $), I), k);
          return z(
            z(z({}, D), m(z({ props: x }, D), g)),
            {},
            {
              prevDataKey: b,
              prevData: N,
              prevWidth: y,
              prevHeight: j,
              prevLayout: w,
              prevStackOffset: O,
              prevMargin: S,
              prevChildren: _,
            },
          );
        }
        if (!Vc(_, g.prevChildren)) {
          var V,
            G,
            K,
            ee,
            ae = gt(_, Yn),
            J =
              ae &&
              (V =
                (G = ae.props) === null || G === void 0
                  ? void 0
                  : G.startIndex) !== null &&
              V !== void 0
                ? V
                : E,
            se =
              ae &&
              (K =
                (ee = ae.props) === null || ee === void 0
                  ? void 0
                  : ee.endIndex) !== null &&
              K !== void 0
                ? K
                : C,
            ie = J !== E || se !== C,
            de = !fe(N),
            q = de && !ie ? g.updateId : g.updateId + 1;
          return z(
            z(
              { updateId: q },
              m(
                z(
                  z({ props: x }, g),
                  {},
                  { updateId: q, dataStartIndex: J, dataEndIndex: se },
                ),
                g,
              ),
            ),
            {},
            { prevChildren: _, dataStartIndex: J, dataEndIndex: se },
          );
        }
        return null;
      }),
      oe(v, "renderActiveDot", function (x, g, b) {
        var N;
        return (
          P.isValidElement(x)
            ? (N = P.cloneElement(x, g))
            : ce(x)
              ? (N = x(g))
              : (N = A.createElement(Li, g)),
          A.createElement(xe, { className: "recharts-active-dot", key: b }, N)
        );
      }));
    var p = P.forwardRef(function (g, b) {
      return A.createElement(v, Cn({}, g, { ref: b }));
    });
    return ((p.displayName = v.displayName), p);
  },
  O5 = ec({
    chartName: "LineChart",
    GraphicalChild: na,
    axisComponents: [
      { axisType: "xAxis", AxisComp: _r },
      { axisType: "yAxis", AxisComp: Jt },
    ],
    formatAxisMap: pd,
  }),
  py = ec({
    chartName: "BarChart",
    GraphicalChild: vr,
    defaultTooltipEventType: "axis",
    validateTooltipEventTypes: ["axis", "item"],
    axisComponents: [
      { axisType: "xAxis", AxisComp: _r },
      { axisType: "yAxis", AxisComp: Jt },
    ],
    formatAxisMap: pd,
  }),
  S5 = ec({
    chartName: "PieChart",
    GraphicalChild: Nr,
    validateTooltipEventTypes: ["item"],
    defaultTooltipEventType: "item",
    legendContent: "children",
    axisComponents: [
      { axisType: "angleAxis", AxisComp: Wo },
      { axisType: "radiusAxis", AxisComp: Uo },
    ],
    formatAxisMap: $D,
    defaultProps: {
      layout: "centric",
      startAngle: 0,
      endAngle: 360,
      cx: "50%",
      cy: "50%",
      innerRadius: 0,
      outerRadius: "80%",
    },
  }),
  A5 = ec({
    chartName: "AreaChart",
    GraphicalChild: xr,
    axisComponents: [
      { axisType: "xAxis", AxisComp: _r },
      { axisType: "yAxis", AxisComp: Jt },
    ],
    formatAxisMap: pd,
  });
const P5 = { light: "", dark: ".dark" },
  vy = P.createContext(null);
function xy() {
  const e = P.useContext(vy);
  if (!e) throw new Error("useChart must be used within a <ChartContainer />");
  return e;
}
const Bi = P.forwardRef(
  ({ id: e, className: t, children: r, config: n, ...i }, s) => {
    const o = P.useId(),
      c = `chart-${e || o.replace(/:/g, "")}`;
    return a.jsx(vy.Provider, {
      value: { config: n },
      children: a.jsxs("div", {
        "data-chart": c,
        ref: s,
        className: st(
          "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
          t,
        ),
        ...i,
        children: [a.jsx(C5, { id: c, config: n }), a.jsx(Yv, { children: r })],
      }),
    });
  },
);
Bi.displayName = "Chart";
const C5 = ({ id: e, config: t }) => {
    const r = Object.entries(t).filter(([n, i]) => i.theme || i.color);
    return r.length
      ? a.jsx("style", {
          dangerouslySetInnerHTML: {
            __html: Object.entries(P5).map(
              ([n, i]) => `
${i} [data-chart=${e}] {
${r.map(([s, o]) => {
  const c = o.theme?.[n] || o.color;
  return c ? `  --color-${s}: ${c};` : null;
}).join(`
`)}
}
`,
            ).join(`
`),
          },
        })
      : null;
  },
  Fi = zt,
  tc = P.forwardRef(
    (
      {
        active: e,
        payload: t,
        className: r,
        indicator: n = "dot",
        hideLabel: i = !1,
        hideIndicator: s = !1,
        label: o,
        labelFormatter: c,
        labelClassName: l,
        formatter: u,
        color: f,
        nameKey: d,
        labelKey: h,
      },
      m,
    ) => {
      const { config: v } = xy(),
        p = P.useMemo(() => {
          if (i || !t?.length) return null;
          const [g] = t,
            b = `${h || g.dataKey || g.name || "value"}`,
            N = su(v, g, b),
            _ = !h && typeof o == "string" ? v[o]?.label || o : N?.label;
          return c
            ? a.jsx("div", {
                className: st("font-medium", l),
                children: c(_, t),
              })
            : _
              ? a.jsx("div", { className: st("font-medium", l), children: _ })
              : null;
        }, [o, c, t, i, l, v, h]);
      if (!e || !t?.length) return null;
      const x = t.length === 1 && n !== "dot";
      return a.jsxs("div", {
        ref: m,
        className: st(
          "grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",
          r,
        ),
        children: [
          x ? null : p,
          a.jsx("div", {
            className: "grid gap-1.5",
            children: t.map((g, b) => {
              const N = `${d || g.name || g.dataKey || "value"}`,
                _ = su(v, g, N),
                y = f || g.payload.fill || g.color;
              return a.jsx(
                "div",
                {
                  className: st(
                    "flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",
                    n === "dot" && "items-center",
                  ),
                  children:
                    u && g?.value !== void 0 && g.name
                      ? u(g.value, g.name, g, b, g.payload)
                      : a.jsxs(a.Fragment, {
                          children: [
                            _?.icon
                              ? a.jsx(_.icon, {})
                              : !s &&
                                a.jsx("div", {
                                  className: st(
                                    "shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",
                                    {
                                      "h-2.5 w-2.5": n === "dot",
                                      "w-1": n === "line",
                                      "w-0 border-[1.5px] border-dashed bg-transparent":
                                        n === "dashed",
                                      "my-0.5": x && n === "dashed",
                                    },
                                  ),
                                  style: {
                                    "--color-bg": y,
                                    "--color-border": y,
                                  },
                                }),
                            a.jsxs("div", {
                              className: st(
                                "flex flex-1 justify-between leading-none",
                                x ? "items-end" : "items-center",
                              ),
                              children: [
                                a.jsxs("div", {
                                  className: "grid gap-1.5",
                                  children: [
                                    x ? p : null,
                                    a.jsx("span", {
                                      className: "text-muted-foreground",
                                      children: _?.label || g.name,
                                    }),
                                  ],
                                }),
                                g.value &&
                                  a.jsx("span", {
                                    className:
                                      "font-mono font-medium tabular-nums text-foreground",
                                    children: g.value.toLocaleString(),
                                  }),
                              ],
                            }),
                          ],
                        }),
                },
                g.dataKey,
              );
            }),
          }),
        ],
      });
    },
  );
tc.displayName = "ChartTooltip";
const E5 = P.forwardRef(
  (
    {
      className: e,
      hideIcon: t = !1,
      payload: r,
      verticalAlign: n = "bottom",
      nameKey: i,
    },
    s,
  ) => {
    const { config: o } = xy();
    return r?.length
      ? a.jsx("div", {
          ref: s,
          className: st(
            "flex items-center justify-center gap-4",
            n === "top" ? "pb-3" : "pt-3",
            e,
          ),
          children: r.map((c) => {
            const l = `${i || c.dataKey || "value"}`,
              u = su(o, c, l);
            return a.jsxs(
              "div",
              {
                className: st(
                  "flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground",
                ),
                children: [
                  u?.icon && !t
                    ? a.jsx(u.icon, {})
                    : a.jsx("div", {
                        className: "h-2 w-2 shrink-0 rounded-[2px]",
                        style: { backgroundColor: c.color },
                      }),
                  u?.label,
                ],
              },
              c.value,
            );
          }),
        })
      : null;
  },
);
E5.displayName = "ChartLegend";
function su(e, t, r) {
  if (typeof t != "object" || t === null) return;
  const n =
    "payload" in t && typeof t.payload == "object" && t.payload !== null
      ? t.payload
      : void 0;
  let i = r;
  return (
    r in t && typeof t[r] == "string"
      ? (i = t[r])
      : n && r in n && typeof n[r] == "string" && (i = n[r]),
    i in e ? e[i] : e[r]
  );
}
const Mc = { low: "#10b981", medium: "#f59e0b", high: "#ef4444" },
  Od = {
    requests: { label: "Consultas", color: "hsl(var(--chart-1))" },
    cost_cents: { label: "Custo (centavos)", color: "hsl(var(--chart-2))" },
    tokens_in: { label: "Tokens Entrada", color: "hsl(var(--chart-3))" },
    tokens_out: { label: "Tokens Sada", color: "hsl(var(--chart-4))" },
    avgRisk: { label: "Risco Mdio", color: "hsl(var(--chart-5))" },
  },
  gy = ({ data: e }) =>
    e?.length
      ? a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Uso da API OpenAI" }),
                a.jsx(re, { children: "Consultas e custos por dia" }),
              ],
            }),
            a.jsx(R, {
              children: a.jsx(Bi, {
                config: Od,
                className: "h-[300px]",
                children: a.jsxs(A5, {
                  data: e,
                  children: [
                    a.jsx(zi, { strokeDasharray: "3 3" }),
                    a.jsx(_r, {
                      dataKey: "date",
                      tickFormatter: (t) =>
                        new Date(t).toLocaleDateString("pt-BR", {
                          month: "short",
                          day: "numeric",
                        }),
                    }),
                    a.jsx(Jt, { yAxisId: "left" }),
                    a.jsx(Jt, { yAxisId: "right", orientation: "right" }),
                    a.jsx(Fi, {
                      content: a.jsx(tc, {}),
                      labelFormatter: (t) =>
                        new Date(t).toLocaleDateString("pt-BR"),
                    }),
                    a.jsx(xr, {
                      yAxisId: "left",
                      type: "monotone",
                      dataKey: "requests",
                      stackId: "1",
                      stroke: "var(--color-requests)",
                      fill: "var(--color-requests)",
                      fillOpacity: 0.6,
                    }),
                    a.jsx(xr, {
                      yAxisId: "right",
                      type: "monotone",
                      dataKey: "cost_cents",
                      stackId: "2",
                      stroke: "var(--color-cost_cents)",
                      fill: "var(--color-cost_cents)",
                      fillOpacity: 0.3,
                    }),
                  ],
                }),
              }),
            }),
          ],
        })
      : a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Uso da API OpenAI" }),
                a.jsx(re, { children: "ltimos 30 dias" }),
              ],
            }),
            a.jsx(R, {
              children: a.jsx("div", {
                className:
                  "flex items-center justify-center h-[300px] text-muted-foreground",
                children: "Nenhum dado disponvel",
              }),
            }),
          ],
        }),
  yy = ({ data: e }) => {
    const t = [
      { name: "Baixo Risco", value: e.low, color: Mc.low },
      { name: "Mdio Risco", value: e.medium, color: Mc.medium },
      { name: "Alto Risco", value: e.high, color: Mc.high },
    ].filter((r) => r.value > 0);
    return t.length === 0
      ? a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Distribuio de Riscos" }),
                a.jsx(re, {
                  children: "Classificao dos processos por nvel de risco",
                }),
              ],
            }),
            a.jsx(R, {
              children: a.jsx("div", {
                className:
                  "flex items-center justify-center h-[300px] text-muted-foreground",
                children: "Nenhum processo com score de risco",
              }),
            }),
          ],
        })
      : a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Distribuio de Riscos" }),
                a.jsx(re, {
                  children: "Classificao dos processos por nvel de risco",
                }),
              ],
            }),
            a.jsxs(R, {
              children: [
                a.jsx("div", {
                  className: "h-[300px]",
                  children: a.jsx(Yv, {
                    width: "100%",
                    height: "100%",
                    children: a.jsxs(S5, {
                      children: [
                        a.jsx(Nr, {
                          data: t,
                          cx: "50%",
                          cy: "50%",
                          innerRadius: 60,
                          outerRadius: 100,
                          paddingAngle: 2,
                          dataKey: "value",
                          children: t.map((r, n) =>
                            a.jsx(To, { fill: r.color }, `cell-${n}`),
                          ),
                        }),
                        a.jsx(Fi, {
                          content: ({ active: r, payload: n }) => {
                            if (r && n && n.length) {
                              const i = n[0];
                              return a.jsx("div", {
                                className:
                                  "rounded-lg border bg-background p-2 shadow-sm",
                                children: a.jsxs("div", {
                                  className: "grid gap-2",
                                  children: [
                                    a.jsxs("div", {
                                      className: "flex items-center gap-2",
                                      children: [
                                        a.jsx("div", {
                                          className: "h-3 w-3 rounded-full",
                                          style: {
                                            backgroundColor: i.payload.color,
                                          },
                                        }),
                                        a.jsx("span", {
                                          className: "font-medium",
                                          children: i.payload.name,
                                        }),
                                      ],
                                    }),
                                    a.jsxs("div", {
                                      className:
                                        "text-sm text-muted-foreground",
                                      children: [
                                        i.value,
                                        " processos (",
                                        (
                                          (Number(i.value) /
                                            (t.reduce(
                                              (s, o) => s + o.value,
                                              0,
                                            ) || 1)) *
                                          100
                                        ).toFixed(1),
                                        "%)",
                                      ],
                                    }),
                                  ],
                                }),
                              });
                            }
                            return null;
                          },
                        }),
                      ],
                    }),
                  }),
                }),
                a.jsx("div", {
                  className: "flex justify-center gap-6 mt-4",
                  children: t.map((r) =>
                    a.jsxs(
                      "div",
                      {
                        className: "flex items-center gap-2",
                        children: [
                          a.jsx("div", {
                            className: "h-3 w-3 rounded-full",
                            style: { backgroundColor: r.color },
                          }),
                          a.jsxs("span", {
                            className: "text-sm",
                            children: [r.name, ": ", r.value],
                          }),
                        ],
                      },
                      r.name,
                    ),
                  ),
                }),
              ],
            }),
          ],
        });
  },
  by = ({ data: e }) =>
    e?.length
      ? a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Risco por Comarca" }),
                a.jsx(re, {
                  children: "Top 10 comarcas com maior risco mdio",
                }),
              ],
            }),
            a.jsx(R, {
              children: a.jsx(Bi, {
                config: Od,
                className: "h-[400px]",
                children: a.jsxs(py, {
                  data: e,
                  layout: "horizontal",
                  margin: { left: 120 },
                  children: [
                    a.jsx(zi, { strokeDasharray: "3 3" }),
                    a.jsx(_r, { type: "number", domain: [0, 10] }),
                    a.jsx(Jt, {
                      type: "category",
                      dataKey: "comarca",
                      width: 100,
                      tick: { fontSize: 12 },
                    }),
                    a.jsx(Fi, {
                      content: ({ active: t, payload: r, label: n }) => {
                        if (t && r && r.length) {
                          const i = r[0].payload;
                          return a.jsx("div", {
                            className:
                              "rounded-lg border bg-background p-3 shadow-sm",
                            children: a.jsxs("div", {
                              className: "grid gap-2",
                              children: [
                                a.jsx("div", {
                                  className: "font-medium",
                                  children: n,
                                }),
                                a.jsxs("div", {
                                  className: "text-sm",
                                  children: [
                                    a.jsxs("div", {
                                      children: [
                                        "Risco Mdio: ",
                                        a.jsx("span", {
                                          className: "font-mono",
                                          children: i.avgRisk.toFixed(1),
                                        }),
                                      ],
                                    }),
                                    a.jsxs("div", {
                                      children: [
                                        "Total Processos: ",
                                        a.jsx("span", {
                                          className: "font-mono",
                                          children: i.count,
                                        }),
                                      ],
                                    }),
                                    a.jsxs("div", {
                                      children: [
                                        "Alto Risco: ",
                                        a.jsx("span", {
                                          className: "font-mono",
                                          children: i.highRiskCount,
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          });
                        }
                        return null;
                      },
                    }),
                    a.jsx(vr, {
                      dataKey: "avgRisk",
                      fill: "var(--color-avgRisk)",
                      radius: [0, 4, 4, 0],
                    }),
                  ],
                }),
              }),
            }),
          ],
        })
      : a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Risco por Comarca" }),
                a.jsx(re, {
                  children: "Top 10 comarcas com maior risco mdio",
                }),
              ],
            }),
            a.jsx(R, {
              children: a.jsx("div", {
                className:
                  "flex items-center justify-center h-[300px] text-muted-foreground",
                children: "Nenhum dado de comarca disponvel",
              }),
            }),
          ],
        }),
  jy = ({ data: e }) =>
    e?.length
      ? a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Uso de Tokens" }),
                a.jsx(re, { children: "Tokens de entrada e sada por dia" }),
              ],
            }),
            a.jsx(R, {
              children: a.jsx(Bi, {
                config: Od,
                className: "h-[300px]",
                children: a.jsxs(O5, {
                  data: e,
                  children: [
                    a.jsx(zi, { strokeDasharray: "3 3" }),
                    a.jsx(_r, {
                      dataKey: "date",
                      tickFormatter: (t) =>
                        new Date(t).toLocaleDateString("pt-BR", {
                          month: "short",
                          day: "numeric",
                        }),
                    }),
                    a.jsx(Jt, {}),
                    a.jsx(Fi, {
                      content: a.jsx(tc, {}),
                      labelFormatter: (t) =>
                        new Date(t).toLocaleDateString("pt-BR"),
                    }),
                    a.jsx(na, {
                      type: "monotone",
                      dataKey: "tokens_in",
                      stroke: "var(--color-tokens_in)",
                      strokeWidth: 2,
                      dot: { r: 4 },
                    }),
                    a.jsx(na, {
                      type: "monotone",
                      dataKey: "tokens_out",
                      stroke: "var(--color-tokens_out)",
                      strokeWidth: 2,
                      dot: { r: 4 },
                    }),
                  ],
                }),
              }),
            }),
          ],
        })
      : a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Uso de Tokens" }),
                a.jsx(re, { children: "Tokens de entrada e sada por dia" }),
              ],
            }),
            a.jsx(R, {
              children: a.jsx("div", {
                className:
                  "flex items-center justify-center h-[300px] text-muted-foreground",
                children: "Nenhum dado disponvel",
              }),
            }),
          ],
        });
function wy({ orgId: e, onSuccess: t }) {
  const [r, n] = P.useState(!1),
    [i, s] = P.useState(!1),
    [o, c] = P.useState(!0),
    [l, u] = P.useState(null),
    { toast: f } = la(),
    d = async (m) => {
      if (!e) {
        f({
          title: "Erro",
          description: "ID da organizao no encontrado",
          variant: "destructive",
        });
        return;
      }
      s(!0);
      try {
        const { data: v, error: p } = await te.functions.invoke(
          "review-update-dados",
          { body: { orgId: e, dryRun: m } },
        );
        if (p) throw new Error(`Erro na funo: ${p.message}`);
        const x = v;
        (u(x),
          c(m),
          m ||
            (f({
              title: "Reviso concluda",
              description: `${x.flags_updated} registros atualizados, ${x.stubs_created} stubs criados`,
            }),
            t?.()));
      } catch (v) {
        (console.error("Erro na reviso:", v),
          f({
            title: "Erro na reviso",
            description: v instanceof Error ? v.message : "Erro desconhecido",
            variant: "destructive",
          }));
      } finally {
        s(!1);
      }
    },
    h = () => {
      if (!l) return;
      const m = { timestamp: new Date().toISOString(), dry_run: o, ...l },
        v = new Blob([JSON.stringify(m, null, 2)], {
          type: "application/json",
        }),
        p = URL.createObjectURL(v),
        x = document.createElement("a");
      ((x.href = p),
        (x.download = `assistjur-review-${o ? "preview" : "applied"}-${new Date().toISOString().split("T")[0]}.json`),
        x.click(),
        URL.revokeObjectURL(p));
    };
  return a.jsxs(a.Fragment, {
    children: [
      a.jsx(L, {
        onClick: () => n(!0),
        disabled: i,
        className: "gap-2",
        children: i
          ? a.jsxs(a.Fragment, {
              children: [
                a.jsx("div", {
                  className:
                    "animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full",
                }),
                "Processando...",
              ],
            })
          : a.jsxs(a.Fragment, {
              children: [
                a.jsx(Tr, { className: "h-4 w-4" }),
                "Revisar & Atualizar",
              ],
            }),
      }),
      a.jsx(hn, {
        open: r,
        onOpenChange: n,
        children: a.jsxs(mn, {
          className: "max-w-4xl max-h-[90vh] overflow-y-auto",
          children: [
            a.jsx(or, {
              children: a.jsxs(cr, {
                className: "flex items-center gap-2",
                children: [
                  a.jsx(Tr, { className: "h-5 w-5" }),
                  "Reviso & Atualizao de Dados - AssistJur.IA",
                ],
              }),
            }),
            a.jsx("div", {
              className: "space-y-6",
              children: l
                ? a.jsxs(a.Fragment, {
                    children: [
                      l.errors.length > 0
                        ? a.jsxs(Le, {
                            variant: "destructive",
                            children: [
                              a.jsx(dt, { className: "h-4 w-4" }),
                              a.jsxs(ze, {
                                children: [
                                  l.errors.length,
                                  " erro(s) encontrado(s) durante a execuo.",
                                ],
                              }),
                            ],
                          })
                        : a.jsxs(Le, {
                            className: "border-success",
                            children: [
                              a.jsx(Me, { className: "h-4 w-4" }),
                              a.jsxs(ze, {
                                children: [
                                  "Reviso ",
                                  o ? "simulada" : "aplicada",
                                  " com sucesso! Tempo de execuo: ",
                                  l.execution_time_ms,
                                  "ms",
                                ],
                              }),
                            ],
                          }),
                      a.jsxs("div", {
                        className: "grid grid-cols-2 md:grid-cols-4 gap-4",
                        children: [
                          a.jsxs(M, {
                            children: [
                              a.jsx(B, {
                                className: "pb-2",
                                children: a.jsx(F, {
                                  className: "text-sm",
                                  children: "Stubs Criados",
                                }),
                              }),
                              a.jsx(R, {
                                children: a.jsx("div", {
                                  className: "text-2xl font-bold text-primary",
                                  children: l.stubs_created,
                                }),
                              }),
                            ],
                          }),
                          a.jsxs(M, {
                            children: [
                              a.jsx(B, {
                                className: "pb-2",
                                children: a.jsx(F, {
                                  className: "text-sm",
                                  children: "Flags Atualizadas",
                                }),
                              }),
                              a.jsx(R, {
                                children: a.jsx("div", {
                                  className: "text-2xl font-bold text-success",
                                  children: l.flags_updated,
                                }),
                              }),
                            ],
                          }),
                          a.jsxs(M, {
                            children: [
                              a.jsx(B, {
                                className: "pb-2",
                                children: a.jsx(F, {
                                  className: "text-sm",
                                  children: "Triangulaes",
                                }),
                              }),
                              a.jsx(R, {
                                children: a.jsx("div", {
                                  className: "text-2xl font-bold text-warning",
                                  children: l.statistics.triangulacoes_detected,
                                }),
                              }),
                            ],
                          }),
                          a.jsxs(M, {
                            children: [
                              a.jsx(B, {
                                className: "pb-2",
                                children: a.jsx(F, {
                                  className: "text-sm",
                                  children: "Prova Emprestada",
                                }),
                              }),
                              a.jsx(R, {
                                children: a.jsx("div", {
                                  className:
                                    "text-2xl font-bold text-destructive",
                                  children:
                                    l.statistics.prova_emprestada_detected,
                                }),
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsx(B, {
                            children: a.jsx(F, {
                              children: "Deteces Analticas",
                            }),
                          }),
                          a.jsx(R, {
                            children: a.jsxs("div", {
                              className: "grid grid-cols-2 gap-4",
                              children: [
                                a.jsxs("div", {
                                  className:
                                    "flex items-center justify-between",
                                  children: [
                                    a.jsx("span", {
                                      children: "Trocas Diretas:",
                                    }),
                                    a.jsx(H, {
                                      variant: "outline",
                                      children: l.statistics.trocas_detected,
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className:
                                    "flex items-center justify-between",
                                  children: [
                                    a.jsx("span", { children: "Duplo Papel:" }),
                                    a.jsx(H, {
                                      variant: "outline",
                                      children:
                                        l.statistics.duplo_papel_detected,
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className:
                                    "flex items-center justify-between",
                                  children: [
                                    a.jsx("span", {
                                      children: "Total Processos:",
                                    }),
                                    a.jsx(H, {
                                      variant: "secondary",
                                      children: l.statistics.total_processos,
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className:
                                    "flex items-center justify-between",
                                  children: [
                                    a.jsx("span", {
                                      children: "Total Testemunhas:",
                                    }),
                                    a.jsx(H, {
                                      variant: "secondary",
                                      children: l.statistics.total_testemunhas,
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          }),
                        ],
                      }),
                      l.warnings.length > 0 &&
                        a.jsxs(M, {
                          children: [
                            a.jsx(B, {
                              children: a.jsxs(F, {
                                className: "text-warning",
                                children: ["Avisos (", l.warnings.length, ")"],
                              }),
                            }),
                            a.jsx(R, {
                              children: a.jsx("div", {
                                className: "space-y-2 max-h-40 overflow-y-auto",
                                children: l.warnings.map((m, v) =>
                                  a.jsxs(
                                    "div",
                                    {
                                      className:
                                        "flex items-start gap-2 p-2 rounded border",
                                      children: [
                                        a.jsx(dt, {
                                          className:
                                            "h-4 w-4 text-warning mt-0.5",
                                        }),
                                        a.jsxs("div", {
                                          className: "flex-1",
                                          children: [
                                            a.jsxs("div", {
                                              className:
                                                "flex items-center gap-2",
                                              children: [
                                                a.jsx(H, {
                                                  variant: "outline",
                                                  className: "text-xs",
                                                  children: m.type,
                                                }),
                                                m.cnj &&
                                                  a.jsxs("span", {
                                                    className:
                                                      "text-xs text-muted-foreground",
                                                    children: ["CNJ: ", m.cnj],
                                                  }),
                                              ],
                                            }),
                                            a.jsx("p", {
                                              className: "text-sm mt-1",
                                              children: m.message,
                                            }),
                                          ],
                                        }),
                                      ],
                                    },
                                    v,
                                  ),
                                ),
                              }),
                            }),
                          ],
                        }),
                      l.errors.length > 0 &&
                        a.jsxs(M, {
                          children: [
                            a.jsx(B, {
                              children: a.jsxs(F, {
                                className: "text-destructive",
                                children: ["Erros (", l.errors.length, ")"],
                              }),
                            }),
                            a.jsx(R, {
                              children: a.jsx("div", {
                                className: "space-y-2 max-h-40 overflow-y-auto",
                                children: l.errors.map((m, v) =>
                                  a.jsxs(
                                    "div",
                                    {
                                      className:
                                        "flex items-start gap-2 p-2 rounded border border-destructive/20",
                                      children: [
                                        a.jsx(dt, {
                                          className:
                                            "h-4 w-4 text-destructive mt-0.5",
                                        }),
                                        a.jsxs("div", {
                                          className: "flex-1",
                                          children: [
                                            a.jsx(H, {
                                              variant: "destructive",
                                              className: "text-xs mb-1",
                                              children: m.type,
                                            }),
                                            a.jsx("p", {
                                              className: "text-sm",
                                              children: m.message,
                                            }),
                                          ],
                                        }),
                                      ],
                                    },
                                    v,
                                  ),
                                ),
                              }),
                            }),
                          ],
                        }),
                    ],
                  })
                : a.jsxs("div", {
                    className: "text-center py-8",
                    children: [
                      a.jsx("p", {
                        className: "text-muted-foreground mb-4",
                        children:
                          "Execute uma reviso para recomputar flags analticas, reconciliar CNJs e validar dados.",
                      }),
                      a.jsxs("div", {
                        className: "flex gap-2 justify-center",
                        children: [
                          a.jsxs(L, {
                            onClick: () => d(!0),
                            disabled: i,
                            variant: "outline",
                            className: "gap-2",
                            children: [
                              a.jsx(Pt, { className: "h-4 w-4" }),
                              "Dry Run (Preview)",
                            ],
                          }),
                          a.jsxs(L, {
                            onClick: () => d(!1),
                            disabled: i,
                            className: "gap-2",
                            children: [
                              a.jsx(qa, { className: "h-4 w-4" }),
                              "Aplicar Mudanas",
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
            }),
            a.jsxs(du, {
              className: "flex flex-col sm:flex-row gap-2",
              children: [
                a.jsxs("div", {
                  className: "flex gap-2",
                  children: [
                    l &&
                      a.jsxs(L, {
                        variant: "outline",
                        onClick: h,
                        children: [
                          a.jsx(Gt, { className: "h-4 w-4 mr-2" }),
                          "Baixar Relatrio",
                        ],
                      }),
                    a.jsx(L, {
                      variant: "outline",
                      onClick: () => n(!1),
                      children: "Fechar",
                    }),
                  ],
                }),
                l &&
                  o &&
                  a.jsxs(L, {
                    onClick: () => d(!1),
                    disabled: i || l.errors.length > 0,
                    className: "ml-auto",
                    children: [
                      a.jsx(qa, { className: "h-4 w-4 mr-2" }),
                      "Aplicar Mudanas",
                    ],
                  }),
              ],
            }),
          ],
        }),
      }),
    ],
  });
}
function T5({ isRunning: e }) {
  const t = e ? 65 : 0,
    r = [
      { id: "validate", label: "Validando operaes", completed: !0 },
      { id: "backup", label: "Criando backup", completed: !0 },
      {
        id: "cleanup",
        label: "Executando limpeza",
        completed: !1,
        inProgress: e,
      },
      { id: "verify", label: "Verificando resultados", completed: !1 },
    ];
  return a.jsxs("div", {
    className: "space-y-4",
    children: [
      a.jsx(Pi, { value: t, className: "w-full" }),
      a.jsx("div", {
        className: "space-y-2",
        children: r.map((n) =>
          a.jsxs(
            "div",
            {
              className: "flex items-center gap-2 text-sm",
              children: [
                n.completed
                  ? a.jsx(Me, { className: "h-4 w-4 text-success" })
                  : n.inProgress
                    ? a.jsx(sr, {
                        className: "h-4 w-4 animate-spin text-primary",
                      })
                    : a.jsx("div", {
                        className:
                          "h-4 w-4 rounded-full border border-muted-foreground",
                      }),
                a.jsx("span", {
                  className: n.completed
                    ? "text-success"
                    : n.inProgress
                      ? "text-primary font-medium"
                      : "text-muted-foreground",
                  children: n.label,
                }),
              ],
            },
            n.id,
          ),
        ),
      }),
      e &&
        a.jsxs("div", {
          className:
            "bg-primary/10 border border-primary/20 rounded-lg p-3 text-sm",
          children: [
            a.jsxs("div", {
              className: "flex items-center gap-2",
              children: [
                a.jsx(Qe, { className: "h-4 w-4 text-primary" }),
                a.jsx("span", {
                  className: "font-medium",
                  children: "Processamento em andamento",
                }),
              ],
            }),
            a.jsx("p", {
              className: "text-muted-foreground mt-1",
              children:
                "A limpeza pode levar alguns minutos dependendo do volume de dados.",
            }),
          ],
        }),
    ],
  });
}
const $5 = [
    {
      id: "invalid_cnjs",
      label: "CNJs Invlidos",
      description: "Remove processos com CNJs que no tm 20 dgitos numricos",
      severity: "medium",
      enabled: !0,
    },
    {
      id: "empty_fields",
      label: "Campos Obrigatrios Vazios",
      description: "Remove processos sem nome do reclamante ou ru",
      severity: "medium",
      enabled: !0,
    },
    {
      id: "duplicates",
      label: "Duplicatas",
      description: "Remove processos duplicados (mantm o mais recente)",
      severity: "high",
      enabled: !1,
    },
    {
      id: "normalize_cnjs",
      label: "Normalizar CNJs",
      description: "Remove pontuao e padroniza formato dos CNJs vlidos",
      severity: "low",
      enabled: !0,
    },
    {
      id: "hard_delete_old",
      label: "Excluso Permanente",
      description:
        "Remove permanentemente processos excludos h mais de 30 dias",
      severity: "high",
      enabled: !1,
    },
  ],
  k5 = (e) => {
    switch (e) {
      case "low":
        return "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";
      case "medium":
        return "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";
      case "high":
        return "bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";
      default:
        return "bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";
    }
  };
function M5({ open: e, onOpenChange: t }) {
  const [r, n] = P.useState(null),
    [i, s] = P.useState($5),
    [o, c] = P.useState(!1),
    [l, u] = P.useState(!1),
    [f, d] = P.useState("preview"),
    { user: h, profile: m } = ft(),
    { toast: v } = la();
  P.useEffect(() => {
    e && m?.organization_id && p();
  }, [e, m]);
  const p = async () => {
      Lc(m?.organization_id) &&
        (c(!0),
        await Td(async () => {
          const { data: w } = await te.auth.getSession(),
            O = w?.session?.access_token;
          if (!O) throw new Error("Token de autenticao no encontrado");
          const { data: S, error: E } = await te.functions.invoke(
            "database-cleanup",
            {
              body: { orgId: m.organization_id, preview: !0 },
              headers: { Authorization: `Bearer ${O}` },
            },
          );
          if (E) throw E;
          if (S?.error) throw new Error(S.error);
          n(S?.preview);
        }, "CleanupModal.loadPreview").finally(() => {
          c(!1);
        }));
    },
    x = (w, O) => {
      s((S) => S.map((E) => (E.id === w ? { ...E, enabled: O } : E)));
    },
    g = (w) => {
      if (!r) return 0;
      switch (w) {
        case "invalid_cnjs":
          return r.invalid_cnjs;
        case "empty_fields":
          return r.empty_reclamante + r.empty_reu;
        case "duplicates":
          return r.duplicates;
        case "normalize_cnjs":
          return r.invalid_cnjs;
        case "hard_delete_old":
          return r.soft_deleted;
        default:
          return 0;
      }
    },
    b = async () => {
      if (!Lc(m?.organization_id)) return;
      const w = i.filter((O) => O.enabled).map((O) => O.id);
      if (w.length === 0) {
        v({
          title: "Nenhuma operao selecionada",
          description: "Selecione pelo menos uma operao para continuar",
          variant: "destructive",
        });
        return;
      }
      (d("running"), u(!0));
      try {
        await Td(async () => {
          const { data: O } = await te.auth.getSession(),
            S = O?.session?.access_token;
          if (!S) throw new Error("Token de autenticao no encontrado");
          const { data: E, error: C } = await te.functions.invoke(
            "database-cleanup",
            {
              body: { orgId: m.organization_id, operations: w },
              headers: { Authorization: `Bearer ${S}` },
            },
          );
          if (C) throw C;
          if (E?.error) throw new Error(E.error);
          if (E?.success)
            (v({
              title: "Limpeza concluda",
              description: `${E.totalProcessed} registros processados`,
              variant: "default",
            }),
              t(!1),
              window.location.reload());
          else {
            const T = E?.results?.filter(($) => !$.success) || [];
            if (T.length > 0)
              throw new Error(
                `Algumas operaes falharam: ${T.map(($) => $.message).join(", ")}`,
              );
          }
        }, "CleanupModal.executeCleanup");
      } catch {
        d("confirm");
      } finally {
        u(!1);
      }
    },
    N = () => {
      l || (t(!1), d("preview"), n(null));
    },
    _ = () =>
      a.jsxs(a.Fragment, {
        children: [
          a.jsx(or, {
            children: a.jsxs(cr, {
              className: "flex items-center gap-2",
              children: [
                a.jsx(fn, { className: "h-5 w-5" }),
                "Limpeza da Base de Dados",
              ],
            }),
          }),
          a.jsx("div", {
            className: "space-y-6",
            children: o
              ? a.jsxs("div", {
                  className: "flex items-center justify-center py-8",
                  children: [
                    a.jsx(sr, { className: "h-8 w-8 animate-spin" }),
                    a.jsx("span", {
                      className: "ml-2",
                      children: "Carregando preview...",
                    }),
                  ],
                })
              : r
                ? a.jsxs(a.Fragment, {
                    children: [
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            children: [
                              a.jsxs(F, {
                                className: "flex items-center gap-2",
                                children: [
                                  a.jsx(dt, {
                                    className: "h-5 w-5 text-warning",
                                  }),
                                  "Resumo da Base",
                                ],
                              }),
                              a.jsx(re, {
                                children:
                                  "Problemas detectados na base de dados da sua organizao",
                              }),
                            ],
                          }),
                          a.jsx(R, {
                            children: a.jsxs("div", {
                              className: "text-center",
                              children: [
                                a.jsx("div", {
                                  className:
                                    "text-3xl font-bold text-destructive",
                                  children: r.total_issues,
                                }),
                                a.jsx("div", {
                                  className: "text-sm text-muted-foreground",
                                  children: "problemas detectados",
                                }),
                              ],
                            }),
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        className: "space-y-3",
                        children: [
                          a.jsx("h3", {
                            className: "text-lg font-semibold",
                            children: "Operaes Disponveis",
                          }),
                          i.map((w) => {
                            const O = g(w.id);
                            return a.jsx(
                              M,
                              {
                                className: "border-2",
                                children: a.jsx(R, {
                                  className: "p-4",
                                  children: a.jsxs("div", {
                                    className: "flex items-start gap-3",
                                    children: [
                                      a.jsx(Tn, {
                                        id: w.id,
                                        checked: w.enabled,
                                        onCheckedChange: (S) => x(w.id, S),
                                      }),
                                      a.jsxs("div", {
                                        className: "flex-1",
                                        children: [
                                          a.jsxs("div", {
                                            className:
                                              "flex items-center gap-2 mb-1",
                                            children: [
                                              a.jsx("label", {
                                                htmlFor: w.id,
                                                className:
                                                  "font-medium cursor-pointer",
                                                children: w.label,
                                              }),
                                              a.jsx(H, {
                                                className: k5(w.severity),
                                                children: w.severity,
                                              }),
                                              O > 0 &&
                                                a.jsxs(H, {
                                                  variant: "outline",
                                                  children: [O, " registros"],
                                                }),
                                            ],
                                          }),
                                          a.jsx("p", {
                                            className:
                                              "text-sm text-muted-foreground",
                                            children: w.description,
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                }),
                              },
                              w.id,
                            );
                          }),
                        ],
                      }),
                    ],
                  })
                : null,
          }),
          a.jsxs("div", {
            className: "flex justify-between",
            children: [
              a.jsx(L, {
                variant: "outline",
                onClick: N,
                children: "Cancelar",
              }),
              a.jsxs("div", {
                className: "flex gap-2",
                children: [
                  a.jsx(L, {
                    variant: "outline",
                    onClick: p,
                    children: "Atualizar",
                  }),
                  a.jsx(L, {
                    onClick: () => d("confirm"),
                    disabled: !i.some((w) => w.enabled) || o,
                    children: "Continuar",
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    y = () => {
      const w = i.filter((S) => S.enabled),
        O = w.reduce((S, E) => S + g(E.id), 0);
      return a.jsxs(a.Fragment, {
        children: [
          a.jsx(or, {
            children: a.jsxs(cr, {
              className: "flex items-center gap-2 text-destructive",
              children: [
                a.jsx(Qe, { className: "h-5 w-5" }),
                "Confirmao de Limpeza",
              ],
            }),
          }),
          a.jsxs("div", {
            className: "space-y-4",
            children: [
              a.jsxs("div", {
                className:
                  "bg-destructive/10 border border-destructive/20 rounded-lg p-4",
                children: [
                  a.jsx("p", {
                    className: "font-semibold text-destructive mb-2",
                    children: " Ateno!",
                  }),
                  a.jsxs("p", {
                    className: "text-sm",
                    children: [
                      "Esta operao ir processar ",
                      a.jsxs("strong", { children: [O, " registros"] }),
                      " e pode ser irreversvel. Certifique-se de que tem um backup da base de dados.",
                    ],
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "space-y-2",
                children: [
                  a.jsx("h4", {
                    className: "font-semibold",
                    children: "Operaes selecionadas:",
                  }),
                  w.map((S) =>
                    a.jsxs(
                      "div",
                      {
                        className: "flex items-center gap-2 text-sm",
                        children: [
                          a.jsx(Me, { className: "h-4 w-4 text-success" }),
                          S.label,
                          " - ",
                          g(S.id),
                          " registros",
                        ],
                      },
                      S.id,
                    ),
                  ),
                ],
              }),
            ],
          }),
          a.jsxs("div", {
            className: "flex justify-between",
            children: [
              a.jsx(L, {
                variant: "outline",
                onClick: () => d("preview"),
                children: "Voltar",
              }),
              a.jsx(L, {
                variant: "destructive",
                onClick: b,
                children: "Confirmar Limpeza",
              }),
            ],
          }),
        ],
      });
    },
    j = () =>
      a.jsxs(a.Fragment, {
        children: [
          a.jsx(or, {
            children: a.jsxs(cr, {
              className: "flex items-center gap-2",
              children: [
                a.jsx(sr, { className: "h-5 w-5 animate-spin" }),
                "Executando Limpeza",
              ],
            }),
          }),
          a.jsx(T5, { isRunning: l }),
          a.jsx("div", {
            className: "text-center text-sm text-muted-foreground",
            children: "Por favor, aguarde. A limpeza est em andamento...",
          }),
        ],
      });
  return a.jsx(hn, {
    open: e,
    onOpenChange: N,
    children: a.jsxs(mn, {
      className: "max-w-2xl max-h-[90vh] overflow-y-auto",
      children: [
        f === "preview" && _(),
        f === "confirm" && y(),
        f === "running" && j(),
      ],
    }),
  });
}
function I5({ className: e }) {
  const [t, r] = P.useState(!1);
  return a.jsxs(a.Fragment, {
    children: [
      a.jsxs(L, {
        onClick: () => r(!0),
        variant: "outline",
        size: "sm",
        className: e,
        children: [a.jsx(fn, { className: "h-4 w-4 mr-2" }), "Limpar Base"],
      }),
      a.jsx(M5, { open: t, onOpenChange: r }),
    ],
  });
}
const D5 = () => {
    const [e, t] = P.useState(!1),
      [r, n] = P.useState(null),
      [i, s] = P.useState(null),
      o = async () => {
        (t(!0), s(null), n(null));
        try {
          const { data: c, error: l } = await te.functions.invoke(
            "process-witness-data",
          );
          if (l) throw l;
          (n(c), Ve.success("Dados de testemunhas processados com sucesso!"));
        } catch (c) {
          const l = c.message || "Erro ao processar dados de testemunhas";
          (s(l), Ve.error(l));
        } finally {
          t(!1);
        }
      };
    return a.jsxs(M, {
      children: [
        a.jsxs(B, {
          children: [
            a.jsxs(F, {
              className: "flex items-center gap-2",
              children: [
                a.jsx(dr, { className: "h-5 w-5" }),
                "Processamento de Dados de Testemunhas",
              ],
            }),
            a.jsx(re, {
              children:
                "Processa os dados importados para extrair e popular informaes de testemunhas nos processos. Esta ao deve ser executada aps uma importao para garantir que os dados apaream no mapa de testemunhas.",
            }),
          ],
        }),
        a.jsxs(R, {
          className: "space-y-4",
          children: [
            i &&
              a.jsxs(Le, {
                variant: "destructive",
                children: [
                  a.jsx(Qe, { className: "h-4 w-4" }),
                  a.jsx(ze, { children: i }),
                ],
              }),
            r &&
              a.jsxs(Le, {
                children: [
                  a.jsx(Me, { className: "h-4 w-4" }),
                  a.jsx(ze, {
                    children: a.jsxs("div", {
                      className: "space-y-1",
                      children: [
                        a.jsx("p", {
                          children: a.jsx("strong", { children: r.message }),
                        }),
                        a.jsxs("p", {
                          children: [
                            "Processos processados: ",
                            r.processedCount,
                            " de ",
                            r.totalProcessos,
                          ],
                        }),
                      ],
                    }),
                  }),
                ],
              }),
            a.jsxs("div", {
              className: "flex flex-col gap-2",
              children: [
                a.jsx(L, {
                  onClick: o,
                  disabled: e,
                  className: "w-full",
                  children: e
                    ? a.jsxs(a.Fragment, {
                        children: [
                          a.jsx(sr, { className: "h-4 w-4 animate-spin mr-2" }),
                          "Processando dados...",
                        ],
                      })
                    : a.jsxs(a.Fragment, {
                        children: [
                          a.jsx(dr, { className: "h-4 w-4 mr-2" }),
                          "Processar Dados de Testemunhas",
                        ],
                      }),
                }),
                a.jsx("p", {
                  className: "text-sm text-muted-foreground",
                  children:
                    "Este processo pode levar alguns minutos dependendo da quantidade de dados.",
                }),
              ],
            }),
          ],
        }),
      ],
    });
  },
  R5 = () => {
    const { user: e } = ft(),
      [t, r] = P.useState(!0),
      [n, i] = P.useState(null),
      [s, o] = P.useState(null),
      [c, l] = P.useState(null),
      [u, f] = P.useState("overview"),
      d = async (m) => {
        try {
          const { data: v, error: p } = await te.functions.invoke(
            "admin-analytics",
            { body: { type: m } },
          );
          if (p) throw p;
          return v;
        } catch (v) {
          return (
            console.error("Error fetching analytics:", v),
            Ve.error("Erro ao carregar dados analticos"),
            null
          );
        }
      };
    P.useEffect(() => {
      (async () => {
        r(!0);
        const v = await d("overview");
        (v && i(v), r(!1));
      })();
    }, []);
    const h = async (m) => {
      if (m === "usage" && !s) {
        const v = await d("usage");
        v && o(v);
      } else if (m === "risk_patterns" && !c) {
        const v = await d("risk_patterns");
        v && l(v);
      }
    };
    return t
      ? a.jsx("div", {
          className: "flex items-center justify-center min-h-[400px]",
          children: a.jsx("div", {
            className:
              "animate-spin rounded-full h-32 w-32 border-b-2 border-primary",
          }),
        })
      : a.jsxs("div", {
          className: "space-y-6",
          children: [
            a.jsxs("div", {
              children: [
                a.jsx("h1", {
                  className: "text-3xl font-bold tracking-tight",
                  children: "Dashboard Analtico",
                }),
                a.jsx("p", {
                  className: "text-muted-foreground",
                  children: "Insights avanados e mtricas do sistema",
                }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsxs(F, {
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(dr, { className: "h-5 w-5" }),
                        "Operaes de Dados",
                      ],
                    }),
                    a.jsx(re, {
                      children:
                        "Ferramentas administrativas para manuteno e otimizao da base",
                    }),
                  ],
                }),
                a.jsx(R, {
                  children: a.jsxs("div", {
                    className: "flex gap-3",
                    children: [a.jsx(wy, {}), a.jsx(I5, {})],
                  }),
                }),
              ],
            }),
            a.jsx(D5, {}),
            a.jsxs(gr, {
              value: u,
              onValueChange: (m) => {
                (f(m), h(m));
              },
              className: "w-full",
              children: [
                a.jsxs(yr, {
                  className: "grid w-full grid-cols-4",
                  children: [
                    a.jsx(we, { value: "overview", children: "Viso Geral" }),
                    a.jsx(we, { value: "usage", children: "Uso & Custos" }),
                    a.jsx(we, {
                      value: "risk_patterns",
                      children: "Padres de Risco",
                    }),
                    a.jsx(we, {
                      value: "performance",
                      children: "Performance",
                    }),
                  ],
                }),
                a.jsxs(Pe, {
                  value: "overview",
                  className: "space-y-6",
                  children: [
                    a.jsxs("div", {
                      className: "grid gap-4 md:grid-cols-2 lg:grid-cols-4",
                      children: [
                        a.jsxs(M, {
                          children: [
                            a.jsxs(B, {
                              className:
                                "flex flex-row items-center justify-between space-y-0 pb-2",
                              children: [
                                a.jsx(F, {
                                  className: "text-sm font-medium",
                                  children: "Total Processos",
                                }),
                                a.jsx(dr, {
                                  className: "h-4 w-4 text-muted-foreground",
                                }),
                              ],
                            }),
                            a.jsxs(R, {
                              children: [
                                a.jsx("div", {
                                  className: "text-2xl font-bold",
                                  children:
                                    n?.counts.processos?.toLocaleString() || 0,
                                }),
                                a.jsx("p", {
                                  className: "text-xs text-muted-foreground",
                                  children: "Registros na base ativa",
                                }),
                              ],
                            }),
                          ],
                        }),
                        a.jsxs(M, {
                          children: [
                            a.jsxs(B, {
                              className:
                                "flex flex-row items-center justify-between space-y-0 pb-2",
                              children: [
                                a.jsx(F, {
                                  className: "text-sm font-medium",
                                  children: "Pessoas",
                                }),
                                a.jsx(Ai, {
                                  className: "h-4 w-4 text-muted-foreground",
                                }),
                              ],
                            }),
                            a.jsxs(R, {
                              children: [
                                a.jsx("div", {
                                  className: "text-2xl font-bold",
                                  children:
                                    n?.counts.pessoas?.toLocaleString() || 0,
                                }),
                                a.jsx("p", {
                                  className: "text-xs text-muted-foreground",
                                  children: "Cadastros nicos",
                                }),
                              ],
                            }),
                          ],
                        }),
                        a.jsxs(M, {
                          children: [
                            a.jsxs(B, {
                              className:
                                "flex flex-row items-center justify-between space-y-0 pb-2",
                              children: [
                                a.jsx(F, {
                                  className: "text-sm font-medium",
                                  children: "Conversas",
                                }),
                                a.jsx(Ry, {
                                  className: "h-4 w-4 text-muted-foreground",
                                }),
                              ],
                            }),
                            a.jsxs(R, {
                              children: [
                                a.jsx("div", {
                                  className: "text-2xl font-bold",
                                  children: n?.counts.conversations || 0,
                                }),
                                a.jsx("p", {
                                  className: "text-xs text-muted-foreground",
                                  children: "Interaes com IA",
                                }),
                              ],
                            }),
                          ],
                        }),
                        a.jsxs(M, {
                          children: [
                            a.jsxs(B, {
                              className:
                                "flex flex-row items-center justify-between space-y-0 pb-2",
                              children: [
                                a.jsx(F, {
                                  className: "text-sm font-medium",
                                  children: "Verso Ativa",
                                }),
                                a.jsx(Da, {
                                  className: "h-4 w-4 text-muted-foreground",
                                }),
                              ],
                            }),
                            a.jsxs(R, {
                              children: [
                                a.jsxs("div", {
                                  className: "text-2xl font-bold",
                                  children: [
                                    "v",
                                    n?.counts.activeVersion || "N/A",
                                  ],
                                }),
                                a.jsx("p", {
                                  className: "text-xs text-muted-foreground",
                                  children: "Base de dados atual",
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "grid gap-6 md:grid-cols-2",
                      children: [
                        a.jsx(yy, {
                          data: n?.riskDistribution || {
                            low: 0,
                            medium: 0,
                            high: 0,
                          },
                        }),
                        a.jsxs(M, {
                          children: [
                            a.jsxs(B, {
                              children: [
                                a.jsx(F, { children: "Atividade Recente" }),
                                a.jsx(re, {
                                  children: "ltimas interaes com o sistema",
                                }),
                              ],
                            }),
                            a.jsx(R, {
                              children: a.jsx("div", {
                                className: "space-y-3",
                                children:
                                  n?.recentActivity
                                    ?.slice(0, 5)
                                    .map((m, v) =>
                                      a.jsxs(
                                        "div",
                                        {
                                          className: "flex items-center gap-3",
                                          children: [
                                            a.jsx("div", {
                                              className:
                                                "w-2 h-2 bg-primary rounded-full",
                                            }),
                                            a.jsxs("div", {
                                              className: "flex-1",
                                              children: [
                                                a.jsxs("p", {
                                                  className:
                                                    "text-sm font-medium",
                                                  children: [
                                                    m.role === "user"
                                                      ? "Pergunta"
                                                      : "Resposta",
                                                    " - Conversa",
                                                  ],
                                                }),
                                                a.jsx("p", {
                                                  className:
                                                    "text-xs text-muted-foreground",
                                                  children: new Date(
                                                    m.created_at,
                                                  ).toLocaleString("pt-BR"),
                                                }),
                                              ],
                                            }),
                                          ],
                                        },
                                        v,
                                      ),
                                    ) ||
                                  a.jsx("div", {
                                    className:
                                      "text-center text-muted-foreground py-4",
                                    children: "Nenhuma atividade recente",
                                  }),
                              }),
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsx(Pe, {
                  value: "usage",
                  className: "space-y-6",
                  children: s
                    ? a.jsxs(a.Fragment, {
                        children: [
                          a.jsxs("div", {
                            className:
                              "grid gap-4 md:grid-cols-2 lg:grid-cols-4",
                            children: [
                              a.jsxs(M, {
                                children: [
                                  a.jsxs(B, {
                                    className:
                                      "flex flex-row items-center justify-between space-y-0 pb-2",
                                    children: [
                                      a.jsx(F, {
                                        className: "text-sm font-medium",
                                        children: "Total Consultas",
                                      }),
                                      a.jsx(_n, {
                                        className:
                                          "h-4 w-4 text-muted-foreground",
                                      }),
                                    ],
                                  }),
                                  a.jsxs(R, {
                                    children: [
                                      a.jsx("div", {
                                        className: "text-2xl font-bold",
                                        children:
                                          s.totalStats.totalRequests.toLocaleString(),
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children: "ltimos 30 dias",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              a.jsxs(M, {
                                children: [
                                  a.jsxs(B, {
                                    className:
                                      "flex flex-row items-center justify-between space-y-0 pb-2",
                                    children: [
                                      a.jsx(F, {
                                        className: "text-sm font-medium",
                                        children: "Custo Total",
                                      }),
                                      a.jsx(vo, {
                                        className:
                                          "h-4 w-4 text-muted-foreground",
                                      }),
                                    ],
                                  }),
                                  a.jsxs(R, {
                                    children: [
                                      a.jsxs("div", {
                                        className: "text-2xl font-bold",
                                        children: [
                                          "$",
                                          (
                                            s.totalStats.totalCost / 100
                                          ).toFixed(2),
                                        ],
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children: "OpenAI API",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              a.jsxs(M, {
                                children: [
                                  a.jsxs(B, {
                                    className:
                                      "flex flex-row items-center justify-between space-y-0 pb-2",
                                    children: [
                                      a.jsx(F, {
                                        className: "text-sm font-medium",
                                        children: "Tokens Processados",
                                      }),
                                      a.jsx(_p, {
                                        className:
                                          "h-4 w-4 text-muted-foreground",
                                      }),
                                    ],
                                  }),
                                  a.jsxs(R, {
                                    children: [
                                      a.jsxs("div", {
                                        className: "text-2xl font-bold",
                                        children: [
                                          (
                                            s.totalStats.totalTokens / 1e3
                                          ).toFixed(1),
                                          "K",
                                        ],
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children: "Entrada + Sada",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              a.jsxs(M, {
                                children: [
                                  a.jsxs(B, {
                                    className:
                                      "flex flex-row items-center justify-between space-y-0 pb-2",
                                    children: [
                                      a.jsx(F, {
                                        className: "text-sm font-medium",
                                        children: "Tempo Mdio",
                                      }),
                                      a.jsx(Da, {
                                        className:
                                          "h-4 w-4 text-muted-foreground",
                                      }),
                                    ],
                                  }),
                                  a.jsxs(R, {
                                    children: [
                                      a.jsxs("div", {
                                        className: "text-2xl font-bold",
                                        children: [
                                          (
                                            s.totalStats.avgResponseTime / 1e3
                                          ).toFixed(1),
                                          "s",
                                        ],
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children: "Resposta da API",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "grid gap-6",
                            children: [
                              a.jsx(gy, { data: s.dailyUsage }),
                              a.jsx(jy, { data: s.dailyUsage }),
                            ],
                          }),
                        ],
                      })
                    : a.jsx("div", {
                        className:
                          "flex items-center justify-center min-h-[300px]",
                        children: a.jsx("div", {
                          className:
                            "animate-spin rounded-full h-16 w-16 border-b-2 border-primary",
                        }),
                      }),
                }),
                a.jsx(Pe, {
                  value: "risk_patterns",
                  className: "space-y-6",
                  children: c
                    ? a.jsxs(a.Fragment, {
                        children: [
                          a.jsxs("div", {
                            className: "grid gap-4 md:grid-cols-3",
                            children: [
                              a.jsxs(M, {
                                children: [
                                  a.jsx(B, {
                                    children: a.jsx(F, {
                                      className: "text-sm font-medium",
                                      children: "Risco Mdio Geral",
                                    }),
                                  }),
                                  a.jsxs(R, {
                                    children: [
                                      a.jsx("div", {
                                        className: "text-3xl font-bold",
                                        children:
                                          c.avgRisk?.toFixed(1) || "N/A",
                                      }),
                                      a.jsxs("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children: [
                                          "De ",
                                          c.totalProcessos,
                                          " processos",
                                        ],
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              a.jsxs(M, {
                                children: [
                                  a.jsx(B, {
                                    children: a.jsx(F, {
                                      className: "text-sm font-medium",
                                      children: "Alto Risco",
                                    }),
                                  }),
                                  a.jsxs(R, {
                                    children: [
                                      a.jsxs("div", {
                                        className:
                                          "text-3xl font-bold text-red-600",
                                        children: [
                                          c.highRiskPercentage?.toFixed(1) || 0,
                                          "%",
                                        ],
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children: "Processos com score  8",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              a.jsxs(M, {
                                children: [
                                  a.jsx(B, {
                                    children: a.jsx(F, {
                                      className: "text-sm font-medium",
                                      children: "Total Analisado",
                                    }),
                                  }),
                                  a.jsxs(R, {
                                    children: [
                                      a.jsx("div", {
                                        className: "text-3xl font-bold",
                                        children:
                                          c.totalProcessos?.toLocaleString() ||
                                          0,
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children: "Processos com score",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                          a.jsx(by, { data: c.comarcaStats }),
                        ],
                      })
                    : a.jsx("div", {
                        className:
                          "flex items-center justify-center min-h-[300px]",
                        children: a.jsx("div", {
                          className:
                            "animate-spin rounded-full h-16 w-16 border-b-2 border-primary",
                        }),
                      }),
                }),
                a.jsx(Pe, {
                  value: "performance",
                  className: "space-y-6",
                  children: a.jsxs(M, {
                    children: [
                      a.jsxs(B, {
                        children: [
                          a.jsx(F, { children: "Mtricas de Performance" }),
                          a.jsx(re, {
                            children:
                              "Em desenvolvimento - mtricas de sistema e performance",
                          }),
                        ],
                      }),
                      a.jsx(R, {
                        children: a.jsx("div", {
                          className:
                            "flex items-center justify-center h-[200px] text-muted-foreground",
                          children: " Funcionalidade em desenvolvimento",
                        }),
                      }),
                    ],
                  }),
                }),
              ],
            }),
          ],
        });
  },
  KV = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: R5 },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  Ia = async () => {
    const {
      data: { user: e },
    } = await te.auth.getUser();
    return !!e;
  },
  L5 = () => {
    const [e, t] = P.useState(!1),
      [r, n] = P.useState(null),
      [i, s] = P.useState("30d"),
      [o, c] = P.useState(!1),
      [l, u] = P.useState(null),
      [f, d] = P.useState(null),
      h = async (x) => {
        if (await Ia()) {
          t(!0);
          try {
            const { data: g, error: b } = await te.functions.invoke(
              "admin-analytics",
              { body: { type: "detailed_report", period: x } },
            );
            if (b) throw b;
            n(g);
          } catch (g) {
            (console.error("Error fetching detailed analytics:", g),
              Ve.error("Erro ao carregar relatrio detalhado"));
          } finally {
            t(!1);
          }
        }
      },
      m = async () => {
        if (await Ia())
          try {
            const { data: x, error: g } = await te.functions.invoke(
              "admin-analytics",
              { body: { type: "usage", period: i } },
            );
            if (g) throw g;
            u(x);
          } catch (x) {
            console.error("Error fetching usage data:", x);
          }
      },
      v = async () => {
        if (await Ia())
          try {
            const { data: x, error: g } = await te.functions.invoke(
              "admin-analytics",
              { body: { type: "ai_patterns" } },
            );
            if (g) throw g;
            d(x);
          } catch (x) {
            console.error("Error fetching patterns data:", x);
          }
      },
      p = async (x) => {
        if (await Ia()) {
          c(!0);
          try {
            const { data: g, error: b } = await te.functions.invoke(
              "admin-analytics",
              { body: { type: "export", format: x, period: i } },
            );
            if (b) throw b;
            const N = new Blob([JSON.stringify(g.data, null, 2)], {
                type: "application/json",
              }),
              _ = window.URL.createObjectURL(N),
              y = document.createElement("a");
            ((y.href = _),
              (y.download = `analytics-report-${i}.json`),
              document.body.appendChild(y),
              y.click(),
              document.body.removeChild(y),
              window.URL.revokeObjectURL(_),
              Ve.success("Relatrio exportado com sucesso"));
          } catch (g) {
            (console.error("Error exporting report:", g),
              Ve.error("Erro ao exportar relatrio"));
          } finally {
            c(!1);
          }
        }
      };
    return (
      P.useEffect(() => {
        (h(i), m(), v());
      }, [i]),
      a.jsxs("div", {
        className: "space-y-6",
        children: [
          a.jsxs("div", {
            className: "flex items-center justify-between",
            children: [
              a.jsxs("div", {
                children: [
                  a.jsx("h1", {
                    className: "text-3xl font-bold tracking-tight",
                    children: "Analytics Avanado",
                  }),
                  a.jsx("p", {
                    className: "text-muted-foreground",
                    children: "Relatrios detalhados e anlises de performance",
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "flex items-center gap-2",
                children: [
                  a.jsxs(L, {
                    variant: "outline",
                    onClick: () => h(i),
                    disabled: e,
                    children: [
                      a.jsx(Tr, {
                        className: `h-4 w-4 mr-2 ${e ? "animate-spin" : ""}`,
                      }),
                      "Atualizar",
                    ],
                  }),
                  a.jsxs(L, {
                    variant: "outline",
                    onClick: () => p("excel"),
                    disabled: o,
                    children: [
                      a.jsx(Gt, { className: "h-4 w-4 mr-2" }),
                      "Excel",
                    ],
                  }),
                  a.jsxs(L, {
                    variant: "outline",
                    onClick: () => p("pdf"),
                    disabled: o,
                    children: [a.jsx(Kt, { className: "h-4 w-4 mr-2" }), "PDF"],
                  }),
                ],
              }),
            ],
          }),
          a.jsxs("div", {
            className: "flex items-center gap-2",
            children: [
              a.jsx(Ly, { className: "h-4 w-4" }),
              a.jsx("span", {
                className: "text-sm font-medium",
                children: "Perodo:",
              }),
              ["7d", "30d", "90d", "1y"].map((x) =>
                a.jsxs(
                  L,
                  {
                    variant: i === x ? "default" : "outline",
                    size: "sm",
                    onClick: () => s(x),
                    children: [
                      x === "7d" && "7 dias",
                      x === "30d" && "30 dias",
                      x === "90d" && "90 dias",
                      x === "1y" && "1 ano",
                    ],
                  },
                  x,
                ),
              ),
            ],
          }),
          a.jsxs(gr, {
            defaultValue: "overview",
            className: "w-full",
            children: [
              a.jsxs(yr, {
                className: "grid w-full grid-cols-4",
                children: [
                  a.jsx(we, {
                    value: "overview",
                    children: "Resumo Executivo",
                  }),
                  a.jsx(we, { value: "usage", children: "Anlise de Uso" }),
                  a.jsx(we, {
                    value: "patterns",
                    children: "Padres Detectados",
                  }),
                  a.jsx(we, {
                    value: "recommendations",
                    children: "Recomendaes",
                  }),
                ],
              }),
              a.jsxs(Pe, {
                value: "overview",
                className: "space-y-6",
                children: [
                  a.jsxs("div", {
                    className: "grid gap-4 md:grid-cols-2 lg:grid-cols-4",
                    children: [
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            className:
                              "flex flex-row items-center justify-between space-y-0 pb-2",
                            children: [
                              a.jsx(F, {
                                className: "text-sm font-medium",
                                children: "Queries Totais",
                              }),
                              a.jsx(_p, {
                                className: "h-4 w-4 text-muted-foreground",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold",
                                children:
                                  r?.totalQueries?.toLocaleString() || 0,
                              }),
                              a.jsxs("div", {
                                className: "flex items-center gap-1 text-xs",
                                children: [
                                  a.jsx(_n, {
                                    className: "h-3 w-3 text-green-500",
                                  }),
                                  a.jsx("span", {
                                    className: "text-green-500",
                                    children: "+12.3%",
                                  }),
                                  a.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "vs perodo anterior",
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            className:
                              "flex flex-row items-center justify-between space-y-0 pb-2",
                            children: [
                              a.jsx(F, {
                                className: "text-sm font-medium",
                                children: "Custo Total",
                              }),
                              a.jsx(_n, {
                                className: "h-4 w-4 text-muted-foreground",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsxs("div", {
                                className: "text-2xl font-bold",
                                children: [
                                  "$",
                                  ((r?.totalCost || 0) / 100).toFixed(2),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex items-center gap-1 text-xs",
                                children: [
                                  a.jsx(ac, {
                                    className: "h-3 w-3 text-red-500",
                                  }),
                                  a.jsx("span", {
                                    className: "text-red-500",
                                    children: "-5.1%",
                                  }),
                                  a.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "custo por query",
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            className:
                              "flex flex-row items-center justify-between space-y-0 pb-2",
                            children: [
                              a.jsx(F, {
                                className: "text-sm font-medium",
                                children: "Tempo Mdio",
                              }),
                              a.jsx(ac, {
                                className: "h-4 w-4 text-muted-foreground",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsxs("div", {
                                className: "text-2xl font-bold",
                                children: [
                                  ((r?.avgResponseTime || 0) / 1e3).toFixed(1),
                                  "s",
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex items-center gap-1 text-xs",
                                children: [
                                  a.jsx(ac, {
                                    className: "h-3 w-3 text-green-500",
                                  }),
                                  a.jsx("span", {
                                    className: "text-green-500",
                                    children: "-8.7%",
                                  }),
                                  a.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "melhoria",
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            className:
                              "flex flex-row items-center justify-between space-y-0 pb-2",
                            children: [
                              a.jsx(F, {
                                className: "text-sm font-medium",
                                children: "Usurios Ativos",
                              }),
                              a.jsx(_n, {
                                className: "h-4 w-4 text-muted-foreground",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold",
                                children: r?.userActivity?.length || 0,
                              }),
                              a.jsxs("div", {
                                className: "flex items-center gap-1 text-xs",
                                children: [
                                  a.jsx(_n, {
                                    className: "h-3 w-3 text-green-500",
                                  }),
                                  a.jsx("span", {
                                    className: "text-green-500",
                                    children: "+23.4%",
                                  }),
                                  a.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "engajamento",
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "grid gap-6 md:grid-cols-2",
                    children: [
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            children: [
                              a.jsx(F, { children: "Insights Principais" }),
                              a.jsx(re, {
                                children: "Descobertas importantes do perodo",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            className: "space-y-4",
                            children: [
                              a.jsxs("div", {
                                className: "flex items-start gap-3",
                                children: [
                                  a.jsx("div", {
                                    className:
                                      "w-2 h-2 bg-green-500 rounded-full mt-2",
                                  }),
                                  a.jsxs("div", {
                                    children: [
                                      a.jsx("p", {
                                        className: "text-sm font-medium",
                                        children: "Eficincia Melhorada",
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children:
                                          "Tempo mdio de resposta reduziu 8.7% com otimizaes de prompts",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex items-start gap-3",
                                children: [
                                  a.jsx("div", {
                                    className:
                                      "w-2 h-2 bg-blue-500 rounded-full mt-2",
                                  }),
                                  a.jsxs("div", {
                                    children: [
                                      a.jsx("p", {
                                        className: "text-sm font-medium",
                                        children: "Padro de Alto Risco",
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children:
                                          "Comarca X apresenta 67% dos processos com risco elevado",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex items-start gap-3",
                                children: [
                                  a.jsx("div", {
                                    className:
                                      "w-2 h-2 bg-orange-500 rounded-full mt-2",
                                  }),
                                  a.jsxs("div", {
                                    children: [
                                      a.jsx("p", {
                                        className: "text-sm font-medium",
                                        children: "Pico de Uso",
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-xs text-muted-foreground",
                                        children:
                                          "Tera-feira, 14h-16h  o horrio de maior demanda",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            children: [
                              a.jsx(F, { children: "Mtricas de Qualidade" }),
                              a.jsx(re, {
                                children:
                                  "Indicadores de satisfao e preciso",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            className: "space-y-4",
                            children: [
                              a.jsxs("div", {
                                className: "space-y-2",
                                children: [
                                  a.jsxs("div", {
                                    className: "flex justify-between text-sm",
                                    children: [
                                      a.jsx("span", {
                                        children: "Preciso das Anlises",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "94.2%",
                                      }),
                                    ],
                                  }),
                                  a.jsx("div", {
                                    className:
                                      "w-full bg-muted rounded-full h-2",
                                    children: a.jsx("div", {
                                      className:
                                        "bg-green-500 h-2 rounded-full w-[94%]",
                                    }),
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "space-y-2",
                                children: [
                                  a.jsxs("div", {
                                    className: "flex justify-between text-sm",
                                    children: [
                                      a.jsx("span", {
                                        children: "Satisfao do Usurio",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "91.8%",
                                      }),
                                    ],
                                  }),
                                  a.jsx("div", {
                                    className:
                                      "w-full bg-muted rounded-full h-2",
                                    children: a.jsx("div", {
                                      className:
                                        "bg-blue-500 h-2 rounded-full w-[92%]",
                                    }),
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "space-y-2",
                                children: [
                                  a.jsxs("div", {
                                    className: "flex justify-between text-sm",
                                    children: [
                                      a.jsx("span", {
                                        children: "Taxa de Resoluo",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "87.3%",
                                      }),
                                    ],
                                  }),
                                  a.jsx("div", {
                                    className:
                                      "w-full bg-muted rounded-full h-2",
                                    children: a.jsx("div", {
                                      className:
                                        "bg-orange-500 h-2 rounded-full w-[87%]",
                                    }),
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              a.jsxs(Pe, {
                value: "usage",
                className: "space-y-6",
                children: [
                  e
                    ? a.jsxs("div", {
                        className: "grid gap-4 md:grid-cols-2",
                        children: [
                          a.jsx($d, { className: "h-[300px]" }),
                          a.jsx($d, { className: "h-[300px]" }),
                        ],
                      })
                    : a.jsxs("div", {
                        className: "grid gap-6 md:grid-cols-2",
                        children: [
                          a.jsx(gy, { data: l?.dailyUsage || [] }),
                          a.jsx(jy, { data: l?.dailyUsage || [] }),
                          a.jsx(yy, {
                            data: r?.riskPatterns?.riskDistribution || {
                              low: 0,
                              medium: 0,
                              high: 0,
                            },
                          }),
                          a.jsx(by, {
                            data: r?.riskPatterns?.comarcaStats || [],
                          }),
                        ],
                      }),
                  a.jsxs("div", {
                    className: "grid gap-4 md:grid-cols-3",
                    children: [
                      a.jsxs(M, {
                        children: [
                          a.jsx(B, {
                            children: a.jsx(F, {
                              className: "text-sm",
                              children: "Total de Requests",
                            }),
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold",
                                children:
                                  l?.totalStats?.totalRequests?.toLocaleString() ||
                                  0,
                              }),
                              a.jsxs("p", {
                                className: "text-xs text-muted-foreground",
                                children: ["ltimos ", i],
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsx(B, {
                            children: a.jsx(F, {
                              className: "text-sm",
                              children: "Custo Total",
                            }),
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsxs("div", {
                                className: "text-2xl font-bold",
                                children: [
                                  "$",
                                  (
                                    (l?.totalStats?.totalCost || 0) / 100
                                  ).toFixed(2),
                                ],
                              }),
                              a.jsxs("p", {
                                className: "text-xs text-muted-foreground",
                                children: ["ltimos ", i],
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsx(B, {
                            children: a.jsx(F, {
                              className: "text-sm",
                              children: "Usurios Ativos",
                            }),
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold",
                                children: l?.userStats?.length || 0,
                              }),
                              a.jsx("p", {
                                className: "text-xs text-muted-foreground",
                                children: "Perodo selecionado",
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              a.jsxs(Pe, {
                value: "patterns",
                className: "space-y-6",
                children: [
                  a.jsxs("div", {
                    className: "grid gap-4 md:grid-cols-4",
                    children: [
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            className:
                              "flex flex-row items-center justify-between space-y-0 pb-2",
                            children: [
                              a.jsx(F, {
                                className: "text-sm font-medium",
                                children: "Troca Direta",
                              }),
                              a.jsx(ka, {
                                className: "h-4 w-4 text-muted-foreground",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold",
                                children: f?.patterns?.trocaDireta || 0,
                              }),
                              a.jsx("p", {
                                className: "text-xs text-muted-foreground",
                                children: "casos detectados",
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            className:
                              "flex flex-row items-center justify-between space-y-0 pb-2",
                            children: [
                              a.jsx(F, {
                                className: "text-sm font-medium",
                                children: "Triangulao",
                              }),
                              a.jsx(ka, {
                                className: "h-4 w-4 text-muted-foreground",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold",
                                children: f?.patterns?.triangulacao || 0,
                              }),
                              a.jsx("p", {
                                className: "text-xs text-muted-foreground",
                                children: "casos detectados",
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            className:
                              "flex flex-row items-center justify-between space-y-0 pb-2",
                            children: [
                              a.jsx(F, {
                                className: "text-sm font-medium",
                                children: "Prova Emprestada",
                              }),
                              a.jsx(ka, {
                                className: "h-4 w-4 text-muted-foreground",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold",
                                children: f?.patterns?.provaEmprestada || 0,
                              }),
                              a.jsx("p", {
                                className: "text-xs text-muted-foreground",
                                children: "casos detectados",
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            className:
                              "flex flex-row items-center justify-between space-y-0 pb-2",
                            children: [
                              a.jsx(F, {
                                className: "text-sm font-medium",
                                children: "Duplo Papel",
                              }),
                              a.jsx(ka, {
                                className: "h-4 w-4 text-muted-foreground",
                              }),
                            ],
                          }),
                          a.jsxs(R, {
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold",
                                children: f?.patterns?.duploPapel || 0,
                              }),
                              a.jsx("p", {
                                className: "text-xs text-muted-foreground",
                                children: "casos detectados",
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "grid gap-6 md:grid-cols-2",
                    children: [
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            children: [
                              a.jsx(F, { children: "Anlise de Complexidade" }),
                              a.jsx(re, {
                                children:
                                  "Distribuio dos processos por complexidade de padres",
                              }),
                            ],
                          }),
                          a.jsx(R, {
                            children: a.jsxs("div", {
                              className: "space-y-3",
                              children: [
                                a.jsxs("div", {
                                  className:
                                    "flex justify-between items-center",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-sm",
                                      children: "Baixa Complexidade",
                                    }),
                                    a.jsx(H, {
                                      variant: "outline",
                                      className: "bg-green-50 text-green-700",
                                      children:
                                        f?.complexityDistribution?.low || 0,
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className:
                                    "flex justify-between items-center",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-sm",
                                      children: "Mdia Complexidade",
                                    }),
                                    a.jsx(H, {
                                      variant: "outline",
                                      className: "bg-yellow-50 text-yellow-700",
                                      children:
                                        f?.complexityDistribution?.medium || 0,
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className:
                                    "flex justify-between items-center",
                                  children: [
                                    a.jsx("span", {
                                      className: "text-sm",
                                      children: "Alta Complexidade",
                                    }),
                                    a.jsx(H, {
                                      variant: "outline",
                                      className: "bg-red-50 text-red-700",
                                      children:
                                        f?.complexityDistribution?.high || 0,
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        children: [
                          a.jsxs(B, {
                            children: [
                              a.jsx(F, { children: "Correlao Risco-Padro" }),
                              a.jsx(re, {
                                children:
                                  "Anlise estatstica da correlao entre padres e risco",
                              }),
                            ],
                          }),
                          a.jsx(R, {
                            children: a.jsxs("div", {
                              className: "text-center space-y-2",
                              children: [
                                a.jsx("div", {
                                  className: "text-3xl font-bold",
                                  children: (f?.riskCorrelation || 0).toFixed(
                                    2,
                                  ),
                                }),
                                a.jsx("p", {
                                  className: "text-sm text-muted-foreground",
                                  children: "Coeficiente de correlao",
                                }),
                                a.jsx("div", {
                                  className: "text-xs",
                                  children:
                                    (f?.riskCorrelation || 0) > 0.7
                                      ? a.jsx(H, {
                                          className: "bg-red-100 text-red-800",
                                          children: "Correlao Forte",
                                        })
                                      : (f?.riskCorrelation || 0) > 0.4
                                        ? a.jsx(H, {
                                            className:
                                              "bg-yellow-100 text-yellow-800",
                                            children: "Correlao Moderada",
                                          })
                                        : a.jsx(H, {
                                            className:
                                              "bg-green-100 text-green-800",
                                            children: "Correlao Fraca",
                                          }),
                                }),
                              ],
                            }),
                          }),
                        ],
                      }),
                    ],
                  }),
                  f?.criticalCombinations > 0 &&
                    a.jsxs(M, {
                      children: [
                        a.jsxs(B, {
                          children: [
                            a.jsxs(F, {
                              className: "flex items-center gap-2",
                              children: [
                                a.jsx(dt, {
                                  className: "h-5 w-5 text-orange-500",
                                }),
                                "Combinaes Crticas Detectadas",
                              ],
                            }),
                            a.jsx(re, {
                              children:
                                "Processos com mltiplos padres de risco simultneos",
                            }),
                          ],
                        }),
                        a.jsxs(R, {
                          children: [
                            a.jsx("div", {
                              className: "text-2xl font-bold text-orange-600",
                              children: f.criticalCombinations,
                            }),
                            a.jsx("p", {
                              className: "text-sm text-muted-foreground",
                              children:
                                "processos com 2+ padres crticos combinados",
                            }),
                          ],
                        }),
                      ],
                    }),
                ],
              }),
              a.jsxs(Pe, {
                value: "recommendations",
                className: "space-y-6",
                children: [
                  (r?.insights?.length ?? 0) > 0 &&
                    a.jsxs(M, {
                      children: [
                        a.jsxs(B, {
                          children: [
                            a.jsxs(F, {
                              className: "flex items-center gap-2",
                              children: [
                                a.jsx(ls, {
                                  className: "h-5 w-5 text-blue-500",
                                }),
                                "Insights Automticos",
                              ],
                            }),
                            a.jsx(re, {
                              children:
                                "Descobertas geradas pela anlise de IA",
                            }),
                          ],
                        }),
                        a.jsx(R, {
                          className: "space-y-4",
                          children: r?.insights?.map((x, g) =>
                            a.jsxs(
                              "div",
                              {
                                className: `border-l-4 pl-4 ${x.type === "warning" ? "border-orange-500" : x.type === "error" ? "border-red-500" : "border-blue-500"}`,
                                children: [
                                  a.jsxs("div", {
                                    className: "flex items-center gap-2 mb-1",
                                    children: [
                                      x.type === "warning" &&
                                        a.jsx(dt, {
                                          className: "h-4 w-4 text-orange-500",
                                        }),
                                      x.type === "error" &&
                                        a.jsx(dt, {
                                          className: "h-4 w-4 text-red-500",
                                        }),
                                      x.type === "info" &&
                                        a.jsx(ls, {
                                          className: "h-4 w-4 text-blue-500",
                                        }),
                                      a.jsx("h4", {
                                        className: "font-medium",
                                        children: x.title,
                                      }),
                                      a.jsx(H, {
                                        variant: "outline",
                                        className: "text-xs",
                                        children: x.category,
                                      }),
                                    ],
                                  }),
                                  a.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: x.description,
                                  }),
                                ],
                              },
                              g,
                            ),
                          ),
                        }),
                      ],
                    }),
                  a.jsxs(M, {
                    children: [
                      a.jsxs(B, {
                        children: [
                          a.jsx(F, { children: "Recomendaes Estratgicas" }),
                          a.jsx(re, {
                            children:
                              "Aes sugeridas baseadas na anlise completa dos dados",
                          }),
                        ],
                      }),
                      a.jsx(R, {
                        className: "space-y-4",
                        children:
                          (r?.recommendations?.length ?? 0) > 0
                            ? r?.recommendations?.map((x, g) =>
                                a.jsxs(
                                  "div",
                                  {
                                    className: `border-l-4 pl-4 ${x.priority === "high" ? "border-red-500" : x.priority === "medium" ? "border-orange-500" : "border-green-500"}`,
                                    children: [
                                      a.jsxs("div", {
                                        className:
                                          "flex items-center gap-2 mb-1",
                                        children: [
                                          a.jsx("h4", {
                                            className: "font-medium",
                                            children: x.title,
                                          }),
                                          a.jsxs(H, {
                                            variant:
                                              x.priority === "high"
                                                ? "destructive"
                                                : x.priority === "medium"
                                                  ? "default"
                                                  : "secondary",
                                            children: [
                                              x.priority === "high"
                                                ? "Alta"
                                                : x.priority === "medium"
                                                  ? "Mdia"
                                                  : "Baixa",
                                              " Prioridade",
                                            ],
                                          }),
                                          a.jsx(H, {
                                            variant: "outline",
                                            className: "text-xs",
                                            children: x.category,
                                          }),
                                        ],
                                      }),
                                      a.jsx("p", {
                                        className:
                                          "text-sm text-muted-foreground mb-2",
                                        children: x.description,
                                      }),
                                      a.jsxs("p", {
                                        className:
                                          "text-xs text-green-600 font-medium",
                                        children: [
                                          "Impacto esperado: ",
                                          x.expectedImpact,
                                        ],
                                      }),
                                    ],
                                  },
                                  g,
                                ),
                              )
                            : a.jsxs("div", {
                                className:
                                  "text-center text-muted-foreground py-8",
                                children: [
                                  a.jsx(Me, {
                                    className:
                                      "h-12 w-12 mx-auto mb-4 text-green-500",
                                  }),
                                  a.jsx("p", {
                                    children:
                                      "Sistema funcionando dentro dos parmetros ideais",
                                  }),
                                  a.jsx("p", {
                                    className: "text-sm",
                                    children:
                                      "Nenhuma recomendao crtica no momento",
                                  }),
                                ],
                              }),
                      }),
                    ],
                  }),
                ],
              }),
            ],
          }),
        ],
      })
    );
  },
  HV = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: L5 },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  );
async function Ny(e) {
  const t = e.type;
  if (t === "text/csv" || e.name.endsWith(".csv")) return z5(e);
  if (t.includes("spreadsheet") || e.name.match(/\.(xlsx?|xls)$/i))
    return V5(e);
  throw new Error(
    "Formato de arquivo no suportado. Use CSV ou Excel (.xlsx, .xls)",
  );
}
async function z5(e) {
  return new Promise((t, r) => {
    kp.parse(e, {
      header: !0,
      skipEmptyLines: !0,
      preview: 100,
      complete: (n) => {
        try {
          n.errors.length > 0 &&
            console.warn("CSV parsing warnings:", n.errors);
          const i = n.meta.fields || [],
            s = n.data;
          if (i.length === 0)
            throw new Error("Nenhuma coluna foi detectada no arquivo CSV");
          const o = {
            name: e.name.replace(/\.[^/.]+$/, ""),
            headers: i,
            rows: s.length,
            model: _y(i),
            hasListColumn: Oy(i),
            sampleData: s.slice(0, 5),
          };
          t([o]);
        } catch (i) {
          r(i);
        }
      },
      error: (n) => {
        r(new Error(`Erro ao analisar CSV: ${n.message}`));
      },
    });
  });
}
const B5 = [
  "dicionario",
  "dictionary",
  "docs",
  "documentao",
  "documentacao",
  "info",
  "instructions",
  "instrucoes",
  "readme",
  "help",
  "ajuda",
  "template",
  "exemplo",
  "sample",
  "metadata",
  "config",
  "configuracao",
];
function F5(e, t, r) {
  const n = e.toLowerCase().trim();
  return !!(B5.some((i) => n.includes(i)) || r.length < 2 || t.length < 3);
}
async function V5(e) {
  const t = await Ga(() => import("./xlsx-BBMPxr6S.js"), []);
  return new Promise((r, n) => {
    const i = new FileReader();
    ((i.onload = (s) => {
      try {
        const o = new Uint8Array(s.target?.result),
          c = t.read(o, { type: "array" }),
          l = [],
          u = [];
        if (
          (c.SheetNames.forEach((f) => {
            const d = c.Sheets[f],
              h = t.utils.sheet_to_json(d, { header: 1 });
            if (h.length === 0) return;
            const m = h[0].filter(Boolean),
              v = h
                .slice(1)
                .filter((x) => x && x.some((g) => g != null && g !== ""));
            if (m.length === 0) return;
            if (F5(f, m, v)) {
              u.push(f);
              return;
            }
            const p = {
              name: f,
              headers: m,
              rows: v.length,
              model: _y(m),
              hasListColumn: Oy(m),
              sampleData: v.slice(0, 5).map((x) => {
                const g = {};
                return (
                  m.forEach((b, N) => {
                    g[b] = x[N] || null;
                  }),
                  g
                );
              }),
            };
            l.push(p);
          }),
          l.length === 0)
        )
          throw new Error(
            "Nenhuma aba com dados vlidos foi encontrada. Todas as abas foram ignoradas ou esto vazias.",
          );
        r(l);
      } catch (o) {
        n(
          new Error(
            `Erro ao analisar Excel: ${o instanceof Error ? o.message : "Erro desconhecido"}`,
          ),
        );
      }
    }),
      (i.onerror = () => {
        n(new Error("Erro ao ler arquivo"));
      }),
      i.readAsArrayBuffer(e));
  });
}
function _y(e) {
  const t = e.map((m) => m.toLowerCase().trim()),
    r = [
      "nome_testemunha",
      "cnjs_como_testemunha",
      "qtd_depoimentos",
      "quantidade_depoimentos",
    ],
    n = ["testemunha", "depoimentos", "como_testemunha"],
    i = [
      "reclamante_nome",
      "reu_nome",
      "advogados_ativo",
      "advogados_passivo",
      "todas_testemunhas",
      "testemunhas_todas",
    ],
    s = [
      "reclamante",
      "reu",
      "advogado",
      "comarca",
      "tribunal",
      "vara",
      "fase",
      "status",
    ],
    o = r.reduce((m, v) => (t.some((p) => p.includes(v)) ? m + 3 : m), 0),
    c = n.reduce((m, v) => (t.some((p) => p.includes(v)) ? m + 1 : m), 0),
    l = i.reduce((m, v) => (t.some((p) => p.includes(v)) ? m + 3 : m), 0),
    u = s.reduce((m, v) => (t.some((p) => p.includes(v)) ? m + 1 : m), 0),
    f = o + c,
    d = l + u;
  return t.some(
    (m) =>
      m.includes("cnj") ||
      m.includes("numero_processo") ||
      m.includes("processo"),
  )
    ? o > 0 && o >= l
      ? "testemunha"
      : l > 0 && l > o
        ? "processo"
        : f > d && f >= 1
          ? "testemunha"
          : (d > f && d >= 1, "processo")
    : "ambiguous";
}
function Oy(e) {
  const t = [
    "cnjs_como_testemunha",
    "todas_testemunhas",
    "testemunhas_todas",
    "advogados_ativo",
    "advogados_passivo",
  ];
  return e.some((r) =>
    t.some((n) => r.toLowerCase().includes(n.toLowerCase())),
  );
}
function U5() {
  return `session_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;
}
function q5({ open: e, sheets: t, onComplete: r, onCancel: n }) {
  const [i, s] = P.useState(t);
  P.useEffect(() => {
    s(t);
  }, [t]);
  const o = (f, d) => {
      const h = [...i];
      ((h[f] = { ...h[f], model: d }), s(h));
    },
    c = i.every((f) => f.model !== "ambiguous"),
    l = () =>
      i
        .filter((d) => d.model !== "ignore")
        .some((d) => d.model === "processo" || d.model === "testemunha"),
    u = () => {
      if (c && l()) {
        const f = i.filter((d) => d.model !== "ignore");
        r(f);
      }
    };
  return a.jsx(hn, {
    open: e,
    onOpenChange: (f) => !f && n(),
    children: a.jsxs(mn, {
      className: "max-w-2xl",
      children: [
        a.jsxs(or, {
          children: [
            a.jsx(cr, { children: "Mapeamento de Abas" }),
            a.jsx(Ci, {
              children:
                "Algumas abas precisam de mapeamento manual. Selecione o tipo correto para cada aba.",
            }),
          ],
        }),
        a.jsxs("div", {
          className: "space-y-4",
          children: [
            i.map((f, d) =>
              a.jsxs(
                M,
                {
                  className:
                    f.model === "ambiguous"
                      ? "border-warning"
                      : f.model === "ignore"
                        ? "border-muted opacity-75"
                        : "",
                  children: [
                    a.jsx(B, {
                      className: "pb-3",
                      children: a.jsxs(F, {
                        className: "text-sm flex items-center gap-2",
                        children: [
                          f.name,
                          f.model === "ambiguous"
                            ? a.jsxs(H, {
                                variant: "outline",
                                className: "text-warning border-warning",
                                children: [
                                  a.jsx(Qe, { className: "h-3 w-3 mr-1" }),
                                  "Requer mapeamento",
                                ],
                              })
                            : f.model === "ignore"
                              ? a.jsx(H, {
                                  variant: "outline",
                                  className:
                                    "text-muted-foreground border-muted",
                                  children: "Ignorada",
                                })
                              : a.jsxs(H, {
                                  variant: "outline",
                                  className: "text-success border-success",
                                  children: [
                                    a.jsx(Me, { className: "h-3 w-3 mr-1" }),
                                    "Mapeada",
                                  ],
                                }),
                        ],
                      }),
                    }),
                    a.jsx(R, {
                      children: a.jsxs("div", {
                        className: "space-y-3",
                        children: [
                          a.jsxs("div", {
                            className: "text-sm text-muted-foreground",
                            children: [
                              f.rows,
                              " linhas  ",
                              f.headers.length,
                              " colunas",
                            ],
                          }),
                          a.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [
                              a.jsx("span", {
                                className: "text-sm font-medium",
                                children: "Tipo:",
                              }),
                              a.jsxs(tt, {
                                value: f.model,
                                onValueChange: (h) => o(d, h),
                                children: [
                                  a.jsx(rt, {
                                    className: "w-[200px]",
                                    children: a.jsx(nt, {}),
                                  }),
                                  a.jsxs(at, {
                                    children: [
                                      a.jsx(ue, {
                                        value: "processo",
                                        children: "Por Processo",
                                      }),
                                      a.jsx(ue, {
                                        value: "testemunha",
                                        children: "Por Testemunha",
                                      }),
                                      a.jsx(ue, {
                                        value: "ignore",
                                        children: "Ignorar esta aba",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "text-xs text-muted-foreground",
                            children: [
                              a.jsx("strong", {
                                children: "Colunas detectadas:",
                              }),
                              " ",
                              f.headers.slice(0, 5).join(", "),
                              f.headers.length > 5 &&
                                ` e mais ${f.headers.length - 5}...`,
                            ],
                          }),
                        ],
                      }),
                    }),
                  ],
                },
                d,
              ),
            ),
            !l() &&
              a.jsx(M, {
                className: "border-destructive bg-destructive/5",
                children: a.jsx(R, {
                  className: "p-4",
                  children: a.jsxs("div", {
                    className: "flex items-center gap-2 text-destructive",
                    children: [
                      a.jsx(Qe, { className: "h-4 w-4" }),
                      a.jsx("span", {
                        className: "text-sm font-medium",
                        children:
                          ' necessrio ter pelo menos uma aba mapeada como "Por Processo" ou "Por Testemunha"',
                      }),
                    ],
                  }),
                }),
              }),
          ],
        }),
        a.jsxs("div", {
          className: "flex justify-between pt-4",
          children: [
            a.jsx(L, { variant: "outline", onClick: n, children: "Cancelar" }),
            a.jsx(L, {
              onClick: u,
              disabled: !c || !l(),
              children: "Continuar",
            }),
          ],
        }),
      ],
    }),
  });
}
const $a = ["upload", "validation", "preview", "publish"],
  Vi = zy((e, t) => ({
    currentStep: "upload",
    session: null,
    file: null,
    validationResult: null,
    currentVersionId: null,
    versionNumber: null,
    isProcessing: !1,
    uploadProgress: 0,
    error: null,
    setCurrentStep: (r) => e({ currentStep: r }),
    setSession: (r) => e({ session: r }),
    setFile: (r) => e({ file: r }),
    setValidationResult: (r) => e({ validationResult: r }),
    setIsProcessing: (r) => e({ isProcessing: r }),
    setUploadProgress: (r) =>
      e((n) => ({
        uploadProgress: typeof r == "function" ? r(n.uploadProgress) : r,
      })),
    setError: (r) => e({ error: r }),
    resetWizard: () =>
      e({
        currentStep: "upload",
        session: null,
        file: null,
        validationResult: null,
        currentVersionId: null,
        versionNumber: null,
        isProcessing: !1,
        uploadProgress: 0,
        error: null,
      }),
    setCurrentVersion: (r, n) => e({ currentVersionId: r, versionNumber: n }),
    createNewVersion: async () => {
      try {
        e({ isProcessing: !0, error: null });
        const { supabase: r } = await Ga(
            async () => {
              const { supabase: s } = await import(
                "./page-About-RKuI2z9S.js"
              ).then((o) => o.R);
              return { supabase: s };
            },
            __vite__mapDeps([0, 1, 2]),
          ),
          { data: n, error: i } = await r.functions.invoke("create-version", {
            body: {},
          });
        if (i) throw i;
        (e({
          currentVersionId: n.versionId,
          versionNumber: n.number,
          isProcessing: !1,
        }),
          Ra.info(
            "Version created successfully",
            { versionId: n.versionId, number: n.number },
            "ImportStore",
          ));
      } catch (r) {
        const n = ms.handle(r, "ImportStore.createNewVersion");
        throw (
          e({
            error: n.userMessage || "Falha ao criar nova verso",
            isProcessing: !1,
          }),
          n
        );
      }
    },
    publishCurrentVersion: async () => {
      const r = t();
      if (!r.currentVersionId) throw new Error("No version to publish");
      try {
        e({ isProcessing: !0, error: null });
        const { supabase: n } = await Ga(
            async () => {
              const { supabase: o } = await import(
                "./page-About-RKuI2z9S.js"
              ).then((c) => c.R);
              return { supabase: o };
            },
            __vite__mapDeps([0, 1, 2]),
          ),
          { data: i, error: s } = await n.functions.invoke("publish-version", {
            body: { versionId: r.currentVersionId },
          });
        if (s) throw s;
        return (
          Ra.info(
            "Version published successfully",
            {
              versionId: r.currentVersionId,
              number: i.number,
              publishedAt: i.publishedAt,
            },
            "ImportStore",
          ),
          e({ isProcessing: !1 }),
          i
        );
      } catch (n) {
        const i = ms.handle(n, "ImportStore.publishCurrentVersion");
        throw (
          e({
            error: i.userMessage || "Falha ao publicar verso",
            isProcessing: !1,
          }),
          i
        );
      }
    },
    nextStep: () => {
      const { currentStep: r } = t(),
        n = $a.indexOf(r);
      n < $a.length - 1 && e({ currentStep: $a[n + 1] });
    },
    previousStep: () => {
      const { currentStep: r } = t(),
        n = $a.indexOf(r);
      n > 0 && e({ currentStep: $a[n - 1] });
    },
    canProceedToNext: () => {
      const r = t();
      switch (r.currentStep) {
        case "upload":
          return !!(r.session && r.file);
        case "validation":
          return !!(
            r.validationResult && r.validationResult.summary.errors === 0
          );
        case "preview":
          return !!(r.validationResult && r.validationResult.summary.valid > 0);
        case "publish":
          return !1;
        default:
          return !1;
      }
    },
  }));
function W5() {
  const {
      setSession: e,
      setFile: t,
      setCurrentStep: r,
      isProcessing: n,
      setIsProcessing: i,
      uploadProgress: s,
      setUploadProgress: o,
      error: c,
      setError: l,
    } = Vi(),
    [u, f] = P.useState(null),
    [d, h] = P.useState([]),
    [m, v] = P.useState(!1),
    p = P.useCallback(
      async (j) => {
        const w = j[0];
        if (!w) return;
        if (w.size > 20 * 1024 * 1024) {
          (l("Arquivo muito grande. Tamanho mximo: 20MB"),
            me({
              title: "Arquivo muito grande",
              description: "O arquivo deve ter no mximo 20MB",
              variant: "destructive",
            }));
          return;
        }
        (f(w), l(null), i(!0), o(0));
        const O = setTimeout(async () => {
          try {
            const S = setInterval(() => {
              o((I) =>
                I >= 90 ? (clearInterval(S), 90) : I + Math.random() * 15,
              );
            }, 150);
            console.log("Starting file structure detection for:", w.name);
            let E = [],
              C = 0;
            const T = 3;
            for (; C < T; )
              try {
                E = await Ny(w);
                break;
              } catch (I) {
                if ((C++, C === T)) throw I;
                (console.log(`Retry ${C}/${T} for file detection`),
                  await new Promise((k) => setTimeout(k, 1e3 * C)));
              }
            (clearInterval(S),
              o(100),
              h(E),
              console.log(
                "Detected sheets:",
                E.map((I) => ({ name: I.name, model: I.model })),
              ),
              E.some((I) => I.model === "ambiguous")
                ? (console.log(
                    "Ambiguous sheets detected, showing mapping dialog",
                  ),
                  v(!0))
                : N(E, w));
          } catch (S) {
            const E =
              S instanceof Error ? S.message : "Erro ao processar arquivo";
            (console.error("File processing error:", E),
              l(E),
              me({
                title: "Erro no processamento",
                description: E,
                variant: "destructive",
              }));
          } finally {
            i(!1);
          }
        }, 300);
        return () => clearTimeout(O);
      },
      [l, i, o],
    ),
    {
      getRootProps: x,
      getInputProps: g,
      isDragActive: b,
    } = By({
      onDrop: p,
      accept: {
        "application/vnd.ms-excel": [".xls"],
        "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": [
          ".xlsx",
        ],
        "text/csv": [".csv"],
      },
      maxFiles: 1,
      maxSize: 20 * 1024 * 1024,
    }),
    N = (j, w) => {
      if (!j.some((E) => E.model === "processo" || E.model === "testemunha")) {
        (l("Arquivo deve conter pelo menos uma aba vlida"),
          me({
            title: "Estrutura invlida",
            description:
              " necessrio ter pelo menos uma aba com estrutura vlida",
            variant: "destructive",
          }));
        return;
      }
      const S = {
        fileName: w.name,
        fileSize: w.size,
        sheets: j,
        uploadedAt: new Date(),
        sessionId: U5(),
      };
      (e(S), t(w), r("validation"));
    },
    _ = (j) => {
      (v(!1), u && N(j, u));
    },
    y = (j) => {
      switch (j) {
        case "testemunha":
          return a.jsx(H, {
            className: "bg-primary/10 text-primary border-primary/20",
            children: "Por Testemunha",
          });
        case "processo":
          return a.jsx(H, {
            className: "bg-accent/10 text-accent border-accent/20",
            children: "Por Processo",
          });
        case "ambiguous":
          return a.jsx(H, {
            className:
              "bg-warning/10 text-warning-foreground border-warning/20",
            children: "Requer mapeamento",
          });
        default:
          return a.jsx(H, { variant: "secondary", children: "Desconhecido" });
      }
    };
  return a.jsxs(a.Fragment, {
    children: [
      a.jsxs(M, {
        children: [
          a.jsxs(B, {
            children: [
              a.jsxs(F, {
                className: "flex items-center gap-2",
                children: [
                  a.jsx(Op, { className: "h-5 w-5" }),
                  "Upload de Arquivo",
                ],
              }),
              a.jsx(re, {
                children:
                  "Faa upload do arquivo CSV ou XLSX com os dados das testemunhas e processos",
              }),
            ],
          }),
          a.jsxs(R, {
            className: "space-y-6",
            children: [
              !u &&
                a.jsxs("div", {
                  ...x(),
                  className: `border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${b ? "border-primary bg-primary/5" : "border-muted-foreground/25 hover:border-primary hover:bg-muted/50"}`,
                  children: [
                    a.jsx("input", { ...g() }),
                    a.jsx(us, {
                      className: "h-12 w-12 mx-auto mb-4 text-muted-foreground",
                    }),
                    b
                      ? a.jsx("p", {
                          className: "text-lg font-medium",
                          children: "Solte o arquivo aqui...",
                        })
                      : a.jsxs("div", {
                          className: "space-y-2",
                          children: [
                            a.jsx("p", {
                              className: "text-lg font-medium",
                              children:
                                "Arraste o arquivo ou clique para selecionar",
                            }),
                            a.jsx("p", {
                              className: "text-sm text-muted-foreground",
                              children:
                                "Formatos aceitos: Excel (.xlsx, .xls) e CSV  Mximo 20MB",
                            }),
                            a.jsx("div", {
                              className: "mt-4",
                              children: a.jsx(L, {
                                variant: "outline",
                                children: "Selecionar Arquivo",
                              }),
                            }),
                          ],
                        }),
                  ],
                }),
              u &&
                a.jsx(M, {
                  className: "bg-muted/50",
                  children: a.jsxs(R, {
                    className: "p-4",
                    children: [
                      a.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [
                          a.jsxs("div", {
                            className: "flex items-center gap-3",
                            children: [
                              a.jsx(Kt, { className: "h-8 w-8 text-primary" }),
                              a.jsxs("div", {
                                children: [
                                  a.jsx("p", {
                                    className: "font-medium",
                                    children: u.name,
                                  }),
                                  a.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: [
                                      (u.size / 1024 / 1024).toFixed(2),
                                      " MB",
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                          !n &&
                            d.length > 0 &&
                            a.jsx(Me, { className: "h-5 w-5 text-success" }),
                        ],
                      }),
                      n &&
                        a.jsxs("div", {
                          className: "mt-4 space-y-2",
                          children: [
                            a.jsx(Pi, { value: s, className: "w-full" }),
                            a.jsx("p", {
                              className: "text-sm text-muted-foreground",
                              children:
                                s < 50
                                  ? "Carregando arquivo..."
                                  : s < 90
                                    ? "Analisando estrutura..."
                                    : "Finalizando deteco...",
                            }),
                          ],
                        }),
                    ],
                  }),
                }),
              c &&
                a.jsxs(Le, {
                  variant: "destructive",
                  children: [
                    a.jsx(Qe, { className: "h-4 w-4" }),
                    a.jsx(ze, { children: c }),
                  ],
                }),
              d.length > 0 &&
                !n &&
                !m &&
                a.jsxs("div", {
                  className: "space-y-4",
                  children: [
                    a.jsx("h3", {
                      className: "font-medium",
                      children: "Abas Detectadas:",
                    }),
                    a.jsx("div", {
                      className: "grid gap-3",
                      children: d.map((j, w) =>
                        a.jsx(
                          M,
                          {
                            className: "p-4",
                            children: a.jsx("div", {
                              className: "flex items-center justify-between",
                              children: a.jsxs("div", {
                                className: "space-y-1",
                                children: [
                                  a.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: j.name,
                                      }),
                                      y(j.model),
                                    ],
                                  }),
                                  a.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: [
                                      j.rows.toLocaleString(),
                                      " linhas  ",
                                      j.headers.length,
                                      " colunas",
                                    ],
                                  }),
                                ],
                              }),
                            }),
                          },
                          w,
                        ),
                      ),
                    }),
                    a.jsx(L, {
                      onClick: () => u && N(d, u),
                      className: "w-full",
                      disabled: !u,
                      children: "Continuar para Validao",
                    }),
                  ],
                }),
            ],
          }),
        ],
      }),
      a.jsx(q5, { open: m, sheets: d, onComplete: _, onCancel: () => v(!1) }),
    ],
  });
}
function G5({ corrections: e, onApplyCorrections: t, onReject: r }) {
  const [n, i] = P.useState(!1),
    [s, o] = P.useState(new Set()),
    c = P.useMemo(
      () =>
        e.reduce(
          (d, h) => (
            (d.total += 1),
            h.corrections.length > 0 && (d.withCorrections += 1),
            h.isValid && (d.valid += 1),
            h.corrections.some((m) => m.correctionType === "auto_complete") &&
              (d.autoComplete += 1),
            h.corrections.some((m) => m.correctionType === "format") &&
              (d.format += 1),
            h.corrections.some((m) => m.correctionType === "infer") &&
              (d.inferred += 1),
            d
          ),
          {
            total: 0,
            withCorrections: 0,
            autoComplete: 0,
            format: 0,
            inferred: 0,
            valid: 0,
          },
        ),
      [e],
    ),
    l = (d) => {
      switch (d) {
        case "auto_complete":
          return "bg-blue-500/10 text-blue-700 border-blue-200";
        case "format":
          return "bg-green-500/10 text-green-700 border-green-200";
        case "infer":
          return "bg-amber-500/10 text-amber-700 border-amber-200";
        case "default":
          return "bg-purple-500/10 text-purple-700 border-purple-200";
        default:
          return "bg-muted text-muted-foreground";
      }
    },
    u = (d) => {
      switch (d) {
        case "auto_complete":
          return "Auto-completar";
        case "format":
          return "Formatao";
        case "infer":
          return "Inferncia";
        case "default":
          return "Padro";
        default:
          return d;
      }
    },
    f = () => {
      const d = e.map((h) => h.correctedData);
      t(d);
    };
  return a.jsxs(M, {
    className: "border-primary/20 bg-primary/5",
    children: [
      a.jsxs(B, {
        children: [
          a.jsxs(F, {
            className: "flex items-center gap-2",
            children: [
              a.jsx(En, { className: "h-5 w-5" }),
              "Correes Inteligentes Detectadas",
            ],
          }),
          a.jsx(re, {
            children:
              "O sistema detectou e pode corrigir automaticamente alguns problemas nos dados",
          }),
        ],
      }),
      a.jsxs(R, {
        className: "space-y-6",
        children: [
          a.jsxs("div", {
            className: "grid grid-cols-2 md:grid-cols-4 gap-4",
            children: [
              a.jsxs(M, {
                className: "p-3 text-center",
                children: [
                  a.jsx("div", {
                    className: "text-lg font-bold",
                    children: c.total,
                  }),
                  a.jsx("div", {
                    className: "text-xs text-muted-foreground",
                    children: "Total de linhas",
                  }),
                ],
              }),
              a.jsxs(M, {
                className: "p-3 text-center bg-success/5 border-success/20",
                children: [
                  a.jsx("div", {
                    className: "text-lg font-bold text-success",
                    children: c.valid,
                  }),
                  a.jsx("div", {
                    className: "text-xs text-muted-foreground",
                    children: "Sero vlidas",
                  }),
                ],
              }),
              a.jsxs(M, {
                className: "p-3 text-center bg-blue-500/5 border-blue-500/20",
                children: [
                  a.jsx("div", {
                    className: "text-lg font-bold text-blue-600",
                    children: c.withCorrections,
                  }),
                  a.jsx("div", {
                    className: "text-xs text-muted-foreground",
                    children: "Com correes",
                  }),
                ],
              }),
              a.jsxs(M, {
                className: "p-3 text-center bg-amber-500/5 border-amber-500/20",
                children: [
                  a.jsx("div", {
                    className: "text-lg font-bold text-amber-600",
                    children: c.inferred,
                  }),
                  a.jsx("div", {
                    className: "text-xs text-muted-foreground",
                    children: "Inferncias",
                  }),
                ],
              }),
            ],
          }),
          a.jsxs("div", {
            className: "flex flex-wrap gap-2",
            children: [
              a.jsxs(H, {
                className: l("auto_complete"),
                children: [c.autoComplete, " Auto-completar"],
              }),
              a.jsxs(H, {
                className: l("format"),
                children: [c.format, " Formatao"],
              }),
              a.jsxs(H, {
                className: l("infer"),
                children: [c.inferred, " Inferncias"],
              }),
            ],
          }),
          a.jsxs(Le, {
            className: "border-success bg-success/5",
            children: [
              a.jsx(Me, { className: "h-4 w-4 text-success" }),
              a.jsxs(ze, {
                className: "text-success",
                children: [
                  a.jsx("strong", { children: "Pronto para aplicar:" }),
                  " ",
                  c.valid,
                  " de ",
                  c.total,
                  " linhas sero vlidas aps as correes",
                ],
              }),
            ],
          }),
          a.jsx("div", {
            className: "flex justify-center",
            children: a.jsxs(L, {
              variant: "outline",
              size: "sm",
              onClick: () => i(!n),
              children: [
                n
                  ? a.jsx(Sp, { className: "h-4 w-4 mr-2" })
                  : a.jsx(Pt, { className: "h-4 w-4 mr-2" }),
                n ? "Ocultar Detalhes" : "Ver Detalhes",
              ],
            }),
          }),
          n &&
            a.jsxs(gr, {
              defaultValue: "corrections",
              className: "w-full",
              children: [
                a.jsxs(yr, {
                  className: "grid w-full grid-cols-2",
                  children: [
                    a.jsxs(we, {
                      value: "corrections",
                      children: ["Correes (", c.withCorrections, ")"],
                    }),
                    a.jsx(we, { value: "samples", children: "Amostras (5)" }),
                  ],
                }),
                a.jsx(Pe, {
                  value: "corrections",
                  className: "space-y-4",
                  children: a.jsx("div", {
                    className: "max-h-96 overflow-y-auto",
                    children: a.jsxs(Ht, {
                      children: [
                        a.jsx(Xt, {
                          children: a.jsxs(Ne, {
                            children: [
                              a.jsx(Z, { children: "Linha" }),
                              a.jsx(Z, { children: "Campo" }),
                              a.jsx(Z, { children: "Tipo" }),
                              a.jsx(Z, { children: "Original" }),
                              a.jsx(Z, { children: "Corrigido" }),
                              a.jsx(Z, { children: "Confiana" }),
                            ],
                          }),
                        }),
                        a.jsx(Rt, {
                          children: e
                            .slice(0, 50)
                            .map((d, h) =>
                              d.corrections.map((m, v) =>
                                a.jsxs(
                                  Ne,
                                  {
                                    children: [
                                      a.jsx(X, { children: h + 1 }),
                                      a.jsx(X, {
                                        className: "font-mono text-sm",
                                        children: m.field,
                                      }),
                                      a.jsx(X, {
                                        children: a.jsx(H, {
                                          className: l(m.correctionType),
                                          variant: "outline",
                                          children: u(m.correctionType),
                                        }),
                                      }),
                                      a.jsx(X, {
                                        className: "max-w-32 truncate",
                                        children: a.jsx("code", {
                                          className:
                                            "text-xs bg-muted px-1 py-0.5 rounded",
                                          children: String(m.originalValue),
                                        }),
                                      }),
                                      a.jsx(X, {
                                        className: "max-w-32 truncate",
                                        children: a.jsx("code", {
                                          className:
                                            "text-xs bg-success/10 px-1 py-0.5 rounded",
                                          children: String(m.correctedValue),
                                        }),
                                      }),
                                      a.jsx(X, {
                                        children: a.jsxs(H, {
                                          variant: "outline",
                                          children: [
                                            Math.round(m.confidence * 100),
                                            "%",
                                          ],
                                        }),
                                      }),
                                    ],
                                  },
                                  `${h}-${v}`,
                                ),
                              ),
                            ),
                        }),
                      ],
                    }),
                  }),
                }),
                a.jsx(Pe, {
                  value: "samples",
                  className: "space-y-4",
                  children: a.jsx("div", {
                    className: "max-h-96 overflow-y-auto space-y-4",
                    children: e
                      .slice(0, 5)
                      .map((d, h) =>
                        a.jsxs(
                          M,
                          {
                            className: "p-4",
                            children: [
                              a.jsxs("div", {
                                className: "flex items-center gap-2 mb-2",
                                children: [
                                  a.jsxs(H, {
                                    variant: "outline",
                                    children: ["Linha ", h + 1],
                                  }),
                                  d.isValid
                                    ? a.jsxs(H, {
                                        className:
                                          "bg-success/10 text-success border-success/20",
                                        children: [
                                          a.jsx(Me, {
                                            className: "h-3 w-3 mr-1",
                                          }),
                                          "Vlida",
                                        ],
                                      })
                                    : a.jsxs(H, {
                                        className:
                                          "bg-destructive/10 text-destructive border-destructive/20",
                                        children: [
                                          a.jsx(Qe, {
                                            className: "h-3 w-3 mr-1",
                                          }),
                                          "Invlida",
                                        ],
                                      }),
                                ],
                              }),
                              a.jsxs("div", {
                                className:
                                  "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",
                                children: [
                                  a.jsxs("div", {
                                    children: [
                                      a.jsx("div", {
                                        className: "font-medium mb-1",
                                        children: "Dados Originais:",
                                      }),
                                      a.jsx("pre", {
                                        className:
                                          "bg-muted p-2 rounded text-xs overflow-x-auto",
                                        children: JSON.stringify(
                                          d.originalData,
                                          null,
                                          2,
                                        ),
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    children: [
                                      a.jsx("div", {
                                        className: "font-medium mb-1",
                                        children: "Dados Corrigidos:",
                                      }),
                                      a.jsx("pre", {
                                        className:
                                          "bg-success/10 p-2 rounded text-xs overflow-x-auto",
                                        children: JSON.stringify(
                                          d.correctedData,
                                          null,
                                          2,
                                        ),
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              d.corrections.length > 0 &&
                                a.jsxs("div", {
                                  className: "mt-2",
                                  children: [
                                    a.jsx("div", {
                                      className: "font-medium mb-1",
                                      children: "Correes:",
                                    }),
                                    a.jsx("div", {
                                      className: "flex flex-wrap gap-1",
                                      children: d.corrections.map((m, v) =>
                                        a.jsxs(
                                          H,
                                          {
                                            className: l(m.correctionType),
                                            variant: "outline",
                                            children: [
                                              m.field,
                                              ": ",
                                              u(m.correctionType),
                                            ],
                                          },
                                          v,
                                        ),
                                      ),
                                    }),
                                  ],
                                }),
                            ],
                          },
                          h,
                        ),
                      ),
                  }),
                }),
              ],
            }),
          a.jsxs("div", {
            className: "flex justify-between",
            children: [
              a.jsx(L, {
                variant: "outline",
                onClick: r,
                children: "Rejeitar Correes",
              }),
              a.jsxs(L, {
                onClick: f,
                className: "bg-success hover:bg-success/90",
                children: [
                  a.jsx(En, { className: "h-4 w-4 mr-2" }),
                  "Aplicar Correes (",
                  c.withCorrections,
                  ")",
                ],
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
function K5({ issues: e, onExportIssues: t }) {
  const [r, n] = P.useState({
      severity: "all",
      sheet: "all",
      rule: "all",
      search: "",
    }),
    i = P.useRef(null),
    s = P.useMemo(() => [...new Set(e.map((v) => v.sheet))].sort(), [e]),
    o = P.useMemo(
      () => [...new Set(e.map((v) => v.rule).filter(Boolean))].sort(),
      [e],
    ),
    c = P.useMemo(
      () =>
        e.filter((v) => {
          if (
            (r.severity !== "all" && v.severity !== r.severity) ||
            (r.sheet !== "all" && v.sheet !== r.sheet) ||
            (r.rule !== "all" && v.rule !== r.rule)
          )
            return !1;
          if (r.search) {
            const p = r.search.toLowerCase(),
              x = v.message.toLowerCase().includes(p),
              g = v.column?.toLowerCase().includes(p),
              b = v.original?.toString().toLowerCase().includes(p);
            if (!x && !g && !b) return !1;
          }
          return !0;
        }),
      [e, r],
    ),
    l = Fy({
      count: c.length,
      getScrollElement: () => i.current,
      estimateSize: () => 56,
      overscan: 5,
    }),
    u = (v) => {
      switch (v) {
        case "error":
          return a.jsx(lu, { className: "h-4 w-4 text-destructive" });
        case "warning":
          return a.jsx(dt, { className: "h-4 w-4 text-warning" });
        case "info":
          return a.jsx(Me, { className: "h-4 w-4 text-info" });
      }
    },
    f = (v) => {
      switch (v) {
        case "error":
          return "destructive";
        case "warning":
          return "default";
        case "info":
          return "secondary";
      }
    },
    d = () => {
      const p = [
          [
            "Severidade",
            "Aba",
            "Linha",
            "Coluna",
            "Regra",
            "Mensagem",
            "Valor Original",
            "Valor Corrigido",
          ].join(","),
          ...c.map((N) =>
            [
              N.severity,
              N.sheet,
              N.row || "",
              N.column || "",
              N.rule || "",
              `"${N.message.replace(/"/g, '""')}"`,
              `"${(N.original || "").toString().replace(/"/g, '""')}"`,
              `"${(N.fixed || "").toString().replace(/"/g, '""')}"`,
            ].join(","),
          ),
        ].join(`
`),
        x = new Blob([p], { type: "text/csv;charset=utf-8;" }),
        g = document.createElement("a"),
        b = URL.createObjectURL(x);
      (g.setAttribute("href", b),
        g.setAttribute(
          "download",
          `assistjur-issues-${new Date().toISOString().split("T")[0]}.csv`,
        ),
        (g.style.visibility = "hidden"),
        document.body.appendChild(g),
        g.click(),
        document.body.removeChild(g));
    },
    h = () => {
      t ? t() : d();
    },
    m = () => {
      n({ severity: "all", sheet: "all", rule: "all", search: "" });
    };
  return a.jsxs(M, {
    children: [
      a.jsxs(B, {
        children: [
          a.jsxs("div", {
            className: "flex items-center justify-between",
            children: [
              a.jsxs(F, {
                className: "flex items-center gap-2",
                children: [
                  a.jsx(cu, { className: "h-5 w-5" }),
                  "Issues Detectadas (",
                  c.length,
                  " de ",
                  e.length,
                  ")",
                ],
              }),
              a.jsxs("div", {
                className: "flex gap-2",
                children: [
                  a.jsx(L, {
                    variant: "outline",
                    size: "sm",
                    onClick: m,
                    children: "Limpar Filtros",
                  }),
                  a.jsxs(L, {
                    variant: "outline",
                    size: "sm",
                    onClick: h,
                    children: [
                      a.jsx(Gt, { className: "h-4 w-4 mr-2" }),
                      "Exportar CSV",
                    ],
                  }),
                ],
              }),
            ],
          }),
          a.jsxs("div", {
            className: "grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",
            children: [
              a.jsxs("div", {
                children: [
                  a.jsx("label", {
                    className: "text-sm font-medium mb-1 block",
                    children: "Severidade",
                  }),
                  a.jsxs(tt, {
                    value: r.severity,
                    onValueChange: (v) => n((p) => ({ ...p, severity: v })),
                    children: [
                      a.jsx(rt, { children: a.jsx(nt, {}) }),
                      a.jsxs(at, {
                        children: [
                          a.jsx(ue, { value: "all", children: "Todas" }),
                          a.jsx(ue, { value: "error", children: "Erro" }),
                          a.jsx(ue, { value: "warning", children: "Aviso" }),
                          a.jsx(ue, { value: "info", children: "Info" }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              a.jsxs("div", {
                children: [
                  a.jsx("label", {
                    className: "text-sm font-medium mb-1 block",
                    children: "Aba",
                  }),
                  a.jsxs(tt, {
                    value: r.sheet,
                    onValueChange: (v) => n((p) => ({ ...p, sheet: v })),
                    children: [
                      a.jsx(rt, { children: a.jsx(nt, {}) }),
                      a.jsxs(at, {
                        children: [
                          a.jsx(ue, { value: "all", children: "Todas" }),
                          s.map((v) => a.jsx(ue, { value: v, children: v }, v)),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              a.jsxs("div", {
                children: [
                  a.jsx("label", {
                    className: "text-sm font-medium mb-1 block",
                    children: "Regra",
                  }),
                  a.jsxs(tt, {
                    value: r.rule,
                    onValueChange: (v) => n((p) => ({ ...p, rule: v })),
                    children: [
                      a.jsx(rt, { children: a.jsx(nt, {}) }),
                      a.jsxs(at, {
                        children: [
                          a.jsx(ue, { value: "all", children: "Todas" }),
                          o.map((v) => a.jsx(ue, { value: v, children: v }, v)),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              a.jsxs("div", {
                children: [
                  a.jsx("label", {
                    className: "text-sm font-medium mb-1 block",
                    children: "Buscar",
                  }),
                  a.jsx($e, {
                    placeholder: "Buscar na mensagem, coluna ou valor...",
                    value: r.search,
                    onChange: (v) =>
                      n((p) => ({ ...p, search: v.target.value })),
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
      a.jsxs(R, {
        children: [
          a.jsx("div", {
            ref: i,
            className: "rounded-md border max-h-96 overflow-y-auto",
            children: a.jsxs(Ht, {
              children: [
                a.jsx(Xt, {
                  children: a.jsxs(Ne, {
                    children: [
                      a.jsx(Z, { className: "w-20", children: "Severidade" }),
                      a.jsx(Z, { className: "w-24", children: "Aba" }),
                      a.jsx(Z, { className: "w-16", children: "Linha" }),
                      a.jsx(Z, { className: "w-32", children: "Coluna" }),
                      a.jsx(Z, { className: "w-24", children: "Regra" }),
                      a.jsx(Z, { children: "Mensagem" }),
                      a.jsx(Z, {
                        className: "w-32",
                        children: "Valor Original",
                      }),
                      a.jsx(Z, {
                        className: "w-32",
                        children: "Valor Corrigido",
                      }),
                    ],
                  }),
                }),
                c.length === 0
                  ? a.jsx(Rt, {
                      children: a.jsx(Ne, {
                        children: a.jsx(X, {
                          colSpan: 8,
                          className: "text-center text-muted-foreground py-6",
                          children:
                            e.length === 0
                              ? "Nenhuma issue detectada"
                              : "Nenhuma issue corresponde aos filtros",
                        }),
                      }),
                    })
                  : a.jsx(Rt, {
                      style: {
                        height: `${l.getTotalSize()}px`,
                        position: "relative",
                      },
                      children: l.getVirtualItems().map((v) => {
                        const p = c[v.index];
                        return a.jsxs(
                          Ne,
                          {
                            className: "absolute top-0 left-0 w-full",
                            style: { transform: `translateY(${v.start}px)` },
                            children: [
                              a.jsx(X, {
                                children: a.jsxs("div", {
                                  className: "flex items-center gap-2",
                                  children: [
                                    u(p.severity),
                                    a.jsx(H, {
                                      variant: f(p.severity),
                                      className: "text-xs",
                                      children: p.severity.toUpperCase(),
                                    }),
                                  ],
                                }),
                              }),
                              a.jsx(X, {
                                className: "font-medium",
                                children: p.sheet,
                              }),
                              a.jsx(X, { children: p.row || "-" }),
                              a.jsx(X, { children: p.column || "-" }),
                              a.jsx(X, {
                                children:
                                  p.rule &&
                                  a.jsx(H, {
                                    variant: "outline",
                                    className: "text-xs",
                                    children: p.rule,
                                  }),
                              }),
                              a.jsx(X, {
                                className: "max-w-xs",
                                children: a.jsx("div", {
                                  className: "truncate",
                                  title: p.message,
                                  children: p.message,
                                }),
                              }),
                              a.jsx(X, {
                                className: "max-w-xs",
                                children:
                                  p.original &&
                                  a.jsx("div", {
                                    className:
                                      "truncate bg-muted px-2 py-1 rounded text-xs",
                                    title: p.original?.toString(),
                                    children: p.original?.toString(),
                                  }),
                              }),
                              a.jsx(X, {
                                className: "max-w-xs",
                                children:
                                  p.fixed &&
                                  a.jsx("div", {
                                    className:
                                      "truncate bg-success/10 px-2 py-1 rounded text-xs",
                                    title: p.fixed?.toString(),
                                    children: p.fixed?.toString(),
                                  }),
                              }),
                            ],
                          },
                          v.key,
                        );
                      }),
                    }),
              ],
            }),
          }),
          c.length > 0 &&
            a.jsxs("div", {
              className: "mt-4 text-sm text-muted-foreground",
              children: ["Mostrando ", c.length, " de ", e.length, " issues"],
            }),
        ],
      }),
    ],
  });
}
function H5(e) {
  let t = "",
    r = e;
  for (; r >= 0; )
    ((t = String.fromCharCode(65 + (r % 26)) + t),
      (r = Math.floor(r / 26) - 1));
  return t;
}
function X5(e, t) {
  const r = H5(t),
    n = e + 1;
  return `${r}${n}`;
}
function XV(e) {
  return /^[A-Z]+\d+$/.test(e);
}
function Y5(e) {
  if (e.length !== 20) return !1;
  const t = e.split("").map(Number),
    r = t.slice(0, 6),
    n = [2, 3, 4, 5, 6, 7],
    i = r.reduce((f, d, h) => f + d * n[h], 0),
    s = i % 11 < 2 ? 0 : 11 - (i % 11),
    o = t.slice(7, 13),
    c = [2, 3, 4, 5, 6, 7],
    l = o.reduce((f, d, h) => f + d * c[h], 0),
    u = l % 11 < 2 ? 0 : 11 - (l % 11);
  return t[6] === s && t[13] === u;
}
function gp(e) {
  return e.length !== 20
    ? e
    : `${e.slice(0, 7)}-${e.slice(7, 9)}.${e.slice(9, 13)}.${e.slice(13, 14)}.${e.slice(14, 16)}.${e.slice(16)}`;
}
function dn(e) {
  return e ? String(e).replace(/\D/g, "") : "";
}
function Ir(e, t = "final") {
  const r = dn(e),
    n = [];
  if (t === "correction") {
    if (r.length < 15)
      return (
        n.push(
          `CNJ muito curto: ${r.length} dgitos (mnimo 15 para correo)`,
        ),
        { isValid: !1, formatted: r, cleaned: r, errors: n }
      );
    let s = r;
    return (
      r.length < 20 && (s = r.padEnd(20, "0")),
      { isValid: !0, formatted: gp(s), cleaned: s, errors: [] }
    );
  }
  (r.length !== 20 &&
    n.push(`CNJ deve ter exatamente 20 dgitos, encontrados: ${r.length}`),
    r.length === 20 &&
      !Y5(r) &&
      n.push("CNJ com dgitos verificadores invlidos"));
  const i = n.length === 0;
  return { isValid: i, formatted: i ? gp(r) : r, cleaned: r, errors: n };
}
function J5(e) {
  const t = Ir(e, "correction");
  if (!t.isValid)
    return {
      corrected: dn(e),
      needsCorrection: !1,
      reason: t.errors.join("; "),
    };
  const r = dn(e),
    n = t.cleaned;
  return {
    corrected: n,
    needsCorrection: r !== n,
    reason: r !== n ? `CNJ completado de ${r.length} para 20 dgitos` : void 0,
  };
}
const yp = {
  advogados_ativo: {
    canonical: "advogados_ativo",
    synonyms: [
      "Advogados (Polo Ativo)",
      "Advogados Polo Ativo",
      "advogados_polo_ativo",
      "advogados_ativo",
      "Advogados_Ativo",
    ],
    type: "array",
  },
  advogados_passivo: {
    canonical: "advogados_passivo",
    synonyms: [
      "Advogados (Polo Passivo)",
      "Advogados Polo Passivo",
      "advogados_polo_passivo",
      "advogados_passivo",
      "Advogados_Passivo",
    ],
    type: "array",
  },
  testemunhas_ativo: {
    canonical: "testemunhas_ativo",
    synonyms: [
      "testemunhas_ativo",
      "Testemunhas_Ativo",
      "testemunhas_polo_ativo",
      "Testemunhas (Polo Ativo)",
    ],
    type: "array",
  },
  testemunhas_passivo: {
    canonical: "testemunhas_passivo",
    synonyms: [
      "testemunhas_passivo",
      "Testemunhas_Passivo",
      "testemunhas_polo_passivo",
      "Testemunhas (Polo Passivo)",
    ],
    type: "array",
  },
  todas_testemunhas: {
    canonical: "todas_testemunhas",
    synonyms: [
      "testemunhas_todas",
      "Testemunhas_Todas",
      "todas_testemunhas",
      "Todas_Testemunhas",
      "testemunhas_completas",
    ],
    type: "array",
  },
  cnj: {
    canonical: "cnj",
    synonyms: ["cnj", "CNJ", "numero_cnj", "numero_processo"],
    type: "string",
  },
  reclamantes: {
    canonical: "reclamantes",
    synonyms: [
      "reclamantes",
      "Reclamantes",
      "autores",
      "requerentes",
      "partes_ativas",
    ],
    type: "array",
  },
  nome_testemunha: {
    canonical: "nome_testemunha",
    synonyms: [
      "nome_testemunha",
      "Nome_Testemunha",
      "nome",
      "testemunha",
      "nome_completo",
    ],
    type: "string",
  },
  qtd_depoimentos: {
    canonical: "qtd_depoimentos",
    synonyms: [
      "qtd_depoimentos",
      "quantidade_depoimentos",
      "total_depoimentos",
      "numero_depoimentos",
    ],
    type: "number",
  },
};
function Z5(e) {
  if (yp[e]) return e;
  const t = e.toLowerCase().trim();
  for (const [r, n] of Object.entries(yp))
    if (n.synonyms.some((s) => s.toLowerCase().trim() === t)) return r;
  return null;
}
function Sy(e, t) {
  const r = {};
  return (
    e.forEach((n) => {
      const i = Z5(n);
      i ? (r[i] = n) : (r[n] = n);
    }),
    r
  );
}
function Ay(e, t) {
  if (!t) return e;
  const r = { ...e };
  return (
    (!r.reu_nome || r.reu_nome.trim() === "") &&
      t.applyDefaultReuOnTestemunha &&
      t.defaultReuNome &&
      ((r.reu_nome = t.defaultReuNome),
      (r.__autofill = { ...(r.__autofill || {}), reu_nome: !0 })),
    r
  );
}
function bp(e, t, r) {
  const n = Sy(e.headers);
  return t
    .map((i, s) => {
      const o = {};
      (Object.entries(n).forEach(([d, h]) => {
        o[d] = i[h];
      }),
        Ay(o, r));
      const c = o.cnj || "",
        u = Ir(c, "correction").cleaned;
      return {
        cnj: u,
        cnj_digits: dn(u),
        reclamante_nome: o.reclamante_nome || "",
        reu_nome: o.reu_nome || "",
        comarca: o.comarca || "",
        tribunal: o.tribunal || "",
        vara: o.vara || "",
        fase: o.fase || "",
        status: o.status || "",
        observacoes: o.observacoes || "",
      };
    })
    .filter((i) => {
      const s = Ir(i.cnj, "correction"),
        o = i.reclamante_nome || i.reu_nome;
      return s.isValid || o;
    });
}
function jp(e, t, r) {
  const n = Sy(e.headers);
  return t.map((i) => {
    const s = {};
    return (
      Object.entries(n).forEach(([o, c]) => {
        s[o] = i[c];
      }),
      Ay(s, r),
      {
        cnj: s.cnj || "",
        cnj_digits: dn(s.cnj || ""),
        nome_testemunha: s.nome_testemunha || "",
        reclamante_nome: s.reclamante_nome || "",
        reu_nome: s.reu_nome || "",
        observacoes: s.observacoes || "",
      }
    );
  });
}
async function Q5(e, t) {
  if (e.name.endsWith(".csv"))
    return new Promise((n, i) => {
      kp.parse(e, {
        header: !0,
        skipEmptyLines: !0,
        complete: (s) => {
          n(s.data);
        },
        error: i,
      });
    });
  const r = await Ga(() => import("./xlsx-BBMPxr6S.js"), []);
  return new Promise((n, i) => {
    const s = new FileReader();
    ((s.onload = (o) => {
      try {
        const c = new Uint8Array(o.target?.result),
          u = r.read(c, { type: "array" }).Sheets[t.name];
        if (!u) {
          i(new Error(`Sheet "${t.name}" not found`));
          return;
        }
        const f = r.utils.sheet_to_json(u, { header: 1 }),
          d = f[0],
          m = f.slice(1).map((v) => {
            const p = {};
            return (
              d.forEach((x, g) => {
                p[x] = v[g];
              }),
              p
            );
          });
        n(m);
      } catch (c) {
        i(c);
      }
    }),
      (s.onerror = i),
      s.readAsArrayBuffer(e));
  });
}
async function eV(e, t, r = null) {
  const n = await Q5(e, t);
  return t.model === "processo"
    ? { processos: bp(t, n, r) }
    : t.model === "testemunha"
      ? { testemunhas: jp(t, n, r) }
      : t.headers.some((s) =>
            ["comarca", "tribunal", "vara", "status"].some((o) =>
              s.toLowerCase().includes(o),
            ),
          )
        ? { processos: bp(t, n, r) }
        : { testemunhas: jp(t, n, r) };
}
const ou = [
  {
    normalized: "cnj",
    synonyms: [
      "CNJ",
      "cnj",
      "numero_cnj",
      "num_cnj",
      "processo",
      "numero_processo",
    ],
    required: !0,
    sheet: "processo",
  },
  {
    normalized: "uf",
    synonyms: ["UF", "uf", "estado", "unidade_federativa", "sigla_estado"],
    required: !0,
    sheet: "processo",
  },
  {
    normalized: "comarca",
    synonyms: ["comarca", "Comarca", "COMARCA", "municipio", "cidade"],
    required: !0,
    sheet: "processo",
  },
  {
    normalized: "reclamante_nome",
    synonyms: [
      "reclamante_nome",
      "Reclamante_Nome",
      "reclamante",
      "Reclamante",
      "Reclamante_Limpo",
      "reclamante_limpo",
      "nome_reclamante",
      "autor",
      "nome_autor",
      "requerente",
      "nome_requerente",
    ],
    required: !0,
    sheet: "processo",
  },
  {
    normalized: "reu_nome",
    synonyms: [
      "reu_nome",
      "Reu_Nome",
      "reu",
      "Reu",
      "REU",
      "reclamado",
      "nome_reclamado",
      "requerido",
      "nome_requerido",
    ],
    required: !1,
    sheet: "processo",
  },
  {
    normalized: "advogados_ativo",
    synonyms: [
      "advogados_ativo",
      "Advogados_Ativo",
      "advogados_polo_ativo",
      "advogado_reclamante",
      "advogados_reclamante",
      "advogado_autor",
      "advogados_autor",
      "representante_legal_ativo",
    ],
    required: !1,
    sheet: "processo",
  },
  {
    normalized: "todas_testemunhas",
    synonyms: [
      "todas_testemunhas",
      "Todas_Testemunhas",
      "testemunhas_todas",
      "testemunhas",
      "lista_testemunhas",
      "nomes_testemunhas",
      "testemunhas_processo",
      "testemunhas_envolvidas",
    ],
    required: !0,
    sheet: "processo",
  },
  {
    normalized: "fase",
    synonyms: ["fase", "Fase", "fase_processual", "etapa", "situacao_processo"],
    required: !1,
    sheet: "processo",
  },
  {
    normalized: "status",
    synonyms: ["status", "Status", "STATUS", "situacao", "estado_processo"],
    required: !1,
    sheet: "processo",
  },
  {
    normalized: "data_audiencia",
    synonyms: [
      "data_audiencia",
      "Data_Audiencia",
      "data_da_audiencia",
      "audiencia",
      "proxima_audiencia",
      "dt_audiencia",
    ],
    required: !1,
    sheet: "processo",
  },
  {
    normalized: "observacoes",
    synonyms: [
      "observacoes",
      "Observacoes",
      "observaes",
      "Observaes",
      "obs",
      "comentarios",
      "notas",
      "anotacoes",
    ],
    required: !1,
    sheet: "processo",
  },
  {
    normalized: "tribunal",
    synonyms: ["tribunal", "Tribunal", "TRIBUNAL", "orgao_julgador"],
    required: !1,
    sheet: "processo",
  },
  {
    normalized: "vara",
    synonyms: ["vara", "Vara", "VARA", "vara_trabalhista"],
    required: !1,
    sheet: "processo",
  },
  {
    normalized: "nome_testemunha",
    synonyms: [
      "nome_testemunha",
      "Nome_Testemunha",
      "testemunha",
      "nome_da_testemunha",
      "testemunha_nome",
    ],
    required: !0,
    sheet: "testemunha",
  },
  {
    normalized: "qtd_depoimentos",
    synonyms: [
      "qtd_depoimentos",
      "Qtd_Depoimentos",
      "quantidade_depoimentos",
      "numero_depoimentos",
      "total_depoimentos",
      "qtde_depoimentos",
      "count_depoimentos",
    ],
    required: !0,
    sheet: "testemunha",
  },
  {
    normalized: "cnjs_como_testemunha",
    synonyms: [
      "cnjs_como_testemunha",
      "CNJs_Como_Testemunha",
      "cnj_como_testemunha",
      "processos_como_testemunha",
      "lista_cnjs",
      "cnjs_testemunha",
      "cnjs_depoimento",
      "processos_testemunha",
    ],
    required: !0,
    sheet: "testemunha",
  },
  {
    normalized: "reclamante_nome",
    synonyms: [
      "reclamante_nome",
      "Reclamante_Nome",
      "reclamante",
      "nome_reclamante",
      "autor",
    ],
    required: !1,
    sheet: "testemunha",
  },
  {
    normalized: "reu_nome",
    synonyms: ["reu_nome", "Reu_Nome", "reu", "nome_reu", "reclamado"],
    required: !1,
    sheet: "testemunha",
  },
];
function tV(e, t) {
  const r = e.trim(),
    n = ou.find(
      (s) => (s.sheet === t || s.sheet === "both") && s.synonyms.includes(r),
    );
  if (n) return n.normalized;
  const i = ou.find(
    (s) =>
      (s.sheet === t || s.sheet === "both") &&
      s.synonyms.some((o) => o.toLowerCase() === r.toLowerCase()),
  );
  return i ? i.normalized : null;
}
function rV(e) {
  return ou
    .filter((t) => t.required && (t.sheet === e || t.sheet === "both"))
    .map((t) => t.normalized);
}
function nV(e, t) {
  const r = {},
    n = [],
    i = rV(t);
  e.forEach((c) => {
    const l = tV(c, t);
    l ? (r[c] = l) : n.push(c);
  });
  const s = Object.values(r),
    o = i.filter((c) => !s.includes(c));
  return { mapped: r, unmapped: n, missing: o };
}
function aV(e, t) {
  const r = nV(e, t),
    n = {};
  return (
    r.unmapped.forEach((i) => {
      const s = [];
      (t === "processo" &&
        (i.toLowerCase().includes("reclamante") && s.push("reclamante_nome"),
        (i.toLowerCase().includes("reu") ||
          i.toLowerCase().includes("reclamado")) &&
          s.push("reu_nome"),
        (i.toLowerCase().includes("cnj") ||
          i.toLowerCase().includes("processo")) &&
          s.push("cnj")),
        s.length > 0 && (n[i] = s));
    }),
    { ...r, suggestions: n }
  );
}
function iV(e, t, r) {
  const n = [],
    i = { ...e };
  let s = !0;
  if (r === "processo") {
    if (i.cnj) {
      const o = i.cnj,
        c = J5(o);
      (c.needsCorrection &&
        n.push({
          field: "cnj",
          originalValue: o,
          correctedValue: c.corrected,
          correctionType: "auto_complete",
          confidence: 0.7,
        }),
        (i.cnj = c.corrected),
        (i.cnj_digits = dn(i.cnj)));
    }
    if (
      (["reclamante_nome", "reu_nome"].forEach((o) => {
        if (i[o] && typeof i[o] == "string") {
          const c = i[o],
            l = c.trim().replace(/\s+/g, " ");
          if (
            (l !== c &&
              ((i[o] = l),
              n.push({
                field: o,
                originalValue: c,
                correctedValue: l,
                correctionType: "format",
                confidence: 0.9,
              })),
            l === l.toUpperCase() || l === l.toLowerCase())
          ) {
            const u = l.toLowerCase().replace(/\b\w/g, (f) => f.toUpperCase());
            ((i[o] = u),
              n.push({
                field: o,
                originalValue: l,
                correctedValue: u,
                correctionType: "format",
                confidence: 0.8,
              }));
          }
        }
        o === "reclamante_nome" &&
          (!i[o] || String(i[o]).trim() === "") &&
          (s = !1);
      }),
      !i.reu_nome && i.reclamante_nome)
    ) {
      const o = i.reclamante_nome.toLowerCase();
      if (o.includes("vs") || o.includes("x ")) {
        const c = o.split(/\s+(vs?\.?|x)\s+/i);
        c.length >= 2 &&
          ((i.reu_nome = c[1].trim()),
          n.push({
            field: "reu_nome",
            originalValue: null,
            correctedValue: i.reu_nome,
            correctionType: "infer",
            confidence: 0.6,
          }));
      }
    }
    [
      "advogados_ativo",
      "advogados_passivo",
      "testemunhas_ativo",
      "testemunhas_passivo",
    ].forEach((o) => {
      if (i[o] && typeof i[o] == "string") {
        const c = i[o],
          l = c
            .split(/[;,]/)
            .map((u) => u.trim())
            .filter(Boolean);
        l.length > 0 &&
          ((i[o] = l),
          n.push({
            field: o,
            originalValue: c,
            correctedValue: l,
            correctionType: "format",
            confidence: 0.9,
          }));
      }
    });
  } else
    r === "testemunha" &&
      ((!i.nome_testemunha || String(i.nome_testemunha).trim() === "") &&
        (s = !1),
      i.cnjs_como_testemunha &&
        (Array.isArray(i.cnjs_como_testemunha)
          ? i.cnjs_como_testemunha
          : String(i.cnjs_como_testemunha)
              .split(/[;,]/)
              .map((l) => l.trim())
        ).filter((l) => Ir(l, "final").isValid).length === 0 &&
        (s = !1));
  return { originalData: e, correctedData: i, corrections: n, isValid: s };
}
async function Py(e, t, r) {
  if (!r) throw new Error("Arquivo  obrigatrio para validao inteligente");
  let n = 0,
    i = 0;
  const s = [],
    o = [],
    c = { processos: [], testemunhas: [] },
    l = {};
  for (const p of e.sheets)
    try {
      const x = await eV(r, p, null),
        g = p.model === "testemunha" ? "testemunha" : "processo",
        b = aV(p.headers, g);
      (b.missing.forEach((_) => {
        s.push({
          sheet: p.name,
          row: 0,
          column: _,
          severity: "error",
          rule: "Campo obrigatrio no encontrado",
          message: `Campo obrigatrio "${_}" no foi encontrado nos cabealhos`,
          value: "N/A",
        });
      }),
        Object.entries(b.suggestions).forEach(([_, y]) => {
          s.push({
            sheet: p.name,
            row: 0,
            column: _,
            severity: "warning",
            rule: "Campo no mapeado",
            message: `Campo "${_}" no foi mapeado. Sugestes: ${y.join(", ")}`,
            value: _,
          });
        }));
      const N = x.processos || x.testemunhas || [];
      ((l[p.name] = N.length),
        N.forEach((_, y) => {
          const j = y + 1;
          n++;
          const w = t.intelligentCorrections
            ? iV(_, y, g)
            : {
                originalData: _,
                correctedData: _,
                corrections: [],
                isValid: !0,
              };
          o.push(w);
          const S = Ir(w.correctedData.cnj, "correction").isValid;
          if (w.isValid || S) {
            i++;
            const E =
                w.correctedData.reclamante_nome || w.correctedData.reu_nome,
              C = w.correctedData.nome_testemunha;
            E && (g === "processo" || !C)
              ? (c.processos || (c.processos = []),
                c.processos.push(w.correctedData))
              : C && (g === "testemunha" || !E)
                ? (c.testemunhas || (c.testemunhas = []),
                  c.testemunhas.push(w.correctedData))
                : S &&
                  (g === "processo"
                    ? (c.processos || (c.processos = []),
                      c.processos.push(w.correctedData))
                    : (c.testemunhas || (c.testemunhas = []),
                      c.testemunhas.push(w.correctedData)));
            const T = dn(w.correctedData.cnj);
            (S &&
              T.length < 20 &&
              s.push({
                sheet: p.name,
                row: j,
                column: "cnj",
                severity: "warning",
                rule: "CNJ incompleto mas preservado",
                message: `CNJ tem ${T.length} dgitos (recomendado: 20). Dados preservados para reviso.`,
                value: w.correctedData.cnj || "N/A",
              }),
              w.corrections.forEach(($) => {
                s.push({
                  sheet: p.name,
                  row: j,
                  column: $.field,
                  severity: "info",
                  rule: "Correo automtica aplicada",
                  message: `${$.correctionType}: "${$.originalValue}"  "${$.correctedValue}" (confiana: ${Math.round($.confidence * 100)}%)`,
                  value: $.originalValue,
                });
              }));
          } else
            g === "processo" &&
              (w.correctedData.reclamante_nome ||
                s.push({
                  sheet: p.name,
                  row: j,
                  column: "reclamante_nome",
                  severity: "error",
                  rule: "Nome do reclamante  obrigatrio",
                  message:
                    'Campo "reclamante_nome"  obrigatrio mas est vazio',
                  value: w.correctedData.reclamante_nome || "N/A",
                }),
              w.correctedData.reu_nome ||
                s.push({
                  sheet: p.name,
                  row: j,
                  column: "reu_nome",
                  severity: "warning",
                  rule: "Nome do ru recomendado",
                  message:
                    'Campo "reu_nome" est vazio mas pode ser preenchido posteriormente',
                  value: w.correctedData.reu_nome || "N/A",
                }),
              (!w.correctedData.cnj ||
                !Ir(w.correctedData.cnj, "final").isValid) &&
                s.push({
                  sheet: p.name,
                  row: j,
                  column: "cnj",
                  severity: "error",
                  rule: "CNJ deve ter 20 dgitos",
                  message:
                    "CNJ deve ter formato vlido com 20 dgitos numricos",
                  value: w.correctedData.cnj || "N/A",
                }));
        }));
    } catch (x) {
      s.push({
        sheet: p.name,
        row: 0,
        column: "sistema",
        severity: "error",
        rule: "Erro no processamento",
        message: `Erro ao processar aba: ${x instanceof Error ? x.message : "Erro desconhecido"}`,
        value: "N/A",
      });
    }
  const u = Object.values(l).reduce((p, x) => p + x, 0),
    f = Object.values(c).flat().length,
    d = u - f,
    h = o.filter((p) => p.corrections.length > 0).length,
    m = o.reduce((p, x) => p + x.corrections.length, 0);
  return (
    console.log(` Enhanced Validation Summary:
     File Processing:
    - Original rows loaded: ${u}
    - Successfully processed: ${f}  
    - Filtered out (invalid): ${d}
    - Final valid rows: ${i}
    
     Corrections Applied:
    - Rows with corrections: ${h}
    - Individual corrections made: ${m}
    
     Data Breakdown:
    - Processos: ${c.processos?.length || 0}
    - Testemunhas: ${c.testemunhas?.length || 0}`),
    {
      summary: {
        analyzed: u,
        valid: i,
        errors: s.filter((p) => p.severity === "error").length,
        warnings: s.filter((p) => p.severity === "warning").length,
        infos: s.filter((p) => p.severity === "info").length,
      },
      issues: s,
      normalizedData: c,
      intelligentCorrections: o,
    }
  );
}
function Cy() {
  const [e, t] = P.useState(null),
    [r, n] = P.useState(!1),
    i = async () => {
      n(!0);
      try {
        const c = await (await fetch("/template-test-exemplo.csv")).blob(),
          l = new File([c], "template-test-exemplo.csv", { type: "text/csv" }),
          u = await Ny(l),
          f = {
            sessionId: crypto.randomUUID(),
            fileName: l.name,
            fileSize: l.size,
            sheets: u,
            uploadedAt: new Date(),
          },
          d = await Py(
            f,
            {
              explodeLists: !0,
              standardizeCNJ: !0,
              applyDefaultReu: !0,
              intelligentCorrections: !0,
            },
            l,
          );
        t({
          success: !0,
          sheets: u.length,
          analyzed: d.summary.analyzed,
          valid: d.summary.valid,
          errors: d.summary.errors,
          warnings: d.summary.warnings,
          corrections: d.intelligentCorrections?.length || 0,
          correctionsApplied:
            d.intelligentCorrections?.filter((h) => h.corrections.length > 0)
              .length || 0,
        });
      } catch (s) {
        t({
          success: !1,
          error: s instanceof Error ? s.message : "Erro desconhecido",
        });
      } finally {
        n(!1);
      }
    };
  return a.jsxs(M, {
    className: "border-primary/20 bg-primary/5",
    children: [
      a.jsxs(B, {
        children: [
          a.jsxs(F, {
            className: "flex items-center gap-2",
            children: [
              a.jsx(Kt, { className: "h-5 w-5" }),
              "Teste do Corretor Inteligente",
            ],
          }),
          a.jsx(re, {
            children:
              "Valide se o template atualizado funciona corretamente com o novo sistema",
          }),
        ],
      }),
      a.jsxs(R, {
        className: "space-y-4",
        children: [
          a.jsxs(L, {
            onClick: i,
            disabled: r,
            className: "w-full",
            children: [
              a.jsx(Gt, { className: "h-4 w-4 mr-2" }),
              r ? "Testando Template..." : "Testar Template Corrigido",
            ],
          }),
          e &&
            a.jsxs("div", {
              className: "space-y-4",
              children: [
                e.success
                  ? a.jsxs(Le, {
                      className: "border-success bg-success/5",
                      children: [
                        a.jsx(Me, { className: "h-4 w-4 text-success" }),
                        a.jsxs(ze, {
                          className: "text-success",
                          children: [
                            a.jsx("strong", { children: " Teste Aprovado!" }),
                            " Template funciona perfeitamente com o Corretor Inteligente",
                          ],
                        }),
                      ],
                    })
                  : a.jsxs(Le, {
                      variant: "destructive",
                      children: [
                        a.jsx(dt, { className: "h-4 w-4" }),
                        a.jsxs(ze, {
                          children: [
                            a.jsx("strong", { children: " Teste Falhou:" }),
                            " ",
                            e.error,
                          ],
                        }),
                      ],
                    }),
                e.success &&
                  a.jsxs("div", {
                    className: "grid grid-cols-2 md:grid-cols-4 gap-4",
                    children: [
                      a.jsxs(M, {
                        className: "p-3 text-center",
                        children: [
                          a.jsx("div", {
                            className: "text-lg font-bold",
                            children: e.sheets,
                          }),
                          a.jsx("div", {
                            className: "text-xs text-muted-foreground",
                            children: "Abas detectadas",
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        className: "p-3 text-center",
                        children: [
                          a.jsx("div", {
                            className: "text-lg font-bold",
                            children: e.analyzed,
                          }),
                          a.jsx("div", {
                            className: "text-xs text-muted-foreground",
                            children: "Linhas analisadas",
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        className:
                          "p-3 text-center bg-success/10 border-success/20",
                        children: [
                          a.jsx("div", {
                            className: "text-lg font-bold text-success",
                            children: e.valid,
                          }),
                          a.jsx("div", {
                            className: "text-xs text-muted-foreground",
                            children: "Linhas vlidas",
                          }),
                        ],
                      }),
                      a.jsxs(M, {
                        className:
                          "p-3 text-center bg-blue-500/10 border-blue-500/20",
                        children: [
                          a.jsx("div", {
                            className: "text-lg font-bold text-blue-600",
                            children: e.correctionsApplied,
                          }),
                          a.jsx("div", {
                            className: "text-xs text-muted-foreground",
                            children: "Correes aplicadas",
                          }),
                        ],
                      }),
                    ],
                  }),
                e.success &&
                  a.jsxs("div", {
                    className: "flex flex-wrap gap-2",
                    children: [
                      a.jsxs(H, {
                        variant: "outline",
                        className:
                          "bg-success/10 text-success border-success/20",
                        children: [e.errors, " Erros"],
                      }),
                      a.jsxs(H, {
                        variant: "outline",
                        className:
                          "bg-warning/10 text-warning border-warning/20",
                        children: [e.warnings, " Avisos"],
                      }),
                      a.jsxs(H, {
                        variant: "outline",
                        className:
                          "bg-blue-500/10 text-blue-600 border-blue-500/20",
                        children: [e.corrections, " Correes Detectadas"],
                      }),
                    ],
                  }),
              ],
            }),
        ],
      }),
    ],
  });
}
function sV() {
  const {
      session: e,
      file: t,
      validationResult: r,
      setValidationResult: n,
      setCurrentStep: i,
      isProcessing: s,
      setIsProcessing: o,
      setError: c,
    } = Vi(),
    [l, u] = P.useState(!1),
    [f, d] = P.useState([]);
  (P.useEffect(() => {
    e && t && !r && h();
  }, [e, t, r]),
    P.useEffect(() => {
      if (r) {
        const j = {
          originalRows: r.summary.analyzed,
          processedRows: r.summary.valid,
          filteredRows: r.summary.analyzed - r.summary.valid,
          validRows: r.summary.valid,
          correctedRows: f.length,
          errorRows: r.summary.errors,
          warningRows: r.summary.warnings,
        };
        Ra.info("Detailed Validation Stats", j, "ValidationStep");
      }
    }, [r, f]));
  const h = async () => {
      if (!(!e || !t)) {
        o(!0);
        try {
          const j = await Py(
            e,
            {
              explodeLists: !0,
              standardizeCNJ: !0,
              applyDefaultReu: !0,
              intelligentCorrections: !0,
            },
            t,
          );
          j.intelligentCorrections &&
            j.intelligentCorrections.length > 0 &&
            (d(j.intelligentCorrections),
            j.intelligentCorrections.filter((S) => S.corrections.length > 0)
              .length > 0 && u(!0));
          const w = {
            summary: j.summary,
            issues: j.issues,
            normalizedData: j.normalizedData,
            downloadUrls: { fixedXlsx: "", reportCsv: "", reportJson: "" },
          };
          (n(w),
            me({
              title: "Validao inteligente concluda",
              description: `${j.summary.analyzed} registros analisados, ${j.summary.valid} vlidos, ${j.intelligentCorrections?.filter((O) => O.corrections.length > 0).length || 0} correes sugeridas`,
            }),
            Ra.info(
              "Final Validation Summary",
              {
                originalFile: t.name,
                fileSize: t.size,
                sheetsDetected: e.sheets.length,
                analyzed: j.summary.analyzed,
                valid: j.summary.valid,
                errors: j.summary.errors,
                warnings: j.summary.warnings,
                correctionsAvailable: j.intelligentCorrections?.length || 0,
                correctionsWithChanges:
                  j.intelligentCorrections?.filter(
                    (O) => O.corrections.length > 0,
                  ).length || 0,
              },
              "ValidationStep",
            ));
        } catch (j) {
          const w = j instanceof Error ? j.message : "Erro na validao",
            O = ms.handleAndNotify(j, "ValidationStep.performValidation");
          c(O.userMessage || w);
        } finally {
          o(!1);
        }
      }
    },
    m = async (j) => {
      const w = f.filter((O) => O.corrections.length > 0).length;
      try {
        const { generateReports: O } = await Ga(
            async () => {
              const { generateReports: k } = await import(
                "./report-BQ8mdzYG.js"
              );
              return { generateReports: k };
            },
            __vite__mapDeps([3, 0, 1, 2, 4, 5, 6, 7, 8]),
          ),
          S = j.filter((k) => {
            const D = Ir(k.cnj, "correction"),
              V = k.reclamante_nome || k.reu_nome;
            return D.isValid || V;
          }),
          E = j.filter((k) => {
            const D = Ir(k.cnj, "correction"),
              V = k.nome_testemunha;
            return D.isValid || V;
          }),
          C = new Map();
        f.forEach((k, D) => {
          k.corrections.forEach((V) => {
            const G = j[0] || {},
              ee = Object.keys(G).indexOf(V.field);
            if (ee >= 0) {
              const ae = X5(D + 1, ee);
              C.set(ae, {
                address: ae,
                original: V.originalValue,
                corrected: V.correctedValue,
                reason: `${V.correctionType}: ${V.reason || "Correo automtica"}`,
              });
            }
          });
        });
        const T = {
            ...r,
            normalizedData: {
              processos: S.length > 0 ? S : void 0,
              testemunhas: E.length > 0 ? E : void 0,
            },
            summary: {
              ...r.summary,
              valid: S.length + E.length,
              errors: Math.max(0, r.summary.errors - w),
            },
          },
          $ = await O(T, t?.name || "arquivo_corrigido", void 0, C);
        ((T.downloadUrls = $), n(T), u(!1));
        const I = S.length + E.length;
        me({
          title: "Correes aplicadas com sucesso",
          description: `${w} correes aplicadas. ${I} registros vlidos prontos para importao. Downloads disponveis.`,
        });
      } catch (O) {
        const S = ms.handleAndNotify(
          O,
          "ValidationStep.handleApplyCorrections",
        );
        Ra.error(
          "Erro ao aplicar correes",
          { error: S.message, correctionsCount: f.length },
          "ValidationStep",
        );
      }
    },
    v = () => {
      (u(!1),
        me({
          title: "Correes rejeitadas",
          description: "Continuando com os dados originais",
        }));
    };
  if (!e || !t)
    return a.jsxs(Le, {
      variant: "destructive",
      children: [
        a.jsx(Qe, { className: "h-4 w-4" }),
        a.jsx(ze, {
          children:
            "Sesso ou arquivo no encontrado. Volte ao passo anterior.",
        }),
      ],
    });
  if (s || !r)
    return a.jsxs(M, {
      children: [
        a.jsxs(B, {
          children: [
            a.jsxs(F, {
              className: "flex items-center gap-2",
              children: [
                a.jsx(ds, { className: "h-5 w-5" }),
                "Validao e Normalizao",
              ],
            }),
            a.jsx(re, {
              children: "Verificando a qualidade e consistncia dos dados",
            }),
          ],
        }),
        a.jsx(R, {
          children: a.jsx("div", {
            className: "flex items-center justify-center py-12",
            children: a.jsxs("div", {
              className: "text-center space-y-4",
              children: [
                a.jsx(Tr, {
                  className: "h-12 w-12 animate-spin mx-auto text-primary",
                }),
                a.jsxs("div", {
                  children: [
                    a.jsx("p", {
                      className: "font-medium",
                      children: "Validando arquivo...",
                    }),
                    a.jsx("p", {
                      className: "text-sm text-muted-foreground mt-2",
                      children:
                        "Processando dados reais para validao completa",
                    }),
                  ],
                }),
              ],
            }),
          }),
        }),
      ],
    });
  const { summary: p, issues: x } = r,
    g = p.errors > 0,
    b = f.length > 0 && f.some((j) => j.corrections.length > 0),
    N = !l && b,
    _ = p.valid > 0 && (!g || N),
    y =
      r.downloadUrls &&
      (r.downloadUrls.fixedXlsx ||
        r.downloadUrls.reportCsv ||
        r.downloadUrls.reportJson);
  return a.jsxs("div", {
    className: "space-y-6",
    children: [
      a.jsxs("div", {
        className: "grid grid-cols-2 md:grid-cols-4 gap-4",
        children: [
          a.jsxs(M, {
            className: "text-center p-4",
            children: [
              a.jsx("div", {
                className: "text-2xl font-bold",
                children: p.analyzed.toLocaleString(),
              }),
              a.jsx("div", {
                className: "text-sm text-muted-foreground",
                children: "Linhas analisadas",
              }),
            ],
          }),
          a.jsxs(M, {
            className: "text-center p-4 bg-success/5 border-success/20",
            children: [
              a.jsx("div", {
                className: "text-2xl font-bold text-success",
                children: p.valid.toLocaleString(),
              }),
              a.jsx("div", {
                className: "text-sm text-muted-foreground",
                children: "Linhas vlidas",
              }),
              a.jsx("div", {
                className: "text-xs text-muted-foreground mt-1",
                children:
                  p.analyzed > 0
                    ? `${Math.round((p.valid / p.analyzed) * 100)}%`
                    : "0%",
              }),
            ],
          }),
          a.jsxs(M, {
            className: "text-center p-4 bg-destructive/5 border-destructive/20",
            children: [
              a.jsx("div", {
                className: "text-2xl font-bold text-destructive",
                children: p.errors,
              }),
              a.jsx("div", {
                className: "text-sm text-muted-foreground",
                children: "Erros",
              }),
              p.errors > 0 &&
                a.jsx("div", {
                  className: "text-xs text-destructive mt-1",
                  children: "Impedem publicao",
                }),
            ],
          }),
          a.jsxs(M, {
            className: "text-center p-4 bg-warning/5 border-warning/20",
            children: [
              a.jsx("div", {
                className: "text-2xl font-bold text-warning",
                children: p.warnings,
              }),
              a.jsx("div", {
                className: "text-sm text-muted-foreground",
                children: "Avisos",
              }),
              p.warnings > 0 &&
                a.jsx("div", {
                  className: "text-xs text-warning mt-1",
                  children: "Permitido publicar",
                }),
            ],
          }),
        ],
      }),
      l &&
        b &&
        a.jsx(G5, { corrections: f, onApplyCorrections: m, onReject: v }),
      y &&
        a.jsxs(M, {
          className: "border-blue-500/20 bg-blue-500/5",
          children: [
            a.jsxs(B, {
              children: [
                a.jsxs(F, {
                  className: "flex items-center gap-2",
                  children: [
                    a.jsx(Gt, { className: "h-5 w-5" }),
                    "Downloads Disponveis",
                  ],
                }),
                a.jsx(re, {
                  children:
                    "Baixe os arquivos processados e relatrios de correo",
                }),
              ],
            }),
            a.jsx(R, {
              children: a.jsxs("div", {
                className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                children: [
                  r.downloadUrls?.fixedXlsx &&
                    a.jsx(L, {
                      asChild: !0,
                      variant: "outline",
                      className: "justify-start",
                      children: a.jsxs("a", {
                        href: r.downloadUrls.fixedXlsx,
                        download: "arquivo_corrigido.xlsx",
                        children: [
                          a.jsx(ds, { className: "h-4 w-4 mr-2" }),
                          "Arquivo Corrigido",
                        ],
                      }),
                    }),
                  r.downloadUrls?.reportCsv &&
                    a.jsx(L, {
                      asChild: !0,
                      variant: "outline",
                      className: "justify-start",
                      children: a.jsxs("a", {
                        href: r.downloadUrls.reportCsv,
                        download: "relatorio_erros.csv",
                        children: [
                          a.jsx(Qe, { className: "h-4 w-4 mr-2" }),
                          "Relatrio CSV",
                        ],
                      }),
                    }),
                  r.downloadUrls?.reportJson &&
                    a.jsx(L, {
                      asChild: !0,
                      variant: "outline",
                      className: "justify-start",
                      children: a.jsxs("a", {
                        href: r.downloadUrls.reportJson,
                        download: "relatorio_completo.json",
                        children: [
                          a.jsx(ls, { className: "h-4 w-4 mr-2" }),
                          "Relatrio JSON",
                        ],
                      }),
                    }),
                ],
              }),
            }),
          ],
        }),
      _ &&
        !l &&
        a.jsxs(Le, {
          className: "border-success bg-success/5",
          children: [
            a.jsx(Me, { className: "h-4 w-4 text-success" }),
            a.jsxs(ze, {
              className: "text-success",
              children: [
                " Arquivo pronto para publicao! ",
                p.valid,
                " registros sero importados.",
                b &&
                  N &&
                  a.jsx("div", {
                    className: "mt-1 text-sm",
                    children: "Correes automticas aplicadas com sucesso.",
                  }),
                b &&
                  !N &&
                  a.jsxs(L, {
                    variant: "link",
                    size: "sm",
                    className: "ml-2 p-0 h-auto text-success",
                    onClick: () => u(!0),
                    children: [
                      a.jsx(En, { className: "h-3 w-3 mr-1" }),
                      "Ver correes sugeridas",
                    ],
                  }),
              ],
            }),
          ],
        }),
      g &&
        l &&
        a.jsxs(Le, {
          variant: "destructive",
          children: [
            a.jsx(Qe, { className: "h-4 w-4" }),
            a.jsxs(ze, {
              children: [
                " Corrija os erros antes de prosseguir. ",
                p.errors,
                " problemas impedem a importao.",
                b &&
                  a.jsxs(L, {
                    variant: "link",
                    size: "sm",
                    className: "ml-2 p-0 h-auto text-destructive",
                    onClick: () => u(!0),
                    children: [
                      a.jsx(En, { className: "h-3 w-3 mr-1" }),
                      "Ver correes automticas",
                    ],
                  }),
              ],
            }),
          ],
        }),
      g &&
        !l &&
        !N &&
        a.jsxs(Le, {
          variant: "destructive",
          children: [
            a.jsx(Qe, { className: "h-4 w-4" }),
            a.jsxs(ze, {
              children: [
                " ",
                p.errors,
                " problemas impedem a importao.",
                b &&
                  a.jsxs(L, {
                    variant: "link",
                    size: "sm",
                    className: "ml-2 p-0 h-auto text-destructive",
                    onClick: () => u(!0),
                    children: [
                      a.jsx(En, { className: "h-3 w-3 mr-1" }),
                      "Aplicar correes automticas",
                    ],
                  }),
              ],
            }),
          ],
        }),
      x.length > 0 &&
        a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Problemas Detectados" }),
                a.jsx(re, {
                  children: "Revise e corrija os problemas antes de prosseguir",
                }),
              ],
            }),
            a.jsx(R, {
              children: a.jsx(K5, {
                issues: x.map((j) => ({ ...j, message: j.message || j.rule })),
              }),
            }),
          ],
        }),
      a.jsx(Cy, {}),
      a.jsx(M, {
        className: "border-blue-500/20 bg-blue-500/5",
        children: a.jsx(R, {
          className: "p-4",
          children: a.jsxs("div", {
            className: "flex justify-between items-center",
            children: [
              a.jsxs("div", {
                children: [
                  a.jsx("h3", {
                    className: "font-semibold text-blue-700",
                    children: "Pgina de Teste Completa",
                  }),
                  a.jsx("p", {
                    className: "text-sm text-muted-foreground",
                    children:
                      "Acesse a pgina dedicada para testes detalhados do Corretor Inteligente",
                  }),
                ],
              }),
              a.jsx(L, {
                asChild: !0,
                variant: "outline",
                className: "border-blue-500/20 text-blue-700",
                children: a.jsx("a", {
                  href: "/admin/base-import/test",
                  target: "_blank",
                  rel: "noopener noreferrer",
                  children: "Abrir Teste",
                }),
              }),
            ],
          }),
        }),
      }),
      _ &&
        a.jsxs(M, {
          className: "border-primary/20 bg-primary/5",
          children: [
            a.jsxs(B, {
              children: [
                a.jsxs(F, {
                  className: "text-sm flex items-center gap-2",
                  children: [
                    a.jsx(Tr, { className: "h-4 w-4" }),
                    "Otimizao Opcional",
                  ],
                }),
                a.jsx(re, {
                  children:
                    "Execute uma reviso completa para detectar padres suspeitos e otimizar a base",
                }),
              ],
            }),
            a.jsx(R, { children: a.jsx(wy, {}) }),
          ],
        }),
      a.jsxs("div", {
        className: "flex justify-between",
        children: [
          a.jsx(L, {
            variant: "outline",
            onClick: () => i("upload"),
            children: "Voltar",
          }),
          a.jsxs("div", {
            className: "flex gap-2",
            children: [
              a.jsxs(L, {
                variant: "outline",
                onClick: h,
                disabled: s,
                children: [
                  s && a.jsx(Tr, { className: "h-4 w-4 mr-2 animate-spin" }),
                  "Revalidar",
                ],
              }),
              a.jsx(L, {
                onClick: () => i("preview"),
                disabled: !_,
                children:
                  g && !N ? "Corrigir Erros Primeiro" : "Continuar para Prvia",
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
function oV() {
  const { validationResult: e, setCurrentStep: t } = Vi(),
    [r, n] = P.useState("processos"),
    i = P.useMemo(
      () =>
        e?.normalizedData
          ? {
              processos: e.normalizedData.processos?.slice(0, 10) || [],
              testemunhas: e.normalizedData.testemunhas?.slice(0, 10) || [],
            }
          : { processos: [], testemunhas: [] },
      [e],
    ),
    s = P.useMemo(
      () =>
        e?.normalizedData
          ? {
              processos: e.normalizedData.processos?.length || 0,
              testemunhas: e.normalizedData.testemunhas?.length || 0,
            }
          : { processos: 0, testemunhas: 0 },
      [e],
    );
  if (!e)
    return a.jsxs(Le, {
      variant: "destructive",
      children: [
        a.jsx(Qe, { className: "h-4 w-4" }),
        a.jsx(ze, {
          children:
            "Resultado da validao no encontrado. Volte ao passo anterior.",
        }),
      ],
    });
  const { summary: o } = e;
  return a.jsxs("div", {
    className: "space-y-6",
    children: [
      a.jsxs("div", {
        className: "grid grid-cols-3 gap-4",
        children: [
          a.jsxs(M, {
            className: "text-center p-4",
            children: [
              a.jsx("div", {
                className: "text-2xl font-bold",
                children: o.valid.toLocaleString(),
              }),
              a.jsx("div", {
                className: "text-sm text-muted-foreground",
                children: "Registros vlidos",
              }),
            ],
          }),
          a.jsxs(M, {
            className: "text-center p-4",
            children: [
              a.jsxs("div", {
                className: "text-2xl font-bold",
                children: [
                  o.analyzed > 0 ? Math.round((o.valid / o.analyzed) * 100) : 0,
                  "%",
                ],
              }),
              a.jsx("div", {
                className: "text-sm text-muted-foreground",
                children: "Taxa de sucesso",
              }),
            ],
          }),
          a.jsxs(M, {
            className: "text-center p-4",
            children: [
              a.jsx("div", {
                className: "text-2xl font-bold",
                children: o.errors + o.warnings,
              }),
              a.jsx("div", {
                className: "text-sm text-muted-foreground",
                children: "Problemas detectados",
              }),
            ],
          }),
        ],
      }),
      a.jsxs(Le, {
        className: "border-primary bg-primary/5",
        children: [
          a.jsx(Pt, { className: "h-4 w-4 text-primary" }),
          a.jsxs(ze, {
            className: "text-primary",
            children: [
              a.jsx("strong", { children: "Prvia da Importao:" }),
              " ",
              o.valid,
              " registros sero processados e inseridos na base de dados. Os dados passaro por validao final e normalizao antes da insero.",
            ],
          }),
        ],
      }),
      a.jsxs(M, {
        children: [
          a.jsxs(B, {
            children: [
              a.jsxs(F, {
                className: "flex items-center gap-2",
                children: [
                  a.jsx(Pt, { className: "h-5 w-5" }),
                  "Prvia dos Dados",
                ],
              }),
              a.jsx(re, {
                children:
                  "Amostra dos dados processados e normalizados (primeiros 10 registros)",
              }),
            ],
          }),
          a.jsx(R, {
            children: a.jsxs(gr, {
              value: r,
              onValueChange: n,
              children: [
                a.jsxs(yr, {
                  className: "grid w-full grid-cols-2",
                  children: [
                    a.jsxs(we, {
                      value: "processos",
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(Ap, { className: "h-4 w-4" }),
                        "Por Processo (",
                        s.processos,
                        ")",
                      ],
                    }),
                    a.jsxs(we, {
                      value: "testemunhas",
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(Ai, { className: "h-4 w-4" }),
                        "Por Testemunha (",
                        s.testemunhas,
                        ")",
                      ],
                    }),
                  ],
                }),
                a.jsx(Pe, {
                  value: "processos",
                  className: "mt-6",
                  children:
                    i.processos.length > 0
                      ? a.jsx("div", {
                          className: "border rounded-lg overflow-x-auto",
                          children: a.jsxs(Ht, {
                            children: [
                              a.jsx(Xt, {
                                children: a.jsxs(Ne, {
                                  children: [
                                    a.jsx(Z, { children: "CNJ" }),
                                    a.jsx(Z, { children: "Reclamante" }),
                                    a.jsx(Z, { children: "Ru" }),
                                    a.jsx(Z, { children: "Comarca" }),
                                    a.jsx(Z, { children: "Status" }),
                                    a.jsx(Z, { children: "Flags" }),
                                  ],
                                }),
                              }),
                              a.jsx(Rt, {
                                children: i.processos.map((c, l) =>
                                  a.jsxs(
                                    Ne,
                                    {
                                      children: [
                                        a.jsx(X, {
                                          className: "font-mono text-sm",
                                          children: c.cnj_digits
                                            ? `****-**.${c.cnj_digits.slice(-8, -4)}.*.**.****`
                                            : "N/A",
                                        }),
                                        a.jsx(X, {
                                          children: c.reclamante_nome
                                            ? c.reclamante_nome.length > 25
                                              ? c.reclamante_nome.substring(
                                                  0,
                                                  25,
                                                ) + "..."
                                              : c.reclamante_nome
                                            : "N/A",
                                        }),
                                        a.jsx(X, {
                                          children: c.reu_nome
                                            ? c.reu_nome.length > 25
                                              ? c.reu_nome.substring(0, 25) +
                                                "..."
                                              : c.reu_nome
                                            : "N/A",
                                        }),
                                        a.jsx(X, {
                                          children: c.comarca || "N/A",
                                        }),
                                        a.jsx(X, {
                                          children: a.jsx(H, {
                                            variant: "secondary",
                                            children: "Pronto para importar",
                                          }),
                                        }),
                                        a.jsx(X, {
                                          children: a.jsxs("div", {
                                            className: "flex gap-1 flex-wrap",
                                            children: [
                                              c.triangulacao_confirmada &&
                                                a.jsx(H, {
                                                  variant: "outline",
                                                  className: "text-xs",
                                                  children: "Triangulao",
                                                }),
                                              c.troca_direta &&
                                                a.jsx(H, {
                                                  variant: "outline",
                                                  className: "text-xs",
                                                  children: "Troca Direta",
                                                }),
                                              c.prova_emprestada &&
                                                a.jsx(H, {
                                                  variant: "outline",
                                                  className: "text-xs",
                                                  children: "Prova Emprestada",
                                                }),
                                            ],
                                          }),
                                        }),
                                      ],
                                    },
                                    l,
                                  ),
                                ),
                              }),
                            ],
                          }),
                        })
                      : a.jsxs(Le, {
                          children: [
                            a.jsx(Qe, { className: "h-4 w-4" }),
                            a.jsx(ze, {
                              children:
                                "Nenhum processo vlido encontrado para prvia.",
                            }),
                          ],
                        }),
                }),
                a.jsx(Pe, {
                  value: "testemunhas",
                  className: "mt-6",
                  children:
                    i.testemunhas.length > 0
                      ? a.jsx("div", {
                          className: "border rounded-lg overflow-x-auto",
                          children: a.jsxs(Ht, {
                            children: [
                              a.jsx(Xt, {
                                children: a.jsxs(Ne, {
                                  children: [
                                    a.jsx(Z, {
                                      children: "Nome da Testemunha",
                                    }),
                                    a.jsx(Z, { children: "Qtd. Depoimentos" }),
                                    a.jsx(Z, {
                                      children: "CNJs como Testemunha",
                                    }),
                                    a.jsx(Z, { children: "Reclamante" }),
                                    a.jsx(Z, { children: "Flags" }),
                                  ],
                                }),
                              }),
                              a.jsx(Rt, {
                                children: i.testemunhas.map((c, l) =>
                                  a.jsxs(
                                    Ne,
                                    {
                                      children: [
                                        a.jsx(X, {
                                          className: "font-medium",
                                          children: c.nome_testemunha || "N/A",
                                        }),
                                        a.jsx(X, {
                                          children: a.jsx(H, {
                                            variant: "outline",
                                            children: c.qtd_depoimentos || 0,
                                          }),
                                        }),
                                        a.jsx(X, {
                                          className: "max-w-xs",
                                          children: a.jsx("div", {
                                            className:
                                              "text-sm text-muted-foreground truncate",
                                            children: c.cnjs_como_testemunha
                                              ? Array.isArray(
                                                  c.cnjs_como_testemunha,
                                                )
                                                ? `${c.cnjs_como_testemunha.length} CNJs`
                                                : "1 CNJ"
                                              : "N/A",
                                          }),
                                        }),
                                        a.jsx(X, {
                                          children: c.reclamante_nome
                                            ? c.reclamante_nome.length > 25
                                              ? c.reclamante_nome.substring(
                                                  0,
                                                  25,
                                                ) + "..."
                                              : c.reclamante_nome
                                            : "N/A",
                                        }),
                                        a.jsx(X, {
                                          children: a.jsxs("div", {
                                            className: "flex gap-1 flex-wrap",
                                            children: [
                                              c.e_prova_emprestada &&
                                                a.jsx(H, {
                                                  variant: "outline",
                                                  className:
                                                    "text-xs text-warning",
                                                  children: "Prova Emprestada",
                                                }),
                                              c.qtd_depoimentos > 10 &&
                                                a.jsx(H, {
                                                  variant: "outline",
                                                  className:
                                                    "text-xs text-primary",
                                                  children: "Alta Frequncia",
                                                }),
                                            ],
                                          }),
                                        }),
                                      ],
                                    },
                                    l,
                                  ),
                                ),
                              }),
                            ],
                          }),
                        })
                      : a.jsxs(Le, {
                          children: [
                            a.jsx(Qe, { className: "h-4 w-4" }),
                            a.jsx(ze, {
                              children:
                                "Nenhuma testemunha vlida encontrada para prvia.",
                            }),
                          ],
                        }),
                }),
              ],
            }),
          }),
        ],
      }),
      a.jsxs("div", {
        className: "flex justify-between",
        children: [
          a.jsx(L, {
            variant: "outline",
            onClick: () => t("validation"),
            children: "Voltar para Validao",
          }),
          a.jsx(L, {
            onClick: () => t("publish"),
            className: "bg-success hover:bg-success/90",
            disabled: o.errors > 0 || o.valid === 0,
            children: "Publicar Nova Verso",
          }),
        ],
      }),
    ],
  });
}
function cV() {
  const {
      session: e,
      file: t,
      validationResult: r,
      resetWizard: n,
      isProcessing: i,
      setIsProcessing: s,
      uploadProgress: o,
      setUploadProgress: c,
    } = Vi(),
    [l, u] = P.useState(!1),
    [f, d] = P.useState(null),
    h = async (v = 0) => {
      if (!(!t || !r || !e)) {
        (s(!0), c(0));
        try {
          const {
              data: { session: p },
            } = await te.auth.getSession(),
            x = p?.access_token;
          if (!x) throw new Error("Sem sesso");
          try {
            const C = await fetch(
              "https://fgjypmlszuzkgvhuszxn.functions.supabase.co/create-version",
              {
                method: "OPTIONS",
                headers: {
                  Origin: window.location.origin,
                  Authorization: `Bearer ${x}`,
                  "Access-Control-Request-Method": "POST",
                  "Access-Control-Request-Headers":
                    "authorization, content-type, apikey, x-retry-count",
                },
              },
            );
          } catch {}
          c(10);
          const { data: g, error: b } = await te.functions.invoke(
            "create-version",
            { headers: { "x-retry-count": v.toString() } },
          );
          if (b) throw new Error("Falha ao criar nova verso: " + b.message);
          if (!g || !g.versionId)
            throw new Error(
              "Resposta invlida da criao de verso: " + JSON.stringify(g),
            );
          const N = r.normalizedData?.processos || [],
            _ = r.normalizedData?.testemunhas || [];
          if (N.length === 0 && _.length === 0)
            throw new Error(
              "Nenhum dado vlido encontrado para importao. Verifique se o arquivo contm dados no formato correto.",
            );
          c(30);
          const y = te.functions.invoke("import-into-version", {
              body: {
                versionId: g.versionId,
                processos: N,
                testemunhas: _,
                fileChecksum: p?.user?.id || "unknown",
                filename: t.name,
              },
            }),
            j = new Promise((C, T) =>
              setTimeout(
                () =>
                  T(
                    new Error(
                      "Timeout na importao - arquivo muito grande ou conexo lenta",
                    ),
                  ),
                48e4,
              ),
            ),
            { data: w, error: O } = await Promise.race([y, j]);
          if (O) {
            if (
              (O.message?.includes("timeout") ||
                O.message?.includes("network") ||
                O.message?.includes("504") ||
                O.message?.includes("502")) &&
              v < 2
            )
              return (
                me({
                  title: "Conectividade instvel",
                  description: `Tentativa ${v + 1}/3 - Tentando novamente...`,
                }),
                await new Promise((C) => setTimeout(C, 5e3)),
                h(v + 1)
              );
            throw new Error("Falha na importao: " + O.message);
          }
          if (!w || !w.summary)
            throw new Error("Resposta invlida da importao");
          c(80);
          const { data: S, error: E } = await te.functions.invoke(
            "publish-version",
            { body: { versionId: g.versionId } },
          );
          if (E) throw new Error("Falha ao publicar verso: " + E.message);
          (c(100),
            d({
              ...w,
              version: {
                id: g.versionId,
                number: g.number,
                publishedAt: S.publishedAt,
              },
            }),
            u(!0),
            me({
              title: "Verso publicada com sucesso!",
              description: `Verso v${g.number} com ${w.summary?.imported || 0} registros`,
            }),
            localStorage.setItem("import_completed", Date.now().toString()),
            window.dispatchEvent(new Event("storage")));
        } catch (p) {
          let x = p.message || "Falha ao publicar dados",
            g = "Erro na publicao";
          (p.message?.includes("timeout")
            ? ((g = "Timeout na operao"),
              (x =
                "A operao demorou muito para completar. Tente novamente com um arquivo menor ou verifique sua conexo."))
            : p.message?.includes("504") &&
              ((g = "Servidor sobrecarregado"),
              (x =
                "O servidor est processando muitos dados. Aguarde um momento e tente novamente.")),
            me({ title: g, description: x, variant: "destructive" }));
        } finally {
          s(!1);
        }
      }
    },
    m = () => {
      (n(),
        me({
          title: "Nova importao iniciada",
          description: "Voc pode fazer upload de um novo arquivo",
        }));
    };
  return !e || !t || !r
    ? a.jsxs(Le, {
        variant: "destructive",
        children: [
          a.jsx(Qe, { className: "h-4 w-4" }),
          a.jsx(ze, {
            children:
              "Dados da sesso no encontrados. Volte ao incio do processo.",
          }),
        ],
      })
    : l && f
      ? a.jsxs(M, {
          children: [
            a.jsxs(B, {
              className: "text-center",
              children: [
                a.jsxs(F, {
                  className:
                    "flex items-center justify-center gap-2 text-success",
                  children: [
                    a.jsx(Vy, { className: "h-6 w-6" }),
                    "Importao Concluda!",
                  ],
                }),
                a.jsx(re, {
                  children:
                    "Os dados foram importados com sucesso na base de dados",
                }),
              ],
            }),
            a.jsxs(R, {
              className: "space-y-6",
              children: [
                a.jsxs(Le, {
                  className: "border-success bg-success/5",
                  children: [
                    a.jsx(Me, { className: "h-4 w-4 text-success" }),
                    a.jsx(ze, {
                      className: "text-success",
                      children:
                        " Importao realizada com sucesso! Os dados esto agora disponveis para consulta.",
                    }),
                  ],
                }),
                a.jsxs("div", {
                  className: "bg-muted p-4 rounded-lg space-y-3",
                  children: [
                    a.jsx("h4", {
                      className: "font-medium",
                      children: "Resumo da Importao:",
                    }),
                    a.jsxs("div", {
                      className: "grid grid-cols-2 gap-4 text-sm",
                      children: [
                        a.jsxs("div", {
                          children: [
                            a.jsx("strong", { children: "Arquivo:" }),
                            " ",
                            t.name,
                          ],
                        }),
                        a.jsxs("div", {
                          children: [
                            a.jsx("strong", { children: "Tamanho:" }),
                            " ",
                            (t.size / 1024 / 1024).toFixed(2),
                            " MB",
                          ],
                        }),
                        a.jsxs("div", {
                          children: [
                            a.jsx("strong", {
                              children: "Registros importados:",
                            }),
                            a.jsx("span", {
                              className: "text-success font-semibold ml-1",
                              children:
                                f.summary?.valid_rows || r.summary.valid,
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          children: [
                            a.jsx("strong", { children: "Taxa de sucesso:" }),
                            a.jsx("span", {
                              className: "text-success ml-1",
                              children:
                                r.summary.analyzed > 0
                                  ? `${Math.round((r.summary.valid / r.summary.analyzed) * 100)}%`
                                  : "0%",
                            }),
                          ],
                        }),
                      ],
                    }),
                    f.version &&
                      a.jsx("div", {
                        className:
                          "mt-4 p-3 bg-success/10 rounded-lg border border-success/20",
                        children: a.jsxs("div", {
                          className: "text-sm space-y-1",
                          children: [
                            a.jsxs("p", {
                              children: [
                                a.jsx("strong", { children: "Verso:" }),
                                " v",
                                f.version.number,
                              ],
                            }),
                            a.jsxs("p", {
                              children: [
                                a.jsx("strong", { children: "ID da verso:" }),
                                " ",
                                f.version.id,
                              ],
                            }),
                            a.jsxs("p", {
                              children: [
                                a.jsx("strong", { children: "Publicada em:" }),
                                " ",
                                new Date(f.version.publishedAt).toLocaleString(
                                  "pt-BR",
                                ),
                              ],
                            }),
                          ],
                        }),
                      }),
                    f.summary &&
                      a.jsx("div", {
                        className: "mt-4 p-3 bg-primary/10 rounded-lg",
                        children: a.jsxs("div", {
                          className: "text-sm space-y-1",
                          children: [
                            a.jsxs("p", {
                              children: [
                                a.jsx("strong", { children: "Processos:" }),
                                " ",
                                f.summary.processos_count || f.imported || 0,
                              ],
                            }),
                            a.jsxs("p", {
                              children: [
                                a.jsx("strong", { children: "Testemunhas:" }),
                                " ",
                                f.summary.testemunhas_count || 0,
                              ],
                            }),
                            a.jsxs("p", {
                              children: [
                                a.jsx("strong", { children: "Stubs criados:" }),
                                " ",
                                f.summary.stubs_created || 0,
                              ],
                            }),
                            a.jsxs("p", {
                              children: [
                                a.jsx("strong", {
                                  children: "Flags detectadas:",
                                }),
                                " ",
                                f.summary.flags_detected || 0,
                              ],
                            }),
                          ],
                        }),
                      }),
                  ],
                }),
                a.jsxs("div", {
                  className: "flex gap-4 justify-center",
                  children: [
                    a.jsx(L, {
                      onClick: m,
                      className: "flex-1",
                      children: "Nova Importao",
                    }),
                    a.jsx(L, {
                      variant: "outline",
                      onClick: () => (window.location.href = "/admin/versoes"),
                      className: "flex-1",
                      children: "Ver Verses",
                    }),
                  ],
                }),
              ],
            }),
          ],
        })
      : a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsxs(F, {
                  className: "flex items-center gap-2",
                  children: [
                    a.jsx(Me, { className: "h-5 w-5" }),
                    "Publicar Nova Verso",
                  ],
                }),
                a.jsx(re, {
                  children:
                    "Confirme a publicao da nova verso da base de dados",
                }),
              ],
            }),
            a.jsx(R, {
              children: a.jsx("div", {
                className: "space-y-6",
                children: i
                  ? a.jsxs("div", {
                      className: "text-center py-8",
                      children: [
                        a.jsx(Tr, {
                          className:
                            "h-12 w-12 animate-spin mx-auto mb-4 text-primary",
                        }),
                        a.jsx("p", {
                          className: "font-medium",
                          children: "Publicando base de dados...",
                        }),
                        a.jsx("p", {
                          className: "text-sm text-muted-foreground mt-2",
                          children:
                            "Processando e importando todos os registros. Isso pode levar alguns minutos.",
                        }),
                        a.jsxs("div", {
                          className: "mt-4",
                          children: [
                            a.jsx(Pi, { value: o, className: "w-full" }),
                            a.jsx("p", {
                              className: "text-sm text-muted-foreground mt-1",
                              children:
                                o < 100
                                  ? `Processando... ${Math.round(o)}%`
                                  : "Finalizando...",
                            }),
                          ],
                        }),
                      ],
                    })
                  : a.jsxs(a.Fragment, {
                      children: [
                        a.jsxs(Le, {
                          children: [
                            a.jsx(Qe, { className: "h-4 w-4" }),
                            a.jsx(ze, {
                              children:
                                "Esta ao ir importar os dados validados para a base ativa. Todas as consultas passaro a incluir os novos registros.",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "bg-muted p-4 rounded-lg",
                          children: [
                            a.jsx("h4", {
                              className: "font-medium mb-3",
                              children: "Resumo da Importao:",
                            }),
                            a.jsxs("div", {
                              className: "grid grid-cols-2 gap-4 text-sm",
                              children: [
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("strong", { children: "Arquivo:" }),
                                    " ",
                                    t.name,
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("strong", { children: "Tamanho:" }),
                                    " ",
                                    (t.size / 1024 / 1024).toFixed(2),
                                    " MB",
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("strong", {
                                      children: "Registros vlidos:",
                                    }),
                                    a.jsx("span", {
                                      className:
                                        "text-success font-semibold ml-1",
                                      children:
                                        r.summary.valid.toLocaleString(),
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("strong", { children: "Problemas:" }),
                                    a.jsx("span", {
                                      className: "text-warning ml-1",
                                      children:
                                        r.summary.errors + r.summary.warnings,
                                    }),
                                    a.jsxs("span", {
                                      className:
                                        "text-xs text-muted-foreground ml-1",
                                      children: [
                                        "(",
                                        r.summary.errors,
                                        " erros, ",
                                        r.summary.warnings,
                                        " avisos)",
                                      ],
                                    }),
                                  ],
                                }),
                              ],
                            }),
                            a.jsx("div", {
                              className:
                                "mt-4 p-3 bg-gradient-to-r from-success/10 to-primary/10 rounded-lg",
                              children: a.jsxs("div", {
                                className: "flex items-center justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: "Qualidade dos Dados:",
                                  }),
                                  a.jsx("span", {
                                    className: "text-sm font-bold text-success",
                                    children:
                                      r.summary.analyzed > 0
                                        ? `${Math.round((r.summary.valid / r.summary.analyzed) * 100)}% aprovado`
                                        : "0% aprovado",
                                  }),
                                ],
                              }),
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "grid grid-cols-2 gap-4",
                          children: [
                            a.jsx(L, {
                              variant: "outline",
                              onClick: () => window.history.back(),
                              children: "Cancelar",
                            }),
                            a.jsx(L, {
                              onClick: () => h(),
                              disabled:
                                r.summary.errors > 0 || r.summary.valid === 0,
                              className: "bg-success hover:bg-success/90",
                              children: "Confirmar Publicao",
                            }),
                          ],
                        }),
                      ],
                    }),
              }),
            }),
          ],
        });
}
function lV({ progress: e, stage: t, stats: r = {} }) {
  const i = (() => {
    switch (t) {
      case "validating":
        return {
          title: "Validando dados",
          description: "Verificando estrutura e qualidade dos dados",
          icon: a.jsx(Qe, { className: "h-4 w-4 text-warning" }),
        };
      case "creating-version":
        return {
          title: "Criando nova verso",
          description: "Preparando ambiente para importao",
          icon: a.jsx(dr, { className: "h-4 w-4 text-primary" }),
        };
      case "importing":
        return {
          title: "Importando dados",
          description: "Processando e salvando registros na base de dados",
          icon: a.jsx(fr, { className: "h-4 w-4 text-primary animate-spin" }),
        };
      case "publishing":
        return {
          title: "Publicando verso",
          description: "Ativando nova verso da base de dados",
          icon: a.jsx(Me, { className: "h-4 w-4 text-success" }),
        };
      case "completed":
        return {
          title: "Importao concluda",
          description: "Todos os dados foram processados com sucesso",
          icon: a.jsx(Me, { className: "h-4 w-4 text-success" }),
        };
      default:
        return {
          title: "Processando...",
          description: "Aguarde",
          icon: a.jsx(fr, { className: "h-4 w-4 text-muted-foreground" }),
        };
    }
  })();
  return a.jsxs("div", {
    className: "space-y-4",
    children: [
      a.jsxs("div", {
        className: "flex items-center gap-3",
        children: [
          i.icon,
          a.jsxs("div", {
            className: "flex-1",
            children: [
              a.jsx("h4", { className: "font-medium", children: i.title }),
              a.jsx("p", {
                className: "text-sm text-muted-foreground",
                children: i.description,
              }),
            ],
          }),
          a.jsxs(H, {
            variant: e === 100 ? "default" : "secondary",
            children: [Math.round(e), "%"],
          }),
        ],
      }),
      a.jsx(Pi, { value: e, className: "w-full" }),
      (r.total || r.processed || r.errors) &&
        a.jsxs("div", {
          className: "grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",
          children: [
            r.total &&
              a.jsxs("div", {
                className: "bg-muted/50 p-2 rounded text-center",
                children: [
                  a.jsx("div", {
                    className: "font-medium",
                    children: r.total.toLocaleString(),
                  }),
                  a.jsx("div", {
                    className: "text-xs text-muted-foreground",
                    children: "Total",
                  }),
                ],
              }),
            r.processed &&
              a.jsxs("div", {
                className:
                  "bg-success/10 p-2 rounded text-center border border-success/20",
                children: [
                  a.jsx("div", {
                    className: "font-medium text-success",
                    children: r.processed.toLocaleString(),
                  }),
                  a.jsx("div", {
                    className: "text-xs text-success/80",
                    children: "Processados",
                  }),
                ],
              }),
            r.errors !== void 0 &&
              a.jsxs("div", {
                className:
                  "bg-destructive/10 p-2 rounded text-center border border-destructive/20",
                children: [
                  a.jsx("div", {
                    className: "font-medium text-destructive",
                    children: r.errors.toLocaleString(),
                  }),
                  a.jsx("div", {
                    className: "text-xs text-destructive/80",
                    children: "Erros",
                  }),
                ],
              }),
            r.warnings !== void 0 &&
              a.jsxs("div", {
                className:
                  "bg-warning/10 p-2 rounded text-center border border-warning/20",
                children: [
                  a.jsx("div", {
                    className: "font-medium text-warning",
                    children: r.warnings.toLocaleString(),
                  }),
                  a.jsx("div", {
                    className: "text-xs text-warning/80",
                    children: "Avisos",
                  }),
                ],
              }),
          ],
        }),
      t === "importing" &&
        r.processed &&
        r.total &&
        a.jsxs("div", {
          className: "text-xs text-muted-foreground text-center",
          children: [
            "Processando registros... (",
            r.processed.toLocaleString(),
            " de ",
            r.total.toLocaleString(),
            ")",
          ],
        }),
    ],
  });
}
const ns = [
  { id: "upload", label: "Upload", icon: Op },
  { id: "validation", label: "Validao", icon: ds },
  { id: "preview", label: "Prvia", icon: Pt },
  { id: "publish", label: "Publicao", icon: Me },
];
function uV() {
  const {
      currentStep: e,
      setCurrentStep: t,
      session: r,
      file: n,
      validationResult: i,
      isProcessing: s,
      uploadProgress: o,
      resetWizard: c,
    } = Vi(),
    l = P.useCallback(
      (f) => {
        const d = ns.findIndex((m) => m.id === e),
          h = ns.findIndex((m) => m.id === f);
        return h < d ? "completed" : h === d ? "current" : "pending";
      },
      [e],
    ),
    u = () => {
      switch (e) {
        case "upload":
          return a.jsx(W5, {});
        case "validation":
          return r && n ? a.jsx(sV, {}) : null;
        case "preview":
          return r && i ? a.jsx(oV, {}) : null;
        case "publish":
          return r && i ? a.jsx(cV, {}) : null;
        default:
          return null;
      }
    };
  return a.jsxs("div", {
    className: "max-w-6xl mx-auto space-y-8",
    children: [
      a.jsxs("div", {
        className: "text-center space-y-2",
        children: [
          a.jsx("h1", {
            className: "text-3xl font-bold tracking-tight",
            children: "Importao de Dados",
          }),
          a.jsx("p", {
            className: "text-muted-foreground",
            children:
              "Pipeline completo de anlise de testemunhas e processos com deteco de padres",
          }),
        ],
      }),
      a.jsx(M, {
        children: a.jsx(R, {
          className: "p-6",
          children: a.jsx("div", {
            className: "flex items-center justify-between",
            children: ns.map((f, d) => {
              const h = l(f.id),
                m = d === ns.length - 1;
              return a.jsxs(
                A.Fragment,
                {
                  children: [
                    a.jsxs("div", {
                      className: "flex flex-col items-center",
                      children: [
                        a.jsx("div", {
                          className: `w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors ${h === "completed" ? "bg-success border-success text-success-foreground" : h === "current" ? "bg-primary border-primary text-primary-foreground" : "bg-muted border-border text-muted-foreground"}`,
                          children:
                            h === "completed"
                              ? a.jsx(Me, { className: "h-6 w-6" })
                              : a.jsx(f.icon, { className: "h-6 w-6" }),
                        }),
                        a.jsx("div", {
                          className: "mt-3 text-center",
                          children: a.jsx("p", {
                            className: `text-sm font-medium ${h === "current" ? "text-primary" : "text-muted-foreground"}`,
                            children: f.label,
                          }),
                        }),
                      ],
                    }),
                    !m &&
                      a.jsx("div", {
                        className: `flex-1 h-px mx-4 ${h === "completed" ? "bg-success" : "bg-border"}`,
                      }),
                  ],
                },
                f.id,
              );
            }),
          }),
        }),
      }),
      a.jsxs("div", {
        className: "grid grid-cols-1 lg:grid-cols-4 gap-6",
        children: [
          a.jsx("div", { className: "lg:col-span-3", children: u() }),
          a.jsxs("div", {
            className: "space-y-4",
            children: [
              s &&
                e === "publish" &&
                a.jsxs(M, {
                  className: "border-primary/20 bg-primary/5",
                  children: [
                    a.jsx(B, {
                      className: "pb-3",
                      children: a.jsxs(F, {
                        className:
                          "text-sm flex items-center gap-2 text-primary",
                        children: [
                          a.jsx(Tr, { className: "h-4 w-4 animate-spin" }),
                          "Progresso da Importao",
                        ],
                      }),
                    }),
                    a.jsx(R, {
                      children: a.jsx(lV, {
                        progress: o,
                        stage:
                          o < 30
                            ? "importing"
                            : o < 80
                              ? "creating-version"
                              : "publishing",
                        stats: {
                          total: i?.summary?.analyzed || 0,
                          processed: Math.floor(
                            (o / 100) * (i?.summary?.valid || 0),
                          ),
                          errors: i?.summary?.errors || 0,
                          warnings: i?.summary?.warnings || 0,
                        },
                      }),
                    }),
                  ],
                }),
              a.jsxs(M, {
                className: "border-amber-200 bg-amber-50 dark:bg-amber-950",
                children: [
                  a.jsx(B, {
                    className: "pb-3",
                    children: a.jsxs(F, {
                      className:
                        "text-sm flex items-center gap-2 text-amber-800 dark:text-amber-200",
                      children: [
                        a.jsx(Uy, { className: "h-4 w-4" }),
                        "Compliance LGPD",
                      ],
                    }),
                  }),
                  a.jsxs(R, {
                    className:
                      "text-xs text-amber-700 dark:text-amber-300 space-y-2",
                    children: [
                      a.jsxs("p", {
                        children: [
                          " ",
                          a.jsx("strong", { children: "Dados mascarados:" }),
                          " CPFs e informaes sensveis so automaticamente mascarados para proteo.",
                        ],
                      }),
                      a.jsxs("p", {
                        children: [
                          " ",
                          a.jsx("strong", {
                            children: "Validao obrigatria:",
                          }),
                          " Confirmao nos autos  obrigatria antes de decises.",
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              a.jsxs(M, {
                children: [
                  a.jsx(B, {
                    className: "pb-3",
                    children: a.jsx(F, {
                      className: "text-sm",
                      children: "Template",
                    }),
                  }),
                  a.jsx(R, {
                    children: a.jsxs(L, {
                      variant: "outline",
                      size: "sm",
                      className: "w-full",
                      onClick: () => {
                        const f = document.createElement("a");
                        ((f.href = "/template-base-exemplo.csv"),
                          (f.download = "template-base-exemplo.csv"),
                          document.body.appendChild(f),
                          f.click(),
                          document.body.removeChild(f));
                      },
                      children: [
                        a.jsx(Gt, { className: "h-4 w-4 mr-2" }),
                        "Baixar Template",
                      ],
                    }),
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
const dV = () => a.jsx(uV, {}),
  YV = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: dV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  fV = () => {
    const [e, t] = P.useState([]),
      [r, n] = P.useState(!0),
      [i, s] = P.useState(null),
      { user: o } = ft(),
      { toast: c } = la();
    P.useEffect(() => {
      o && l();
    }, [o]);
    const l = async () => {
        try {
          n(!0);
          const { data: m, error: v } = await te
            .from("versions")
            .select("*")
            .order("number", { ascending: !1 });
          if (v) throw v;
          (t(m || []), s(m?.find((p) => p.status === "published") || null));
        } catch (m) {
          (console.error("Error fetching versions:", m),
            c({
              title: "Erro",
              description: "Falha ao carregar verses",
              variant: "destructive",
            }));
        } finally {
          n(!1);
        }
      },
      u = (m) =>
        new Date(m).toLocaleString("pt-BR", {
          day: "2-digit",
          month: "2-digit",
          year: "numeric",
          hour: "2-digit",
          minute: "2-digit",
        }),
      f = async (m) => {
        try {
          const { error: v } = await te.functions.invoke("publish-version", {
            body: { versionId: m },
          });
          if (v) throw v;
          (c({ title: "Sucesso", description: "Verso publicada com sucesso" }),
            l());
        } catch (v) {
          (console.error("Error publishing version:", v),
            c({
              title: "Erro",
              description: "Falha ao publicar verso",
              variant: "destructive",
            }));
        }
      },
      d = async (m, v) => {
        try {
          const { error: p } = await te.functions.invoke("rollback-version", {
            body: { toVersionId: m },
          });
          if (p) throw p;
          (c({
            title: "Sucesso",
            description: `Rollback para v${v} realizado com sucesso`,
          }),
            l());
        } catch (p) {
          (console.error("Error rolling back:", p),
            c({
              title: "Erro",
              description: "Falha ao realizar rollback",
              variant: "destructive",
            }));
        }
      },
      h = (m, v) => {
        if (v && m === "published")
          return a.jsx(H, {
            className: "bg-success text-success-foreground",
            children: "ATIVA",
          });
        switch (m) {
          case "draft":
            return a.jsx(H, { variant: "secondary", children: "RASCUNHO" });
          case "published":
          case "archived":
            return a.jsx(H, { variant: "outline", children: "ARQUIVADA" });
          default:
            return a.jsx(H, {
              variant: "secondary",
              children: m?.toUpperCase(),
            });
        }
      };
    return r
      ? a.jsx("div", {
          className: "space-y-6",
          children: a.jsxs("div", {
            children: [
              a.jsx("h1", {
                className: "text-3xl font-bold tracking-tight",
                children: "Verses & Rollback",
              }),
              a.jsx("p", {
                className: "text-muted-foreground",
                children: "Carregando verses...",
              }),
            ],
          }),
        })
      : a.jsxs("div", {
          className: "space-y-6",
          children: [
            a.jsxs("div", {
              children: [
                a.jsx("h1", {
                  className: "text-3xl font-bold tracking-tight",
                  children: "Verses & Rollback",
                }),
                a.jsx("p", {
                  className: "text-muted-foreground",
                  children:
                    "Gerencie verses da base de dados e execute rollbacks quando necessrio",
                }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsxs(F, {
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(qy, { className: "h-5 w-5" }),
                        "Histrico de Verses",
                      ],
                    }),
                    a.jsx(re, {
                      children:
                        "Lista de todas as verses criadas e seus status",
                    }),
                  ],
                }),
                a.jsx(R, {
                  children: a.jsxs(Ht, {
                    children: [
                      a.jsx(Xt, {
                        children: a.jsxs(Ne, {
                          children: [
                            a.jsx(Z, { children: "Verso" }),
                            a.jsx(Z, { children: "Hash" }),
                            a.jsx(Z, { children: "Status" }),
                            a.jsx(Z, { children: "Registros" }),
                            a.jsx(Z, { children: "Criada em" }),
                            a.jsx(Z, { children: "Autor" }),
                            a.jsx(Z, { children: "Aes" }),
                          ],
                        }),
                      }),
                      a.jsx(Rt, {
                        children:
                          e.length > 0
                            ? e.map((m) =>
                                a.jsxs(
                                  Ne,
                                  {
                                    children: [
                                      a.jsxs(X, {
                                        className: "font-medium",
                                        children: ["v", m.number],
                                      }),
                                      a.jsx(X, {
                                        children: a.jsx("code", {
                                          className:
                                            "text-sm bg-muted px-2 py-1 rounded",
                                          children:
                                            m.file_checksum?.slice(0, 8) ||
                                            "N/A",
                                        }),
                                      }),
                                      a.jsx(X, {
                                        children: h(
                                          m.status,
                                          m.status === "published",
                                        ),
                                      }),
                                      a.jsx(X, {
                                        children:
                                          m.summary?.imported?.toLocaleString() ||
                                          "N/A",
                                      }),
                                      a.jsx(X, { children: u(m.created_at) }),
                                      a.jsx(X, {
                                        children:
                                          m.summary?.created_by || "Sistema",
                                      }),
                                      a.jsx(X, {
                                        children: a.jsxs("div", {
                                          className: "flex items-center gap-2",
                                          children: [
                                            a.jsx(L, {
                                              variant: "ghost",
                                              size: "sm",
                                              title: "Visualizar",
                                              children: a.jsx(Pt, {
                                                className: "h-4 w-4",
                                              }),
                                            }),
                                            a.jsx(L, {
                                              variant: "ghost",
                                              size: "sm",
                                              title: "Baixar",
                                              children: a.jsx(Gt, {
                                                className: "h-4 w-4",
                                              }),
                                            }),
                                            m.status === "draft" &&
                                              a.jsx(L, {
                                                variant: "ghost",
                                                size: "sm",
                                                className:
                                                  "text-success hover:text-success/80",
                                                onClick: () => f(m.id),
                                                title: "Publicar verso",
                                                children: a.jsx(Me, {
                                                  className: "h-4 w-4",
                                                }),
                                              }),
                                            m.status === "archived" &&
                                              a.jsx(L, {
                                                variant: "ghost",
                                                size: "sm",
                                                className:
                                                  "text-primary hover:text-primary/80",
                                                onClick: () =>
                                                  d(m.id, m.number),
                                                title: "Fazer rollback",
                                                children: a.jsx(Wa, {
                                                  className: "h-4 w-4",
                                                }),
                                              }),
                                          ],
                                        }),
                                      }),
                                    ],
                                  },
                                  m.id,
                                ),
                              )
                            : a.jsx(Ne, {
                                children: a.jsx(X, {
                                  colSpan: 7,
                                  className:
                                    "text-center text-muted-foreground",
                                  children: "Nenhuma verso encontrada",
                                }),
                              }),
                      }),
                    ],
                  }),
                }),
              ],
            }),
            a.jsxs("div", {
              className: "grid gap-4 md:grid-cols-2",
              children: [
                a.jsxs(M, {
                  children: [
                    a.jsxs(B, {
                      children: [
                        a.jsx(F, { children: "Verso Ativa" }),
                        a.jsx(re, {
                          children:
                            "Informaes da verso atualmente em produo",
                        }),
                      ],
                    }),
                    a.jsx(R, {
                      children: i
                        ? a.jsxs("div", {
                            className: "space-y-3",
                            children: [
                              a.jsxs("div", {
                                className: "flex items-center justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: "Verso:",
                                  }),
                                  a.jsxs(H, {
                                    className:
                                      "bg-success text-success-foreground",
                                    children: ["v", i.number],
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex items-center justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: "Hash:",
                                  }),
                                  a.jsx("code", {
                                    className:
                                      "text-sm bg-muted px-2 py-1 rounded",
                                    children:
                                      i.file_checksum?.slice(0, 8) || "N/A",
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex items-center justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: "Registros:",
                                  }),
                                  a.jsx("span", {
                                    className: "text-sm",
                                    children:
                                      i.summary?.imported?.toLocaleString() ||
                                      "N/A",
                                  }),
                                ],
                              }),
                              a.jsxs("div", {
                                className: "flex items-center justify-between",
                                children: [
                                  a.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: "Publicada em:",
                                  }),
                                  a.jsx("span", {
                                    className: "text-sm",
                                    children: u(i.published_at),
                                  }),
                                ],
                              }),
                            ],
                          })
                        : a.jsx("div", {
                            className: "text-center text-muted-foreground py-4",
                            children: "Nenhuma verso ativa encontrada",
                          }),
                    }),
                  ],
                }),
                a.jsxs(M, {
                  children: [
                    a.jsxs(B, {
                      children: [
                        a.jsx(F, { children: "Aes Rpidas" }),
                        a.jsx(re, {
                          children: "Operaes frequentes com verses",
                        }),
                      ],
                    }),
                    a.jsxs(R, {
                      className: "space-y-3",
                      children: [
                        a.jsxs(L, {
                          variant: "outline",
                          className: "w-full justify-start",
                          children: [
                            a.jsx(Gt, { className: "h-4 w-4 mr-2" }),
                            "Baixar Verso Ativa",
                          ],
                        }),
                        a.jsxs(L, {
                          variant: "outline",
                          className: "w-full justify-start",
                          children: [
                            a.jsx(Pt, { className: "h-4 w-4 mr-2" }),
                            "Comparar Verses",
                          ],
                        }),
                        e.find((m) => m.status === "archived") &&
                          a.jsxs(L, {
                            variant: "outline",
                            className:
                              "w-full justify-start text-primary hover:text-primary/80",
                            onClick: () => {
                              const m = e.find((v) => v.status === "archived");
                              m && d(m.id, m.number);
                            },
                            children: [
                              a.jsx(Wa, { className: "h-4 w-4 mr-2" }),
                              "Rollback Disponvel",
                            ],
                          }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
          ],
        });
  },
  JV = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: fV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  hV = ({ user: e, isOpen: t, onClose: r, onRoleChange: n, loading: i }) => {
    const [s, o] = P.useState("VIEWER"),
      [c, l] = P.useState("NONE");
    A.useEffect(() => {
      e && (o(e.role), l(e.data_access_level));
    }, [e]);
    const u = async () => {
      e && (await n(e.user_id, s, c), r());
    };
    if (!e) return null;
    const f = (h) => {
        switch (h) {
          case "ADMIN":
            return "Acesso completo ao sistema, pode gerenciar usurios e configuraes";
          case "ANALYST":
            return "Pode analisar dados, criar relatrios e fazer anlises";
          case "VIEWER":
            return "Visualizao limitada conforme nvel de acesso aos dados";
          default:
            return "";
        }
      },
      d = (h) => {
        switch (h) {
          case "FULL":
            return "Acesso completo a todos os dados, incluindo informaes sensveis";
          case "MASKED":
            return "Acesso aos dados com informaes pessoais mascaradas";
          case "NONE":
            return "Sem acesso a dados pessoais ou sensveis";
          default:
            return "";
        }
      };
    return a.jsx(hn, {
      open: t,
      onOpenChange: r,
      children: a.jsxs(mn, {
        className: "sm:max-w-[425px]",
        children: [
          a.jsxs(or, {
            children: [
              a.jsxs(cr, {
                className: "flex items-center gap-2",
                children: [
                  a.jsx(It, { className: "h-5 w-5" }),
                  "Alterar Papel e Acesso",
                ],
              }),
              a.jsxs(Ci, {
                children: [
                  "Configurar papel e nvel de acesso aos dados para ",
                  a.jsx("strong", { children: e.email }),
                ],
              }),
            ],
          }),
          a.jsxs("div", {
            className: "space-y-6",
            children: [
              a.jsxs("div", {
                className: "space-y-3",
                children: [
                  a.jsx(le, { children: "Papel Atual" }),
                  a.jsxs("div", {
                    className: "flex gap-2",
                    children: [
                      a.jsx(H, {
                        variant:
                          e.role === "ADMIN"
                            ? "destructive"
                            : e.role === "ANALYST"
                              ? "default"
                              : "secondary",
                        children: e.role,
                      }),
                      a.jsx(H, {
                        variant: "outline",
                        children: e.data_access_level,
                      }),
                    ],
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "space-y-3",
                children: [
                  a.jsx(le, { htmlFor: "role", children: "Novo Papel" }),
                  a.jsxs(tt, {
                    value: s,
                    onValueChange: (h) => o(h),
                    children: [
                      a.jsx(rt, { children: a.jsx(nt, {}) }),
                      a.jsxs(at, {
                        children: [
                          a.jsx(ue, {
                            value: "VIEWER",
                            children: "Visualizador",
                          }),
                          a.jsx(ue, { value: "ANALYST", children: "Analista" }),
                          a.jsx(ue, {
                            value: "ADMIN",
                            children: "Administrador",
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-sm text-muted-foreground",
                    children: f(s),
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "space-y-3",
                children: [
                  a.jsx(le, {
                    htmlFor: "dataAccess",
                    children: "Nvel de Acesso aos Dados",
                  }),
                  a.jsxs(tt, {
                    value: c,
                    onValueChange: (h) => l(h),
                    children: [
                      a.jsx(rt, { children: a.jsx(nt, {}) }),
                      a.jsxs(at, {
                        children: [
                          a.jsx(ue, { value: "NONE", children: "Sem Acesso" }),
                          a.jsx(ue, {
                            value: "MASKED",
                            children: "Dados Mascarados",
                          }),
                          a.jsx(ue, {
                            value: "FULL",
                            children: "Acesso Completo",
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-sm text-muted-foreground",
                    children: d(c),
                  }),
                ],
              }),
              (s !== e.role || c !== e.data_access_level) &&
                a.jsx("div", {
                  className:
                    "p-3 bg-warning/10 border border-warning/20 rounded-md",
                  children: a.jsxs("p", {
                    className: "text-sm text-warning-foreground",
                    children: [
                      a.jsx("strong", { children: "Ateno:" }),
                      " Estas alteraes entraro em vigor imediatamente e afetaro o acesso do usurio ao sistema.",
                    ],
                  }),
                }),
            ],
          }),
          a.jsxs(du, {
            children: [
              a.jsx(L, {
                variant: "outline",
                onClick: r,
                disabled: i,
                children: "Cancelar",
              }),
              a.jsxs(L, {
                onClick: u,
                disabled: i || (s === e.role && c === e.data_access_level),
                children: [
                  i && a.jsx(sr, { className: "mr-2 h-4 w-4 animate-spin" }),
                  "Confirmar Alterao",
                ],
              }),
            ],
          }),
        ],
      }),
    });
  },
  mV = ({
    isOpen: e,
    onClose: t,
    onConfirm: r,
    title: n,
    description: i,
    confirmText: s = "Confirmar",
    variant: o = "default",
    loading: c = !1,
  }) =>
    a.jsx(fu, {
      open: e,
      onOpenChange: t,
      children: a.jsxs(hu, {
        children: [
          a.jsxs(mu, {
            children: [a.jsx(pu, { children: n }), a.jsx(vu, { children: i })],
          }),
          a.jsxs(xu, {
            children: [
              a.jsx(gu, { disabled: c, children: "Cancelar" }),
              a.jsxs(ps, {
                onClick: r,
                disabled: c,
                className:
                  o === "destructive"
                    ? "bg-destructive text-destructive-foreground hover:bg-destructive/90"
                    : "",
                children: [
                  c && a.jsx(sr, { className: "mr-2 h-4 w-4 animate-spin" }),
                  s,
                ],
              }),
            ],
          }),
        ],
      }),
    }),
  pV = () => {
    const { profile: e } = ft(),
      [t, r] = P.useState(!1),
      [n, i] = P.useState(""),
      [s, o] = P.useState("VIEWER"),
      [c, l] = P.useState("NONE"),
      [u, f] = P.useState(!0),
      [d, h] = P.useState(!1),
      [m, v] = P.useState(!1),
      [p, x] = P.useState(null),
      [g, b] = P.useState([]),
      [N, _] = P.useState([]),
      [y, j] = P.useState(""),
      [w, O] = P.useState("all"),
      [S, E] = P.useState("all"),
      [C, T] = P.useState(null),
      [$, I] = P.useState(!1),
      [k, D] = P.useState(null);
    P.useEffect(() => {
      e?.organization_id && (V(), G());
    }, [e?.organization_id]);
    const V = async () => {
        try {
          const { data: q, error: ge } = await te
            .from("organizations")
            .select("*")
            .eq("id", e?.organization_id)
            .single();
          if (ge) throw ge;
          x(q);
        } catch {
          me({
            title: "Erro",
            description: "No foi possvel carregar dados da organizao",
            variant: "destructive",
          });
        } finally {
          f(!1);
        }
      },
      G = async () => {
        try {
          const { data: q, error: ge } = await te
            .from("profiles")
            .select("*")
            .eq("organization_id", e?.organization_id)
            .order("created_at", { ascending: !1 });
          if (ge) throw ge;
          (b(q || []), _(q || []));
        } catch {
          me({
            title: "Erro",
            description: "No foi possvel carregar usurios",
            variant: "destructive",
          });
        }
      };
    P.useEffect(() => {
      let q = g;
      (y &&
        (q = q.filter(
          (ge) =>
            ge.email.toLowerCase().includes(y.toLowerCase()) ||
            ge.user_id.toLowerCase().includes(y.toLowerCase()),
        )),
        w !== "all" &&
          (q = q.filter((ge) =>
            w === "active" ? ge.is_active : !ge.is_active,
          )),
        S !== "all" && (q = q.filter((ge) => ge.role === S)),
        _(q));
    }, [g, y, w, S]);
    const K = async () => {
        if (!(!p || !e?.organization_id)) {
          h(!0);
          try {
            const { error: q } = await te
              .from("organizations")
              .update({
                name: p.name,
                domain: p.domain,
                require_2fa: p.require_2fa,
                export_limit: p.export_limit,
                retention_months: p.retention_months,
              })
              .eq("id", e.organization_id);
            if (q) throw q;
            me({
              title: "Sucesso",
              description: "Dados da organizao salvos com sucesso",
            });
          } catch {
            me({
              title: "Erro",
              description: "No foi possvel salvar os dados",
              variant: "destructive",
            });
          } finally {
            h(!1);
          }
        }
      },
      ee = async () => {
        if (!(!n || !e?.organization_id)) {
          v(!0);
          try {
            if (p?.domain && n.split("@")[1] !== p.domain) {
              me({
                title: "Erro",
                description: `E-mail deve ser do domnio ${p.domain}`,
                variant: "destructive",
              });
              return;
            }
            const { data: q, error: ge } = await te.functions.invoke(
              "user-invitations",
              {
                body: {
                  email: n,
                  role: s,
                  data_access_level: c,
                  org_id: e.organization_id,
                },
              },
            );
            if (ge) throw ge;
            (me({
              title: "Convite enviado",
              description: `Convite enviado para ${n} com perfil ${s}`,
            }),
              r(!1),
              i(""),
              o("VIEWER"),
              l("NONE"));
          } catch (q) {
            me({
              title: "Erro",
              description: q.message || "No foi possvel enviar o convite",
              variant: "destructive",
            });
          } finally {
            v(!1);
          }
        }
      },
      ae = async (q, ge) => {
        v(!0);
        try {
          const { data: Ie, error: Y } = await te.functions.invoke(
            "manage-user-roles",
            { body: { action: q, user_id: ge } },
          );
          if (Y) throw Y;
          (me({ title: "Sucesso", description: Ie.message }), await G());
        } catch (Ie) {
          me({
            title: "Erro",
            description: Ie.message || "No foi possvel executar a ao",
            variant: "destructive",
          });
        } finally {
          (v(!1), D(null));
        }
      },
      J = async (q, ge, Ie) => {
        v(!0);
        try {
          const { data: Y, error: he } = await te.functions.invoke(
            "manage-user-roles",
            {
              body: {
                action: "change_role",
                user_id: q,
                role: ge,
                data_access_level: Ie,
              },
            },
          );
          if (he) throw he;
          (me({ title: "Sucesso", description: Y.message }), await G());
        } catch (Y) {
          me({
            title: "Erro",
            description: Y.message || "No foi possvel alterar o papel",
            variant: "destructive",
          });
        } finally {
          v(!1);
        }
      },
      se = (q, ge) => {
        const Ie = {
          activate: {
            title: "Ativar Usurio",
            description: `Tem certeza que deseja ativar o usurio ${q.email}? Ele poder acessar o sistema novamente.`,
          },
          deactivate: {
            title: "Desativar Usurio",
            description: `Tem certeza que deseja desativar o usurio ${q.email}? Ele perder acesso ao sistema.`,
          },
          delete: {
            title: "Revogar Acesso",
            description: `Tem certeza que deseja revogar completamente o acesso de ${q.email}? Esta ao no pode ser desfeita.`,
          },
        };
        D({ user: q, action: ge, ...Ie[ge] });
      };
    if (u)
      return a.jsx("div", {
        className: "flex items-center justify-center min-h-[400px]",
        children: a.jsx(sr, { className: "h-8 w-8 animate-spin" }),
      });
    if (!p)
      return a.jsx("div", {
        className: "text-center py-8",
        children: a.jsx("p", {
          className: "text-muted-foreground",
          children: "No foi possvel carregar dados da organizao",
        }),
      });
    const ie = (q) => {
        switch (q) {
          case "ADMIN":
            return a.jsx(H, {
              className: "bg-destructive text-destructive-foreground",
              children: "Admin",
            });
          case "ANALYST":
            return a.jsx(H, {
              className: "bg-primary text-primary-foreground",
              children: "Analista",
            });
          case "VIEWER":
            return a.jsx(H, { variant: "secondary", children: "Visualizador" });
          default:
            return a.jsx(H, { variant: "outline", children: q });
        }
      },
      de = (q) =>
        q
          ? a.jsx(H, {
              className: "bg-success text-success-foreground",
              children: "Ativo",
            })
          : a.jsx(H, { variant: "secondary", children: "Inativo" });
    return a.jsxs("div", {
      className: "space-y-6",
      children: [
        a.jsxs("div", {
          children: [
            a.jsx("h1", {
              className: "text-3xl font-bold tracking-tight",
              children: "Organizao & Acessos",
            }),
            a.jsx("p", {
              className: "text-muted-foreground",
              children:
                "Gerencie dados da organizao, usurios e polticas de acesso",
            }),
          ],
        }),
        a.jsxs("div", {
          className: "grid gap-6 md:grid-cols-2",
          children: [
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsxs(F, {
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(fs, { className: "h-5 w-5" }),
                        "Dados da Organizao",
                      ],
                    }),
                    a.jsx(re, {
                      children:
                        "Informaes bsicas e configuraes da organizao",
                    }),
                  ],
                }),
                a.jsxs(R, {
                  className: "space-y-4",
                  children: [
                    a.jsxs("div", {
                      className: "grid grid-cols-2 gap-4",
                      children: [
                        a.jsxs("div", {
                          className: "space-y-2",
                          children: [
                            a.jsx(le, {
                              htmlFor: "orgName",
                              children: "Nome da Organizao",
                            }),
                            a.jsx($e, {
                              id: "orgName",
                              value: p.name,
                              onChange: (q) =>
                                x({ ...p, name: q.target.value }),
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "space-y-2",
                          children: [
                            a.jsx(le, {
                              htmlFor: "orgCode",
                              children: "Cdigo",
                            }),
                            a.jsx($e, {
                              id: "orgCode",
                              value: p.code,
                              disabled: !0,
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "space-y-2",
                      children: [
                        a.jsx(le, {
                          htmlFor: "domain",
                          children: "Domnio Permitido",
                        }),
                        a.jsx($e, {
                          id: "domain",
                          value: p.domain || "",
                          placeholder: "exemplo.com",
                          onChange: (q) => x({ ...p, domain: q.target.value }),
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "space-y-2",
                      children: [
                        a.jsx(le, {
                          htmlFor: "retention",
                          children: "Reteno de Dados (meses)",
                        }),
                        a.jsx($e, {
                          id: "retention",
                          type: "number",
                          value: p.retention_months,
                          onChange: (q) =>
                            x({
                              ...p,
                              retention_months: parseInt(q.target.value),
                            }),
                        }),
                      ],
                    }),
                    a.jsxs(L, {
                      className: "w-full",
                      onClick: K,
                      disabled: d,
                      children: [
                        d &&
                          a.jsx(sr, { className: "mr-2 h-4 w-4 animate-spin" }),
                        "Salvar Alteraes",
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsx(F, { children: "Polticas de Segurana" }),
                    a.jsx(re, {
                      children: "Configure polticas de acesso e segurana",
                    }),
                  ],
                }),
                a.jsxs(R, {
                  className: "space-y-4",
                  children: [
                    a.jsxs("div", {
                      className: "flex items-center justify-between",
                      children: [
                        a.jsxs("div", {
                          className: "space-y-0.5",
                          children: [
                            a.jsx(le, { children: "Exigir Autenticao 2FA" }),
                            a.jsx("p", {
                              className: "text-sm text-muted-foreground",
                              children: "Obrigatrio para todos os usurios",
                            }),
                          ],
                        }),
                        a.jsx(Ei, {
                          checked: p.require_2fa,
                          onCheckedChange: (q) => x({ ...p, require_2fa: q }),
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "space-y-2",
                      children: [
                        a.jsx(le, { children: "Limite de Export" }),
                        a.jsxs(tt, {
                          value: p.export_limit,
                          onValueChange: (q) => x({ ...p, export_limit: q }),
                          children: [
                            a.jsx(rt, { children: a.jsx(nt, {}) }),
                            a.jsxs(at, {
                              children: [
                                a.jsx(ue, {
                                  value: "ROLE_BASED",
                                  children: "Baseado no Papel",
                                }),
                                a.jsx(ue, {
                                  value: "UNLIMITED",
                                  children: "Ilimitado",
                                }),
                                a.jsx(ue, {
                                  value: "RESTRICTED",
                                  children: "Restrito",
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "pt-4 space-y-2",
                      children: [
                        a.jsx("h4", {
                          className: "font-medium",
                          children: "Limites por Papel:",
                        }),
                        a.jsxs("div", {
                          className: "text-sm space-y-1",
                          children: [
                            a.jsxs("div", {
                              className: "flex justify-between",
                              children: [
                                a.jsx("span", { children: "VIEWER:" }),
                                a.jsx("span", { children: "Copiar bloco" }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "flex justify-between",
                              children: [
                                a.jsx("span", { children: "ANALYST:" }),
                                a.jsx("span", { children: "Export CSV" }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "flex justify-between",
                              children: [
                                a.jsx("span", { children: "ADMIN:" }),
                                a.jsx("span", { children: "PDF/CSV completo" }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
        a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsxs(F, {
                  className: "flex items-center justify-between",
                  children: [
                    a.jsxs("div", {
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(Ai, { className: "h-5 w-5" }),
                        "Usurios & Acessos",
                      ],
                    }),
                    a.jsxs(hn, {
                      open: t,
                      onOpenChange: r,
                      children: [
                        a.jsx(yu, {
                          asChild: !0,
                          children: a.jsxs(L, {
                            children: [
                              a.jsx(uu, { className: "h-4 w-4 mr-2" }),
                              "Convidar Usurio",
                            ],
                          }),
                        }),
                        a.jsxs(mn, {
                          children: [
                            a.jsxs(or, {
                              children: [
                                a.jsx(cr, {
                                  children: "Convidar Novo Usurio",
                                }),
                                a.jsx(Ci, {
                                  children:
                                    "Envie um convite para um novo usurio com papel especfico",
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "space-y-4",
                              children: [
                                a.jsxs("div", {
                                  className: "space-y-2",
                                  children: [
                                    a.jsx(le, {
                                      htmlFor: "email",
                                      children: "E-mail",
                                    }),
                                    a.jsx($e, {
                                      id: "email",
                                      type: "email",
                                      value: n,
                                      onChange: (q) => i(q.target.value),
                                      placeholder: "usuario@exemplo.com",
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "space-y-2",
                                  children: [
                                    a.jsx(le, { children: "Papel Inicial" }),
                                    a.jsxs(tt, {
                                      value: s,
                                      onValueChange: (q) => o(q),
                                      children: [
                                        a.jsx(rt, { children: a.jsx(nt, {}) }),
                                        a.jsxs(at, {
                                          children: [
                                            a.jsx(ue, {
                                              value: "VIEWER",
                                              children: "Visualizador",
                                            }),
                                            a.jsx(ue, {
                                              value: "ANALYST",
                                              children: "Analista",
                                            }),
                                            a.jsx(ue, {
                                              value: "ADMIN",
                                              children: "Administrador",
                                            }),
                                          ],
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "space-y-2",
                                  children: [
                                    a.jsx(le, {
                                      children: "Nvel de Acesso aos Dados",
                                    }),
                                    a.jsxs(tt, {
                                      value: c,
                                      onValueChange: (q) => l(q),
                                      children: [
                                        a.jsx(rt, { children: a.jsx(nt, {}) }),
                                        a.jsxs(at, {
                                          children: [
                                            a.jsx(ue, {
                                              value: "NONE",
                                              children: "Sem Acesso",
                                            }),
                                            a.jsx(ue, {
                                              value: "MASKED",
                                              children: "Dados Mascarados",
                                            }),
                                            a.jsx(ue, {
                                              value: "FULL",
                                              children: "Acesso Completo",
                                            }),
                                          ],
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                              ],
                            }),
                            a.jsxs(du, {
                              children: [
                                a.jsx(L, {
                                  variant: "outline",
                                  onClick: () => r(!1),
                                  children: "Cancelar",
                                }),
                                a.jsxs(L, {
                                  onClick: ee,
                                  disabled: m,
                                  children: [
                                    m &&
                                      a.jsx(sr, {
                                        className: "h-4 w-4 mr-2 animate-spin",
                                      }),
                                    !m &&
                                      a.jsx(Wy, { className: "h-4 w-4 mr-2" }),
                                    "Enviar Convite",
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsx(re, {
                  children: "Gerencie usurios, papis e status de acesso",
                }),
              ],
            }),
            a.jsxs(R, {
              children: [
                a.jsxs("div", {
                  className: "flex gap-4 mb-6",
                  children: [
                    a.jsx("div", {
                      className: "flex-1",
                      children: a.jsxs("div", {
                        className: "relative",
                        children: [
                          a.jsx(Pp, {
                            className:
                              "absolute left-3 top-3 h-4 w-4 text-muted-foreground",
                          }),
                          a.jsx($e, {
                            placeholder: "Buscar por e-mail ou ID...",
                            value: y,
                            onChange: (q) => j(q.target.value),
                            className: "pl-10",
                          }),
                        ],
                      }),
                    }),
                    a.jsxs(tt, {
                      value: w,
                      onValueChange: (q) => O(q),
                      children: [
                        a.jsx(rt, {
                          className: "w-[150px]",
                          children: a.jsx(nt, {}),
                        }),
                        a.jsxs(at, {
                          children: [
                            a.jsx(ue, {
                              value: "all",
                              children: "Todos Status",
                            }),
                            a.jsx(ue, { value: "active", children: "Ativos" }),
                            a.jsx(ue, {
                              value: "inactive",
                              children: "Inativos",
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs(tt, {
                      value: S,
                      onValueChange: (q) => E(q),
                      children: [
                        a.jsx(rt, {
                          className: "w-[150px]",
                          children: a.jsx(nt, {}),
                        }),
                        a.jsxs(at, {
                          children: [
                            a.jsx(ue, {
                              value: "all",
                              children: "Todos Papis",
                            }),
                            a.jsx(ue, { value: "ADMIN", children: "Admin" }),
                            a.jsx(ue, {
                              value: "ANALYST",
                              children: "Analista",
                            }),
                            a.jsx(ue, {
                              value: "VIEWER",
                              children: "Visualizador",
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsxs(Ht, {
                  children: [
                    a.jsx(Xt, {
                      children: a.jsxs(Ne, {
                        children: [
                          a.jsx(Z, { children: "Usurio" }),
                          a.jsx(Z, { children: "E-mail" }),
                          a.jsx(Z, { children: "Papel & Acesso" }),
                          a.jsx(Z, { children: "Status" }),
                          a.jsx(Z, { children: "ltimo Acesso" }),
                          a.jsx(Z, { children: "Aes" }),
                        ],
                      }),
                    }),
                    a.jsx(Rt, {
                      children:
                        N.length === 0
                          ? a.jsx(Ne, {
                              children: a.jsx(X, {
                                colSpan: 6,
                                className: "text-center py-8",
                                children: a.jsx("p", {
                                  className: "text-muted-foreground",
                                  children:
                                    y || w !== "all" || S !== "all"
                                      ? "Nenhum usurio encontrado com os filtros aplicados"
                                      : "Nenhum usurio encontrado",
                                }),
                              }),
                            })
                          : N.map((q) =>
                              a.jsxs(
                                Ne,
                                {
                                  children: [
                                    a.jsx(X, {
                                      className: "font-medium",
                                      children: q.email.split("@")[0],
                                    }),
                                    a.jsx(X, { children: q.email }),
                                    a.jsx(X, {
                                      children: a.jsxs("div", {
                                        className: "flex flex-col gap-1",
                                        children: [
                                          ie(q.role),
                                          a.jsx(H, {
                                            variant: "outline",
                                            className: "text-xs",
                                            children: q.data_access_level,
                                          }),
                                        ],
                                      }),
                                    }),
                                    a.jsx(X, { children: de(q.is_active) }),
                                    a.jsx(X, {
                                      children: a.jsxs("div", {
                                        className: "text-sm",
                                        children: [
                                          a.jsxs("div", {
                                            children: [
                                              "Criado: ",
                                              new Date(
                                                q.created_at,
                                              ).toLocaleDateString("pt-BR"),
                                            ],
                                          }),
                                          q.last_login_at &&
                                            a.jsxs("div", {
                                              className:
                                                "text-muted-foreground text-xs",
                                              children: [
                                                "Login: ",
                                                new Date(
                                                  q.last_login_at,
                                                ).toLocaleDateString("pt-BR"),
                                              ],
                                            }),
                                        ],
                                      }),
                                    }),
                                    a.jsx(X, {
                                      children: a.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [
                                          q.is_active
                                            ? a.jsx(L, {
                                                variant: "ghost",
                                                size: "sm",
                                                className:
                                                  "text-destructive hover:text-destructive-foreground hover:bg-destructive/10",
                                                title: "Desativar usurio",
                                                onClick: () =>
                                                  se(q, "deactivate"),
                                                disabled:
                                                  m || q.user_id === e?.user_id,
                                                children: a.jsx(Gy, {
                                                  className: "h-4 w-4",
                                                }),
                                              })
                                            : a.jsx(L, {
                                                variant: "ghost",
                                                size: "sm",
                                                title: "Ativar usurio",
                                                onClick: () =>
                                                  se(q, "activate"),
                                                disabled: m,
                                                children: a.jsx(Cp, {
                                                  className: "h-4 w-4",
                                                }),
                                              }),
                                          a.jsx(L, {
                                            variant: "ghost",
                                            size: "sm",
                                            className:
                                              "text-primary hover:text-primary-foreground hover:bg-primary/10",
                                            title: "Alterar papel",
                                            onClick: () => {
                                              (T(q), I(!0));
                                            },
                                            disabled: m,
                                            children: a.jsx(It, {
                                              className: "h-4 w-4",
                                            }),
                                          }),
                                        ],
                                      }),
                                    }),
                                  ],
                                },
                                q.id,
                              ),
                            ),
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
        a.jsx(hV, {
          user: C,
          isOpen: $,
          onClose: () => {
            (I(!1), T(null));
          },
          onRoleChange: J,
          loading: m,
        }),
        k &&
          a.jsx(mV, {
            isOpen: !!k,
            onClose: () => D(null),
            onConfirm: () => ae(k.action, k.user.user_id),
            title: k.title,
            description: k.description,
            confirmText: k.action === "delete" ? "Revogar Acesso" : "Confirmar",
            variant:
              k.action === "deactivate" || k.action === "delete"
                ? "destructive"
                : "default",
            loading: m,
          }),
      ],
    });
  },
  ZV = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: pV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  Bt = P.forwardRef(({ className: e, ...t }, r) =>
    a.jsxs(Ep, {
      ref: r,
      className: st(
        "relative flex w-full touch-none select-none items-center",
        e,
      ),
      ...t,
      children: [
        a.jsx(Ky, {
          className:
            "relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",
          children: a.jsx(Hy, { className: "absolute h-full bg-primary" }),
        }),
        a.jsx(Xy, {
          className:
            "block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",
        }),
      ],
    }),
  );
Bt.displayName = Ep.displayName;
const vV = () => {
    const [e, t] = P.useState(6),
      [r, n] = P.useState(!0),
      [i, s] = P.useState({
        reclamante_foi_testemunha: 30,
        troca_direta: 40,
        triangulacao_confirmada: 20,
        prova_emprestada: 10,
      }),
      [o, c] = P.useState({
        viewer_limit: 50,
        analyst_limit: 1e3,
        admin_limit: -1,
      }),
      l = () => {
        me({
          title: "Configuraes salvas",
          description: "Os parmetros do sistema foram atualizados com sucesso",
        });
      },
      u = () => {
        (t(6),
          n(!0),
          s({
            reclamante_foi_testemunha: 30,
            troca_direta: 40,
            triangulacao_confirmada: 20,
            prova_emprestada: 10,
          }),
          me({
            title: "Configuraes restauradas",
            description: "Parmetros voltaram aos valores padro",
          }));
      },
      f = Object.values(i).reduce((d, h) => d + h, 0);
    return a.jsxs("div", {
      className: "space-y-6",
      children: [
        a.jsxs("div", {
          children: [
            a.jsx("h1", {
              className: "text-3xl font-bold tracking-tight",
              children: "Parmetros & Regras",
            }),
            a.jsx("p", {
              className: "text-muted-foreground",
              children:
                "Configure parmetros globais do sistema e regras de negcio",
            }),
          ],
        }),
        a.jsxs("div", {
          className: "grid gap-6 md:grid-cols-2",
          children: [
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsxs(F, {
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(fr, { className: "h-5 w-5" }),
                        "Janela de Triangulao",
                      ],
                    }),
                    a.jsx(re, {
                      children:
                        "Perodo em meses considerado para anlise de triangulao",
                    }),
                  ],
                }),
                a.jsxs(R, {
                  className: "space-y-4",
                  children: [
                    a.jsxs("div", {
                      className: "space-y-2",
                      children: [
                        a.jsxs(le, { children: ["Meses: ", e] }),
                        a.jsx(Bt, {
                          value: [e],
                          onValueChange: (d) => t(d[0]),
                          max: 24,
                          min: 1,
                          step: 1,
                        }),
                        a.jsxs("div", {
                          className:
                            "flex justify-between text-sm text-muted-foreground",
                          children: [
                            a.jsx("span", { children: "1 ms" }),
                            a.jsx("span", { children: "24 meses" }),
                          ],
                        }),
                      ],
                    }),
                    a.jsx("div", {
                      className: "p-3 bg-muted rounded-lg",
                      children: a.jsxs("p", {
                        className: "text-sm",
                        children: [
                          a.jsx("strong", { children: "Impacto:" }),
                          " Processos e testemunhas dentro de ",
                          e,
                          " meses sero considerados para identificao de padres suspeitos.",
                        ],
                      }),
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsxs(F, {
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(It, { className: "h-5 w-5" }),
                        "Configuraes de Privacidade",
                      ],
                    }),
                    a.jsx(re, {
                      children: "Controles de privacidade e proteo de dados",
                    }),
                  ],
                }),
                a.jsxs(R, {
                  className: "space-y-4",
                  children: [
                    a.jsxs("div", {
                      className: "flex items-center justify-between",
                      children: [
                        a.jsxs("div", {
                          className: "space-y-0.5",
                          children: [
                            a.jsx(le, { children: "Mscara de CPF" }),
                            a.jsx("p", {
                              className: "text-sm text-muted-foreground",
                              children: "Ocultar ltimos dgitos do CPF",
                            }),
                          ],
                        }),
                        a.jsx(Ei, { checked: r, onCheckedChange: n }),
                      ],
                    }),
                    a.jsx("div", {
                      className: "p-3 bg-muted rounded-lg",
                      children: a.jsxs("p", {
                        className: "text-sm",
                        children: [
                          a.jsx("strong", { children: "Exemplo:" }),
                          " ",
                          r ? "123.456.789-**" : "123.456.789-00",
                        ],
                      }),
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
        a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsxs(F, {
                  className: "flex items-center gap-2",
                  children: [
                    a.jsx(Yy, { className: "h-5 w-5" }),
                    "Pesos do Score de Risco",
                  ],
                }),
                a.jsx(re, {
                  children:
                    "Configure a importncia de cada indicador no clculo do score final",
                }),
              ],
            }),
            a.jsxs(R, {
              className: "space-y-6",
              children: [
                a.jsxs("div", {
                  className: "grid gap-6 md:grid-cols-2",
                  children: [
                    a.jsxs("div", {
                      className: "space-y-4",
                      children: [
                        a.jsxs("div", {
                          className: "space-y-2",
                          children: [
                            a.jsxs(le, {
                              children: [
                                "Reclamante foi Testemunha: ",
                                i.reclamante_foi_testemunha,
                                "%",
                              ],
                            }),
                            a.jsx(Bt, {
                              value: [i.reclamante_foi_testemunha],
                              onValueChange: (d) =>
                                s((h) => ({
                                  ...h,
                                  reclamante_foi_testemunha: d[0],
                                })),
                              max: 100,
                              min: 0,
                              step: 5,
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "space-y-2",
                          children: [
                            a.jsxs(le, {
                              children: ["Troca Direta: ", i.troca_direta, "%"],
                            }),
                            a.jsx(Bt, {
                              value: [i.troca_direta],
                              onValueChange: (d) =>
                                s((h) => ({ ...h, troca_direta: d[0] })),
                              max: 100,
                              min: 0,
                              step: 5,
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "space-y-4",
                      children: [
                        a.jsxs("div", {
                          className: "space-y-2",
                          children: [
                            a.jsxs(le, {
                              children: [
                                "Triangulao Confirmada: ",
                                i.triangulacao_confirmada,
                                "%",
                              ],
                            }),
                            a.jsx(Bt, {
                              value: [i.triangulacao_confirmada],
                              onValueChange: (d) =>
                                s((h) => ({
                                  ...h,
                                  triangulacao_confirmada: d[0],
                                })),
                              max: 100,
                              min: 0,
                              step: 5,
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "space-y-2",
                          children: [
                            a.jsxs(le, {
                              children: [
                                "Prova Emprestada: ",
                                i.prova_emprestada,
                                "%",
                              ],
                            }),
                            a.jsx(Bt, {
                              value: [i.prova_emprestada],
                              onValueChange: (d) =>
                                s((h) => ({ ...h, prova_emprestada: d[0] })),
                              max: 100,
                              min: 0,
                              step: 5,
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsxs("div", {
                  className: "flex items-center gap-4",
                  children: [
                    a.jsx("span", {
                      className: "text-sm font-medium",
                      children: "Total dos pesos:",
                    }),
                    a.jsxs(H, {
                      variant: f === 100 ? "default" : "destructive",
                      children: [f, "%"],
                    }),
                    f !== 100 &&
                      a.jsx("span", {
                        className: "text-sm text-muted-foreground",
                        children: "(deve somar 100%)",
                      }),
                  ],
                }),
              ],
            }),
          ],
        }),
        a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Limites de Export por Papel" }),
                a.jsx(re, {
                  children:
                    "Configure limites de exportao por tipo de usurio",
                }),
              ],
            }),
            a.jsx(R, {
              children: a.jsxs("div", {
                className: "grid gap-4 md:grid-cols-3",
                children: [
                  a.jsxs("div", {
                    className: "space-y-2",
                    children: [
                      a.jsx(le, { children: "VIEWER - Registros por export" }),
                      a.jsx($e, {
                        type: "number",
                        value: o.viewer_limit,
                        onChange: (d) =>
                          c((h) => ({
                            ...h,
                            viewer_limit: parseInt(d.target.value) || 0,
                          })),
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "space-y-2",
                    children: [
                      a.jsx(le, { children: "ANALYST - Registros por export" }),
                      a.jsx($e, {
                        type: "number",
                        value: o.analyst_limit,
                        onChange: (d) =>
                          c((h) => ({
                            ...h,
                            analyst_limit: parseInt(d.target.value) || 0,
                          })),
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "space-y-2",
                    children: [
                      a.jsx(le, { children: "ADMIN - Registros por export" }),
                      a.jsxs(tt, {
                        value: o.admin_limit === -1 ? "unlimited" : "limited",
                        onValueChange: (d) =>
                          c((h) => ({
                            ...h,
                            admin_limit: d === "unlimited" ? -1 : 1e4,
                          })),
                        children: [
                          a.jsx(rt, { children: a.jsx(nt, {}) }),
                          a.jsxs(at, {
                            children: [
                              a.jsx(ue, {
                                value: "unlimited",
                                children: "Ilimitado",
                              }),
                              a.jsx(ue, {
                                value: "limited",
                                children: "Com limite",
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            }),
          ],
        }),
        a.jsxs("div", {
          className: "flex gap-4",
          children: [
            a.jsxs(L, {
              onClick: l,
              className: "flex items-center gap-2",
              children: [
                a.jsx(Tp, { className: "h-4 w-4" }),
                "Salvar Configuraes",
              ],
            }),
            a.jsxs(L, {
              variant: "outline",
              onClick: u,
              className: "flex items-center gap-2",
              children: [
                a.jsx(Wa, { className: "h-4 w-4" }),
                "Restaurar Padres",
              ],
            }),
          ],
        }),
      ],
    });
  },
  QV = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: vV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  );
function xV() {
  const { user: e } = ft(),
    [t, r] = P.useState([]),
    [n, i] = P.useState([]),
    [s, o] = P.useState(!0),
    [c, l] = P.useState("all");
  P.useEffect(() => {
    u();
  }, []);
  const u = async () => {
      o(!0);
      try {
        const { data: v, error: p } = await te
          .from("lgpd_requests")
          .select("*")
          .order("created_at", { ascending: !1 });
        p ? console.error("Error fetching requests:", p) : r(v || []);
        const { data: x, error: g } = await te
          .from("data_access_logs")
          .select("*")
          .order("created_at", { ascending: !1 })
          .limit(100);
        g ? console.error("Error fetching logs:", g) : i(x || []);
      } catch (v) {
        (console.error("Error fetching compliance data:", v),
          Ve.error("Erro ao carregar dados de compliance"));
      } finally {
        o(!1);
      }
    },
    f = (v) => {
      const p = {
          PENDING: { variant: "secondary", icon: fr, text: "Pendente" },
          PROCESSING: { variant: "default", icon: Pt, text: "Processando" },
          COMPLETED: { variant: "default", icon: Me, text: "Concluda" },
          REJECTED: { variant: "destructive", icon: lu, text: "Rejeitada" },
        },
        x = p[v] || p.PENDING,
        g = x.icon,
        b = v === "COMPLETED" ? "bg-success text-success-foreground" : "";
      return a.jsxs(H, {
        variant: x.variant,
        className: b,
        children: [a.jsx(g, { className: "h-3 w-3 mr-1" }), x.text],
      });
    },
    d = (v) =>
      ({
        ACCESS: "Acesso aos Dados",
        RECTIFICATION: "Retificao",
        DELETION: "Excluso",
        PORTABILITY: "Portabilidade",
      })[v] || v,
    h = c === "all" ? t : t.filter((v) => v.status === c),
    m = async (v, p) => {
      try {
        const { error: x } = await te
          .from("lgpd_requests")
          .update({
            status: p,
            completed_at: p === "COMPLETED" ? new Date().toISOString() : null,
          })
          .eq("id", v);
        if (x) throw x;
        (Ve.success("Status atualizado com sucesso"), u());
      } catch (x) {
        (console.error("Error updating status:", x),
          Ve.error("Erro ao atualizar status"));
      }
    };
  return s
    ? a.jsx("div", {
        className: "flex items-center justify-center h-96",
        children: a.jsxs("div", {
          className: "text-center",
          children: [
            a.jsx(It, {
              className: "h-12 w-12 mx-auto mb-4 animate-pulse text-primary",
            }),
            a.jsx("p", { children: "Carregando dados de compliance..." }),
          ],
        }),
      })
    : a.jsxs("div", {
        className: "space-y-6",
        children: [
          a.jsxs("div", {
            children: [
              a.jsxs("h1", {
                className: "text-3xl font-bold flex items-center gap-2",
                children: [
                  a.jsx(It, { className: "h-8 w-8 text-primary" }),
                  "Compliance LGPD",
                ],
              }),
              a.jsx("p", {
                className: "text-muted-foreground",
                children:
                  "Gesto de solicitaes e logs de acesso conforme a Lei Geral de Proteo de Dados",
              }),
            ],
          }),
          a.jsxs("div", {
            className: "grid grid-cols-1 md:grid-cols-4 gap-4",
            children: [
              a.jsx(M, {
                children: a.jsx(R, {
                  className: "p-6",
                  children: a.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [
                      a.jsxs("div", {
                        children: [
                          a.jsx("p", {
                            className:
                              "text-sm font-medium text-muted-foreground",
                            children: "Total de Solicitaes",
                          }),
                          a.jsx("p", {
                            className: "text-2xl font-bold",
                            children: t.length,
                          }),
                        ],
                      }),
                      a.jsx(Kt, { className: "h-8 w-8 text-primary" }),
                    ],
                  }),
                }),
              }),
              a.jsx(M, {
                children: a.jsx(R, {
                  className: "p-6",
                  children: a.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [
                      a.jsxs("div", {
                        children: [
                          a.jsx("p", {
                            className:
                              "text-sm font-medium text-muted-foreground",
                            children: "Pendentes",
                          }),
                          a.jsx("p", {
                            className: "text-2xl font-bold",
                            children: t.filter((v) => v.status === "PENDING")
                              .length,
                          }),
                        ],
                      }),
                      a.jsx(fr, { className: "h-8 w-8 text-orange-500" }),
                    ],
                  }),
                }),
              }),
              a.jsx(M, {
                children: a.jsx(R, {
                  className: "p-6",
                  children: a.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [
                      a.jsxs("div", {
                        children: [
                          a.jsx("p", {
                            className:
                              "text-sm font-medium text-muted-foreground",
                            children: "Concludas",
                          }),
                          a.jsx("p", {
                            className: "text-2xl font-bold",
                            children: t.filter((v) => v.status === "COMPLETED")
                              .length,
                          }),
                        ],
                      }),
                      a.jsx(Me, { className: "h-8 w-8 text-success" }),
                    ],
                  }),
                }),
              }),
              a.jsx(M, {
                children: a.jsx(R, {
                  className: "p-6",
                  children: a.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [
                      a.jsxs("div", {
                        children: [
                          a.jsx("p", {
                            className:
                              "text-sm font-medium text-muted-foreground",
                            children: "Logs de Acesso",
                          }),
                          a.jsx("p", {
                            className: "text-2xl font-bold",
                            children: n.length,
                          }),
                        ],
                      }),
                      a.jsx(Pt, { className: "h-8 w-8 text-blue-500" }),
                    ],
                  }),
                }),
              }),
            ],
          }),
          a.jsxs(gr, {
            defaultValue: "requests",
            className: "space-y-4",
            children: [
              a.jsxs(yr, {
                children: [
                  a.jsx(we, {
                    value: "requests",
                    children: "Solicitaes LGPD",
                  }),
                  a.jsx(we, { value: "logs", children: "Logs de Acesso" }),
                  a.jsx(we, { value: "settings", children: "Configuraes" }),
                ],
              }),
              a.jsxs(Pe, {
                value: "requests",
                className: "space-y-4",
                children: [
                  a.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [
                      a.jsxs(tt, {
                        value: c,
                        onValueChange: l,
                        children: [
                          a.jsx(rt, {
                            className: "w-48",
                            children: a.jsx(nt, {
                              placeholder: "Filtrar por status",
                            }),
                          }),
                          a.jsxs(at, {
                            children: [
                              a.jsx(ue, {
                                value: "all",
                                children: "Todos os Status",
                              }),
                              a.jsx(ue, {
                                value: "PENDING",
                                children: "Pendentes",
                              }),
                              a.jsx(ue, {
                                value: "PROCESSING",
                                children: "Processando",
                              }),
                              a.jsx(ue, {
                                value: "COMPLETED",
                                children: "Concludas",
                              }),
                              a.jsx(ue, {
                                value: "REJECTED",
                                children: "Rejeitadas",
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsx(L, { onClick: u, children: "Atualizar" }),
                    ],
                  }),
                  a.jsx("div", {
                    className: "space-y-4",
                    children:
                      h.length === 0
                        ? a.jsx(M, {
                            children: a.jsxs(R, {
                              className: "p-8 text-center",
                              children: [
                                a.jsx(It, {
                                  className:
                                    "h-12 w-12 mx-auto mb-4 text-muted-foreground",
                                }),
                                a.jsx("p", {
                                  className: "text-muted-foreground",
                                  children:
                                    "Nenhuma solicitao LGPD encontrada",
                                }),
                              ],
                            }),
                          })
                        : h.map((v) =>
                            a.jsxs(
                              M,
                              {
                                children: [
                                  a.jsx(B, {
                                    children: a.jsxs("div", {
                                      className:
                                        "flex items-start justify-between",
                                      children: [
                                        a.jsxs("div", {
                                          children: [
                                            a.jsx(F, {
                                              className: "text-lg",
                                              children: d(v.request_type),
                                            }),
                                            a.jsxs("p", {
                                              className:
                                                "text-sm text-muted-foreground",
                                              children: [
                                                "Solicitante: ",
                                                v.requested_by_email,
                                              ],
                                            }),
                                          ],
                                        }),
                                        a.jsxs("div", {
                                          className: "text-right space-y-2",
                                          children: [
                                            f(v.status),
                                            a.jsxs("div", {
                                              className: "flex gap-2",
                                              children: [
                                                a.jsx(L, {
                                                  size: "sm",
                                                  variant: "outline",
                                                  onClick: () =>
                                                    m(v.id, "PROCESSING"),
                                                  disabled:
                                                    v.status === "COMPLETED",
                                                  children: "Processar",
                                                }),
                                                a.jsx(L, {
                                                  size: "sm",
                                                  variant: "default",
                                                  onClick: () =>
                                                    m(v.id, "COMPLETED"),
                                                  disabled:
                                                    v.status === "COMPLETED",
                                                  children: "Concluir",
                                                }),
                                              ],
                                            }),
                                          ],
                                        }),
                                      ],
                                    }),
                                  }),
                                  a.jsxs(R, {
                                    children: [
                                      v.justification &&
                                        a.jsxs("div", {
                                          className: "mb-4",
                                          children: [
                                            a.jsx("h4", {
                                              className: "font-medium mb-2",
                                              children: "Justificativa:",
                                            }),
                                            a.jsx("p", {
                                              className:
                                                "text-sm text-muted-foreground",
                                              children: v.justification,
                                            }),
                                          ],
                                        }),
                                      a.jsxs("div", {
                                        className:
                                          "grid grid-cols-2 gap-4 text-sm",
                                        children: [
                                          a.jsxs("div", {
                                            children: [
                                              a.jsx("strong", {
                                                children: "Criada em:",
                                              }),
                                              " ",
                                              new Date(
                                                v.created_at,
                                              ).toLocaleString("pt-BR"),
                                            ],
                                          }),
                                          a.jsxs("div", {
                                            children: [
                                              a.jsx("strong", {
                                                children: "Expira em:",
                                              }),
                                              " ",
                                              new Date(
                                                v.expires_at,
                                              ).toLocaleString("pt-BR"),
                                            ],
                                          }),
                                          v.completed_at &&
                                            a.jsxs("div", {
                                              children: [
                                                a.jsx("strong", {
                                                  children: "Concluda em:",
                                                }),
                                                " ",
                                                new Date(
                                                  v.completed_at,
                                                ).toLocaleString("pt-BR"),
                                              ],
                                            }),
                                        ],
                                      }),
                                    ],
                                  }),
                                ],
                              },
                              v.id,
                            ),
                          ),
                  }),
                ],
              }),
              a.jsx(Pe, {
                value: "logs",
                className: "space-y-4",
                children: a.jsxs(M, {
                  children: [
                    a.jsxs(B, {
                      children: [
                        a.jsx(F, { children: "Logs de Acesso a Dados" }),
                        a.jsx("p", {
                          className: "text-sm text-muted-foreground",
                          children: "Registro de acessos para auditoria LGPD",
                        }),
                      ],
                    }),
                    a.jsx(R, {
                      children: a.jsx("div", {
                        className: "space-y-2",
                        children: n
                          .slice(0, 20)
                          .map((v) =>
                            a.jsxs(
                              "div",
                              {
                                className:
                                  "flex items-center justify-between py-2 border-b",
                                children: [
                                  a.jsxs("div", {
                                    children: [
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: v.accessed_table,
                                      }),
                                      a.jsx("span", {
                                        className: "mx-2 text-muted-foreground",
                                        children: "",
                                      }),
                                      a.jsx("span", {
                                        className:
                                          "text-sm text-muted-foreground",
                                        children: v.access_type,
                                      }),
                                    ],
                                  }),
                                  a.jsx("span", {
                                    className: "text-sm text-muted-foreground",
                                    children: new Date(
                                      v.created_at,
                                    ).toLocaleString("pt-BR"),
                                  }),
                                ],
                              },
                              v.id,
                            ),
                          ),
                      }),
                    }),
                  ],
                }),
              }),
              a.jsxs(Pe, {
                value: "settings",
                className: "space-y-4",
                children: [
                  a.jsxs(Le, {
                    children: [
                      a.jsx(dt, { className: "h-4 w-4" }),
                      a.jsxs(ze, {
                        children: [
                          a.jsx("strong", { children: "Portal do Titular:" }),
                          " O portal pblico para solicitaes LGPD est disponvel em",
                          " ",
                          a.jsx("a", {
                            href: "/portal-titular",
                            className: "text-primary underline",
                            target: "_blank",
                            children: "/portal-titular",
                          }),
                        ],
                      }),
                    ],
                  }),
                  a.jsxs(M, {
                    children: [
                      a.jsx(B, {
                        children: a.jsx(F, {
                          children: "Configuraes de Compliance",
                        }),
                      }),
                      a.jsxs(R, {
                        className: "space-y-4",
                        children: [
                          a.jsxs("div", {
                            className: "space-y-2",
                            children: [
                              a.jsx("h4", {
                                className: "font-medium",
                                children: "Reteno de Dados",
                              }),
                              a.jsx("p", {
                                className: "text-sm text-muted-foreground",
                                children:
                                  "Dados so retidos por 24 meses aps o fim da necessidade processual, conforme poltica de reteno configurada.",
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "space-y-2",
                            children: [
                              a.jsx("h4", {
                                className: "font-medium",
                                children: "Anonimizao Automtica",
                              }),
                              a.jsx("p", {
                                className: "text-sm text-muted-foreground",
                                children:
                                  "CPFs, nomes e dados sensveis so mascarados automaticamente em exports e relatrios por padro.",
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "space-y-2",
                            children: [
                              a.jsx("h4", {
                                className: "font-medium",
                                children: "Base Legal",
                              }),
                              a.jsx("p", {
                                className: "text-sm text-muted-foreground",
                                children:
                                  "Art. 7, VI da LGPD - Execuo regular de direitos em processo judicial",
                              }),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              }),
            ],
          }),
        ],
      });
}
const e6 = Object.freeze(
  Object.defineProperty({ __proto__: null, default: xV }, Symbol.toStringTag, {
    value: "Module",
  }),
);
function wp() {
  const e = [
      {
        title: "Compliance LGPD 85% Automatizada",
        description:
          "Sistema com polticas de reteno automtica, anonimizao de PII e auditoria completa",
        icon: It,
        metrics: [
          "85% compliance automtica",
          "100% dados protegidos",
          "0 vazamentos registrados",
        ],
      },
      {
        title: "ROI Comprovado em Compliance",
        description:
          "Reduo de 70% nos custos de adequao LGPD vs. consultoria tradicional",
        icon: _n,
        metrics: [
          "70% reduo de custos",
          "90% menos tempo de setup",
          "100% auditvel",
        ],
      },
      {
        title: "Diferencial Competitivo",
        description:
          "nico sistema jurdico com LGPD by design para anlise de testemunhas",
        icon: Zy,
        metrics: [
          "1 no mercado",
          "Tecnologia exclusiva",
          "Certificao prpria",
        ],
      },
    ],
    t = [
      {
        title: "Whitepaper: LGPD para Escritrios",
        description:
          "Guia completo de adequao LGPD para escritrios de advocacia",
        type: "PDF",
        pages: "24 pginas",
        icon: Kt,
        downloadUrl: "/whitepaper-assistjur.pdf",
      },
      {
        title: "Checklist de Compliance",
        description: "Lista verificao completa para auditoria LGPD interna",
        type: "Planilha",
        pages: "5 categorias",
        icon: Me,
        downloadUrl: "/checklist-compliance.xlsx",
      },
      {
        title: "Template de Polticas",
        description: "Modelos prontos de polticas de privacidade e reteno",
        type: "DOC",
        pages: "12 modelos",
        icon: Kt,
        downloadUrl: "/templates-politicas.docx",
      },
    ],
    r = [
      {
        name: "Dr. Carlos Mendes",
        role: "Scio, Mendes & Associados",
        quote:
          "Com o AssistJur.IA, nossa adequao LGPD foi 3x mais rpida que o esperado.",
        compliance: "100% conforme",
      },
      {
        name: "Dra. Ana Silva",
        role: "Coordenadora de Compliance",
        quote:
          "A auditoria automtica nos deu total controle sobre os dados dos clientes.",
        compliance: "0 incidentes",
      },
    ];
  return a.jsx(wb, {
    children: a.jsxs("div", {
      className: "container mx-auto p-6 space-y-8",
      children: [
        a.jsxs("div", {
          className: "flex items-center gap-3 mb-8",
          children: [
            a.jsx("div", {
              className: "p-2 bg-primary/10 rounded-lg",
              children: a.jsx(Jy, { className: "w-6 h-6 text-primary" }),
            }),
            a.jsxs("div", {
              children: [
                a.jsx("h1", {
                  className: "text-3xl font-bold",
                  children: "Marketing Compliance",
                }),
                a.jsx("p", {
                  className: "text-muted-foreground",
                  children:
                    "Argumentrio comercial e lead magnets para converso",
                }),
              ],
            }),
          ],
        }),
        a.jsxs(gr, {
          defaultValue: "argumentario",
          className: "space-y-6",
          children: [
            a.jsxs(yr, {
              className: "grid w-full grid-cols-4",
              children: [
                a.jsx(we, { value: "argumentario", children: "Argumentrio" }),
                a.jsx(we, { value: "leadmagnets", children: "Lead Magnets" }),
                a.jsx(we, { value: "roi", children: "ROI Calculator" }),
                a.jsx(we, { value: "cases", children: "Cases de Sucesso" }),
              ],
            }),
            a.jsxs(Pe, {
              value: "argumentario",
              className: "space-y-6",
              children: [
                a.jsx("div", {
                  className: "grid gap-6 md:grid-cols-1 lg:grid-cols-1",
                  children: e.map((n, i) => {
                    const s = n.icon;
                    return a.jsxs(
                      M,
                      {
                        className: "border-l-4 border-l-primary",
                        children: [
                          a.jsx(B, {
                            children: a.jsxs("div", {
                              className: "flex items-start gap-4",
                              children: [
                                a.jsx("div", {
                                  className: "p-2 bg-primary/10 rounded-lg",
                                  children: a.jsx(s, {
                                    className: "w-6 h-6 text-primary",
                                  }),
                                }),
                                a.jsxs("div", {
                                  className: "flex-1",
                                  children: [
                                    a.jsx(F, {
                                      className: "text-xl",
                                      children: n.title,
                                    }),
                                    a.jsx(re, {
                                      className: "mt-2",
                                      children: n.description,
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          }),
                          a.jsx(R, {
                            children: a.jsx("div", {
                              className: "flex flex-wrap gap-2",
                              children: n.metrics.map((o, c) =>
                                a.jsx(
                                  H,
                                  { variant: "secondary", children: o },
                                  c,
                                ),
                              ),
                            }),
                          }),
                        ],
                      },
                      i,
                    );
                  }),
                }),
                a.jsxs(M, {
                  className:
                    "bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",
                  children: [
                    a.jsx(B, {
                      children: a.jsxs(F, {
                        className: "flex items-center gap-2",
                        children: [
                          a.jsx(It, { className: "w-5 h-5 text-primary" }),
                          "Proposta de Valor nica",
                        ],
                      }),
                    }),
                    a.jsx(R, {
                      children: a.jsxs("p", {
                        className: "text-lg leading-relaxed",
                        children: [
                          a.jsx("strong", { children: "AssistJur.IA" }),
                          "  o nico sistema jurdico com",
                          " ",
                          a.jsx(H, {
                            variant: "outline",
                            className: "mx-1",
                            children: "LGPD by design",
                          }),
                          "que oferece ",
                          a.jsx("strong", {
                            children: "85% de compliance automatizada",
                          }),
                          " para anlise de testemunhas, com economia de ",
                          a.jsx("strong", { children: "70% nos custos" }),
                          " e ",
                          a.jsx("strong", { children: "90% menos tempo" }),
                          " de adequao.",
                        ],
                      }),
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs(Pe, {
              value: "leadmagnets",
              className: "space-y-6",
              children: [
                a.jsx("div", {
                  className: "grid gap-6 md:grid-cols-2 lg:grid-cols-3",
                  children: t.map((n, i) => {
                    const s = n.icon;
                    return a.jsxs(
                      M,
                      {
                        className: "group hover:shadow-lg transition-shadow",
                        children: [
                          a.jsxs(B, {
                            children: [
                              a.jsxs("div", {
                                className: "flex items-center gap-3",
                                children: [
                                  a.jsx("div", {
                                    className: "p-2 bg-accent/10 rounded-lg",
                                    children: a.jsx(s, {
                                      className: "w-5 h-5 text-accent",
                                    }),
                                  }),
                                  a.jsx("div", {
                                    children: a.jsx(H, {
                                      variant: "outline",
                                      children: n.type,
                                    }),
                                  }),
                                ],
                              }),
                              a.jsx(F, {
                                className: "text-lg",
                                children: n.title,
                              }),
                              a.jsx(re, { children: n.description }),
                            ],
                          }),
                          a.jsxs(R, {
                            className: "space-y-4",
                            children: [
                              a.jsxs("div", {
                                className: "text-sm text-muted-foreground",
                                children: [" ", n.pages],
                              }),
                              a.jsxs(L, {
                                className:
                                  "w-full group-hover:bg-primary/90 transition-colors",
                                onClick: () =>
                                  window.open(n.downloadUrl, "_blank"),
                                children: [
                                  a.jsx(Gt, { className: "w-4 h-4 mr-2" }),
                                  "Download Gratuito",
                                ],
                              }),
                            ],
                          }),
                        ],
                      },
                      i,
                    );
                  }),
                }),
                a.jsxs(M, {
                  children: [
                    a.jsx(B, {
                      children: a.jsx(F, {
                        children: "Performance dos Lead Magnets",
                      }),
                    }),
                    a.jsx(R, {
                      children: a.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                        children: [
                          a.jsxs("div", {
                            className: "text-center p-4 bg-muted/50 rounded-lg",
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold text-primary",
                                children: "1,247",
                              }),
                              a.jsx("div", {
                                className: "text-sm text-muted-foreground",
                                children: "Downloads totais",
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "text-center p-4 bg-muted/50 rounded-lg",
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold text-accent",
                                children: "32%",
                              }),
                              a.jsx("div", {
                                className: "text-sm text-muted-foreground",
                                children: "Taxa de converso",
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "text-center p-4 bg-muted/50 rounded-lg",
                            children: [
                              a.jsx("div", {
                                className: "text-2xl font-bold text-primary",
                                children: "89",
                              }),
                              a.jsx("div", {
                                className: "text-sm text-muted-foreground",
                                children: "Leads qualificados",
                              }),
                            ],
                          }),
                        ],
                      }),
                    }),
                  ],
                }),
              ],
            }),
            a.jsx(Pe, {
              value: "roi",
              className: "space-y-6",
              children: a.jsxs(M, {
                children: [
                  a.jsxs(B, {
                    children: [
                      a.jsx(F, {
                        children: "Calculadora de ROI - Compliance LGPD",
                      }),
                      a.jsx(re, {
                        children:
                          "Compare os custos de adequao LGPD: AssistJur.IA vs. Consultoria Tradicional",
                      }),
                    ],
                  }),
                  a.jsxs(R, {
                    children: [
                      a.jsxs("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-8",
                        children: [
                          a.jsxs("div", {
                            className: "space-y-4",
                            children: [
                              a.jsx("h3", {
                                className:
                                  "text-lg font-semibold text-destructive",
                                children: "Consultoria Tradicional",
                              }),
                              a.jsxs("div", {
                                className: "space-y-3",
                                children: [
                                  a.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [
                                      a.jsx("span", {
                                        children: "Consultoria inicial:",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "R$ 25.000",
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [
                                      a.jsx("span", {
                                        children: "Implementao (6 meses):",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "R$ 45.000",
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [
                                      a.jsx("span", {
                                        children: "Auditoria anual:",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "R$ 15.000",
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [
                                      a.jsx("span", {
                                        children: "Manuteno/ano:",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "R$ 12.000",
                                      }),
                                    ],
                                  }),
                                  a.jsx("div", {
                                    className: "border-t pt-2",
                                    children: a.jsxs("div", {
                                      className:
                                        "flex justify-between text-lg font-bold text-destructive",
                                      children: [
                                        a.jsx("span", {
                                          children: "Total (1 ano):",
                                        }),
                                        a.jsx("span", {
                                          children: "R$ 97.000",
                                        }),
                                      ],
                                    }),
                                  }),
                                ],
                              }),
                            ],
                          }),
                          a.jsxs("div", {
                            className: "space-y-4",
                            children: [
                              a.jsx("h3", {
                                className: "text-lg font-semibold text-primary",
                                children: "AssistJur.IA",
                              }),
                              a.jsxs("div", {
                                className: "space-y-3",
                                children: [
                                  a.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [
                                      a.jsx("span", {
                                        children: "Setup inicial:",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "R$ 0",
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [
                                      a.jsx("span", {
                                        children: "Implementao (1 semana):",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "R$ 2.000",
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [
                                      a.jsx("span", {
                                        children: "Licena anual:",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "R$ 24.000",
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [
                                      a.jsx("span", {
                                        children: "Suporte includo:",
                                      }),
                                      a.jsx("span", {
                                        className: "font-medium",
                                        children: "R$ 0",
                                      }),
                                    ],
                                  }),
                                  a.jsx("div", {
                                    className: "border-t pt-2",
                                    children: a.jsxs("div", {
                                      className:
                                        "flex justify-between text-lg font-bold text-primary",
                                      children: [
                                        a.jsx("span", {
                                          children: "Total (1 ano):",
                                        }),
                                        a.jsx("span", {
                                          children: "R$ 26.000",
                                        }),
                                      ],
                                    }),
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsx("div", {
                        className:
                          "mt-8 p-6 bg-primary/5 rounded-lg border border-primary/20",
                        children: a.jsxs("div", {
                          className: "text-center",
                          children: [
                            a.jsx("div", {
                              className: "text-3xl font-bold text-primary mb-2",
                              children: "R$ 71.000 de economia",
                            }),
                            a.jsx("div", {
                              className: "text-lg text-muted-foreground",
                              children: "73% menos custos no primeiro ano",
                            }),
                            a.jsx("div", {
                              className: "mt-4 text-sm text-muted-foreground",
                              children:
                                "+ 90% menos tempo de implementao + Compliance automtica 24/7",
                            }),
                          ],
                        }),
                      }),
                    ],
                  }),
                ],
              }),
            }),
            a.jsxs(Pe, {
              value: "cases",
              className: "space-y-6",
              children: [
                a.jsx("div", {
                  className: "grid gap-6",
                  children: r.map((n, i) =>
                    a.jsx(
                      M,
                      {
                        className: "border-l-4 border-l-accent",
                        children: a.jsx(R, {
                          className: "pt-6",
                          children: a.jsxs("div", {
                            className: "flex items-start gap-4",
                            children: [
                              a.jsx("div", {
                                className: "p-2 bg-accent/10 rounded-full",
                                children: a.jsx(Ai, {
                                  className: "w-5 h-5 text-accent",
                                }),
                              }),
                              a.jsxs("div", {
                                className: "flex-1",
                                children: [
                                  a.jsxs("blockquote", {
                                    className: "text-lg italic mb-4",
                                    children: ['"', n.quote, '"'],
                                  }),
                                  a.jsxs("div", {
                                    className:
                                      "flex items-center justify-between",
                                    children: [
                                      a.jsxs("div", {
                                        children: [
                                          a.jsx("div", {
                                            className: "font-semibold",
                                            children: n.name,
                                          }),
                                          a.jsx("div", {
                                            className:
                                              "text-sm text-muted-foreground",
                                            children: n.role,
                                          }),
                                        ],
                                      }),
                                      a.jsx(H, {
                                        variant: "outline",
                                        className: "bg-primary/10",
                                        children: n.compliance,
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            ],
                          }),
                        }),
                      },
                      i,
                    ),
                  ),
                }),
                a.jsx(M, {
                  className:
                    "bg-gradient-to-r from-primary to-accent text-white",
                  children: a.jsx(R, {
                    className: "pt-6",
                    children: a.jsxs("div", {
                      className: "text-center space-y-4",
                      children: [
                        a.jsx("h3", {
                          className: "text-2xl font-bold",
                          children:
                            "Pronto para 85% de Compliance Automatizada?",
                        }),
                        a.jsx("p", {
                          className: "text-lg opacity-90",
                          children:
                            "Junte-se aos escritrios que j economizam 70% em adequao LGPD",
                        }),
                        a.jsxs("div", {
                          className: "flex gap-4 justify-center",
                          children: [
                            a.jsx(L, {
                              variant: "secondary",
                              size: "lg",
                              children: "Demonstrao Gratuita",
                            }),
                            a.jsx(L, {
                              variant: "outline",
                              size: "lg",
                              className:
                                "bg-white/10 border-white/20 text-white hover:bg-white/20",
                              children: "Falar com Especialista",
                            }),
                          ],
                        }),
                      ],
                    }),
                  }),
                }),
              ],
            }),
          ],
        }),
      ],
    }),
  });
}
const t6 = Object.freeze(
  Object.defineProperty(
    { __proto__: null, MarketingCompliance: wp, default: wp },
    Symbol.toStringTag,
    { value: "Module" },
  ),
);
function gV() {
  const { user: e } = ft(),
    [t, r] = P.useState([]),
    [n, i] = P.useState([]),
    [s, o] = P.useState(!0),
    [c, l] = P.useState(null);
  P.useEffect(() => {
    u();
  }, []);
  const u = async () => {
      o(!0);
      try {
        const { data: p, error: x } = await te
          .from("retention_policies")
          .select("*")
          .order("table_name");
        x
          ? (console.error("Error fetching policies:", x),
            Ve.error("Erro ao carregar polticas de reteno"))
          : r(p || []);
        const { data: g, error: b } = await te
          .from("cleanup_logs")
          .select("*")
          .order("started_at", { ascending: !1 })
          .limit(50);
        b ? console.error("Error fetching logs:", b) : i(g || []);
      } catch (p) {
        (console.error("Error fetching data:", p),
          Ve.error("Erro ao carregar dados"));
      } finally {
        o(!1);
      }
    },
    f = async (p, x) => {
      try {
        const { error: g } = await te
          .from("retention_policies")
          .update(x)
          .eq("id", p);
        if (g) throw g;
        (Ve.success("Poltica atualizada com sucesso"), u());
      } catch (g) {
        (console.error("Error updating policy:", g),
          Ve.error("Erro ao atualizar poltica"));
      }
    },
    d = async (p) => {
      l(p);
      try {
        const { data: x, error: g } = await te.functions.invoke(
          "data-retention",
          { body: { action: "execute_cleanup", policyId: p } },
        );
        if (g) throw g;
        (Ve.success(
          `Limpeza executada: ${x.result.records_affected} registros afetados`,
        ),
          u());
      } catch (x) {
        (console.error("Error executing cleanup:", x),
          Ve.error("Erro ao executar limpeza"));
      } finally {
        l(null);
      }
    },
    h = async () => {
      l("batch");
      try {
        const { data: p, error: x } = await te.functions.invoke(
          "data-retention",
          {
            body: {
              action: "batch_cleanup",
              orgId: e?.user_metadata?.organization_id,
            },
          },
        );
        if (x) throw x;
        (Ve.success(
          `Limpeza em lote executada: ${p.processed} polticas processadas`,
        ),
          u());
      } catch (p) {
        (console.error("Error executing batch cleanup:", p),
          Ve.error("Erro ao executar limpeza em lote"));
      } finally {
        l(null);
      }
    },
    m = (p) =>
      ({
        processos: "Processos",
        audit_logs: "Logs de Auditoria",
        openai_logs: "Logs OpenAI",
        data_access_logs: "Logs de Acesso",
        lgpd_requests: "Solicitaes LGPD",
      })[p] || p,
    v = (p) => {
      switch (p) {
        case "COMPLETED":
          return a.jsxs(H, {
            className: "bg-success",
            children: [a.jsx(Me, { className: "h-3 w-3 mr-1" }), "Concludo"],
          });
        case "FAILED":
          return a.jsxs(H, {
            variant: "destructive",
            children: [a.jsx(dt, { className: "h-3 w-3 mr-1" }), "Falhou"],
          });
        case "STARTED":
          return a.jsxs(H, {
            variant: "secondary",
            children: [a.jsx(fr, { className: "h-3 w-3 mr-1" }), "Iniciado"],
          });
        default:
          return a.jsx(H, { variant: "outline", children: p });
      }
    };
  return s
    ? a.jsx("div", {
        className: "flex items-center justify-center h-96",
        children: a.jsxs("div", {
          className: "text-center",
          children: [
            a.jsx(dr, {
              className: "h-12 w-12 mx-auto mb-4 animate-pulse text-primary",
            }),
            a.jsx("p", { children: "Carregando polticas de reteno..." }),
          ],
        }),
      })
    : a.jsxs("div", {
        className: "space-y-6",
        children: [
          a.jsxs("div", {
            className: "flex items-center justify-between",
            children: [
              a.jsxs("div", {
                children: [
                  a.jsxs("h1", {
                    className: "text-3xl font-bold flex items-center gap-2",
                    children: [
                      a.jsx(dr, { className: "h-8 w-8 text-primary" }),
                      "Reteno de Dados",
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-muted-foreground",
                    children:
                      "Gesto automatizada de polticas de reteno LGPD",
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "flex gap-2",
                children: [
                  a.jsxs(L, {
                    onClick: h,
                    disabled: c === "batch",
                    variant: "outline",
                    children: [
                      a.jsx(qa, { className: "h-4 w-4 mr-2" }),
                      c === "batch" ? "Executando..." : "Limpeza em Lote",
                    ],
                  }),
                  a.jsx(L, {
                    onClick: u,
                    variant: "outline",
                    children: "Atualizar",
                  }),
                ],
              }),
            ],
          }),
          a.jsxs(Le, {
            children: [
              a.jsx(It, { className: "h-4 w-4" }),
              a.jsxs(ze, {
                children: [
                  a.jsx("strong", { children: "Compliance LGPD:" }),
                  " As polticas de reteno automatizada garantem o descarte seguro de dados aps o prazo legal necessrio, conforme Art. 6, VII da LGPD.",
                ],
              }),
            ],
          }),
          a.jsxs(gr, {
            defaultValue: "policies",
            className: "space-y-4",
            children: [
              a.jsxs(yr, {
                children: [
                  a.jsx(we, {
                    value: "policies",
                    children: "Polticas de Reteno",
                  }),
                  a.jsx(we, {
                    value: "logs",
                    children: "Histrico de Limpezas",
                  }),
                  a.jsx(we, { value: "settings", children: "Configuraes" }),
                ],
              }),
              a.jsx(Pe, {
                value: "policies",
                className: "space-y-4",
                children: a.jsx("div", {
                  className: "grid gap-4",
                  children: t.map((p) =>
                    a.jsxs(
                      M,
                      {
                        children: [
                          a.jsx(B, {
                            children: a.jsxs("div", {
                              className: "flex items-center justify-between",
                              children: [
                                a.jsxs("div", {
                                  children: [
                                    a.jsx(F, {
                                      className: "text-lg",
                                      children: m(p.table_name),
                                    }),
                                    a.jsxs("p", {
                                      className:
                                        "text-sm text-muted-foreground",
                                      children: [
                                        "Reteno: ",
                                        p.retention_months,
                                        " meses",
                                      ],
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "flex items-center gap-4",
                                  children: [
                                    a.jsxs("div", {
                                      className: "flex items-center gap-2",
                                      children: [
                                        a.jsx("span", {
                                          className: "text-sm",
                                          children: "Auto-limpeza:",
                                        }),
                                        a.jsx(Ei, {
                                          checked: p.auto_cleanup,
                                          onCheckedChange: (x) =>
                                            f(p.id, { auto_cleanup: x }),
                                        }),
                                      ],
                                    }),
                                    a.jsxs(L, {
                                      size: "sm",
                                      onClick: () => d(p.id),
                                      disabled: c === p.id,
                                      variant: "outline",
                                      children: [
                                        a.jsx(fn, {
                                          className: "h-4 w-4 mr-2",
                                        }),
                                        c === p.id
                                          ? "Executando..."
                                          : "Executar Limpeza",
                                      ],
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          }),
                          a.jsx(R, {
                            children: a.jsxs("div", {
                              className:
                                "grid grid-cols-1 md:grid-cols-3 gap-4",
                              children: [
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("label", {
                                      className: "text-sm font-medium",
                                      children: "Reteno (meses):",
                                    }),
                                    a.jsx($e, {
                                      type: "number",
                                      value: p.retention_months,
                                      onChange: (x) =>
                                        f(p.id, {
                                          retention_months: parseInt(
                                            x.target.value,
                                          ),
                                        }),
                                      className: "mt-1",
                                      min: "1",
                                      max: "120",
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("label", {
                                      className: "text-sm font-medium",
                                      children: "ltima Limpeza:",
                                    }),
                                    a.jsx("p", {
                                      className:
                                        "text-sm text-muted-foreground mt-1",
                                      children: p.last_cleanup_at
                                        ? new Date(
                                            p.last_cleanup_at,
                                          ).toLocaleString("pt-BR")
                                        : "Nunca executada",
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("label", {
                                      className: "text-sm font-medium",
                                      children: "Prxima Limpeza:",
                                    }),
                                    a.jsx("p", {
                                      className:
                                        "text-sm text-muted-foreground mt-1",
                                      children: p.next_cleanup_at
                                        ? new Date(
                                            p.next_cleanup_at,
                                          ).toLocaleString("pt-BR")
                                        : "No agendada",
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          }),
                        ],
                      },
                      p.id,
                    ),
                  ),
                }),
              }),
              a.jsx(Pe, {
                value: "logs",
                className: "space-y-4",
                children: a.jsxs(M, {
                  children: [
                    a.jsxs(B, {
                      children: [
                        a.jsx(F, { children: "Histrico de Limpezas" }),
                        a.jsx("p", {
                          className: "text-sm text-muted-foreground",
                          children:
                            "Registro das execues de polticas de reteno",
                        }),
                      ],
                    }),
                    a.jsx(R, {
                      children: a.jsx("div", {
                        className: "space-y-4",
                        children:
                          n.length === 0
                            ? a.jsx("p", {
                                className:
                                  "text-center text-muted-foreground py-8",
                                children: "Nenhuma limpeza executada ainda",
                              })
                            : n.map((p) =>
                                a.jsxs(
                                  "div",
                                  {
                                    className:
                                      "flex items-center justify-between p-4 border rounded-lg",
                                    children: [
                                      a.jsxs("div", {
                                        children: [
                                          a.jsxs("div", {
                                            className:
                                              "flex items-center gap-2",
                                            children: [
                                              a.jsx("span", {
                                                className: "font-medium",
                                                children: m(p.table_name),
                                              }),
                                              v(p.status),
                                            ],
                                          }),
                                          a.jsxs("p", {
                                            className:
                                              "text-sm text-muted-foreground",
                                            children: [
                                              p.records_affected,
                                              " registros afetados",
                                            ],
                                          }),
                                          p.error_message &&
                                            a.jsxs("p", {
                                              className:
                                                "text-sm text-destructive",
                                              children: [
                                                "Erro: ",
                                                p.error_message,
                                              ],
                                            }),
                                        ],
                                      }),
                                      a.jsxs("div", {
                                        className:
                                          "text-right text-sm text-muted-foreground",
                                        children: [
                                          a.jsxs("div", {
                                            children: [
                                              "Iniciado: ",
                                              new Date(
                                                p.started_at,
                                              ).toLocaleString("pt-BR"),
                                            ],
                                          }),
                                          p.completed_at &&
                                            a.jsxs("div", {
                                              children: [
                                                "Concludo: ",
                                                new Date(
                                                  p.completed_at,
                                                ).toLocaleString("pt-BR"),
                                              ],
                                            }),
                                        ],
                                      }),
                                    ],
                                  },
                                  p.id,
                                ),
                              ),
                      }),
                    }),
                  ],
                }),
              }),
              a.jsx(Pe, {
                value: "settings",
                className: "space-y-4",
                children: a.jsxs("div", {
                  className: "grid gap-6",
                  children: [
                    a.jsxs(M, {
                      children: [
                        a.jsx(B, {
                          children: a.jsx(F, {
                            children: "Configuraes Globais",
                          }),
                        }),
                        a.jsxs(R, {
                          className: "space-y-4",
                          children: [
                            a.jsxs("div", {
                              className: "space-y-2",
                              children: [
                                a.jsx("h4", {
                                  className: "font-medium",
                                  children: "Perodos de Reteno Padro",
                                }),
                                a.jsxs("div", {
                                  className: "grid grid-cols-2 gap-4 text-sm",
                                  children: [
                                    a.jsx("div", {
                                      children: "Processos: 60 meses (5 anos)",
                                    }),
                                    a.jsx("div", {
                                      children: "Logs de Auditoria: 24 meses",
                                    }),
                                    a.jsx("div", {
                                      children: "Logs OpenAI: 12 meses",
                                    }),
                                    a.jsx("div", {
                                      children: "Logs de Acesso: 24 meses",
                                    }),
                                  ],
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "space-y-2",
                              children: [
                                a.jsx("h4", {
                                  className: "font-medium",
                                  children: "Frequncia de Execuo",
                                }),
                                a.jsx("p", {
                                  className: "text-sm text-muted-foreground",
                                  children:
                                    "Polticas com auto-limpeza habilitada so executadas mensalmente",
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "space-y-2",
                              children: [
                                a.jsx("h4", {
                                  className: "font-medium",
                                  children: "Segurana",
                                }),
                                a.jsx("p", {
                                  className: "text-sm text-muted-foreground",
                                  children:
                                    "Dados crticos (processos ativos) so protegidos contra excluso acidental. Logs de auditoria so mantidos para compliance regulatrio.",
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs(M, {
                      children: [
                        a.jsx(B, {
                          children: a.jsx(F, {
                            children: "Compliance e Regulamentao",
                          }),
                        }),
                        a.jsxs(R, {
                          className: "space-y-4",
                          children: [
                            a.jsxs(Le, {
                              children: [
                                a.jsx(Kt, { className: "h-4 w-4" }),
                                a.jsxs(ze, {
                                  children: [
                                    a.jsx("strong", {
                                      children: "Base Legal LGPD:",
                                    }),
                                    ' Art. 6, VII - "no conservao dos dados pessoais por tempo superior ao necessrio para o alcance das finalidades para as quais foram coletados"',
                                  ],
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "space-y-2",
                              children: [
                                a.jsx("h4", {
                                  className: "font-medium",
                                  children: "Critrios de Reteno",
                                }),
                                a.jsxs("ul", {
                                  className:
                                    "text-sm text-muted-foreground space-y-1",
                                  children: [
                                    a.jsx("li", {
                                      children:
                                        " Processos: Mantidos enquanto tramitam + 5 anos (prescrio)",
                                    }),
                                    a.jsx("li", {
                                      children:
                                        " Logs de Auditoria: 2 anos para investigaes",
                                    }),
                                    a.jsx("li", {
                                      children:
                                        " Dados de IA: 1 ano para melhorias do servio",
                                    }),
                                    a.jsx("li", {
                                      children:
                                        " Solicitaes LGPD: 3 anos para evidncia de compliance",
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              }),
            ],
          }),
        ],
      });
}
const r6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: gV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  yV = () => {
    const { profile: e } = ft(),
      t = xo(),
      { data: r, isLoading: n } = Mr({
        queryKey: ["org-settings", e?.organization_id],
        queryFn: async () => {
          const { data: c, error: l } = await te
            .from("org_settings")
            .select("*")
            .eq("org_id", e?.organization_id)
            .single();
          if (l && l.code !== "PGRST116") throw l;
          return c;
        },
        enabled: !!e?.organization_id,
      }),
      { data: i } = Mr({
        queryKey: ["usage-stats", e?.organization_id],
        queryFn: async () => {
          const { data: c, error: l } = await te
            .from("openai_logs")
            .select("*")
            .eq("org_id", e?.organization_id)
            .gte("created_at", new Date(Date.now() - 864e5).toISOString())
            .order("created_at", { ascending: !1 });
          if (l) throw l;
          const u = c?.reduce((d, h) => d + (h.cost_cents || 0), 0) || 0,
            f = c?.length
              ? c.reduce((d, h) => d + (h.duration_ms || 0), 0) / c.length
              : 0;
          return {
            requests24h: c?.length || 0,
            cost24h: u,
            avgLatency: Math.round(f),
            activeModel: r?.model || "gpt-4o-mini",
          };
        },
        enabled: !!e?.organization_id && !!r,
      }),
      s = rr({
        mutationFn: async (c) => {
          const { data: l, error: u } = await te.functions.invoke(
            "admin-openai-settings",
            { body: { action: "toggle", enabled: c } },
          );
          if (u) throw u;
          return l;
        },
        onSuccess: () => {
          (t.invalidateQueries({ queryKey: ["org-settings"] }),
            me({
              title: "Configurao atualizada",
              description: "Integrao OpenAI foi alterada com sucesso.",
            }));
        },
        onError: (c) => {
          me({
            title: "Erro",
            description: c.message || "Falha ao alterar configurao",
            variant: "destructive",
          });
        },
      });
    if (n)
      return a.jsx("div", {
        className: "min-h-screen flex items-center justify-center",
        children: a.jsx("div", {
          className:
            "animate-spin rounded-full h-32 w-32 border-b-2 border-primary",
        }),
      });
    const o = r?.openai_enabled || !1;
    return a.jsxs("div", {
      className: "space-y-6",
      children: [
        a.jsxs("div", {
          className: "flex items-center justify-between",
          children: [
            a.jsxs("div", {
              children: [
                a.jsx("h1", {
                  className: "text-3xl font-bold",
                  children: "Integrao OpenAI",
                }),
                a.jsx("p", {
                  className: "text-muted-foreground",
                  children: "Gere anlises inteligentes com IA",
                }),
              ],
            }),
            a.jsxs("div", {
              className: "flex items-center space-x-4",
              children: [
                a.jsx("span", {
                  className: "text-sm text-muted-foreground",
                  children: o ? "Ativo" : "Desativado",
                }),
                a.jsx(Ei, {
                  checked: o,
                  onCheckedChange: (c) => s.mutate(c),
                  disabled: s.isPending,
                }),
              ],
            }),
          ],
        }),
        a.jsxs("div", {
          className: "grid gap-4 md:grid-cols-2 lg:grid-cols-4",
          children: [
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  className:
                    "flex flex-row items-center justify-between space-y-0 pb-2",
                  children: [
                    a.jsx(F, {
                      className: "text-sm font-medium",
                      children: "Status da API",
                    }),
                    a.jsx(Da, { className: "h-4 w-4 text-muted-foreground" }),
                  ],
                }),
                a.jsxs(R, {
                  children: [
                    a.jsx("div", {
                      className: "flex items-center space-x-2",
                      children: a.jsx(H, {
                        variant: o ? "default" : "secondary",
                        children: o ? "Ativa" : "Desativada",
                      }),
                    }),
                    a.jsx("p", {
                      className: "text-xs text-muted-foreground mt-2",
                      children: o
                        ? "A API da OpenAI est ativa para esta organizao."
                        : "Integrao desativada",
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  className:
                    "flex flex-row items-center justify-between space-y-0 pb-2",
                  children: [
                    a.jsx(F, {
                      className: "text-sm font-medium",
                      children: "Modelo Ativo",
                    }),
                    a.jsx(hs, { className: "h-4 w-4 text-muted-foreground" }),
                  ],
                }),
                a.jsxs(R, {
                  children: [
                    a.jsx("div", {
                      className: "text-2xl font-bold",
                      children: i?.activeModel || "N/A",
                    }),
                    a.jsxs("p", {
                      className: "text-xs text-muted-foreground",
                      children: ["Latncia mdia: ", i?.avgLatency || 0, "ms"],
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  className:
                    "flex flex-row items-center justify-between space-y-0 pb-2",
                  children: [
                    a.jsx(F, {
                      className: "text-sm font-medium",
                      children: "Uso 24h",
                    }),
                    a.jsx(Da, { className: "h-4 w-4 text-muted-foreground" }),
                  ],
                }),
                a.jsxs(R, {
                  children: [
                    a.jsx("div", {
                      className: "text-2xl font-bold",
                      children: i?.requests24h || 0,
                    }),
                    a.jsx("p", {
                      className: "text-xs text-muted-foreground",
                      children: "requisies nas ltimas 24h",
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  className:
                    "flex flex-row items-center justify-between space-y-0 pb-2",
                  children: [
                    a.jsx(F, {
                      className: "text-sm font-medium",
                      children: "Custo 24h",
                    }),
                    a.jsx(vo, { className: "h-4 w-4 text-muted-foreground" }),
                  ],
                }),
                a.jsxs(R, {
                  children: [
                    a.jsxs("div", {
                      className: "text-2xl font-bold",
                      children: ["$", ((i?.cost24h || 0) / 100).toFixed(2)],
                    }),
                    a.jsx("p", {
                      className: "text-xs text-muted-foreground",
                      children: "estimado das ltimas 24h",
                    }),
                  ],
                }),
              ],
            }),
          ],
        }),
        a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: "Aes Rpidas" }),
                a.jsx(re, {
                  children: "Configure e monitore sua integrao OpenAI",
                }),
              ],
            }),
            a.jsx(R, {
              children: a.jsxs("div", {
                className: "grid gap-4 md:grid-cols-2 lg:grid-cols-4",
                children: [
                  a.jsx(L, {
                    variant: "outline",
                    className: "h-20 flex-col",
                    asChild: !0,
                    children: a.jsxs("a", {
                      href: "/admin/ia/chaves",
                      children: [
                        a.jsx(fs, { className: "h-6 w-6 mb-2" }),
                        "Gerenciar Chaves",
                      ],
                    }),
                  }),
                  a.jsx(L, {
                    variant: "outline",
                    className: "h-20 flex-col",
                    asChild: !0,
                    children: a.jsxs("a", {
                      href: "/admin/ia/modelos",
                      children: [
                        a.jsx(hs, { className: "h-6 w-6 mb-2" }),
                        "Configurar Modelos",
                      ],
                    }),
                  }),
                  a.jsx(L, {
                    variant: "outline",
                    className: "h-20 flex-col",
                    asChild: !0,
                    children: a.jsxs("a", {
                      href: "/admin/ia/prompt-studio",
                      children: [
                        a.jsx(fs, { className: "h-6 w-6 mb-2" }),
                        "Prompt Studio",
                      ],
                    }),
                  }),
                  a.jsx(L, {
                    variant: "outline",
                    className: "h-20 flex-col",
                    asChild: !0,
                    children: a.jsxs("a", {
                      href: "/admin/ia/testes",
                      children: [
                        a.jsx(Da, { className: "h-6 w-6 mb-2" }),
                        "Playground",
                      ],
                    }),
                  }),
                ],
              }),
            }),
          ],
        }),
        !o &&
          a.jsxs(M, {
            className: "border-orange-200 bg-orange-50",
            children: [
              a.jsxs(B, {
                children: [
                  a.jsx(F, {
                    className: "text-orange-800",
                    children: "Configurao Necessria",
                  }),
                  a.jsx(re, {
                    className: "text-orange-700",
                    children: "Para usar a integrao OpenAI, voc precisa:",
                  }),
                ],
              }),
              a.jsx(R, {
                className: "text-orange-700",
                children: a.jsxs("ol", {
                  className: "list-decimal list-inside space-y-2",
                  children: [
                    a.jsxs("li", {
                      children: [
                        "Adicionar uma chave API vlida em ",
                        a.jsx("strong", { children: "Gerenciar Chaves" }),
                      ],
                    }),
                    a.jsxs("li", {
                      children: [
                        "Configurar o modelo desejado em ",
                        a.jsx("strong", { children: "Configurar Modelos" }),
                      ],
                    }),
                    a.jsx("li", {
                      children: "Ativar a integrao usando o switch acima",
                    }),
                  ],
                }),
              }),
            ],
          }),
      ],
    });
  },
  n6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: yV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  bV = () => {
    const { profile: e } = ft(),
      t = xo(),
      [r, n] = P.useState(!1),
      [i, s] = P.useState(!1),
      [o, c] = P.useState({ alias: "", key: "", notes: "" }),
      [l, u] = P.useState(null),
      { data: f, isLoading: d } = Mr({
        queryKey: ["openai-keys", e?.organization_id],
        queryFn: async () => {
          const { data: g, error: b } = await te
            .from("openai_keys")
            .select("*")
            .eq("org_id", e?.organization_id)
            .order("created_at", { ascending: !1 });
          if (b) throw b;
          return g || [];
        },
        enabled: !!e?.organization_id,
      }),
      h = rr({
        mutationFn: async (g) => {
          try {
            const {
              data: { session: b },
              error: N,
            } = await te.auth.getSession();
            if (N) throw new Error("Falha na autenticao: " + N.message);
            let _ = b;
            if (!_ || !_.access_token) {
              const {
                data: { session: j },
              } = await te.auth.refreshSession();
              if (!j) throw new Error("Sesso expirada. Faa login novamente.");
              _ = j;
            }
            const y = await te.functions.invoke("admin-openai-keys", {
              body: {
                action: "create",
                alias: g.alias,
                key: g.key,
                notes: g.notes,
              },
              headers: { Authorization: `Bearer ${_.access_token}` },
            });
            if (y.error)
              throw new Error(`Erro na funo: ${y.error.message || y.error}`);
            if (!y.data) throw new Error("Nenhum dado retornado da funo");
            return y.data;
          } catch (b) {
            throw new Error(
              `Falha ao salvar chave: ${b instanceof Error ? b.message : String(b)}`,
            );
          }
        },
        onSuccess: () => {
          (t.invalidateQueries({ queryKey: ["openai-keys"] }),
            n(!1),
            c({ alias: "", key: "", notes: "" }),
            me({
              title: "Chave adicionada",
              description: "Chave API foi salva com sucesso.",
            }));
        },
        onError: (g) => {
          me({
            title: "Erro",
            description: "Falha ao salvar chave: " + g.message,
            variant: "destructive",
          });
        },
      }),
      m = rr({
        mutationFn: async (g) => {
          const { data: b, error: N } = await te.functions.invoke(
            "admin-openai-keys",
            { body: { action: "test", keyId: g } },
          );
          if (N) throw N;
          return b;
        },
        onSuccess: (g, b) => {
          (u(null),
            me({
              title: g.valid ? "Chave vlida" : "Chave invlida",
              description: g.valid
                ? "Conexo com OpenAI estabelecida com sucesso."
                : "Chave invlida (401). Verifique ou rotacione a credencial.",
              variant: g.valid ? "default" : "destructive",
            }));
        },
        onError: (g, b) => {
          (u(null),
            me({
              title: "Erro no teste",
              description: "Falha ao testar chave: " + g.message,
              variant: "destructive",
            }));
        },
      }),
      v = rr({
        mutationFn: async (g) => {
          const { error: b } = await te.functions.invoke("admin-openai-keys", {
            body: { action: "rotate", keyId: g },
          });
          if (b) throw b;
        },
        onSuccess: () => {
          (t.invalidateQueries({ queryKey: ["openai-keys"] }),
            me({
              title: "Chave rotacionada",
              description: "Nova chave foi gerada e salva.",
            }));
        },
        onError: (g) => {
          me({
            title: "Erro",
            description: "Falha ao rotacionar chave: " + g.message,
            variant: "destructive",
          });
        },
      }),
      p = rr({
        mutationFn: async (g) => {
          const { error: b } = await te.functions.invoke("admin-openai-keys", {
            body: { action: "delete", keyId: g },
          });
          if (b) throw b;
        },
        onSuccess: () => {
          (t.invalidateQueries({ queryKey: ["openai-keys"] }),
            me({
              title: "Chave removida",
              description: "Chave API foi removida com sucesso.",
            }));
        },
        onError: (g) => {
          me({
            title: "Erro",
            description: "Falha ao remover chave: " + g.message,
            variant: "destructive",
          });
        },
      }),
      x = (g) => {
        (u(g), m.mutate(g));
      };
    return d
      ? a.jsx("div", {
          className: "min-h-screen flex items-center justify-center",
          children: a.jsx("div", {
            className:
              "animate-spin rounded-full h-32 w-32 border-b-2 border-primary",
          }),
        })
      : a.jsxs("div", {
          className: "space-y-6",
          children: [
            a.jsxs("div", {
              className: "flex items-center justify-between",
              children: [
                a.jsxs("div", {
                  children: [
                    a.jsx("h1", {
                      className: "text-3xl font-bold",
                      children: "Gerenciar Chaves OpenAI",
                    }),
                    a.jsx("p", {
                      className: "text-muted-foreground",
                      children:
                        "Configure e monitore suas chaves da API OpenAI",
                    }),
                  ],
                }),
                a.jsxs(hn, {
                  open: r,
                  onOpenChange: n,
                  children: [
                    a.jsx(yu, {
                      asChild: !0,
                      children: a.jsxs(L, {
                        children: [
                          a.jsx(uu, { className: "h-4 w-4 mr-2" }),
                          "Adicionar Chave",
                        ],
                      }),
                    }),
                    a.jsxs(mn, {
                      children: [
                        a.jsxs(or, {
                          children: [
                            a.jsx(cr, { children: "Adicionar Nova Chave API" }),
                            a.jsx(Ci, {
                              children:
                                "As chaves so armazenadas apenas no servidor. Nunca exibimos o valor completo.",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "space-y-4",
                          children: [
                            a.jsxs("div", {
                              children: [
                                a.jsx(le, {
                                  htmlFor: "alias",
                                  children: "Nome/Apelido",
                                }),
                                a.jsx($e, {
                                  id: "alias",
                                  placeholder: "Ex: Chave Principal",
                                  value: o.alias,
                                  onChange: (g) =>
                                    c({ ...o, alias: g.target.value }),
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              children: [
                                a.jsx(le, {
                                  htmlFor: "key",
                                  children: "Chave API",
                                }),
                                a.jsxs("div", {
                                  className: "relative",
                                  children: [
                                    a.jsx($e, {
                                      id: "key",
                                      type: i ? "text" : "password",
                                      placeholder: "sk-...",
                                      value: o.key,
                                      onChange: (g) =>
                                        c({ ...o, key: g.target.value }),
                                    }),
                                    a.jsx(L, {
                                      type: "button",
                                      variant: "ghost",
                                      size: "sm",
                                      className:
                                        "absolute right-2 top-1/2 -translate-y-1/2",
                                      onClick: () => s(!i),
                                      children: i
                                        ? a.jsx(Sp, { className: "h-4 w-4" })
                                        : a.jsx(Pt, { className: "h-4 w-4" }),
                                    }),
                                  ],
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              children: [
                                a.jsx(le, {
                                  htmlFor: "notes",
                                  children: "Notas (opcional)",
                                }),
                                a.jsx(Mp, {
                                  id: "notes",
                                  placeholder:
                                    "Descrio ou notas sobre esta chave...",
                                  value: o.notes,
                                  onChange: (g) =>
                                    c({ ...o, notes: g.target.value }),
                                }),
                              ],
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "flex justify-end space-x-2",
                          children: [
                            a.jsx(L, {
                              variant: "outline",
                              onClick: () => n(!1),
                              children: "Cancelar",
                            }),
                            a.jsx(L, {
                              onClick: () => {
                                !o.alias || !o.key || h.mutate(o);
                              },
                              disabled: !o.alias || !o.key || h.isPending,
                              children: h.isPending
                                ? "Salvando..."
                                : "Salvar Chave",
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsx(M, {
              className: "border-blue-200 bg-blue-50",
              children: a.jsx(R, {
                className: "pt-6",
                children: a.jsxs("div", {
                  className: "flex items-start space-x-3",
                  children: [
                    a.jsx(Pd, { className: "h-5 w-5 text-blue-600 mt-0.5" }),
                    a.jsxs("div", {
                      className: "text-blue-800 text-sm",
                      children: [
                        a.jsx("p", {
                          className: "font-medium mb-1",
                          children: "Segurana das Chaves",
                        }),
                        a.jsx("p", {
                          children:
                            "As chaves so armazenadas criptografadas no servidor e nunca expostas no cliente. Apenas os ltimos 4 dgitos so exibidos para identificao.",
                        }),
                      ],
                    }),
                  ],
                }),
              }),
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsx(F, { children: "Chaves Cadastradas" }),
                    a.jsxs(re, {
                      children: [f?.length || 0, " chave(s) configurada(s)"],
                    }),
                  ],
                }),
                a.jsx(R, {
                  children: f?.length
                    ? a.jsxs(Ht, {
                        children: [
                          a.jsx(Xt, {
                            children: a.jsxs(Ne, {
                              children: [
                                a.jsx(Z, { children: "Nome" }),
                                a.jsx(Z, { children: "Chave" }),
                                a.jsx(Z, { children: "Status" }),
                                a.jsx(Z, { children: "ltimo Uso" }),
                                a.jsx(Z, { children: "Criado" }),
                                a.jsx(Z, {
                                  className: "text-right",
                                  children: "Aes",
                                }),
                              ],
                            }),
                          }),
                          a.jsx(Rt, {
                            children: f.map((g) =>
                              a.jsxs(
                                Ne,
                                {
                                  children: [
                                    a.jsx(X, {
                                      className: "font-medium",
                                      children: g.alias,
                                    }),
                                    a.jsxs(X, {
                                      className: "font-mono",
                                      children: ["***", g.last_four],
                                    }),
                                    a.jsx(X, {
                                      children: a.jsx(H, {
                                        variant: g.is_active
                                          ? "default"
                                          : "secondary",
                                        children: g.is_active
                                          ? "Ativa"
                                          : "Inativa",
                                      }),
                                    }),
                                    a.jsx(X, {
                                      children: g.last_used_at
                                        ? $n(
                                            new Date(g.last_used_at),
                                            "dd/MM/yyyy HH:mm",
                                            { locale: Ka },
                                          )
                                        : "Nunca",
                                    }),
                                    a.jsx(X, {
                                      children: $n(
                                        new Date(g.created_at),
                                        "dd/MM/yyyy",
                                        { locale: Ka },
                                      ),
                                    }),
                                    a.jsx(X, {
                                      className: "text-right",
                                      children: a.jsxs("div", {
                                        className: "flex justify-end space-x-2",
                                        children: [
                                          a.jsx(L, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => x(g.id),
                                            disabled: l === g.id,
                                            children:
                                              l === g.id
                                                ? a.jsx("div", {
                                                    className:
                                                      "animate-spin rounded-full h-4 w-4 border-b-2 border-current",
                                                  })
                                                : a.jsx(Qy, {
                                                    className: "h-4 w-4",
                                                  }),
                                          }),
                                          a.jsx(L, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => v.mutate(g.id),
                                            disabled: v.isPending,
                                            children: a.jsx(eb, {
                                              className: "h-4 w-4",
                                            }),
                                          }),
                                          a.jsxs(fu, {
                                            children: [
                                              a.jsx(Ip, {
                                                asChild: !0,
                                                children: a.jsx(L, {
                                                  variant: "outline",
                                                  size: "sm",
                                                  children: a.jsx(fn, {
                                                    className: "h-4 w-4",
                                                  }),
                                                }),
                                              }),
                                              a.jsxs(hu, {
                                                children: [
                                                  a.jsxs(mu, {
                                                    children: [
                                                      a.jsx(pu, {
                                                        children:
                                                          "Remover Chave",
                                                      }),
                                                      a.jsxs(vu, {
                                                        children: [
                                                          'Tem certeza que deseja remover a chave "',
                                                          g.alias,
                                                          '"? Esta ao no pode ser desfeita.',
                                                        ],
                                                      }),
                                                    ],
                                                  }),
                                                  a.jsxs(xu, {
                                                    children: [
                                                      a.jsx(gu, {
                                                        children: "Cancelar",
                                                      }),
                                                      a.jsx(ps, {
                                                        onClick: () =>
                                                          p.mutate(g.id),
                                                        className:
                                                          "bg-destructive text-destructive-foreground hover:bg-destructive/90",
                                                        children: "Remover",
                                                      }),
                                                    ],
                                                  }),
                                                ],
                                              }),
                                            ],
                                          }),
                                        ],
                                      }),
                                    }),
                                  ],
                                },
                                g.id,
                              ),
                            ),
                          }),
                        ],
                      })
                    : a.jsxs("div", {
                        className: "text-center py-8 text-muted-foreground",
                        children: [
                          a.jsx(Pd, {
                            className: "h-12 w-12 mx-auto mb-4 opacity-50",
                          }),
                          a.jsx("p", {
                            children: "Nenhuma chave API configurada",
                          }),
                          a.jsx("p", {
                            className: "text-sm",
                            children:
                              "Adicione uma chave para comear a usar a integrao OpenAI",
                          }),
                        ],
                      }),
                }),
              ],
            }),
          ],
        });
  },
  a6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: bV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  as = [
    {
      id: "gpt-5-2025-08-07",
      name: "GPT-5",
      description: "Modelo mais avanado e inteligente",
      costPer1k: 0.15,
      speed: "Rpido",
      category: "flagship",
    },
    {
      id: "gpt-5-mini-2025-08-07",
      name: "GPT-5 Mini",
      description: "Verso otimizada do GPT-5",
      costPer1k: 0.08,
      speed: "Muito Rpido",
      category: "flagship",
    },
    {
      id: "gpt-4.1-2025-04-14",
      name: "GPT-4.1",
      description: "Modelo confivel para resultados consistentes",
      costPer1k: 0.1,
      speed: "Rpido",
      category: "reliable",
    },
    {
      id: "o3-2025-04-16",
      name: "O3",
      description: "Modelo de raciocnio para problemas complexos",
      costPer1k: 0.25,
      speed: "Lento",
      category: "reasoning",
    },
    {
      id: "gpt-4o-mini",
      name: "GPT-4o Mini",
      description: "Modelo legado rpido e econmico",
      costPer1k: 0.02,
      speed: "Muito Rpido",
      category: "legacy",
    },
  ],
  jV = () => {
    const { profile: e } = ft(),
      t = xo(),
      [r, n] = P.useState({
        model: "gpt-4o-mini",
        fallback: [],
        temperature: 0.7,
        top_p: 0.9,
        max_output_tokens: 2e3,
        streaming: !1,
        rate_per_min: 60,
        budget_month_cents: 1e4,
      }),
      { data: i, isLoading: s } = Mr({
        queryKey: ["org-settings", e?.organization_id],
        queryFn: async () => {
          const { data: u, error: f } = await te
            .from("org_settings")
            .select("*")
            .eq("org_id", e?.organization_id)
            .single();
          if (f && f.code !== "PGRST116") throw f;
          return u;
        },
        enabled: !!e?.organization_id,
      });
    A.useEffect(() => {
      i &&
        n({
          model: i.model,
          fallback: i.fallback || [],
          temperature: i.temperature,
          top_p: i.top_p,
          max_output_tokens: i.max_output_tokens,
          streaming: i.streaming,
          rate_per_min: i.rate_per_min,
          budget_month_cents: i.budget_month_cents,
        });
    }, [i]);
    const o = rr({
        mutationFn: async (u) => {
          const { error: f } = await te.functions.invoke(
            "admin-openai-settings",
            {
              body: {
                action: "update_models",
                settings: u,
                org_id: e?.organization_id,
              },
            },
          );
          if (f) throw f;
        },
        onSuccess: () => {
          (t.invalidateQueries({ queryKey: ["org-settings"] }),
            me({
              title: "Configuraes salvas",
              description: "Modelos e parmetros foram atualizados.",
            }));
        },
        onError: (u) => {
          me({
            title: "Erro",
            description: "Falha ao salvar: " + u.message,
            variant: "destructive",
          });
        },
      }),
      c = () => {
        o.mutate(r);
      },
      l = as.find((u) => u.id === r.model);
    return s
      ? a.jsx("div", {
          className: "min-h-screen flex items-center justify-center",
          children: a.jsx("div", {
            className:
              "animate-spin rounded-full h-32 w-32 border-b-2 border-primary",
          }),
        })
      : a.jsxs("div", {
          className: "space-y-6",
          children: [
            a.jsxs("div", {
              className: "flex items-center justify-between",
              children: [
                a.jsxs("div", {
                  children: [
                    a.jsx("h1", {
                      className: "text-3xl font-bold",
                      children: "Configurar Modelos",
                    }),
                    a.jsx("p", {
                      className: "text-muted-foreground",
                      children:
                        "Selecione modelos, configure parmetros e defina limites",
                    }),
                  ],
                }),
                a.jsx(L, {
                  onClick: c,
                  disabled: o.isPending,
                  children: o.isPending
                    ? "Salvando..."
                    : "Salvar Configuraes",
                }),
              ],
            }),
            a.jsxs("div", {
              className: "grid gap-6 md:grid-cols-2",
              children: [
                a.jsxs(M, {
                  children: [
                    a.jsxs(B, {
                      children: [
                        a.jsxs(F, {
                          className: "flex items-center space-x-2",
                          children: [
                            a.jsx(ka, { className: "h-5 w-5" }),
                            a.jsx("span", { children: "Seleo de Modelo" }),
                          ],
                        }),
                        a.jsx(re, {
                          children: "Escolha o modelo principal e fallbacks",
                        }),
                      ],
                    }),
                    a.jsxs(R, {
                      className: "space-y-4",
                      children: [
                        a.jsxs("div", {
                          children: [
                            a.jsx(le, { children: "Modelo Principal" }),
                            a.jsxs(tt, {
                              value: r.model,
                              onValueChange: (u) => n({ ...r, model: u }),
                              children: [
                                a.jsx(rt, { children: a.jsx(nt, {}) }),
                                a.jsx(at, {
                                  children: as.map((u) =>
                                    a.jsx(
                                      ue,
                                      {
                                        value: u.id,
                                        children: a.jsxs("div", {
                                          className:
                                            "flex items-center justify-between w-full",
                                          children: [
                                            a.jsxs("div", {
                                              children: [
                                                a.jsx("div", {
                                                  className: "font-medium",
                                                  children: u.name,
                                                }),
                                                a.jsx("div", {
                                                  className:
                                                    "text-xs text-muted-foreground",
                                                  children: u.description,
                                                }),
                                              ],
                                            }),
                                            a.jsxs(H, {
                                              variant: "outline",
                                              className: "ml-2",
                                              children: [
                                                "$",
                                                u.costPer1k,
                                                "/1k",
                                              ],
                                            }),
                                          ],
                                        }),
                                      },
                                      u.id,
                                    ),
                                  ),
                                }),
                              ],
                            }),
                          ],
                        }),
                        l &&
                          a.jsxs("div", {
                            className: "p-3 bg-muted rounded-lg",
                            children: [
                              a.jsxs("div", {
                                className: "grid grid-cols-3 gap-2 text-sm",
                                children: [
                                  a.jsxs("div", {
                                    className: "flex items-center space-x-1",
                                    children: [
                                      a.jsx(vo, { className: "h-3 w-3" }),
                                      a.jsxs("span", {
                                        children: [
                                          "$",
                                          l.costPer1k,
                                          "/1k tokens",
                                        ],
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className: "flex items-center space-x-1",
                                    children: [
                                      a.jsx(fr, { className: "h-3 w-3" }),
                                      a.jsx("span", { children: l.speed }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className: "flex items-center space-x-1",
                                    children: [
                                      a.jsx(hs, { className: "h-3 w-3" }),
                                      a.jsx("span", {
                                        className: "capitalize",
                                        children: l.category,
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              a.jsx("p", {
                                className: "text-xs text-muted-foreground mt-2",
                                children: l.description,
                              }),
                            ],
                          }),
                        a.jsxs("div", {
                          children: [
                            a.jsx(le, {
                              children:
                                "Modelos de Fallback (ordem de prioridade)",
                            }),
                            a.jsxs("div", {
                              className: "space-y-2 mt-2",
                              children: [
                                r.fallback.map((u, f) =>
                                  a.jsxs(
                                    "div",
                                    {
                                      className:
                                        "flex items-center justify-between p-2 bg-muted rounded",
                                      children: [
                                        a.jsx("span", {
                                          children:
                                            as.find((d) => d.id === u)?.name ||
                                            u,
                                        }),
                                        a.jsx(L, {
                                          variant: "ghost",
                                          size: "sm",
                                          onClick: () => {
                                            const d = [...r.fallback];
                                            (d.splice(f, 1),
                                              n({ ...r, fallback: d }));
                                          },
                                          children: "Remover",
                                        }),
                                      ],
                                    },
                                    f,
                                  ),
                                ),
                                a.jsxs(tt, {
                                  onValueChange: (u) => {
                                    !r.fallback.includes(u) &&
                                      u !== r.model &&
                                      n({ ...r, fallback: [...r.fallback, u] });
                                  },
                                  children: [
                                    a.jsx(rt, {
                                      children: a.jsx(nt, {
                                        placeholder: "Adicionar fallback",
                                      }),
                                    }),
                                    a.jsx(at, {
                                      children: as
                                        .filter(
                                          (u) =>
                                            u.id !== r.model &&
                                            !r.fallback.includes(u.id),
                                        )
                                        .map((u) =>
                                          a.jsx(
                                            ue,
                                            { value: u.id, children: u.name },
                                            u.id,
                                          ),
                                        ),
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsxs(M, {
                  children: [
                    a.jsxs(B, {
                      children: [
                        a.jsxs(F, {
                          className: "flex items-center space-x-2",
                          children: [
                            a.jsx(fs, { className: "h-5 w-5" }),
                            a.jsx("span", { children: "Parmetros do Modelo" }),
                          ],
                        }),
                        a.jsx(re, {
                          children:
                            "Configure a personalidade e comportamento da IA",
                        }),
                      ],
                    }),
                    a.jsxs(R, {
                      className: "space-y-6",
                      children: [
                        a.jsxs("div", {
                          children: [
                            a.jsxs("div", {
                              className:
                                "flex justify-between items-center mb-2",
                              children: [
                                a.jsx(le, { children: "Temperature" }),
                                a.jsx("span", {
                                  className: "text-sm text-muted-foreground",
                                  children: r.temperature,
                                }),
                              ],
                            }),
                            a.jsx(Bt, {
                              value: [r.temperature],
                              onValueChange: ([u]) =>
                                n({ ...r, temperature: u }),
                              max: 2,
                              min: 0,
                              step: 0.1,
                              className: "w-full",
                            }),
                            a.jsx("p", {
                              className: "text-xs text-muted-foreground mt-1",
                              children:
                                "0 = mais determinstico, 2 = mais criativo",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          children: [
                            a.jsxs("div", {
                              className:
                                "flex justify-between items-center mb-2",
                              children: [
                                a.jsx(le, { children: "Top P" }),
                                a.jsx("span", {
                                  className: "text-sm text-muted-foreground",
                                  children: r.top_p,
                                }),
                              ],
                            }),
                            a.jsx(Bt, {
                              value: [r.top_p],
                              onValueChange: ([u]) => n({ ...r, top_p: u }),
                              max: 1,
                              min: 0,
                              step: 0.1,
                              className: "w-full",
                            }),
                            a.jsx("p", {
                              className: "text-xs text-muted-foreground mt-1",
                              children: "Controla a diversidade da resposta",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          children: [
                            a.jsx(le, {
                              htmlFor: "max_tokens",
                              children: "Mximo de Tokens na Resposta",
                            }),
                            a.jsx($e, {
                              id: "max_tokens",
                              type: "number",
                              value: r.max_output_tokens,
                              onChange: (u) =>
                                n({
                                  ...r,
                                  max_output_tokens:
                                    parseInt(u.target.value) || 2e3,
                                }),
                              min: 100,
                              max: 4e3,
                            }),
                            a.jsx("p", {
                              className: "text-xs text-muted-foreground mt-1",
                              children:
                                "Limita o tamanho da resposta (100-4000)",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "flex items-center justify-between",
                          children: [
                            a.jsxs("div", {
                              children: [
                                a.jsx(le, { children: "Streaming" }),
                                a.jsx("p", {
                                  className: "text-xs text-muted-foreground",
                                  children: "Resposta em tempo real",
                                }),
                              ],
                            }),
                            a.jsx(Ei, {
                              checked: r.streaming,
                              onCheckedChange: (u) => n({ ...r, streaming: u }),
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsx(F, { children: "Limites e Oramento" }),
                    a.jsx(re, {
                      children: "Configure rate limiting e controles de custo",
                    }),
                  ],
                }),
                a.jsx(R, {
                  children: a.jsxs("div", {
                    className: "grid gap-4 md:grid-cols-2",
                    children: [
                      a.jsxs("div", {
                        children: [
                          a.jsx(le, {
                            htmlFor: "rate_limit",
                            children: "Rate Limit (requisies/minuto)",
                          }),
                          a.jsx($e, {
                            id: "rate_limit",
                            type: "number",
                            value: r.rate_per_min,
                            onChange: (u) =>
                              n({
                                ...r,
                                rate_per_min: parseInt(u.target.value) || 60,
                              }),
                            min: 1,
                            max: 1e3,
                          }),
                          a.jsx("p", {
                            className: "text-xs text-muted-foreground mt-1",
                            children:
                              "Limite de requisies por minuto por usurio",
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        children: [
                          a.jsx(le, {
                            htmlFor: "budget",
                            children: "Oramento Mensal (centavos USD)",
                          }),
                          a.jsx($e, {
                            id: "budget",
                            type: "number",
                            value: r.budget_month_cents,
                            onChange: (u) =>
                              n({
                                ...r,
                                budget_month_cents:
                                  parseInt(u.target.value) || 1e4,
                              }),
                            min: 100,
                          }),
                          a.jsxs("p", {
                            className: "text-xs text-muted-foreground mt-1",
                            children: [
                              "Limite de gasto mensal em centavos ($",
                              (r.budget_month_cents / 100).toFixed(2),
                              ")",
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                }),
              ],
            }),
            a.jsxs(M, {
              className: "border-blue-200 bg-blue-50",
              children: [
                a.jsx(B, {
                  children: a.jsx(F, {
                    className: "text-blue-800",
                    children: "Guia de Modelos",
                  }),
                }),
                a.jsxs(R, {
                  className: "text-blue-700 space-y-2",
                  children: [
                    a.jsxs("div", {
                      children: [
                        a.jsx("strong", { children: "GPT-5:" }),
                        " Use para casos que exigem mxima inteligncia e raciocnio complexo",
                      ],
                    }),
                    a.jsxs("div", {
                      children: [
                        a.jsx("strong", { children: "GPT-5 Mini:" }),
                        " Ideal para a maioria dos casos, balanceando qualidade e velocidade",
                      ],
                    }),
                    a.jsxs("div", {
                      children: [
                        a.jsx("strong", { children: "GPT-4.1:" }),
                        " Confivel para resultados consistentes e bem testados",
                      ],
                    }),
                    a.jsxs("div", {
                      children: [
                        a.jsx("strong", { children: "O3:" }),
                        " Especificamente para problemas que requerem raciocnio profundo",
                      ],
                    }),
                    a.jsxs("div", {
                      children: [
                        a.jsx("strong", { children: "GPT-4o Mini:" }),
                        " Para casos simples onde velocidade e custo so prioridade",
                      ],
                    }),
                  ],
                }),
              ],
            }),
          ],
        });
  },
  i6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: jV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  Ic = [
    {
      id: "processo",
      name: "Processo (CNJ)",
      description: "Consultas por nmero de processo",
    },
    {
      id: "testemunha",
      name: "Testemunha (Nome)",
      description: "Consultas por nome de testemunha",
    },
    {
      id: "general",
      name: "Padres Gerais",
      description: "Consultas gerais na base",
    },
  ],
  Ey = [
    "Basear exclusivamente nos dados da planilha fornecida",
    "No inventar ou inferir dados no presentes na base",
    "Sempre mascarar nmeros de CPF no formato XXX.XXX.XXX-XX",
    'Responder "no consta na base fornecida" quando dados no esto disponveis',
    "Incluir rodap obrigatrio sobre validao nos autos",
  ],
  Dc = `Voc  um assistente especializado em anlise de dados jurdicos. Sua funo  consultar e analisar informaes de uma planilha de processos e pessoas fornecida pelo usurio.

REGRAS FUNDAMENTAIS (NO EDITVEIS):
${Ey.map((e) => `- ${e}`).join(`
`)}

VARIVEIS DISPONVEIS:
- {cnj} - Nmero do processo
- {nome} - Nome da pessoa
- {comarca} - Comarca do processo
- {ano} - Ano de referncia
- {janelaTriangulacao} - Perodo para anlise de triangulao
- {politicaLGPD} - Diretrizes de proteo de dados

Sempre responda no formato JSON estruturado solicitado e inclua o rodap obrigatrio: "Informaes baseadas na planilha carregada. Recomenda-se validao nos autos antes de qualquer medida processual."`,
  wV = () => {
    const { profile: e } = ft(),
      t = xo(),
      [r, n] = P.useState(!1),
      [i, s] = P.useState(null),
      [o, c] = P.useState({ v1: 80, v2: 20 }),
      [l, u] = P.useState({ label: "", content: Dc, template_type: "general" }),
      { data: f, isLoading: d } = Mr({
        queryKey: ["prompts", e?.organization_id],
        queryFn: async () => {
          const { data: b, error: N } = await te
            .from("prompts")
            .select("*")
            .eq("org_id", e?.organization_id)
            .order("created_at", { ascending: !1 });
          if (N) throw N;
          return b || [];
        },
        enabled: !!e?.organization_id,
      }),
      { data: h } = Mr({
        queryKey: ["org-settings", e?.organization_id],
        queryFn: async () => {
          const { data: b, error: N } = await te
            .from("org_settings")
            .select("prompt_active_id, ab_weights")
            .eq("org_id", e?.organization_id)
            .single();
          if (N && N.code !== "PGRST116") throw N;
          return b;
        },
        enabled: !!e?.organization_id,
      }),
      m = rr({
        mutationFn: async (b) => {
          const { error: N } = await te.functions.invoke("admin-prompts", {
            body: { action: "create", ...b, org_id: e?.organization_id },
          });
          if (N) throw N;
        },
        onSuccess: () => {
          (t.invalidateQueries({ queryKey: ["prompts"] }),
            n(!1),
            u({ label: "", content: Dc, template_type: "general" }),
            me({
              title: "Prompt criado",
              description: "Nova verso de prompt foi salva.",
            }));
        },
        onError: (b) => {
          me({
            title: "Erro",
            description: "Falha ao criar prompt: " + b.message,
            variant: "destructive",
          });
        },
      }),
      v = rr({
        mutationFn: async (b) => {
          const { error: N } = await te.functions.invoke("admin-prompts", {
            body: {
              action: "activate",
              promptId: b,
              org_id: e?.organization_id,
            },
          });
          if (N) throw N;
        },
        onSuccess: () => {
          (t.invalidateQueries({ queryKey: ["org-settings"] }),
            t.invalidateQueries({ queryKey: ["prompts"] }),
            me({
              title: "Prompt ativado",
              description: "Prompt est agora ativo para consultas.",
            }));
        },
        onError: (b) => {
          me({
            title: "Erro",
            description: "Falha ao ativar prompt: " + b.message,
            variant: "destructive",
          });
        },
      }),
      p = rr({
        mutationFn: async (b) => {
          const { error: N } = await te.functions.invoke("admin-prompts", {
            body: {
              action: "update_ab_weights",
              weights: b,
              org_id: e?.organization_id,
            },
          });
          if (N) throw N;
        },
        onSuccess: () => {
          (t.invalidateQueries({ queryKey: ["org-settings"] }),
            me({
              title: "A/B Test atualizado",
              description: "Pesos de distribuio foram salvos.",
            }));
        },
        onError: (b) => {
          me({
            title: "Erro",
            description: "Falha ao atualizar A/B: " + b.message,
            variant: "destructive",
          });
        },
      }),
      x = f?.find((b) => b.id === h?.prompt_active_id),
      g =
        f?.reduce(
          (b, N) => (
            b[N.template_type] || (b[N.template_type] = []),
            b[N.template_type].push(N),
            b
          ),
          {},
        ) || {};
    return d
      ? a.jsx("div", {
          className: "min-h-screen flex items-center justify-center",
          children: a.jsx("div", {
            className:
              "animate-spin rounded-full h-32 w-32 border-b-2 border-primary",
          }),
        })
      : a.jsxs("div", {
          className: "space-y-6",
          children: [
            a.jsxs("div", {
              className: "flex items-center justify-between",
              children: [
                a.jsxs("div", {
                  children: [
                    a.jsx("h1", {
                      className: "text-3xl font-bold",
                      children: "Prompt Studio",
                    }),
                    a.jsx("p", {
                      className: "text-muted-foreground",
                      children:
                        "Gerencie prompts do sistema, templates e testes A/B",
                    }),
                  ],
                }),
                a.jsxs(hn, {
                  open: r,
                  onOpenChange: n,
                  children: [
                    a.jsx(yu, {
                      asChild: !0,
                      children: a.jsxs(L, {
                        children: [
                          a.jsx(uu, { className: "h-4 w-4 mr-2" }),
                          "Novo Prompt",
                        ],
                      }),
                    }),
                    a.jsxs(mn, {
                      className: "max-w-4xl max-h-[80vh] overflow-y-auto",
                      children: [
                        a.jsxs(or, {
                          children: [
                            a.jsx(cr, {
                              children: "Criar Nova Verso de Prompt",
                            }),
                            a.jsx(Ci, {
                              children:
                                "Configure um novo template de prompt para sua organizao",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "space-y-4",
                          children: [
                            a.jsxs("div", {
                              className: "grid grid-cols-2 gap-4",
                              children: [
                                a.jsxs("div", {
                                  children: [
                                    a.jsx(le, {
                                      htmlFor: "label",
                                      children: "Nome do Prompt",
                                    }),
                                    a.jsx($e, {
                                      id: "label",
                                      placeholder: "Ex: Anlise CNJ v2.1",
                                      value: l.label,
                                      onChange: (b) =>
                                        u({ ...l, label: b.target.value }),
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx(le, {
                                      htmlFor: "type",
                                      children: "Tipo de Template",
                                    }),
                                    a.jsxs(tt, {
                                      value: l.template_type,
                                      onValueChange: (b) =>
                                        u({ ...l, template_type: b }),
                                      children: [
                                        a.jsx(rt, { children: a.jsx(nt, {}) }),
                                        a.jsx(at, {
                                          children: Ic.map((b) =>
                                            a.jsx(
                                              ue,
                                              {
                                                value: b.id,
                                                children: a.jsxs("div", {
                                                  children: [
                                                    a.jsx("div", {
                                                      className: "font-medium",
                                                      children: b.name,
                                                    }),
                                                    a.jsx("div", {
                                                      className:
                                                        "text-xs text-muted-foreground",
                                                      children: b.description,
                                                    }),
                                                  ],
                                                }),
                                              },
                                              b.id,
                                            ),
                                          ),
                                        }),
                                      ],
                                    }),
                                  ],
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              children: [
                                a.jsx(le, {
                                  htmlFor: "content",
                                  children: "Contedo do Prompt",
                                }),
                                a.jsx(Mp, {
                                  id: "content",
                                  className: "min-h-[300px] font-mono text-sm",
                                  value: l.content,
                                  onChange: (b) =>
                                    u({ ...l, content: b.target.value }),
                                }),
                                a.jsxs("p", {
                                  className:
                                    "text-xs text-muted-foreground mt-1",
                                  children: [
                                    "Use variveis como ",
                                    "{cnj}",
                                    ", ",
                                    "{nome}",
                                    ", ",
                                    "{comarca}",
                                    ", etc.",
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "flex justify-end space-x-2",
                          children: [
                            a.jsx(L, {
                              variant: "outline",
                              onClick: () => n(!1),
                              children: "Cancelar",
                            }),
                            a.jsx(L, {
                              onClick: () => m.mutate(l),
                              disabled: !l.label || !l.content || m.isPending,
                              children: m.isPending
                                ? "Criando..."
                                : "Criar Prompt",
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs(gr, {
              defaultValue: "templates",
              className: "space-y-4",
              children: [
                a.jsxs(yr, {
                  children: [
                    a.jsx(we, { value: "templates", children: "Templates" }),
                    a.jsx(we, { value: "system", children: "Sistema Global" }),
                    a.jsx(we, { value: "ab-testing", children: "A/B Testing" }),
                    a.jsx(we, { value: "variables", children: "Variveis" }),
                  ],
                }),
                a.jsxs(Pe, {
                  value: "templates",
                  className: "space-y-4",
                  children: [
                    x &&
                      a.jsxs(M, {
                        className: "border-green-200 bg-green-50",
                        children: [
                          a.jsx(B, {
                            children: a.jsxs("div", {
                              className: "flex items-center justify-between",
                              children: [
                                a.jsxs("div", {
                                  className: "flex items-center space-x-2",
                                  children: [
                                    a.jsx(H, {
                                      variant: "default",
                                      children: "Ativo",
                                    }),
                                    a.jsx(F, {
                                      className: "text-green-800",
                                      children: x.label,
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  className: "text-sm text-green-700",
                                  children: [
                                    "v",
                                    x.version,
                                    "  ",
                                    Ic.find((b) => b.id === x.template_type)
                                      ?.name,
                                  ],
                                }),
                              ],
                            }),
                          }),
                          a.jsx(R, {
                            children: a.jsxs("div", {
                              className:
                                "bg-white p-3 rounded border text-sm font-mono whitespace-pre-wrap text-green-800",
                              children: [x.content.substring(0, 200), "..."],
                            }),
                          }),
                        ],
                      }),
                    Ic.map((b) =>
                      a.jsxs(
                        M,
                        {
                          children: [
                            a.jsxs(B, {
                              children: [
                                a.jsxs(F, {
                                  className: "flex items-center space-x-2",
                                  children: [
                                    a.jsx(Kt, { className: "h-5 w-5" }),
                                    a.jsx("span", { children: b.name }),
                                  ],
                                }),
                                a.jsx(re, { children: b.description }),
                              ],
                            }),
                            a.jsx(R, {
                              children: g[b.id]?.length
                                ? a.jsxs(Ht, {
                                    children: [
                                      a.jsx(Xt, {
                                        children: a.jsxs(Ne, {
                                          children: [
                                            a.jsx(Z, { children: "Nome" }),
                                            a.jsx(Z, { children: "Verso" }),
                                            a.jsx(Z, { children: "Status" }),
                                            a.jsx(Z, { children: "Criado" }),
                                            a.jsx(Z, {
                                              className: "text-right",
                                              children: "Aes",
                                            }),
                                          ],
                                        }),
                                      }),
                                      a.jsx(Rt, {
                                        children: g[b.id].map((N) =>
                                          a.jsxs(
                                            Ne,
                                            {
                                              children: [
                                                a.jsx(X, {
                                                  className: "font-medium",
                                                  children: N.label,
                                                }),
                                                a.jsxs(X, {
                                                  children: ["v", N.version],
                                                }),
                                                a.jsx(X, {
                                                  children: a.jsx(H, {
                                                    variant: N.is_active
                                                      ? "default"
                                                      : "secondary",
                                                    children: N.is_active
                                                      ? "Ativo"
                                                      : "Inativo",
                                                  }),
                                                }),
                                                a.jsx(X, {
                                                  children: $n(
                                                    new Date(N.created_at),
                                                    "dd/MM/yyyy",
                                                    { locale: Ka },
                                                  ),
                                                }),
                                                a.jsx(X, {
                                                  className: "text-right",
                                                  children: a.jsxs("div", {
                                                    className:
                                                      "flex justify-end space-x-2",
                                                    children: [
                                                      a.jsx(L, {
                                                        variant: "outline",
                                                        size: "sm",
                                                        onClick: () => s(N),
                                                        children: a.jsx($p, {
                                                          className: "h-4 w-4",
                                                        }),
                                                      }),
                                                      !N.is_active &&
                                                        a.jsx(L, {
                                                          variant: "outline",
                                                          size: "sm",
                                                          onClick: () =>
                                                            v.mutate(N.id),
                                                          disabled: v.isPending,
                                                          children: "Ativar",
                                                        }),
                                                    ],
                                                  }),
                                                }),
                                              ],
                                            },
                                            N.id,
                                          ),
                                        ),
                                      }),
                                    ],
                                  })
                                : a.jsxs("div", {
                                    className:
                                      "text-center py-4 text-muted-foreground",
                                    children: [
                                      a.jsx(Kt, {
                                        className:
                                          "h-8 w-8 mx-auto mb-2 opacity-50",
                                      }),
                                      a.jsx("p", {
                                        children:
                                          "Nenhum prompt para este tipo",
                                      }),
                                    ],
                                  }),
                            }),
                          ],
                        },
                        b.id,
                      ),
                    ),
                  ],
                }),
                a.jsxs(Pe, {
                  value: "system",
                  className: "space-y-4",
                  children: [
                    a.jsxs(M, {
                      className: "border-red-200 bg-red-50",
                      children: [
                        a.jsxs(B, {
                          children: [
                            a.jsxs(F, {
                              className:
                                "flex items-center space-x-2 text-red-800",
                              children: [
                                a.jsx(tb, { className: "h-5 w-5" }),
                                a.jsx("span", {
                                  children: "Guards do Sistema (No Editveis)",
                                }),
                              ],
                            }),
                            a.jsx(re, {
                              className: "text-red-700",
                              children:
                                "Regras de segurana aplicadas automaticamente a todos os prompts",
                            }),
                          ],
                        }),
                        a.jsx(R, {
                          children: a.jsx("div", {
                            className: "space-y-2",
                            children: Ey.map((b, N) =>
                              a.jsxs(
                                "div",
                                {
                                  className:
                                    "flex items-start space-x-2 text-red-800",
                                  children: [
                                    a.jsx(It, {
                                      className: "h-4 w-4 mt-0.5 flex-shrink-0",
                                    }),
                                    a.jsx("span", {
                                      className: "text-sm",
                                      children: b,
                                    }),
                                  ],
                                },
                                N,
                              ),
                            ),
                          }),
                        }),
                      ],
                    }),
                    a.jsxs(M, {
                      children: [
                        a.jsxs(B, {
                          children: [
                            a.jsx(F, { children: "Prompt do Sistema Global" }),
                            a.jsx(re, {
                              children:
                                "Base aplicada a todos os prompts da organizao",
                            }),
                          ],
                        }),
                        a.jsx(R, {
                          children: a.jsx("div", {
                            className:
                              "bg-muted p-4 rounded-lg font-mono text-sm whitespace-pre-wrap",
                            children: Dc,
                          }),
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsxs(Pe, {
                  value: "ab-testing",
                  className: "space-y-4",
                  children: [
                    a.jsxs(M, {
                      children: [
                        a.jsxs(B, {
                          children: [
                            a.jsxs(F, {
                              className: "flex items-center space-x-2",
                              children: [
                                a.jsx(rb, { className: "h-5 w-5" }),
                                a.jsx("span", {
                                  children: "Teste A/B de Prompts",
                                }),
                              ],
                            }),
                            a.jsx(re, {
                              children:
                                "Configure distribuio de trfego entre diferentes verses",
                            }),
                          ],
                        }),
                        a.jsxs(R, {
                          className: "space-y-6",
                          children: [
                            a.jsxs("div", {
                              children: [
                                a.jsxs("div", {
                                  className:
                                    "flex justify-between items-center mb-2",
                                  children: [
                                    a.jsx(le, {
                                      children: "Verso 1 (Principal)",
                                    }),
                                    a.jsxs("span", {
                                      className:
                                        "text-sm text-muted-foreground",
                                      children: [o.v1, "%"],
                                    }),
                                  ],
                                }),
                                a.jsx(Bt, {
                                  value: [o.v1],
                                  onValueChange: ([b]) =>
                                    c({ v1: b, v2: 100 - b }),
                                  max: 100,
                                  min: 0,
                                  step: 5,
                                  className: "w-full",
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              children: [
                                a.jsxs("div", {
                                  className:
                                    "flex justify-between items-center mb-2",
                                  children: [
                                    a.jsx(le, { children: "Verso 2 (Teste)" }),
                                    a.jsxs("span", {
                                      className:
                                        "text-sm text-muted-foreground",
                                      children: [o.v2, "%"],
                                    }),
                                  ],
                                }),
                                a.jsx(Bt, {
                                  value: [o.v2],
                                  onValueChange: ([b]) =>
                                    c({ v1: 100 - b, v2: b }),
                                  max: 100,
                                  min: 0,
                                  step: 5,
                                  className: "w-full",
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className:
                                "flex justify-between items-center pt-4 border-t",
                              children: [
                                a.jsxs("div", {
                                  className: "text-sm text-muted-foreground",
                                  children: ["Total: ", o.v1 + o.v2, "%"],
                                }),
                                a.jsx(L, {
                                  onClick: () => p.mutate(o),
                                  disabled: p.isPending,
                                  children: p.isPending
                                    ? "Salvando..."
                                    : "Salvar Configurao",
                                }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs(M, {
                      children: [
                        a.jsxs(B, {
                          children: [
                            a.jsx(F, { children: "Mtricas de Performance" }),
                            a.jsx(re, {
                              children:
                                "Comparao entre verses (ltimos 7 dias)",
                            }),
                          ],
                        }),
                        a.jsx(R, {
                          children: a.jsxs("div", {
                            className: "text-center py-8 text-muted-foreground",
                            children: [
                              a.jsx(nb, {
                                className: "h-12 w-12 mx-auto mb-4 opacity-50",
                              }),
                              a.jsx("p", {
                                children: "Dados insuficientes para anlise",
                              }),
                              a.jsx("p", {
                                className: "text-sm",
                                children:
                                  "Execute mais testes para ver mtricas comparativas",
                              }),
                            ],
                          }),
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsx(Pe, {
                  value: "variables",
                  className: "space-y-4",
                  children: a.jsxs(M, {
                    children: [
                      a.jsxs(B, {
                        children: [
                          a.jsx(F, { children: "Variveis Disponveis" }),
                          a.jsx(re, {
                            children:
                              "Use estas variveis em seus prompts para dados dinmicos",
                          }),
                        ],
                      }),
                      a.jsx(R, {
                        children: a.jsxs("div", {
                          className: "grid gap-4 md:grid-cols-2",
                          children: [
                            a.jsxs("div", {
                              className: "space-y-3",
                              children: [
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("code", {
                                      className:
                                        "bg-muted px-2 py-1 rounded font-mono text-sm",
                                      children: "{cnj}",
                                    }),
                                    a.jsx("p", {
                                      className:
                                        "text-sm text-muted-foreground mt-1",
                                      children:
                                        "Nmero do processo CNJ formatado",
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("code", {
                                      className:
                                        "bg-muted px-2 py-1 rounded font-mono text-sm",
                                      children: "{nome}",
                                    }),
                                    a.jsx("p", {
                                      className:
                                        "text-sm text-muted-foreground mt-1",
                                      children: "Nome da pessoa para consulta",
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("code", {
                                      className:
                                        "bg-muted px-2 py-1 rounded font-mono text-sm",
                                      children: "{comarca}",
                                    }),
                                    a.jsx("p", {
                                      className:
                                        "text-sm text-muted-foreground mt-1",
                                      children: "Comarca do processo",
                                    }),
                                  ],
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "space-y-3",
                              children: [
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("code", {
                                      className:
                                        "bg-muted px-2 py-1 rounded font-mono text-sm",
                                      children: "{ano}",
                                    }),
                                    a.jsx("p", {
                                      className:
                                        "text-sm text-muted-foreground mt-1",
                                      children:
                                        "Ano de referncia para filtros",
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("code", {
                                      className:
                                        "bg-muted px-2 py-1 rounded font-mono text-sm",
                                      children: "{janelaTriangulacao}",
                                    }),
                                    a.jsx("p", {
                                      className:
                                        "text-sm text-muted-foreground mt-1",
                                      children:
                                        "Perodo para anlise de triangulao",
                                    }),
                                  ],
                                }),
                                a.jsxs("div", {
                                  children: [
                                    a.jsx("code", {
                                      className:
                                        "bg-muted px-2 py-1 rounded font-mono text-sm",
                                      children: "{politicaLGPD}",
                                    }),
                                    a.jsx("p", {
                                      className:
                                        "text-sm text-muted-foreground mt-1",
                                      children:
                                        "Diretrizes de proteo de dados",
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                      }),
                    ],
                  }),
                }),
              ],
            }),
          ],
        });
  },
  s6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: wV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  NV = () => {
    const { profile: e } = ft(),
      [t, r] = P.useState({ cnj: "", nome: "", comarca: "", ano: "" }),
      [n, i] = P.useState(null),
      [s, o] = P.useState(!1),
      [c, l] = P.useState(null),
      u = async (f = !1) => {
        o(!0);
        try {
          const { data: d, error: h } = await te.functions.invoke(
            "admin-openai-test",
            { body: { input: t, streaming: f, org_id: e?.organization_id } },
          );
          if (h) throw h;
          (i(d.response),
            l(d.metrics),
            me({
              title: "Teste executado",
              description: `Resposta gerada em ${d.metrics?.duration_ms}ms`,
            }));
        } catch (d) {
          me({
            title: "Erro no teste",
            description: d.message,
            variant: "destructive",
          });
        } finally {
          o(!1);
        }
      };
    return a.jsxs("div", {
      className: "space-y-6",
      children: [
        a.jsxs("div", {
          children: [
            a.jsx("h1", {
              className: "text-3xl font-bold",
              children: "Playground de Testes",
            }),
            a.jsx("p", {
              className: "text-muted-foreground",
              children: "Teste a IA com dados reais da sua base",
            }),
          ],
        }),
        a.jsxs("div", {
          className: "grid gap-6 md:grid-cols-2",
          children: [
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsx(F, { children: "Entrada de Teste" }),
                    a.jsx(re, { children: "Configure os dados para teste" }),
                  ],
                }),
                a.jsxs(R, {
                  className: "space-y-4",
                  children: [
                    a.jsxs("div", {
                      children: [
                        a.jsx(le, { children: "CNJ do Processo" }),
                        a.jsx($e, {
                          placeholder: "0000000-00.0000.0.00.0000",
                          value: t.cnj,
                          onChange: (f) => r({ ...t, cnj: f.target.value }),
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      children: [
                        a.jsx(le, { children: "Nome da Pessoa" }),
                        a.jsx($e, {
                          placeholder: "Joo da Silva",
                          value: t.nome,
                          onChange: (f) => r({ ...t, nome: f.target.value }),
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "grid grid-cols-2 gap-2",
                      children: [
                        a.jsxs("div", {
                          children: [
                            a.jsx(le, { children: "Comarca" }),
                            a.jsx($e, {
                              placeholder: "So Paulo",
                              value: t.comarca,
                              onChange: (f) =>
                                r({ ...t, comarca: f.target.value }),
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          children: [
                            a.jsx(le, { children: "Ano" }),
                            a.jsx($e, {
                              placeholder: "2024",
                              value: t.ano,
                              onChange: (f) => r({ ...t, ano: f.target.value }),
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "flex space-x-2",
                      children: [
                        a.jsxs(L, {
                          onClick: () => u(!1),
                          disabled: s,
                          className: "flex-1",
                          children: [
                            a.jsx(qa, { className: "h-4 w-4 mr-2" }),
                            "Executar",
                          ],
                        }),
                        a.jsxs(L, {
                          onClick: () => u(!0),
                          disabled: s,
                          variant: "outline",
                          className: "flex-1",
                          children: [
                            a.jsx(hs, { className: "h-4 w-4 mr-2" }),
                            "Streaming",
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsxs(B, {
                  children: [
                    a.jsx(F, { children: "Resultado" }),
                    a.jsx(re, { children: "Resposta da IA" }),
                  ],
                }),
                a.jsx(R, {
                  children: s
                    ? a.jsx("div", {
                        className: "flex items-center justify-center py-8",
                        children: a.jsx("div", {
                          className:
                            "animate-spin rounded-full h-8 w-8 border-b-2 border-primary",
                        }),
                      })
                    : n
                      ? a.jsxs("div", {
                          className: "space-y-4",
                          children: [
                            a.jsx("div", {
                              className: "bg-muted p-4 rounded-lg",
                              children: a.jsx("pre", {
                                className: "whitespace-pre-wrap text-sm",
                                children: JSON.stringify(n, null, 2),
                              }),
                            }),
                            c &&
                              a.jsxs("div", {
                                className: "grid grid-cols-3 gap-2 text-sm",
                                children: [
                                  a.jsxs("div", {
                                    className: "flex items-center space-x-1",
                                    children: [
                                      a.jsx(fr, { className: "h-3 w-3" }),
                                      a.jsxs("span", {
                                        children: [c.duration_ms, "ms"],
                                      }),
                                    ],
                                  }),
                                  a.jsxs("div", {
                                    className: "flex items-center space-x-1",
                                    children: [
                                      a.jsx(vo, { className: "h-3 w-3" }),
                                      a.jsxs("span", {
                                        children: [
                                          c.tokens_in + c.tokens_out,
                                          " tokens",
                                        ],
                                      }),
                                    ],
                                  }),
                                  a.jsx("div", {
                                    children: a.jsx(H, {
                                      variant: "outline",
                                      children: c.model,
                                    }),
                                  }),
                                ],
                              }),
                          ],
                        })
                      : a.jsxs("div", {
                          className: "text-center py-8 text-muted-foreground",
                          children: [
                            a.jsx(qa, {
                              className: "h-12 w-12 mx-auto mb-4 opacity-50",
                            }),
                            a.jsx("p", {
                              children: "Execute um teste para ver o resultado",
                            }),
                          ],
                        }),
                }),
              ],
            }),
          ],
        }),
      ],
    });
  },
  o6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: NV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  );
function _V() {
  return a.jsx("div", {
    className: "min-h-screen bg-background p-6",
    children: a.jsxs("div", {
      className: "max-w-4xl mx-auto space-y-6",
      children: [
        a.jsxs("div", {
          className: "text-center space-y-4",
          children: [
            a.jsx("h1", {
              className: "text-3xl font-bold",
              children: "Validao do Corretor Inteligente",
            }),
            a.jsx("p", {
              className: "text-muted-foreground max-w-2xl mx-auto",
              children:
                "Sistema completo de correo automtica implementado com sucesso. Teste o template atualizado para validar todas as funcionalidades.",
            }),
          ],
        }),
        a.jsxs("div", {
          className: "grid grid-cols-1 md:grid-cols-3 gap-6",
          children: [
            a.jsxs(M, {
              className: "border-success/20 bg-success/5",
              children: [
                a.jsx(B, {
                  className: "pb-3",
                  children: a.jsxs(F, {
                    className: "flex items-center gap-2 text-success",
                    children: [
                      a.jsx(ds, { className: "h-5 w-5" }),
                      "Template Corrigido",
                    ],
                  }),
                }),
                a.jsx(R, {
                  children: a.jsx("p", {
                    className: "text-sm text-muted-foreground",
                    children:
                      "Campos legados adicionados (reclamante_nome, reu_nome) para compatibilidade total",
                  }),
                }),
              ],
            }),
            a.jsxs(M, {
              className: "border-primary/20 bg-primary/5",
              children: [
                a.jsx(B, {
                  className: "pb-3",
                  children: a.jsxs(F, {
                    className: "flex items-center gap-2 text-primary",
                    children: [
                      a.jsx(En, { className: "h-5 w-5" }),
                      "Corretor Inteligente",
                    ],
                  }),
                }),
                a.jsx(R, {
                  children: a.jsx("p", {
                    className: "text-sm text-muted-foreground",
                    children:
                      "Sistema de correo automtica com mapeamento flexvel e validao real",
                  }),
                }),
              ],
            }),
            a.jsxs(M, {
              className: "border-warning/20 bg-warning/5",
              children: [
                a.jsx(B, {
                  className: "pb-3",
                  children: a.jsxs(F, {
                    className: "flex items-center gap-2 text-warning",
                    children: [
                      a.jsx(Kt, { className: "h-5 w-5" }),
                      "Validao Completa",
                    ],
                  }),
                }),
                a.jsx(R, {
                  children: a.jsx("p", {
                    className: "text-sm text-muted-foreground",
                    children:
                      "Processamento de arquivos reais CSV/XLSX com interface interativa",
                  }),
                }),
              ],
            }),
          ],
        }),
        a.jsx(Cy, {}),
        a.jsxs(M, {
          children: [
            a.jsxs(B, {
              children: [
                a.jsx(F, { children: " Implementao Concluda" }),
                a.jsx(re, {
                  children:
                    "Resumo das funcionalidades implementadas no Corretor Inteligente",
                }),
              ],
            }),
            a.jsxs(R, {
              className: "space-y-4",
              children: [
                a.jsxs("div", {
                  className: "grid grid-cols-1 md:grid-cols-2 gap-6",
                  children: [
                    a.jsxs("div", {
                      className: "space-y-3",
                      children: [
                        a.jsx("h3", {
                          className: "font-semibold text-success",
                          children: " Correes Implementadas",
                        }),
                        a.jsxs("ul", {
                          className: "space-y-1 text-sm text-muted-foreground",
                          children: [
                            a.jsx("li", {
                              children:
                                " Template CSV atualizado com campos legados",
                            }),
                            a.jsx("li", {
                              children:
                                " Schema JSON expandido para compatibilidade",
                            }),
                            a.jsx("li", {
                              children: " Builder XLSX sincronizado",
                            }),
                            a.jsx("li", {
                              children: " Mapeamento inteligente de campos",
                            }),
                          ],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "space-y-3",
                      children: [
                        a.jsx("h3", {
                          className: "font-semibold text-primary",
                          children: " Funcionalidades Novas",
                        }),
                        a.jsxs("ul", {
                          className: "space-y-1 text-sm text-muted-foreground",
                          children: [
                            a.jsx("li", {
                              children:
                                " Validao com dados reais (no mock)",
                            }),
                            a.jsx("li", {
                              children: " Correo automtica de CNJ",
                            }),
                            a.jsx("li", {
                              children: " Formatao inteligente de nomes",
                            }),
                            a.jsx("li", {
                              children: " Interface interativa de correes",
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                a.jsx("div", {
                  className: "border-t pt-4",
                  children: a.jsxs("p", {
                    className: "text-sm text-muted-foreground",
                    children: [
                      a.jsx("strong", { children: "Resultado:" }),
                      " Sistema robusto que elimina os erros de importao, permitindo que usurios importem dados com correes automticas e interface amigvel para revisar todas as modificaes antes da publicao.",
                    ],
                  }),
                }),
              ],
            }),
          ],
        }),
      ],
    }),
  });
}
const c6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: _V },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  OV = () => {
    const [e, t] = P.useState(() =>
        new Date(Date.now() - 6048e5).toISOString().slice(0, 10),
      ),
      [r, n] = P.useState(() => new Date().toISOString().slice(0, 10)),
      [i, s] = P.useState([]),
      o = async () => {
        if (!(await Ia())) return;
        s([
          { event: "page_view", count: 150, unique_users: 45 },
          { event: "button_click", count: 300, unique_users: 80 },
        ]);
      };
    return (
      P.useEffect(() => {
        o();
      }, []),
      a.jsxs(M, {
        children: [
          a.jsx(B, { children: a.jsx(F, { children: "Metrics" }) }),
          a.jsxs(R, {
            children: [
              a.jsxs("div", {
                className: "flex gap-2 mb-4",
                children: [
                  a.jsx($e, {
                    type: "date",
                    value: e,
                    onChange: (c) => t(c.target.value),
                  }),
                  a.jsx($e, {
                    type: "date",
                    value: r,
                    onChange: (c) => n(c.target.value),
                  }),
                  a.jsx(L, { onClick: o, children: "Refresh" }),
                ],
              }),
              a.jsx("ul", {
                children: i.map((c) =>
                  a.jsxs(
                    "li",
                    { className: "py-1", children: [c.event, ": ", c.count] },
                    c.event,
                  ),
                ),
              }),
            ],
          }),
        ],
      })
    );
  },
  l6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: OV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  SV = () => {
    const [e, t] = P.useState([]);
    P.useEffect(() => {
      const o = [
        {
          flag_id: "advanced-search",
          window: "7d",
          evaluations_count: 150,
          unique_users: 45,
          last_evaluated: new Date().toISOString(),
        },
        {
          flag_id: "beta-features",
          window: "30d",
          evaluations_count: 300,
          unique_users: 80,
          last_evaluated: new Date().toISOString(),
        },
      ];
      t(o);
    }, []);
    const r = P.useMemo(() => {
        const o = {};
        for (const c of e)
          (o[c.flag_id] ||
            (o[c.flag_id] = { flag_id: c.flag_id, eval_7d: 0, eval_30d: 0 }),
            c.window === "7d" && (o[c.flag_id].eval_7d = c.evaluations_count),
            c.window === "30d" &&
              (o[c.flag_id].eval_30d = c.evaluations_count));
        return Object.values(o);
      }, [e]),
      n = e
        .filter((o) => o.window === "7d")
        .reduce((o, c) => o + c.evaluations_count, 0),
      i = e
        .filter((o) => o.window === "30d")
        .reduce((o, c) => o + c.evaluations_count, 0),
      s = e
        .filter((o) => o.window === "30d")
        .reduce((o, c) => o + c.unique_users, 0);
    return a.jsxs("div", {
      className: "space-y-4",
      children: [
        a.jsxs("div", {
          className: "grid gap-4 sm:grid-cols-3",
          children: [
            a.jsxs(M, {
              children: [
                a.jsx(B, { children: a.jsx(F, { children: "Avaliaes 7d" }) }),
                a.jsx(R, { className: "text-2xl font-bold", children: n }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsx(B, {
                  children: a.jsx(F, { children: "Avaliaes 30d" }),
                }),
                a.jsx(R, { className: "text-2xl font-bold", children: i }),
              ],
            }),
            a.jsxs(M, {
              children: [
                a.jsx(B, {
                  children: a.jsx(F, { children: "Usurios nicos 30d" }),
                }),
                a.jsx(R, { className: "text-2xl font-bold", children: s }),
              ],
            }),
          ],
        }),
        a.jsxs(M, {
          children: [
            a.jsx(B, {
              children: a.jsx(F, { children: "Avaliaes por Flag" }),
            }),
            a.jsx(R, {
              children: a.jsx(Bi, {
                className: "h-[300px]",
                config: {
                  eval_7d: { label: "7d", color: "hsl(var(--chart-1))" },
                  eval_30d: { label: "30d", color: "hsl(var(--chart-2))" },
                },
                children: a.jsxs(py, {
                  data: r,
                  children: [
                    a.jsx(zi, { strokeDasharray: "3 3" }),
                    a.jsx(_r, { dataKey: "flag_id" }),
                    a.jsx(Jt, {}),
                    a.jsx(Fi, { content: a.jsx(tc, {}) }),
                    a.jsx(vr, {
                      dataKey: "eval_7d",
                      fill: "var(--color-eval_7d)",
                    }),
                    a.jsx(vr, {
                      dataKey: "eval_30d",
                      fill: "var(--color-eval_30d)",
                    }),
                  ],
                }),
              }),
            }),
          ],
        }),
      ],
    });
  },
  u6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: SV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  );
function AV() {
  const e = ab();
  return (
    P.useEffect(() => {
      e("/admin/base/processos", { replace: !0 });
    }, [e]),
    null
  );
}
const d6 = Object.freeze(
  Object.defineProperty({ __proto__: null, default: AV }, Symbol.toStringTag, {
    value: "Module",
  }),
);
function PV() {
  const t = ib().pathname.includes("/testemunhas")
    ? "testemunhas"
    : "processos";
  return a.jsxs("div", {
    className: "flex flex-col h-full bg-gradient-subtle",
    children: [
      a.jsxs("div", {
        className: "border-b bg-background",
        children: [
          a.jsxs("div", {
            className: "flex items-center justify-between p-6",
            children: [
              a.jsxs("div", {
                className: "space-y-1",
                children: [
                  a.jsxs("h1", {
                    className:
                      "text-2xl font-semibold text-foreground flex items-center gap-2",
                    children: [
                      a.jsx(dr, { className: "h-6 w-6 text-primary" }),
                      "Explorar Dados",
                    ],
                  }),
                  a.jsx("p", {
                    className: "text-sm text-muted-foreground",
                    children:
                      "Revise, valide e gerencie dados ps-importao com controle de qualidade",
                  }),
                ],
              }),
              a.jsxs(L, {
                variant: "outline",
                className: "gap-2",
                children: [a.jsx(us, { className: "h-4 w-4" }), "Exportar"],
              }),
            ],
          }),
          a.jsx("div", {
            className: "px-6",
            children: a.jsx(gr, {
              value: t,
              className: "w-auto",
              children: a.jsxs(yr, {
                className: "grid w-fit grid-cols-2",
                children: [
                  a.jsx(we, {
                    value: "processos",
                    asChild: !0,
                    children: a.jsxs(Cd, {
                      to: "/admin/base/processos",
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(Ap, { className: "h-4 w-4" }),
                        a.jsx("span", {
                          className: "hidden sm:inline",
                          children: "Processos",
                        }),
                      ],
                    }),
                  }),
                  a.jsx(we, {
                    value: "testemunhas",
                    asChild: !0,
                    children: a.jsxs(Cd, {
                      to: "/admin/base/testemunhas",
                      className: "flex items-center gap-2",
                      children: [
                        a.jsx(Ai, { className: "h-4 w-4" }),
                        a.jsx("span", {
                          className: "hidden sm:inline",
                          children: "Testemunhas",
                        }),
                      ],
                    }),
                  }),
                ],
              }),
            }),
          }),
        ],
      }),
      a.jsx("div", {
        className: "flex-1 overflow-hidden",
        children: a.jsx(sb, {}),
      }),
    ],
  });
}
const f6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: PV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  is = [
    {
      cnj: "5001234-12.2024.5.02.0001",
      reclamante: "Joo da Silva Santos",
      reclamada: "Empresa XYZ Ltda",
      testemunhas_ativas: ["Maria Oliveira", "Carlos Pereira"],
      testemunhas_passivas: ["Ana Costa", "Pedro Lima"],
      qtd_testemunhas: 4,
      classificacao: "Ateno",
      classificacao_estrategica: "Mdia complexidade",
      created_at: new Date().toISOString(),
    },
    {
      cnj: "5001235-13.2024.5.02.0001",
      reclamante: "Ana Paula Ferreira",
      reclamada: "Tech Solutions S.A.",
      testemunhas_ativas: ["Roberto Silva"],
      testemunhas_passivas: [
        "Lucia Santos",
        "Fernando Costa",
        "Mariana Oliveira",
      ],
      qtd_testemunhas: 4,
      classificacao: "Crtico",
      classificacao_estrategica: "Alta complexidade",
      created_at: new Date(Date.now() - 864e5).toISOString(),
    },
    {
      cnj: "5001236-14.2024.5.02.0001",
      reclamante: "Carlos Eduardo Souza",
      reclamada: "Indstria ABC Ltda",
      testemunhas_ativas: ["Patricia Lima"],
      testemunhas_passivas: ["Jos Maria"],
      qtd_testemunhas: 2,
      classificacao: "Normal",
      classificacao_estrategica: "Baixa complexidade",
      created_at: new Date(Date.now() - 1728e5).toISOString(),
    },
  ],
  Ot = {
    uuid: Tt().uuid("UUID invlido"),
    orgId: Tt().min(1, "ID da organizao  obrigatrio"),
    cnj: Tt().refine((e) => {
      const t = e.replace(/[^\d]/g, "");
      return t.length === 20 && /^\d{20}$/.test(t);
    }, "CNJ deve ter 20 dgitos numricos"),
    nonEmptyString: Tt().min(1, "Campo obrigatrio").trim(),
    optionalString: Tt().optional(),
    stringArray: ic(Tt()),
    nonEmptyStringArray: ic(Tt()).min(1, "Pelo menos um item  necessrio"),
    page: Ma().int().min(1, "Pgina deve ser >= 1"),
    limit: Ma().int().min(1).max(100, "Limite mximo de 100 itens"),
    filters: go({
      search: Tt().optional(),
      classificacao: ic(Tt()).optional(),
      qtdMin: Ma().int().min(0).optional(),
      qtdMax: Ma().int().min(0).optional(),
    }).optional(),
  };
go({
  cnj: Ot.cnj,
  reclamante: Ot.nonEmptyString,
  reclamada: Ot.nonEmptyString,
  testemunhas_ativas: Ot.stringArray,
  testemunhas_passivas: Ot.stringArray,
  qtd_testemunhas: Ma().int().min(0),
  classificacao: Ot.nonEmptyString,
  classificacao_estrategica: Ot.optionalString,
  created_at: Tt(),
});
const CV = go({
  filters: Ot.filters,
  page: Ot.page.default(1),
  limit: Ot.limit.default(50),
});
go({
  id: Ot.uuid,
  organization_id: Ot.orgId,
  role: vb(["admin", "user", "viewer"]),
  email: Tt().email("E-mail invlido"),
});
function EV(e, t) {
  const r = e.safeParse(t);
  if (!r.success) {
    const n = r.error.issues
      .map((i) => `${i.path.join(".")}: ${i.message}`)
      .join(", ");
    throw new Error(`Dados invlidos: ${n}`);
  }
  return r.data;
}
function TV(e = {}, t = 50, r = 1) {
  const { profile: n } = ft(),
    [i, s] = P.useState(r),
    {
      data: o,
      isLoading: c,
      error: l,
      refetch: u,
    } = Mr({
      queryKey: ["assistjur-processos", n?.organization_id, e, i, t],
      queryFn: async () => {
        if (!Lc(n?.organization_id))
          throw sc.authentication("Organizao no encontrada", {
            profile: n?.id,
          });
        const f = EV(CV, { filters: e, page: i, limit: t });
        return await gb(
          async () => {
            const {
              data: { session: d },
            } = await te.auth.getSession();
            if (!d?.access_token) throw sc.authentication("Sesso expirada");
            const m = await fetch(
              "https://fgjypmlszuzkgvhuszxn.functions.supabase.co/assistjur-processos",
              {
                method: "POST",
                headers: {
                  Authorization: `Bearer ${d.access_token}`,
                  "Content-Type": "application/json",
                },
                body: JSON.stringify(f),
              },
            );
            if (!m.ok) {
              const p = await m.json().catch(() => ({}));
              throw sc.system(p.detail || `HTTP ${m.status}: ${m.statusText}`, {
                status: m.status,
              });
            }
            const v = await m.json();
            return !v?.data || v.data.length === 0
              ? { data: is, count: is.length, totalPages: 1 }
              : v;
          },
          "AssistJurProcessos",
          {
            retries: 2,
            timeout: 3e4,
            fallback: { data: is, count: is.length, totalPages: 1 },
          },
        );
      },
      enabled: !!n?.organization_id,
      retry: (f, d) =>
        d?.message?.includes("Sesso expirada") ||
        d?.message?.includes("Acesso negado")
          ? !1
          : f < 2,
      staleTime: 5 * 60 * 1e3,
    });
  return {
    data: o?.data || [],
    totalCount: o?.count || 0,
    currentPage: i,
    totalPages: o?.totalPages || 1,
    isLoading: c,
    error: l,
    refetch: u,
    setPage: s,
  };
}
const Ty = ({ className: e, ...t }) =>
  a.jsx("nav", {
    role: "navigation",
    "aria-label": "pagination",
    className: st("mx-auto flex w-full justify-center", e),
    ...t,
  });
Ty.displayName = "Pagination";
const $y = P.forwardRef(({ className: e, ...t }, r) =>
  a.jsx("ul", {
    ref: r,
    className: st("flex flex-row items-center gap-1", e),
    ...t,
  }),
);
$y.displayName = "PaginationContent";
const cs = P.forwardRef(({ className: e, ...t }, r) =>
  a.jsx("li", { ref: r, className: st("", e), ...t }),
);
cs.displayName = "PaginationItem";
const rc = ({ className: e, isActive: t, size: r = "icon", ...n }) =>
  a.jsx("a", {
    "aria-current": t ? "page" : void 0,
    className: st(xb({ variant: t ? "outline" : "ghost", size: r }), e),
    ...n,
  });
rc.displayName = "PaginationLink";
const ky = ({ className: e, ...t }) =>
  a.jsxs(rc, {
    "aria-label": "Go to previous page",
    size: "default",
    className: st("gap-1 pl-2.5", e),
    ...t,
    children: [
      a.jsx(ob, { className: "h-4 w-4" }),
      a.jsx("span", { children: "Previous" }),
    ],
  });
ky.displayName = "PaginationPrevious";
const My = ({ className: e, ...t }) =>
  a.jsxs(rc, {
    "aria-label": "Go to next page",
    size: "default",
    className: st("gap-1 pr-2.5", e),
    ...t,
    children: [
      a.jsx("span", { children: "Next" }),
      a.jsx(cb, { className: "h-4 w-4" }),
    ],
  });
My.displayName = "PaginationNext";
function $V() {
  const [e, t] = lb(),
    r = {
      search: e.get("search") || void 0,
      classificacao: e.get("classificacao")
        ? e.get("classificacao").split(",")
        : void 0,
    },
    n = Number(e.get("page") || "1"),
    [i, s] = P.useState(r),
    [o, c] = P.useState(!1),
    [l, u] = P.useState(!1),
    {
      data: f,
      totalCount: d,
      currentPage: h,
      totalPages: m,
      isLoading: v,
      error: p,
      setPage: x,
    } = TV(i, 50, n);
  P.useEffect(() => {
    const w = {};
    (i.search && (w.search = i.search),
      i.classificacao?.length && (w.classificacao = i.classificacao.join(",")),
      h > 1 && (w.page = String(h)),
      t(w, { replace: !0 }));
  }, [i, h, t]);
  const g = (w) => {
      (s((O) => ({ ...O, search: w.trim() || void 0 })), x(1));
    },
    b = (w) => {
      (s(
        w === "all"
          ? (O) => ({ ...O, classificacao: void 0 })
          : (O) => ({ ...O, classificacao: [w] }),
      ),
        x(1));
    },
    N = () => {
      (s({}), x(1));
    },
    _ = (w) => {
      switch (w?.toLowerCase()) {
        case "crtico":
          return "destructive";
        case "ateno":
          return "secondary";
        case "observao":
          return "outline";
        default:
          return "secondary";
      }
    },
    y = () => {
      try {
        const O = [
            [
              "CNJ",
              "Reclamante",
              "Reclamada",
              "Testemunhas Ativas",
              "Testemunhas Passivas",
              "Qtd Total",
              "Classificao",
              "Data Criao",
            ].join(","),
            ...f.map((C) =>
              [
                C.cnj,
                `"${C.reclamante}"`,
                `"${C.reclamada}"`,
                `"${C.testemunhas_ativas.join("; ")}"`,
                `"${C.testemunhas_passivas.join("; ")}"`,
                C.qtd_testemunhas,
                `"${C.classificacao}"`,
                $n(new Date(C.created_at), "dd/MM/yyyy", { locale: Ka }),
              ].join(","),
            ),
          ].join(`
`),
          S = new Blob([O], { type: "text/csv;charset=utf-8;" }),
          E = document.createElement("a");
        ((E.href = URL.createObjectURL(S)),
          (E.download = `assistjur-processos-${$n(new Date(), "yyyy-MM-dd")}.csv`),
          E.click(),
          Ve.success(`Exportao concluda: ${f.length} processos`));
      } catch (w) {
        (console.error("Erro na exportao CSV:", w),
          Ve.error("Erro ao exportar dados. Tente novamente."));
      }
    },
    j = () => {
      (window.open(
        "https://supabase.com/dashboard/project/fgjypmlszuzkgvhuszxn/functions/assistjur-processos/logs",
        "_blank",
      ),
        Ve.info("Abrindo logs da Edge Function..."));
    };
  return p
    ? a.jsx(M, {
        className: "p-6",
        children: a.jsxs("div", {
          className: "text-center space-y-4",
          children: [
            a.jsxs("div", {
              className: "space-y-2",
              children: [
                a.jsx("p", {
                  className: "text-destructive font-medium",
                  children: "Erro ao carregar processos",
                }),
                a.jsx("p", {
                  className: "text-sm text-muted-foreground",
                  children: p.message,
                }),
              ],
            }),
            a.jsxs("div", {
              className: "flex items-center justify-center gap-2",
              children: [
                a.jsx(L, {
                  variant: "outline",
                  onClick: () => window.location.reload(),
                  children: "Tentar novamente",
                }),
                a.jsxs(L, {
                  variant: "outline",
                  onClick: j,
                  size: "sm",
                  children: [
                    a.jsx(ub, { className: "h-4 w-4 mr-2" }),
                    "Abrir Logs",
                  ],
                }),
              ],
            }),
          ],
        }),
      })
    : a.jsxs("div", {
        className: "space-y-6",
        children: [
          a.jsxs(M, {
            className: "p-6",
            children: [
              a.jsxs("div", {
                className: "flex items-center justify-between mb-4",
                children: [
                  a.jsxs("div", {
                    children: [
                      a.jsx("h2", {
                        className: "text-2xl font-bold",
                        children: "Processos AssistJur.IA",
                      }),
                      a.jsxs("p", {
                        className: "text-muted-foreground",
                        children: [d, " processos encontrados"],
                      }),
                    ],
                  }),
                  a.jsxs("div", {
                    className: "flex gap-2",
                    children: [
                      a.jsxs(L, {
                        variant: "outline",
                        onClick: () => u(!l),
                        children: [
                          a.jsx(cu, { className: "h-4 w-4 mr-2" }),
                          "Filtros",
                        ],
                      }),
                      a.jsx(L, {
                        variant: "outline",
                        onClick: () => c(!o),
                        children: o ? "Mostrar Dados" : "Mascarar PII",
                      }),
                      a.jsxs(L, {
                        variant: "outline",
                        onClick: y,
                        children: [
                          a.jsx(Gt, { className: "h-4 w-4 mr-2" }),
                          "Exportar CSV",
                        ],
                      }),
                      a.jsxs(L, {
                        variant: "outline",
                        onClick: j,
                        size: "sm",
                        children: [
                          a.jsx(db, { className: "h-4 w-4 mr-2" }),
                          "Abrir Logs",
                        ],
                      }),
                    ],
                  }),
                ],
              }),
              l &&
                a.jsx("div", {
                  className: "border-t pt-4 space-y-4",
                  children: a.jsxs("div", {
                    className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                    children: [
                      a.jsxs("div", {
                        children: [
                          a.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Buscar",
                          }),
                          a.jsx($e, {
                            placeholder: "CNJ, reclamante, reclamada...",
                            value: i.search || "",
                            onChange: (w) => g(w.target.value),
                          }),
                        ],
                      }),
                      a.jsxs("div", {
                        children: [
                          a.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Classificao",
                          }),
                          a.jsxs(tt, {
                            value: i.classificacao?.[0] || "all",
                            onValueChange: b,
                            children: [
                              a.jsx(rt, {
                                children: a.jsx(nt, { placeholder: "Todas" }),
                              }),
                              a.jsxs(at, {
                                children: [
                                  a.jsx(ue, {
                                    value: "all",
                                    children: "Todas",
                                  }),
                                  a.jsx(ue, {
                                    value: "crtico",
                                    children: "Crtico",
                                  }),
                                  a.jsx(ue, {
                                    value: "ateno",
                                    children: "Ateno",
                                  }),
                                  a.jsx(ue, {
                                    value: "observao",
                                    children: "Observao",
                                  }),
                                  a.jsx(ue, {
                                    value: "normal",
                                    children: "Normal",
                                  }),
                                ],
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsx("div", {
                        className: "flex items-end",
                        children: a.jsxs(L, {
                          variant: "outline",
                          onClick: N,
                          children: [
                            a.jsx(Rc, { className: "h-4 w-4 mr-2" }),
                            "Limpar",
                          ],
                        }),
                      }),
                    ],
                  }),
                }),
            ],
          }),
          a.jsxs(M, {
            children: [
              a.jsx("div", {
                className:
                  "border border-border/50 rounded-2xl overflow-hidden",
                children: a.jsxs(Ht, {
                  children: [
                    a.jsx(Xt, {
                      children: a.jsxs(Ne, {
                        className: "bg-muted/30",
                        children: [
                          a.jsx(Z, {
                            className: "font-semibold",
                            children: "CNJ",
                          }),
                          a.jsx(Z, {
                            className: "font-semibold",
                            children: "Reclamante",
                          }),
                          a.jsx(Z, {
                            className: "font-semibold",
                            children: "Reclamada",
                          }),
                          a.jsx(Z, {
                            className: "font-semibold",
                            children: "Testemunhas Ativas",
                          }),
                          a.jsx(Z, {
                            className: "font-semibold",
                            children: "Testemunhas Passivas",
                          }),
                          a.jsx(Z, {
                            className: "font-semibold text-center",
                            children: "Qtd Total",
                          }),
                          a.jsx(Z, {
                            className: "font-semibold",
                            children: "Classificao",
                          }),
                          a.jsx(Z, {
                            className: "font-semibold",
                            children: "Data",
                          }),
                          a.jsx(Z, {
                            className: "font-semibold text-center",
                            children: "Aes",
                          }),
                        ],
                      }),
                    }),
                    a.jsx(Rt, {
                      children: v
                        ? Array.from({ length: 5 }).map((w, O) =>
                            a.jsxs(
                              Ne,
                              {
                                children: [
                                  a.jsx(X, {
                                    className: "h-16",
                                    children: a.jsx("div", {
                                      className:
                                        "animate-pulse bg-muted rounded h-4 w-24",
                                    }),
                                  }),
                                  a.jsx(X, {
                                    className: "h-16",
                                    children: a.jsx("div", {
                                      className:
                                        "animate-pulse bg-muted rounded h-4 w-32",
                                    }),
                                  }),
                                  a.jsx(X, {
                                    className: "h-16",
                                    children: a.jsx("div", {
                                      className:
                                        "animate-pulse bg-muted rounded h-4 w-28",
                                    }),
                                  }),
                                  a.jsx(X, {
                                    className: "h-16",
                                    children: a.jsx("div", {
                                      className:
                                        "animate-pulse bg-muted rounded h-4 w-20",
                                    }),
                                  }),
                                  a.jsx(X, {
                                    className: "h-16",
                                    children: a.jsx("div", {
                                      className:
                                        "animate-pulse bg-muted rounded h-4 w-20",
                                    }),
                                  }),
                                  a.jsx(X, {
                                    className: "h-16",
                                    children: a.jsx("div", {
                                      className:
                                        "animate-pulse bg-muted rounded h-4 w-8",
                                    }),
                                  }),
                                  a.jsx(X, {
                                    className: "h-16",
                                    children: a.jsx("div", {
                                      className:
                                        "animate-pulse bg-muted rounded h-4 w-16",
                                    }),
                                  }),
                                  a.jsx(X, {
                                    className: "h-16",
                                    children: a.jsx("div", {
                                      className:
                                        "animate-pulse bg-muted rounded h-4 w-12",
                                    }),
                                  }),
                                  a.jsx(X, {
                                    className: "h-16",
                                    children: a.jsx("div", {
                                      className:
                                        "animate-pulse bg-muted rounded h-4 w-8",
                                    }),
                                  }),
                                ],
                              },
                              O,
                            ),
                          )
                        : f.length === 0
                          ? a.jsx(Ne, {
                              children: a.jsxs(X, {
                                colSpan: 9,
                                className: "text-center py-8",
                                children: [
                                  a.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Nenhum processo encontrado",
                                  }),
                                  (i.search || i.classificacao) &&
                                    a.jsx(L, {
                                      variant: "link",
                                      onClick: N,
                                      children: "Limpar filtros",
                                    }),
                                ],
                              }),
                            })
                          : f.map((w) =>
                              a.jsxs(
                                Ne,
                                {
                                  className: "hover:bg-muted/20",
                                  children: [
                                    a.jsx(X, {
                                      className:
                                        "font-mono text-xs max-w-[120px] truncate",
                                      children: ss(w.cnj, o),
                                    }),
                                    a.jsx(X, {
                                      className:
                                        "font-medium max-w-[150px] truncate",
                                      children: ss(w.reclamante, o),
                                    }),
                                    a.jsx(X, {
                                      className: "max-w-[150px] truncate",
                                      children: ss(w.reclamada, o),
                                    }),
                                    a.jsx(X, {
                                      className: "max-w-[200px]",
                                      children: a.jsx(zc, {
                                        items: w.testemunhas_ativas,
                                        maxVisible: 2,
                                        isPiiMasked: o,
                                      }),
                                    }),
                                    a.jsx(X, {
                                      className: "max-w-[200px]",
                                      children: a.jsx(zc, {
                                        items: w.testemunhas_passivas,
                                        maxVisible: 2,
                                        isPiiMasked: o,
                                      }),
                                    }),
                                    a.jsx(X, {
                                      className: "text-center",
                                      children: a.jsx(H, {
                                        variant: "secondary",
                                        className: "text-xs",
                                        children: w.qtd_testemunhas,
                                      }),
                                    }),
                                    a.jsx(X, {
                                      children: a.jsx(H, {
                                        variant: _(w.classificacao),
                                        className: "text-xs",
                                        children: w.classificacao,
                                      }),
                                    }),
                                    a.jsx(X, {
                                      className:
                                        "text-xs text-muted-foreground",
                                      children: $n(
                                        new Date(w.created_at),
                                        "dd/MM/yy",
                                        { locale: Ka },
                                      ),
                                    }),
                                    a.jsx(X, {
                                      children: a.jsx("div", {
                                        className:
                                          "flex items-center justify-center",
                                        children: a.jsx(L, {
                                          variant: "ghost",
                                          size: "sm",
                                          className: "h-8 w-8 p-0",
                                          children: a.jsx(Pt, {
                                            className: "h-4 w-4",
                                          }),
                                        }),
                                      }),
                                    }),
                                  ],
                                },
                                w.cnj,
                              ),
                            ),
                    }),
                  ],
                }),
              }),
              m > 1 &&
                a.jsxs("div", {
                  className: "flex items-center justify-between p-4 border-t",
                  children: [
                    a.jsxs("p", {
                      className: "text-sm text-muted-foreground",
                      children: [
                        "Pgina ",
                        h,
                        " de ",
                        m,
                        "  ",
                        d,
                        " registros",
                      ],
                    }),
                    a.jsx(Ty, {
                      children: a.jsxs($y, {
                        children: [
                          a.jsx(cs, {
                            children: a.jsx(ky, {
                              href: "#",
                              "aria-disabled": h <= 1,
                              className:
                                h <= 1 ? "pointer-events-none opacity-50" : "",
                              onClick: (w) => {
                                (w.preventDefault(), h > 1 && x(h - 1));
                              },
                            }),
                          }),
                          Array.from({ length: m }, (w, O) =>
                            a.jsx(
                              cs,
                              {
                                children: a.jsx(rc, {
                                  href: "#",
                                  isActive: h === O + 1,
                                  onClick: (S) => {
                                    (S.preventDefault(), x(O + 1));
                                  },
                                  children: O + 1,
                                }),
                              },
                              O,
                            ),
                          ),
                          a.jsx(cs, {
                            children: a.jsx(My, {
                              href: "#",
                              "aria-disabled": h >= m,
                              className:
                                h >= m ? "pointer-events-none opacity-50" : "",
                              onClick: (w) => {
                                (w.preventDefault(), h < m && x(h + 1));
                              },
                            }),
                          }),
                        ],
                      }),
                    }),
                  ],
                }),
            ],
          }),
        ],
      });
}
function Iy({ type: e, onSuccess: t, className: r }) {
  const { profile: n, isAdmin: i, user: s } = ft(),
    { toast: o } = la(),
    [c, l] = P.useState(!1),
    [u, f] = P.useState(null),
    [d, h] = P.useState(""),
    [m, v] = P.useState({ understand: !1, irreversible: !1, backup: !1 }),
    [p, x] = P.useState(!1),
    [g, b] = P.useState(!1),
    [N, _] = P.useState(0),
    [y, j] = P.useState("preview"),
    [w, O] = P.useState("soft"),
    [S, E] = P.useState(10);
  P.useEffect(() => {}, [i, n?.organization_id]);
  const C = n?.organization_id || "",
    T = d === C,
    $ = Object.values(m).every(Boolean),
    I = T && $ && S === 0,
    k = !!(i && n?.organization_id);
  (P.useEffect(() => {
    if (y === "confirm" && S > 0) {
      const ie = setTimeout(() => E((de) => de - 1), 1e3);
      return () => clearTimeout(ie);
    }
  }, [y, S]),
    P.useEffect(() => {
      c && !u && k && D();
    }, [c, k]));
  const D = async () => {
      if (!k) {
        o({
          title: "Acesso negado",
          description:
            "Voc precisa ser um administrador para executar esta operao",
          variant: "destructive",
        });
        return;
      }
      b(!0);
      try {
        const { data: ie, error: de } = await te.rpc(
          "rpc_get_deletion_impact",
          { p_org_id: n.organization_id },
        );
        if (de) throw de;
        f(ie);
      } catch (ie) {
        o({
          title: "Erro ao carregar dados",
          description:
            ie instanceof Error
              ? ie.message
              : "No foi possvel carregar o impacto da excluso",
          variant: "destructive",
        });
      } finally {
        b(!1);
      }
    },
    V = async () => {
      if (n?.organization_id) {
        (x(!0), j("executing"), _(0));
        try {
          _(25);
          let ie = null;
          try {
            const { data: de, error: q } = await te.functions.invoke(
              "processes-delete-all",
              {
                body: { confirm: n.organization_id, hard_delete: w === "hard" },
              },
            );
            if (q) throw q;
            if (de?.error) throw new Error(de.message || de.error);
            ie = {
              success: de.success,
              deleted_count: de.deleted_count,
              operation_type: de.operation_type,
              message: de.message,
            };
          } catch {
            const { data: q, error: ge } = await te.rpc(
              "rpc_delete_all_processos",
              { p_org_id: n.organization_id, p_hard_delete: w === "hard" },
            );
            if (ge) throw ge;
            ie = q;
          }
          if ((_(75), e === "processos" && ie)) {
            const { error: de } = await te.rpc("rpc_cleanup_derived_data", {
              p_org_id: n.organization_id,
            });
          }
          (_(100),
            ie &&
              (o({
                title: "Excluso concluda",
                description: `${ie.deleted_count} registros foram ${w === "hard" ? "permanentemente excludos" : "marcados para excluso"}`,
              }),
              t?.(),
              l(!1),
              K()));
        } catch (ie) {
          o({
            title: "Erro na excluso",
            description:
              ie instanceof Error
                ? ie.message
                : "Erro desconhecido durante a excluso",
            variant: "destructive",
          });
        } finally {
          x(!1);
        }
      }
    },
    G = async () => {
      if (n?.organization_id) {
        (x(!0), j("executing"), _(0));
        try {
          _(50);
          const { data: ie, error: de } = await te.rpc(
            "rpc_cleanup_derived_data",
            { p_org_id: n.organization_id },
          );
          if (de) throw de;
          const q = ie;
          (_(100),
            o({
              title: "Limpeza concluda",
              description: `${q.deleted_count} registros de testemunhas rfs foram removidos`,
            }),
            t?.(),
            l(!1),
            K());
        } catch (ie) {
          o({
            title: "Erro na limpeza",
            description:
              ie instanceof Error
                ? ie.message
                : "Erro desconhecido durante a limpeza",
            variant: "destructive",
          });
        } finally {
          x(!1);
        }
      }
    },
    K = () => {
      (j("preview"),
        h(""),
        v({ understand: !1, irreversible: !1, backup: !1 }),
        _(0),
        E(10),
        f(null));
    },
    ee = () => {
      p || (l(!1), K());
    },
    ae = () => {
      switch (e) {
        case "processos":
          return "Excluir Todos os Processos";
        case "testemunhas":
          return "Limpar Dados de Testemunhas";
        default:
          return "Excluir Dados";
      }
    },
    J = () => {
      switch (e) {
        case "processos":
          return "Excluso em Massa - Processos";
        case "testemunhas":
          return "Limpeza de Dados - Testemunhas";
        default:
          return "Excluso em Massa";
      }
    },
    se = () => {
      switch (e) {
        case "processos":
          return "Esta operao ir excluir todos os processos da organizao";
        case "testemunhas":
          return "Esta operao ir limpar dados de testemunhas rfs (sem processos associados)";
        default:
          return "Esta operao ir excluir dados da organizao";
      }
    };
  return a.jsxs(fu, {
    open: c,
    onOpenChange: ee,
    children: [
      a.jsx(Ip, {
        asChild: !0,
        children: a.jsxs(L, {
          variant: "destructive",
          size: "sm",
          className: r,
          onClick: () => l(!0),
          disabled: !k,
          title: k ? "" : "Acesso negado - apenas administradores",
          children: [a.jsx(fn, { className: "h-4 w-4 mr-2" }), ae()],
        }),
      }),
      a.jsxs(hu, {
        className: "max-w-2xl max-h-[80vh] overflow-y-auto",
        children: [
          a.jsxs(mu, {
            children: [
              a.jsxs(pu, {
                className: "flex items-center gap-2",
                children: [
                  a.jsx(dt, { className: "h-5 w-5 text-destructive" }),
                  J(),
                ],
              }),
              a.jsx(vu, { children: se() }),
            ],
          }),
          a.jsxs("div", {
            className: "space-y-4",
            children: [
              y === "preview" &&
                g &&
                a.jsx(M, {
                  children: a.jsx(R, {
                    className: "pt-6",
                    children: a.jsxs("div", {
                      className: "flex items-center justify-center py-8",
                      children: [
                        a.jsx("div", {
                          className:
                            "animate-spin rounded-full h-8 w-8 border-b-2 border-primary",
                        }),
                        a.jsx("span", {
                          className: "ml-2",
                          children: "Carregando dados...",
                        }),
                      ],
                    }),
                  }),
                }),
              y === "preview" &&
                !k &&
                a.jsx(M, {
                  children: a.jsx(R, {
                    className: "pt-6",
                    children: a.jsxs("div", {
                      className:
                        "flex items-center justify-center py-8 text-destructive",
                      children: [
                        a.jsx(dt, { className: "h-8 w-8 mr-2" }),
                        a.jsxs("div", {
                          children: [
                            a.jsx("div", {
                              className: "font-semibold",
                              children: "Acesso Negado",
                            }),
                            a.jsx("div", {
                              className: "text-sm",
                              children:
                                "Apenas administradores podem executar esta operao",
                            }),
                          ],
                        }),
                      ],
                    }),
                  }),
                }),
              y === "preview" &&
                u &&
                k &&
                a.jsxs(M, {
                  children: [
                    a.jsx(B, {
                      children: a.jsxs(F, {
                        className: "text-base flex items-center gap-2",
                        children: [
                          a.jsx(dr, { className: "h-4 w-4" }),
                          "Impacto da Operao",
                        ],
                      }),
                    }),
                    a.jsxs(R, {
                      className: "space-y-3",
                      children: [
                        a.jsxs("div", {
                          className: "grid grid-cols-2 gap-4 text-sm",
                          children: [
                            a.jsxs("div", {
                              children: [
                                a.jsx(le, { children: "Processos Ativos" }),
                                a.jsx("div", {
                                  className: "text-lg font-semibold",
                                  children: u.active_processos,
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              children: [
                                a.jsx(le, {
                                  children: "Processos J Excludos",
                                }),
                                a.jsx("div", {
                                  className:
                                    "text-lg font-semibold text-muted-foreground",
                                  children: u.soft_deleted_processos,
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              children: [
                                a.jsx(le, { children: "Registros de Pessoas" }),
                                a.jsx("div", {
                                  className: "text-lg font-semibold",
                                  children: u.total_pessoas,
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              children: [
                                a.jsx(le, { children: "Tempo Estimado" }),
                                a.jsxs("div", {
                                  className: "text-lg font-semibold",
                                  children: [
                                    u.estimated_deletion_time_minutes,
                                    " min",
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                        e === "processos" &&
                          a.jsxs("div", {
                            className: "mt-4",
                            children: [
                              a.jsx(le, { children: "Tipo de Excluso" }),
                              a.jsxs("div", {
                                className: "flex gap-2 mt-2",
                                children: [
                                  a.jsx(L, {
                                    variant:
                                      w === "soft" ? "default" : "outline",
                                    size: "sm",
                                    onClick: () => O("soft"),
                                    children:
                                      "Excluso Reversvel (Recomendado)",
                                  }),
                                  a.jsx(L, {
                                    variant:
                                      w === "hard" ? "destructive" : "outline",
                                    size: "sm",
                                    onClick: () => O("hard"),
                                    children: "Excluso Permanente",
                                  }),
                                ],
                              }),
                              a.jsx("p", {
                                className: "text-xs text-muted-foreground mt-2",
                                children:
                                  w === "soft"
                                    ? "Os dados sero marcados como excludos mas podem ser restaurados"
                                    : "Os dados sero permanentemente removidos do banco de dados",
                              }),
                            ],
                          }),
                      ],
                    }),
                  ],
                }),
              y === "confirm" &&
                a.jsxs("div", {
                  className: "space-y-4",
                  children: [
                    a.jsxs("div", {
                      className:
                        "bg-destructive/10 border border-destructive/20 rounded-lg p-4",
                      children: [
                        a.jsxs("div", {
                          className:
                            "flex items-center gap-2 text-destructive mb-2",
                          children: [
                            a.jsx(dt, { className: "h-4 w-4" }),
                            a.jsx("span", {
                              className: "font-semibold",
                              children: "ATENO: Operao Crtica",
                            }),
                          ],
                        }),
                        a.jsxs("p", {
                          className: "text-sm text-destructive/80",
                          children: [
                            "Esta  uma operao irreversvel que afetar ",
                            u?.active_processos,
                            " processos ativos.",
                            w === "hard" && " A excluso ser PERMANENTE.",
                          ],
                        }),
                      ],
                    }),
                    a.jsxs("div", {
                      className: "space-y-3",
                      children: [
                        a.jsxs("div", {
                          className: "space-y-2",
                          children: [
                            a.jsxs(le, {
                              htmlFor: "confirmation",
                              children: [
                                "Para confirmar, digite o ID da organizao: ",
                                a.jsx("code", { children: C }),
                              ],
                            }),
                            a.jsx($e, {
                              id: "confirmation",
                              value: d,
                              onChange: (ie) => h(ie.target.value),
                              placeholder: "Digite o ID da organizao",
                            }),
                          ],
                        }),
                        a.jsxs("div", {
                          className: "space-y-2",
                          children: [
                            a.jsxs("div", {
                              className: "flex items-center space-x-2",
                              children: [
                                a.jsx(Tn, {
                                  id: "understand",
                                  checked: m.understand,
                                  onCheckedChange: (ie) =>
                                    v((de) => ({ ...de, understand: ie })),
                                }),
                                a.jsx(le, {
                                  htmlFor: "understand",
                                  className: "text-sm",
                                  children:
                                    "Eu entendo que esta operao no pode ser desfeita",
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "flex items-center space-x-2",
                              children: [
                                a.jsx(Tn, {
                                  id: "irreversible",
                                  checked: m.irreversible,
                                  onCheckedChange: (ie) =>
                                    v((de) => ({ ...de, irreversible: ie })),
                                }),
                                a.jsx(le, {
                                  htmlFor: "irreversible",
                                  className: "text-sm",
                                  children:
                                    "Eu confirmo que tenho autorizao para executar esta operao",
                                }),
                              ],
                            }),
                            a.jsxs("div", {
                              className: "flex items-center space-x-2",
                              children: [
                                a.jsx(Tn, {
                                  id: "backup",
                                  checked: m.backup,
                                  onCheckedChange: (ie) =>
                                    v((de) => ({ ...de, backup: ie })),
                                }),
                                a.jsx(le, {
                                  htmlFor: "backup",
                                  className: "text-sm",
                                  children:
                                    "Eu confirmo que foi feito backup dos dados (se necessrio)",
                                }),
                              ],
                            }),
                          ],
                        }),
                        S > 0 &&
                          a.jsxs("div", {
                            className:
                              "flex items-center gap-2 text-muted-foreground",
                            children: [
                              a.jsx(fr, { className: "h-4 w-4" }),
                              a.jsxs("span", {
                                className: "text-sm",
                                children: [
                                  "Aguarde ",
                                  S,
                                  "s antes de prosseguir",
                                ],
                              }),
                            ],
                          }),
                      ],
                    }),
                  ],
                }),
              y === "executing" &&
                a.jsx("div", {
                  className: "space-y-4",
                  children: a.jsxs("div", {
                    className: "text-center",
                    children: [
                      a.jsx("div", {
                        className: "mb-2",
                        children: "Executando operao...",
                      }),
                      a.jsx(Pi, { value: N, className: "w-full" }),
                      a.jsxs("div", {
                        className: "text-xs text-muted-foreground mt-1",
                        children: [N, "% concludo"],
                      }),
                    ],
                  }),
                }),
            ],
          }),
          a.jsxs(xu, {
            children: [
              a.jsx(gu, { onClick: ee, disabled: p, children: "Cancelar" }),
              y === "preview" &&
                k &&
                u &&
                a.jsx(ps, {
                  onClick: () => j("confirm"),
                  className: "bg-destructive hover:bg-destructive/90",
                  children: "Continuar",
                }),
              y === "confirm" &&
                a.jsx(ps, {
                  onClick: e === "processos" ? V : G,
                  disabled: !I || p,
                  className: "bg-destructive hover:bg-destructive/90",
                  children: S > 0 ? `Aguarde ${S}s` : "Executar Excluso",
                }),
            ],
          }),
        ],
      }),
    ],
  });
}
function kV({ onSuccess: e, className: t }) {
  const { profile: r } = ft(),
    { toast: n } = la(),
    [i, s] = P.useState(!1),
    o = async () => {
      if (!r?.organization_id) {
        n({
          title: "Erro",
          description: "Organizao no encontrada",
          variant: "destructive",
        });
        return;
      }
      s(!0);
      try {
        const { data: c, error: l } = await te.rpc(
          "rpc_restore_all_processos",
          { p_org_id: r.organization_id },
        );
        if (l) throw l;
        const u = c;
        if (u.success)
          (n({
            title: "Restaurao concluda",
            description: `${u.restored_count} processos foram restaurados com sucesso`,
          }),
            e?.());
        else throw new Error(u.message);
      } catch (c) {
        (console.error("Error restoring processes:", c),
          n({
            title: "Erro na restaurao",
            description:
              c instanceof Error
                ? c.message
                : "Erro desconhecido durante a restaurao",
            variant: "destructive",
          }));
      } finally {
        s(!1);
      }
    };
  return a.jsxs(L, {
    variant: "outline",
    size: "sm",
    onClick: o,
    disabled: i,
    className: t,
    children: [
      a.jsx(Wa, { className: `h-4 w-4 mr-2 ${i ? "animate-spin" : ""}` }),
      i ? "Restaurando..." : "Restaurar Excludos",
    ],
  });
}
function MV() {
  return a.jsxs("div", {
    className: "space-y-6",
    children: [
      a.jsx(M, {
        children: a.jsx(B, {
          children: a.jsxs("div", {
            className: "flex items-center justify-between",
            children: [
              a.jsxs("div", {
                children: [
                  a.jsx(F, { children: "Gesto de Processos - AssistJur.IA" }),
                  a.jsx("p", {
                    className: "text-muted-foreground text-sm",
                    children:
                      "Visualizar e gerenciar processos do pipeline AssistJur.IA",
                  }),
                ],
              }),
              a.jsxs("div", {
                className: "flex gap-2",
                children: [a.jsx(kV, {}), a.jsx(Iy, { type: "processos" })],
              }),
            ],
          }),
        }),
      }),
      a.jsx($V, {}),
    ],
  });
}
const h6 = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: MV },
      Symbol.toStringTag,
      { value: "Module" },
    ),
  ),
  Np = [
    {
      value: "ERROR",
      label: "Erro",
      color: "bg-destructive text-destructive-foreground",
    },
    {
      value: "WARNING",
      label: "Ateno",
      color: "bg-warning text-warning-foreground",
    },
    {
      value: "INFO",
      label: "Info",
      color: "bg-primary text-primary-foreground",
    },
    { value: "OK", label: "OK", color: "bg-success text-success-foreground" },
  ];
function IV({
  searchTerm: e,
  onSearchChange: t,
  selectedSeverity: r,
  onSeverityChange: n,
  onClearFilters: i,
  hasActiveFilters: s,
}) {
  const [o, c] = P.useState(!1),
    l = (f) => {
      const d = r.includes(f) ? r.filter((h) => h !== f) : [...r, f];
      n(d);
    },
    u = (f) => {
      n(r.filter((d) => d !== f));
    };
  return a.jsxs("div", {
    className: "space-y-4",
    children: [
      a.jsxs("div", {
        className: "relative",
        children: [
          a.jsx(Pp, {
            className:
              "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground",
          }),
          a.jsx($e, {
            placeholder: "Buscar por CNJ, reclamante, ru ou testemunha...",
            value: e,
            onChange: (f) => t(f.target.value),
            className: "pl-10 pr-4 h-10",
          }),
        ],
      }),
      a.jsxs("div", {
        className: "flex items-center gap-3 flex-wrap",
        children: [
          a.jsxs(yb, {
            open: o,
            onOpenChange: c,
            children: [
              a.jsx(bb, {
                asChild: !0,
                children: a.jsxs(L, {
                  variant: "outline",
                  size: "sm",
                  className: "gap-2",
                  children: [
                    a.jsx(cu, { className: "h-4 w-4" }),
                    "Filtros",
                    s &&
                      a.jsx(H, {
                        variant: "secondary",
                        className: "ml-1 px-1.5 py-0.5 text-xs",
                        children: r.length,
                      }),
                  ],
                }),
              }),
              a.jsx(jb, {
                className: "w-80 p-4",
                align: "start",
                children: a.jsxs("div", {
                  className: "space-y-4",
                  children: [
                    a.jsx("h4", {
                      className: "font-semibold text-sm",
                      children: "Filtrar por Severidade",
                    }),
                    a.jsx("div", {
                      className: "grid grid-cols-2 gap-2",
                      children: Np.map((f) =>
                        a.jsxs(
                          L,
                          {
                            variant: r.includes(f.value)
                              ? "default"
                              : "outline",
                            size: "sm",
                            onClick: () => l(f.value),
                            className: "justify-start gap-2",
                            children: [
                              a.jsx("div", {
                                className: `w-2 h-2 rounded-full ${f.color}`,
                              }),
                              f.label,
                            ],
                          },
                          f.value,
                        ),
                      ),
                    }),
                    a.jsxs("div", {
                      className: "flex justify-between pt-2 border-t",
                      children: [
                        a.jsxs(L, {
                          variant: "ghost",
                          size: "sm",
                          className: "gap-2",
                          children: [
                            a.jsx(Tp, { className: "h-4 w-4" }),
                            "Salvar Filtro",
                          ],
                        }),
                        a.jsxs(L, {
                          variant: "ghost",
                          size: "sm",
                          className: "gap-2",
                          children: [
                            a.jsx(fb, { className: "h-4 w-4" }),
                            "Filtros Salvos",
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              }),
            ],
          }),
          r.map((f) => {
            const d = Np.find((h) => h.value === f);
            return a.jsxs(
              H,
              {
                variant: "secondary",
                className: "gap-1",
                children: [
                  a.jsx("div", {
                    className: `w-2 h-2 rounded-full ${d?.color}`,
                  }),
                  d?.label,
                  a.jsx(L, {
                    variant: "ghost",
                    size: "sm",
                    className: "h-auto p-0 ml-1 hover:bg-transparent",
                    onClick: () => u(f),
                    children: a.jsx(Rc, { className: "h-3 w-3" }),
                  }),
                ],
              },
              f,
            );
          }),
          s &&
            a.jsxs(L, {
              variant: "ghost",
              size: "sm",
              onClick: i,
              className: "gap-2 text-muted-foreground",
              children: [a.jsx(Rc, { className: "h-4 w-4" }), "Limpar Filtros"],
            }),
        ],
      }),
    ],
  });
}
function DV({
  selectedCount: e,
  onRevalidate: t,
  onNormalizeCNJ: r,
  onFillDefaultReu: n,
  onMergeDuplicates: i,
  onDelete: s,
  onExport: o,
  isLoading: c = !1,
  showTestemunhaActions: l = !1,
}) {
  return e === 0
    ? a.jsxs("div", {
        className:
          "flex items-center justify-between p-4 bg-muted/30 border rounded-lg",
        children: [
          a.jsxs("div", {
            className: "flex items-center gap-2 text-sm text-muted-foreground",
            children: [
              a.jsx(It, { className: "h-4 w-4" }),
              "Selecione registros para executar aes em massa",
            ],
          }),
          a.jsxs(L, {
            variant: "outline",
            size: "sm",
            onClick: o,
            className: "gap-2",
            children: [a.jsx(us, { className: "h-4 w-4" }), "Exportar Todos"],
          }),
        ],
      })
    : a.jsxs("div", {
        className:
          "flex items-center justify-between p-4 bg-primary/5 border border-primary/20 rounded-lg",
        children: [
          a.jsxs("div", {
            className: "flex items-center gap-4",
            children: [
              a.jsx("div", {
                className: "flex items-center gap-2",
                children: a.jsxs(H, {
                  variant: "outline",
                  className: "bg-primary/10 text-primary border-primary/30",
                  children: [e, " selecionado", e > 1 ? "s" : ""],
                }),
              }),
              a.jsx(Ed, { orientation: "vertical", className: "h-6" }),
              a.jsxs("div", {
                className: "flex items-center gap-2",
                children: [
                  a.jsxs(L, {
                    variant: "outline",
                    size: "sm",
                    onClick: t,
                    disabled: c,
                    className: "gap-2",
                    children: [
                      a.jsx(Wa, { className: "h-4 w-4" }),
                      "Revalidar",
                    ],
                  }),
                  a.jsxs(L, {
                    variant: "outline",
                    size: "sm",
                    onClick: r,
                    disabled: c,
                    className: "gap-2",
                    children: [
                      a.jsx(hb, { className: "h-4 w-4" }),
                      "Normalizar CNJ",
                    ],
                  }),
                  l &&
                    n &&
                    a.jsxs(L, {
                      variant: "outline",
                      size: "sm",
                      onClick: n,
                      disabled: c,
                      className: "gap-2",
                      children: [
                        a.jsx(Cp, { className: "h-4 w-4" }),
                        "Aplicar Ru Padro",
                      ],
                    }),
                  a.jsx(Ed, { orientation: "vertical", className: "h-6" }),
                  a.jsxs(L, {
                    variant: "outline",
                    size: "sm",
                    onClick: i,
                    disabled: c,
                    className: "gap-2",
                    children: [
                      a.jsx(mb, { className: "h-4 w-4" }),
                      "Mesclar Duplicados",
                    ],
                  }),
                  a.jsxs(L, {
                    variant: "outline",
                    size: "sm",
                    onClick: s,
                    disabled: c,
                    className: "gap-2 text-destructive hover:text-destructive",
                    children: [a.jsx(fn, { className: "h-4 w-4" }), "Excluir"],
                  }),
                ],
              }),
            ],
          }),
          a.jsxs(L, {
            variant: "outline",
            size: "sm",
            onClick: o,
            className: "gap-2",
            children: [a.jsx(us, { className: "h-4 w-4" }), "Exportar Seleo"],
          }),
        ],
      });
}
const RV = {
  OK: {
    icon: pb,
    label: "OK",
    className: "bg-success text-success-foreground hover:bg-success/90",
  },
  WARNING: {
    icon: dt,
    label: "Ateno",
    className: "bg-warning text-warning-foreground hover:bg-warning/90",
  },
  ERROR: {
    icon: Qe,
    label: "Erro",
    className:
      "bg-destructive text-destructive-foreground hover:bg-destructive/90",
  },
  INFO: {
    icon: ls,
    label: "Info",
    className: "bg-primary text-primary-foreground hover:bg-primary/90",
  },
};
function LV({ severity: e, score: t, className: r = "", size: n = "default" }) {
  const i = RV[e],
    s = i.icon,
    o = n === "sm" ? "text-xs px-2 py-0.5" : "text-sm px-2.5 py-1";
  return a.jsxs(H, {
    className: `
        ${i.className} 
        ${o}
        font-semibold 
        shadow-sm 
        flex items-center gap-1.5
        ${r}
      `,
    children: [
      a.jsx(s, { className: n === "sm" ? "h-3 w-3" : "h-4 w-4" }),
      a.jsx("span", { children: i.label }),
      t !== void 0 &&
        a.jsxs("span", {
          className: "ml-1 opacity-90",
          children: ["(", t, ")"],
        }),
    ],
  });
}
function zV() {
  const { user: e, profile: t } = ft(),
    { toast: r } = la(),
    [n, i] = P.useState(""),
    [s, o] = P.useState([]),
    [c, l] = P.useState(new Set()),
    [u, f] = P.useState(1),
    [d] = P.useState(50),
    [h, m] = P.useState(!1),
    {
      data: v,
      isLoading: p,
      error: x,
      refetch: g,
    } = Mr({
      queryKey: ["admin-testemunhas", t?.organization_id, n, u, d],
      queryFn: async () => {
        if (!t?.organization_id) throw new Error("Organizao no encontrada");
        const { data: $ } = await te.auth.getSession(),
          I = $?.session?.access_token;
        if (!I) throw new Error("Usurio no autenticado");
        const { data: k, error: D } = await te.functions.invoke(
          "mapa-testemunhas-testemunhas",
          {
            body: {
              paginacao: { page: u, limit: d },
              filtros: { search: n.trim() || void 0 },
            },
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${I}`,
            },
          },
        );
        if (D) throw D;
        return k;
      },
      enabled: !!t?.organization_id,
      staleTime: 5 * 60 * 1e3,
    }),
    b = v?.data || [],
    N = v?.total_witnesses || 0,
    _ = v?.total_processos || 0,
    y = async () => {
      if (c.size !== 0)
        try {
          r({
            title: "Funcionalidade em desenvolvimento",
            description: "Aplicar ru padro ser implementado em breve",
          });
        } catch ($) {
          r({
            title: "Erro ao aplicar ru padro",
            description: $ instanceof Error ? $.message : "Erro desconhecido",
            variant: "destructive",
          });
        }
    },
    j = ($) => {
      const I = new Set(c);
      (I.has($) ? I.delete($) : I.add($), l(I));
    },
    w = () => {
      c.size === b?.length
        ? l(new Set())
        : l(new Set(b?.map(($) => $.nome_testemunha)));
    },
    O = n.trim() !== "",
    S = () => {
      (i(""), o([]), f(1));
    },
    E = ({ value: $ }) =>
      $ === null
        ? a.jsx("span", { className: "text-muted-foreground", children: "" })
        : $
          ? a.jsx(Me, { className: "h-4 w-4 text-success" })
          : a.jsx(lu, { className: "h-4 w-4 text-muted-foreground" }),
    C = ($) => {
      switch ($?.toLowerCase()) {
        case "crtico":
          return "destructive";
        case "ateno":
          return "secondary";
        case "observao":
          return "outline";
        default:
          return "secondary";
      }
    },
    T = ($) => {
      switch ($?.toLowerCase()) {
        case "crtico":
          return "ERROR";
        case "ateno":
          return "WARNING";
        case "observao":
          return "INFO";
        default:
          return "OK";
      }
    };
  return x
    ? a.jsxs("div", {
        className: "p-6 text-center",
        children: [
          a.jsxs("p", {
            className: "text-destructive",
            children: ["Erro ao carregar dados: ", x.message],
          }),
          a.jsx(L, {
            variant: "outline",
            onClick: () => g(),
            children: "Tentar novamente",
          }),
        ],
      })
    : a.jsxs("div", {
        className: "p-6 space-y-6",
        children: [
          a.jsx(M, {
            className: "p-6",
            children: a.jsxs("div", {
              className: "flex items-center justify-between",
              children: [
                a.jsxs("div", {
                  children: [
                    a.jsx("h2", {
                      className: "text-2xl font-bold",
                      children: "Gesto de Testemunhas",
                    }),
                    a.jsxs("p", {
                      className: "text-muted-foreground",
                      children: [
                        N,
                        " testemunhas encontradas em ",
                        _,
                        " processos da organizao",
                      ],
                    }),
                  ],
                }),
                a.jsxs("div", {
                  className: "flex gap-2",
                  children: [
                    a.jsx(Iy, { type: "testemunhas", onSuccess: () => g() }),
                    a.jsx(L, {
                      variant: "outline",
                      onClick: () => m(!h),
                      children: h ? "Mostrar Dados" : "Mascarar PII",
                    }),
                  ],
                }),
              ],
            }),
          }),
          a.jsx(IV, {
            searchTerm: n,
            onSearchChange: i,
            selectedSeverity: s,
            onSeverityChange: o,
            onClearFilters: S,
            hasActiveFilters: O,
          }),
          a.jsx(DV, {
            selectedCount: c.size,
            onRevalidate: () => g(),
            onNormalizeCNJ: () => {},
            onFillDefaultReu: y,
            onMergeDuplicates: () => {},
            onDelete: () => {},
            onExport: () => {},
            isLoading: p,
            showTestemunhaActions: !0,
          }),
          a.jsx("div", {
            className: "border border-border/50 rounded-2xl overflow-hidden",
            children: a.jsxs(Ht, {
              children: [
                a.jsx(Xt, {
                  children: a.jsxs(Ne, {
                    className: "bg-muted/30",
                    children: [
                      a.jsx(Z, {
                        className: "w-12",
                        children: a.jsx(Tn, {
                          checked: b?.length > 0 && c.size === b.length,
                          onCheckedChange: w,
                        }),
                      }),
                      a.jsx(Z, {
                        className: "font-semibold",
                        children: "Nome da Testemunha",
                      }),
                      a.jsx(Z, {
                        className: "font-semibold text-center",
                        children: "Qtd Depoimentos",
                      }),
                      a.jsx(Z, {
                        className: "font-semibold text-center",
                        children: "Ambos os Polos",
                      }),
                      a.jsx(Z, {
                        className: "font-semibold text-center",
                        children: "J Foi Reclamante",
                      }),
                      a.jsx(Z, {
                        className: "font-semibold",
                        children: "CNJs como Testemunha",
                      }),
                      a.jsx(Z, {
                        className: "font-semibold",
                        children: "Classificao",
                      }),
                      a.jsx(Z, {
                        className: "font-semibold",
                        children: "Qualidade",
                      }),
                      a.jsx(Z, {
                        className: "font-semibold text-center",
                        children: "Aes",
                      }),
                    ],
                  }),
                }),
                a.jsx(Rt, {
                  children: p
                    ? Array.from({ length: 5 }).map(($, I) =>
                        a.jsx(
                          Ne,
                          {
                            children: a.jsx(X, {
                              colSpan: 9,
                              className: "h-16",
                              children: a.jsx("div", {
                                className:
                                  "animate-pulse bg-muted rounded h-4 w-full",
                              }),
                            }),
                          },
                          I,
                        ),
                      )
                    : b?.length === 0
                      ? a.jsx(Ne, {
                          children: a.jsxs(X, {
                            colSpan: 9,
                            className: "text-center py-8",
                            children: [
                              a.jsx("p", {
                                className: "text-muted-foreground",
                                children: "Nenhuma testemunha encontrada",
                              }),
                              O &&
                                a.jsx(L, {
                                  variant: "link",
                                  onClick: S,
                                  children: "Limpar filtros",
                                }),
                            ],
                          }),
                        })
                      : b?.map(($) =>
                          a.jsxs(
                            Ne,
                            {
                              className: "hover:bg-muted/20",
                              children: [
                                a.jsx(X, {
                                  children: a.jsx(Tn, {
                                    checked: c.has($.nome_testemunha),
                                    onCheckedChange: () => j($.nome_testemunha),
                                  }),
                                }),
                                a.jsx(X, {
                                  className:
                                    "font-medium max-w-[200px] truncate",
                                  children: ss($.nome_testemunha, h),
                                }),
                                a.jsx(X, {
                                  className: "text-center",
                                  children: a.jsx(H, {
                                    variant: "secondary",
                                    className: "text-xs",
                                    children: $.qtd_depoimentos || 0,
                                  }),
                                }),
                                a.jsx(X, {
                                  className: "text-center",
                                  children: a.jsx(E, {
                                    value: $.foi_testemunha_em_ambos_polos,
                                  }),
                                }),
                                a.jsx(X, {
                                  className: "text-center",
                                  children: a.jsx(E, {
                                    value: $.ja_foi_reclamante,
                                  }),
                                }),
                                a.jsx(X, {
                                  children: a.jsx(zc, {
                                    items: $.cnjs_como_testemunha,
                                    maxVisible: 2,
                                    isPiiMasked: h,
                                  }),
                                }),
                                a.jsx(X, {
                                  children: a.jsx(H, {
                                    variant: C($.classificacao_estrategica),
                                    className: "text-xs",
                                    children:
                                      $.classificacao_estrategica || "Normal",
                                  }),
                                }),
                                a.jsx(X, {
                                  children: a.jsx(LV, {
                                    severity: T($.classificacao_estrategica),
                                    score: $.qtd_depoimentos
                                      ? Math.min(100, $.qtd_depoimentos * 20)
                                      : 50,
                                    size: "sm",
                                  }),
                                }),
                                a.jsx(X, {
                                  children: a.jsxs("div", {
                                    className:
                                      "flex items-center justify-center gap-1",
                                    children: [
                                      a.jsx(L, {
                                        variant: "ghost",
                                        size: "sm",
                                        className: "h-8 w-8 p-0",
                                        children: a.jsx(Pt, {
                                          className: "h-4 w-4",
                                        }),
                                      }),
                                      a.jsx(L, {
                                        variant: "ghost",
                                        size: "sm",
                                        className: "h-8 w-8 p-0",
                                        children: a.jsx($p, {
                                          className: "h-4 w-4",
                                        }),
                                      }),
                                      a.jsx(L, {
                                        variant: "ghost",
                                        size: "sm",
                                        className:
                                          "h-8 w-8 p-0 text-destructive hover:text-destructive",
                                        children: a.jsx(fn, {
                                          className: "h-4 w-4",
                                        }),
                                      }),
                                    ],
                                  }),
                                }),
                              ],
                            },
                            $.nome_testemunha,
                          ),
                        ),
                }),
              ],
            }),
          }),
          a.jsxs("div", {
            className: "flex items-center justify-between",
            children: [
              a.jsxs("p", {
                className: "text-sm text-muted-foreground",
                children: [
                  "Mostrando ",
                  b?.length || 0,
                  " de ",
                  N,
                  " testemunhas",
                ],
              }),
              a.jsxs("div", {
                className: "flex items-center gap-2",
                children: [
                  a.jsx(L, {
                    variant: "outline",
                    size: "sm",
                    onClick: () => f(Math.max(1, u - 1)),
                    disabled: u <= 1,
                    children: "Anterior",
                  }),
                  a.jsxs("span", {
                    className: "text-sm",
                    children: ["Pgina ", u, " de ", Math.ceil(N / d)],
                  }),
                  a.jsx(L, {
                    variant: "outline",
                    size: "sm",
                    onClick: () => f(u + 1),
                    disabled: u >= Math.ceil(N / d),
                    children: "Prxima",
                  }),
                ],
              }),
            ],
          }),
        ],
      });
}
const m6 = Object.freeze(
  Object.defineProperty({ __proto__: null, default: zV }, Symbol.toStringTag, {
    value: "Module",
  }),
);
export {
  HV as A,
  f6 as B,
  e6 as C,
  KV as D,
  u6 as F,
  YV as I,
  a6 as K,
  t6 as M,
  ZV as O,
  s6 as P,
  QV as S,
  m6 as T,
  JV as V,
  r6 as a,
  n6 as b,
  i6 as c,
  o6 as d,
  c6 as e,
  l6 as f,
  d6 as g,
  h6 as h,
  XV as i,
};
