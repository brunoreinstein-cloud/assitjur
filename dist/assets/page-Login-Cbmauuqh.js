import{$ as Me,r as c,j as e,a0 as j,a1 as De,a2 as we,a3 as ve,a4 as be,a5 as Ne,a6 as Fe,a7 as Oe,a8 as je,a9 as Pe,aa as Ue,L as Z,ab as $e,y as te,ac as re,t as ae,M as D,v as ye,N as fe,ad as he,ae as Ve,af as ze,x as He,u as Be,ag as qe}from"./vendor-C7obwuys.js";import{s as b,t as We,l as Y,k as O,m as Ee,B as C,C as Ge,b as Je,c as Ke,n as Ye,d as Ze,o as Ae,p as Se,q as Te,r as ne,u as de,v as ke,w as $,e as Qe,x as Xe}from"./page-About-lfGzthLV.js";async function X(t,s="VIEWER",a){try{const{data:r,error:n}=await b.rpc("ensure_user_profile",{user_uuid:t.id,user_email:t.email??"",user_role:s,org_id:a||null});return n?(console.error("Error ensuring profile with RPC:",n),null):r}catch(r){return console.error("ensureProfile error:",r),null}}const es=Me(t=>({expired:!1,redirectUrl:null,showExpired:s=>t({expired:!0,redirectUrl:s??"/login"}),hideExpired:()=>t({expired:!1,redirectUrl:null})}));class ss{isDevelopment=!1;log(s,a,r,n){const u={level:s,message:a,context:r,timestamp:new Date,service:n};if(this.isDevelopment){const d=r?` ${JSON.stringify(r,null,2)}`:"",f=n?`[${n}] `:"";switch(s){case"error":console.error(`‚ùå ${f}${a}${d}`);break;case"warn":console.warn(`‚ö†Ô∏è ${f}${a}${d}`);break;case"info":console.log(`‚ÑπÔ∏è ${f}${a}${d}`);break;case"debug":console.debug(`üîç ${f}${a}${d}`);break}}else console.log(JSON.stringify(u))}info(s,a,r){this.log("info",s,a,r)}warn(s,a,r){this.log("warn",s,a,r)}error(s,a,r){this.log("error",s,a,r)}debug(s,a,r){this.log("debug",s,a,r)}}const se=new ss,_=(t,s,a)=>se.error(t,s,a),ie=(t,s,a)=>se.warn(t,s,a);class k{static AUTH_ERROR_TYPES=["Invalid Refresh Token","refresh_token_not_found","invalid_token","jwt_invalid","token_expired"];static isHandling=!1;static isAuthError(s){if(!s)return!1;const a=s.message||s.error_description||s.error||"";return this.AUTH_ERROR_TYPES.some(r=>a.toLowerCase().includes(r.toLowerCase()))}static async handleAuthError(s,a={}){if(this.isHandling)return;this.isHandling=!0;const{redirectToLogin:r=!0,showNotification:n=!1,preserveCurrentUrl:u=!0}=a;if(ie("Auth error detected",{error:s.message||s,errorCode:s.code,errorDescription:s.error_description,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href},"AuthErrorHandler"),await this.clearAuthData(),n){const i=this.getErrorTitle(s),w=this.getErrorDescription(s);We({title:i,description:w,variant:"destructive"})}const d=u?window.location.pathname:"/",f=r&&d!=="/login"?`?redirect=${encodeURIComponent(d)}`:"";setTimeout(()=>{this.isHandling=!1},2e3),es.getState().showExpired(`/login${f}`)}static getErrorTitle(s){return s.message?.includes("refresh_token")?"Sess√£o Expirada":s.message?.includes("invalid_token")?"Token Inv√°lido":s.message?.includes("network")?"Erro de Conex√£o":"Sess√£o Expirada"}static getErrorDescription(s){return s.message?.includes("refresh_token")?"Sua sess√£o expirou. Fa√ßa login novamente para continuar.":s.message?.includes("invalid_token")?"Token de acesso inv√°lido. Redirecionando para login...":s.message?.includes("network")?"Problema de conex√£o. Verifique sua internet e tente novamente.":"Por favor, fa√ßa login novamente para continuar."}static async clearAuthData(){try{await b.auth.signOut();const s=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&(n.startsWith("supabase.")||n.includes("auth"))&&s.push(n)}s.forEach(r=>localStorage.removeItem(r));const a=[];for(let r=0;r<sessionStorage.length;r++){const n=sessionStorage.key(r);n&&(n.startsWith("supabase.")||n.includes("auth"))&&a.push(n)}a.forEach(r=>sessionStorage.removeItem(r))}catch(s){_("Error clearing auth data",{error:s},"AuthErrorHandler")}}static async tryRecoverSession(){try{const{data:{session:s},error:a}=await b.auth.getSession();if(a){if(this.isAuthError(a))return await this.clearAuthData(),!1;throw a}if(!s)return!1;const{error:r}=await b.auth.refreshSession();if(r){if(this.isAuthError(r))return await this.clearAuthData(),!1;throw r}return!0}catch(s){return _("Session recovery failed",{error:s},"AuthErrorHandler"),this.isAuthError(s)&&await this.clearAuthData(),!1}}}function rs(t={}){const{checkInterval:s=5,preemptiveRefresh:a=10,inactivityTimeout:r=0,enabled:n=!0}=t,u=c.useRef(),d=c.useRef(),f=c.useRef(Date.now()),i=c.useRef(!1),w=async()=>{if(!i.current){i.current=!0;try{const{data:{session:x},error:N}=await b.auth.getSession();if(N){k.isAuthError(N)&&await k.handleAuthError(N);return}if(!x)return;const g=x.expires_at,l=Math.floor(Date.now()/1e3),o=(g??0)-l,q=a*60;if(o<q){console.log("Token expiring soon, refreshing session...");const{error:P}=await b.auth.refreshSession();P&&k.isAuthError(P)&&await k.handleAuthError(P)}}catch(x){console.error("Session monitor error:",x),k.isAuthError(x)&&await k.handleAuthError(x)}finally{i.current=!1}}};return c.useEffect(()=>{if(n)return w(),u.current=setInterval(w,s*60*1e3),()=>{u.current&&clearInterval(u.current)}},[n,s,a]),c.useEffect(()=>{if(!n||!r)return;const x=()=>{f.current=Date.now()},N=["mousemove","keydown","click"];return N.forEach(g=>window.addEventListener(g,x)),d.current=setInterval(()=>{Date.now()-f.current>r*60*1e3&&k.handleAuthError({message:"session_inactive"})},60*1e3),()=>{N.forEach(g=>window.removeEventListener(g,x)),d.current&&clearInterval(d.current)}},[n,r]),{checkSession:w}}function as(){return{userAgent:navigator.userAgent,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,platform:navigator.platform}}const _e=c.createContext(void 0),Ce=()=>{const t=c.useContext(_e);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Es=({children:t})=>{const[s,a]=c.useState(null),[r,n]=c.useState(null),[u,d]=c.useState(null),[f,i]=c.useState(!0),[w,x]=c.useState(!1),{inactivityTimeoutMinutes:N}=Y();rs({enabled:!!u,checkInterval:5,preemptiveRefresh:10,inactivityTimeout:N});const g=async h=>{try{const{data:v,error:m}=await b.rpc("get_super_admin_info",{_user_id:h});return m?(_("Error checking super admin status",{error:m.message||m},"useAuth"),!1):v&&v.length>0&&v[0].is_super_admin===!0}catch(v){return _("Error checking super admin in catch",{error:v},"useAuth"),!1}},l=async h=>{try{const{data:v,error:m}=await b.rpc("get_user_profile_with_roles",{_user_id:h}).maybeSingle();if(m)return _("Error fetching profile",{error:m.message||m},"useAuth"),null;if(v){const y=await g(h);return x(y),{...v,roles:v.roles||[],is_super_admin:y}}return v}catch(v){return _("Error fetching profile in catch",{error:v},"useAuth"),null}},o=async(h,v,m,y)=>{try{const{error:p}=await b.from("audit_logs").insert({email:h,action:v,result:m,table_name:"auth",resource:"authentication",ip_address:null,user_agent:navigator.userAgent,metadata:y||{}});p&&_("Error logging auth attempt",{error:p.message||p},"useAuth")}catch(p){_("Error logging auth attempt in catch",{error:p},"useAuth")}};c.useEffect(()=>{const{data:{subscription:h}}=b.auth.onAuthStateChange(async(m,y)=>{d(y),a(y?.user??null),y?.user?setTimeout(async()=>{try{let p=await l(y.user.id);if(!p&&(p=await X(y.user),!p)){ie("Profile creation failed during auth state change",{},"Authentication"),n(null),i(!1);return}n(p),i(!1)}catch(p){k.isAuthError(p)?await k.handleAuthError(p,{showNotification:!1}):_("Profile fetch error",{error:p},"useAuth"),n(null),i(!1)}},0):(n(null),i(!1))});return(async()=>{try{const{data:{session:m},error:y}=await b.auth.getSession();if(y){if(k.isAuthError(y)){await k.handleAuthError(y,{showNotification:!1});return}throw y}d(m),a(m?.user??null),m?.user?setTimeout(async()=>{try{let p=await l(m.user.id);if(!p&&(p=await X(m.user),!p)){ie("Profile creation failed during session init",{},"Authentication"),n(null),i(!1);return}n(p),i(!1)}catch(p){k.isAuthError(p)?await k.handleAuthError(p,{showNotification:!1}):_("Profile fetch error in session init",{error:p},"useAuth"),n(null),i(!1)}},0):i(!1)}catch(m){_("Session initialization error",{error:m},"useAuth"),i(!1)}})(),()=>h.unsubscribe()},[]);const q=async(h,v,m,y=!0,p)=>{try{i(!0);const{data:R,error:I}=await b.auth.signInWithPassword({email:h,password:v});if(I)return await o(h,"login","failure",{role:m,error:I.message}),I.message.includes("Invalid login credentials")?{error:{message:"E-mail ou senha incorretos."}}:I.message.includes("Email not confirmed")?{error:{message:"E-mail n√£o confirmado. Verifique sua caixa de entrada."}}:{error:I};if(R.user){const{data:z}=await b.auth.refreshSession(),H=z.session??R.session;H&&await b.auth.setSession({access_token:H.access_token,refresh_token:H.refresh_token});const W=as();0>=70;let me;if(p){const{data:Q,error:Le}=await b.from("organizations").select("id").eq("code",p).maybeSingle();if(Le||!Q)return await o(h,"login","failure",{role:m,orgCode:p,error:"Invalid org code"}),{error:{message:"C√≥digo da organiza√ß√£o n√£o encontrado."}};me=Q.id}const G=await X(R.user,m==="ADMIN"?"ADMIN":"ANALYST",me);if(!G)return await o(h,"login","failure",{role:m,error:"Profile creation failed"}),{error:{message:"N√£o foi poss√≠vel criar ou recuperar o perfil de usu√°rio. Tente novamente ou contate o suporte."}};if(!G.is_active)return await o(h,"login","failure",{role:m,error:"Account deactivated"}),{error:{message:"Sua conta est√° desativada. Contate o Administrador."}};if(m==="ADMIN"&&!G.roles?.some(Q=>Q.role===m))return await o(h,"login","failure",{role:m,error:"Insufficient privileges"}),{error:{message:'Sua conta n√£o possui o perfil Administrador. Tente "Entrar como Escrit√≥rio" ou contate o respons√°vel.'}};await o(h,"login","success",{role:m,user_role:G.roles?.[0]?.role||"USER"}),n(G)}return{error:null}}catch(R){const I=R instanceof Error?R.message:"Unknown error";return await o(h,"login","failure",{role:m,error:I}),{error:R}}finally{i(!1)}},P=async(h,v,m,y)=>{try{i(!0);const{siteUrl:p}=Y(),R=`${p}/login?confirm=1`,{data:I,error:z}=await b.auth.signUp({email:h,password:v,options:{emailRedirectTo:R,data:{name:m}}});if(z)return await o(h,"signup","failure",{error:z.message}),z.message.includes("User already registered")?{error:{message:"E-mail j√° cadastrado. Fa√ßa login."}}:{error:z};let H;if(y){const{data:W,error:ue}=await b.from("organizations").select("id").eq("code",y).maybeSingle();if(ue||!W)return await o(h,"signup","failure",{orgCode:y,error:"Invalid org code"}),{error:{message:"C√≥digo da organiza√ß√£o n√£o encontrado."}};H=W.id}if(I.user)try{await X(I.user,"VIEWER",H),await o(h,"signup","success",{})}catch(W){console.error("Profile creation error during signup:",W),await o(h,"signup","partial_success",{message:"User created but profile creation failed"})}else await o(h,"signup","success",{});return{error:null}}catch(p){const R=p instanceof Error?p.message:"Unknown error";return await o(h,"signup","failure",{error:R}),{error:p}}finally{i(!1)}},S=async()=>{try{await b.auth.signOut(),a(null),n(null),d(null),x(!1),sessionStorage.removeItem("mfa_verified")}catch(h){_("Error signing out",{error:h},"useAuth")}},E=async h=>{try{const{siteUrl:v}=Y(),{error:m}=await b.auth.resetPasswordForEmail(h,{redirectTo:`${v}/reset-password`});return{error:m}}catch(v){return{error:v}}},A=h=>!r||!r.organization_id?!1:r.roles?.find(m=>m.org_id===r.organization_id)?.role===h,V=r?.roles?.some(h=>h.org_id===r.organization_id&&h.role==="ADMIN")??!1,Ie={user:s,profile:r,session:u,loading:f,isSuperAdmin:w,signIn:q,signUp:P,signOut:S,resetPassword:E,hasRole:A,isAdmin:V};return e.jsx(_e.Provider,{value:Ie,children:t})},M=c.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:O("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));M.displayName="Input";class U extends Error{category;code;context;userMessage;retryable;cause;constructor(s,a,r){super(s),this.name="AssistJurError",this.category=a,this.code=r?.code,this.context=r?.context,this.userMessage=r?.userMessage,this.retryable=r?.retryable??!1,this.cause=r?.cause}}const J={validation:(t,s)=>new U(t,"validation",{userMessage:"Dados inv√°lidos fornecidos",context:s}),network:(t,s=!0,a)=>new U(t,"network",{userMessage:"Falha de conex√£o. Verifique sua internet.",retryable:s,context:a}),authentication:(t,s)=>new U(t,"authentication",{userMessage:"Sess√£o expirada. Fa√ßa login novamente.",context:s}),authorization:(t,s)=>new U(t,"authorization",{userMessage:"Acesso negado. Verifique suas permiss√µes.",context:s}),business:(t,s,a)=>new U(t,"business",{userMessage:s||"Opera√ß√£o n√£o permitida",context:a}),system:(t,s)=>new U(t,"system",{userMessage:"Erro interno do sistema. Tente novamente em alguns minutos.",context:s})};class B{static handle(s,a){let r;return s instanceof U?r=s:s instanceof Error?s.message?.includes("fetch")?r=J.network(s.message,!0,{originalError:s.message}):s.message?.includes("auth")||s.message?.includes("session")?r=J.authentication(s.message,{originalError:s.message}):r=J.system(s.message,{originalError:s.message}):r=J.system("Erro desconhecido",{originalError:String(s)}),se.error(r.message,{category:r.category,code:r.code,context:r.context,retryable:r.retryable,stack:r.stack},a),r}static handleAndNotify(s,a){const r=this.handle(s,a);return r.userMessage&&j.error(r.userMessage),r}}async function As(t,s,a=!0){try{return await t()}catch(r){throw a?B.handleAndNotify(r,s):B.handle(r,s)}}function ts(t){return t!=null}function ns(t){return ts(t)&&t.trim().length>0}function Ss(t){return ns(t)&&t.length>0}async function Ts(t,s,a){const{retries:r=2,timeout:n=3e4,fallback:u}=a||{};let d;for(let f=1;f<=r+1;f++)try{const i=new AbortController,w=setTimeout(()=>i.abort(),n),x=await Promise.race([t(),new Promise((N,g)=>i.signal.addEventListener("abort",()=>g(J.network("Timeout na requisi√ß√£o",!1))))]);return clearTimeout(w),x}catch(i){if(d=B.handle(i,s),!d.retryable||f===r+1)break;const w=Math.min(1e3*Math.pow(2,f-1),5e3);await new Promise(x=>setTimeout(x,w))}if(u!==void 0)return se.warn(`Usando fallback ap√≥s ${r+1} tentativas`,{service:s,error:d?.message??"Unknown error"},s),u;throw d??new Error("Unknown error")}const is=De,Re=c.forwardRef(({className:t,...s},a)=>e.jsx(we,{ref:a,className:O("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Re.displayName=we.displayName;const oe=c.forwardRef(({className:t,...s},a)=>e.jsx(ve,{ref:a,className:O("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));oe.displayName=ve.displayName;const le=c.forwardRef(({className:t,...s},a)=>e.jsx(be,{ref:a,className:O("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));le.displayName=be.displayName;const ce=c.forwardRef(({className:t,...s},a)=>e.jsx(Ne,{ref:a,className:O("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Fe,{className:O("flex items-center justify-center text-current"),children:e.jsx(Oe,{className:"h-4 w-4"})})}));ce.displayName=Ne.displayName;const os=Ee("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),L=c.forwardRef(({className:t,...s},a)=>e.jsx(je,{ref:a,className:O(os(),t),...s}));L.displayName=je.displayName;function ls({className:t}){const[s,a]=c.useState(!1);c.useEffect(()=>{if(typeof window>"u")return;const n=()=>a(window.scrollY>600);return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{if(typeof window>"u"||typeof document>"u")return;const n=document.getElementById("main-heading");window.scrollTo({top:0,behavior:"smooth"}),n&&setTimeout(()=>n.focus(),500)};return s?e.jsx(C,{size:"icon","aria-label":"Voltar ao topo",className:O("fixed bottom-6 right-6 rounded-full shadow-lg z-50",t),onClick:r,children:e.jsx(Pe,{className:"h-5 w-5"})}):null}const ge=({title:t,description:s,children:a})=>e.jsxs(Ge,{className:"w-full max-w-md shadow-premium rounded-2xl",children:[e.jsxs(Je,{className:"text-center space-y-4 pb-6",children:[e.jsx("div",{className:"mx-auto p-4 bg-gradient-primary rounded-2xl w-fit shadow-md",children:e.jsx(Ue,{className:"h-8 w-8 text-primary-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{className:"text-2xl font-bold text-foreground",children:t}),s&&e.jsx(Ye,{className:"text-muted-foreground",children:s})]})]}),e.jsx(Ze,{className:"pt-0",children:a})]}),F={DEFAULT_REDIRECTS:{ADMIN:"/app/dashboard",ANALYST:"/app/dashboard",VIEWER:"/app/dashboard",DEFAULT:"/app/dashboard"},FEATURES:{MAGIC_LINK_ENABLED:!0,GOOGLE_OAUTH_ENABLED:!0,MICROSOFT_OAUTH_ENABLED:!1},OAUTH_PROVIDERS:[{id:"google",name:"Google",enabled:!0,icon:"google"}],ALLOWED_REDIRECT_PATHS:["/app/dashboard","/app/dados/mapa","/app/admin/dashboard","/app/admin","/app/mapa-testemunhas","/app/import","/app/profile","/app/settings"]};function cs(t,s){if(s)try{const a=new URL(s,"https://dummy"),r=decodeURIComponent(a.pathname);if(a.origin==="https://dummy"&&F.ALLOWED_REDIRECT_PATHS.includes(r))return decodeURIComponent(s)}catch{}return t&&t in F.DEFAULT_REDIRECTS?F.DEFAULT_REDIRECTS[t]:F.DEFAULT_REDIRECTS.DEFAULT}const ds=({disabled:t,next:s})=>{const[a,r]=c.useState(null),[n,u]=c.useState({}),d=async(i,w=!1)=>{w||r(i);try{if(F.FEATURES.GOOGLE_OAUTH_ENABLED,!b){j.error("OAuth n√£o configurado",{description:"Login com provedores externos n√£o est√° dispon√≠vel no momento."});return}const{siteUrl:x}=Y(),N=s?`${x}${s}`:`${x}/dados/mapa`,{error:g}=await b.auth.signInWithOAuth({provider:i,options:{redirectTo:N}});if(g)throw g;j.success("Redirecionando...",{description:`Conectando com ${i==="google"?"Google":i}`,duration:2e3})}catch(x){console.error(`${i} OAuth error:`,x);const N=x instanceof Error?x.message:"";if(N?.includes("network")||N?.includes("fetch")){const g=n[i]||0;g<2?(u(l=>({...l,[i]:g+1})),j.info("Tentando novamente...",{description:`Erro de conex√£o. Tentativa ${g+2}/3`}),setTimeout(()=>{d(i,!0)},1500)):j.error("Erro de conex√£o",{description:"Verifique sua conex√£o com a internet e tente novamente."});return}N?.includes("Provider")||N?.includes("client_id")?j.error("Configura√ß√£o OAuth",{description:"Google OAuth n√£o est√° configurado corretamente. Entre em contato com o suporte."}):b?j.error("Erro no login",{description:"N√£o foi poss√≠vel fazer login com Google. Tente novamente."}):j.info("Demo Mode",{description:`OAuth ${i} simulado. Use o usu√°rio demo para testar.`})}finally{r(null)}};return F.OAUTH_PROVIDERS.filter(i=>i.enabled).length===0?null:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-border"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continue com"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx(C,{variant:"outline",onClick:()=>d("google"),disabled:t||a!==null,className:"w-full transition-all duration-200 hover:shadow-md","aria-label":"Acessar √°rea segura com Google",children:a==="google"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Conectando..."})]}):n.google>0?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Tentando novamente..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"ml-2",children:"Continuar com Google"})]})}),F.FEATURES.MICROSOFT_OAUTH_ENABLED]})]})},ee=12;function K({message:t,onRetry:s}){return e.jsxs(Ae,{variant:"destructive",role:"alert","aria-live":"polite",className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(Se,{children:"Erro"}),e.jsx(Te,{children:t})]}),s&&e.jsx(C,{variant:"outline",onClick:s,className:"ml-4","aria-label":"Tentar novamente",children:"Tentar novamente"})]})}function us(t){const{loading:s,error:a}=t,[r,n]=c.useState(typeof navigator<"u"?!navigator.onLine:!1);return c.useEffect(()=>{if(typeof window>"u")return;const u=()=>n(!1),d=()=>n(!0);return window.addEventListener("online",u),window.addEventListener("offline",d),()=>{window.removeEventListener("online",u),window.removeEventListener("offline",d)}},[]),r?"offline":s?"loading":a?"error":"empty"}const T={INVALID_EMAIL:"E-mail inv√°lido.",INCORRECT_PASSWORD:"Senha incorreta.",CNJ_FAILURE:"Falha ao buscar dados do CNJ.",NOT_FOUND:"Item n√£o encontrado.",NETWORK:"Falha de conex√£o. Verifique sua internet.",RATE_LIMIT:"Muitas tentativas. Tente novamente mais tarde."},ms=de({email:$().email(T.INVALID_EMAIL),password:$().min(ee,`M√≠nimo de ${ee} caracteres`),rememberMe:ke().optional()}),fs=de({name:$().min(2,"Nome deve ter pelo menos 2 caracteres").optional(),email:$().email(T.INVALID_EMAIL),password:$().min(ee,`M√≠nimo de ${ee} caracteres`),confirmPassword:$(),acceptTerms:ke().refine(t=>t,"Voc√™ deve aceitar os termos")}).refine(t=>t.password===t.confirmPassword,{message:"Senhas n√£o conferem",path:["confirmPassword"]}),pe=({mode:t,onModeChange:s})=>{const[a,r]=c.useState(!1),[n,u]=c.useState(!1),[d,f]=c.useState(!1),[i,w]=c.useState(null),{signIn:x,signUp:N}=Ce(),g=us({loading:d,error:i}),l=te({resolver:ne(ms),mode:"onChange",reValidateMode:"onChange",defaultValues:{email:"",password:"",rememberMe:!1}}),o=te({resolver:ne(fs),defaultValues:{name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}}),q=async S=>{f(!0),w(null);try{const{error:E}=await x(S.email,S.password,"OFFICE",S.rememberMe);if(E){if(E?.status===429){const A=T.RATE_LIMIT;w(A),j.error("Muitas tentativas",{description:A});return}if(E.message?.toLowerCase().includes("invalid login credentials")){const A=T.INCORRECT_PASSWORD;l.setError("password",{type:"manual",message:A}),w(A);return}w(E.message||T.NOT_FOUND);return}j.success("Login realizado!",{description:"Bem-vindo ao AssistJur.IA"})}catch(E){const V=B.handleAndNotify(E,"EmailPasswordForm.handleSignIn").userMessage||T.NOT_FOUND;w(V)}finally{f(!1)}},P=async S=>{f(!0),w(null);try{const{error:E}=await N(S.email,S.password,S.name);if(E){if(E?.status===429){const V=T.RATE_LIMIT;w(V),j.error("Muitas tentativas",{description:V});return}const A=E.message||T.NOT_FOUND;w(A),j.error("Erro no cadastro",{description:A});return}j.success("Conta criada!",{description:"Verifique seu e-mail para confirmar o cadastro."}),s("signin")}catch(E){const A=E?.message||T.NOT_FOUND;w(A),j.error("Erro no cadastro",{description:A})}finally{f(!1)}};return t==="signup"?e.jsxs("form",{onSubmit:o.handleSubmit(P),className:"space-y-4",children:[g==="offline"&&e.jsx(K,{message:T.NETWORK,onRetry:()=>window.location.reload()}),g==="error"&&i&&e.jsx(K,{message:i,onRetry:()=>w(null)}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"name",children:"Nome (opcional)"}),e.jsx(M,{id:"name",placeholder:"Seu nome completo",...o.register("name"),className:o.formState.errors.name?"border-destructive":""}),o.formState.errors.name&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"email",children:"E-mail"}),e.jsx(M,{id:"email",type:"email",placeholder:"seu@email.com",...o.register("email"),className:o.formState.errors.email?"border-destructive":""}),o.formState.errors.email&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"password",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{id:"password",type:a?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢","aria-invalid":!!o.formState.errors.password,"aria-describedby":"signup-password-error",...o.register("password"),className:o.formState.errors.password?"border-destructive pr-10":"pr-10"}),e.jsx(C,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>r(!a),"aria-label":a?"Ocultar senha":"Mostrar senha","aria-pressed":a,children:a?e.jsx(re,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"}):e.jsx(ae,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"})})]}),o.formState.errors.password&&e.jsx("p",{id:"signup-password-error",className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{id:"confirmPassword",type:n?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢","aria-invalid":!!o.formState.errors.confirmPassword,"aria-describedby":"signup-confirm-password-error",...o.register("confirmPassword"),className:o.formState.errors.confirmPassword?"border-destructive pr-10":"pr-10"}),e.jsx(C,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>u(!n),"aria-label":n?"Ocultar senha":"Mostrar senha","aria-pressed":n,children:n?e.jsx(re,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"}):e.jsx(ae,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"})})]}),o.formState.errors.confirmPassword&&e.jsx("p",{id:"signup-confirm-password-error",className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.confirmPassword.message})]}),e.jsxs("div",{className:"flex items-start space-x-3 pt-2",children:[e.jsx(ce,{id:"acceptTerms",checked:o.watch("acceptTerms"),onCheckedChange:S=>o.setValue("acceptTerms",!!S),className:o.formState.errors.acceptTerms?"border-destructive":""}),e.jsxs(L,{htmlFor:"acceptTerms",className:"text-sm leading-relaxed cursor-pointer",children:["Li e aceito os"," ",e.jsx(D,{to:"/termos",className:"text-primary hover:underline",children:"Termos de Uso"})," ","e a"," ",e.jsx(D,{to:"/privacidade",className:"text-primary hover:underline",children:"Pol√≠tica de Privacidade"})]})]}),o.formState.errors.acceptTerms&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.acceptTerms.message}),e.jsx(C,{type:"submit",className:"w-full",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 animate-spin mr-2"}),"Criando conta..."]}):"Criar conta"}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"J√° tem uma conta? "}),e.jsx("button",{type:"button",onClick:()=>s("signin"),className:"text-primary hover:underline font-medium",children:"Acessar √°rea segura"})]})]}):e.jsxs("form",{onSubmit:l.handleSubmit(q),className:"space-y-4",children:[g==="offline"&&e.jsx(K,{message:T.NETWORK,onRetry:()=>window.location.reload()}),g==="error"&&i&&e.jsx(K,{message:i,onRetry:()=>w(null)}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"email",children:"E-mail"}),e.jsx(M,{id:"email",type:"email",placeholder:"seu@email.com",...l.register("email"),className:l.formState.errors.email?"border-destructive":""}),l.formState.errors.email&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:l.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"password",children:"Senha"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(M,{id:"password",type:a?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢","aria-invalid":!!l.formState.errors.password,"aria-describedby":l.formState.errors.password?"password-help":void 0,...l.register("password"),className:l.formState.errors.password?"border-destructive pr-10":"pr-10"}),e.jsx(C,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>r(!a),"aria-label":a?"Ocultar senha":"Mostrar senha","aria-pressed":a,children:a?e.jsx(re,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"}):e.jsx(ae,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"})})]}),l.formState.errors.password&&e.jsx("span",{id:"password-help",role:"alert",className:"text-sm text-destructive whitespace-nowrap",children:l.formState.errors.password.message})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{id:"rememberMe",checked:l.watch("rememberMe"),onCheckedChange:S=>l.setValue("rememberMe",!!S)}),e.jsx(L,{htmlFor:"rememberMe",className:"text-sm cursor-pointer",children:"Lembrar de mim"})]}),e.jsx(D,{to:"/reset",className:"text-sm text-primary hover:underline",children:"Esqueci minha senha"})]}),e.jsx(C,{type:"submit",className:"w-full",disabled:d||!l.formState.isValid,children:d?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 animate-spin mr-2"}),"Acessando..."]}):"Acessar √°rea segura"}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"N√£o tem uma conta? "}),e.jsx("button",{type:"button",onClick:()=>s("signup"),className:"text-primary hover:underline font-medium",children:"Criar conta"})]})]})},hs=de({email:$().email("Formato de email inv√°lido")}),gs=({onBack:t})=>{const[s,a]=c.useState(!1),[r,n]=c.useState(!1),[u,d]=c.useState(null),f=te({resolver:ne(hs),mode:"onChange",reValidateMode:"onChange",defaultValues:{email:""}}),i=c.useCallback(async x=>{const N=Date.now();if(u&&N-u<6e4){j.error("Aguarde um momento",{description:"Aguarde pelo menos 1 minuto entre tentativas."});return}a(!0),d(N);try{if(!b){j.success("Link enviado!",{description:"Verifique seu e-mail (modo demo - use o login normal)"}),n(!0);return}const{siteUrl:g}=Y(),{error:l}=await b.auth.signInWithOtp({email:x.email,options:{emailRedirectTo:`${g}/`}});if(l){const o=B.handle(l,"MagicLinkForm.signInWithOtp");l.message.includes("rate")||l.message.includes("limit")||l?.status===429?j.error("Limite de tentativas atingido",{description:"Muitas tentativas de login. Tente novamente em alguns minutos."}):l.message.includes("email")?j.error("Email inv√°lido",{description:"Verifique se o email foi digitado corretamente."}):j.error("Erro ao enviar link",{description:o.userMessage||"N√£o foi poss√≠vel enviar o link de acesso. Tente novamente."});return}j.success("Link de acesso enviado!",{description:"Verifique sua caixa de entrada e clique no link para entrar."}),n(!0)}catch(g){B.handleAndNotify(g,"MagicLinkForm.handleSendMagicLink"),g&&typeof g=="object"&&"status"in g&&g.status===429&&j.error("Muitas tentativas",{description:"Tente novamente mais tarde."})}finally{a(!1)}},[u]),w=()=>{n(!1),f.handleSubmit(i)()};return r?e.jsxs("div",{className:"text-center space-y-6",role:"alert","aria-live":"polite",children:[e.jsx("div",{className:"mx-auto p-3 bg-success/10 rounded-full w-fit",children:e.jsx(ye,{className:"h-8 w-8 text-success"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Link enviado!"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifique sua caixa de entrada e clique no link para fazer login automaticamente."}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enviado para: ",e.jsx("strong",{children:f.getValues("email")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(C,{variant:"outline",onClick:w,className:"w-full",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 animate-spin mr-2"}),"Reenviando..."]}):"Reenviar link"}),e.jsxs(C,{variant:"ghost",onClick:t,className:"w-full",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Voltar ao login"]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"mx-auto p-3 bg-primary/10 rounded-full w-fit",children:e.jsx(he,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Acessar √°rea segura com link"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enviaremos um link de acesso seguro para o seu e-mail"})]}),e.jsxs("form",{onSubmit:f.handleSubmit(i),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"email",children:"E-mail"}),e.jsx(M,{id:"email",type:"email",placeholder:"seu@email.com",...f.register("email"),className:f.formState.errors.email?"border-destructive":"",autoFocus:!0}),f.formState.errors.email&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:f.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(C,{type:"submit",className:"w-full",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 animate-spin mr-2"}),"Enviando link..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Enviar link de acesso"]})}),e.jsxs(C,{type:"button",variant:"ghost",onClick:t,className:"w-full",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Voltar ao login"]})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"O link de acesso expira em 1 hora e s√≥ pode ser usado uma vez."})]})},ps=Ee("border-l-4",{variants:{variant:{info:"border-l-blue-500 bg-blue-50 dark:bg-blue-950/30",success:"border-l-green-500 bg-green-50 dark:bg-green-950/30",warning:"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950/30",error:"border-l-red-500 bg-red-50 dark:bg-red-950/30"}}}),xs=({variant:t,title:s,children:a,className:r})=>{const n=()=>{switch(t){case"info":return e.jsx(He,{className:"h-4 w-4"});case"success":return e.jsx(ye,{className:"h-4 w-4"});case"warning":return e.jsx(ze,{className:"h-4 w-4"});case"error":return e.jsx(Ve,{className:"h-4 w-4"})}},u=()=>{switch(t){case"info":return"text-blue-700 dark:text-blue-300";case"success":return"text-green-700 dark:text-green-300";case"warning":return"text-yellow-700 dark:text-yellow-300";case"error":return"text-red-700 dark:text-red-300"}};return e.jsxs(Ae,{className:`${ps({variant:t})} ${r}`,role:"alert","aria-live":"polite",children:[e.jsx("div",{className:u(),children:n()}),s&&e.jsx(Se,{className:u(),children:s}),e.jsx(Te,{className:u(),children:a})]})};function xe({size:t="md",showVersion:s=!1,version:a,className:r=""}){const u={sm:{container:"flex items-center gap-2",logo:"h-6 w-6",title:"text-lg font-semibold",version:"text-xs"},md:{container:"flex items-center gap-3",logo:"h-8 w-8",title:"text-xl font-bold",version:"text-sm"},lg:{container:"flex items-center gap-4",logo:"h-10 w-10",title:"text-2xl font-bold",version:"text-base"}}[t];return e.jsxs("div",{className:`${u.container} ${r}`,children:[e.jsx(Qe,{size:t,className:u.logo}),e.jsxs("div",{children:[e.jsx("h1",{className:`${u.title} text-brand-ink`,children:Xe.name}),s&&a&&e.jsxs("span",{className:`${u.version} text-muted-foreground font-mono`,children:["v",a]})]})]})}const ws="https://placehold.co/1600x900/000000/FFFFFF.avif?text=AssistJur",vs="https://placehold.co/1600x900/000000/FFFFFF.webp?text=AssistJur",bs="https://placehold.co/1600x900/000000/FFFFFF.jpg?text=AssistJur",Ns=()=>{const t=Be(),[s]=qe(),{user:a,profile:r}=Ce(),[n,u]=c.useState("signin"),[d,f]=c.useState(!1);c.useEffect(()=>{if(window.location.hash.includes("access_token")){const l=window.location.pathname+window.location.search;window.history.replaceState(null,"",l)}},[]);const i=s.get("next"),w=s.get("confirm"),x=s.get("error");c.useEffect(()=>{if(a&&r)if(r.two_factor_enabled&&sessionStorage.getItem("mfa_verified")!=="true"){const l=new URLSearchParams;l.set("email",a.email??""),i&&l.set("next",i),t(`/verify-otp?${l.toString()}`)}else{const l=cs(r.roles?.[0]?.role||null,i);t(l)}},[a,r,t,i]);const N=()=>{f(!d)},g=l=>{u(l),f(!1)};return e.jsxs("div",{className:"min-h-screen bg-gradient-subtle lg:grid lg:grid-cols-2",children:[e.jsxs("div",{className:"sr-only",children:[e.jsx("h1",{id:"main-heading",tabIndex:-1,children:"Login - AssistJur.IA"}),e.jsx("p",{children:"Acesse sua conta do AssistJur.IA para an√°lise avan√ßada de testemunhas com conformidade LGPD"})]}),e.jsx("div",{className:"flex flex-col justify-center px-6 py-12 lg:px-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-md",children:[e.jsx("nav",{"aria-label":"breadcrumb",className:"mb-4 text-sm",children:e.jsxs("ol",{className:"flex items-center text-muted-foreground",children:[e.jsx("li",{children:e.jsx(D,{to:"/",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm",children:"AssistJur IA"})}),e.jsx("li",{"aria-hidden":"true",className:"mx-2",children:"‚Ä∫"}),e.jsx("li",{children:e.jsx(D,{to:"/login","aria-current":"page",className:"focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm",children:"Login"})})]})}),e.jsx("div",{className:"flex items-center justify-center mb-8 lg:hidden",children:e.jsx(xe,{size:"lg",className:"gap-3"})}),x&&e.jsx("div",{className:"mb-6",children:e.jsx(K,{message:x==="access_denied"?T.INCORRECT_PASSWORD:T.NOT_FOUND,onRetry:()=>window.location.reload()})}),w==="1"&&e.jsx("div",{className:"mb-6",children:e.jsx(xs,{variant:"info",title:"Confirme seu cadastro",children:"Verifique seu e-mail e clique no link de confirma√ß√£o para ativar sua conta."})}),d&&F.FEATURES.MAGIC_LINK_ENABLED?e.jsx(ge,{title:"Acessar √°rea segura com link",description:"Acesso seguro sem senha",children:e.jsx(gs,{onBack:()=>f(!1)})}):e.jsx(ge,{title:n==="signin"?"Acesse sua conta":"Comece gratuitamente",description:"Acesso seguro e conformidade LGPD",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(ds,{next:i}),e.jsxs(is,{value:n,onValueChange:l=>u(l),className:"w-full",children:[e.jsxs(Re,{className:"grid w-full grid-cols-2",role:"tablist",children:[e.jsx(oe,{value:"signin",role:"tab","aria-selected":n==="signin","aria-controls":"signin-panel",children:"Acessar √°rea segura"}),e.jsx(oe,{value:"signup",role:"tab","aria-selected":n==="signup","aria-controls":"signup-panel",children:"Criar conta"})]}),e.jsxs(le,{value:"signin",className:"mt-6",role:"tabpanel",id:"signin-panel","aria-labelledby":"signin-tab",children:[e.jsx(pe,{mode:"signin",onModeChange:g}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{type:"button",onClick:N,className:"text-sm text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1 py-0.5","aria-label":"Alternar para acesso com link de e-mail",children:"Acessar √°rea segura com link de e-mail"})})]}),e.jsx(le,{value:"signup",className:"mt-6",role:"tabpanel",id:"signup-panel","aria-labelledby":"signup-tab",children:e.jsx(pe,{mode:"signup",onModeChange:g})})]})]})}),e.jsx("footer",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dados tratados conforme"," ",e.jsx(D,{to:"/lgpd",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1",children:"LGPD"})," ‚Ä¢ ",e.jsx(D,{to:"/privacidade",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1",children:"Pol√≠tica de Privacidade"})," ‚Ä¢ ",e.jsx(D,{to:"/termos",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1",children:"Termos"})]})})]})}),e.jsx(ls,{className:"bottom-24"}),e.jsx("aside",{className:"hidden lg:block relative",role:"complementary",children:e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`linear-gradient(135deg, hsl(var(--primary) / 0.9), hsl(var(--primary-light) / 0.8)), image-set(url(${ws}) type('image/avif'), url(${vs}) type('image/webp'), url(${bs}) type('image/jpeg'))`},role:"img","aria-label":"Imagem de fundo mostrando tecnologia jur√≠dica",children:e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center p-12 text-primary-foreground",children:[e.jsx(xe,{size:"lg",className:"mb-12 gap-3"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-4xl font-bold leading-tight",children:"An√°lise avan√ßada de testemunhas com LGPD by design"}),e.jsx("p",{className:"text-xl opacity-90 leading-relaxed",children:"Detecte padr√µes suspeitos, triangula√ß√µes e provas emprestadas com total conformidade √†s normas de prote√ß√£o de dados."}),e.jsxs("ul",{className:"space-y-3 pt-8",role:"list",children:[e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","aria-hidden":"true"}),e.jsx("span",{children:"Mascaramento autom√°tico de PII"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","aria-hidden":"true"}),e.jsx("span",{children:"Trilha de auditoria completa"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","aria-hidden":"true"}),e.jsx("span",{children:"Criptografia end-to-end"})]})]})]})]})})})]})},ks=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"}));export{ge as A,ls as B,ce as C,T as E,M as I,L,ee as M,is as T,Re as a,oe as b,le as c,_ as d,xe as e,xs as f,B as g,J as h,Ss as i,Ts as j,es as k,se as l,Es as m,ks as n,Ce as u,As as w};
