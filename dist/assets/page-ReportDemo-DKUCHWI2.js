import{r as m,bT as At,c as L,a0 as de,j as e,c4 as Tt,S as oe,bI as ge,U as ee,h as De,c5 as It,F as he,bs as zt,c6 as Rt,bW as Et,c7 as Lt,bM as q,c8 as Wt,c9 as Ft,u as Qe,ca as qt,bO as Je,cb as je,by as Ke,cc as Yt,bY as Bt,cd as Re,ce as Vt,bi as Ze,ap as et,x as Ht,af as te,bm as $t,v as tt,a7 as at,L as Gt,cf as ye,C as Xt,bu as X,bG as Ut,cg as Qt,aA as Jt,ch as Kt,ci as st,cj as Zt,bw as ea,i as nt,B as rt,O as ta,e as le,k as ke,aa,Z as Ee,d as sa,D as Le,ck as na,cl as ra}from"./vendor-cb6Vd3Sa.js";import{N as pe,O as ia,P as oa,s as F,k as y,B as _,m as ca,D as Te,e as da,a as T,b as I,c as z,C as R,d as E,x as Z}from"./page-About-BgklZ4WV.js";import{d as $,u as ve,I as V,e as la,L as O,C as Ne}from"./page-Login-DHksUS7l.js";import{T as ua}from"./page-PortalTitular-BKgS7Gsz.js";import{T as we,q as ma,r as ha,s as Y,t as se,u as ne,v as re,C as fa,w as ga,x as pa,y as xa,z as ba,B as va,E as it,F as ot,G as ct,H as ae,I as Pe,J as dt,K as wa,L as ja,M as ya,N as Na,O as _a,P as Sa,Q as Ca,R as Ma,U as Oa,V as Da,e as _e,S as ka,a as Pa,b as Aa,c as Ta,d as Se}from"./page-MapaPage-CuoDGtm9.js";import{S as We,A as Ia,a as za}from"./page-Profile-u717liB7.js";import{P as Ra,a as Ea,b as La}from"./page-DemoMapaTestemunhas-Bp8gukOR.js";const Wa={type:"tween",duration:.2,ease:"easeInOut"};function Ie(t){if(typeof window>"u")return!1;const a=pe();switch(t){case"essential":return!0;case"analytics":return a.measure===!0;case"marketing":return a.marketing===!0;default:return!1}}function Fa(t){if(!Ie("analytics")){t?.opt_out_capturing?.();return}t?.opt_in_capturing?.()}function qa(t,a){if(!Ie("analytics")||typeof window>"u")return;const s=a?Object.fromEntries(Object.entries(a).filter(([n])=>!["email","name","phone","cpf","cnpj"].includes(n.toLowerCase()))):{};fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:t,data:s,timestamp:new Date().toISOString()})}).catch(()=>{})}function Ya(){typeof window>"u"||ia(t=>{const a=window.posthog;a&&(t.measure?a.opt_in_capturing():a.opt_out_capturing());const s=window.gtag;s&&s("consent","update",{analytics_storage:t.measure?"granted":"denied",ad_storage:t.marketing?"granted":"denied",ad_user_data:t.marketing?"granted":"denied",ad_personalization:t.marketing?"granted":"denied"});const n=window.fbq;n&&(t.marketing?n("consent","grant"):n("consent","revoke"));const r=window.hj;r&&(t.measure?r("stateChange","consent_granted"):r("stateChange","consent_revoked"));const i=window.Intercom;i&&(t.measure?i("show"):i("hide"))})}function Er(){if(typeof window>"u")return;Ya();const t=pe(),a=window.posthog;a&&Fa(a),t.measure&&qa("page_view",{url:window.location.href,referrer:document.referrer})}function lt(t){typeof window>"u"||(Va(t),Ie("analytics")&&$a(t),Ga(t))}function Ba(){lt({event:"consent_banner_shown",category:"essential",timestamp:new Date().toISOString(),userAgent:navigator.userAgent,sessionId:ut()})}function Fe(t,a,s){lt({event:s?"consent_granted":"consent_revoked",category:t,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,sessionId:ut(),previousConsent:a,newConsent:s})}function Va(t){try{const a=Ha();a.push(t),a.length>100&&a.splice(0,a.length-100),localStorage.setItem("assistjur_consent_events",JSON.stringify(a))}catch{}}function Ha(){try{const t=localStorage.getItem("assistjur_consent_events");return t?JSON.parse(t):[]}catch{return[]}}function $a(t){window.gtag&&window.gtag("event","consent_event",{event_type:t.event,category:t.category,timestamp:t.timestamp}),fetch("/api/consent-events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).catch(()=>{})}function Ga(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent_analytics",consent_event:t})}function ut(){try{let t=sessionStorage.getItem("assistjur_session_id");return t||(t=Math.random().toString(36).substring(2,15),sessionStorage.setItem("assistjur_session_id",t)),t}catch{return"unknown"}}var Xa={};const mt=m.createContext(void 0);function Lr({children:t}){const a=typeof window>"u",[s,n]=m.useState(null),[r,i]=m.useState(!1);m.useEffect(()=>{if(!a)try{const o=pe();o.measure!==void 0||o.marketing!==void 0?n({analytics:o.measure??!1,ads:o.marketing??!1}):(i(!0),Ba())}catch(o){console.error("Error loading consent preferences:",o),n({analytics:!1,ads:!1})}},[a]);const c=o=>{if(!a)try{const d=pe();d.measure!==o.analytics&&Fe("analytics",d.measure??!1,o.analytics),d.marketing!==o.ads&&Fe("marketing",d.marketing??!1,o.ads),oa({measure:o.analytics,marketing:o.ads}),n(o)}catch(d){console.error("Error saving consent preferences:",d),n(o)}};return m.createElement(mt.Provider,{value:{preferences:s,open:r,setOpen:i,save:c}},t)}const Ce={preferences:null,open:!1,setOpen:()=>{},save:()=>{}};function Ua(){const t=m.useContext(mt);return typeof window>"u"||typeof process<"u"&&Xa?.PRERENDER==="1"||!t?Ce:t}let ue=null;const Qa=6e4;async function qe(){const t=Date.now();if(ue&&t-ue.timestamp<Qa)return ue.id;const{data:a,error:s}=await F.auth.getUser();if(s||!a.user)throw new Error("User not authenticated");return ue={id:a.user.id,timestamp:t},a.user.id}class Ja{async getUserOrganizations(){try{const a=await qe(),{data:s,error:n}=await F.from("members").select(`
          role,
          org_id,
          organizations!inner (
            id,
            name,
            code,
            is_active,
            domain,
            created_at,
            updated_at
          )
        `).eq("user_id",a).eq("status","active").eq("organizations.is_active",!0);if(n)throw $("Error fetching user organizations",{error:n},"OrganizationService"),n;return(s||[]).flatMap(r=>{const i=Array.isArray(r.organizations)?r.organizations[0]:r.organizations;return i?[{id:i.id,name:i.name,code:i.code,role:r.role,is_active:i.is_active,domain:i.domain??void 0,created_at:i.created_at,updated_at:i.updated_at}]:[]})}catch(a){throw $("Failed to get user organizations",{error:a},"OrganizationService"),a}}async getUserRoleInOrg(a){try{const s=await qe(),{data:n,error:r}=await F.from("members").select("role").eq("user_id",s).eq("org_id",a).eq("status","active").single();return r||!n?null:n.role}catch(s){return $("Failed to get user role in org",{error:s,orgId:a},"OrganizationService"),null}}async getCurrentOrgData(a){try{const{data:s,error:n}=await F.from("organizations").select("*").eq("id",a).eq("is_active",!0).single();if(n||!s)return null;const r=await this.getUserRoleInOrg(a);return r?{id:s.id,name:s.name,code:s.code,role:r,is_active:s.is_active,domain:s.domain,created_at:s.created_at,updated_at:s.updated_at}:null}catch(s){return $("Failed to get current org data",{error:s,orgId:a},"OrganizationService"),null}}async hasAdminAccess(a){return await this.getUserRoleInOrg(a)==="ADMIN"}async getOrganizationStats(a){try{if(!await this.hasAdminAccess(a))throw new Error("Access denied");const[n,r,i]=await Promise.all([F.from("processos").select("id",{count:"exact",head:!0}).eq("org_id",a),F.from("pessoas").select("id",{count:"exact",head:!0}).eq("org_id",a),F.from("members").select("id",{count:"exact"}).eq("org_id",a).eq("status","active")]);return{totalProcessos:n.count||0,totalPessoas:r.count||0,activeUsers:i.count||0}}catch(s){return $("Failed to get organization stats",{error:s,orgId:a},"OrganizationService"),null}}}const Ka=new Ja,ht=m.createContext(void 0),Za=()=>{const t=m.useContext(ht);if(!t)throw new Error("useMultiTenant must be used within MultiTenantProvider");return t},Wr=({children:t})=>{const{profile:a,loading:s,user:n}=ve(),r=At(),[i,c]=m.useState([]),[o,d]=m.useState(null),[p,h]=m.useState(!0),[u,g]=m.useState(0),[v,j]=m.useState(!1),x=L.useRef(!1);m.useEffect(()=>{if(!v){if(s){g(10);return}if(!n){g(0),h(!1),j(!0);return}if(g(30),!a){g(50);return}x.current||(g(60),k())}},[a,s,n,v]);const k=L.useCallback(async()=>{if(!(x.current||v)){x.current=!0;try{h(!0),g(70);const l=r.getQueryData(["organizations",a?.organization_id]);l&&(c(l),g(90));const f=await Ka.getUserOrganizations();c(f),g(90),r.setQueryData(["organizations",a?.organization_id],f);const M=localStorage.getItem("current_org_id");let D=null;M&&(D=f.find(K=>K.id===M)||null),!D&&a?.organization_id&&(D=f.find(K=>K.id===a.organization_id)||null),!D&&f.length>0&&(D=f[0]),d(D),D&&localStorage.setItem("current_org_id",D.id),g(100),j(!0)}catch(l){$("Failed to load organizations",{error:l},"MultiTenantContext");const f=r.getQueryData(["organizations",a?.organization_id]);f&&f.length>0?(c(f),d(f[0]),de.warning("Usando dados em cache. Algumas funcionalidades podem estar limitadas.")):de.error("Erro ao carregar organizações"),j(!0)}finally{x.current=!1,h(!1),g(100)}}},[v,a?.organization_id,r]),N=L.useCallback(async l=>{try{const f=i.find(M=>M.id===l);if(!f)throw new Error("Organização não encontrada");d(f),localStorage.setItem("current_org_id",l),r.invalidateQueries({queryKey:["processos",l]}),r.invalidateQueries({queryKey:["pessoas",l]}),de.success(`Alternado para ${f.name}`)}catch(f){$("Failed to switch organization",{error:f,orgId:l},"MultiTenantContext"),de.error("Erro ao trocar organização")}},[i,r]),C=L.useCallback(async()=>{r.removeQueries({queryKey:["organizations"]}),x.current=!1,j(!1),await k()},[r,k]),S={currentOrg:o,organizations:i,loading:p,loadingProgress:u,switchOrganization:N,refreshOrganizations:C,isInitialized:v};return e.jsx(ht.Provider,{value:S,children:t})},Q=typeof window<"u";function Ye(){return Q?document:null}function Be(){return Q?localStorage:null}const Me=768;function es(){const[t,a]=m.useState(void 0);return m.useEffect(()=>{if(!Q)return;const s=window.matchMedia(`(max-width: ${Me-1}px)`),n=()=>{a(window.innerWidth<Me)};return s.addEventListener("change",n),a(window.innerWidth<Me),()=>s.removeEventListener("change",n)},[]),!!t}const ts="sidebar:state",as=3600*24*7,ss="16rem",ns="18rem",rs="3rem",is="b",ft=m.createContext(null);function J(){const t=m.useContext(ft);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const gt=m.forwardRef(({defaultOpen:t=!0,open:a,onOpenChange:s,className:n,style:r,children:i,...c},o)=>{const d=es(),[p,h]=m.useState(!1),[u,g]=m.useState(t),v=a??u,j=m.useCallback(C=>{const S=typeof C=="function"?C(v):C;s?s(S):g(S),document.cookie=`${ts}=${S}; path=/; max-age=${as}`},[s,v]),x=m.useCallback(()=>d?h(C=>!C):j(C=>!C),[d,j,h]);m.useEffect(()=>{const C=S=>{S.key===is&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),x())};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[x]);const k=v?"expanded":"collapsed",N=m.useMemo(()=>({state:k,open:v,setOpen:j,isMobile:d,openMobile:p,setOpenMobile:h,toggleSidebar:x}),[k,v,j,d,p,h,x]);return e.jsx(ft.Provider,{value:N,children:e.jsx(we,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":ss,"--sidebar-width-icon":rs,...r},className:y("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:o,...c,children:i})})})});gt.displayName="SidebarProvider";const pt=m.forwardRef(({side:t="left",variant:a="sidebar",collapsible:s="offcanvas",className:n,children:r,...i},c)=>{const{isMobile:o,state:d,openMobile:p,setOpenMobile:h}=J();return s==="none"?e.jsx("div",{className:y("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:c,...i,children:r}):o?e.jsx(ma,{open:p,onOpenChange:h,...i,children:e.jsx(ha,{id:"menu","data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":ns},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:r})})}):e.jsxs("div",{ref:c,className:"group peer hidden md:block text-sidebar-foreground","data-state":d,"data-collapsible":d==="collapsed"?s:"","data-variant":a,"data-side":t,children:[e.jsx("div",{className:y("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",a==="floating"||a==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:y("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",a==="floating"||a==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:e.jsx("div",{id:"menu","data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:r})})]})});pt.displayName="Sidebar";const xt=m.forwardRef(({className:t,onClick:a,...s},n)=>{const{toggleSidebar:r}=J();return e.jsxs(_,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:y("h-7 w-7",t),onClick:i=>{a?.(i),r()},...s,children:[e.jsx(Tt,{"aria-hidden":"true",focusable:"false"}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});xt.displayName="SidebarTrigger";const os=m.forwardRef(({className:t,...a},s)=>{const{toggleSidebar:n}=J();return e.jsx("button",{ref:s,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:y("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...a})});os.displayName="SidebarRail";const cs=m.forwardRef(({className:t,...a},s)=>e.jsx("main",{ref:s,className:y("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...a}));cs.displayName="SidebarInset";const ds=m.forwardRef(({className:t,...a},s)=>e.jsx(V,{ref:s,"data-sidebar":"input",className:y("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...a}));ds.displayName="SidebarInput";const bt=m.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,"data-sidebar":"header",className:y("flex flex-col gap-2 p-2",t),...a}));bt.displayName="SidebarHeader";const vt=m.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,"data-sidebar":"footer",className:y("flex flex-col gap-2 p-2",t),...a}));vt.displayName="SidebarFooter";const ls=m.forwardRef(({className:t,...a},s)=>e.jsx(Y,{ref:s,"data-sidebar":"separator",className:y("mx-2 w-auto bg-sidebar-border",t),...a}));ls.displayName="SidebarSeparator";const wt=m.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,"data-sidebar":"content",className:y("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a}));wt.displayName="SidebarContent";const jt=m.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,"data-sidebar":"group",className:y("relative flex w-full min-w-0 flex-col p-2",t),...a}));jt.displayName="SidebarGroup";const yt=m.forwardRef(({className:t,asChild:a=!1,...s},n)=>{const r=a?oe:"div";return e.jsx(r,{ref:n,"data-sidebar":"group-label",className:y("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...s})});yt.displayName="SidebarGroupLabel";const us=m.forwardRef(({className:t,asChild:a=!1,...s},n)=>{const r=a?oe:"button";return e.jsx(r,{ref:n,"data-sidebar":"group-action",className:y("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...s})});us.displayName="SidebarGroupAction";const Nt=m.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,"data-sidebar":"group-content",className:y("w-full text-sm",t),...a}));Nt.displayName="SidebarGroupContent";const _t=m.forwardRef(({className:t,...a},s)=>e.jsx("ul",{ref:s,"data-sidebar":"menu",className:y("flex w-full min-w-0 flex-col gap-1",t),...a}));_t.displayName="SidebarMenu";const Ae=m.forwardRef(({className:t,...a},s)=>e.jsx("li",{ref:s,"data-sidebar":"menu-item",className:y("group/menu-item relative",t),...a}));Ae.displayName="SidebarMenuItem";const ms=ca("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),hs=m.forwardRef(({asChild:t=!1,isActive:a=!1,variant:s="default",size:n="default",tooltip:r,className:i,...c},o)=>{const d=t?oe:"button",{isMobile:p,state:h}=J(),u=e.jsx(d,{ref:o,"data-sidebar":"menu-button","data-size":n,"data-active":a,className:y(ms({variant:s,size:n}),i),...c});return r?(typeof r=="string"&&(r={children:r}),e.jsxs(se,{children:[e.jsx(ne,{asChild:!0,children:u}),e.jsx(re,{side:"right",align:"center",hidden:h!=="collapsed"||p,...r})]})):u});hs.displayName="SidebarMenuButton";const fs=m.forwardRef(({className:t,asChild:a=!1,showOnHover:s=!1,...n},r)=>{const i=a?oe:"button";return e.jsx(i,{ref:r,"data-sidebar":"menu-action",className:y("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});fs.displayName="SidebarMenuAction";const gs=m.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,"data-sidebar":"menu-badge",className:y("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...a}));gs.displayName="SidebarMenuBadge";const ps=m.forwardRef(({className:t,showIcon:a=!1,...s},n)=>{const r=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:y("rounded-md h-8 flex gap-2 px-2 items-center",t),...s,children:[a&&e.jsx(We,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(We,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":r}})]})});ps.displayName="SidebarMenuSkeleton";const xs=m.forwardRef(({className:t,...a},s)=>e.jsx("ul",{ref:s,"data-sidebar":"menu-sub",className:y("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...a}));xs.displayName="SidebarMenuSub";const bs=m.forwardRef(({...t},a)=>e.jsx("li",{ref:a,...t}));bs.displayName="SidebarMenuSubItem";const vs=m.forwardRef(({asChild:t=!1,size:a="md",isActive:s,className:n,...r},i)=>{const c=t?oe:"a";return e.jsx(c,{ref:i,"data-sidebar":"menu-sub-button","data-size":a,"data-active":s,className:y("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",a==="sm"&&"text-xs",a==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...r})});vs.displayName="SidebarMenuSubButton";function St(){const{user:t,hasRole:a,isAdmin:s,isSuperAdmin:n}=ve(),r=o=>!o.permission||n||s?!0:{canViewAnalytics:a("ADMIN")||a("ANALYST"),canManageData:a("ADMIN")||a("ANALYST"),canImportData:a("ADMIN")||a("ANALYST"),canViewVersions:a("ADMIN")||a("ANALYST"),canManageOrg:a("ADMIN"),canManagePermissions:a("ADMIN"),canViewLogs:a("ADMIN"),canManageSettings:a("ADMIN")}[o.permission]||!1;return{canAccess:r,getPermissionTooltip:o=>r(o)?o.description||o.label:"Sem permissão para acessar esta funcionalidade",hasAnyPermissionInGroup:o=>o.some(d=>r(d)),user:t,isAdmin:s,isSuperAdmin:n,userRole:t?.user_metadata?.role||"VIEWER"}}const ze=[{title:"Operação",items:[{label:"Início",to:"/app/dashboard",icon:ge,description:"Visão geral"},{label:"Mapa de Testemunhas",to:"/app/mapa-testemunhas",icon:ee,description:"Análise de vínculos e padrões com assistente integrado"}]},{title:"Análises",items:[{label:"Painel",to:"/app/admin",icon:De,description:"Dashboard executivo",permission:"canViewAnalytics"},{label:"Relatórios",to:"/app/admin/analytics",icon:It,description:"Análises detalhadas",permission:"canViewAnalytics"}]},{title:"Dados",items:[{label:"Base de Dados",to:"/app/admin/base",icon:he,description:"Gestão de dados centralizados",permission:"canManageData"},{label:"Importação",to:"/app/admin/base-import",icon:zt,description:"Upload e validação de planilhas",permission:"canImportData"},{label:"Versões",to:"/app/admin/versoes",icon:Rt,description:"Histórico e rollback",permission:"canViewVersions",badge:"2"}]},{title:"Administração",items:[{label:"Organização",to:"/app/admin/organization",icon:Et,description:"Configurações organizacionais",permission:"canManageOrg"},{label:"Logs",to:"/app/admin/logs",icon:Lt,description:"Auditoria e monitoramento",permission:"canViewLogs",badge:3},{label:"Configurações",to:"/app/settings",icon:q,description:"Configurações da organização",permission:"canManageSettings"}]}];ze.flatMap(t=>t.items);function ws(){const[t,a]=L.useState("light");L.useEffect(()=>{if(!Q)return;const n=Be(),r=Ye(),i=n?.getItem("theme"),c=typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",o=i||c;a(o),r&&r.documentElement.classList.toggle("dark",o==="dark")},[]);const s=()=>{const n=t==="light"?"dark":"light";if(a(n),Q){const r=Be(),i=Ye();r&&r.setItem("theme",n),i&&i.documentElement.classList.toggle("dark",n==="dark")}};return e.jsx(we,{children:e.jsxs(se,{children:[e.jsx(ne,{asChild:!0,children:e.jsx(_,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0 hover:bg-sidebar-accent","aria-label":`Alternar para tema ${t==="light"?"escuro":"claro"}`,children:t==="light"?e.jsx(Wt,{className:"h-4 w-4"}):e.jsx(Ft,{className:"h-4 w-4"})})}),e.jsx(re,{side:"top",children:e.jsxs("p",{children:["Alternar tema (",t==="light"?"escuro":"claro",")"]})})]})})}function js(){const[t,a]=L.useState(!1),s=Qe(),{canAccess:n}=St();L.useEffect(()=>{const i=c=>{c.key==="k"&&(c.metaKey||c.ctrlKey)&&(c.preventDefault(),a(o=>!o))};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]);const r=i=>{a(!1),s(i)};return e.jsxs(e.Fragment,{children:[e.jsx(we,{children:e.jsxs(se,{children:[e.jsx(ne,{asChild:!0,children:e.jsx(_,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"h-8 w-8 p-0 hover:bg-sidebar-accent","aria-label":"Abrir pesquisa (Cmd+K)",children:e.jsx(qt,{className:"h-4 w-4"})})}),e.jsx(re,{side:"top",children:e.jsx("p",{children:"Pesquisar (⌘K)"})})]})}),e.jsxs(fa,{open:t,onOpenChange:a,children:[e.jsx(ga,{placeholder:"Pesquisar páginas..."}),e.jsxs(pa,{children:[e.jsx(xa,{children:"Nenhum resultado encontrado."}),ze.map(i=>{const c=i.items.filter(n);return c.length===0?null:e.jsx(ba,{heading:i.title,children:c.map(o=>e.jsxs(va,{onSelect:()=>r(o.to),className:"flex items-center gap-3 cursor-pointer",children:[e.jsx(o.icon,{className:"h-4 w-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o.label}),o.description&&e.jsx("div",{className:"text-xs text-muted-foreground",children:o.description})]}),o.badge&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"bg-primary text-primary-foreground text-xs px-1.5 py-0.5 rounded-full",children:o.badge})})]},o.to))},i.title)})]})]})]})}function ys(){const{open:t}=J(),a=Je(),{setOpen:s}=Ua(),n=()=>{typeof s=="function"&&s(!0)},{user:r,signOut:i,isAdmin:c}=ve(),{canAccess:o,getPermissionTooltip:d,userRole:p}=St(),{toast:h}=Te(),u=async()=>{try{await i(),h({title:"Logout realizado com sucesso",description:"Você foi desconectado da aplicação."})}catch{h({title:"Erro ao fazer logout",description:"Ocorreu um erro. Tente novamente.",variant:"destructive"})}},g=x=>{switch(x){case"ADMIN":return"destructive";case"ANALYST":return"default";case"VIEWER":return"secondary";default:return"secondary"}},v=x=>{switch(x){case"ADMIN":return"Admin";case"ANALYST":return"Analyst";case"VIEWER":return"Viewer";default:return"Usuário"}},j=x=>x==="/"?a.pathname==="/":a.pathname.startsWith(x);return e.jsx(we,{children:e.jsxs(pt,{variant:"sidebar",className:`bg-sidebar border-sidebar-border transition-all duration-300 ${t?"w-60":"w-[72px]"}`,children:[e.jsx(bt,{className:"border-b border-sidebar-border p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(da,{variation:"mark",size:"md",className:"flex-shrink-0"}),t&&e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-sidebar-foreground truncate",children:"AssistJur.IA"}),e.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Legal Intelligence"})]})]})}),e.jsx(wt,{className:"p-2 space-y-2",children:ze.map(x=>x.items.filter(o).length===0?null:e.jsxs(jt,{children:[e.jsx(yt,{className:"text-[11px] uppercase tracking-wider text-muted-foreground/80 px-3 pt-4 pb-1",children:t&&x.title}),e.jsx(Nt,{children:e.jsx(_t,{children:x.items.map(N=>{const C=o(N),S=j(N.to);if(!C)return e.jsx(Ae,{children:e.jsxs(se,{children:[e.jsx(ne,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 text-sm text-muted-foreground/50 cursor-not-allowed rounded-md",children:[e.jsx(N.icon,{className:"h-4 w-4"}),t&&e.jsx("span",{children:N.label})]})}),e.jsx(re,{side:"right",children:e.jsx("p",{children:d(N)})})]})},N.to);const l=e.jsxs(je,{to:N.to,className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors group ${S?"bg-primary/10 text-foreground border-l-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,"aria-current":S?"page":void 0,children:[e.jsx(N.icon,{className:"h-4 w-4 flex-shrink-0"}),t&&e.jsxs("div",{className:"flex items-center justify-between w-full min-w-0",children:[e.jsx("span",{className:"truncate",children:N.label}),N.badge&&e.jsx(T,{variant:"secondary",className:"ml-2 text-xs h-5 px-1.5 bg-primary/20 text-primary border-0",children:N.badge})]})]});return e.jsx(Ae,{children:t?l:e.jsxs(se,{children:[e.jsx(ne,{asChild:!0,children:l}),e.jsx(re,{side:"right",children:e.jsx("p",{children:d(N)})})]})},N.to)})})})]},x.title))}),e.jsxs(vt,{className:"border-t border-sidebar-border p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ws,{}),e.jsx(js,{})]}),e.jsx("button",{onClick:n,className:"text-xs underline text-sidebar-foreground",children:"Privacidade / Gerenciar cookies"}),e.jsxs(it,{children:[e.jsxs(ot,{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-sidebar-accent text-left w-full transition-colors",children:[e.jsx(Ia,{className:"h-8 w-8 flex-shrink-0",children:e.jsx(za,{className:"bg-primary text-primary-foreground text-xs",children:r?.email?.charAt(0).toUpperCase()||"U"})}),t&&e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:r?.email}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(T,{variant:g(p),className:"text-xs",children:v(p)})})]})]}),e.jsxs(ct,{align:"end",className:"w-56",children:[e.jsx(ae,{asChild:!0,className:"cursor-pointer",children:e.jsxs(je,{to:"/app/profile",className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),e.jsx("span",{children:"Meu Perfil"})]})}),c&&e.jsx(ae,{asChild:!0,className:"cursor-pointer",children:e.jsxs(je,{to:"/app/settings",className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsx("span",{children:"Configurações da Organização"})]})}),e.jsx(Pe,{}),e.jsxs(ae,{onClick:u,className:"flex items-center gap-2 text-destructive focus:text-destructive cursor-pointer",children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Sair"})]})]})]})]})]})})}function w(t){const a=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&a==="[object Date]"?new t.constructor(+t):typeof t=="number"||a==="[object Number]"||typeof t=="string"||a==="[object String]"?new Date(t):new Date(NaN)}function B(t,a){return t instanceof Date?new t.constructor(a):new Date(a)}const Ct=6048e5,Ns=864e5,me=43200,Ve=1440;let _s={};function ce(){return _s}function ie(t,a){const s=ce(),n=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,r=w(t),i=r.getDay(),c=(i<n?7:0)+i-n;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function xe(t){return ie(t,{weekStartsOn:1})}function Mt(t){const a=w(t),s=a.getFullYear(),n=B(t,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const r=xe(n),i=B(t,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const c=xe(i);return a.getTime()>=r.getTime()?s+1:a.getTime()>=c.getTime()?s:s-1}function He(t){const a=w(t);return a.setHours(0,0,0,0),a}function be(t){const a=w(t),s=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return s.setUTCFullYear(a.getFullYear()),+t-+s}function Ss(t,a){const s=He(t),n=He(a),r=+s-be(s),i=+n-be(n);return Math.round((r-i)/Ns)}function Cs(t){const a=Mt(t),s=B(t,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),xe(s)}function fe(t,a){const s=w(t),n=w(a),r=s.getTime()-n.getTime();return r<0?-1:r>0?1:r}function Ms(t){return B(t,Date.now())}function Os(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ds(t){if(!Os(t)&&typeof t!="number")return!1;const a=w(t);return!isNaN(Number(a))}function ks(t,a){const s=w(t),n=w(a),r=s.getFullYear()-n.getFullYear(),i=s.getMonth()-n.getMonth();return r*12+i}function Ps(t){return a=>{const n=(t?Math[t]:Math.trunc)(a);return n===0?0:n}}function As(t,a){return+w(t)-+w(a)}function Ts(t){const a=w(t);return a.setHours(23,59,59,999),a}function Is(t){const a=w(t),s=a.getMonth();return a.setFullYear(a.getFullYear(),s+1,0),a.setHours(23,59,59,999),a}function zs(t){const a=w(t);return+Ts(a)==+Is(a)}function Rs(t,a){const s=w(t),n=w(a),r=fe(s,n),i=Math.abs(ks(s,n));let c;if(i<1)c=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-r*i);let o=fe(s,n)===-r;zs(w(t))&&i===1&&fe(t,n)===1&&(o=!1),c=r*(i-Number(o))}return c===0?0:c}function Es(t,a,s){const n=As(t,a)/1e3;return Ps(s?.roundingMethod)(n)}function Ls(t){const a=w(t),s=B(t,0);return s.setFullYear(a.getFullYear(),0,1),s.setHours(0,0,0,0),s}const Ws={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fs=(t,a,s)=>{let n;const r=Ws[t];return typeof r=="string"?n=r:a===1?n=r.one:n=r.other.replace("{{count}}",a.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function U(t){return(a={})=>{const s=a.width?String(a.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const qs={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ys={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Bs={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vs={date:U({formats:qs,defaultWidth:"full"}),time:U({formats:Ys,defaultWidth:"full"}),dateTime:U({formats:Bs,defaultWidth:"full"})},Hs={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$s=(t,a,s,n)=>Hs[t];function P(t){return(a,s)=>{const n=s?.context?String(s.context):"standalone";let r;if(n==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,o=s?.width?String(s.width):c;r=t.formattingValues[o]||t.formattingValues[c]}else{const c=t.defaultWidth,o=s?.width?String(s.width):t.defaultWidth;r=t.values[o]||t.values[c]}const i=t.argumentCallback?t.argumentCallback(a):a;return r[i]}}const Gs={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xs={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Us={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qs={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Js={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ks={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zs=(t,a)=>{const s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},en={ordinalNumber:Zs,era:P({values:Gs,defaultWidth:"wide"}),quarter:P({values:Xs,defaultWidth:"wide",argumentCallback:t=>t-1}),month:P({values:Us,defaultWidth:"wide"}),day:P({values:Qs,defaultWidth:"wide"}),dayPeriod:P({values:Js,defaultWidth:"wide",formattingValues:Ks,defaultFormattingWidth:"wide"})};function A(t){return(a,s={})=>{const n=s.width,r=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=a.match(r);if(!i)return null;const c=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(o)?an(o,u=>u.test(c)):tn(o,u=>u.test(c));let p;p=t.valueCallback?t.valueCallback(d):d,p=s.valueCallback?s.valueCallback(p):p;const h=a.slice(c.length);return{value:p,rest:h}}}function tn(t,a){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&a(t[s]))return s}function an(t,a){for(let s=0;s<t.length;s++)if(a(t[s]))return s}function Ot(t){return(a,s={})=>{const n=a.match(t.matchPattern);if(!n)return null;const r=n[0],i=a.match(t.parsePattern);if(!i)return null;let c=t.valueCallback?t.valueCallback(i[0]):i[0];c=s.valueCallback?s.valueCallback(c):c;const o=a.slice(r.length);return{value:c,rest:o}}}const sn=/^(\d+)(th|st|nd|rd)?/i,nn=/\d+/i,rn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},on={any:[/^b/i,/^(a|c)/i]},cn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dn={any:[/1/i,/2/i,/3/i,/4/i]},ln={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},un={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pn={ordinalNumber:Ot({matchPattern:sn,parsePattern:nn,valueCallback:t=>parseInt(t,10)}),era:A({matchPatterns:rn,defaultMatchWidth:"wide",parsePatterns:on,defaultParseWidth:"any"}),quarter:A({matchPatterns:cn,defaultMatchWidth:"wide",parsePatterns:dn,defaultParseWidth:"any",valueCallback:t=>t+1}),month:A({matchPatterns:ln,defaultMatchWidth:"wide",parsePatterns:un,defaultParseWidth:"any"}),day:A({matchPatterns:mn,defaultMatchWidth:"wide",parsePatterns:hn,defaultParseWidth:"any"}),dayPeriod:A({matchPatterns:fn,defaultMatchWidth:"any",parsePatterns:gn,defaultParseWidth:"any"})},Dt={code:"en-US",formatDistance:Fs,formatLong:Vs,formatRelative:$s,localize:en,match:pn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xn(t){const a=w(t);return Ss(a,Ls(a))+1}function bn(t){const a=w(t),s=+xe(a)-+Cs(a);return Math.round(s/Ct)+1}function kt(t,a){const s=w(t),n=s.getFullYear(),r=ce(),i=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=B(t,0);c.setFullYear(n+1,0,i),c.setHours(0,0,0,0);const o=ie(c,a),d=B(t,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const p=ie(d,a);return s.getTime()>=o.getTime()?n+1:s.getTime()>=p.getTime()?n:n-1}function vn(t,a){const s=ce(),n=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,r=kt(t,a),i=B(t,0);return i.setFullYear(r,0,n),i.setHours(0,0,0,0),ie(i,a)}function wn(t,a){const s=w(t),n=+ie(s,a)-+vn(s,a);return Math.round(n/Ct)+1}function b(t,a){const s=t<0?"-":"",n=Math.abs(t).toString().padStart(a,"0");return s+n}const W={y(t,a){const s=t.getFullYear(),n=s>0?s:1-s;return b(a==="yy"?n%100:n,a.length)},M(t,a){const s=t.getMonth();return a==="M"?String(s+1):b(s+1,2)},d(t,a){return b(t.getDate(),a.length)},a(t,a){const s=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,a){return b(t.getHours()%12||12,a.length)},H(t,a){return b(t.getHours(),a.length)},m(t,a){return b(t.getMinutes(),a.length)},s(t,a){return b(t.getSeconds(),a.length)},S(t,a){const s=a.length,n=t.getMilliseconds(),r=Math.trunc(n*Math.pow(10,s-3));return b(r,a.length)}},G={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$e={G:function(t,a,s){const n=t.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(t,a,s){if(a==="yo"){const n=t.getFullYear(),r=n>0?n:1-n;return s.ordinalNumber(r,{unit:"year"})}return W.y(t,a)},Y:function(t,a,s,n){const r=kt(t,n),i=r>0?r:1-r;if(a==="YY"){const c=i%100;return b(c,2)}return a==="Yo"?s.ordinalNumber(i,{unit:"year"}):b(i,a.length)},R:function(t,a){const s=Mt(t);return b(s,a.length)},u:function(t,a){const s=t.getFullYear();return b(s,a.length)},Q:function(t,a,s){const n=Math.ceil((t.getMonth()+1)/3);switch(a){case"Q":return String(n);case"QQ":return b(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,a,s){const n=Math.ceil((t.getMonth()+1)/3);switch(a){case"q":return String(n);case"qq":return b(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,a,s){const n=t.getMonth();switch(a){case"M":case"MM":return W.M(t,a);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(t,a,s){const n=t.getMonth();switch(a){case"L":return String(n+1);case"LL":return b(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(t,a,s,n){const r=wn(t,n);return a==="wo"?s.ordinalNumber(r,{unit:"week"}):b(r,a.length)},I:function(t,a,s){const n=bn(t);return a==="Io"?s.ordinalNumber(n,{unit:"week"}):b(n,a.length)},d:function(t,a,s){return a==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):W.d(t,a)},D:function(t,a,s){const n=xn(t);return a==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):b(n,a.length)},E:function(t,a,s){const n=t.getDay();switch(a){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(t,a,s,n){const r=t.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(a){case"e":return String(i);case"ee":return b(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(t,a,s,n){const r=t.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(a){case"c":return String(i);case"cc":return b(i,a.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(t,a,s){const n=t.getDay(),r=n===0?7:n;switch(a){case"i":return String(r);case"ii":return b(r,a.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(t,a,s){const r=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,a,s){const n=t.getHours();let r;switch(n===12?r=G.noon:n===0?r=G.midnight:r=n/12>=1?"pm":"am",a){case"b":case"bb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,a,s){const n=t.getHours();let r;switch(n>=17?r=G.evening:n>=12?r=G.afternoon:n>=4?r=G.morning:r=G.night,a){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,a,s){if(a==="ho"){let n=t.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return W.h(t,a)},H:function(t,a,s){return a==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):W.H(t,a)},K:function(t,a,s){const n=t.getHours()%12;return a==="Ko"?s.ordinalNumber(n,{unit:"hour"}):b(n,a.length)},k:function(t,a,s){let n=t.getHours();return n===0&&(n=24),a==="ko"?s.ordinalNumber(n,{unit:"hour"}):b(n,a.length)},m:function(t,a,s){return a==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):W.m(t,a)},s:function(t,a,s){return a==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):W.s(t,a)},S:function(t,a){return W.S(t,a)},X:function(t,a,s){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(a){case"X":return Xe(n);case"XXXX":case"XX":return H(n);case"XXXXX":case"XXX":default:return H(n,":")}},x:function(t,a,s){const n=t.getTimezoneOffset();switch(a){case"x":return Xe(n);case"xxxx":case"xx":return H(n);case"xxxxx":case"xxx":default:return H(n,":")}},O:function(t,a,s){const n=t.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Ge(n,":");case"OOOO":default:return"GMT"+H(n,":")}},z:function(t,a,s){const n=t.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Ge(n,":");case"zzzz":default:return"GMT"+H(n,":")}},t:function(t,a,s){const n=Math.trunc(t.getTime()/1e3);return b(n,a.length)},T:function(t,a,s){const n=t.getTime();return b(n,a.length)}};function Ge(t,a=""){const s=t>0?"-":"+",n=Math.abs(t),r=Math.trunc(n/60),i=n%60;return i===0?s+String(r):s+String(r)+a+b(i,2)}function Xe(t,a){return t%60===0?(t>0?"-":"+")+b(Math.abs(t)/60,2):H(t,a)}function H(t,a=""){const s=t>0?"-":"+",n=Math.abs(t),r=b(Math.trunc(n/60),2),i=b(n%60,2);return s+r+a+i}const Ue=(t,a)=>{switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Pt=(t,a)=>{switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},jn=(t,a)=>{const s=t.match(/(P+)(p+)?/)||[],n=s[1],r=s[2];if(!r)return Ue(t,a);let i;switch(n){case"P":i=a.dateTime({width:"short"});break;case"PP":i=a.dateTime({width:"medium"});break;case"PPP":i=a.dateTime({width:"long"});break;case"PPPP":default:i=a.dateTime({width:"full"});break}return i.replace("{{date}}",Ue(n,a)).replace("{{time}}",Pt(r,a))},yn={p:Pt,P:jn},Nn=/^D+$/,_n=/^Y+$/,Sn=["D","DD","YY","YYYY"];function Cn(t){return Nn.test(t)}function Mn(t){return _n.test(t)}function On(t,a,s){const n=Dn(t,a,s);if(console.warn(n),Sn.includes(t))throw new RangeError(n)}function Dn(t,a,s){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${a}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,An=/^'([^]*?)'?$/,Tn=/''/g,In=/[a-zA-Z]/;function Fr(t,a,s){const n=ce(),r=s?.locale??n.locale??Dt,i=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=w(t);if(!Ds(o))throw new RangeError("Invalid time value");let d=a.match(Pn).map(h=>{const u=h[0];if(u==="p"||u==="P"){const g=yn[u];return g(h,r.formatLong)}return h}).join("").match(kn).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const u=h[0];if(u==="'")return{isToken:!1,value:zn(h)};if($e[u])return{isToken:!0,value:h};if(u.match(In))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:h}});r.localize.preprocessor&&(d=r.localize.preprocessor(o,d));const p={firstWeekContainsDate:i,weekStartsOn:c,locale:r};return d.map(h=>{if(!h.isToken)return h.value;const u=h.value;(!s?.useAdditionalWeekYearTokens&&Mn(u)||!s?.useAdditionalDayOfYearTokens&&Cn(u))&&On(u,a,String(t));const g=$e[u[0]];return g(o,u,r.localize,p)}).join("")}function zn(t){const a=t.match(An);return a?a[1].replace(Tn,"'"):t}function Rn(t,a,s){const n=ce(),r=s?.locale??n.locale??Dt,i=2520,c=fe(t,a);if(isNaN(c))throw new RangeError("Invalid time value");const o=Object.assign({},s,{addSuffix:s?.addSuffix,comparison:c});let d,p;c>0?(d=w(a),p=w(t)):(d=w(t),p=w(a));const h=Es(p,d),u=(be(p)-be(d))/1e3,g=Math.round((h-u)/60);let v;if(g<2)return s?.includeSeconds?h<5?r.formatDistance("lessThanXSeconds",5,o):h<10?r.formatDistance("lessThanXSeconds",10,o):h<20?r.formatDistance("lessThanXSeconds",20,o):h<40?r.formatDistance("halfAMinute",0,o):h<60?r.formatDistance("lessThanXMinutes",1,o):r.formatDistance("xMinutes",1,o):g===0?r.formatDistance("lessThanXMinutes",1,o):r.formatDistance("xMinutes",g,o);if(g<45)return r.formatDistance("xMinutes",g,o);if(g<90)return r.formatDistance("aboutXHours",1,o);if(g<Ve){const j=Math.round(g/60);return r.formatDistance("aboutXHours",j,o)}else{if(g<i)return r.formatDistance("xDays",1,o);if(g<me){const j=Math.round(g/Ve);return r.formatDistance("xDays",j,o)}else if(g<me*2)return v=Math.round(g/me),r.formatDistance("aboutXMonths",v,o)}if(v=Rs(p,d),v<12){const j=Math.round(g/me);return r.formatDistance("xMonths",j,o)}else{const j=v%12,x=Math.trunc(v/12);return j<3?r.formatDistance("aboutXYears",x,o):j<9?r.formatDistance("overXYears",x,o):r.formatDistance("almostXYears",x+1,o)}}function En(t,a){return Rn(t,Ms(t),a)}const Ln={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Wn=(t,a,s)=>{let n;const r=Ln[t];return typeof r=="string"?n=r:a===1?n=r.one:n=r.other.replace("{{count}}",String(a)),s?.addSuffix?s.comparison&&s.comparison>0?"em "+n:"há "+n:n},Fn={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},qn={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Yn={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bn={date:U({formats:Fn,defaultWidth:"full"}),time:U({formats:qn,defaultWidth:"full"}),dateTime:U({formats:Yn,defaultWidth:"full"})},Vn={lastWeek:t=>{const a=t.getDay();return"'"+(a===0||a===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Hn=(t,a,s,n)=>{const r=Vn[t];return typeof r=="function"?r(a):r},$n={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Gn={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Xn={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Un={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Qn={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Jn={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Kn=(t,a)=>{const s=Number(t);return a?.unit==="week"?s+"ª":s+"º"},Zn={ordinalNumber:Kn,era:P({values:$n,defaultWidth:"wide"}),quarter:P({values:Gn,defaultWidth:"wide",argumentCallback:t=>t-1}),month:P({values:Xn,defaultWidth:"wide"}),day:P({values:Un,defaultWidth:"wide"}),dayPeriod:P({values:Qn,defaultWidth:"wide",formattingValues:Jn,defaultFormattingWidth:"wide"})},er=/^(\d+)[ºªo]?/i,tr=/\d+/i,ar={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},sr={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},nr={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},rr={any:[/1/i,/2/i,/3/i,/4/i]},ir={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},or={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},cr={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},dr={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},lr={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},ur={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},mr={ordinalNumber:Ot({matchPattern:er,parsePattern:tr,valueCallback:t=>parseInt(t,10)}),era:A({matchPatterns:ar,defaultMatchWidth:"wide",parsePatterns:sr,defaultParseWidth:"any"}),quarter:A({matchPatterns:nr,defaultMatchWidth:"wide",parsePatterns:rr,defaultParseWidth:"any",valueCallback:t=>t+1}),month:A({matchPatterns:ir,defaultMatchWidth:"wide",parsePatterns:or,defaultParseWidth:"any"}),day:A({matchPatterns:cr,defaultMatchWidth:"wide",parsePatterns:dr,defaultParseWidth:"any"}),dayPeriod:A({matchPatterns:lr,defaultMatchWidth:"any",parsePatterns:ur,defaultParseWidth:"any"})},hr={code:"pt-BR",formatDistance:Wn,formatLong:Bn,formatRelative:Hn,localize:Zn,match:mr,options:{weekStartsOn:0,firstWeekContainsDate:1}},fr={success:tt,error:$t,warning:te,info:Ht},gr={success:"text-green-600 bg-green-50 border-green-200",error:"text-red-600 bg-red-50 border-red-200",warning:"text-amber-600 bg-amber-50 border-amber-200",info:"text-blue-600 bg-blue-50 border-blue-200"};function pr({notification:t}){const{markAsRead:a,removeNotification:s}=dt(),n=fr[t.type];return e.jsx(R,{className:`mb-3 transition-all ${t.read?"":"border-l-4 border-l-primary bg-primary/5"}`,children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-1 rounded-full ${gr[t.type]}`,children:e.jsx(n,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:`text-sm font-medium ${t.read?"":"font-semibold"}`,children:t.title}),e.jsxs("div",{className:"flex items-center gap-1",children:[!t.read&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx(_,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>s(t.id),children:e.jsx(et,{className:"w-3 h-3"})})]})]}),t.message&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:t.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:En(t.createdAt,{addSuffix:!0,locale:hr})}),e.jsxs("div",{className:"flex gap-1",children:[t.action&&e.jsx(_,{variant:"outline",size:"sm",className:"h-6 text-xs",onClick:t.action.onClick,children:t.action.label}),!t.read&&e.jsxs(_,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>a(t.id),children:[e.jsx(at,{className:"w-3 h-3 mr-1"}),"Marcar como lida"]})]})]})]})]})})})}function xr(){const[t,a]=m.useState(!1),{notifications:s,unreadCount:n,markAllAsRead:r,clearAll:i,clearRead:c}=dt(),o=s.slice(0,10);return e.jsxs(Ra,{open:t,onOpenChange:a,children:[e.jsx(Ea,{asChild:!0,children:e.jsxs(_,{variant:"ghost",size:"sm",className:"relative",children:[e.jsx(Re,{className:"w-4 h-4"}),n>0&&e.jsx(T,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs p-0 min-w-[20px]",children:n>99?"99+":n})]})}),e.jsxs(La,{className:"w-96 p-0 bg-background border shadow-lg z-50",align:"end",side:"bottom",sideOffset:8,children:[e.jsxs(I,{className:"border-b pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(z,{className:"text-base",children:"Notificações"}),n>0&&e.jsxs(T,{variant:"secondary",className:"text-xs",children:[n," não lidas"]})]}),s.length>0&&e.jsxs("div",{className:"flex gap-2 pt-2",children:[n>0&&e.jsxs(_,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:r,children:[e.jsx(Vt,{className:"w-3 h-3 mr-1"}),"Marcar todas como lidas"]}),e.jsxs(_,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:c,children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Limpar lidas"]}),e.jsxs(_,{variant:"outline",size:"sm",className:"h-7 text-xs text-destructive",onClick:i,children:[e.jsx(et,{className:"w-3 h-3 mr-1"}),"Limpar todas"]})]})]}),e.jsx(wa,{className:"max-h-96",children:e.jsx("div",{className:"p-4",children:o.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Re,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Nenhuma notificação"})]}):e.jsxs("div",{className:"space-y-0",children:[o.map(d=>e.jsx(pr,{notification:d},d.id)),s.length>10&&e.jsx("div",{className:"text-center pt-4",children:e.jsx(_,{variant:"ghost",size:"sm",className:"text-xs",children:"Ver todas as notificações"})})]})})})]})]})}const br=({onManageOrgs:t})=>{const[a,s]=m.useState(!1),n=Qe(),{currentOrg:r,organizations:i,loading:c,switchOrganization:o}=Za(),d=async h=>{if(h!==r?.id)try{await o(h),s(!1)}catch(u){console.error("Failed to switch organization:",u)}},p=()=>{t?t():n("/admin/org"),s(!1)};return c||!r?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 rounded-lg border",children:[e.jsx(Gt,{className:"h-4 w-4 animate-spin text-muted-foreground"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando..."})]}):i.length<=1?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 rounded-lg border",children:[e.jsx(ye,{className:"h-4 w-4 text-primary"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:r.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:r.code})]}),e.jsx(T,{variant:r.role==="ADMIN"?"default":"secondary",className:"text-xs",children:r.role==="ADMIN"?"Admin":r.role==="ANALYST"?"Analista":"Visualizador"})]}):e.jsxs(it,{open:a,onOpenChange:s,children:[e.jsx(ot,{asChild:!0,children:e.jsxs(_,{variant:"outline",className:"w-full justify-between h-auto p-3 hover:bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx(ye,{className:"h-4 w-4 text-primary flex-shrink-0"}),e.jsxs("div",{className:"text-left min-w-0 flex-1",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:r.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:r.code})]}),e.jsx(T,{variant:r.role==="ADMIN"?"default":"secondary",className:"text-xs",children:r.role==="ADMIN"?"Admin":r.role==="ANALYST"?"Analista":"Visualizador"})]}),e.jsx(Xt,{className:"h-4 w-4 ml-2 flex-shrink-0"})]})}),e.jsxs(ct,{align:"start",className:"w-64",children:[e.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Organizações disponíveis"}),e.jsx(Pe,{}),i.map(h=>e.jsxs(ae,{onClick:()=>d(h.id),className:"flex items-center gap-2 p-3 cursor-pointer",children:[e.jsx(ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:h.name}),r.id===h.id&&e.jsx(at,{className:"h-3 w-3 text-primary"})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:h.code})]}),e.jsx(T,{variant:h.role==="ADMIN"?"default":"secondary",className:"text-xs",children:h.role==="ADMIN"?"Admin":h.role==="ANALYST"?"Analista":"Visualizador"})]},h.id)),e.jsx(Pe,{}),e.jsxs(ae,{onClick:p,className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:"Gerenciar organizações"})]})]})]})},Oe={"/app":{label:"Início",icon:ge},"/app/dashboard":{label:"Dashboard",icon:ge},"/app/mapa-testemunhas":{label:"Mapa de Testemunhas",icon:ee},"/app/chat":{label:"Chat Assistente",icon:Qt},"/app/dados":{label:"Dados",icon:he},"/app/dados/mapa":{label:"Mapa de Testemunhas",icon:he},"/app/admin":{label:"Administração",icon:De},"/app/admin/ia":{label:"Inteligência Artificial",icon:Ut},"/app/admin/ia/chaves":{label:"Chaves API",icon:q},"/app/admin/ia/modelos":{label:"Modelos",icon:q},"/app/admin/ia/prompt-studio":{label:"Prompt Studio",icon:X},"/app/admin/ia/testes":{label:"Playground",icon:q},"/app/admin/base":{label:"Base de Dados",icon:he},"/app/admin/org":{label:"Organização",icon:ee},"/app/admin/config":{label:"Configurações",icon:q},"/app/admin/analytics":{label:"Analytics",icon:De},"/app/admin/logs":{label:"Logs",icon:X},"/app/admin/versoes":{label:"Versões",icon:X},"/app/profile":{label:"Perfil",icon:ee},"/app/settings":{label:"Configurações",icon:q}};function vr(){const t=Je(),{open:a}=J(),n=(()=>{const i=t.pathname.split("/").filter(Boolean),c=[];t.pathname.startsWith("/app")&&c.push({path:"/app/dashboard",label:"Início",icon:ge});let o="";return i.forEach((d,p)=>{o+=`/${d}`;const h=Oe[o];h&&o!=="/app/dashboard"&&c.push({path:o,label:h.label,icon:h.icon,isLast:p===i.length-1})}),c})(),r=Oe[t.pathname]??Oe["/"];return e.jsx("header",{className:"sticky top-0 z-40 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex h-14 items-center gap-4 px-4",children:[e.jsx(xt,{className:"-ml-1","aria-label":"Menu","aria-controls":"menu","aria-expanded":a}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[r?.icon&&e.jsx(r.icon,{className:"h-4 w-4","aria-hidden":"true",focusable:"false"}),e.jsx("h1",{className:"font-semibold text-sm",children:r?.label||"AssistJur.IA"})]}),e.jsx("div",{className:"hidden md:flex",children:e.jsx(ja,{children:e.jsx(ya,{children:n.map((i,c)=>e.jsxs("div",{children:[e.jsx(Na,{children:i.isLast??!1?e.jsxs(_a,{className:"flex items-center gap-2",children:[e.jsx(i.icon,{className:"h-4 w-4","aria-hidden":"true",focusable:"false"}),i.label]}):e.jsxs(Sa,{href:i.path,className:"flex items-center gap-2 hover:text-foreground",children:[e.jsx(i.icon,{className:"h-4 w-4","aria-hidden":"true",focusable:"false"}),i.label]})}),c<n.length-1&&e.jsx(Ca,{children:e.jsx(Jt,{className:"h-4 w-4","aria-hidden":"true",focusable:"false"})})]},i.path))})})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(br,{})}),e.jsx(xr,{}),e.jsxs("div",{className:"hidden lg:flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Sistema Online"})]})]})]})})}function wr({children:t}){return Kt()?e.jsx(e.Fragment,{children:t}):e.jsx(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:Wa,children:t})}const jr={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:.3,ease:[.4,0,.2,1]}},exit:{opacity:0,y:-20,transition:{duration:.2,ease:[.4,0,.2,1]}}};function yr({children:t}){return(Q&&typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1)?e.jsx(e.Fragment,{children:t}):e.jsx(Zt,{mode:"wait",initial:!1,children:e.jsx(st.div,{variants:jr,initial:"initial",animate:"enter",exit:"exit",className:"w-full h-full",children:t})})}function Nr({children:t}){return e.jsx(gt,{defaultOpen:!0,children:e.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[e.jsx(ys,{}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx(vr,{}),e.jsx("main",{className:"flex-1 overflow-hidden",children:e.jsx(yr,{children:e.jsx(wr,{children:t})})})]})]})})}function _r(){const{profile:t}=ve(),{data:a,isLoading:s,refetch:n}=ea({queryKey:["last-update",t?.organization_id],queryFn:async()=>{if(!t?.organization_id)return console.error("Organização não encontrada para last-update"),null;const{data:c,error:o}=await F.functions.invoke("get-last-update");return o?(console.error("Error fetching last update:",o),null):c},enabled:!!t?.organization_id,staleTime:300*1e3});return{...a,isLoading:s,formatLocalDateTime:c=>{const o=Intl.DateTimeFormat().resolvedOptions().timeZone||"America/Sao_Paulo";return new Date(c).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:o})},formatShortDateTime:c=>{const o=Intl.DateTimeFormat().resolvedOptions().timeZone||"America/Sao_Paulo";return new Date(c).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:o})},refetch:n}}function Sr({organization:t,showTimestamp:a=!0,showVersion:s=!0,className:n=""}){const{versionNumber:r,formatLocalDateTime:i,publishedAtUTC:c}=_r();return e.jsxs("div",{className:`border-t bg-muted/10 p-4 space-y-3 text-xs text-muted-foreground ${n}`,children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(nt,{className:"h-4 w-4 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-300",children:Z.legal.reportDisclaimer}),e.jsx("p",{children:Z.legal.complianceNote})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-2 border-t border-muted/20",children:[t&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rt,{className:"h-3 w-3"}),e.jsx("span",{children:t})]}),a&&c&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ta,{className:"h-3 w-3"}),e.jsxs("span",{children:["Gerado em: ",i(c)]})]}),s&&r&&e.jsxs("div",{className:"font-mono font-medium",children:["v",r]})]}),e.jsx("div",{className:"text-center pt-2 border-t border-muted/20",children:e.jsxs("p",{children:["Sistema: ",e.jsx("span",{className:"font-medium",children:Z.fullName})," • Suporte:"," ",e.jsx("a",{href:`mailto:${Z.contact.support}`,className:"text-primary hover:underline",children:Z.contact.support})]})})]})}const Cr=L.forwardRef(({data:t,onExport:a,sections:s={summary:!0,risks:!0,roi:!0}},n)=>{const{toast:r}=Te(),i=d=>{a?a(d):r({title:"Exportação",description:`Gerando relatório em ${d.toUpperCase()}...`})},c=d=>{switch(d){case"ALTO":return"destructive";case"MEDIO":return"secondary";case"BAIXO":return"outline";default:return"secondary"}},o=d=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(d));return e.jsxs("div",{ref:n,className:"max-w-4xl mx-auto space-y-6 print:space-y-4",children:[e.jsxs(R,{className:"print:shadow-none",children:[e.jsx(I,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(la,{size:"lg"}),e.jsxs(z,{className:"text-2xl font-bold flex items-center gap-2 mt-4",children:[e.jsx(X,{className:"h-6 w-6 text-primary"}),"Relatório Conclusivo de Análise"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-medium",children:t.organizacao}),e.jsxs("p",{children:["Período: ",t.periodo_analise.inicio," a"," ",t.periodo_analise.fim]}),e.jsxs("p",{children:["Responsável: ",t.analista_responsavel]}),e.jsxs("p",{children:["Gerado em: ",o(t.data_geracao)]})]})]}),e.jsx("div",{className:"print:hidden",children:e.jsx(Ma,{onExport:i})})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:t.resumo_executivo.total_processos}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Processos Analisados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-destructive",children:t.resumo_executivo.processos_criticos}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Casos Críticos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:t.resumo_executivo.padroes_detectados}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Padrões Detectados"})]}),e.jsx("div",{className:"text-center",children:e.jsxs(T,{variant:c(t.resumo_executivo.risco_geral),className:"text-base px-3 py-1",children:["Risco ",t.resumo_executivo.risco_geral]})})]})})]}),s.summary&&e.jsxs(R,{children:[e.jsx(I,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(nt,{className:"h-5 w-5 text-primary"}),"Resumo Executivo"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Confiabilidade da Análise:"}),e.jsx(Oa,{value:t.resumo_executivo.confiabilidade_analise,className:"w-24 h-2"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.resumo_executivo.confiabilidade_analise,"%"]})]})}),e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.resumo_executivo.observacoes_gerais})})]})]}),e.jsxs(R,{children:[e.jsx(I,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5 text-primary"}),"Análise de Padrões Detectados"]})}),e.jsx(E,{children:t.analysis_result?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Troca Direta"})]}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.analysis_result.trocaDireta.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"casos detectados"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ke,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"Triangulação"})]}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.analysis_result.triangulacao.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"redes identificadas"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(aa,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Duplo Papel"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.analysis_result.duploPapel.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"casos identificados"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ee,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"font-medium",children:"Prova Emprestada"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.analysis_result.provaEmprestada.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"testemunhas suspeitas"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(te,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"font-medium",children:"Homônimos"})]}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.analysis_result.homonimos.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"casos suspeitos"})]})]}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(te,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"Dados de análise de padrões não disponíveis"})]})})]}),s.risks&&e.jsxs(R,{children:[e.jsx(I,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5 text-destructive"}),"Casos Críticos (Score ≥ 85)"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[t.processos_scores.filter(d=>d.score_final>=85).slice(0,10).map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-mono text-sm font-medium",children:d.cnj}),e.jsx("div",{className:"text-xs text-muted-foreground",children:d.classificacao_estrategica})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{variant:d.score_final>=85||d.score_final>=70?"destructive":"secondary",className:"font-mono",children:d.score_final}),e.jsx(T,{variant:"destructive",className:"text-xs",children:d.prioridade_contradita})]})]},d.cnj)),t.processos_scores.filter(d=>d.score_final>=85).length===0&&e.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[e.jsx(tt,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),e.jsx("p",{children:"Nenhum caso crítico identificado"})]})]})})]}),s.roi&&t.roi&&e.jsxs(R,{children:[e.jsx(I,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5 text-primary"}),"ROI Estimado"]})}),e.jsxs(E,{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:["Investimento: R$ ",t.roi.investimento.toLocaleString()]}),e.jsxs("div",{children:["Retorno: R$ ",t.roi.retorno.toLocaleString()]}),e.jsxs("div",{className:"font-medium",children:["ROI: ",t.roi.percentual,"%"]})]})]}),e.jsxs(R,{children:[e.jsx(I,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5 text-primary"}),"Recomendações Estratégicas"]})}),e.jsx(E,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-destructive mb-2 flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),"Ações Imediatas"]}),e.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground ml-6",children:t.recomendacoes.imediatas.map((d,p)=>e.jsx("li",{className:"list-disc",children:d},p))})]}),e.jsx(Y,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-amber-600 mb-2 flex items-center gap-2",children:[e.jsx(sa,{className:"h-4 w-4"}),"Curto Prazo (30-90 dias)"]}),e.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground ml-6",children:t.recomendacoes.curto_prazo.map((d,p)=>e.jsx("li",{className:"list-disc",children:d},p))})]}),e.jsx(Y,{}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-green-600 mb-2 flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"Longo Prazo (3-12 meses)"]}),e.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground ml-6",children:t.recomendacoes.longo_prazo.map((d,p)=>e.jsx("li",{className:"list-disc",children:d},p))})]})]})})]}),e.jsxs(R,{children:[e.jsx(I,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5 text-primary"}),"Distribuição de Scores"]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-destructive/10 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-destructive",children:t.scoring_metrics.distribuicao_scores.critico}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Crítico"})]}),e.jsxs("div",{className:"text-center p-3 bg-destructive/5 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-destructive",children:t.scoring_metrics.distribuicao_scores.alto}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Alto"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-100 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-700",children:t.scoring_metrics.distribuicao_scores.medio}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Médio"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-100 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-700",children:t.scoring_metrics.distribuicao_scores.baixo}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Baixo"})]}),e.jsxs("div",{className:"text-center p-3 bg-muted/10 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:t.scoring_metrics.distribuicao_scores.minimo}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Mínimo"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Score Médio Geral:"}),e.jsx("span",{className:"font-mono font-medium",children:Math.round(t.scoring_metrics.avg_score*10)/10})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Casos com Contradita Recomendada:"}),e.jsx("span",{className:"font-mono font-medium",children:t.scoring_metrics.casos_contradita_recomendada})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Casos Necessitando Investigação:"}),e.jsx("span",{className:"font-mono font-medium",children:t.scoring_metrics.casos_investigacao_necessaria})]})]})]})]}),e.jsx(Sr,{organization:t.organizacao,showTimestamp:!0,showVersion:!0})]})});function Mr({onGenerate:t,mockData:a}){const{toast:s}=Te(),[n,r]=m.useState(!1),[i,c]=m.useState("empty"),[o,d]=m.useState(null),[p,h]=m.useState(!1),[u,g]=m.useState({organizacao:"",periodo_inicio:"",periodo_fim:"",analista_responsavel:"",incluir_casos_criticos:!0,incluir_analise_padroes:!0,incluir_recomendacoes:!0,limite_casos_criticos:10,observacoes_gerais:"",recomendacoes_personalizadas:{imediatas:[],curto_prazo:[],longo_prazo:[]},sections:{summary:!0,risks:!0,roi:!0}}),[v,j]=m.useState({type:"imediatas",text:""}),x=m.useRef(null);m.useEffect(()=>{const l=localStorage.getItem("report_sections");if(l)try{const f=JSON.parse(l);g(M=>({...M,sections:{...M.sections,...f}}))}catch{}},[]),m.useEffect(()=>{localStorage.setItem("report_sections",JSON.stringify(u.sections))},[u.sections]);const k=async()=>{if(!u.organizacao||!u.periodo_inicio||!u.periodo_fim||!u.analista_responsavel){s({title:"Campos obrigatórios",description:"Preencha todos os campos obrigatórios antes de gerar o relatório.",variant:"destructive"});return}if(!navigator.onLine){c("offline");return}r(!0),c("loading");try{let l;if(t)l=await t(u);else if(a)l={...a,organizacao:u.organizacao,periodo_analise:{inicio:u.periodo_inicio,fim:u.periodo_fim},analista_responsavel:u.analista_responsavel,data_geracao:new Date().toISOString(),resumo_executivo:{...a.resumo_executivo,observacoes_gerais:u.observacoes_gerais||a.resumo_executivo.observacoes_gerais},recomendacoes:{imediatas:u.recomendacoes_personalizadas.imediatas.length>0?u.recomendacoes_personalizadas.imediatas:a.recomendacoes.imediatas,curto_prazo:u.recomendacoes_personalizadas.curto_prazo.length>0?u.recomendacoes_personalizadas.curto_prazo:a.recomendacoes.curto_prazo,longo_prazo:u.recomendacoes_personalizadas.longo_prazo.length>0?u.recomendacoes_personalizadas.longo_prazo:a.recomendacoes.longo_prazo}};else throw new Error("Nenhuma fonte de dados disponível");d(l),h(!0),c("success"),s({title:"Relatório gerado",description:"Relatório conclusivo gerado com sucesso."})}catch(l){console.error("Erro ao gerar relatório:",l),c(navigator.onLine?"error":"offline"),s({title:"Erro",description:"Falha ao gerar o relatório. Tente novamente.",variant:"destructive"})}finally{r(!1)}},N=()=>{v.text.trim()&&(g(l=>({...l,recomendacoes_personalizadas:{...l.recomendacoes_personalizadas,[v.type]:[...l.recomendacoes_personalizadas[v.type],v.text.trim()]}})),j({...v,text:""}))},C=(l,f)=>{g(M=>({...M,recomendacoes_personalizadas:{...M.recomendacoes_personalizadas,[l]:M.recomendacoes_personalizadas[l].filter((D,K)=>K!==f)}}))},S=l=>{if(l==="pdf"){window.print();return}if(l==="csv"){s({title:"Exportação CSV",description:"Funcionalidade em desenvolvimento.",variant:"default"});return}s({title:"Exportando",description:`Gerando relatório em ${l.toUpperCase()}...`})};return p&&o?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{variant:"outline",onClick:()=>h(!1),children:"← Voltar à Configuração"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(_,{variant:"outline",onClick:()=>S("pdf"),children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),e.jsxs(_,{variant:"outline",onClick:()=>S("docx"),children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Exportar DOCX"]})]})]}),e.jsx(Cr,{ref:x,data:o,sections:u.sections,onExport:S})]}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i!=="empty"&&i!=="success"&&e.jsx(Da,{status:i,onRetry:k}),e.jsxs(R,{children:[e.jsx(I,{children:e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5 text-primary"}),"Gerador de Relatório Conclusivo"]})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(rt,{className:"h-4 w-4"}),"Informações Básicas"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"organizacao",children:"Organização *"}),e.jsx(V,{id:"organizacao",value:u.organizacao,onChange:l=>g(f=>({...f,organizacao:l.target.value})),placeholder:"Nome da organização"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"analista",children:"Analista Responsável *"}),e.jsx(V,{id:"analista",value:u.analista_responsavel,onChange:l=>g(f=>({...f,analista_responsavel:l.target.value})),placeholder:"Nome do analista"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"inicio",children:"Período - Início *"}),e.jsx(V,{id:"inicio",type:"date",value:u.periodo_inicio,onChange:l=>g(f=>({...f,periodo_inicio:l.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"fim",children:"Período - Fim *"}),e.jsx(V,{id:"fim",type:"date",value:u.periodo_fim,onChange:l=>g(f=>({...f,periodo_fim:l.target.value}))})]})]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(q,{className:"h-4 w-4"}),"Configurações do Conteúdo"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(O,{htmlFor:"criticos",children:"Incluir casos críticos"}),e.jsx(_e,{id:"criticos",checked:u.incluir_casos_criticos,onCheckedChange:l=>g(f=>({...f,incluir_casos_criticos:l}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(O,{htmlFor:"padroes",children:"Incluir análise de padrões"}),e.jsx(_e,{id:"padroes",checked:u.incluir_analise_padroes,onCheckedChange:l=>g(f=>({...f,incluir_analise_padroes:l}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(O,{htmlFor:"recomendacoes",children:"Incluir recomendações"}),e.jsx(_e,{id:"recomendacoes",checked:u.incluir_recomendacoes,onCheckedChange:l=>g(f=>({...f,incluir_recomendacoes:l}))})]}),u.incluir_casos_criticos&&e.jsxs("div",{className:"ml-4 space-y-2",children:[e.jsx(O,{htmlFor:"limite",children:"Limite de casos críticos no relatório"}),e.jsx(V,{id:"limite",type:"number",min:"1",max:"50",value:u.limite_casos_criticos,onChange:l=>g(f=>({...f,limite_casos_criticos:parseInt(l.target.value)||10}))})]})]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(na,{className:"h-4 w-4"}),"Seções do Relatório"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{id:"section-summary",checked:u.sections.summary,onCheckedChange:l=>g(f=>({...f,sections:{...f.sections,summary:!!l}}))}),e.jsx(O,{htmlFor:"section-summary",children:"Sumário"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{id:"section-risks",checked:u.sections.risks,onCheckedChange:l=>g(f=>({...f,sections:{...f.sections,risks:!!l}}))}),e.jsx(O,{htmlFor:"section-risks",children:"Riscos"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{id:"section-roi",checked:u.sections.roi,onCheckedChange:l=>g(f=>({...f,sections:{...f.sections,roi:!!l}}))}),e.jsx(O,{htmlFor:"section-roi",children:"ROI"})]})]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Observações Gerais"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"observacoes",children:"Observações do Analista"}),e.jsx(ua,{id:"observacoes",value:u.observacoes_gerais,onChange:l=>g(f=>({...f,observacoes_gerais:l.target.value})),placeholder:"Adicione observações relevantes sobre a análise...",rows:4})]})]}),e.jsx(Y,{}),u.incluir_recomendacoes&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(ke,{className:"h-4 w-4"}),"Recomendações Personalizadas"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ka,{value:v.type,onValueChange:l=>j(f=>({...f,type:l})),children:[e.jsx(Pa,{className:"w-48",children:e.jsx(Aa,{})}),e.jsxs(Ta,{children:[e.jsx(Se,{value:"imediatas",children:"Ações Imediatas"}),e.jsx(Se,{value:"curto_prazo",children:"Curto Prazo"}),e.jsx(Se,{value:"longo_prazo",children:"Longo Prazo"})]})]}),e.jsx(V,{value:v.text,onChange:l=>j(f=>({...f,text:l.target.value})),placeholder:"Digite a recomendação...",className:"flex-1",onKeyPress:l=>l.key==="Enter"&&N()}),e.jsx(_,{onClick:N,size:"sm",children:e.jsx(ra,{className:"h-4 w-4"})})]}),Object.entries(u.recomendacoes_personalizadas).map(([l,f])=>f.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(O,{className:"text-sm font-medium capitalize",children:[l.replace("_"," "),":"]}),e.jsx("div",{className:"space-y-1 ml-4",children:f.map((M,D)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded text-sm",children:[e.jsx("span",{className:"flex-1",children:M}),e.jsx(_,{variant:"ghost",size:"sm",onClick:()=>C(l,D),className:"h-6 w-6 p-0",children:e.jsx(Ze,{className:"h-3 w-3"})})]},D))})]},l))]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx("span",{children:"* Campos obrigatórios"})]}),e.jsx(_,{onClick:k,disabled:n,size:"lg",children:n?e.jsx(e.Fragment,{children:"Gerando..."}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Gerar Relatório"]})})]})]})]})]})}const Or={organizacao:"Advocacia Silva & Associados Ltda",periodo_analise:{inicio:"2024-01-01",fim:"2024-08-29"},analista_responsavel:"Dr. João Silva",data_geracao:new Date().toISOString(),analysis_result:{trocaDireta:[{testemunhaA:"Maria Santos",testemunhaB:"João Pereira",cnjsA:["0001234-56.2024.5.02.0001"],cnjsB:["0001235-57.2024.5.02.0002"],advogadosComuns:["Dr. Carlos Costa"],confianca:.92}],triangulacao:[{ciclo:["Ana Silva","Pedro Costa","Maria Santos"],cnjs:["0001234-56.2024.5.02.0001","0001235-57.2024.5.02.0002","0001236-58.2024.5.02.0003"],advogados:["Dr. Carlos Costa","Dra. Ana Oliveira"],comarcas:["São Paulo","Campinas"],desenho:"A → B → C → A",confianca:.87}],duploPapel:[{nome:"Carlos Mendes",cnjs_como_reclamante:["0001237-59.2024.5.02.0004"],cnjs_como_testemunha:["0001238-60.2024.5.02.0005","0001239-61.2024.5.02.0006"],polo_passivo:!0,risco:"ALTO"}],provaEmprestada:[{nome:"Roberto Lima",qtd_depoimentos:15,cnjs:["0001240-62.2024.5.02.0007","0001241-63.2024.5.02.0008"],advogados_recorrentes:["Dr. Fernando Pinto"],concentracao_comarca:.85,alerta:!0}],homonimos:[{nome:"José Silva",score:75,fatores:{comarca_uf:.8,advogado_ativo:.6,temporalidade:.7,nome_comum:!0},probabilidade:"ALTA",cnjs_suspeitos:["0001242-64.2024.5.02.0009","0001243-65.2024.5.02.0010"]}],padroes:{total_processos:1250,processos_com_triangulacao:15,processos_com_troca_direta:8,processos_com_prova_emprestada:12,testemunhas_profissionais:5,advogados_ofensores:["Dr. Carlos Costa","Dr. Fernando Pinto"],concentracao_uf:{SP:.65,RJ:.2,MG:.1,RS:.05}}},processos_scores:[{cnj:"0001234-56.2024.5.02.0001",score_final:92,score_breakdown:{total:92,components:{duplo_papel:{score:85,weight:.3,description:"Testemunha identificada como reclamante em outro processo",factor_type:"DUPLO_PAPEL"},prova_emprestada:{score:78,weight:.25,description:"Testemunha com histórico de múltiplos depoimentos",factor_type:"PROVA_EMPRESTADA"},troca_direta:{score:90,weight:.2,description:"Padrão de troca direta detectado",factor_type:"TROCA_DIRETA"}},classification:"CRITICO",recommendations:["Contraditar testemunha imediatamente","Investigar vínculo com advogados comuns","Solicitar análise de padrões de depoimento"],calculated_at:new Date().toISOString()},fatores_risco:["Testemunha com duplo papel (reclamante/testemunha)","Padrão de troca direta com alta confiança","Concentração geográfica suspeita"],classificacao_estrategica:"Crítico - Ação Imediata",prioridade_contradita:"URGENTE",confidence_level:.94,last_updated:new Date().toISOString()},{cnj:"0001235-57.2024.5.02.0002",score_final:87,score_breakdown:{total:87,components:{triangulacao:{score:85,weight:.15,description:"Parte de rede de triangulação identificada",factor_type:"TRIANGULACAO"},prova_emprestada:{score:82,weight:.25,description:"Testemunha profissional suspeita",factor_type:"PROVA_EMPRESTADA"}},classification:"CRITICO",recommendations:["Contraditar com urgência","Mapear rede completa de testemunhas"],calculated_at:new Date().toISOString()},fatores_risco:["Participação em rede de triangulação","Testemunha profissional confirmada"],classificacao_estrategica:"Crítico - Investigação Necessária",prioridade_contradita:"URGENTE",confidence_level:.91,last_updated:new Date().toISOString()},{cnj:"0001236-58.2024.5.02.0003",score_final:45,score_breakdown:{total:45,components:{homonimo:{score:65,weight:.1,description:"Possível homônimo detectado",factor_type:"HOMONIMO"}},classification:"BAIXO",recommendations:["Verificar identidade da testemunha","Monitorar para novos padrões"],calculated_at:new Date().toISOString()},fatores_risco:["Possível caso de homonímia"],classificacao_estrategica:"Normal - Monitoramento",prioridade_contradita:"BAIXA",confidence_level:.68,last_updated:new Date().toISOString()}],testemunhas_scores:[{nome:"Maria Santos",score_final:88,score_breakdown:{total:88,components:{prova_emprestada:{score:90,weight:.4,description:"Testemunha com 15+ depoimentos",factor_type:"PROVA_EMPRESTADA"},troca_direta:{score:85,weight:.3,description:"Participação confirmada em troca direta",factor_type:"TROCA_DIRETA"}},classification:"CRITICO",recommendations:["Contraditar em todos os casos pendentes","Investigar histórico completo"],calculated_at:new Date().toISOString()},classificacao:"PROFISSIONAL",alerta_prova_emprestada:!0,recomendacao_acao:"Contraditar imediatamente",risk_level:"CRITICO",last_updated:new Date().toISOString()},{nome:"João Silva",score_final:35,score_breakdown:{total:35,components:{homonimo:{score:70,weight:.15,description:"Nome comum, possível homonímia",factor_type:"HOMONIMO"}},classification:"BAIXO",recommendations:["Verificar CPF e documentos","Confirmar identidade antes de ação"],calculated_at:new Date().toISOString()},classificacao:"NORMAL",alerta_prova_emprestada:!1,recomendacao_acao:"Verificar identidade",risk_level:"BAIXO",last_updated:new Date().toISOString()}],scoring_metrics:{total_casos_analisados:1250,distribuicao_scores:{critico:3,alto:15,medio:125,baixo:850,minimo:257},avg_score:28.5,casos_contradita_recomendada:18,casos_investigacao_necessaria:25,accuracy_rate:.94},resumo_executivo:{total_processos:1250,processos_criticos:3,padroes_detectados:5,risco_geral:"MEDIO",confiabilidade_analise:94,observacoes_gerais:"A análise identificou padrões suspeitos concentrados em um pequeno grupo de testemunhas e advogados. Embora a maioria dos casos apresente baixo risco, há evidências claras de esquemas organizados de fraude testemunhal que requerem ação imediata. A concentração geográfica e temporal dos padrões sugere coordenação entre os envolvidos."},recomendacoes:{imediatas:["Contraditar testemunhas críticas (Maria Santos, Carlos Mendes) em todos os processos pendentes","Notificar Ministério Público sobre possível esquema organizado de fraude","Suspender andamento dos processos com score ≥ 85 até investigação completa","Implementar verificação de CPF obrigatória para todas as testemunhas"],curto_prazo:["Desenvolver protocolo de verificação automática de padrões suspeitos","Criar lista de observação para advogados e testemunhas recorrentes","Implementar sistema de alertas para casos similares futuros","Treinar equipe jurídica sobre identificação de padrões de fraude"],longo_prazo:["Estabelecer parcerias com outros escritórios para compartilhamento de inteligência","Desenvolver banco de dados nacional de testemunhas suspeitas","Criar metodologia de scoring preventivo para novos casos","Implementar auditoria trimestral de padrões emergentes"]},roi:{investimento:5e4,retorno:15e4,percentual:200}};function Dr(){return e.jsx(Nr,{children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Relatório Conclusivo"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Template para geração de relatórios conclusivos de análise de padrões"})]})}),e.jsx(Mr,{mockData:Or})]})})}const qr=Object.freeze(Object.defineProperty({__proto__:null,default:Dr},Symbol.toStringTag,{value:"Module"}));export{Nr as A,mt as C,Wa as D,Wr as M,qr as R,En as a,Za as b,Er as c,Lr as d,Fr as f,Ye as g,Ie as h,Q as i,hr as p,St as u};
