const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-DemoMapaTestemunhas-4oq8rycV.js","assets/vendor-BLhJxNng.js","assets/page-About-AENA6wUy.js","assets/page-admin-D1KXxdhO.js","assets/page-Login-PzH4NyGE.js","assets/page-MapaPage-D7X030f-.js","assets/page-Profile-V8jmXdaY.js","assets/page-PortalTitular-Cojz5W-Y.js","assets/page-ReportDemo-azHoxU5A.js","assets/page-super-admin-DwQgHiq9.js","assets/page-AppHome-ciG_2gfN.js","assets/page-settings-D1dgDiSW.js","assets/page-PublicHome-67TxGaKD.js","assets/page-NotFound-CHYoJcoV.js","assets/page-Beta-D7YpwFbJ.js","assets/page-Reset-BdJupFxn.js","assets/page-ResetConfirm-Dp1mwfUp.js","assets/reset-password-BS8Of9gG.js","assets/page-VerifyOtp-CgScHs7K.js","assets/page-TwoFactorSetup-B17uHrra.js","assets/page-TemplatePage-RFwID1ot.js","assets/page-PrivacyPolicy-CTx8VCj0.js","assets/page-TermsOfUse-skh8H1kb.js","assets/page-LGPD-DRZYDfsL.js","assets/page-ServerError-BNpudgod.js","assets/page-Status-DLGZeHHO.js"])))=>i.map(i=>d[i]);
import{B as b,C as R,b as q,d as I,_ as c,c as ie,n as ce,R as le,w as E,v as de,u as J,l as N,s as X,S as ue,N as Z,O as Q}from"./page-About-AENA6wUy.js";import{r as s,j as e,L as me,bO as ee,d0 as f,d5 as L,d6 as n,c as pe,af as he,ab as fe,u as xe,d7 as ge,d8 as _e,d9 as je,da as ve,db as Ee,dc as ye,cS as be,dd as Pe}from"./vendor-BLhJxNng.js";import{C as we,b as Oe,A as Ae,D as Ce,i as v,c as Te,g as A,d as Re}from"./page-ReportDemo-azHoxU5A.js";import{D as Ie,n as Le,o as Ne,p as Se,_ as De,e as V,U as ze,T as Ve}from"./page-MapaPage-D7X030f-.js";import{S as _}from"./page-Profile-V8jmXdaY.js";import{u as S,g as ke,f as Me,l as d,j as Fe}from"./page-Login-PzH4NyGE.js";import Be from"./page-ServerError-BNpudgod.js";import{P as He}from"./page-PublicHomeMinimal-BGCaR4p0.js";import{T as Ue}from"./page-PublicHome-67TxGaKD.js";import"./page-PortalTitular-Cojz5W-Y.js";import"./page-DemoMapaTestemunhas-4oq8rycV.js";import"./page-NotFound-CHYoJcoV.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}})();var We={};function $e(){const t=s.useContext(we);return typeof window>"u"?{preferences:null,open:!1,setOpen:()=>{},save:()=>{}}:typeof process<"u"&&We?.PRERENDER==="1"?{preferences:null,open:!1,setOpen:()=>{},save:()=>{}}:t||{preferences:null,open:!1,setOpen:()=>{},save:()=>{}}}function Ke(){return typeof window>"u"?null:e.jsx(Ye,{})}function Ye(){const{open:t,setOpen:r,preferences:a,save:o}=$e(),[i,l]=s.useState(!1),[p,h]=s.useState(!1);s.useEffect(()=>{a?(l(a.analytics),h(a.ads)):(l(!1),h(!1))},[a,t]);const m=T=>{o(T),r(!1)},u=()=>m({analytics:!0,ads:!0}),j=()=>m({analytics:!1,ads:!1}),P=()=>m({analytics:i,ads:p});return e.jsx(Ie,{open:t,onOpenChange:r,children:e.jsxs(Le,{role:"dialog","aria-labelledby":"consent-title","aria-describedby":"consent-desc",className:"max-w-[440px] md:max-w-[480px] p-4 md:p-5 rounded-2xl",children:[e.jsxs(Ne,{children:[e.jsx(Se,{id:"consent-title",className:"text-base md:text-lg",children:"Controle como usamos seus dados"}),e.jsx(De,{id:"consent-desc",className:"text-sm leading-snug",children:"Usamos cookies essenciais para o site funcionar. Com sua permissão, também usamos dados para Medição e Publicidade. Você pode aceitar, rejeitar ou personalizar."})]}),e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"text-sm leading-snug",children:[e.jsx("p",{className:"font-medium",children:"Essenciais"}),e.jsx("p",{className:"text-muted-foreground",children:"Necessários para segurança e navegação. Não usados para marketing."})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Sempre ativo"})]}),e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"text-sm leading-snug",children:[e.jsx("p",{className:"font-medium",children:"Medição"}),e.jsx("p",{className:"text-muted-foreground",children:"Métricas para melhorar sua experiência."})]}),e.jsx(V,{className:"origin-right scale-90",checked:i,onCheckedChange:l,"aria-label":"Ativar Medição"})]}),e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"text-sm leading-snug",children:[e.jsx("p",{className:"font-medium",children:"Publicidade"}),e.jsx("p",{className:"text-muted-foreground",children:"Anúncios relevantes e medição de campanhas."})]}),e.jsx(V,{className:"origin-right scale-90",checked:p,onCheckedChange:h,"aria-label":"Ativar Publicidade"})]})]}),e.jsxs("div",{className:"sticky bottom-0 mt-3 -mx-4 md:-mx-5 px-4 md:px-5 pt-3 border-t flex items-center justify-between gap-2",children:[e.jsx(b,{variant:"outline",className:"w-full",onClick:j,children:"Rejeitar tudo"}),e.jsx(b,{variant:"ghost",className:"w-full",onClick:P,children:"Salvar preferências"}),e.jsx(b,{className:"w-full",onClick:u,children:"Aceitar tudo"})]}),e.jsx("div",{className:"mt-3 text-center text-sm",children:e.jsx("a",{href:"/docs/privacidade",target:"_blank",rel:"noopener noreferrer",className:"underline underline-offset-4",children:"Política de Privacidade"})})]})})}function te(){return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{className:"h-8 w-64"}),e.jsx(_,{className:"h-4 w-96"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(R,{children:[e.jsx(q,{children:e.jsx(_,{className:"h-6 w-48"})}),e.jsxs(I,{className:"space-y-4",children:[e.jsx(_,{className:"h-4 w-full"}),e.jsx(_,{className:"h-4 w-3/4"}),e.jsx(_,{className:"h-4 w-1/2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((t,r)=>e.jsx(R,{children:e.jsxs(I,{className:"p-4 space-y-2",children:[e.jsx(_,{className:"h-4 w-full"}),e.jsx(_,{className:"h-4 w-2/3"}),e.jsx(_,{className:"h-8 w-20"})]})},r))})]})]})}const re=()=>{const{loading:t,user:r,profile:a}=S(),{loading:o,loadingProgress:i,isInitialized:l,currentOrg:p}=Oe();let h="auth",m="Autenticando...",u=i;!t&&r?a?o||!l?(h="organization",m="Carregando organizações...",u=Math.max(u,70)):(h="complete",m="Pronto!",u=100):(h="profile",m="Carregando perfil...",u=Math.max(u,50)):t&&(h="auth",m="Autenticando...",u=Math.min(u,30));const j=t||o||!l;return{isLoading:j,progress:u,phase:h,message:m,isReady:!j&&!!r&&!!a&&!!p}},Ge=()=>{const{isLoading:t,progress:r,message:a,phase:o}=re();if(!t)return null;const i={auth:"text-primary",profile:"text-blue-500",organization:"text-purple-500",complete:"text-green-500"};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"max-w-md w-full px-6 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(me,{className:`h-12 w-12 animate-spin mx-auto ${i[o]}`}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:a}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o==="auth"&&"Verificando credenciais...",o==="profile"&&"Carregando suas informações...",o==="organization"&&"Configurando ambiente...",o==="complete"&&"Finalizando..."]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ze,{value:r,className:"h-2"}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[Math.round(r),"%"]})]})]})})};function qe({children:t,requiredRole:r}){const{user:a,loading:o,profile:i}=S(),{isLoading:l}=re(),p=ee();if(o||l)return e.jsx(Ge,{});if(!a){const h=p.pathname+p.search;return e.jsx(f,{to:`/login?next=${encodeURIComponent(h)}`,replace:!0})}if(i&&!i.is_active)return e.jsx(f,{to:"/account-inactive",replace:!0});if(r&&i){const h=i.roles?.[0]?.role;if(h!==r&&h!=="ADMIN")return e.jsx(f,{to:"/app/dashboard",replace:!0})}return e.jsx(Ae,{children:t})}const Je=s.lazy(()=>c(()=>import("./page-DemoMapaTestemunhas-4oq8rycV.js").then(t=>t.D),__vite__mapDeps([0,1,2]))),Xe=()=>e.jsx("div",{className:"min-h-screen bg-background p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx(_,{className:"h-12 w-64"}),e.jsx(_,{className:"h-96 w-full"})]})});function Ze(){return e.jsx(s.Suspense,{fallback:e.jsx(Xe,{}),children:e.jsxs(L,{children:[e.jsx(n,{path:"mapa-testemunhas",element:e.jsx(Je,{})}),e.jsx(n,{path:"*",element:e.jsx(f,{to:"/",replace:!0})})]})})}let se=class extends s.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){const o=ke.system("React component error",{componentStack:a.componentStack,errorBoundary:!0,originalError:r.message,stack:r.stack}),i=Me.handle(o,"ErrorBoundary");this.setState({error:i,errorInfo:a}),this.props.onError&&this.props.onError(r,a)}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx(Be,{onRetry:this.handleReset}):this.props.children}};class Qe extends pe.Component{state={hasError:!1};static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("ErrorBoundary caught error:",r,a)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md mx-auto text-center p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"⚠️ Erro na Aplicação"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Algo deu errado. Verifique o console para mais detalhes."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Recarregar Página"})]})}):this.props.children}}class et extends s.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("Login Error Boundary caught an error:",r,a)}handleRetry=()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs(R,{className:"w-full max-w-md",children:[e.jsxs(q,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:e.jsx(he,{className:"h-6 w-6 text-red-600"})}),e.jsx(ie,{className:"text-xl",children:"Erro ao Carregar Login"}),e.jsx(ce,{children:"Ocorreu um erro inesperado ao carregar a página de login."})]}),e.jsxs(I,{className:"space-y-4",children:[this.state.error&&e.jsx("div",{className:"rounded-md bg-red-50 p-3",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Erro:"})," ",this.state.error.message]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(b,{onClick:this.handleRetry,className:"w-full",variant:"default",children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),"Tentar Novamente"]}),e.jsx(b,{onClick:()=>window.location.href="/",className:"w-full",variant:"outline",children:"Voltar ao Início"})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Se o problema persistir, entre em contato com o suporte."})})]})]})}):this.props.children}}class tt{originalConsole={log:console.log,warn:console.warn,info:console.info,debug:console.debug};config={enabledMethods:[],preserveErrors:!0,structuredLogging:!0};constructor(r){r&&(this.config={...this.config,...r})}cleanProductionLogs(){console.log=(...r)=>{this.config.structuredLogging&&d.info("Legacy console.log usage",{args:r},"LogCleaner")},console.warn=(...r)=>{this.config.structuredLogging&&d.warn("Legacy console.warn usage",{args:r},"LogCleaner")},console.info=(...r)=>{this.config.structuredLogging&&d.info("Legacy console.info usage",{args:r},"LogCleaner")},console.debug=(...r)=>{this.config.structuredLogging&&d.debug("Legacy console.debug usage",{args:r},"LogCleaner")}}restoreConsole(){Object.assign(console,this.originalConsole)}interceptLegacyLogs(){console.log=(...r)=>{d.info("Intercepted console.log",{args:r},"LegacyInterceptor")},console.warn=(...r)=>{d.warn("Intercepted console.warn",{args:r},"LegacyInterceptor")},console.info=(...r)=>{d.info("Intercepted console.info",{args:r},"LegacyInterceptor")}}}const rt=new tt({enabledMethods:[],preserveErrors:!0,structuredLogging:!0}),st=()=>{rt.cleanProductionLogs()};class nt{config={enableResourceHints:!0,enableServiceWorker:!1,enableCriticalResourcePrefetch:!0,enableMemoryOptimization:!0};constructor(r){r&&(this.config={...this.config,...r})}optimize(){try{this.addResourceHints(),this.enableCriticalResourcePrefetch(),this.setupMemoryOptimization(),this.manageServiceWorker(),d.info("Performance optimizations applied successfully",{},"PerformanceOptimizer")}catch(r){d.error("Failed to apply performance optimizations",{error:r},"PerformanceOptimizer")}}addResourceHints(){if(!this.config.enableResourceHints)return;const r=document.head;["https://fgjypmlszuzkgvhuszxn.supabase.co","https://fonts.googleapis.com","https://fonts.gstatic.com"].forEach(i=>{const l=document.createElement("link");l.rel="dns-prefetch",l.href=i,r.appendChild(l)}),["https://fgjypmlszuzkgvhuszxn.supabase.co"].forEach(i=>{const l=document.createElement("link");l.rel="preconnect",l.href=i,l.crossOrigin="anonymous",r.appendChild(l)})}enableCriticalResourcePrefetch(){this.config.enableCriticalResourcePrefetch&&"requestIdleCallback"in window&&requestIdleCallback(()=>{["/mapa","/admin","/dashboard"].forEach(a=>{const o=document.createElement("link");o.rel="prefetch",o.href=a,document.head.appendChild(o)})})}setupMemoryOptimization(){if(!this.config.enableMemoryOptimization)return;const r=window;"gc"in r&&typeof r.gc=="function"&&"requestIdleCallback"in window&&requestIdleCallback(()=>{try{r.gc?.()}catch{}}),window.addEventListener("beforeunload",()=>{performance.clearMarks(),performance.clearMeasures()})}manageServiceWorker(){if("serviceWorker"in navigator){if(this.config.enableServiceWorker){navigator.serviceWorker.register("/sw.js").then(r=>{d.info("Service Worker registered successfully",{scope:r.scope},"PerformanceOptimizer")}).catch(r=>{d.warn("Service Worker registration failed",{error:r},"PerformanceOptimizer")});return}navigator.serviceWorker.getRegistrations().then(r=>{r.length!==0&&(r.forEach(a=>{a.unregister().catch(o=>{d.warn("Service Worker unregistration failed",{error:o},"PerformanceOptimizer")})}),d.info("Existing Service Workers unregistered",{count:r.length},"PerformanceOptimizer"))}).catch(r=>{d.warn("Failed to fetch Service Worker registrations",{error:r},"PerformanceOptimizer")})}}monitorCriticalMetrics(){try{if(window.addEventListener("load",()=>{const r=performance.timing;if(r){const i=r.loadEventEnd-r.navigationStart,l=r.domContentLoadedEventEnd-r.navigationStart,p=r.responseStart-r.navigationStart;d.info("Performance metrics",{loadTime:i,domContentLoaded:l,firstByte:p},"WebVitals")}const o=performance.getEntriesByType("resource").filter(i=>i.duration>1e3);o.length>0&&d.warn("Slow resources detected",{count:o.length,resources:o.slice(0,5).map(i=>({name:i.name,duration:i.duration}))},"WebVitals")}),"PerformanceObserver"in window)try{new PerformanceObserver(a=>{a.getEntries().forEach(o=>{o.entryType==="measure"&&d.info("Custom performance measure",{name:o.name,duration:o.duration},"WebVitals")})}).observe({entryTypes:["measure"]})}catch{}}catch(r){d.warn("Performance monitoring setup failed",{error:r},"PerformanceOptimizer")}}}const k=new nt,at=()=>{k.optimize(),k.monitorCriticalMetrics()},ot=()=>(s.useEffect(()=>{try{if(st(),at(),typeof window<"u"){const t=window,r=t.__REACT_DEVTOOLS_GLOBAL_HOOK__,a=r&&typeof r=="object"?r:{};t.__REACT_DEVTOOLS_GLOBAL_HOOK__={...a,onCommitFiberRoot:()=>{},onCommitFiberUnmount:()=>{},isDisabled:!0}}if(delete window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,delete window.__REDUX_DEVTOOLS_EXTENSION__,typeof performance<"u"){const t=performance.memory?.usedJSHeapSize,r=performance.now();requestAnimationFrame(()=>{const o=performance.now()-r;d.info("Perf snapshot",{heapBytes:t,approxFps:o>0?Math.round(1e3/o):null},"ProductionOptimizer")})}}catch(t){console.error("Failed to initialize production optimizations:",t)}},[]),null),it=le(E(),de()),ct=J({flags:it}),ne=s.createContext({}),lt=({children:t})=>{const{user:r,profile:a}=S(),o=a?.organization_id,i=r?.id,l="production",{featureFlagsRefreshInterval:p,featureFlagsCacheTtl:h}=N(),m=o&&i?`ff:${o}:${i}:${l}`:null,u=s.useRef(null),j=()=>{if(!m)return null;try{const x=localStorage.getItem(m);return x?JSON.parse(x):null}catch{return null}},P=x=>Date.now()-x.ts<=h,[T,w]=s.useState(()=>j()?.flags??{}),oe=x=>{m&&localStorage.setItem(m,JSON.stringify({ts:Date.now(),flags:x}))},D=async()=>{if(!(!o||!i))try{const{data:x,error:O}=await X.functions.invoke("evaluate_flags",{body:{tenant_id:o,user_id:i,segments:a?.plan?[a.plan]:[],environment:l}});if(O)throw O;const z=ct.parse(x);oe(z.flags),w(z.flags)}catch{const x=j();x&&P(x)&&w(x.flags)}};return s.useEffect(()=>()=>{},[o,i,l,a?.plan,m]),s.useEffect(()=>{u.current&&u.current!==m&&localStorage.removeItem(u.current),u.current=m;const x=j();w(x?x.flags:{}),D();const O=setInterval(D,p);return()=>clearInterval(O)},[m,p,o,i,l]),e.jsx(ne.Provider,{value:T,children:t})},dt=(t,r=!1)=>{const o=!!s.useContext(ne)[t],i=s.useRef(o);return s.useEffect(()=>{i.current=o},[o,r,t]),o},ut=({flag:t,children:r,fallback:a})=>dt(t)?e.jsx(e.Fragment,{children:r}):e.jsx(e.Fragment,{children:a??null}),ae=s.createContext(!1);function mt({children:t,value:r}){const{maintenance:a}=N(),o=r??a;return e.jsx(ae.Provider,{value:o,children:t})}function pt(){return s.useContext(ae)}function ht({children:t}){return e.jsx(e.Fragment,{children:t})}function ft({children:t}){const r=xe();return s.useEffect(()=>{const{data:a}=X.auth.onAuthStateChange(o=>{o==="PASSWORD_RECOVERY"&&r("/reset-password")});return()=>{a.subscription.unsubscribe()}},[r]),e.jsx(e.Fragment,{children:t})}const xt=({...t})=>{const{theme:r="system"}=ge();return e.jsx(_e,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},gt=s.createContext(void 0),M=1e3,_t=8e3,jt=5e3;function vt({children:t}){const[r,a]=s.useState(!1),o=s.useRef(null),i=s.useRef(0),l=s.useRef(M),p=async m=>{o.current=m,i.current=Date.now();try{const u=await m();return a(!1),l.current=M,u}catch(u){throw(u?.status>=500||u?.name==="AbortError"||u?.message?.includes("Network"))&&a(!0),u}},h=async()=>{if(!(!o.current||Date.now()-i.current<jt)){await new Promise(u=>setTimeout(u,l.current)),l.current=Math.min(l.current*2,_t),i.current=Date.now();try{await p(o.current)}catch{}}};return e.jsx(gt.Provider,{value:{execute:p,retry:h,isUnavailable:r},children:t})}const Et=new je({defaultOptions:{queries:{retry:3,staleTime:300*1e3,refetchOnWindowFocus:!1}}});function yt({children:t}){return e.jsx(ve,{client:Et,children:e.jsx(vt,{children:e.jsx(Fe,{children:e.jsx(ft,{children:e.jsx(lt,{children:e.jsxs(Ve,{children:[e.jsx(Ue,{}),e.jsx(xt,{}),t]})})})})})})}const F=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.D),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),bt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.A),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),B=s.lazy(()=>c(()=>import("./page-super-admin-DwQgHiq9.js").then(t=>t.D),__vite__mapDeps([9,1,2,4,6,5,0,7,8]))),Pt=s.lazy(()=>c(()=>import("./page-super-admin-DwQgHiq9.js").then(t=>t.U),__vite__mapDeps([9,1,2,4,6,5,0,7,8]))),wt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.I),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Ot=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.V),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),H=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.O),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),At=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.S),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Ct=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.C),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Tt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.M),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Rt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.a),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),It=s.lazy(()=>c(()=>import("./page-AppHome-ciG_2gfN.js"),__vite__mapDeps([10,1,2]))),Lt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.b),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Nt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.K),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),St=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.c),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Dt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.P),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),zt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.d),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Vt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.e),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),kt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.f),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Mt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.F),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Ft=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.g),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Bt=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.B),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Ht=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.h),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Ut=s.lazy(()=>c(()=>import("./page-admin-D1KXxdhO.js").then(t=>t.T),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),Wt=s.lazy(()=>c(()=>import("./page-Profile-V8jmXdaY.js").then(t=>t.P),__vite__mapDeps([6,1,2,4,5,0,7]))),$t=s.lazy(()=>c(()=>import("./page-settings-D1dgDiSW.js"),__vite__mapDeps([11,1,2,4,6,5,0,7,8]))),Kt=s.lazy(()=>c(()=>import("./page-MapaPage-D7X030f-.js").then(t=>t.a3),__vite__mapDeps([5,1,2,4,0]))),U=s.lazy(()=>c(()=>import("./page-PublicHome-67TxGaKD.js").then(t=>t.P),__vite__mapDeps([12,2,1,4,13,7,5,0,6]))),Yt=s.lazy(()=>c(()=>import("./page-About-AENA6wUy.js").then(t=>t.U),__vite__mapDeps([2,1]))),Gt=s.lazy(()=>c(()=>import("./page-Beta-D7YpwFbJ.js"),__vite__mapDeps([14,1,2]))),qt=s.lazy(()=>c(()=>import("./page-Login-PzH4NyGE.js").then(t=>t.k),__vite__mapDeps([4,1,2]))),Jt=s.lazy(()=>c(()=>import("./page-Reset-BdJupFxn.js"),__vite__mapDeps([15,1,2,4]))),Xt=s.lazy(()=>c(()=>import("./page-ResetConfirm-Dp1mwfUp.js"),__vite__mapDeps([16,1,2,4,5,0]))),Zt=s.lazy(()=>c(()=>import("./reset-password-BS8Of9gG.js"),__vite__mapDeps([17,1,2]))),Qt=s.lazy(()=>c(()=>import("./page-VerifyOtp-CgScHs7K.js"),__vite__mapDeps([18,1,2,4,19]))),er=s.lazy(()=>c(()=>import("./page-PortalTitular-Cojz5W-Y.js").then(t=>t.P),__vite__mapDeps([7,1,2,4,5,0]))),tr=s.lazy(()=>c(()=>import("./page-NotFound-CHYoJcoV.js").then(t=>t.N),__vite__mapDeps([13,1,2,4]))),rr=s.lazy(()=>c(()=>import("./page-TemplatePage-RFwID1ot.js"),__vite__mapDeps([20,1,2,0,4,5]))),sr=s.lazy(()=>c(()=>import("./page-ReportDemo-azHoxU5A.js").then(t=>t.R),__vite__mapDeps([8,2,1,4,7,5,0,6]))),W=s.lazy(()=>c(()=>import("./page-PrivacyPolicy-CTx8VCj0.js"),__vite__mapDeps([21,1,2]))),$=s.lazy(()=>c(()=>import("./page-TermsOfUse-skh8H1kb.js"),__vite__mapDeps([22,1,2]))),nr=s.lazy(()=>c(()=>import("./page-LGPD-DRZYDfsL.js"),__vite__mapDeps([23,1,2]))),ar=s.lazy(()=>c(()=>import("./page-TwoFactorSetup-B17uHrra.js").then(t=>t.T),__vite__mapDeps([19,1,2,4]))),or=s.lazy(()=>c(()=>import("./page-ServerError-BNpudgod.js"),__vite__mapDeps([24,1,2,4,13]))),K=s.lazy(()=>c(()=>import("./page-Status-DLGZeHHO.js"),__vite__mapDeps([25,1,2])));function ir(){return pt()?e.jsxs(L,{children:[e.jsx(n,{path:"/",element:e.jsx(U,{})}),e.jsx(n,{path:"/status",element:e.jsx(K,{})}),e.jsx(n,{path:"*",element:e.jsx(f,{to:"/status",replace:!0})})]}):e.jsxs(L,{children:[e.jsx(n,{path:"/",element:e.jsx(U,{})}),e.jsx(n,{path:"/sobre",element:e.jsx(Yt,{})}),e.jsx(n,{path:"/beta",element:e.jsx(Gt,{})}),e.jsx(n,{path:"/login",element:e.jsx(et,{children:e.jsx(qt,{})})}),e.jsx(n,{path:"/reset",element:e.jsx(Jt,{})}),e.jsx(n,{path:"/reset/confirm",element:e.jsx(Xt,{})}),e.jsx(n,{path:"/reset-password",element:e.jsx(Zt,{})}),e.jsx(n,{path:"/verify-otp",element:e.jsx(Qt,{})}),e.jsx(n,{path:"/portal-titular",element:e.jsx(er,{})}),e.jsx(n,{path:"/import/template",element:e.jsx(rr,{})}),e.jsx(n,{path:"/privacidade",element:e.jsx(W,{})}),e.jsx(n,{path:"/termos",element:e.jsx($,{})}),e.jsx(n,{path:"/politica-de-privacidade",element:e.jsx(W,{})}),e.jsx(n,{path:"/termos-de-uso",element:e.jsx($,{})}),e.jsx(n,{path:"/lgpd",element:e.jsx(nr,{})}),e.jsx(n,{path:"/500",element:e.jsx(or,{})}),e.jsx(n,{path:"/status",element:e.jsx(K,{})}),e.jsx(n,{path:"/demo/*",element:e.jsx(Ze,{})}),e.jsxs(n,{path:"/app/*",element:e.jsx(qe,{children:e.jsx(se,{children:e.jsx(s.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(be,{})})})}),children:[e.jsx(n,{index:!0,element:e.jsx(f,{to:"/app/dashboard",replace:!0})}),e.jsx(n,{path:"dashboard",element:e.jsx(It,{})}),e.jsx(n,{path:"mapa-testemunhas",element:e.jsx(Kt,{})}),e.jsx(n,{path:"mapa",element:e.jsx(f,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"dados",element:e.jsx(f,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"dados/mapa",element:e.jsx(f,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"chat",element:e.jsx(f,{to:"/app/mapa-testemunhas?view=chat",replace:!0})}),e.jsx(n,{path:"super-admin",element:e.jsx(B,{})}),e.jsx(n,{path:"super-admin/dashboard",element:e.jsx(B,{})}),e.jsx(n,{path:"super-admin/users",element:e.jsx(Pt,{})}),e.jsx(n,{path:"admin",element:e.jsx(F,{})}),e.jsx(n,{path:"admin/dashboard",element:e.jsx(F,{})}),e.jsx(n,{path:"admin/analytics",element:e.jsx(bt,{})}),e.jsx(n,{path:"admin/metrics",element:e.jsx(kt,{})}),e.jsx(n,{path:"admin/feature-flags/metrics",element:e.jsx(Mt,{})}),e.jsx(n,{path:"admin/ia",element:e.jsx(Lt,{})}),e.jsx(n,{path:"admin/ia/chaves",element:e.jsx(Nt,{})}),e.jsx(n,{path:"admin/ia/modelos",element:e.jsx(St,{})}),e.jsx(n,{path:"admin/ia/prompt-studio",element:e.jsx(Dt,{})}),e.jsx(n,{path:"admin/ia/testes",element:e.jsx(zt,{})}),e.jsx(n,{path:"admin/base-import",element:e.jsx(wt,{})}),e.jsx(n,{path:"admin/base-import/test",element:e.jsx(Vt,{})}),e.jsx(n,{path:"import",element:e.jsx(f,{to:"/app/admin/base-import",replace:!0})}),e.jsx(n,{path:"admin/base",element:e.jsx(Ft,{})}),e.jsxs(n,{path:"admin/base/*",element:e.jsx(Bt,{}),children:[e.jsx(n,{path:"processos",element:e.jsx(Ht,{})}),e.jsx(n,{path:"testemunhas",element:e.jsx(Ut,{})})]}),e.jsx(n,{path:"admin/versoes",element:e.jsx(Ot,{})}),e.jsx(n,{path:"admin/org",element:e.jsx(H,{})}),e.jsx(n,{path:"admin/organization",element:e.jsx(H,{})}),e.jsx(n,{path:"admin/compliance",element:e.jsx(Ct,{})}),e.jsx(n,{path:"admin/marketing",element:e.jsx(Tt,{})}),e.jsx(n,{path:"admin/retencao",element:e.jsx(Rt,{})}),e.jsx(n,{path:"admin/config",element:e.jsx(At,{})}),e.jsx(n,{path:"relatorio",element:e.jsx(ut,{flag:"advanced-report",children:e.jsx(sr,{})})}),e.jsx(n,{path:"account/2fa",element:e.jsx(ar,{})}),e.jsx(n,{path:"profile",element:e.jsx(Wt,{})}),e.jsx(n,{path:"settings",element:e.jsx($t,{})})]}),e.jsx(n,{path:"/dashboard",element:e.jsx(f,{to:"/app/dashboard",replace:!0})}),e.jsx(n,{path:"/mapa-testemunhas",element:e.jsx(f,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"/mapa",element:e.jsx(f,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"/admin/*",element:e.jsx(f,{to:"/app/admin",replace:!0})}),e.jsx(n,{path:"/profile",element:e.jsx(f,{to:"/app/profile",replace:!0})}),e.jsx(n,{path:"/settings",element:e.jsx(f,{to:"/app/settings",replace:!0})}),e.jsx(n,{path:"/chat",element:e.jsx(f,{to:"/app/mapa-testemunhas?view=chat",replace:!0})}),e.jsx(n,{path:"*",element:e.jsx(tr,{})})]})}const cr=ye,lr=()=>{const r=ee().pathname==="/";return e.jsx(Qe,{children:e.jsxs(se,{children:[e.jsx(ot,{}),e.jsx(Ee,{reducedMotion:"user",transition:Ce,children:e.jsx(cr,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:r?e.jsx(ht,{children:e.jsx(He,{})}):e.jsxs(yt,{children:[e.jsx(Ke,{}),e.jsx(s.Suspense,{fallback:e.jsx(te,{}),children:e.jsx(ir,{})})]})})})]})})},dr=J({VITE_SUPABASE_URL:E().url("VITE_SUPABASE_URL deve ser uma URL válida"),VITE_SUPABASE_ANON_KEY:E().min(1,"VITE_SUPABASE_ANON_KEY é obrigatória"),VITE_SENTRY_DSN:E().optional(),VITE_POSTHOG_KEY:E().optional(),VITE_POSTHOG_HOST:E().optional()});function ur(){try{return dr.parse({VITE_SUPABASE_URL:"<<MANTER>>",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZnanlwbWxzenV6a2d2aHVzenhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMzE4MjQsImV4cCI6MjA3MTYwNzgyNH0.lN-Anhn1e-2SCDIAe6megYRHdhofe1VO71D6-Zk70XU",VITE_SENTRY_DSN:void 0,VITE_POSTHOG_KEY:void 0,VITE_POSTHOG_HOST:void 0})}catch(t){if(t instanceof ue){const r=t.errors.map(a=>`  - ${a.path.join(".")}: ${a.message}`).join(`
`);throw new Error(`❌ Variáveis de ambiente inválidas ou faltando:

${r}

📝 Crie um arquivo .env na raiz do projeto com as variáveis necessárias.
📖 Consulte .env.example para referência.
`)}throw t}}function mr(){try{return ur()}catch(t){throw t}}function pr(t){if(!v)return;const r=A();r&&(r.body.innerHTML=`
      <div style="font-family: system-ui; max-width: 600px; margin: 100px auto; padding: 20px;">
        <h1 style="color: #ef4444;">⚠️ Configuração Incompleta</h1>
        <p style="font-size: 18px; line-height: 1.6;">
          Variáveis de ambiente obrigatórias não foram encontradas.
        </p>
        <pre style="background: #f3f4f6; padding: 15px; border-radius: 8px; overflow-x: auto;">
${t.message}
        </pre>
        <p style="margin-top: 20px;">
          <strong>Como corrigir:</strong><br>
          1. Copie o arquivo <code>.env.example</code> para <code>.env</code><br>
          2. Preencha as variáveis com seus valores reais<br>
          3. Reinicie o servidor de desenvolvimento
        </p>
      </div>
    `)}try{mr(),d.info("Environment variables validated successfully",{},"MainApp")}catch(t){d.error("Environment validation failed",{error:t},"MainApp"),console.error(t),v&&pr(t instanceof Error?t:new Error("Erro desconhecido"))}let C;try{C=N().sentryDsn}catch(t){console.error("Failed to get environment configuration:",t),C=void 0}function Y(){if(typeof window>"u"||!C)return;if(!Z().measure){d.info("Sentry initialization skipped - no analytics consent",{},"MainApp");return}c(()=>import("./vendor-BLhJxNng.js").then(r=>r.dh),__vite__mapDeps([1,2])).then(r=>{r.init({dsn:C,tracesSampleRate:1,beforeSend(a){return a.user&&(delete a.user.email,delete a.user.username),a}}),d.info("Sentry initialized successfully with consent",{},"MainApp")}).catch(()=>{d.warn("Sentry not available",{},"MainApp")})}v&&(Y(),Q(t=>{t.measure?Y():d.info("Sentry consent revoked",{},"MainApp")}));v&&Te();let g=null,y=!1;function G(){if(!v||g||y)return;y=!0;const t=A();t&&(g=t.createElement("script"),g.src="https://assistjur.com.br/~flock.js",g.defer=!0,g.id="aj-flock",g.onerror=()=>{d.warn("Analytics script failed to load",{},"MainApp"),g=null,y=!1},setTimeout(()=>{g&&!t.getElementById("aj-flock")&&(d.warn("Analytics script load timeout",{},"MainApp"),g=null,y=!1)},1e4),t.head.appendChild(g)),d.info("Analytics script loaded",{},"MainApp")}function hr(){v&&(g?.remove(),g=null,y=!1)}if(v)try{Z().measure&&G(),Q(a=>{a.measure?G():hr()});const r=A();if(r){const a=r.getElementById("root");a&&Pe.createRoot(a).render(e.jsx(s.StrictMode,{children:e.jsx(Re,{children:e.jsx(mt,{children:e.jsx(lr,{})})})}))}}catch(t){console.error("Failed to initialize application:",t);const r=A();r&&(r.body.innerHTML=`
        <div style="font-family: system-ui; max-width: 600px; margin: 100px auto; padding: 20px;">
          <h1 style="color: #ef4444;">Erro ao Carregar Aplicação</h1>
          <p>Ocorreu um erro ao inicializar a aplicação. Por favor, tente novamente mais tarde.</p>
          <pre style="background: #f3f4f6; padding: 15px; border-radius: 8px; overflow-x: auto; font-size: 12px;">
${t instanceof Error?t.message:"Erro desconhecido"}
          </pre>
        </div>
      `)}export{$e as u};
