import{u as h,r as m,y as R,j as e,v as C,L as f,N,ad as D,a0 as r}from"./vendor-D1d7OkBP.js";import{r as V,B as u,u as U,s as v,l as O,w as G}from"./page-About-DVDndw53.js";import{e as x,A as p,f as H,L as y,I as w,E as S}from"./page-Login-S72vQk8p.js";const L=U({email:G().email("E-mail inválido")}),I=()=>{const l=h(),[i,c]=m.useState(!1),[j,a]=m.useState(!1),[g,d]=m.useState(""),s=R({resolver:V(L),defaultValues:{email:""}}),b=async t=>{c(!0);try{if(!v){r.success("E-mail enviado!",{description:"Instruções de redefinição foram enviadas (modo demo)."}),d(t.email),a(!0);return}let n;try{n=O().siteUrl}catch{r.error("Configuração inválida",{description:"URL do site não configurada."});return}const{error:o}=await v.auth.resetPasswordForEmail(t.email,{redirectTo:`${n}/reset-password`});if(o){if(o?.status===429){r.error("Muitas tentativas",{description:S.RATE_LIMIT});return}throw o}r.success("E-mail enviado!",{description:"Verifique sua caixa de entrada para redefinir sua senha."}),d(t.email),a(!0)}catch(n){console.error("Password reset error:",n),r.error("Erro no envio",{description:"Se o e-mail estiver cadastrado, você receberá as instruções."})}finally{c(!1)}},E=()=>{a(!1),s.handleSubmit(b)()};return j?e.jsxDEV("div",{className:"min-h-screen bg-gradient-subtle flex flex-col justify-center px-6 py-12",children:e.jsxDEV("div",{className:"mx-auto w-full max-w-md",children:[e.jsxDEV("div",{className:"flex items-center justify-center mb-8",children:e.jsxDEV(x,{size:"lg",className:"gap-3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:104,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:103,columnNumber:11},void 0),e.jsxDEV(p,{title:"E-mail enviado",description:"Verifique sua caixa de entrada",children:e.jsxDEV("div",{className:"text-center space-y-6",role:"alert","aria-live":"polite",children:[e.jsxDEV("div",{className:"mx-auto p-3 bg-success/10 rounded-full w-fit",children:e.jsxDEV(C,{className:"h-8 w-8 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:117,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:116,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Enviamos as instruções de redefinição de senha para:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:121,columnNumber:17},void 0),e.jsxDEV("p",{className:"font-medium break-all",children:g},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:124,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:120,columnNumber:15},void 0),e.jsxDEV(H,{variant:"info",children:e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("p",{children:"Não encontrou o e-mail?"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:129,columnNumber:19},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-left",children:[e.jsxDEV("li",{children:"Verifique a pasta de spam/lixo eletrônico"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV("li",{children:"O e-mail pode levar alguns minutos para chegar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:132,columnNumber:21},void 0),e.jsxDEV("li",{children:"Certifique-se de que o endereço está correto"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:133,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:130,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:128,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:127,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(u,{variant:"outline",onClick:E,className:"w-full",disabled:i,children:i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(f,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:147,columnNumber:23},void 0),"Reenviando..."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:146,columnNumber:21},void 0):"Reenviar e-mail"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:139,columnNumber:17},void 0),e.jsxDEV(u,{variant:"ghost",onClick:()=>l("/login"),className:"w-full",children:[e.jsxDEV(N,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:160,columnNumber:19},void 0),"Voltar ao login"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:155,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:138,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:111,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:107,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:101,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:100,columnNumber:7},void 0):e.jsxDEV("div",{className:"min-h-screen bg-gradient-subtle flex flex-col justify-center px-6 py-12",children:e.jsxDEV("div",{className:"mx-auto w-full max-w-md",children:[e.jsxDEV("div",{className:"flex items-center justify-center mb-8",children:e.jsxDEV(x,{size:"lg",className:"gap-3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:176,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:175,columnNumber:9},void 0),e.jsxDEV(p,{title:"Redefinir senha",description:"Digite seu e-mail para receber as instruções",children:e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto p-3 bg-primary/10 rounded-full w-fit mb-4",children:e.jsxDEV(D,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:186,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:185,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Enviaremos um link seguro para redefinir sua senha"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:188,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:184,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:s.handleSubmit(b),className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(y,{htmlFor:"email",children:"E-mail"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:198,columnNumber:17},void 0),e.jsxDEV(w,{id:"email",type:"email",placeholder:"seu@email.com",...s.register("email"),className:s.formState.errors.email?"border-destructive":"",autoFocus:!0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:199,columnNumber:17},void 0),s.formState.errors.email&&e.jsxDEV("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:s.formState.errors.email.message},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:210,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:197,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(u,{type:"submit",className:"w-full",disabled:i,children:i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(f,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:224,columnNumber:23},void 0),"Enviando..."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:223,columnNumber:21},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(D,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:229,columnNumber:23},void 0),"Enviar instruções"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:228,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:221,columnNumber:17},void 0),e.jsxDEV(u,{type:"button",variant:"ghost",onClick:()=>l("/login"),className:"w-full",children:[e.jsxDEV(N,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:241,columnNumber:19},void 0),"Voltar ao login"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:235,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:220,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:193,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center",children:"Por segurança, não informamos se o e-mail está cadastrado em nossa base."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:247,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:183,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:179,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:173,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/Reset.tsx",lineNumber:172,columnNumber:5},void 0)};export{I as default};
