import{u as h,r as m,F as R,j as e,x as k,L as N,P as p,M as x}from"./vendor-B8znzfp2.js";import{q as V,B as l,r as D,s as b,k as y,v as S}from"./page-About-Cx_WpGeO.js";import{f as j,A as v,g as C,L,I as F,u as a,E as q}from"./page-Login-C96z17Ba.js";const A=D({email:S().email("E-mail inválido")}),P=()=>{const c=h(),[r,o]=m.useState(!1),[g,t]=m.useState(!1),[w,d]=m.useState(""),s=R({resolver:V(A),defaultValues:{email:""}}),f=async n=>{o(!0);try{if(!b){a.success("E-mail enviado!",{description:"Instruções de redefinição foram enviadas (modo demo)."}),d(n.email),t(!0);return}let i;try{i=y().siteUrl}catch{a.error("Configuração inválida",{description:"URL do site não configurada."});return}const{error:u}=await b.auth.resetPasswordForEmail(n.email,{redirectTo:`${i}/reset-password`});if(u){if(u?.status===429){a.error("Muitas tentativas",{description:q.RATE_LIMIT});return}throw u}a.success("E-mail enviado!",{description:"Verifique sua caixa de entrada para redefinir sua senha."}),d(n.email),t(!0)}catch(i){console.error("Password reset error:",i),a.error("Erro no envio",{description:"Se o e-mail estiver cadastrado, você receberá as instruções."})}finally{o(!1)}},E=()=>{t(!1),s.handleSubmit(f)()};return g?e.jsxDEV("div",{className:"min-h-screen bg-gradient-subtle flex flex-col justify-center px-6 py-12",children:e.jsxDEV("div",{className:"mx-auto w-full max-w-md",children:[e.jsxDEV("div",{className:"flex items-center justify-center mb-8",children:e.jsxDEV(j,{size:"lg",className:"gap-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:104,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:103,columnNumber:11},void 0),e.jsxDEV(v,{title:"E-mail enviado",description:"Verifique sua caixa de entrada",children:e.jsxDEV("div",{className:"text-center space-y-6",role:"alert","aria-live":"polite",children:[e.jsxDEV("div",{className:"mx-auto p-3 bg-success/10 rounded-full w-fit",children:e.jsxDEV(k,{className:"h-8 w-8 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:117,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:116,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Enviamos as instruções de redefinição de senha para:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:121,columnNumber:17},void 0),e.jsxDEV("p",{className:"font-medium break-all",children:w},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:124,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:120,columnNumber:15},void 0),e.jsxDEV(C,{variant:"info",children:e.jsxDEV("div",{className:"space-y-2 text-sm",children:[e.jsxDEV("p",{children:"Não encontrou o e-mail?"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:129,columnNumber:19},void 0),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-left",children:[e.jsxDEV("li",{children:"Verifique a pasta de spam/lixo eletrônico"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV("li",{children:"O e-mail pode levar alguns minutos para chegar"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:132,columnNumber:21},void 0),e.jsxDEV("li",{children:"Certifique-se de que o endereço está correto"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:133,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:130,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:128,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:127,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(l,{variant:"outline",onClick:E,className:"w-full",disabled:r,children:r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(N,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:147,columnNumber:23},void 0),"Reenviando..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:146,columnNumber:21},void 0):"Reenviar e-mail"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:139,columnNumber:17},void 0),e.jsxDEV(l,{variant:"ghost",onClick:()=>c("/login"),className:"w-full",children:[e.jsxDEV(p,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:160,columnNumber:19},void 0),"Voltar ao login"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:155,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:138,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:111,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:107,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:101,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:100,columnNumber:7},void 0):e.jsxDEV("div",{className:"min-h-screen bg-gradient-subtle flex flex-col justify-center px-6 py-12",children:e.jsxDEV("div",{className:"mx-auto w-full max-w-md",children:[e.jsxDEV("div",{className:"flex items-center justify-center mb-8",children:e.jsxDEV(j,{size:"lg",className:"gap-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:176,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:175,columnNumber:9},void 0),e.jsxDEV(v,{title:"Redefinir senha",description:"Digite seu e-mail para receber as instruções",children:e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"mx-auto p-3 bg-primary/10 rounded-full w-fit mb-4",children:e.jsxDEV(x,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:186,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:185,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Enviaremos um link seguro para redefinir sua senha"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:188,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:184,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:s.handleSubmit(f),className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(L,{htmlFor:"email",children:"E-mail"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:198,columnNumber:17},void 0),e.jsxDEV(F,{id:"email",type:"email",placeholder:"seu@email.com",...s.register("email"),className:s.formState.errors.email?"border-destructive":"",autoFocus:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:199,columnNumber:17},void 0),s.formState.errors.email&&e.jsxDEV("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:s.formState.errors.email.message},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:210,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:197,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(l,{type:"submit",className:"w-full",disabled:r,children:r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(N,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:224,columnNumber:23},void 0),"Enviando..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:223,columnNumber:21},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(x,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:229,columnNumber:23},void 0),"Enviar instruções"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:228,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:221,columnNumber:17},void 0),e.jsxDEV(l,{type:"button",variant:"ghost",onClick:()=>c("/login"),className:"w-full",children:[e.jsxDEV(p,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:241,columnNumber:19},void 0),"Voltar ao login"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:235,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:220,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:193,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center",children:"Por segurança, não informamos se o e-mail está cadastrado em nossa base."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:247,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:183,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:179,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:173,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Reset.tsx",lineNumber:172,columnNumber:5},void 0)};export{P as default};
