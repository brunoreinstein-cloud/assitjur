import{$ as Ce,r as u,j as e,a0 as E,a1 as _e,a2 as be,a3 as xe,a4 as we,a5 as ve,a6 as Me,a7 as Re,a8 as Ee,a9 as Ie,aa as Oe,L as Z,ab as Be,x as ne,y as ie,ac as re,s as ae,d as _,t as je,N as fe,M as pe,ad as Ue,ae as $e,w as He,u as ze,af as qe}from"./vendor-BifU-Y_Y.js";import{s as w,t as We,k as Y,j as R,l as ke,B as F,C as Ge,b as Je,c as Ke,m as Ye,d as Ze,n as De,o as Ve,p as ye,q as ce,r as Ae,u as B,e as Qe,v as Xe}from"./page-About-BHlfFeQG.js";async function X(n,s="VIEWER",a){try{const{data:r,error:i}=await w.rpc("ensure_user_profile",{user_uuid:n.id,user_email:n.email??"",user_role:s,org_id:a||null});return i?(console.error("Error ensuring profile with RPC:",i),null):r}catch(r){return console.error("ensureProfile error:",r),null}}const es=Ce(n=>({expired:!1,redirectUrl:null,showExpired:s=>n({expired:!0,redirectUrl:s??"/login"}),hideExpired:()=>n({expired:!1,redirectUrl:null})}));class ss{isDevelopment=!0;log(s,a,r,i){const m={level:s,message:a,context:r,timestamp:new Date,service:i};if(this.isDevelopment){const c=r?` ${JSON.stringify(r,null,2)}`:"",f=i?`[${i}] `:"";switch(s){case"error":console.error(`‚ùå ${f}${a}${c}`);break;case"warn":console.warn(`‚ö†Ô∏è ${f}${a}${c}`);break;case"info":console.log(`‚ÑπÔ∏è ${f}${a}${c}`);break;case"debug":console.debug(`üîç ${f}${a}${c}`);break}}else console.log(JSON.stringify(m))}info(s,a,r){this.log("info",s,a,r)}warn(s,a,r){this.log("warn",s,a,r)}error(s,a,r){this.log("error",s,a,r)}debug(s,a,r){this.log("debug",s,a,r)}}const se=new ss,L=(n,s,a)=>se.error(n,s,a),oe=(n,s,a)=>se.warn(n,s,a);class A{static AUTH_ERROR_TYPES=["Invalid Refresh Token","refresh_token_not_found","invalid_token","jwt_invalid","token_expired"];static isHandling=!1;static isAuthError(s){if(!s)return!1;const a=s.message||s.error_description||s.error||"";return this.AUTH_ERROR_TYPES.some(r=>a.toLowerCase().includes(r.toLowerCase()))}static async handleAuthError(s,a={}){if(this.isHandling)return;this.isHandling=!0;const{redirectToLogin:r=!0,showNotification:i=!1,preserveCurrentUrl:m=!0}=a;if(oe("Auth error detected",{error:s.message||s,errorCode:s.code,errorDescription:s.error_description,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href},"AuthErrorHandler"),await this.clearAuthData(),i){const o=this.getErrorTitle(s),g=this.getErrorDescription(s);We({title:o,description:g,variant:"destructive"})}const c=m?window.location.pathname:"/",f=r&&c!=="/login"?`?redirect=${encodeURIComponent(c)}`:"";setTimeout(()=>{this.isHandling=!1},2e3),es.getState().showExpired(`/login${f}`)}static getErrorTitle(s){return s.message?.includes("refresh_token")?"Sess√£o Expirada":s.message?.includes("invalid_token")?"Token Inv√°lido":s.message?.includes("network")?"Erro de Conex√£o":"Sess√£o Expirada"}static getErrorDescription(s){return s.message?.includes("refresh_token")?"Sua sess√£o expirou. Fa√ßa login novamente para continuar.":s.message?.includes("invalid_token")?"Token de acesso inv√°lido. Redirecionando para login...":s.message?.includes("network")?"Problema de conex√£o. Verifique sua internet e tente novamente.":"Por favor, fa√ßa login novamente para continuar."}static async clearAuthData(){try{await w.auth.signOut();const s=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);i&&(i.startsWith("supabase.")||i.includes("auth"))&&s.push(i)}s.forEach(r=>localStorage.removeItem(r));const a=[];for(let r=0;r<sessionStorage.length;r++){const i=sessionStorage.key(r);i&&(i.startsWith("supabase.")||i.includes("auth"))&&a.push(i)}a.forEach(r=>sessionStorage.removeItem(r))}catch(s){L("Error clearing auth data",{error:s},"AuthErrorHandler")}}static async tryRecoverSession(){try{const{data:{session:s},error:a}=await w.auth.getSession();if(a){if(this.isAuthError(a))return await this.clearAuthData(),!1;throw a}if(!s)return!1;const{error:r}=await w.auth.refreshSession();if(r){if(this.isAuthError(r))return await this.clearAuthData(),!1;throw r}return!0}catch(s){return L("Session recovery failed",{error:s},"AuthErrorHandler"),this.isAuthError(s)&&await this.clearAuthData(),!1}}}function rs(n={}){const{checkInterval:s=5,preemptiveRefresh:a=10,inactivityTimeout:r=0,enabled:i=!0}=n,m=u.useRef(),c=u.useRef(),f=u.useRef(Date.now()),o=u.useRef(!1),g=async()=>{if(!o.current){o.current=!0;try{const{data:{session:h},error:v}=await w.auth.getSession();if(v){A.isAuthError(v)&&await A.handleAuthError(v);return}if(!h)return;const b=h.expires_at,l=Math.floor(Date.now()/1e3),t=(b??0)-l,q=a*60;if(t<q){console.log("Token expiring soon, refreshing session...");const{error:I}=await w.auth.refreshSession();I&&A.isAuthError(I)&&await A.handleAuthError(I)}}catch(h){console.error("Session monitor error:",h),A.isAuthError(h)&&await A.handleAuthError(h)}finally{o.current=!1}}};return u.useEffect(()=>{if(i)return g(),m.current=setInterval(g,s*60*1e3),()=>{m.current&&clearInterval(m.current)}},[i,s,a]),u.useEffect(()=>{if(!i||!r)return;const h=()=>{f.current=Date.now()},v=["mousemove","keydown","click"];return v.forEach(b=>window.addEventListener(b,h)),c.current=setInterval(()=>{Date.now()-f.current>r*60*1e3&&A.handleAuthError({message:"session_inactive"})},60*1e3),()=>{v.forEach(b=>window.removeEventListener(b,h)),c.current&&clearInterval(c.current)}},[i,r]),{checkSession:g}}function as(){return{userAgent:navigator.userAgent,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,platform:navigator.platform}}const Le=u.createContext(void 0),Fe=()=>{const n=u.useContext(Le);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},ks=({children:n})=>{const[s,a]=u.useState(null),[r,i]=u.useState(null),[m,c]=u.useState(null),[f,o]=u.useState(!0),[g,h]=u.useState(!1),{inactivityTimeoutMinutes:v}=Y();rs({enabled:!!m,checkInterval:5,preemptiveRefresh:10,inactivityTimeout:v});const b=async p=>{try{const{data:x,error:d}=await w.rpc("get_super_admin_info",{_user_id:p});return d?(L("Error checking super admin status",{error:d.message||d},"useAuth"),!1):x&&x.length>0&&x[0].is_super_admin===!0}catch(x){return L("Error checking super admin in catch",{error:x},"useAuth"),!1}},l=async p=>{try{const{data:x,error:d}=await w.rpc("get_user_profile_with_roles",{_user_id:p}).maybeSingle();if(d)return L("Error fetching profile",{error:d.message||d},"useAuth"),null;if(x){const j=await b(p);return h(j),{...x,roles:x.roles||[],is_super_admin:j}}return x}catch(x){return L("Error fetching profile in catch",{error:x},"useAuth"),null}},t=async(p,x,d,j)=>{try{const{error:N}=await w.from("audit_logs").insert({email:p,action:x,result:d,table_name:"auth",resource:"authentication",ip_address:null,user_agent:navigator.userAgent,metadata:j||{}});N&&L("Error logging auth attempt",{error:N.message||N},"useAuth")}catch(N){L("Error logging auth attempt in catch",{error:N},"useAuth")}};u.useEffect(()=>{const{data:{subscription:p}}=w.auth.onAuthStateChange(async(d,j)=>{c(j),a(j?.user??null),j?.user?setTimeout(async()=>{try{let N=await l(j.user.id);if(!N&&(N=await X(j.user),!N)){oe("Profile creation failed during auth state change",{},"Authentication"),i(null),o(!1);return}i(N),o(!1)}catch(N){console.error("Profile error during auth state change:",N),A.isAuthError(N)?await A.handleAuthError(N,{showNotification:!1}):L("Profile fetch error",{error:N},"useAuth"),i(null),o(!1)}},0):(i(null),o(!1))});return(async()=>{try{const{data:{session:d},error:j}=await w.auth.getSession();if(j){if(A.isAuthError(j)){await A.handleAuthError(j,{showNotification:!1});return}throw j}c(d),a(d?.user??null),d?.user?setTimeout(async()=>{try{let N=await l(d.user.id);if(!N&&(N=await X(d.user),!N)){oe("Profile creation failed during session init",{},"Authentication"),i(null),o(!1);return}i(N),o(!1)}catch(N){console.error("Profile error during session init:",N),A.isAuthError(N)?await A.handleAuthError(N,{showNotification:!1}):L("Profile fetch error in session init",{error:N},"useAuth"),i(null),o(!1)}},0):o(!1)}catch(d){L("Session initialization error",{error:d},"useAuth"),o(!1)}})(),()=>p.unsubscribe()},[]);const q=async(p,x,d,j=!0,N)=>{try{o(!0);const{data:P,error:T}=await w.auth.signInWithPassword({email:p,password:x});if(T)return await t(p,"login","failure",{role:d,error:T.message}),T.message.includes("Invalid login credentials")?{error:{message:"E-mail ou senha incorretos."}}:T.message.includes("Email not confirmed")?{error:{message:"E-mail n√£o confirmado. Verifique sua caixa de entrada."}}:{error:T};if(P.user){const{data:$}=await w.auth.refreshSession(),H=$.session??P.session;H&&await w.auth.setSession({access_token:H.access_token,refresh_token:H.refresh_token});const W=as();0>=70;let de;if(N){const{data:Q,error:Te}=await w.from("organizations").select("id").eq("code",N).maybeSingle();if(Te||!Q)return await t(p,"login","failure",{role:d,orgCode:N,error:"Invalid org code"}),{error:{message:"C√≥digo da organiza√ß√£o n√£o encontrado."}};de=Q.id}const G=await X(P.user,d==="ADMIN"?"ADMIN":"ANALYST",de);if(!G)return await t(p,"login","failure",{role:d,error:"Profile creation failed"}),{error:{message:"N√£o foi poss√≠vel criar ou recuperar o perfil de usu√°rio. Tente novamente ou contate o suporte."}};if(!G.is_active)return await t(p,"login","failure",{role:d,error:"Account deactivated"}),{error:{message:"Sua conta est√° desativada. Contate o Administrador."}};if(d==="ADMIN"&&!G.roles?.some(Q=>Q.role===d))return await t(p,"login","failure",{role:d,error:"Insufficient privileges"}),{error:{message:'Sua conta n√£o possui o perfil Administrador. Tente "Entrar como Escrit√≥rio" ou contate o respons√°vel.'}};await t(p,"login","success",{role:d,user_role:G.roles?.[0]?.role||"USER"}),i(G)}return{error:null}}catch(P){return await t(p,"login","failure",{role:d,error:P.message}),{error:P}}finally{o(!1)}},I=async(p,x,d,j)=>{try{o(!0);const{siteUrl:N}=Y(),P=`${N}/login?confirm=1`,{data:T,error:$}=await w.auth.signUp({email:p,password:x,options:{emailRedirectTo:P,data:{name:d}}});if($)return await t(p,"signup","failure",{error:$.message}),$.message.includes("User already registered")?{error:{message:"E-mail j√° cadastrado. Fa√ßa login."}}:{error:$};let H;if(j){const{data:W,error:me}=await w.from("organizations").select("id").eq("code",j).maybeSingle();if(me||!W)return await t(p,"signup","failure",{orgCode:j,error:"Invalid org code"}),{error:{message:"C√≥digo da organiza√ß√£o n√£o encontrado."}};H=W.id}if(T.user)try{await X(T.user,"VIEWER",H),await t(p,"signup","success",{})}catch(W){console.error("Profile creation error during signup:",W),await t(p,"signup","partial_success",{message:"User created but profile creation failed"})}else await t(p,"signup","success",{});return{error:null}}catch(N){return await t(p,"signup","failure",{error:N.message}),{error:N}}finally{o(!1)}},V=async()=>{try{await w.auth.signOut(),a(null),i(null),c(null),h(!1),sessionStorage.removeItem("mfa_verified")}catch(p){L("Error signing out",{error:p},"useAuth")}},k=async p=>{try{const{siteUrl:x}=Y(),{error:d}=await w.auth.resetPasswordForEmail(p,{redirectTo:`${x}/reset-password`});return{error:d}}catch(x){return{error:x}}},D=p=>!r||!r.organization_id?!1:r.roles?.find(d=>d.org_id===r.organization_id)?.role===p,U=r?.roles?.some(p=>p.org_id===r.organization_id&&p.role==="ADMIN")??!1,Pe={user:s,profile:r,session:m,loading:f,isSuperAdmin:g,signIn:q,signUp:I,signOut:V,resetPassword:k,hasRole:D,isAdmin:U};return e.jsxDEV(Le.Provider,{value:Pe,children:n},void 0,!1,{fileName:"/workspaces/assitjur/src/hooks/useAuth.tsx",lineNumber:621,columnNumber:10},void 0)},C=u.forwardRef(({className:n,type:s,...a},r)=>e.jsxDEV("input",{type:s,className:R("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/input.tsx",lineNumber:8,columnNumber:7},void 0));C.displayName="Input";class O extends Error{category;code;context;userMessage;retryable;cause;constructor(s,a,r){super(s),this.name="AssistJurError",this.category=a,this.code=r?.code,this.context=r?.context,this.userMessage=r?.userMessage,this.retryable=r?.retryable??!1,this.cause=r?.cause}}const J={validation:(n,s)=>new O(n,"validation",{userMessage:"Dados inv√°lidos fornecidos",context:s}),network:(n,s=!0,a)=>new O(n,"network",{userMessage:"Falha de conex√£o. Verifique sua internet.",retryable:s,context:a}),authentication:(n,s)=>new O(n,"authentication",{userMessage:"Sess√£o expirada. Fa√ßa login novamente.",context:s}),authorization:(n,s)=>new O(n,"authorization",{userMessage:"Acesso negado. Verifique suas permiss√µes.",context:s}),business:(n,s,a)=>new O(n,"business",{userMessage:s||"Opera√ß√£o n√£o permitida",context:a}),system:(n,s)=>new O(n,"system",{userMessage:"Erro interno do sistema. Tente novamente em alguns minutos.",context:s})};class z{static handle(s,a){let r;return s instanceof O?r=s:s instanceof Error?s.message?.includes("fetch")?r=J.network(s.message,!0,{originalError:s.message}):s.message?.includes("auth")||s.message?.includes("session")?r=J.authentication(s.message,{originalError:s.message}):r=J.system(s.message,{originalError:s.message}):r=J.system("Erro desconhecido",{originalError:String(s)}),se.error(r.message,{category:r.category,code:r.code,context:r.context,retryable:r.retryable,stack:r.stack},a),r}static handleAndNotify(s,a){const r=this.handle(s,a);return r.userMessage&&E.error(r.userMessage),r}}async function Ds(n,s,a=!0){try{return await n()}catch(r){throw a?z.handleAndNotify(r,s):z.handle(r,s)}}function ns(n){return n!=null}function is(n){return ns(n)&&n.trim().length>0}function Vs(n){return is(n)&&n.length>0}async function ys(n,s,a){const{retries:r=2,timeout:i=3e4,fallback:m}=a||{};let c;for(let f=1;f<=r+1;f++)try{const o=new AbortController,g=setTimeout(()=>o.abort(),i),h=await Promise.race([n(),new Promise((v,b)=>o.signal.addEventListener("abort",()=>b(J.network("Timeout na requisi√ß√£o",!1))))]);return clearTimeout(g),h}catch(o){if(c=z.handle(o,s),!c.retryable||f===r+1)break;const g=Math.min(1e3*Math.pow(2,f-1),5e3);await new Promise(h=>setTimeout(h,g))}if(m!==void 0)return se.warn(`Usando fallback ap√≥s ${r+1} tentativas`,{service:s,error:c?.message??"Unknown error"},s),m;throw c??new Error("Unknown error")}const os=_e,Se=u.forwardRef(({className:n,...s},a)=>e.jsxDEV(be,{ref:a,className:R("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/tabs.tsx",lineNumber:12,columnNumber:3},void 0));Se.displayName=be.displayName;const te=u.forwardRef(({className:n,...s},a)=>e.jsxDEV(xe,{ref:a,className:R("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/tabs.tsx",lineNumber:27,columnNumber:3},void 0));te.displayName=xe.displayName;const le=u.forwardRef(({className:n,...s},a)=>e.jsxDEV(we,{ref:a,className:R("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/tabs.tsx",lineNumber:42,columnNumber:3},void 0));le.displayName=we.displayName;const ue=u.forwardRef(({className:n,...s},a)=>e.jsxDEV(ve,{ref:a,className:R("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...s,children:e.jsxDEV(Me,{className:R("flex items-center justify-center text-current"),children:e.jsxDEV(Re,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/checkbox.tsx",lineNumber:22,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/checkbox.tsx",lineNumber:19,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/checkbox.tsx",lineNumber:11,columnNumber:3},void 0));ue.displayName=ve.displayName;const ts=ke("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=u.forwardRef(({className:n,...s},a)=>e.jsxDEV(Ee,{ref:a,className:R(ts(),n),...s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/label.tsx",lineNumber:16,columnNumber:3},void 0));S.displayName=Ee.displayName;function ls({className:n}){const[s,a]=u.useState(!1);u.useEffect(()=>{const i=()=>a(window.scrollY>600);return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const r=()=>{const i=document.getElementById("main-heading");window.scrollTo({top:0,behavior:"smooth"}),i&&setTimeout(()=>i.focus(),500)};return s?e.jsxDEV(F,{size:"icon","aria-label":"Voltar ao topo",className:R("fixed bottom-6 right-6 rounded-full shadow-lg z-50",n),onClick:r,children:e.jsxDEV(Ie,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/site/BackToTopFAB.tsx",lineNumber:39,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/site/BackToTopFAB.tsx",lineNumber:30,columnNumber:5},this):null}const Ne=({title:n,description:s,children:a})=>e.jsxDEV(Ge,{className:"w-full max-w-md shadow-premium rounded-2xl",children:[e.jsxDEV(Je,{className:"text-center space-y-4 pb-6",children:[e.jsxDEV("div",{className:"mx-auto p-4 bg-gradient-primary rounded-2xl w-fit shadow-md",children:e.jsxDEV(Oe,{className:"h-8 w-8 text-primary-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AuthCard.tsx",lineNumber:22,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AuthCard.tsx",lineNumber:21,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Ke,{className:"text-2xl font-bold text-foreground",children:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AuthCard.tsx",lineNumber:25,columnNumber:11},void 0),s&&e.jsxDEV(Ye,{className:"text-muted-foreground",children:s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AuthCard.tsx",lineNumber:29,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/AuthCard.tsx",lineNumber:24,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/AuthCard.tsx",lineNumber:20,columnNumber:7},void 0),e.jsxDEV(Ze,{className:"pt-0",children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AuthCard.tsx",lineNumber:36,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/AuthCard.tsx",lineNumber:19,columnNumber:5},void 0),M={DEFAULT_REDIRECTS:{ADMIN:"/app/dashboard",ANALYST:"/app/dashboard",VIEWER:"/app/dashboard",DEFAULT:"/app/dashboard"},FEATURES:{MAGIC_LINK_ENABLED:!0,GOOGLE_OAUTH_ENABLED:!0,MICROSOFT_OAUTH_ENABLED:!1},OAUTH_PROVIDERS:[{id:"google",name:"Google",enabled:!0,icon:"google"}],ALLOWED_REDIRECT_PATHS:["/app/dashboard","/app/dados/mapa","/app/admin/dashboard","/app/admin","/app/mapa-testemunhas","/app/import","/app/profile","/app/settings"]};function us(n,s){if(s)try{const a=new URL(s,"https://dummy"),r=decodeURIComponent(a.pathname);if(a.origin==="https://dummy"&&M.ALLOWED_REDIRECT_PATHS.includes(r))return decodeURIComponent(s)}catch{}return n&&n in M.DEFAULT_REDIRECTS?M.DEFAULT_REDIRECTS[n]:M.DEFAULT_REDIRECTS.DEFAULT}const cs=({disabled:n,next:s})=>{const[a,r]=u.useState(null),[i,m]=u.useState({}),c=async(o,g=!1)=>{g||r(o);try{if(M.FEATURES.GOOGLE_OAUTH_ENABLED,!w){E.error("OAuth n√£o configurado",{description:"Login com provedores externos n√£o est√° dispon√≠vel no momento."});return}const{siteUrl:h}=Y(),v=s?`${h}${s}`:`${h}/dados/mapa`,{error:b}=await w.auth.signInWithOAuth({provider:o,options:{redirectTo:v}});if(b)throw b;E.success("Redirecionando...",{description:`Conectando com ${o==="google"?"Google":o}`,duration:2e3})}catch(h){if(console.error(`${o} OAuth error:`,h),h.message?.includes("network")||h.message?.includes("fetch")){const v=i[o]||0;v<2?(m(b=>({...b,[o]:v+1})),E.info("Tentando novamente...",{description:`Erro de conex√£o. Tentativa ${v+2}/3`}),setTimeout(()=>{c(o,!0)},1500)):E.error("Erro de conex√£o",{description:"Verifique sua conex√£o com a internet e tente novamente."});return}h.message?.includes("Provider")||h.message?.includes("client_id")?E.error("Configura√ß√£o OAuth",{description:"Google OAuth n√£o est√° configurado corretamente. Entre em contato com o suporte."}):w?E.error("Erro no login",{description:"N√£o foi poss√≠vel fazer login com Google. Tente novamente."}):E.info("Demo Mode",{description:`OAuth ${o} simulado. Use o usu√°rio demo para testar.`})}finally{r(null)}};return M.OAUTH_PROVIDERS.filter(o=>o.enabled).length===0?null:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("div",{className:"absolute inset-0 flex items-center",children:e.jsxDEV("span",{className:"w-full border-t border-border"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:126,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:125,columnNumber:9},void 0),e.jsxDEV("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsxDEV("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continue com"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:129,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:128,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:124,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxDEV(F,{variant:"outline",onClick:()=>c("google"),disabled:n||a!==null,className:"w-full transition-all duration-200 hover:shadow-md","aria-label":"Acessar √°rea segura com Google",children:a==="google"?e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Z,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:146,columnNumber:17},void 0),e.jsxDEV("span",{children:"Conectando..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:147,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:145,columnNumber:15},void 0):i.google>0?e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Be,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:151,columnNumber:17},void 0),e.jsxDEV("span",{children:"Tentando novamente..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:152,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:150,columnNumber:15},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("svg",{className:"h-4 w-4",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsxDEV("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:157,columnNumber:19},void 0),e.jsxDEV("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:161,columnNumber:19},void 0),e.jsxDEV("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:165,columnNumber:19},void 0),e.jsxDEV("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:169,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:156,columnNumber:17},void 0),e.jsxDEV("span",{className:"ml-2",children:"Continuar com Google"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:174,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:155,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:137,columnNumber:11},void 0),M.FEATURES.MICROSOFT_OAUTH_ENABLED]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:135,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/OAuthButtons.tsx",lineNumber:123,columnNumber:5},void 0)},ee=12;function K({message:n,onRetry:s}){return e.jsxDEV(De,{variant:"destructive",role:"alert","aria-live":"polite",className:"flex items-start justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(Ve,{children:"Erro"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/common/ErrorBanner.tsx",lineNumber:18,columnNumber:9},this),e.jsxDEV(ye,{children:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/common/ErrorBanner.tsx",lineNumber:19,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/common/ErrorBanner.tsx",lineNumber:17,columnNumber:7},this),s&&e.jsxDEV(F,{variant:"outline",onClick:s,className:"ml-4","aria-label":"Tentar novamente",children:"Tentar novamente"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/common/ErrorBanner.tsx",lineNumber:22,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/common/ErrorBanner.tsx",lineNumber:11,columnNumber:5},this)}function ms(n){const{loading:s,error:a}=n,[r,i]=u.useState(!navigator.onLine);return u.useEffect(()=>{const m=()=>i(!1),c=()=>i(!0);return window.addEventListener("online",m),window.addEventListener("offline",c),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",c)}},[]),r?"offline":s?"loading":a?"error":"empty"}const y={INVALID_EMAIL:"E-mail inv√°lido.",INCORRECT_PASSWORD:"Senha incorreta.",CNJ_FAILURE:"Falha ao buscar dados do CNJ.",NOT_FOUND:"Item n√£o encontrado.",NETWORK:"Falha de conex√£o. Verifique sua internet.",RATE_LIMIT:"Muitas tentativas. Tente novamente mais tarde."},ds=ce({email:B().email(y.INVALID_EMAIL),password:B().min(ee,`M√≠nimo de ${ee} caracteres`),rememberMe:Ae().optional()}),fs=ce({name:B().min(2,"Nome deve ter pelo menos 2 caracteres").optional(),email:B().email(y.INVALID_EMAIL),password:B().min(ee,`M√≠nimo de ${ee} caracteres`),confirmPassword:B(),acceptTerms:Ae().refine(n=>n,"Voc√™ deve aceitar os termos")}).refine(n=>n.password===n.confirmPassword,{message:"Senhas n√£o conferem",path:["confirmPassword"]}),he=({mode:n,onModeChange:s})=>{const[a,r]=u.useState(!1),[i,m]=u.useState(!1),[c,f]=u.useState(!1),[o,g]=u.useState(null),{signIn:h,signUp:v}=Fe(),b=ms({loading:c,error:o}),l=ne({resolver:ie(ds),mode:"onChange",reValidateMode:"onChange",defaultValues:{email:"",password:"",rememberMe:!1}}),t=ne({resolver:ie(fs),defaultValues:{name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}}),q=async V=>{f(!0),g(null);try{const{error:k}=await h(V.email,V.password,"OFFICE",V.rememberMe);if(k){if(k?.status===429){const D=y.RATE_LIMIT;g(D),E.error("Muitas tentativas",{description:D});return}if(k.message?.toLowerCase().includes("invalid login credentials")){const D=y.INCORRECT_PASSWORD;l.setError("password",{type:"manual",message:D}),g(D);return}g(k.message||y.NOT_FOUND);return}E.success("Login realizado!",{description:"Bem-vindo ao AssistJur.IA"})}catch(k){const U=z.handleAndNotify(k,"EmailPasswordForm.handleSignIn").userMessage||y.NOT_FOUND;g(U)}finally{f(!1)}},I=async V=>{f(!0),g(null);try{const{error:k}=await v(V.email,V.password,V.name);if(k){if(k?.status===429){const U=y.RATE_LIMIT;g(U),E.error("Muitas tentativas",{description:U});return}const D=k.message||y.NOT_FOUND;g(D),E.error("Erro no cadastro",{description:D});return}E.success("Conta criada!",{description:"Verifique seu e-mail para confirmar o cadastro."}),s("signin")}catch(k){const D=k?.message||y.NOT_FOUND;g(D),E.error("Erro no cadastro",{description:D})}finally{f(!1)}};return n==="signup"?e.jsxDEV("form",{onSubmit:t.handleSubmit(I),className:"space-y-4",children:[b==="offline"&&e.jsxDEV(K,{message:y.NETWORK,onRetry:()=>window.location.reload()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:179,columnNumber:11},void 0),b==="error"&&o&&e.jsxDEV(K,{message:o,onRetry:()=>g(null)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:185,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{htmlFor:"name",children:"Nome (opcional)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:189,columnNumber:11},void 0),e.jsxDEV(C,{id:"name",placeholder:"Seu nome completo",...t.register("name"),className:t.formState.errors.name?"border-destructive":""},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:190,columnNumber:11},void 0),t.formState.errors.name&&e.jsxDEV("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:t.formState.errors.name.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:199,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:188,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{htmlFor:"email",children:"E-mail"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:211,columnNumber:11},void 0),e.jsxDEV(C,{id:"email",type:"email",placeholder:"seu@email.com",...t.register("email"),className:t.formState.errors.email?"border-destructive":""},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:212,columnNumber:11},void 0),t.formState.errors.email&&e.jsxDEV("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:t.formState.errors.email.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:222,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:210,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{htmlFor:"password",children:"Senha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:234,columnNumber:11},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(C,{id:"password",type:a?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢","aria-invalid":!!t.formState.errors.password,"aria-describedby":"signup-password-error",...t.register("password"),className:t.formState.errors.password?"border-destructive pr-10":"pr-10"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:236,columnNumber:13},void 0),e.jsxDEV(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>r(!a),"aria-label":a?"Ocultar senha":"Mostrar senha","aria-pressed":a,children:a?e.jsxDEV(re,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:259,columnNumber:17},void 0):e.jsxDEV(ae,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:265,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:249,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:235,columnNumber:11},void 0),t.formState.errors.password&&e.jsxDEV("p",{id:"signup-password-error",className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:t.formState.errors.password.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:274,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:233,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{htmlFor:"confirmPassword",children:"Confirmar Senha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:287,columnNumber:11},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(C,{id:"confirmPassword",type:i?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢","aria-invalid":!!t.formState.errors.confirmPassword,"aria-describedby":"signup-confirm-password-error",...t.register("confirmPassword"),className:t.formState.errors.confirmPassword?"border-destructive pr-10":"pr-10"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:289,columnNumber:13},void 0),e.jsxDEV(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>m(!i),"aria-label":i?"Ocultar senha":"Mostrar senha","aria-pressed":i,children:i?e.jsxDEV(re,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:314,columnNumber:17},void 0):e.jsxDEV(ae,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:320,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:302,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:288,columnNumber:11},void 0),t.formState.errors.confirmPassword&&e.jsxDEV("p",{id:"signup-confirm-password-error",className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:t.formState.errors.confirmPassword.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:329,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:286,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-start space-x-3 pt-2",children:[e.jsxDEV(ue,{id:"acceptTerms",checked:t.watch("acceptTerms"),onCheckedChange:V=>t.setValue("acceptTerms",!!V),className:t.formState.errors.acceptTerms?"border-destructive":""},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:342,columnNumber:11},void 0),e.jsxDEV(S,{htmlFor:"acceptTerms",className:"text-sm leading-relaxed cursor-pointer",children:["Li e aceito os"," ",e.jsxDEV(_,{to:"/termos",className:"text-primary hover:underline",children:"Termos de Uso"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:359,columnNumber:13},void 0)," ","e a"," ",e.jsxDEV(_,{to:"/privacidade",className:"text-primary hover:underline",children:"Pol√≠tica de Privacidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:363,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:354,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:341,columnNumber:9},void 0),t.formState.errors.acceptTerms&&e.jsxDEV("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:t.formState.errors.acceptTerms.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:369,columnNumber:11},void 0),e.jsxDEV(F,{type:"submit",className:"w-full",disabled:c,children:c?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:382,columnNumber:15},void 0),"Criando conta..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:381,columnNumber:13},void 0):"Criar conta"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:379,columnNumber:9},void 0),e.jsxDEV("div",{className:"text-center text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"J√° tem uma conta? "},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:392,columnNumber:11},void 0),e.jsxDEV("button",{type:"button",onClick:()=>s("signin"),className:"text-primary hover:underline font-medium",children:"Acessar √°rea segura"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:393,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:391,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:174,columnNumber:7},void 0):e.jsxDEV("form",{onSubmit:l.handleSubmit(q),className:"space-y-4",children:[b==="offline"&&e.jsxDEV(K,{message:y.NETWORK,onRetry:()=>window.location.reload()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:408,columnNumber:9},void 0),b==="error"&&o&&e.jsxDEV(K,{message:o,onRetry:()=>g(null)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:414,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{htmlFor:"email",children:"E-mail"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:418,columnNumber:9},void 0),e.jsxDEV(C,{id:"email",type:"email",placeholder:"seu@email.com",...l.register("email"),className:l.formState.errors.email?"border-destructive":""},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:419,columnNumber:9},void 0),l.formState.errors.email&&e.jsxDEV("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:l.formState.errors.email.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:429,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:417,columnNumber:7},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{htmlFor:"password",children:"Senha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:441,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV(C,{id:"password",type:a?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢","aria-invalid":!!l.formState.errors.password,"aria-describedby":l.formState.errors.password?"password-help":void 0,...l.register("password"),className:l.formState.errors.password?"border-destructive pr-10":"pr-10"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:444,columnNumber:13},void 0),e.jsxDEV(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>r(!a),"aria-label":a?"Ocultar senha":"Mostrar senha","aria-pressed":a,children:a?e.jsxDEV(re,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:471,columnNumber:17},void 0):e.jsxDEV(ae,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:477,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:461,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:443,columnNumber:11},void 0),l.formState.errors.password&&e.jsxDEV("span",{id:"password-help",role:"alert",className:"text-sm text-destructive whitespace-nowrap",children:l.formState.errors.password.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:486,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:442,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:440,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(ue,{id:"rememberMe",checked:l.watch("rememberMe"),onCheckedChange:V=>l.setValue("rememberMe",!!V)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:500,columnNumber:11},void 0),e.jsxDEV(S,{htmlFor:"rememberMe",className:"text-sm cursor-pointer",children:"Lembrar de mim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:507,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:499,columnNumber:9},void 0),e.jsxDEV(_,{to:"/reset",className:"text-sm text-primary hover:underline",children:"Esqueci minha senha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:512,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:498,columnNumber:7},void 0),e.jsxDEV(F,{type:"submit",className:"w-full",disabled:c||!l.formState.isValid,children:c?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:525,columnNumber:13},void 0),"Acessando..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:524,columnNumber:11},void 0):"Acessar √°rea segura"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:518,columnNumber:7},void 0),e.jsxDEV("div",{className:"text-center text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"N√£o tem uma conta? "},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:535,columnNumber:9},void 0),e.jsxDEV("button",{type:"button",onClick:()=>s("signup"),className:"text-primary hover:underline font-medium",children:"Criar conta"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:536,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:534,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/EmailPasswordForm.tsx",lineNumber:406,columnNumber:5},void 0)},ps=ce({email:B().email("Formato de email inv√°lido")}),Ns=({onBack:n})=>{const[s,a]=u.useState(!1),[r,i]=u.useState(!1),[m,c]=u.useState(null),f=ne({resolver:ie(ps),mode:"onChange",reValidateMode:"onChange",defaultValues:{email:""}}),o=u.useCallback(async h=>{const v=Date.now();if(m&&v-m<6e4){E.error("Aguarde um momento",{description:"Aguarde pelo menos 1 minuto entre tentativas."});return}a(!0),c(v);try{if(!w){E.success("Link enviado!",{description:"Verifique seu e-mail (modo demo - use o login normal)"}),i(!0);return}const{siteUrl:b}=Y(),{error:l}=await w.auth.signInWithOtp({email:h.email,options:{emailRedirectTo:`${b}/`}});if(l){const t=z.handle(l,"MagicLinkForm.signInWithOtp");l.message.includes("rate")||l.message.includes("limit")||l?.status===429?E.error("Limite de tentativas atingido",{description:"Muitas tentativas de login. Tente novamente em alguns minutos."}):l.message.includes("email")?E.error("Email inv√°lido",{description:"Verifique se o email foi digitado corretamente."}):E.error("Erro ao enviar link",{description:t.userMessage||"N√£o foi poss√≠vel enviar o link de acesso. Tente novamente."});return}E.success("Link de acesso enviado!",{description:"Verifique sua caixa de entrada e clique no link para entrar."}),i(!0)}catch(b){z.handleAndNotify(b,"MagicLinkForm.handleSendMagicLink"),b?.status===429&&E.error("Muitas tentativas",{description:"Tente novamente mais tarde."})}finally{a(!1)}},[m]),g=()=>{i(!1),f.handleSubmit(o)()};return r?e.jsxDEV("div",{className:"text-center space-y-6",role:"alert","aria-live":"polite",children:[e.jsxDEV("div",{className:"mx-auto p-3 bg-success/10 rounded-full w-fit",children:e.jsxDEV(je,{className:"h-8 w-8 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:137,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:136,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Link enviado!"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:141,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Verifique sua caixa de entrada e clique no link para fazer login automaticamente."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:142,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Enviado para: ",e.jsxDEV("strong",{children:f.getValues("email")},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:147,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:146,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:140,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(F,{variant:"outline",onClick:g,className:"w-full",disabled:s,children:s?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:160,columnNumber:17},void 0),"Reenviando..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:159,columnNumber:15},void 0):"Reenviar link"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:152,columnNumber:11},void 0),e.jsxDEV(F,{variant:"ghost",onClick:n,className:"w-full",children:[e.jsxDEV(fe,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:169,columnNumber:13},void 0),"Voltar ao login"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:168,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:151,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:135,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"text-center space-y-2",children:[e.jsxDEV("div",{className:"mx-auto p-3 bg-primary/10 rounded-full w-fit",children:e.jsxDEV(pe,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:181,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:180,columnNumber:9},void 0),e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Acessar √°rea segura com link"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:183,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Enviaremos um link de acesso seguro para o seu e-mail"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:184,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:179,columnNumber:7},void 0),e.jsxDEV("form",{onSubmit:f.handleSubmit(o),className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(S,{htmlFor:"email",children:"E-mail"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:194,columnNumber:11},void 0),e.jsxDEV(C,{id:"email",type:"email",placeholder:"seu@email.com",...f.register("email"),className:f.formState.errors.email?"border-destructive":"",autoFocus:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:195,columnNumber:11},void 0),f.formState.errors.email&&e.jsxDEV("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:f.formState.errors.email.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:204,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:193,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(F,{type:"submit",className:"w-full",disabled:s,children:s?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Z,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:218,columnNumber:17},void 0),"Enviando link..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:217,columnNumber:15},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(pe,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:223,columnNumber:17},void 0),"Enviar link de acesso"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:222,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:215,columnNumber:11},void 0),e.jsxDEV(F,{type:"button",variant:"ghost",onClick:n,className:"w-full",children:[e.jsxDEV(fe,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:235,columnNumber:13},void 0),"Voltar ao login"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:229,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:214,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:189,columnNumber:7},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center",children:"O link de acesso expira em 1 hora e s√≥ pode ser usado uma vez."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:241,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/MagicLinkForm.tsx",lineNumber:178,columnNumber:5},void 0)},hs=ke("border-l-4",{variants:{variant:{info:"border-l-blue-500 bg-blue-50 dark:bg-blue-950/30",success:"border-l-green-500 bg-green-50 dark:bg-green-950/30",warning:"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950/30",error:"border-l-red-500 bg-red-50 dark:bg-red-950/30"}}}),gs=({variant:n,title:s,children:a,className:r})=>{const i=()=>{switch(n){case"info":return e.jsxDEV(He,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AlertBox.tsx",lineNumber:33,columnNumber:16},void 0);case"success":return e.jsxDEV(je,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AlertBox.tsx",lineNumber:35,columnNumber:16},void 0);case"warning":return e.jsxDEV($e,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AlertBox.tsx",lineNumber:37,columnNumber:16},void 0);case"error":return e.jsxDEV(Ue,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AlertBox.tsx",lineNumber:39,columnNumber:16},void 0)}},m=()=>{switch(n){case"info":return"text-blue-700 dark:text-blue-300";case"success":return"text-green-700 dark:text-green-300";case"warning":return"text-yellow-700 dark:text-yellow-300";case"error":return"text-red-700 dark:text-red-300"}};return e.jsxDEV(De,{className:`${hs({variant:n})} ${r}`,role:"alert","aria-live":"polite",children:[e.jsxDEV("div",{className:m(),children:i()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AlertBox.tsx",lineNumber:62,columnNumber:7},void 0),s&&e.jsxDEV(Ve,{className:m(),children:s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AlertBox.tsx",lineNumber:63,columnNumber:17},void 0),e.jsxDEV(ye,{className:m(),children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/auth/AlertBox.tsx",lineNumber:64,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/auth/AlertBox.tsx",lineNumber:57,columnNumber:5},void 0)};function ge({size:n="md",showVersion:s=!1,version:a,className:r=""}){const m={sm:{container:"flex items-center gap-2",logo:"h-6 w-6",title:"text-lg font-semibold",version:"text-xs"},md:{container:"flex items-center gap-3",logo:"h-8 w-8",title:"text-xl font-bold",version:"text-sm"},lg:{container:"flex items-center gap-4",logo:"h-10 w-10",title:"text-2xl font-bold",version:"text-base"}}[n];return e.jsxDEV("div",{className:`${m.container} ${r}`,children:[e.jsxDEV(Qe,{size:n,className:m.logo},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/BrandHeader.tsx",lineNumber:42,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:`${m.title} text-brand-ink`,children:Xe.name},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/BrandHeader.tsx",lineNumber:44,columnNumber:9},this),s&&a&&e.jsxDEV("span",{className:`${m.version} text-muted-foreground font-mono`,children:["v",a]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/BrandHeader.tsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/BrandHeader.tsx",lineNumber:43,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/BrandHeader.tsx",lineNumber:41,columnNumber:5},this)}const bs="https://placehold.co/1600x900/000000/FFFFFF.avif?text=AssistJur",xs="https://placehold.co/1600x900/000000/FFFFFF.webp?text=AssistJur",ws="https://placehold.co/1600x900/000000/FFFFFF.jpg?text=AssistJur",vs=()=>{const n=ze(),[s]=qe(),{user:a,profile:r}=Fe(),[i,m]=u.useState("signin"),[c,f]=u.useState(!1);u.useEffect(()=>{if(window.location.hash.includes("access_token")){const l=window.location.pathname+window.location.search;window.history.replaceState(null,"",l)}},[]);const o=s.get("next"),g=s.get("confirm"),h=s.get("error");u.useEffect(()=>{if(a&&r)if(r.two_factor_enabled&&sessionStorage.getItem("mfa_verified")!=="true"){const l=new URLSearchParams;l.set("email",a.email??""),o&&l.set("next",o),n(`/verify-otp?${l.toString()}`)}else{const l=us(r.roles?.[0]?.role||null,o);n(l)}},[a,r,n,o]);const v=()=>{f(!c)},b=l=>{m(l),f(!1)};return e.jsxDEV("div",{className:"min-h-screen bg-gradient-subtle lg:grid lg:grid-cols-2",children:[e.jsxDEV("div",{className:"sr-only",children:[e.jsxDEV("h1",{id:"main-heading",tabIndex:-1,children:"Login - AssistJur.IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:73,columnNumber:9},void 0),e.jsxDEV("p",{children:"Acesse sua conta do AssistJur.IA para an√°lise avan√ßada de testemunhas com conformidade LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:76,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:72,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex flex-col justify-center px-6 py-12 lg:px-8",children:e.jsxDEV("div",{className:"mx-auto w-full max-w-md",children:[e.jsxDEV("nav",{"aria-label":"breadcrumb",className:"mb-4 text-sm",children:e.jsxDEV("ol",{className:"flex items-center text-muted-foreground",children:[e.jsxDEV("li",{children:e.jsxDEV(_,{to:"/",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm",children:"AssistJur IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:88,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:87,columnNumber:15},void 0),e.jsxDEV("li",{"aria-hidden":"true",className:"mx-2",children:"‚Ä∫"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:95,columnNumber:15},void 0),e.jsxDEV("li",{children:e.jsxDEV(_,{to:"/login","aria-current":"page",className:"focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm",children:"Login"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:99,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:98,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:86,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:85,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center justify-center mb-8 lg:hidden",children:e.jsxDEV(ge,{size:"lg",className:"gap-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:112,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:111,columnNumber:11},void 0),h&&e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV(K,{message:h==="access_denied"?y.INCORRECT_PASSWORD:y.NOT_FOUND,onRetry:()=>window.location.reload()},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:118,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:117,columnNumber:13},void 0),g==="1"&&e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV(gs,{variant:"info",title:"Confirme seu cadastro",children:"Verifique seu e-mail e clique no link de confirma√ß√£o para ativar sua conta."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:132,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:131,columnNumber:13},void 0),c&&M.FEATURES.MAGIC_LINK_ENABLED?e.jsxDEV(Ne,{title:"Acessar √°rea segura com link",description:"Acesso seguro sem senha",children:e.jsxDEV(Ns,{onBack:()=>f(!1)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:145,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:141,columnNumber:13},void 0):e.jsxDEV(Ne,{title:i==="signin"?"Acesse sua conta":"Comece gratuitamente",description:"Acesso seguro e conformidade LGPD",children:e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV(cs,{next:o},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:158,columnNumber:17},void 0),e.jsxDEV(os,{value:i,onValueChange:l=>m(l),className:"w-full",children:[e.jsxDEV(Se,{className:"grid w-full grid-cols-2",role:"tablist",children:[e.jsxDEV(te,{value:"signin",role:"tab","aria-selected":i==="signin","aria-controls":"signin-panel",children:"Acessar √°rea segura"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:169,columnNumber:21},void 0),e.jsxDEV(te,{value:"signup",role:"tab","aria-selected":i==="signup","aria-controls":"signup-panel",children:"Criar conta"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:177,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:168,columnNumber:19},void 0),e.jsxDEV(le,{value:"signin",className:"mt-6",role:"tabpanel",id:"signin-panel","aria-labelledby":"signin-tab",children:[e.jsxDEV(he,{mode:"signin",onModeChange:b},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:194,columnNumber:21},void 0),e.jsxDEV("div",{className:"mt-4 text-center",children:e.jsxDEV("button",{type:"button",onClick:v,className:"text-sm text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1 py-0.5","aria-label":"Alternar para acesso com link de e-mail",children:"Acessar √°rea segura com link de e-mail"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:202,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:201,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:187,columnNumber:19},void 0),e.jsxDEV(le,{value:"signup",className:"mt-6",role:"tabpanel",id:"signup-panel","aria-labelledby":"signup-tab",children:e.jsxDEV(he,{mode:"signup",onModeChange:b},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:221,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:214,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:161,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:156,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV("footer",{className:"mt-8 text-center",children:e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Dados tratados conforme"," ",e.jsxDEV(_,{to:"/lgpd",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1",children:"LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:235,columnNumber:15},void 0)," ‚Ä¢ ",e.jsxDEV(_,{to:"/privacidade",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1",children:"Pol√≠tica de Privacidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:242,columnNumber:15},void 0)," ‚Ä¢ ",e.jsxDEV(_,{to:"/termos",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1",children:"Termos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:249,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:233,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:232,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:84,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:83,columnNumber:7},void 0),e.jsxDEV(ls,{className:"bottom-24"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:260,columnNumber:7},void 0),e.jsxDEV("aside",{className:"hidden lg:block relative",role:"complementary",children:e.jsxDEV("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`linear-gradient(135deg, hsl(var(--primary) / 0.9), hsl(var(--primary-light) / 0.8)), image-set(url(${bs}) type('image/avif'), url(${xs}) type('image/webp'), url(${ws}) type('image/jpeg'))`},role:"img","aria-label":"Imagem de fundo mostrando tecnologia jur√≠dica",children:e.jsxDEV("div",{className:"absolute inset-0 flex flex-col justify-center p-12 text-primary-foreground",children:[e.jsxDEV(ge,{size:"lg",className:"mb-12 gap-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:274,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("h4",{className:"text-4xl font-bold leading-tight",children:"An√°lise avan√ßada de testemunhas com LGPD by design"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:278,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xl opacity-90 leading-relaxed",children:"Detecte padr√µes suspeitos, triangula√ß√µes e provas emprestadas com total conformidade √†s normas de prote√ß√£o de dados."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:281,columnNumber:15},void 0),e.jsxDEV("ul",{className:"space-y-3 pt-8",role:"list",children:[e.jsxDEV("li",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:289,columnNumber:19},void 0),e.jsxDEV("span",{children:"Mascaramento autom√°tico de PII"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:293,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:288,columnNumber:17},void 0),e.jsxDEV("li",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:296,columnNumber:19},void 0),e.jsxDEV("span",{children:"Trilha de auditoria completa"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:300,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:295,columnNumber:17},void 0),e.jsxDEV("li",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:303,columnNumber:19},void 0),e.jsxDEV("span",{children:"Criptografia end-to-end"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:307,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:302,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:287,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:277,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:272,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:264,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:263,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/Login.tsx",lineNumber:70,columnNumber:5},void 0)},As=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"}));export{Ne as A,ls as B,ue as C,y as E,C as I,S as L,ee as M,os as T,Se as a,te as b,le as c,L as d,ge as e,gs as f,z as g,J as h,Vs as i,ys as j,es as k,se as l,ks as m,As as n,Fe as u,Ds as w};
