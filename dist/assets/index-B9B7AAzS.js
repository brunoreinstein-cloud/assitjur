const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-DemoMapaTestemunhas-Bp8gukOR.js","assets/vendor-cb6Vd3Sa.js","assets/page-About-BgklZ4WV.js","assets/page-admin-demDlIGE.js","assets/page-Login-DHksUS7l.js","assets/page-MapaPage-CuoDGtm9.js","assets/page-Profile-u717liB7.js","assets/page-PortalTitular-BKgS7Gsz.js","assets/page-ReportDemo-DKUCHWI2.js","assets/page-super-admin-b7RSJ4pz.js","assets/page-AppHome-DaBy8jPk.js","assets/page-settings-CpgjlY2u.js","assets/page-PublicHome-uOv3cKDX.js","assets/page-NotFound-Cxb_Cxf8.js","assets/page-Beta-CAnwssUF.js","assets/page-Reset-B0zztijW.js","assets/page-ResetConfirm-h0ptu86q.js","assets/reset-password-C5S9lRTW.js","assets/page-VerifyOtp-C2czvJXt.js","assets/page-TwoFactorSetup-C-o9qBj0.js","assets/page-TemplatePage-DYoN_cu9.js","assets/page-PrivacyPolicy-B3pLuhfv.js","assets/page-TermsOfUse-DaIbWUug.js","assets/page-LGPD-BGzwDJzi.js","assets/page-ServerError-ISqbmMJY.js","assets/page-Status-FQtyL1_c.js"])))=>i.map(i=>d[i]);
import{B as _,C as T,b as J,d as S,s as X,_ as c,c as xe,n as fe,o as Z,p as Q,q as ee,R as ge,w as E,v as je,u as te,l as L,a as _e,S as ve,N as re,O as se}from"./page-About-BgklZ4WV.js";import{d5 as ye,j as e,d6 as Ee,r as a,u as be,af as ae,ab as ne,d7 as we,d8 as Ne,L as Ae,bO as Pe,d0 as x,d9 as R,da as n,c as Ce,cj as Oe,ci as k,V as Te,ap as Se,bu as Re,db as Le,dc as De,P as Ie,dd as ze,de as ke,df as Ve,dg as Me,cS as Fe,dh as Be}from"./vendor-cb6Vd3Sa.js";import{C as He,b as Ue,A as We,D as $e,M as Ke,i as y,c as Ye,g as P,d as Ge}from"./page-ReportDemo-DKUCHWI2.js";import{T as qe}from"./page-PublicHome-uOv3cKDX.js";import{D as Je,n as Xe,o as Ze,p as Qe,_ as et,e as V,U as tt,A as rt,g as st,h as at,i as nt,j as ot,k as it,m as ct,T as lt}from"./page-MapaPage-CuoDGtm9.js";import{S as j}from"./page-Profile-u717liB7.js";import{d as oe,u as D,h as dt,g as ut,l as d,k as mt,m as pt}from"./page-Login-DHksUS7l.js";import ht from"./page-ServerError-ISqbmMJY.js";import{P as xt,a as ft,b as gt}from"./page-DemoMapaTestemunhas-Bp8gukOR.js";import"./page-PortalTitular-BKgS7Gsz.js";import"./page-NotFound-Cxb_Cxf8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();const jt=({...r})=>{const{theme:t="system"}=ye();return e.jsx(Ee,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...r})};var _t={};function vt(){const r=a.useContext(He);return typeof window>"u"?{preferences:null,open:!1,setOpen:()=>{},save:()=>{}}:typeof process<"u"&&_t?.PRERENDER==="1"?{preferences:null,open:!1,setOpen:()=>{},save:()=>{}}:r||{preferences:null,open:!1,setOpen:()=>{},save:()=>{}}}function yt(){return typeof window>"u"?null:e.jsx(Et,{})}function Et(){const{open:r,setOpen:t,preferences:s,save:o}=vt(),[i,l]=a.useState(!1),[p,h]=a.useState(!1);a.useEffect(()=>{s?(l(s.analytics),h(s.ads)):(l(!1),h(!1))},[s,r]);const m=O=>{o(O),t(!1)},u=()=>m({analytics:!0,ads:!0}),v=()=>m({analytics:!1,ads:!1}),w=()=>m({analytics:i,ads:p});return e.jsx(Je,{open:r,onOpenChange:t,children:e.jsxs(Xe,{role:"dialog","aria-labelledby":"consent-title","aria-describedby":"consent-desc",className:"max-w-[440px] md:max-w-[480px] p-4 md:p-5 rounded-2xl",children:[e.jsxs(Ze,{children:[e.jsx(Qe,{id:"consent-title",className:"text-base md:text-lg",children:"Controle como usamos seus dados"}),e.jsx(et,{id:"consent-desc",className:"text-sm leading-snug",children:"Usamos cookies essenciais para o site funcionar. Com sua permissão, também usamos dados para Medição e Publicidade. Você pode aceitar, rejeitar ou personalizar."})]}),e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"text-sm leading-snug",children:[e.jsx("p",{className:"font-medium",children:"Essenciais"}),e.jsx("p",{className:"text-muted-foreground",children:"Necessários para segurança e navegação. Não usados para marketing."})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Sempre ativo"})]}),e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"text-sm leading-snug",children:[e.jsx("p",{className:"font-medium",children:"Medição"}),e.jsx("p",{className:"text-muted-foreground",children:"Métricas para melhorar sua experiência."})]}),e.jsx(V,{className:"origin-right scale-90",checked:i,onCheckedChange:l,"aria-label":"Ativar Medição"})]}),e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"text-sm leading-snug",children:[e.jsx("p",{className:"font-medium",children:"Publicidade"}),e.jsx("p",{className:"text-muted-foreground",children:"Anúncios relevantes e medição de campanhas."})]}),e.jsx(V,{className:"origin-right scale-90",checked:p,onCheckedChange:h,"aria-label":"Ativar Publicidade"})]})]}),e.jsxs("div",{className:"sticky bottom-0 mt-3 -mx-4 md:-mx-5 px-4 md:px-5 pt-3 border-t flex items-center justify-between gap-2",children:[e.jsx(_,{variant:"outline",className:"w-full",onClick:v,children:"Rejeitar tudo"}),e.jsx(_,{variant:"ghost",className:"w-full",onClick:w,children:"Salvar preferências"}),e.jsx(_,{className:"w-full",onClick:u,children:"Aceitar tudo"})]}),e.jsx("div",{className:"mt-3 text-center text-sm",children:e.jsx("a",{href:"/docs/privacidade",target:"_blank",rel:"noopener noreferrer",className:"underline underline-offset-4",children:"Política de Privacidade"})})]})})}function ie(){return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"h-8 w-64"}),e.jsx(j,{className:"h-4 w-96"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(T,{children:[e.jsx(J,{children:e.jsx(j,{className:"h-6 w-48"})}),e.jsxs(S,{className:"space-y-4",children:[e.jsx(j,{className:"h-4 w-full"}),e.jsx(j,{className:"h-4 w-3/4"}),e.jsx(j,{className:"h-4 w-1/2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((r,t)=>e.jsx(T,{children:e.jsxs(S,{className:"p-4 space-y-2",children:[e.jsx(j,{className:"h-4 w-full"}),e.jsx(j,{className:"h-4 w-2/3"}),e.jsx(j,{className:"h-8 w-20"})]})},t))})]})]})}function bt({children:r}){const t=be();return a.useEffect(()=>{const{data:s}=X.auth.onAuthStateChange(o=>{o==="PASSWORD_RECOVERY"&&t("/reset-password")});return()=>{s.subscription.unsubscribe()}},[t]),e.jsx(e.Fragment,{children:r})}class wt extends a.Component{constructor(t){super(t),this.state={hasError:!1,errorType:"unknown"}}static getDerivedStateFromError(t){const s=t.message.includes("organization")?"organization":t.message.includes("data")||t.message.includes("fetch")?"data":"unknown";return{hasError:!0,error:t,errorType:s}}componentDidCatch(t,s){oe("Organization context error",{error:t.message,stack:t.stack,componentStack:s.componentStack,errorType:this.state.errorType},"OrganizationErrorBoundary")}handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorType:"unknown"}),this.props.onRetry?this.props.onRetry():window.location.reload()};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const t={organization:{title:"Erro ao Carregar Organização",description:"Não foi possível carregar os dados da sua organização. Verifique sua conexão e tente novamente."},data:{title:"Erro ao Carregar Dados",description:"Houve um problema ao carregar os dados. Isso pode ser temporário."},unknown:{title:"Erro Inesperado",description:"Algo deu errado. Tente recarregar a página."}},{title:s,description:o}=t[this.state.errorType];return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-card rounded-lg shadow-lg p-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(ae,{className:"h-16 w-16 text-destructive"})}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:s}),e.jsx("p",{className:"text-muted-foreground",children:o}),this.state.error&&e.jsxs("details",{className:"text-xs text-muted-foreground text-left bg-muted p-2 rounded",children:[e.jsx("summary",{className:"cursor-pointer font-medium",children:"Detalhes técnicos"}),e.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-all",children:this.state.error.message})]}),e.jsxs(_,{onClick:this.handleRetry,className:"w-full gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Tentar Novamente"]})]})})}return this.props.children}}class Nt extends a.Component{constructor(t){super(t),this.state={hasError:!1,isAuthError:!1}}static getDerivedStateFromError(t){const s=t.message.includes("auth")||t.message.includes("unauthorized")||t.message.includes("session")||t.message.includes("token");return{hasError:!0,error:t,isAuthError:s}}componentDidCatch(t,s){oe("Auth context error",{error:t.message,stack:t.stack,componentStack:s.componentStack,isAuthError:this.state.isAuthError},"AuthErrorBoundary")}handleLogin=()=>{window.location.href="/login"};handleRetry=()=>{this.setState({hasError:!1,error:void 0,isAuthError:!1}),window.location.reload()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-card rounded-lg shadow-lg p-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(we,{className:"h-16 w-16 text-destructive"})}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:this.state.isAuthError?"Erro de Autenticação":"Erro Crítico"}),e.jsx("p",{className:"text-muted-foreground",children:this.state.isAuthError?"Sua sessão expirou ou há um problema com sua autenticação. Por favor, faça login novamente.":"Ocorreu um erro crítico na aplicação. Tente recarregar a página."}),this.state.error&&e.jsxs("details",{className:"text-xs text-muted-foreground text-left bg-muted p-2 rounded",children:[e.jsx("summary",{className:"cursor-pointer font-medium",children:"Detalhes técnicos"}),e.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-all",children:this.state.error.message})]}),e.jsx("div",{className:"flex gap-2",children:this.state.isAuthError?e.jsxs(_,{onClick:this.handleLogin,className:"flex-1 gap-2",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Fazer Login"]}):e.jsx(_,{onClick:this.handleRetry,className:"flex-1",children:"Tentar Novamente"})})]})}):this.props.children}}const ce=()=>{const{loading:r,user:t,profile:s}=D(),{loading:o,loadingProgress:i,isInitialized:l,currentOrg:p}=Ue();let h="auth",m="Autenticando...",u=i;!r&&t?s?o||!l?(h="organization",m="Carregando organizações...",u=Math.max(u,70)):(h="complete",m="Pronto!",u=100):(h="profile",m="Carregando perfil...",u=Math.max(u,50)):r&&(h="auth",m="Autenticando...",u=Math.min(u,30));const v=r||o||!l;return{isLoading:v,progress:u,phase:h,message:m,isReady:!v&&!!t&&!!s&&!!p}},At=()=>{const{isLoading:r,progress:t,message:s,phase:o}=ce();if(!r)return null;const i={auth:"text-primary",profile:"text-blue-500",organization:"text-purple-500",complete:"text-green-500"};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"max-w-md w-full px-6 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Ae,{className:`h-12 w-12 animate-spin mx-auto ${i[o]}`}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:s}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o==="auth"&&"Verificando credenciais...",o==="profile"&&"Carregando suas informações...",o==="organization"&&"Configurando ambiente...",o==="complete"&&"Finalizando..."]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(tt,{value:t,className:"h-2"}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[Math.round(t),"%"]})]})]})})};function Pt({children:r,requiredRole:t}){const{user:s,loading:o,profile:i}=D(),{isLoading:l}=ce(),p=Pe();if(o||l)return e.jsx(At,{});if(!s){const h=p.pathname+p.search;return e.jsx(x,{to:`/login?next=${encodeURIComponent(h)}`,replace:!0})}if(i&&!i.is_active)return e.jsx(x,{to:"/account-inactive",replace:!0});if(t&&i){const h=i.roles?.[0]?.role;if(h!==t&&h!=="ADMIN")return e.jsx(x,{to:"/app/dashboard",replace:!0})}return e.jsx(We,{children:r})}const Ct=a.lazy(()=>c(()=>import("./page-DemoMapaTestemunhas-Bp8gukOR.js").then(r=>r.D),__vite__mapDeps([0,1,2]))),Ot=()=>e.jsx("div",{className:"min-h-screen bg-background p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx(j,{className:"h-12 w-64"}),e.jsx(j,{className:"h-96 w-full"})]})});function Tt(){return e.jsx(a.Suspense,{fallback:e.jsx(Ot,{}),children:e.jsxs(R,{children:[e.jsx(n,{path:"mapa-testemunhas",element:e.jsx(Ct,{})}),e.jsx(n,{path:"*",element:e.jsx(x,{to:"/",replace:!0})})]})})}let le=class extends a.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){const o=dt.system("React component error",{componentStack:s.componentStack,errorBoundary:!0,originalError:t.message,stack:t.stack}),i=ut.handle(o,"ErrorBoundary");this.setState({error:i,errorInfo:s}),this.props.onError&&this.props.onError(t,s)}handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx(ht,{onRetry:this.handleReset}):this.props.children}};class St extends Ce.Component{state={hasError:!1};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("ErrorBoundary caught error:",t,s)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md mx-auto text-center p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"⚠️ Erro na Aplicação"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Algo deu errado. Verifique o console para mais detalhes."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Recarregar Página"})]})}):this.props.children}}class Rt extends a.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Login Error Boundary caught an error:",t,s)}handleRetry=()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs(T,{className:"w-full max-w-md",children:[e.jsxs(J,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:e.jsx(ae,{className:"h-6 w-6 text-red-600"})}),e.jsx(xe,{className:"text-xl",children:"Erro ao Carregar Login"}),e.jsx(fe,{children:"Ocorreu um erro inesperado ao carregar a página de login."})]}),e.jsxs(S,{className:"space-y-4",children:[this.state.error&&e.jsx("div",{className:"rounded-md bg-red-50 p-3",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Erro:"})," ",this.state.error.message]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(_,{onClick:this.handleRetry,className:"w-full",variant:"default",children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),"Tentar Novamente"]}),e.jsx(_,{onClick:()=>window.location.href="/",className:"w-full",variant:"outline",children:"Voltar ao Início"})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Se o problema persistir, entre em contato com o suporte."})})]})]})}):this.props.children}}class Lt{originalConsole={log:console.log,warn:console.warn,info:console.info,debug:console.debug};config={enabledMethods:[],preserveErrors:!0,structuredLogging:!0};constructor(t){t&&(this.config={...this.config,...t})}cleanProductionLogs(){console.log=(...t)=>{this.config.structuredLogging&&d.info("Legacy console.log usage",{args:t},"LogCleaner")},console.warn=(...t)=>{this.config.structuredLogging&&d.warn("Legacy console.warn usage",{args:t},"LogCleaner")},console.info=(...t)=>{this.config.structuredLogging&&d.info("Legacy console.info usage",{args:t},"LogCleaner")},console.debug=(...t)=>{this.config.structuredLogging&&d.debug("Legacy console.debug usage",{args:t},"LogCleaner")}}restoreConsole(){Object.assign(console,this.originalConsole)}interceptLegacyLogs(){console.log=(...t)=>{d.info("Intercepted console.log",{args:t},"LegacyInterceptor")},console.warn=(...t)=>{d.warn("Intercepted console.warn",{args:t},"LegacyInterceptor")},console.info=(...t)=>{d.info("Intercepted console.info",{args:t},"LegacyInterceptor")}}}const Dt=new Lt({enabledMethods:[],preserveErrors:!0,structuredLogging:!0}),It=()=>{Dt.cleanProductionLogs()};class zt{config={enableResourceHints:!0,enableServiceWorker:!1,enableCriticalResourcePrefetch:!0,enableMemoryOptimization:!0};constructor(t){t&&(this.config={...this.config,...t})}optimize(){try{this.addResourceHints(),this.enableCriticalResourcePrefetch(),this.setupMemoryOptimization(),this.manageServiceWorker(),d.info("Performance optimizations applied successfully",{},"PerformanceOptimizer")}catch(t){d.error("Failed to apply performance optimizations",{error:t},"PerformanceOptimizer")}}addResourceHints(){if(!this.config.enableResourceHints)return;const t=document.head;["https://fgjypmlszuzkgvhuszxn.supabase.co","https://fonts.googleapis.com","https://fonts.gstatic.com"].forEach(i=>{const l=document.createElement("link");l.rel="dns-prefetch",l.href=i,t.appendChild(l)}),["https://fgjypmlszuzkgvhuszxn.supabase.co"].forEach(i=>{const l=document.createElement("link");l.rel="preconnect",l.href=i,l.crossOrigin="anonymous",t.appendChild(l)})}enableCriticalResourcePrefetch(){this.config.enableCriticalResourcePrefetch&&"requestIdleCallback"in window&&requestIdleCallback(()=>{["/mapa","/admin","/dashboard"].forEach(s=>{const o=document.createElement("link");o.rel="prefetch",o.href=s,document.head.appendChild(o)})})}setupMemoryOptimization(){if(!this.config.enableMemoryOptimization)return;const t=window;"gc"in t&&typeof t.gc=="function"&&"requestIdleCallback"in window&&requestIdleCallback(()=>{try{t.gc?.()}catch{}}),window.addEventListener("beforeunload",()=>{performance.clearMarks(),performance.clearMeasures()})}manageServiceWorker(){if("serviceWorker"in navigator){if(this.config.enableServiceWorker){navigator.serviceWorker.register("/sw.js").then(t=>{d.info("Service Worker registered successfully",{scope:t.scope},"PerformanceOptimizer")}).catch(t=>{d.warn("Service Worker registration failed",{error:t},"PerformanceOptimizer")});return}navigator.serviceWorker.getRegistrations().then(t=>{t.length!==0&&(t.forEach(s=>{s.unregister().catch(o=>{d.warn("Service Worker unregistration failed",{error:o},"PerformanceOptimizer")})}),d.info("Existing Service Workers unregistered",{count:t.length},"PerformanceOptimizer"))}).catch(t=>{d.warn("Failed to fetch Service Worker registrations",{error:t},"PerformanceOptimizer")})}}monitorCriticalMetrics(){try{if(window.addEventListener("load",()=>{const t=performance.timing;if(t){const i=t.loadEventEnd-t.navigationStart,l=t.domContentLoadedEventEnd-t.navigationStart,p=t.responseStart-t.navigationStart;d.info("Performance metrics",{loadTime:i,domContentLoaded:l,firstByte:p},"WebVitals")}const o=performance.getEntriesByType("resource").filter(i=>i.duration>1e3);o.length>0&&d.warn("Slow resources detected",{count:o.length,resources:o.slice(0,5).map(i=>({name:i.name,duration:i.duration}))},"WebVitals")}),"PerformanceObserver"in window)try{new PerformanceObserver(s=>{s.getEntries().forEach(o=>{o.entryType==="measure"&&d.info("Custom performance measure",{name:o.name,duration:o.duration},"WebVitals")})}).observe({entryTypes:["measure"]})}catch{}}catch(t){d.warn("Performance monitoring setup failed",{error:t},"PerformanceOptimizer")}}}const M=new zt,kt=()=>{M.optimize(),M.monitorCriticalMetrics()},Vt=()=>(a.useEffect(()=>{try{if(It(),kt(),typeof window<"u"){const r=window,t=r.__REACT_DEVTOOLS_GLOBAL_HOOK__,s=t&&typeof t=="object"?t:{};r.__REACT_DEVTOOLS_GLOBAL_HOOK__={...s,onCommitFiberRoot:()=>{},onCommitFiberUnmount:()=>{},isDisabled:!0}}delete window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,delete window.__REDUX_DEVTOOLS_EXTENSION__,d.info("Production optimizations initialized",{},"ProductionOptimizer")}catch(r){console.error("Failed to initialize production optimizations:",r)}},[]),null),de=a.createContext(void 0),F=1e3,Mt=8e3,Ft=5e3;function Bt({children:r}){const[t,s]=a.useState(!1),o=a.useRef(null),i=a.useRef(0),l=a.useRef(F),p=async m=>{o.current=m,i.current=Date.now();try{const u=await m();return s(!1),l.current=F,u}catch(u){throw(u?.status>=500||u?.name==="AbortError"||u?.message?.includes("Network"))&&s(!0),u}},h=async()=>{if(!(!o.current||Date.now()-i.current<Ft)){await new Promise(u=>setTimeout(u,l.current)),l.current=Math.min(l.current*2,Mt),i.current=Date.now();try{await p(o.current)}catch{}}};return e.jsx(de.Provider,{value:{execute:p,retry:h,isUnavailable:t},children:r})}function Ht(){const r=a.useContext(de);if(!r)throw new Error("useServiceHealth must be used within ServiceHealthProvider");return r}function Ut(){const{isUnavailable:r,retry:t}=Ht();return r?e.jsxs(Z,{variant:"destructive",role:"alert",className:"rounded-none flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{children:"Serviços indisponíveis"}),e.jsx(ee,{children:"Não foi possível conectar ao CNJ/Supabase."})]}),e.jsx(_,{variant:"outline",onClick:t,"aria-label":"Tentar novamente",children:"Tentar novamente"})]}):null}function Wt(){const{expired:r,redirectUrl:t,hideExpired:s}=mt(),o=()=>{s(),t&&(window.location.href=t)};return e.jsx(rt,{open:r,onOpenChange:s,children:e.jsxs(st,{children:[e.jsxs(at,{children:[e.jsx(nt,{children:"Sessão expirada"}),e.jsx(ot,{children:"Sua sessão foi encerrada por inatividade ou expiração. Rascunhos foram preservados."})]}),e.jsx(it,{children:e.jsx(ct,{onClick:o,children:"Fazer login"})})]})})}const $t=ge(E(),je()),Kt=te({flags:$t}),ue=a.createContext({}),Yt=({children:r})=>{const{user:t,profile:s}=D(),o=s?.organization_id,i=t?.id,l="production",{featureFlagsRefreshInterval:p,featureFlagsCacheTtl:h}=L(),m=o&&i?`ff:${o}:${i}:${l}`:null,u=a.useRef(null),v=()=>{if(!m)return null;try{const f=localStorage.getItem(m);return f?JSON.parse(f):null}catch{return null}},w=f=>Date.now()-f.ts<=h,[O,N]=a.useState(()=>v()?.flags??{}),he=f=>{m&&localStorage.setItem(m,JSON.stringify({ts:Date.now(),flags:f}))},I=async()=>{if(!(!o||!i))try{const{data:f,error:A}=await X.functions.invoke("evaluate_flags",{body:{tenant_id:o,user_id:i,segments:s?.plan?[s.plan]:[],environment:l}});if(A)throw A;const z=Kt.parse(f);he(z.flags),N(z.flags)}catch{const f=v();f&&w(f)&&N(f.flags)}};return a.useEffect(()=>()=>{},[o,i,l,s?.plan,m]),a.useEffect(()=>{u.current&&u.current!==m&&localStorage.removeItem(u.current),u.current=m;const f=v();N(f?f.flags:{}),I();const A=setInterval(I,p);return()=>clearInterval(A)},[m,p,o,i,l]),e.jsx(ue.Provider,{value:O,children:r})},Gt=(r,t=!1)=>{const o=!!a.useContext(ue)[r],i=a.useRef(o);return a.useEffect(()=>{i.current=o},[o,t,r]),o},qt=({flag:r,children:t,fallback:s})=>Gt(r)?e.jsx(e.Fragment,{children:t}):e.jsx(e.Fragment,{children:s??null}),me=a.createContext(!1);function Jt({children:r,value:t}){const{maintenance:s}=L(),o=t??s;return e.jsx(me.Provider,{value:o,children:r})}function pe(){return a.useContext(me)}function Xt(){return pe()?e.jsx(Z,{variant:"destructive",role:"alert",className:"rounded-none text-center",children:e.jsxs("div",{children:[e.jsx(Q,{children:"Sistema em manutenção"}),e.jsx(ee,{children:"Alguns recursos estão temporariamente indisponíveis."})]})}):null}const Zt=[{icon:e.jsx(Re,{className:"h-5 w-5"}),title:"Documentação",description:"Guias completos e referências",href:"/docs"},{icon:e.jsx(Le,{className:"h-5 w-5"}),title:"Vídeos Tutoriais",description:"Aprenda através de vídeos",href:"/tutorials"},{icon:e.jsx(De,{className:"h-5 w-5"}),title:"Suporte",description:"Entre em contato conosco",href:"/support"},{icon:e.jsx(Ie,{className:"h-5 w-5"}),title:"Novidades",description:"Veja as últimas atualizações",href:"/changelog",isNew:!0}];function Qt(){const[r,t]=a.useState(!1);return e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:e.jsx(Oe,{children:!r&&e.jsx(k.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.2},children:e.jsxs(xt,{open:r,onOpenChange:t,children:[e.jsx(ft,{asChild:!0,children:e.jsx(_,{size:"icon",variant:"default",className:"h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110","aria-label":"Ajuda",children:e.jsx(Te,{className:"h-6 w-6"})})}),e.jsxs(gt,{side:"top",align:"end",className:"w-80 p-0 overflow-hidden animate-scale-in",children:[e.jsxs("div",{className:"bg-gradient-primary p-4 text-primary-foreground",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Central de Ajuda"}),e.jsx(_,{variant:"ghost",size:"icon",className:"h-6 w-6 text-primary-foreground hover:bg-primary-foreground/20",onClick:()=>t(!1),children:e.jsx(Se,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-primary-foreground/90 mt-1",children:"Como podemos ajudá-lo hoje?"})]}),e.jsx("div",{className:"p-2",children:Zt.map((s,o)=>e.jsxs(k.a,{href:s.href,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.1},className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors group",children:[e.jsx("div",{className:"mt-0.5 text-primary group-hover:text-primary-light transition-colors",children:s.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-sm text-foreground group-hover:text-primary transition-colors",children:s.title}),s.isNew&&e.jsx(_e,{variant:"default",className:"text-xs px-1.5 py-0",children:"Novo"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.description})]})]},s.title))}),e.jsx("div",{className:"border-t p-3 bg-muted/30",children:e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Pressione"," ",e.jsx("kbd",{className:"px-1.5 py-0.5 text-xs font-semibold bg-background border rounded",children:"?"})," ","para abrir esta janela"]})})]})]})})})})}const B=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.D),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),er=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.A),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),H=a.lazy(()=>c(()=>import("./page-super-admin-b7RSJ4pz.js").then(r=>r.D),__vite__mapDeps([9,1,2,4,6,5,0,7,8]))),tr=a.lazy(()=>c(()=>import("./page-super-admin-b7RSJ4pz.js").then(r=>r.U),__vite__mapDeps([9,1,2,4,6,5,0,7,8]))),rr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.I),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),sr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.V),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),U=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.O),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),ar=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.S),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),nr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.C),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),or=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.M),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),ir=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.a),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),cr=a.lazy(()=>c(()=>import("./page-AppHome-DaBy8jPk.js"),__vite__mapDeps([10,1,2]))),lr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.b),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),dr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.K),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),ur=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.c),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),mr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.P),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),pr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.d),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),hr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.e),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),xr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.f),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),fr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.F),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),gr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.g),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),jr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.B),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),_r=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.h),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),vr=a.lazy(()=>c(()=>import("./page-admin-demDlIGE.js").then(r=>r.T),__vite__mapDeps([3,1,2,4,5,0,6,7,8]))),yr=a.lazy(()=>c(()=>import("./page-Profile-u717liB7.js").then(r=>r.P),__vite__mapDeps([6,1,2,4,5,0,7]))),Er=a.lazy(()=>c(()=>import("./page-settings-CpgjlY2u.js"),__vite__mapDeps([11,1,2,4,6,5,0,7,8]))),br=a.lazy(()=>c(()=>import("./page-MapaPage-CuoDGtm9.js").then(r=>r.a3),__vite__mapDeps([5,1,2,4,0]))),W=a.lazy(()=>c(()=>import("./page-PublicHome-uOv3cKDX.js").then(r=>r.P),__vite__mapDeps([12,2,1,4,13,7,5,0,6]))),wr=a.lazy(()=>c(()=>import("./page-About-BgklZ4WV.js").then(r=>r.U),__vite__mapDeps([2,1]))),Nr=a.lazy(()=>c(()=>import("./page-Beta-CAnwssUF.js"),__vite__mapDeps([14,1,2]))),Ar=a.lazy(()=>c(()=>import("./page-Login-DHksUS7l.js").then(r=>r.n),__vite__mapDeps([4,1,2]))),Pr=a.lazy(()=>c(()=>import("./page-Reset-B0zztijW.js"),__vite__mapDeps([15,1,2,4]))),Cr=a.lazy(()=>c(()=>import("./page-ResetConfirm-h0ptu86q.js"),__vite__mapDeps([16,1,2,4,5,0]))),Or=a.lazy(()=>c(()=>import("./reset-password-C5S9lRTW.js"),__vite__mapDeps([17,1,2]))),Tr=a.lazy(()=>c(()=>import("./page-VerifyOtp-C2czvJXt.js"),__vite__mapDeps([18,1,2,4,19]))),Sr=a.lazy(()=>c(()=>import("./page-PortalTitular-BKgS7Gsz.js").then(r=>r.P),__vite__mapDeps([7,1,2,4,5,0]))),Rr=a.lazy(()=>c(()=>import("./page-NotFound-Cxb_Cxf8.js").then(r=>r.N),__vite__mapDeps([13,1,2,4]))),Lr=a.lazy(()=>c(()=>import("./page-TemplatePage-DYoN_cu9.js"),__vite__mapDeps([20,1,2,0,4,5]))),Dr=a.lazy(()=>c(()=>import("./page-ReportDemo-DKUCHWI2.js").then(r=>r.R),__vite__mapDeps([8,1,2,4,7,5,0,6]))),$=a.lazy(()=>c(()=>import("./page-PrivacyPolicy-B3pLuhfv.js"),__vite__mapDeps([21,1,2]))),K=a.lazy(()=>c(()=>import("./page-TermsOfUse-DaIbWUug.js"),__vite__mapDeps([22,1,2]))),Ir=a.lazy(()=>c(()=>import("./page-LGPD-BGzwDJzi.js"),__vite__mapDeps([23,1,2]))),zr=a.lazy(()=>c(()=>import("./page-TwoFactorSetup-C-o9qBj0.js").then(r=>r.T),__vite__mapDeps([19,1,2,4]))),kr=a.lazy(()=>c(()=>import("./page-ServerError-ISqbmMJY.js"),__vite__mapDeps([24,1,2,4,13]))),Y=a.lazy(()=>c(()=>import("./page-Status-FQtyL1_c.js"),__vite__mapDeps([25,1,2])));function Vr(){return pe()?e.jsxs(R,{children:[e.jsx(n,{path:"/",element:e.jsx(W,{})}),e.jsx(n,{path:"/status",element:e.jsx(Y,{})}),e.jsx(n,{path:"*",element:e.jsx(x,{to:"/status",replace:!0})})]}):e.jsxs(R,{children:[e.jsx(n,{path:"/",element:e.jsx(W,{})}),e.jsx(n,{path:"/sobre",element:e.jsx(wr,{})}),e.jsx(n,{path:"/beta",element:e.jsx(Nr,{})}),e.jsx(n,{path:"/login",element:e.jsx(Rt,{children:e.jsx(Ar,{})})}),e.jsx(n,{path:"/reset",element:e.jsx(Pr,{})}),e.jsx(n,{path:"/reset/confirm",element:e.jsx(Cr,{})}),e.jsx(n,{path:"/reset-password",element:e.jsx(Or,{})}),e.jsx(n,{path:"/verify-otp",element:e.jsx(Tr,{})}),e.jsx(n,{path:"/portal-titular",element:e.jsx(Sr,{})}),e.jsx(n,{path:"/import/template",element:e.jsx(Lr,{})}),e.jsx(n,{path:"/privacidade",element:e.jsx($,{})}),e.jsx(n,{path:"/termos",element:e.jsx(K,{})}),e.jsx(n,{path:"/politica-de-privacidade",element:e.jsx($,{})}),e.jsx(n,{path:"/termos-de-uso",element:e.jsx(K,{})}),e.jsx(n,{path:"/lgpd",element:e.jsx(Ir,{})}),e.jsx(n,{path:"/500",element:e.jsx(kr,{})}),e.jsx(n,{path:"/status",element:e.jsx(Y,{})}),e.jsx(n,{path:"/demo/*",element:e.jsx(Tt,{})}),e.jsxs(n,{path:"/app/*",element:e.jsx(Pt,{children:e.jsx(le,{children:e.jsx(a.Suspense,{fallback:e.jsx(ie,{}),children:e.jsx(Fe,{})})})}),children:[e.jsx(n,{index:!0,element:e.jsx(x,{to:"/app/dashboard",replace:!0})}),e.jsx(n,{path:"dashboard",element:e.jsx(cr,{})}),e.jsx(n,{path:"mapa-testemunhas",element:e.jsx(br,{})}),e.jsx(n,{path:"mapa",element:e.jsx(x,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"dados",element:e.jsx(x,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"dados/mapa",element:e.jsx(x,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"chat",element:e.jsx(x,{to:"/app/mapa-testemunhas?view=chat",replace:!0})}),e.jsx(n,{path:"super-admin",element:e.jsx(H,{})}),e.jsx(n,{path:"super-admin/dashboard",element:e.jsx(H,{})}),e.jsx(n,{path:"super-admin/users",element:e.jsx(tr,{})}),e.jsx(n,{path:"admin",element:e.jsx(B,{})}),e.jsx(n,{path:"admin/dashboard",element:e.jsx(B,{})}),e.jsx(n,{path:"admin/analytics",element:e.jsx(er,{})}),e.jsx(n,{path:"admin/metrics",element:e.jsx(xr,{})}),e.jsx(n,{path:"admin/feature-flags/metrics",element:e.jsx(fr,{})}),e.jsx(n,{path:"admin/ia",element:e.jsx(lr,{})}),e.jsx(n,{path:"admin/ia/chaves",element:e.jsx(dr,{})}),e.jsx(n,{path:"admin/ia/modelos",element:e.jsx(ur,{})}),e.jsx(n,{path:"admin/ia/prompt-studio",element:e.jsx(mr,{})}),e.jsx(n,{path:"admin/ia/testes",element:e.jsx(pr,{})}),e.jsx(n,{path:"admin/base-import",element:e.jsx(rr,{})}),e.jsx(n,{path:"admin/base-import/test",element:e.jsx(hr,{})}),e.jsx(n,{path:"import",element:e.jsx(x,{to:"/app/admin/base-import",replace:!0})}),e.jsx(n,{path:"admin/base",element:e.jsx(gr,{})}),e.jsxs(n,{path:"admin/base/*",element:e.jsx(jr,{}),children:[e.jsx(n,{path:"processos",element:e.jsx(_r,{})}),e.jsx(n,{path:"testemunhas",element:e.jsx(vr,{})})]}),e.jsx(n,{path:"admin/versoes",element:e.jsx(sr,{})}),e.jsx(n,{path:"admin/org",element:e.jsx(U,{})}),e.jsx(n,{path:"admin/organization",element:e.jsx(U,{})}),e.jsx(n,{path:"admin/compliance",element:e.jsx(nr,{})}),e.jsx(n,{path:"admin/marketing",element:e.jsx(or,{})}),e.jsx(n,{path:"admin/retencao",element:e.jsx(ir,{})}),e.jsx(n,{path:"admin/config",element:e.jsx(ar,{})}),e.jsx(n,{path:"relatorio",element:e.jsx(qt,{flag:"advanced-report",children:e.jsx(Dr,{})})}),e.jsx(n,{path:"account/2fa",element:e.jsx(zr,{})}),e.jsx(n,{path:"profile",element:e.jsx(yr,{})}),e.jsx(n,{path:"settings",element:e.jsx(Er,{})})]}),e.jsx(n,{path:"/dashboard",element:e.jsx(x,{to:"/app/dashboard",replace:!0})}),e.jsx(n,{path:"/mapa-testemunhas",element:e.jsx(x,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"/mapa",element:e.jsx(x,{to:"/app/mapa-testemunhas",replace:!0})}),e.jsx(n,{path:"/admin/*",element:e.jsx(x,{to:"/app/admin",replace:!0})}),e.jsx(n,{path:"/profile",element:e.jsx(x,{to:"/app/profile",replace:!0})}),e.jsx(n,{path:"/settings",element:e.jsx(x,{to:"/app/settings",replace:!0})}),e.jsx(n,{path:"/chat",element:e.jsx(x,{to:"/app/mapa-testemunhas?view=chat",replace:!0})}),e.jsx(n,{path:"*",element:e.jsx(Rr,{})})]})}const Mr=new ze({defaultOptions:{queries:{retry:3,staleTime:300*1e3,refetchOnWindowFocus:!1}}}),Fr=Me,Br=()=>e.jsx(St,{children:e.jsxs(le,{children:[e.jsx(Vt,{}),e.jsx(ke,{reducedMotion:"user",transition:$e,children:e.jsx(Ve,{client:Mr,children:e.jsx(Bt,{children:e.jsx(pt,{children:e.jsx(Yt,{children:e.jsxs(lt,{children:[e.jsx(qe,{}),e.jsx(jt,{}),e.jsx(Wt,{}),e.jsx(yt,{}),e.jsx(Fr,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(bt,{children:e.jsx(Nt,{children:e.jsx(Ke,{children:e.jsx(wt,{children:e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Xt,{}),e.jsx(Ut,{}),e.jsx("main",{id:"conteudo",className:"flex-1",children:e.jsx(a.Suspense,{fallback:e.jsx(ie,{}),children:e.jsx(Vr,{})})}),e.jsx(Qt,{})]})})})})})})]})})})})})})]})}),Hr=te({VITE_SUPABASE_URL:E().url("VITE_SUPABASE_URL deve ser uma URL válida"),VITE_SUPABASE_ANON_KEY:E().min(1,"VITE_SUPABASE_ANON_KEY é obrigatória"),VITE_SENTRY_DSN:E().optional(),VITE_POSTHOG_KEY:E().optional(),VITE_POSTHOG_HOST:E().optional()});function Ur(){try{return Hr.parse({VITE_SUPABASE_URL:"<<MANTER>>",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZnanlwbWxzenV6a2d2aHVzenhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMzE4MjQsImV4cCI6MjA3MTYwNzgyNH0.lN-Anhn1e-2SCDIAe6megYRHdhofe1VO71D6-Zk70XU",VITE_SENTRY_DSN:void 0,VITE_POSTHOG_KEY:void 0,VITE_POSTHOG_HOST:void 0})}catch(r){if(r instanceof ve){const t=r.errors.map(s=>`  - ${s.path.join(".")}: ${s.message}`).join(`
`);throw new Error(`❌ Variáveis de ambiente inválidas ou faltando:

${t}

📝 Crie um arquivo .env na raiz do projeto com as variáveis necessárias.
📖 Consulte .env.example para referência.
`)}throw r}}function Wr(){try{return Ur()}catch(r){throw r}}function $r(r){if(!y)return;const t=P();t&&(t.body.innerHTML=`
      <div style="font-family: system-ui; max-width: 600px; margin: 100px auto; padding: 20px;">
        <h1 style="color: #ef4444;">⚠️ Configuração Incompleta</h1>
        <p style="font-size: 18px; line-height: 1.6;">
          Variáveis de ambiente obrigatórias não foram encontradas.
        </p>
        <pre style="background: #f3f4f6; padding: 15px; border-radius: 8px; overflow-x: auto;">
${r.message}
        </pre>
        <p style="margin-top: 20px;">
          <strong>Como corrigir:</strong><br>
          1. Copie o arquivo <code>.env.example</code> para <code>.env</code><br>
          2. Preencha as variáveis com seus valores reais<br>
          3. Reinicie o servidor de desenvolvimento
        </p>
      </div>
    `)}try{Wr(),d.info("Environment variables validated successfully",{},"MainApp")}catch(r){d.error("Environment validation failed",{error:r},"MainApp"),console.error(r),y&&$r(r instanceof Error?r:new Error("Erro desconhecido"))}let C;try{C=L().sentryDsn}catch(r){console.error("Failed to get environment configuration:",r),C=void 0}function G(){if(typeof window>"u"||!C)return;if(!re().measure){d.info("Sentry initialization skipped - no analytics consent",{},"MainApp");return}c(()=>import("./vendor-cb6Vd3Sa.js").then(t=>t.dl),__vite__mapDeps([1,2])).then(t=>{t.init({dsn:C,tracesSampleRate:1,beforeSend(s){return s.user&&(delete s.user.email,delete s.user.username),s}}),d.info("Sentry initialized successfully with consent",{},"MainApp")}).catch(()=>{d.warn("Sentry not available",{},"MainApp")})}y&&(G(),se(r=>{r.measure?G():d.info("Sentry consent revoked",{},"MainApp")}));y&&Ye();let g=null,b=!1;function q(){if(!y||g||b)return;b=!0;const r=P();r&&(g=r.createElement("script"),g.src="https://assistjur.com.br/~flock.js",g.defer=!0,g.id="aj-flock",g.onerror=()=>{d.warn("Analytics script failed to load",{},"MainApp"),g=null,b=!1},setTimeout(()=>{g&&!r.getElementById("aj-flock")&&(d.warn("Analytics script load timeout",{},"MainApp"),g=null,b=!1)},1e4),r.head.appendChild(g)),d.info("Analytics script loaded",{},"MainApp")}function Kr(){y&&(g?.remove(),g=null,b=!1)}if(y)try{re().measure&&q(),se(s=>{s.measure?q():Kr()});const t=P();if(t){const s=t.getElementById("root");s&&Be.createRoot(s).render(e.jsx(a.StrictMode,{children:e.jsx(Ge,{children:e.jsx(Jt,{children:e.jsx(Br,{})})})}))}}catch(r){console.error("Failed to initialize application:",r);const t=P();t&&(t.body.innerHTML=`
        <div style="font-family: system-ui; max-width: 600px; margin: 100px auto; padding: 20px;">
          <h1 style="color: #ef4444;">Erro ao Carregar Aplicação</h1>
          <p>Ocorreu um erro ao inicializar a aplicação. Por favor, tente novamente mais tarde.</p>
          <pre style="background: #f3f4f6; padding: 15px; border-radius: 8px; overflow-x: auto; font-size: 12px;">
${r instanceof Error?r.message:"Erro desconhecido"}
          </pre>
        </div>
      `)}export{vt as u};
