import{r as g,j as r,bT as to,R as ie,c4 as so,S as ct,bI as Vs,U as Es,l as fs,c5 as no,K as jt,bs as io,c6 as ro,bW as ao,c7 as oo,bM as je,c8 as co,c9 as lo,u as qi,ca as uo,bO as Os,cb as Ht,by as Gi,cc as ho,bY as mo,cd as bn,ce as fo,bj as Hi,aq as Ki,z as po,ag as qe,bm as go,x as Xi,a9 as Qi,L as xo,cf as Kt,C as vo,bu as Ve,bG as yo,cg as bo,aA as wo,bw as jo,f as Zi,B as Ji,V as So,i as ft,m as ps,ac as To,Z as wn,h as Po,D as jn,ch as No,ci as Co}from"./vendor-DjGBFEeb.js";import{s as de,j as _,B as O,S as ue,l as Mo,O as Ao,D as ks,e as Do,a as X,b as ee,c as te,C as se,d as ne,w as ze}from"./page-About-C9AEn_cr.js";import{f as we,e as It,u as pt,I as xe,g as _o,L as z,C as Xt}from"./page-Login-BicjLTnC.js";import{T as Ro}from"./page-PortalTitular-BP0o5ubO.js";import{T as Lt,q as Vo,r as Eo,s as Ze,t as Je,u as et,C as Oo,v as ko,w as Io,x as Lo,y as Fo,z as Bo,B as er,E as tr,F as sr,G as Ge,H as gs,I as nr,J as zo,K as Wo,L as Uo,M as $o,N as Yo,O as qo,P as Go,Q as Ho,R as Ko,U as Xo,e as Qt,S as Qo,a as Zo,b as Jo,c as ec,d as Zt}from"./page-MapaPage-CmIl7tuY.js";import{S as Sn,A as tc,a as sc}from"./page-Profile-Hyp4xwlb.js";import{P as nc,a as ic,b as rc}from"./page-DemoMapaTestemunhas-DGvz_qiH.js";const Is=g.createContext({});function Ft(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bt=g.createContext(null),tt=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ac extends g.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oc({children:e,isPresent:t}){const s=g.useId(),n=g.useRef(null),i=g.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=g.useContext(tt);return g.useInsertionEffect(()=>{const{width:a,height:c,top:l,left:d}=i.current;if(t||!n.current||!a||!c)return;n.current.dataset.motionPopId=s;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),r.jsx(ac,{isPresent:t,childRef:n,sizeRef:i,children:g.cloneElement(e,{ref:n})})}const cc=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:a})=>{const c=Ft(lc),l=g.useId(),d=g.useCallback(h=>{c.set(h,!0);for(const m of c.values())if(!m)return;n&&n()},[c,n]),u=g.useMemo(()=>({id:l,initial:t,isPresent:s,custom:i,onExitComplete:d,register:h=>(c.set(h,!1),()=>c.delete(h))}),o?[Math.random(),d]:[s,d]);return g.useMemo(()=>{c.forEach((h,m)=>c.set(m,!1))},[s]),g.useEffect(()=>{!s&&!c.size&&n&&n()},[s]),a==="popLayout"&&(e=r.jsx(oc,{isPresent:s,children:e})),r.jsx(Bt.Provider,{value:u,children:e})};function lc(){return new Map}function ir(e=!0){const t=g.useContext(Bt);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,o=g.useId();g.useEffect(()=>{e&&i(o)},[e]);const a=g.useCallback(()=>e&&n&&n(o),[o,n,e]);return!s&&n?[!1,a]:[!0]}const gt=e=>e.key||"";function Tn(e){const t=[];return g.Children.forEach(e,s=>{g.isValidElement(s)&&t.push(s)}),t}const Ls=typeof window<"u",rr=Ls?g.useLayoutEffect:g.useEffect,dc=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1})=>{const[c,l]=ir(a),d=g.useMemo(()=>Tn(e),[e]),u=a&&!c?[]:d.map(gt),h=g.useRef(!0),m=g.useRef(d),f=Ft(()=>new Map),[x,y]=g.useState(d),[b,w]=g.useState(d);rr(()=>{h.current=!1,m.current=d;for(let v=0;v<b.length;v++){const p=gt(b[v]);u.includes(p)?f.delete(p):f.get(p)!==!0&&f.set(p,!1)}},[b,u.length,u.join("-")]);const S=[];if(d!==x){let v=[...d];for(let p=0;p<b.length;p++){const T=b[p],C=gt(T);u.includes(C)||(v.splice(p,0,T),S.push(T))}o==="wait"&&S.length&&(v=S),w(Tn(v)),y(d);return}const{forceRender:j}=g.useContext(Is);return r.jsx(r.Fragment,{children:b.map(v=>{const p=gt(v),T=a&&!c?!1:d===b||u.includes(p),C=()=>{if(f.has(p))f.set(p,!0);else return;let N=!0;f.forEach(I=>{I||(N=!1)}),N&&(j?.(),w(m.current),a&&l?.(),n&&n())};return r.jsx(cc,{isPresent:T,initial:!h.current||s?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:i,mode:o,onExitComplete:T?void 0:C,children:v},p)})})},W=e=>e;let ar=W;function Fs(e){let t;return()=>(t===void 0&&(t=e()),t)}const Oe=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},re=e=>e*1e3,ae=e=>e/1e3,uc={useManualTiming:!1};function hc(e){let t=new Set,s=new Set,n=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(l.schedule(d),e()),d(a)}const l={schedule:(d,u=!1,h=!1)=>{const f=h&&n?t:s;return u&&o.add(d),f.has(d)||f.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(a=d,n){i=!0;return}n=!0,[t,s]=[s,t],t.forEach(c),t.clear(),n=!1,i&&(i=!1,l.process(d))}};return l}const xt=["read","resolveKeyframes","update","preRender","render","postRender"],mc=40;function or(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,a=xt.reduce((w,S)=>(w[S]=hc(o),w),{}),{read:c,resolveKeyframes:l,update:d,preRender:u,render:h,postRender:m}=a,f=()=>{const w=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,mc),1),i.timestamp=w,i.isProcessing=!0,c.process(i),l.process(i),d.process(i),u.process(i),h.process(i),m.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(f))},x=()=>{s=!0,n=!0,i.isProcessing||e(f)};return{schedule:xt.reduce((w,S)=>{const j=a[S];return w[S]=(v,p=!1,T=!1)=>(s||x(),j.schedule(v,p,T)),w},{}),cancel:w=>{for(let S=0;S<xt.length;S++)a[xt[S]].cancel(w)},state:i,steps:a}}const{schedule:D,cancel:he,state:k,steps:Jt}=or(typeof requestAnimationFrame<"u"?requestAnimationFrame:W,!0),cr=g.createContext({strict:!1}),Pn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ke={};for(const e in Pn)ke[e]={isEnabled:t=>Pn[e].some(s=>!!t[s])};function fc(e){for(const t in e)ke[t]={...ke[t],...e[t]}}const pc=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ct(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pc.has(e)}let lr=e=>!Ct(e);function dr(e){e&&(lr=t=>t.startsWith("on")?!Ct(t):e(t))}try{dr(require("@emotion/is-prop-valid").default)}catch{}function gc(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(lr(i)||s===!0&&Ct(i)||!t&&!Ct(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function jp({children:e,isValidProp:t,...s}){t&&dr(t),s={...g.useContext(tt),...s},s.isStatic=Ft(()=>s.isStatic);const n=g.useMemo(()=>s,[JSON.stringify(s.transition),s.transformPagePoint,s.reducedMotion]);return r.jsx(tt.Provider,{value:n,children:e})}function xc(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const zt=g.createContext({});function st(e){return typeof e=="string"||Array.isArray(e)}function Wt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Bs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zs=["initial",...Bs];function Ut(e){return Wt(e.animate)||zs.some(t=>st(e[t]))}function ur(e){return!!(Ut(e)||e.variants)}function vc(e,t){if(Ut(e)){const{initial:s,animate:n}=e;return{initial:s===!1||st(s)?s:void 0,animate:st(n)?n:void 0}}return e.inherit!==!1?t:{}}function yc(e){const{initial:t,animate:s}=vc(e,g.useContext(zt));return g.useMemo(()=>({initial:t,animate:s}),[Nn(t),Nn(s)])}function Nn(e){return Array.isArray(e)?e.join(" "):e}const bc=Symbol.for("motionComponentSymbol");function Me(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wc(e,t,s){return g.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Me(s)&&(s.current=n))},[t])}const Ws=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jc="framerAppearId",hr="data-"+Ws(jc),{schedule:Us}=or(queueMicrotask,!1),mr=g.createContext({});function Sc(e,t,s,n,i){var o,a;const{visualElement:c}=g.useContext(zt),l=g.useContext(cr),d=g.useContext(Bt),u=g.useContext(tt).reducedMotion,h=g.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:c,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=g.useContext(mr);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Tc(h.current,s,i,f);const x=g.useRef(!1);g.useInsertionEffect(()=>{m&&x.current&&m.update(s,d)});const y=s[hr],b=g.useRef(!!y&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,y))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,y)));return rr(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Us.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),g.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,y)}),b.current=!1))}),m}function Tc(e,t,s,n){const{layoutId:i,layout:o,drag:a,dragConstraints:c,layoutScroll:l,layoutRoot:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:fr(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||c&&Me(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:d})}function fr(e){if(e)return e.options.allowProjection!==!1?e.projection:fr(e.parent)}function Pc({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:i}){var o,a;e&&fc(e);function c(d,u){let h;const m={...g.useContext(tt),...d,layoutId:Nc(d)},{isStatic:f}=m,x=yc(d),y=n(d,f);if(!f&&Ls){Cc();const b=Mc(m);h=b.MeasureLayout,x.visualElement=Sc(i,y,m,t,b.ProjectionNode)}return r.jsxs(zt.Provider,{value:x,children:[h&&x.visualElement?r.jsx(h,{visualElement:x.visualElement,...m}):null,s(i,d,wc(y,x.visualElement,u),y,f,x.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(a=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&a!==void 0?a:""})`}`;const l=g.forwardRef(c);return l[bc]=i,l}function Nc({layoutId:e}){const t=g.useContext(Is).id;return t&&e!==void 0?t+"-"+e:e}function Cc(e,t){g.useContext(cr).strict}function Mc(e){const{drag:t,layout:s}=ke;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Ac=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $s(e){return typeof e!="string"||e.includes("-")?!1:!!(Ac.indexOf(e)>-1||/[A-Z]/u.test(e))}function Cn(e){const t=[{},{}];return e?.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function Ys(e,t,s,n){if(typeof t=="function"){const[i,o]=Cn(n);t=t(s!==void 0?s:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=Cn(n);t=t(s!==void 0?s:e.custom,i,o)}return t}const xs=e=>Array.isArray(e),Dc=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),_c=e=>xs(e)?e[e.length-1]||0:e,F=e=>!!(e&&e.getVelocity);function St(e){const t=F(e)?e.get():e;return Dc(t)?t.toValue():t}function Rc({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},n,i,o){const a={latestValues:Vc(n,i,o,e),renderState:t()};return s&&(a.onMount=c=>s({props:n,current:c,...a}),a.onUpdate=c=>s(c)),a}const pr=e=>(t,s)=>{const n=g.useContext(zt),i=g.useContext(Bt),o=()=>Rc(e,t,n,i);return s?o():Ft(o)};function Vc(e,t,s,n){const i={},o=n(e,{});for(const m in o)i[m]=St(o[m]);let{initial:a,animate:c}=e;const l=Ut(e),d=ur(e);t&&d&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),c===void 0&&(c=t.animate));let u=s?s.initial===!1:!1;u=u||a===!1;const h=u?c:a;if(h&&typeof h!="boolean"&&!Wt(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const x=Ys(e,m[f]);if(x){const{transitionEnd:y,transition:b,...w}=x;for(const S in w){let j=w[S];if(Array.isArray(j)){const v=u?j.length-1:0;j=j[v]}j!==null&&(i[S]=j)}for(const S in y)i[S]=y[S]}}}return i}const Le=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pe=new Set(Le),gr=e=>t=>typeof t=="string"&&t.startsWith(e),xr=gr("--"),Ec=gr("var(--"),qs=e=>Ec(e)?Oc.test(e.split("/*")[0].trim()):!1,Oc=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vr=(e,t)=>t&&typeof e=="number"?t.transform(e):e,oe=(e,t,s)=>s>t?t:s<e?e:s,Fe={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nt={...Fe,transform:e=>oe(0,1,e)},vt={...Fe,default:1},lt=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),le=lt("deg"),Q=lt("%"),P=lt("px"),kc=lt("vh"),Ic=lt("vw"),Mn={...Q,parse:e=>Q.parse(e)/100,transform:e=>Q.transform(e*100)},Lc={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,radius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,top:P,right:P,bottom:P,left:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,backgroundPositionX:P,backgroundPositionY:P},Fc={rotate:le,rotateX:le,rotateY:le,rotateZ:le,scale:vt,scaleX:vt,scaleY:vt,scaleZ:vt,skew:le,skewX:le,skewY:le,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:nt,originX:Mn,originY:Mn,originZ:P},An={...Fe,transform:Math.round},Gs={...Lc,...Fc,zIndex:An,size:P,fillOpacity:nt,strokeOpacity:nt,numOctaves:An},Bc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zc=Le.length;function Wc(e,t,s){let n="",i=!0;for(let o=0;o<zc;o++){const a=Le[o],c=e[a];if(c===void 0)continue;let l=!0;if(typeof c=="number"?l=c===(a.startsWith("scale")?1:0):l=parseFloat(c)===0,!l||s){const d=vr(c,Gs[a]);if(!l){i=!1;const u=Bc[a]||a;n+=`${u}(${d}) `}s&&(t[a]=d)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function Hs(e,t,s){const{style:n,vars:i,transformOrigin:o}=e;let a=!1,c=!1;for(const l in t){const d=t[l];if(Pe.has(l)){a=!0;continue}else if(xr(l)){i[l]=d;continue}else{const u=vr(d,Gs[l]);l.startsWith("origin")?(c=!0,o[l]=u):n[l]=u}}if(t.transform||(a||s?n.transform=Wc(t,e.transform,s):n.transform&&(n.transform="none")),c){const{originX:l="50%",originY:d="50%",originZ:u=0}=o;n.transformOrigin=`${l} ${d} ${u}`}}const Uc={offset:"stroke-dashoffset",array:"stroke-dasharray"},$c={offset:"strokeDashoffset",array:"strokeDasharray"};function Yc(e,t,s=1,n=0,i=!0){e.pathLength=1;const o=i?Uc:$c;e[o.offset]=P.transform(-n);const a=P.transform(t),c=P.transform(s);e[o.array]=`${a} ${c}`}function Dn(e,t,s){return typeof e=="string"?e:P.transform(t+s*e)}function qc(e,t,s){const n=Dn(t,e.x,e.width),i=Dn(s,e.y,e.height);return`${n} ${i}`}function Ks(e,{attrX:t,attrY:s,attrScale:n,originX:i,originY:o,pathLength:a,pathSpacing:c=1,pathOffset:l=0,...d},u,h){if(Hs(e,d,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f,dimensions:x}=e;m.transform&&(x&&(f.transform=m.transform),delete m.transform),x&&(i!==void 0||o!==void 0||f.transform)&&(f.transformOrigin=qc(x,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),n!==void 0&&(m.scale=n),a!==void 0&&Yc(m,a,c,l,!1)}const Xs=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yr=()=>({...Xs(),attrs:{}}),Qs=e=>typeof e=="string"&&e.toLowerCase()==="svg";function br(e,{style:t,vars:s},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const wr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jr(e,t,s,n){br(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(wr.has(i)?i:Ws(i),t.attrs[i])}const Mt={};function Gc(e){Object.assign(Mt,e)}function Sr(e,{layout:t,layoutId:s}){return Pe.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Mt[e]||e==="opacity")}function Zs(e,t,s){var n;const{style:i}=e,o={};for(const a in i)(F(i[a])||t.style&&F(t.style[a])||Sr(a,e)||((n=s?.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(o[a]=i[a]);return o}function Tr(e,t,s){const n=Zs(e,t,s);for(const i in e)if(F(e[i])||F(t[i])){const o=Le.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=e[i]}return n}function Hc(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const _n=["x","y","width","height","cx","cy","r"],Kc={useVisualState:pr({scrapeMotionValuesFromProps:Tr,createRenderState:yr,onUpdate:({props:e,prevProps:t,current:s,renderState:n,latestValues:i})=>{if(!s)return;let o=!!e.drag;if(!o){for(const c in i)if(Pe.has(c)){o=!0;break}}if(!o)return;let a=!t;if(t)for(let c=0;c<_n.length;c++){const l=_n[c];e[l]!==t[l]&&(a=!0)}a&&D.read(()=>{Hc(s,n),D.render(()=>{Ks(n,i,Qs(s.tagName),e.transformTemplate),jr(s,n)})})}})},Xc={useVisualState:pr({scrapeMotionValuesFromProps:Zs,createRenderState:Xs})};function Pr(e,t,s){for(const n in t)!F(t[n])&&!Sr(n,s)&&(e[n]=t[n])}function Qc({transformTemplate:e},t){return g.useMemo(()=>{const s=Xs();return Hs(s,t,e),Object.assign({},s.vars,s.style)},[t])}function Zc(e,t){const s=e.style||{},n={};return Pr(n,s,e),Object.assign(n,Qc(e,t)),n}function Jc(e,t){const s={},n=Zc(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}function el(e,t,s,n){const i=g.useMemo(()=>{const o=yr();return Ks(o,t,Qs(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Pr(o,e.style,e),i.style={...o,...i.style}}return i}function tl(e=!1){return(s,n,i,{latestValues:o},a)=>{const l=($s(s)?el:Jc)(n,o,a,s),d=gc(n,typeof s=="string",e),u=s!==g.Fragment?{...d,...l,ref:i}:{},{children:h}=n,m=g.useMemo(()=>F(h)?h.get():h,[h]);return g.createElement(s,{...u,children:m})}}function sl(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...$s(n)?Kc:Xc,preloadedFeatures:e,useRender:tl(i),createVisualElement:t,Component:n};return Pc(a)}}function Nr(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function $t(e,t,s){const n=e.getProps();return Ys(n,t,s!==void 0?s:n.custom,e)}const nl=Fs(()=>window.ScrollTimeline!==void 0);class il{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(i=>{if(nl()&&i.attachTimeline)return i.attachTimeline(t);if(typeof s=="function")return s(i)});return()=>{n.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class rl extends il{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function Js(e,t){return e?e[t]||e.default||e:void 0}const vs=2e4;function Cr(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<vs;)t+=s,n=e.next(t);return t>=vs?1/0:t}function en(e){return typeof e=="function"}function Rn(e,t){e.timeline=t,e.onfinish=null}const tn=e=>Array.isArray(e)&&typeof e[0]=="number",al={linearEasing:void 0};function ol(e,t){const s=Fs(e);return()=>{var n;return(n=al[t])!==null&&n!==void 0?n:s()}}const At=ol(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mr=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let o=0;o<i;o++)n+=e(Oe(0,i-1,o))+", ";return`linear(${n.substring(0,n.length-2)})`};function Ar(e){return!!(typeof e=="function"&&At()||!e||typeof e=="string"&&(e in ys||At())||tn(e)||Array.isArray(e)&&e.every(Ar))}const Ue=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,ys={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ue([0,.65,.55,1]),circOut:Ue([.55,0,1,.45]),backIn:Ue([.31,.01,.66,-.59]),backOut:Ue([.33,1.53,.69,.99])};function Dr(e,t){if(e)return typeof e=="function"&&At()?Mr(e,t):tn(e)?Ue(e):Array.isArray(e)?e.map(s=>Dr(s,t)||ys.easeOut):ys[e]}const G={x:!1,y:!1};function _r(){return G.x||G.y}function cl(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function Rr(e,t){const s=cl(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function Vn(e){return t=>{t.pointerType==="touch"||_r()||e(t)}}function ll(e,t,s={}){const[n,i,o]=Rr(e,s),a=Vn(c=>{const{target:l}=c,d=t(c);if(typeof d!="function"||!l)return;const u=Vn(h=>{d(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return n.forEach(c=>{c.addEventListener("pointerenter",a,i)}),o}const Vr=(e,t)=>t?e===t?!0:Vr(e,t.parentElement):!1,sn=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,dl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ul(e){return dl.has(e.tagName)||e.tabIndex!==-1}const $e=new WeakSet;function En(e){return t=>{t.key==="Enter"&&e(t)}}function es(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hl=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=En(()=>{if($e.has(s))return;es(s,"down");const i=En(()=>{es(s,"up")}),o=()=>es(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function On(e){return sn(e)&&!_r()}function ml(e,t,s={}){const[n,i,o]=Rr(e,s),a=c=>{const l=c.currentTarget;if(!On(c)||$e.has(l))return;$e.add(l);const d=t(c),u=(f,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!On(f)||!$e.has(l))&&($e.delete(l),typeof d=="function"&&d(f,{success:x}))},h=f=>{u(f,s.useGlobalTarget||Vr(l,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return n.forEach(c=>{!ul(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(s.useGlobalTarget?window:c).addEventListener("pointerdown",a,i),c.addEventListener("focus",d=>hl(d,i),i)}),o}function fl(e){return e==="x"||e==="y"?G[e]?null:(G[e]=!0,()=>{G[e]=!1}):G.x||G.y?null:(G.x=G.y=!0,()=>{G.x=G.y=!1})}const Er=new Set(["width","height","top","left","right","bottom",...Le]);let Tt;function pl(){Tt=void 0}const Z={now:()=>(Tt===void 0&&Z.set(k.isProcessing||uc.useManualTiming?k.timestamp:performance.now()),Tt),set:e=>{Tt=e,queueMicrotask(pl)}};function nn(e,t){e.indexOf(t)===-1&&e.push(t)}function rn(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class an{constructor(){this.subscriptions=[]}add(t){return nn(this.subscriptions,t),()=>rn(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Or(e,t){return t?e*(1e3/t):0}const kn=30,gl=e=>!isNaN(parseFloat(e));class xl{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const o=Z.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Z.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=gl(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new an);const n=this.events[t].add(s);return t==="change"?()=>{n(),D.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Z.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,kn);return Or(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function it(e,t){return new xl(e,t)}function vl(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,it(s))}function yl(e,t){const s=$t(e,t);let{transitionEnd:n={},transition:i={},...o}=s||{};o={...o,...n};for(const a in o){const c=_c(o[a]);vl(e,a,c)}}function bl(e){return!!(F(e)&&e.add)}function bs(e,t){const s=e.getValue("willChange");if(bl(s))return s.add(t)}function kr(e){return e.props[hr]}const Ir=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,wl=1e-7,jl=12;function Sl(e,t,s,n,i){let o,a,c=0;do a=t+(s-t)/2,o=Ir(a,n,i)-e,o>0?s=a:t=a;while(Math.abs(o)>wl&&++c<jl);return a}function dt(e,t,s,n){if(e===t&&s===n)return W;const i=o=>Sl(o,0,1,e,s);return o=>o===0||o===1?o:Ir(i(o),t,n)}const Lr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fr=e=>t=>1-e(1-t),Br=dt(.33,1.53,.69,.99),on=Fr(Br),zr=Lr(on),Wr=e=>(e*=2)<1?.5*on(e):.5*(2-Math.pow(2,-10*(e-1))),cn=e=>1-Math.sin(Math.acos(e)),Ur=Fr(cn),$r=Lr(cn),Yr=e=>/^0[^.\s]+$/u.test(e);function Tl(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Yr(e):!0}const He=e=>Math.round(e*1e5)/1e5,ln=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pl(e){return e==null}const Nl=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dn=(e,t)=>s=>!!(typeof s=="string"&&Nl.test(s)&&s.startsWith(e)||t&&!Pl(s)&&Object.prototype.hasOwnProperty.call(s,t)),qr=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,o,a,c]=n.match(ln);return{[e]:parseFloat(i),[t]:parseFloat(o),[s]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},Cl=e=>oe(0,255,e),ts={...Fe,transform:e=>Math.round(Cl(e))},Se={test:dn("rgb","red"),parse:qr("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+ts.transform(e)+", "+ts.transform(t)+", "+ts.transform(s)+", "+He(nt.transform(n))+")"};function Ml(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ws={test:dn("#"),parse:Ml,transform:Se.transform},Ae={test:dn("hsl","hue"),parse:qr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Q.transform(He(t))+", "+Q.transform(He(s))+", "+He(nt.transform(n))+")"},L={test:e=>Se.test(e)||ws.test(e)||Ae.test(e),parse:e=>Se.test(e)?Se.parse(e):Ae.test(e)?Ae.parse(e):ws.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Se.transform(e):Ae.transform(e)},Al=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Dl(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ln))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Al))===null||s===void 0?void 0:s.length)||0)>0}const Gr="number",Hr="color",_l="var",Rl="var(",In="${}",Vl=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rt(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let o=0;const c=t.replace(Vl,l=>(L.test(l)?(n.color.push(o),i.push(Hr),s.push(L.parse(l))):l.startsWith(Rl)?(n.var.push(o),i.push(_l),s.push(l)):(n.number.push(o),i.push(Gr),s.push(parseFloat(l))),++o,In)).split(In);return{values:s,split:c,indexes:n,types:i}}function Kr(e){return rt(e).values}function Xr(e){const{split:t,types:s}=rt(e),n=t.length;return i=>{let o="";for(let a=0;a<n;a++)if(o+=t[a],i[a]!==void 0){const c=s[a];c===Gr?o+=He(i[a]):c===Hr?o+=L.transform(i[a]):o+=i[a]}return o}}const El=e=>typeof e=="number"?0:e;function Ol(e){const t=Kr(e);return Xr(e)(t.map(El))}const me={test:Dl,parse:Kr,createTransformer:Xr,getAnimatableNone:Ol},kl=new Set(["brightness","contrast","saturate","opacity"]);function Il(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(ln)||[];if(!n)return e;const i=s.replace(n,"");let o=kl.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+i+")"}const Ll=/\b([a-z-]*)\(.*?\)/gu,js={...me,getAnimatableNone:e=>{const t=e.match(Ll);return t?t.map(Il).join(" "):e}},Fl={...Gs,color:L,backgroundColor:L,outlineColor:L,fill:L,stroke:L,borderColor:L,borderTopColor:L,borderRightColor:L,borderBottomColor:L,borderLeftColor:L,filter:js,WebkitFilter:js},un=e=>Fl[e];function Qr(e,t){let s=un(e);return s!==js&&(s=me),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Bl=new Set(["auto","none","0"]);function zl(e,t,s){let n=0,i;for(;n<e.length&&!i;){const o=e[n];typeof o=="string"&&!Bl.has(o)&&rt(o).values.length&&(i=e[n]),n++}if(i&&s)for(const o of t)e[o]=Qr(s,i)}const Ln=e=>e===Fe||e===P,Fn=(e,t)=>parseFloat(e.split(", ")[t]),Bn=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return Fn(i[1],t);{const o=n.match(/^matrix\((.+)\)$/u);return o?Fn(o[1],e):0}},Wl=new Set(["x","y","z"]),Ul=Le.filter(e=>!Wl.has(e));function $l(e){const t=[];return Ul.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const Ie={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Bn(4,13),y:Bn(5,14)};Ie.translateX=Ie.x;Ie.translateY=Ie.y;const Te=new Set;let Ss=!1,Ts=!1;function Zr(){if(Ts){const e=Array.from(Te).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=$l(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([o,a])=>{var c;(c=n.getValue(o))===null||c===void 0||c.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ts=!1,Ss=!1,Te.forEach(e=>e.complete()),Te.clear()}function Jr(){Te.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ts=!0)})}function Yl(){Jr(),Zr()}class hn{constructor(t,s,n,i,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Te.add(this),Ss||(Ss=!0,D.read(Jr),D.resolveKeyframes(Zr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const a=i?.get(),c=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&s){const l=n.readValue(s,c);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=c),i&&a===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Te.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Te.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ea=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ql=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gl(e){const t=ql.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function ta(e,t,s=1){const[n,i]=Gl(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const a=o.trim();return ea(a)?parseFloat(a):a}return qs(i)?ta(i,t,s+1):i}const sa=e=>t=>t.test(e),Hl={test:e=>e==="auto",parse:e=>e},na=[Fe,P,Q,le,Ic,kc,Hl],zn=e=>na.find(sa(e));class ia extends hn{constructor(t,s,n,i,o){super(t,s,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="string"&&(d=d.trim(),qs(d))){const u=ta(d,s.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Er.has(n)||t.length!==2)return;const[i,o]=t,a=zn(i),c=zn(o);if(a!==c)if(Ln(a)&&Ln(c))for(let l=0;l<t.length;l++){const d=t[l];typeof d=="string"&&(t[l]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)Tl(t[i])&&n.push(i);n.length&&zl(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ie[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const o=s.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=i.length-1,c=i[a];i[a]=Ie[n](s.measureViewportBox(),window.getComputedStyle(s.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,d])=>{s.getValue(l).set(d)}),this.resolveNoneKeyframes()}}const Wn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(me.test(e)||e==="0")&&!e.startsWith("url("));function Kl(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function Xl(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=Wn(i,t),c=Wn(o,t);return!a||!c?!1:Kl(e)||(s==="spring"||en(s))&&n}const Ql=e=>e!==null;function Yt(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(Ql),o=t&&s!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Zl=40;class ra{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Z.now(),this.options={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:o,repeatType:a,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Zl?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Yl(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Z.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:o,delay:a,onComplete:c,onUpdate:l,isGenerator:d}=this.options;if(!d&&!Xl(t,n,i,o))if(a)this.options.duration=0;else{l&&l(Yt(t,this.options,s)),c&&c(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,s);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const R=(e,t,s)=>e+(t-e)*s;function ss(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Jl({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,o=0,a=0;if(!t)i=o=a=s;else{const c=s<.5?s*(1+t):s+t-s*t,l=2*s-c;i=ss(l,c,e+1/3),o=ss(l,c,e),a=ss(l,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}function Dt(e,t){return s=>s>0?t:e}const ns=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},ed=[ws,Se,Ae],td=e=>ed.find(t=>t.test(e));function Un(e){const t=td(e);if(!t)return!1;let s=t.parse(e);return t===Ae&&(s=Jl(s)),s}const $n=(e,t)=>{const s=Un(e),n=Un(t);if(!s||!n)return Dt(e,t);const i={...s};return o=>(i.red=ns(s.red,n.red,o),i.green=ns(s.green,n.green,o),i.blue=ns(s.blue,n.blue,o),i.alpha=R(s.alpha,n.alpha,o),Se.transform(i))},sd=(e,t)=>s=>t(e(s)),ut=(...e)=>e.reduce(sd),Ps=new Set(["none","hidden"]);function nd(e,t){return Ps.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function id(e,t){return s=>R(e,t,s)}function mn(e){return typeof e=="number"?id:typeof e=="string"?qs(e)?Dt:L.test(e)?$n:od:Array.isArray(e)?aa:typeof e=="object"?L.test(e)?$n:rd:Dt}function aa(e,t){const s=[...e],n=s.length,i=e.map((o,a)=>mn(o)(o,t[a]));return o=>{for(let a=0;a<n;a++)s[a]=i[a](o);return s}}function rd(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=mn(e[i])(e[i],t[i]));return i=>{for(const o in n)s[o]=n[o](i);return s}}function ad(e,t){var s;const n=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],c=e.indexes[a][i[a]],l=(s=e.values[c])!==null&&s!==void 0?s:0;n[o]=l,i[a]++}return n}const od=(e,t)=>{const s=me.createTransformer(t),n=rt(e),i=rt(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Ps.has(e)&&!i.values.length||Ps.has(t)&&!n.values.length?nd(e,t):ut(aa(ad(n,i),i.values),s):Dt(e,t)};function oa(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?R(e,t,s):mn(e)(e,t)}const cd=5;function ca(e,t,s){const n=Math.max(t-cd,0);return Or(s-e(n),t-n)}const V={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},is=.001;function ld({duration:e=V.duration,bounce:t=V.bounce,velocity:s=V.velocity,mass:n=V.mass}){let i,o,a=1-t;a=oe(V.minDamping,V.maxDamping,a),e=oe(V.minDuration,V.maxDuration,ae(e)),a<1?(i=d=>{const u=d*a,h=u*e,m=u-s,f=Ns(d,a),x=Math.exp(-h);return is-m/f*x},o=d=>{const h=d*a*e,m=h*s+s,f=Math.pow(a,2)*Math.pow(d,2)*e,x=Math.exp(-h),y=Ns(Math.pow(d,2),a);return(-i(d)+is>0?-1:1)*((m-f)*x)/y}):(i=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-is+u*h},o=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const c=5/e,l=ud(i,o,c);if(e=re(e),isNaN(l))return{stiffness:V.stiffness,damping:V.damping,duration:e};{const d=Math.pow(l,2)*n;return{stiffness:d,damping:a*2*Math.sqrt(n*d),duration:e}}}const dd=12;function ud(e,t,s){let n=s;for(let i=1;i<dd;i++)n=n-e(n)/t(n);return n}function Ns(e,t){return e*Math.sqrt(1-t*t)}const hd=["duration","bounce"],md=["stiffness","damping","mass"];function Yn(e,t){return t.some(s=>e[s]!==void 0)}function fd(e){let t={velocity:V.velocity,stiffness:V.stiffness,damping:V.damping,mass:V.mass,isResolvedFromDuration:!1,...e};if(!Yn(e,md)&&Yn(e,hd))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,o=2*oe(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:V.mass,stiffness:i,damping:o}}else{const s=ld(e);t={...t,...s,mass:V.mass},t.isResolvedFromDuration=!0}return t}function la(e=V.visualDuration,t=V.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const o=s.keyframes[0],a=s.keyframes[s.keyframes.length-1],c={done:!1,value:o},{stiffness:l,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=fd({...s,velocity:-ae(s.velocity||0)}),x=m||0,y=d/(2*Math.sqrt(l*u)),b=a-o,w=ae(Math.sqrt(l/u)),S=Math.abs(b)<5;n||(n=S?V.restSpeed.granular:V.restSpeed.default),i||(i=S?V.restDelta.granular:V.restDelta.default);let j;if(y<1){const p=Ns(w,y);j=T=>{const C=Math.exp(-y*w*T);return a-C*((x+y*w*b)/p*Math.sin(p*T)+b*Math.cos(p*T))}}else if(y===1)j=p=>a-Math.exp(-w*p)*(b+(x+w*b)*p);else{const p=w*Math.sqrt(y*y-1);j=T=>{const C=Math.exp(-y*w*T),N=Math.min(p*T,300);return a-C*((x+y*w*b)*Math.sinh(N)+p*b*Math.cosh(N))/p}}const v={calculatedDuration:f&&h||null,next:p=>{const T=j(p);if(f)c.done=p>=h;else{let C=0;y<1&&(C=p===0?re(x):ca(j,p,T));const N=Math.abs(C)<=n,I=Math.abs(a-T)<=i;c.done=N&&I}return c.value=c.done?a:T,c},toString:()=>{const p=Math.min(Cr(v),vs),T=Mr(C=>v.next(p*C).value,p,30);return p+"ms "+T}};return v}function qn({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:l,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=N=>c!==void 0&&N<c||l!==void 0&&N>l,x=N=>c===void 0?l:l===void 0||Math.abs(c-N)<Math.abs(l-N)?c:l;let y=s*t;const b=h+y,w=a===void 0?b:a(b);w!==b&&(y=w-h);const S=N=>-y*Math.exp(-N/n),j=N=>w+S(N),v=N=>{const I=S(N),$=j(N);m.done=Math.abs(I)<=d,m.value=m.done?w:$};let p,T;const C=N=>{f(m.value)&&(p=N,T=la({keyframes:[m.value,x(m.value)],velocity:ca(j,N,m.value),damping:i,stiffness:o,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:N=>{let I=!1;return!T&&p===void 0&&(I=!0,v(N),C(N)),p!==void 0&&N>=p?T.next(N-p):(!I&&v(N),m)}}}const pd=dt(.42,0,1,1),gd=dt(0,0,.58,1),da=dt(.42,0,.58,1),xd=e=>Array.isArray(e)&&typeof e[0]!="number",vd={linear:W,easeIn:pd,easeInOut:da,easeOut:gd,circIn:cn,circInOut:$r,circOut:Ur,backIn:on,backInOut:zr,backOut:Br,anticipate:Wr},Gn=e=>{if(tn(e)){ar(e.length===4);const[t,s,n,i]=e;return dt(t,s,n,i)}else if(typeof e=="string")return vd[e];return e};function yd(e,t,s){const n=[],i=s||oa,o=e.length-1;for(let a=0;a<o;a++){let c=i(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||W:t;c=ut(l,c)}n.push(c)}return n}function bd(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const o=e.length;if(ar(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=yd(t,n,i),l=c.length,d=u=>{if(a&&u<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=Oe(e[h],e[h+1],u);return c[h](m)};return s?u=>d(oe(e[0],e[o-1],u)):d}function wd(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=Oe(0,t,n);e.push(R(s,1,i))}}function jd(e){const t=[0];return wd(t,e.length-1),t}function Sd(e,t){return e.map(s=>s*t)}function Td(e,t){return e.map(()=>t||da).splice(0,e.length-1)}function _t({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=xd(n)?n.map(Gn):Gn(n),o={done:!1,value:t[0]},a=Sd(s&&s.length===t.length?s:jd(t),e),c=bd(a,t,{ease:Array.isArray(i)?i:Td(t,i)});return{calculatedDuration:e,next:l=>(o.value=c(l),o.done=l>=e,o)}}const Pd=e=>{const t=({timestamp:s})=>e(s);return{start:()=>D.update(t,!0),stop:()=>he(t),now:()=>k.isProcessing?k.timestamp:Z.now()}},Nd={decay:qn,inertia:qn,tween:_t,keyframes:_t,spring:la},Cd=e=>e/100;class fn extends ra{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:s,motionValue:n,element:i,keyframes:o}=this.options,a=i?.KeyframeResolver||hn,c=(l,d)=>this.onKeyframesResolved(l,d);this.resolver=new a(o,c,s,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=this.options,c=en(s)?s:Nd[s]||_t;let l,d;c!==_t&&typeof t[0]!="number"&&(l=ut(Cd,oa(t[0],t[1])),t=[0,100]);const u=c({...this.options,keyframes:t});o==="mirror"&&(d=c({...this.options,keyframes:[...t].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Cr(u));const{calculatedDuration:h}=u,m=h+i,f=m*(n+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:f}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:a,mapPercentToKeyframes:c,keyframes:l,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=n;if(this.startTime===null)return o.next(0);const{delay:m,repeat:f,repeatType:x,repeatDelay:y,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-m*(this.speed>=0?1:-1),S=this.speed>=0?w<0:w>u;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let j=this.currentTime,v=o;if(f){const N=Math.min(this.currentTime,u)/h;let I=Math.floor(N),$=N%1;!$&&N>=1&&($=1),$===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(x==="reverse"?($=1-$,y&&($-=y/h)):x==="mirror"&&(v=a)),j=oe(0,1,$)*h}const p=S?{done:!1,value:l[0]}:v.next(j);c&&(p.value=c(p.value));let{done:T}=p;!S&&d!==null&&(T=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return C&&i!==void 0&&(p.value=Yt(l,this.options,i)),b&&b(p.value),C&&this.finish(),p}get duration(){const{resolved:t}=this;return t?ae(t.calculatedDuration):0}get time(){return ae(this.currentTime)}set time(t){t=re(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ae(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Pd,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Md=new Set(["opacity","clipPath","filter","transform"]);function Ad(e,t,s,{delay:n=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:c="easeInOut",times:l}={}){const d={[t]:s};l&&(d.offset=l);const u=Dr(c,i);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}const Dd=Fs(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Rt=10,_d=2e4;function Rd(e){return en(e.type)||e.type==="spring"||!Ar(e.ease)}function Vd(e,t){const s=new fn({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let o=0;for(;!n.done&&o<_d;)n=s.sample(o),i.push(n.value),o+=Rt;return{times:void 0,keyframes:i,duration:o-Rt,ease:"linear"}}const ua={anticipate:Wr,backInOut:zr,circInOut:$r};function Ed(e){return e in ua}class Hn extends ra{constructor(t){super(t);const{name:s,motionValue:n,element:i,keyframes:o}=this.options;this.resolver=new ia(o,(a,c)=>this.onKeyframesResolved(a,c),s,n,i),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:n=300,times:i,ease:o,type:a,motionValue:c,name:l,startTime:d}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&At()&&Ed(o)&&(o=ua[o]),Rd(this.options)){const{onComplete:h,onUpdate:m,motionValue:f,element:x,...y}=this.options,b=Vd(t,y);t=b.keyframes,t.length===1&&(t[1]=t[0]),n=b.duration,i=b.times,o=b.ease,a="keyframes"}const u=Ad(c.owner.current,l,t,{...this.options,duration:n,times:i,ease:o});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Rn(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;c.set(Yt(t,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return ae(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return ae(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=re(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return W;const{animation:n}=s;Rn(n,t)}return W}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:i,type:o,ease:a,times:c}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...f}=this.options,x=new fn({...f,keyframes:n,duration:i,type:o,ease:a,times:c,isGenerator:!0}),y=re(this.time);d.setWithVelocity(x.sample(y-Rt).value,x.sample(y).value,Rt)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:i,repeatType:o,damping:a,type:c}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=s.owner.getProps();return Dd()&&n&&Md.has(n)&&!l&&!d&&!i&&o!=="mirror"&&a!==0&&c!=="inertia"}}const Od={type:"spring",stiffness:500,damping:25,restSpeed:10},kd=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Id={type:"keyframes",duration:.8},Ld={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fd=(e,{keyframes:t})=>t.length>2?Id:Pe.has(e)?e.startsWith("scale")?kd(t[1]):Od:Ld;function Bd({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:c,from:l,elapsed:d,...u}){return!!Object.keys(u).length}const pn=(e,t,s,n={},i,o)=>a=>{const c=Js(n,e)||{},l=c.delay||n.delay||0;let{elapsed:d=0}=n;d=d-re(l);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:m=>{t.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:i};Bd(c)||(u={...u,...Fd(e,u)}),u.duration&&(u.duration=re(u.duration)),u.repeatDelay&&(u.repeatDelay=re(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!o&&t.get()!==void 0){const m=Yt(u.keyframes,c);if(m!==void 0)return D.update(()=>{u.onUpdate(m),u.onComplete()}),new rl([])}return!o&&Hn.supports(u)?new Hn(u):new fn(u)};function zd({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function ha(e,t,{delay:s=0,transitionOverride:n,type:i}={}){var o;let{transition:a=e.getDefaultTransition(),transitionEnd:c,...l}=t;n&&(a=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const m=e.getValue(h,(o=e.latestValues[h])!==null&&o!==void 0?o:null),f=l[h];if(f===void 0||u&&zd(u,h))continue;const x={delay:s,...Js(a||{},h)};let y=!1;if(window.MotionHandoffAnimation){const w=kr(e);if(w){const S=window.MotionHandoffAnimation(w,h,D);S!==null&&(x.startTime=S,y=!0)}}bs(e,h),m.start(pn(h,m,f,e.shouldReduceMotion&&Er.has(h)?{type:!1}:x,e,y));const b=m.animation;b&&d.push(b)}return c&&Promise.all(d).then(()=>{D.update(()=>{c&&yl(e,c)})}),d}function Cs(e,t,s={}){var n;const i=$t(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const a=i?()=>Promise.all(ha(e,i,s)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=o;return Wd(e,t,u+d,h,m,s)}:()=>Promise.resolve(),{when:l}=o;if(l){const[d,u]=l==="beforeChildren"?[a,c]:[c,a];return d().then(()=>u())}else return Promise.all([a(),c(s.delay)])}function Wd(e,t,s=0,n=0,i=1,o){const a=[],c=(e.variantChildren.size-1)*n,l=i===1?(d=0)=>d*n:(d=0)=>c-d*n;return Array.from(e.variantChildren).sort(Ud).forEach((d,u)=>{d.notify("AnimationStart",t),a.push(Cs(d,t,{...o,delay:s+l(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(a)}function Ud(e,t){return e.sortNodePosition(t)}function $d(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(o=>Cs(e,o,s));n=Promise.all(i)}else if(typeof t=="string")n=Cs(e,t,s);else{const i=typeof t=="function"?$t(e,t,s.custom):t;n=Promise.all(ha(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Yd=zs.length;function ma(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?ma(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Yd;s++){const n=zs[s],i=e.props[n];(st(i)||i===!1)&&(t[n]=i)}return t}const qd=[...Bs].reverse(),Gd=Bs.length;function Hd(e){return t=>Promise.all(t.map(({animation:s,options:n})=>$d(e,s,n)))}function Kd(e){let t=Hd(e),s=Kn(),n=!0;const i=l=>(d,u)=>{var h;const m=$t(e,u,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:x,...y}=m;d={...d,...y,...x}}return d};function o(l){t=l(e)}function a(l){const{props:d}=e,u=ma(e.parent)||{},h=[],m=new Set;let f={},x=1/0;for(let b=0;b<Gd;b++){const w=qd[b],S=s[w],j=d[w]!==void 0?d[w]:u[w],v=st(j),p=w===l?S.isActive:null;p===!1&&(x=b);let T=j===u[w]&&j!==d[w]&&v;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),S.protectedKeys={...f},!S.isActive&&p===null||!j&&!S.prevProp||Wt(j)||typeof j=="boolean")continue;const C=Xd(S.prevProp,j);let N=C||w===l&&S.isActive&&!T&&v||b>x&&v,I=!1;const $=Array.isArray(j)?j:[j];let Ne=$.reduce(i(w),{});p===!1&&(Ne={});const{prevResolvedValues:vn={}}=S,eo={...vn,...Ne},yn=B=>{N=!0,m.has(B)&&(I=!0,m.delete(B)),S.needsAnimating[B]=!0;const J=e.getValue(B);J&&(J.liveStyle=!1)};for(const B in eo){const J=Ne[B],qt=vn[B];if(f.hasOwnProperty(B))continue;let Gt=!1;xs(J)&&xs(qt)?Gt=!Nr(J,qt):Gt=J!==qt,Gt?J!=null?yn(B):m.add(B):J!==void 0&&m.has(B)?yn(B):S.protectedKeys[B]=!0}S.prevProp=j,S.prevResolvedValues=Ne,S.isActive&&(f={...f,...Ne}),n&&e.blockInitialAnimation&&(N=!1),N&&(!(T&&C)||I)&&h.push(...$.map(B=>({animation:B,options:{type:w}})))}if(m.size){const b={};m.forEach(w=>{const S=e.getBaseTarget(w),j=e.getValue(w);j&&(j.liveStyle=!0),b[w]=S??null}),h.push({animation:b})}let y=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function c(l,d){var u;if(s[l].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(m=>{var f;return(f=m.animationState)===null||f===void 0?void 0:f.setActive(l,d)}),s[l].isActive=d;const h=a(l);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>s,reset:()=>{s=Kn(),n=!0}}}function Xd(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Nr(t,e):!1}function ge(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kn(){return{animate:ge(!0),whileInView:ge(),whileHover:ge(),whileTap:ge(),whileDrag:ge(),whileFocus:ge(),exit:ge()}}class pe{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Qd extends pe{constructor(t){super(t),t.animationState||(t.animationState=Kd(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Zd=0;class Jd extends pe{constructor(){super(...arguments),this.id=Zd++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const eu={animation:{Feature:Qd},exit:{Feature:Jd}};function at(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function ht(e){return{point:{x:e.pageX,y:e.pageY}}}const tu=e=>t=>sn(t)&&e(t,ht(t));function Ke(e,t,s,n){return at(e,t,tu(s),n)}const Xn=(e,t)=>Math.abs(e-t);function su(e,t){const s=Xn(e.x,t.x),n=Xn(e.y,t.y);return Math.sqrt(s**2+n**2)}class fa{constructor(t,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=as(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=su(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:x}=h,{timestamp:y}=k;this.history.push({...x,timestamp:y});const{onStart:b,onMove:w}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=rs(m,this.transformPagePoint),D.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=as(h.type==="pointercancel"?this.lastMoveEventInfo:rs(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,b),x&&x(h,b)},!sn(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const a=ht(t),c=rs(a,this.transformPagePoint),{point:l}=c,{timestamp:d}=k;this.history=[{...l,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,as(c,this.history)),this.removeListeners=ut(Ke(this.contextWindow,"pointermove",this.handlePointerMove),Ke(this.contextWindow,"pointerup",this.handlePointerUp),Ke(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),he(this.updatePoint)}}function rs(e,t){return t?{point:t(e.point)}:e}function Qn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function as({point:e},t){return{point:e,delta:Qn(e,pa(t)),offset:Qn(e,nu(t)),velocity:iu(t,.1)}}function nu(e){return e[0]}function pa(e){return e[e.length-1]}function iu(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=pa(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>re(t)));)s--;if(!n)return{x:0,y:0};const o=ae(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const ga=1e-4,ru=1-ga,au=1+ga,xa=.01,ou=0-xa,cu=0+xa;function U(e){return e.max-e.min}function lu(e,t,s){return Math.abs(e-t)<=s}function Zn(e,t,s,n=.5){e.origin=n,e.originPoint=R(t.min,t.max,e.origin),e.scale=U(s)/U(t),e.translate=R(s.min,s.max,e.origin)-e.originPoint,(e.scale>=ru&&e.scale<=au||isNaN(e.scale))&&(e.scale=1),(e.translate>=ou&&e.translate<=cu||isNaN(e.translate))&&(e.translate=0)}function Xe(e,t,s,n){Zn(e.x,t.x,s.x,n?n.originX:void 0),Zn(e.y,t.y,s.y,n?n.originY:void 0)}function Jn(e,t,s){e.min=s.min+t.min,e.max=e.min+U(t)}function du(e,t,s){Jn(e.x,t.x,s.x),Jn(e.y,t.y,s.y)}function ei(e,t,s){e.min=t.min-s.min,e.max=e.min+U(t)}function Qe(e,t,s){ei(e.x,t.x,s.x),ei(e.y,t.y,s.y)}function uu(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?R(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?R(s,e,n.max):Math.min(e,s)),e}function ti(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function hu(e,{top:t,left:s,bottom:n,right:i}){return{x:ti(e.x,s,i),y:ti(e.y,t,n)}}function si(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function mu(e,t){return{x:si(e.x,t.x),y:si(e.y,t.y)}}function fu(e,t){let s=.5;const n=U(e),i=U(t);return i>n?s=Oe(t.min,t.max-n,e.min):n>i&&(s=Oe(e.min,e.max-i,t.min)),oe(0,1,s)}function pu(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Ms=.35;function gu(e=Ms){return e===!1?e=0:e===!0&&(e=Ms),{x:ni(e,"left","right"),y:ni(e,"top","bottom")}}function ni(e,t,s){return{min:ii(e,t),max:ii(e,s)}}function ii(e,t){return typeof e=="number"?e:e[t]||0}const ri=()=>({translate:0,scale:1,origin:0,originPoint:0}),De=()=>({x:ri(),y:ri()}),ai=()=>({min:0,max:0}),E=()=>({x:ai(),y:ai()});function q(e){return[e("x"),e("y")]}function va({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function xu({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vu(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function os(e){return e===void 0||e===1}function As({scale:e,scaleX:t,scaleY:s}){return!os(e)||!os(t)||!os(s)}function ve(e){return As(e)||ya(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ya(e){return oi(e.x)||oi(e.y)}function oi(e){return e&&e!=="0%"}function Vt(e,t,s){const n=e-s,i=t*n;return s+i}function ci(e,t,s,n,i){return i!==void 0&&(e=Vt(e,i,n)),Vt(e,s,n)+t}function Ds(e,t=0,s=1,n,i){e.min=ci(e.min,t,s,n,i),e.max=ci(e.max,t,s,n,i)}function ba(e,{x:t,y:s}){Ds(e.x,t.translate,t.scale,t.originPoint),Ds(e.y,s.translate,s.scale,s.originPoint)}const li=.999999999999,di=1.0000000000001;function yu(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let o,a;for(let c=0;c<i;c++){o=s[c],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Re(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ba(e,a)),n&&ve(o.latestValues)&&Re(e,o.latestValues))}t.x<di&&t.x>li&&(t.x=1),t.y<di&&t.y>li&&(t.y=1)}function _e(e,t){e.min=e.min+t,e.max=e.max+t}function ui(e,t,s,n,i=.5){const o=R(e.min,e.max,i);Ds(e,t,s,o,n)}function Re(e,t){ui(e.x,t.x,t.scaleX,t.scale,t.originX),ui(e.y,t.y,t.scaleY,t.scale,t.originY)}function wa(e,t){return va(vu(e.getBoundingClientRect(),t))}function bu(e,t,s){const n=wa(e,s),{scroll:i}=t;return i&&(_e(n.x,i.offset.x),_e(n.y,i.offset.y)),n}const ja=({current:e})=>e?e.ownerDocument.defaultView:null,wu=new WeakMap;class ju{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=E(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ht(u).point)},o=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:x}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fl(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),q(b=>{let w=this.getAxisMotionValue(b).get()||0;if(Q.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const j=S.layout.layoutBox[b];j&&(w=U(j)*(parseFloat(w)/100))}}this.originPoint[b]=w}),x&&D.postRender(()=>x(u,h)),bs(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:x,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(f&&this.currentDirection===null){this.currentDirection=Su(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(u,h)},c=(u,h)=>this.stop(u,h),l=()=>q(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new fa(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:ja(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&D.postRender(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!yt(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=uu(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&Me(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=hu(i.layoutBox,s):this.constraints=!1,this.elastic=gu(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&q(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=pu(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Me(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=bu(n,i.root,this.visualElement.getTransformPagePoint());let a=mu(i.layout.layoutBox,o);if(s){const c=s(xu(a));this.hasMutatedConstraints=!!c,c&&(a=va(c))}return a}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},d=q(u=>{if(!yt(u,s,this.currentDirection))return;let h=l&&l[u]||{};a&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(c)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return bs(this.visualElement,t),n.start(pn(t,n,0,s,this.visualElement,!1))}stopAnimation(){q(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){q(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){q(s=>{const{drag:n}=this.getProps();if(!yt(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(s);if(i&&i.layout){const{min:a,max:c}=i.layout.layoutBox[s];o.set(t[s]-R(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Me(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};q(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const l=c.get();i[a]=fu({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),q(a=>{if(!yt(a,t,null))return;const c=this.getAxisMotionValue(a),{min:l,max:d}=this.constraints[a];c.set(R(l,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;wu.set(this.visualElement,this);const t=this.visualElement.current,s=Ke(t,"pointerdown",l=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Me(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),D.read(n);const a=at(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(q(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),s(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=Ms,dragMomentum:c=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function yt(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Su(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Tu extends pe{constructor(t){super(t),this.removeGroupControls=W,this.removeListeners=W,this.controls=new ju(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||W}unmount(){this.removeGroupControls(),this.removeListeners()}}const hi=e=>(t,s)=>{e&&D.postRender(()=>e(t,s))};class Pu extends pe{constructor(){super(...arguments),this.removePointerDownListener=W}onPointerDown(t){this.session=new fa(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ja(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:hi(t),onStart:hi(s),onMove:n,onEnd:(o,a)=>{delete this.session,i&&D.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Ke(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const We={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(P.test(e))e=parseFloat(e);else return e;const s=mi(e,t.target.x),n=mi(e,t.target.y);return`${s}% ${n}%`}},Nu={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=me.parse(e);if(i.length>5)return n;const o=me.createTransformer(e),a=typeof i[0]!="number"?1:0,c=s.x.scale*t.x,l=s.y.scale*t.y;i[0+a]/=c,i[1+a]/=l;const d=R(c,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),o(i)}};class Cu extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;Gc(Mu),o&&(s.group&&s.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Pt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:o}=this.props,a=n.projection;return a&&(a.isPresent=o,i||t.layoutDependency!==s||s===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||D.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Us.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Sa(e){const[t,s]=ir(),n=g.useContext(Is);return r.jsx(Cu,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(mr),isPresent:t,safeToRemove:s})}const Mu={borderRadius:{...We,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomLeftRadius:We,borderBottomRightRadius:We,boxShadow:Nu};function Au(e,t,s){const n=F(e)?e:it(e);return n.start(pn("",n,t,s)),n.animation}function Du(e){return e instanceof SVGElement&&e.tagName!=="svg"}const _u=(e,t)=>e.depth-t.depth;class Ru{constructor(){this.children=[],this.isDirty=!1}add(t){nn(this.children,t),this.isDirty=!0}remove(t){rn(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_u),this.isDirty=!1,this.children.forEach(t)}}function Vu(e,t){const s=Z.now(),n=({timestamp:i})=>{const o=i-s;o>=t&&(he(n),e(o-t))};return D.read(n,!0),()=>he(n)}const Ta=["TopLeft","TopRight","BottomLeft","BottomRight"],Eu=Ta.length,fi=e=>typeof e=="string"?parseFloat(e):e,pi=e=>typeof e=="number"||P.test(e);function Ou(e,t,s,n,i,o){i?(e.opacity=R(0,s.opacity!==void 0?s.opacity:1,ku(n)),e.opacityExit=R(t.opacity!==void 0?t.opacity:1,0,Iu(n))):o&&(e.opacity=R(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let a=0;a<Eu;a++){const c=`border${Ta[a]}Radius`;let l=gi(t,c),d=gi(s,c);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||pi(l)===pi(d)?(e[c]=Math.max(R(fi(l),fi(d),n),0),(Q.test(d)||Q.test(l))&&(e[c]+="%")):e[c]=d}(t.rotate||s.rotate)&&(e.rotate=R(t.rotate||0,s.rotate||0,n))}function gi(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ku=Pa(0,.5,Ur),Iu=Pa(.5,.95,W);function Pa(e,t,s){return n=>n<e?0:n>t?1:s(Oe(e,t,n))}function xi(e,t){e.min=t.min,e.max=t.max}function Y(e,t){xi(e.x,t.x),xi(e.y,t.y)}function vi(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function yi(e,t,s,n,i){return e-=t,e=Vt(e,1/s,n),i!==void 0&&(e=Vt(e,1/i,n)),e}function Lu(e,t=0,s=1,n=.5,i,o=e,a=e){if(Q.test(t)&&(t=parseFloat(t),t=R(a.min,a.max,t/100)-a.min),typeof t!="number")return;let c=R(o.min,o.max,n);e===o&&(c-=t),e.min=yi(e.min,t,s,c,i),e.max=yi(e.max,t,s,c,i)}function bi(e,t,[s,n,i],o,a){Lu(e,t[s],t[n],t[i],t.scale,o,a)}const Fu=["x","scaleX","originX"],Bu=["y","scaleY","originY"];function wi(e,t,s,n){bi(e.x,t,Fu,s?s.x:void 0,n?n.x:void 0),bi(e.y,t,Bu,s?s.y:void 0,n?n.y:void 0)}function ji(e){return e.translate===0&&e.scale===1}function Na(e){return ji(e.x)&&ji(e.y)}function Si(e,t){return e.min===t.min&&e.max===t.max}function zu(e,t){return Si(e.x,t.x)&&Si(e.y,t.y)}function Ti(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ca(e,t){return Ti(e.x,t.x)&&Ti(e.y,t.y)}function Pi(e){return U(e.x)/U(e.y)}function Ni(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Wu{constructor(){this.members=[]}add(t){nn(this.members,t),t.scheduleRender()}remove(t){if(rn(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uu(e,t,s){let n="";const i=e.x.translate/t.x,o=e.y.translate/t.y,a=s?.z||0;if((i||o||a)&&(n=`translate3d(${i}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:x}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),f&&(n+=`skewX(${f}deg) `),x&&(n+=`skewY(${x}deg) `)}const c=e.x.scale*t.x,l=e.y.scale*t.y;return(c!==1||l!==1)&&(n+=`scale(${c}, ${l})`),n||"none"}const ye={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ye=typeof window<"u"&&window.MotionDebug!==void 0,cs=["","X","Y","Z"],$u={visibility:"hidden"},Ci=1e3;let Yu=0;function ls(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Ma(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=kr(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",D,!(i||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Ma(n)}function Aa({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},c=t?.()){this.id=Yu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ye&&(ye.totalNodes=ye.resolvedTargetDeltas=ye.recalculatedProjection=0),this.nodes.forEach(Hu),this.nodes.forEach(Ju),this.nodes.forEach(eh),this.nodes.forEach(Ku),Ye&&window.MotionDebug.record(ye)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ru)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new an),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const l=this.eventHandlers.get(a);l&&l.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Du(a),this.instance=a;const{layoutId:l,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||l)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Vu(m,250),Pt.hasAnimatedSinceResize&&(Pt.hasAnimatedSinceResize=!1,this.nodes.forEach(Ai))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||rh,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=u.getProps(),S=!this.targetLayout||!Ca(this.targetLayout,x)||f,j=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,j);const v={...Js(y,"layout"),onPlay:b,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else m||Ai(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,he(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(th),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ma(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:c,layout:l}=this.options;if(c===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mi);return}this.isUpdating||this.nodes.forEach(Qu),this.isUpdating=!1,this.nodes.forEach(Zu),this.nodes.forEach(qu),this.nodes.forEach(Gu),this.clearAllSnapshots();const c=Z.now();k.delta=oe(0,1e3/60,c-k.timestamp),k.timestamp=c,k.isProcessing=!0,Jt.update.process(k),Jt.preRender.process(k),Jt.render.process(k),k.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Us.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xu),this.sharedNodes.forEach(sh)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,D.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){D.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=E(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Na(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;a&&(c||ve(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let l=this.removeElementScroll(c);return a&&(l=this.removeTransform(l)),ah(l),{animationId:this.root.animationId,measuredBox:c,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:c}=this.options;if(!c)return E();const l=c.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(oh))){const{scroll:u}=this.root;u&&(_e(l.x,u.offset.x),_e(l.y,u.offset.y))}return l}removeElementScroll(a){var c;const l=E();if(Y(l,a),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Y(l,a),_e(l.x,h.offset.x),_e(l.y,h.offset.y))}return l}applyTransform(a,c=!1){const l=E();Y(l,a);for(let d=0;d<this.path.length;d++){const u=this.path[d];!c&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Re(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ve(u.latestValues)&&Re(l,u.latestValues)}return ve(this.latestValues)&&Re(l,this.latestValues),l}removeTransform(a){const c=E();Y(c,a);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!ve(d.latestValues))continue;As(d.latestValues)&&d.updateSnapshot();const u=E(),h=d.measurePageBox();Y(u,h),wi(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ve(this.latestValues)&&wi(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==k.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var c;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=k.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=E(),this.relativeTargetOrigin=E(),Qe(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Y(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=E(),this.targetWithTransforms=E()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),du(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Y(this.target,this.layout.layoutBox),ba(this.target,this.targetDelta)):Y(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=E(),this.relativeTargetOrigin=E(),Qe(this.relativeTargetOrigin,this.target,f.target),Y(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ye&&ye.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||As(this.parent.latestValues)||ya(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const c=this.getLead(),l=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===k.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Y(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;yu(this.layoutCorrected,this.treeScale,this.path,l),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=E());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vi(this.prevProjectionDelta.x,this.projectionDelta.x),vi(this.prevProjectionDelta.y,this.projectionDelta.y)),Xe(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!Ni(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ni(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Ye&&ye.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=De(),this.projectionDelta=De(),this.projectionDeltaWithTransform=De()}setAnimationOrigin(a,c=!1){const l=this.snapshot,d=l?l.latestValues:{},u={...this.latestValues},h=De();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=E(),f=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=f!==x,b=this.getStack(),w=!b||b.members.length<=1,S=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(ih));this.animationProgress=0;let j;this.mixTargetDelta=v=>{const p=v/1e3;Di(h.x,a.x,p),Di(h.y,a.y,p),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qe(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nh(this.relativeTarget,this.relativeTargetOrigin,m,p),j&&zu(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=E()),Y(j,this.relativeTarget)),y&&(this.animationValues=u,Ou(u,d,this.latestValues,p,S,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=p},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(he(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=D.update(()=>{Pt.hasAnimatedSinceResize=!0,this.currentAnimation=Au(0,Ci,{...a,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ci),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:l,layout:d,latestValues:u}=a;if(!(!c||!l||!d)){if(this!==a&&this.layout&&d&&Da(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||E();const h=U(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const m=U(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}Y(c,l),Re(c,u),Xe(this.projectionDeltaWithTransform,this.layoutCorrected,c,u)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Wu),this.sharedNodes.get(a).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:c}=this.options;return c?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:c}=this.options;return c?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(c=!0),!c)return;const d={};l.z&&ls("z",a,d,this.animationValues);for(let u=0;u<cs.length;u++)ls(`rotate${cs[u]}`,a,d,this.animationValues),ls(`skew${cs[u]}`,a,d,this.animationValues);a.render();for(const u in d)a.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);a.scheduleRender()}getProjectionStyles(a){var c,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $u;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=St(a?.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=St(a?.pointerEvents)||""),this.hasProjected&&!ve(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Uu(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:x}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?(l=(c=m.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in Mt){if(m[y]===void 0)continue;const{correct:b,applyTo:w}=Mt[y],S=d.transform==="none"?m[y]:b(m[y],h);if(w){const j=w.length;for(let v=0;v<j;v++)d[w[v]]=S}else d[y]=S}return this.options.layoutId&&(d.pointerEvents=h===this?St(a?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Mi),this.root.sharedNodes.clear()}}}function qu(e){e.updateLayout()}function Gu(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:o}=e.options,a=s.source!==e.layout.source;o==="size"?q(h=>{const m=a?s.measuredBox[h]:s.layoutBox[h],f=U(m);m.min=n[h].min,m.max=m.min+f}):Da(o,s.layoutBox,n)&&q(h=>{const m=a?s.measuredBox[h]:s.layoutBox[h],f=U(n[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const c=De();Xe(c,n,s.layoutBox);const l=De();a?Xe(l,e.applyTransform(i,!0),s.measuredBox):Xe(l,n,s.layoutBox);const d=!Na(c);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const x=E();Qe(x,s.layoutBox,m.layoutBox);const y=E();Qe(y,n,f.layoutBox),Ca(x,y)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:l,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Hu(e){Ye&&ye.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ku(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xu(e){e.clearSnapshot()}function Mi(e){e.clearMeasurements()}function Qu(e){e.isLayoutDirty=!1}function Zu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ai(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ju(e){e.resolveTargetDelta()}function eh(e){e.calcProjection()}function th(e){e.resetSkewAndRotation()}function sh(e){e.removeLeadSnapshot()}function Di(e,t,s){e.translate=R(t.translate,0,s),e.scale=R(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function _i(e,t,s,n){e.min=R(t.min,s.min,n),e.max=R(t.max,s.max,n)}function nh(e,t,s,n){_i(e.x,t.x,s.x,n),_i(e.y,t.y,s.y,n)}function ih(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rh={duration:.45,ease:[.4,0,.1,1]},Ri=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vi=Ri("applewebkit/")&&!Ri("chrome/")?Math.round:W;function Ei(e){e.min=Vi(e.min),e.max=Vi(e.max)}function ah(e){Ei(e.x),Ei(e.y)}function Da(e,t,s){return e==="position"||e==="preserve-aspect"&&!lu(Pi(t),Pi(s),.2)}function oh(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ch=Aa({attachResizeListener:(e,t)=>at(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ds={current:void 0},_a=Aa({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ds.current){const e=new ch({});e.mount(window),e.setOptions({layoutScroll:!0}),ds.current=e}return ds.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lh={pan:{Feature:Pu},drag:{Feature:Tu,ProjectionNode:_a,MeasureLayout:Sa}};function Oi(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,o=n[i];o&&D.postRender(()=>o(t,ht(t)))}class dh extends pe{mount(){const{current:t}=this.node;t&&(this.unmount=ll(t,s=>(Oi(this.node,s,"Start"),n=>Oi(this.node,n,"End"))))}unmount(){}}class uh extends pe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ut(at(this.node.current,"focus",()=>this.onFocus()),at(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ki(e,t,s){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),o=n[i];o&&D.postRender(()=>o(t,ht(t)))}class hh extends pe{mount(){const{current:t}=this.node;t&&(this.unmount=ml(t,s=>(ki(this.node,s,"Start"),(n,{success:i})=>ki(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _s=new WeakMap,us=new WeakMap,mh=e=>{const t=_s.get(e.target);t&&t(e)},fh=e=>{e.forEach(mh)};function ph({root:e,...t}){const s=e||document;us.has(s)||us.set(s,{});const n=us.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(fh,{root:e,...t})),n[i]}function gh(e,t,s){const n=ph(t);return _s.set(e,s),n.observe(e),()=>{_s.delete(e),n.unobserve(e)}}const xh={some:0,all:1};class vh extends pe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:o}=t,a={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:xh[i]},c=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(l)};return gh(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(yh(t,s))&&this.startObserver()}unmount(){}}function yh({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const bh={inView:{Feature:vh},tap:{Feature:hh},focus:{Feature:uh},hover:{Feature:dh}},wh={layout:{ProjectionNode:_a,MeasureLayout:Sa}},Et={current:null},gn={current:!1};function Ra(){if(gn.current=!0,!!Ls)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Et.current=e.matches;e.addListener(t),t()}else Et.current=!1}const jh=[...na,L,me],Sh=e=>jh.find(sa(e)),Ii=new WeakMap;function Th(e,t,s){for(const n in t){const i=t[n],o=s[n];if(F(i))e.addValue(n,i);else if(F(o))e.addValue(n,it(i,{owner:e}));else if(o!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,it(a!==void 0?a:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Li=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ph{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Z.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,D.render(this.render,!1,!0))};const{latestValues:l,renderState:d,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Ut(s),this.isVariantNode=ur(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in m){const x=m[f];l[f]!==void 0&&F(x)&&x.set(l[f],!1)}}mount(t){this.current=t,Ii.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),gn.current||Ra(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Et.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ii.delete(this.current),this.projection&&this.projection.unmount(),he(this.notifyUpdate),he(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Pe.has(t),i=s.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&D.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),o(),a&&a(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ke){const s=ke[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):E()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Li.length;n++){const i=Li[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=t[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Th(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=it(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(ea(i)||Yr(i))?i=parseFloat(i):!Sh(i)&&me.test(s)&&(i=Qr(t,s)),this.setBaseTarget(t,F(i)?i.get():i)),F(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=Ys(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!F(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new an),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Va extends Ph{constructor(){super(...arguments),this.KeyframeResolver=ia}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;F(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Nh(e){return window.getComputedStyle(e)}class Ch extends Va{constructor(){super(...arguments),this.type="html",this.renderInstance=br}readValueFromInstance(t,s){if(Pe.has(s)){const n=un(s);return n&&n.default||0}else{const n=Nh(t),i=(xr(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return wa(t,s)}build(t,s,n){Hs(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return Zs(t,s,n)}}class Mh extends Va{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=E}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Pe.has(s)){const n=un(s);return n&&n.default||0}return s=wr.has(s)?s:Ws(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return Tr(t,s,n)}build(t,s,n){Ks(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,i){jr(t,s,n,i)}mount(t){this.isSVGTag=Qs(t.tagName),super.mount(t)}}const Ah=(e,t)=>$s(e)?new Mh(t):new Ch(t,{allowProjection:e!==g.Fragment}),Dh=sl({...eu,...bh,...lh,...wh},Ah),Ea=xc(Dh);function _h(){!gn.current&&Ra();const[e]=g.useState(Et.current);return e}const Rh={type:"tween",duration:.2,ease:"easeInOut"};let bt=null;const Vh=6e4;async function Fi(){const e=Date.now();if(bt&&e-bt.timestamp<Vh)return bt.id;const{data:t,error:s}=await de.auth.getUser();if(s||!t.user)throw new Error("User not authenticated");return bt={id:t.user.id,timestamp:e},t.user.id}class Eh{async getUserOrganizations(){try{const t=await Fi(),{data:s,error:n}=await de.from("members").select(`
          role,
          org_id,
          organizations!inner (
            id,
            name,
            code,
            is_active,
            domain,
            created_at,
            updated_at
          )
        `).eq("user_id",t).eq("status","active").eq("organizations.is_active",!0);if(n)throw we("Error fetching user organizations",{error:n},"OrganizationService"),n;return(s||[]).map(i=>({id:i.organizations.id,name:i.organizations.name,code:i.organizations.code,role:i.role,is_active:i.organizations.is_active,domain:i.organizations.domain,created_at:i.organizations.created_at,updated_at:i.organizations.updated_at}))}catch(t){throw we("Failed to get user organizations",{error:t},"OrganizationService"),t}}async getUserRoleInOrg(t){try{const s=await Fi(),{data:n,error:i}=await de.from("members").select("role").eq("user_id",s).eq("org_id",t).eq("status","active").single();return i||!n?null:n.role}catch(s){return we("Failed to get user role in org",{error:s,orgId:t},"OrganizationService"),null}}async getCurrentOrgData(t){try{const{data:s,error:n}=await de.from("organizations").select("*").eq("id",t).eq("is_active",!0).single();if(n||!s)return null;const i=await this.getUserRoleInOrg(t);return i?{id:s.id,name:s.name,code:s.code,role:i,is_active:s.is_active,domain:s.domain,created_at:s.created_at,updated_at:s.updated_at}:null}catch(s){return we("Failed to get current org data",{error:s,orgId:t},"OrganizationService"),null}}async hasAdminAccess(t){return await this.getUserRoleInOrg(t)==="ADMIN"}async getOrganizationStats(t){try{if(!await this.hasAdminAccess(t))throw new Error("Access denied");const[n,i,o]=await Promise.all([de.rpc("get_processos_with_access_control",{org_uuid:t}),de.rpc("get_pessoas_with_access_control",{org_uuid:t}),de.from("members").select("id",{count:"exact"}).eq("org_id",t).eq("status","active")]);return{totalProcessos:n.data?.length||0,totalPessoas:i.data?.length||0,activeUsers:o.count||0}}catch(s){return we("Failed to get organization stats",{error:s,orgId:t},"OrganizationService"),null}}}const Oh=new Eh,Oa=g.createContext(void 0),kh=()=>{const e=g.useContext(Oa);if(!e)throw new Error("useMultiTenant must be used within MultiTenantProvider");return e},Tp=({children:e})=>{const{profile:t,loading:s,user:n}=It(),i=to(),[o,a]=g.useState([]),[c,l]=g.useState(null),[d,u]=g.useState(!0),[h,m]=g.useState(0),[f,x]=g.useState(!1),y=ie.useRef(!1);g.useEffect(()=>{if(!f){if(s){m(10);return}if(!n){m(0),u(!1),x(!0);return}if(m(30),!t){m(50);return}y.current||(m(60),b())}},[t,s,n,f]);const b=ie.useCallback(async()=>{if(!(y.current||f)){y.current=!0;try{u(!0),m(70);const v=i.getQueryData(["organizations",t?.organization_id]);v&&(a(v),m(90));const p=await Oh.getUserOrganizations();a(p),m(90),i.setQueryData(["organizations",t?.organization_id],p);const T=localStorage.getItem("current_org_id");let C=null;T&&(C=p.find(N=>N.id===T)||null),!C&&t?.organization_id&&(C=p.find(N=>N.id===t.organization_id)||null),!C&&p.length>0&&(C=p[0]),l(C),C&&localStorage.setItem("current_org_id",C.id),m(100),x(!0)}catch(v){we("Failed to load organizations",{error:v},"MultiTenantContext");const p=i.getQueryData(["organizations",t?.organization_id]);p&&p.length>0?(a(p),l(p[0]),pt.warning("Usando dados em cache. Algumas funcionalidades podem estar limitadas.")):pt.error("Erro ao carregar organizaes"),x(!0)}finally{y.current=!1,u(!1),m(100)}}},[f,t?.organization_id,i]),w=ie.useCallback(async v=>{try{const p=o.find(T=>T.id===v);if(!p)throw new Error("Organizao no encontrada");l(p),localStorage.setItem("current_org_id",v),i.invalidateQueries({queryKey:["processos",v]}),i.invalidateQueries({queryKey:["pessoas",v]}),pt.success(`Alternado para ${p.name}`)}catch(p){we("Failed to switch organization",{error:p,orgId:v},"MultiTenantContext"),pt.error("Erro ao trocar organizao")}},[o,i]),S=ie.useCallback(async()=>{i.removeQueries({queryKey:["organizations"]}),y.current=!1,x(!1),await b()},[i,b]),j={currentOrg:c,organizations:o,loading:d,loadingProgress:h,switchOrganization:w,refreshOrganizations:S,isInitialized:f};return r.jsx(Oa.Provider,{value:j,children:e})},hs=768;function Ih(){const[e,t]=g.useState(void 0);return g.useEffect(()=>{const s=window.matchMedia(`(max-width: ${hs-1}px)`),n=()=>{t(window.innerWidth<hs)};return s.addEventListener("change",n),t(window.innerWidth<hs),()=>s.removeEventListener("change",n)},[]),!!e}const Lh="sidebar:state",Fh=60*60*24*7,Bh="16rem",zh="18rem",Wh="3rem",Uh="b",ka=g.createContext(null);function Be(){const e=g.useContext(ka);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Ia=g.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:s,className:n,style:i,children:o,...a},c)=>{const l=Ih(),[d,u]=g.useState(!1),[h,m]=g.useState(e),f=t??h,x=g.useCallback(S=>{const j=typeof S=="function"?S(f):S;s?s(j):m(j),document.cookie=`${Lh}=${j}; path=/; max-age=${Fh}`},[s,f]),y=g.useCallback(()=>l?u(S=>!S):x(S=>!S),[l,x,u]);g.useEffect(()=>{const S=j=>{j.key===Uh&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),y())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[y]);const b=f?"expanded":"collapsed",w=g.useMemo(()=>({state:b,open:f,setOpen:x,isMobile:l,openMobile:d,setOpenMobile:u,toggleSidebar:y}),[b,f,x,l,d,u,y]);return r.jsx(ka.Provider,{value:w,children:r.jsx(Lt,{delayDuration:0,children:r.jsx("div",{style:{"--sidebar-width":Bh,"--sidebar-width-icon":Wh,...i},className:_("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...a,children:o})})})});Ia.displayName="SidebarProvider";const La=g.forwardRef(({side:e="left",variant:t="sidebar",collapsible:s="offcanvas",className:n,children:i,...o},a)=>{const{isMobile:c,state:l,openMobile:d,setOpenMobile:u}=Be();return s==="none"?r.jsx("div",{className:_("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...o,children:i}):c?r.jsx(Vo,{open:d,onOpenChange:u,...o,children:r.jsx(Eo,{id:"menu","data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":zh},side:e,children:r.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):r.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?s:"","data-variant":t,"data-side":e,children:[r.jsx("div",{className:_("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),r.jsx("div",{className:_("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:r.jsx("div",{id:"menu","data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});La.displayName="Sidebar";const Fa=g.forwardRef(({className:e,onClick:t,...s},n)=>{const{toggleSidebar:i}=Be();return r.jsxs(O,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:_("h-7 w-7",e),onClick:o=>{t?.(o),i()},...s,children:[r.jsx(so,{"aria-hidden":"true",focusable:"false"}),r.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Fa.displayName="SidebarTrigger";const $h=g.forwardRef(({className:e,...t},s)=>{const{toggleSidebar:n}=Be();return r.jsx("button",{ref:s,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:_("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});$h.displayName="SidebarRail";const Yh=g.forwardRef(({className:e,...t},s)=>r.jsx("main",{ref:s,className:_("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Yh.displayName="SidebarInset";const qh=g.forwardRef(({className:e,...t},s)=>r.jsx(xe,{ref:s,"data-sidebar":"input",className:_("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));qh.displayName="SidebarInput";const Ba=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,"data-sidebar":"header",className:_("flex flex-col gap-2 p-2",e),...t}));Ba.displayName="SidebarHeader";const za=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,"data-sidebar":"footer",className:_("flex flex-col gap-2 p-2",e),...t}));za.displayName="SidebarFooter";const Gh=g.forwardRef(({className:e,...t},s)=>r.jsx(ue,{ref:s,"data-sidebar":"separator",className:_("mx-2 w-auto bg-sidebar-border",e),...t}));Gh.displayName="SidebarSeparator";const Wa=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,"data-sidebar":"content",className:_("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Wa.displayName="SidebarContent";const Ua=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,"data-sidebar":"group",className:_("relative flex w-full min-w-0 flex-col p-2",e),...t}));Ua.displayName="SidebarGroup";const $a=g.forwardRef(({className:e,asChild:t=!1,...s},n)=>{const i=t?ct:"div";return r.jsx(i,{ref:n,"data-sidebar":"group-label",className:_("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...s})});$a.displayName="SidebarGroupLabel";const Hh=g.forwardRef(({className:e,asChild:t=!1,...s},n)=>{const i=t?ct:"button";return r.jsx(i,{ref:n,"data-sidebar":"group-action",className:_("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...s})});Hh.displayName="SidebarGroupAction";const Ya=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,"data-sidebar":"group-content",className:_("w-full text-sm",e),...t}));Ya.displayName="SidebarGroupContent";const qa=g.forwardRef(({className:e,...t},s)=>r.jsx("ul",{ref:s,"data-sidebar":"menu",className:_("flex w-full min-w-0 flex-col gap-1",e),...t}));qa.displayName="SidebarMenu";const Rs=g.forwardRef(({className:e,...t},s)=>r.jsx("li",{ref:s,"data-sidebar":"menu-item",className:_("group/menu-item relative",e),...t}));Rs.displayName="SidebarMenuItem";const Kh=Mo("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Xh=g.forwardRef(({asChild:e=!1,isActive:t=!1,variant:s="default",size:n="default",tooltip:i,className:o,...a},c)=>{const l=e?ct:"button",{isMobile:d,state:u}=Be(),h=r.jsx(l,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:_(Kh({variant:s,size:n}),o),...a});return i?(typeof i=="string"&&(i={children:i}),r.jsxs(Ze,{children:[r.jsx(Je,{asChild:!0,children:h}),r.jsx(et,{side:"right",align:"center",hidden:u!=="collapsed"||d,...i})]})):h});Xh.displayName="SidebarMenuButton";const Qh=g.forwardRef(({className:e,asChild:t=!1,showOnHover:s=!1,...n},i)=>{const o=t?ct:"button";return r.jsx(o,{ref:i,"data-sidebar":"menu-action",className:_("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});Qh.displayName="SidebarMenuAction";const Zh=g.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,"data-sidebar":"menu-badge",className:_("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));Zh.displayName="SidebarMenuBadge";const Jh=g.forwardRef(({className:e,showIcon:t=!1,...s},n)=>{const i=g.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return r.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:_("rounded-md h-8 flex gap-2 px-2 items-center",e),...s,children:[t&&r.jsx(Sn,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),r.jsx(Sn,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Jh.displayName="SidebarMenuSkeleton";const em=g.forwardRef(({className:e,...t},s)=>r.jsx("ul",{ref:s,"data-sidebar":"menu-sub",className:_("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));em.displayName="SidebarMenuSub";const tm=g.forwardRef(({...e},t)=>r.jsx("li",{ref:t,...e}));tm.displayName="SidebarMenuSubItem";const sm=g.forwardRef(({asChild:e=!1,size:t="md",isActive:s,className:n,...i},o)=>{const a=e?ct:"a";return r.jsx(a,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":s,className:_("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});sm.displayName="SidebarMenuSubButton";function Ga(){const{user:e,hasRole:t,isAdmin:s,isSuperAdmin:n}=It(),i=c=>!c.permission||n||s?!0:{canViewAnalytics:t("ADMIN")||t("ANALYST"),canManageData:t("ADMIN")||t("ANALYST"),canImportData:t("ADMIN")||t("ANALYST"),canViewVersions:t("ADMIN")||t("ANALYST"),canManageOrg:t("ADMIN"),canManagePermissions:t("ADMIN"),canViewLogs:t("ADMIN"),canManageSettings:t("ADMIN")}[c.permission]||!1;return{canAccess:i,getPermissionTooltip:c=>i(c)?c.description||c.label:"Sem permisso para acessar esta funcionalidade",hasAnyPermissionInGroup:c=>c.some(l=>i(l)),user:e,isAdmin:s,isSuperAdmin:n,userRole:e?.user_metadata?.role||"VIEWER"}}const xn=[{title:"Operao",items:[{label:"Incio",to:"/dashboard",icon:Vs,description:"Viso geral"},{label:"Mapa de Testemunhas",to:"/mapa-testemunhas",icon:Es,description:"Anlise de vnculos e padres com assistente integrado"}]},{title:"Anlises",items:[{label:"Painel",to:"/admin",icon:fs,description:"Dashboard executivo",permission:"canViewAnalytics"},{label:"Relatrios",to:"/admin/analytics",icon:no,description:"Anlises detalhadas",permission:"canViewAnalytics"}]},{title:"Dados",items:[{label:"Base de Dados",to:"/admin/base",icon:jt,description:"Gesto de dados centralizados",permission:"canManageData"},{label:"Importao",to:"/admin/base-import",icon:io,description:"Upload e validao de planilhas",permission:"canImportData"},{label:"Verses",to:"/admin/versoes",icon:ro,description:"Histrico e rollback",permission:"canViewVersions",badge:"2"}]},{title:"Administrao",items:[{label:"Organizao",to:"/admin/organization",icon:ao,description:"Configuraes organizacionais",permission:"canManageOrg"},{label:"Logs",to:"/admin/logs",icon:oo,description:"Auditoria e monitoramento",permission:"canViewLogs",badge:3},{label:"Configuraes",to:"/settings",icon:je,description:"Configuraes da organizao",permission:"canManageSettings"}]}];xn.flatMap(e=>e.items);function nm(){const[e,t]=ie.useState("light");ie.useEffect(()=>{const n=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",o=n||i;t(o),document.documentElement.classList.toggle("dark",o==="dark")},[]);const s=()=>{const n=e==="light"?"dark":"light";t(n),localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark",n==="dark")};return r.jsx(Lt,{children:r.jsxs(Ze,{children:[r.jsx(Je,{asChild:!0,children:r.jsx(O,{variant:"ghost",size:"sm",onClick:s,className:"h-8 w-8 p-0 hover:bg-sidebar-accent","aria-label":`Alternar para tema ${e==="light"?"escuro":"claro"}`,children:e==="light"?r.jsx(co,{className:"h-4 w-4"}):r.jsx(lo,{className:"h-4 w-4"})})}),r.jsx(et,{side:"top",children:r.jsxs("p",{children:["Alternar tema (",e==="light"?"escuro":"claro",")"]})})]})})}function im(){const[e,t]=ie.useState(!1),s=qi(),{canAccess:n}=Ga();ie.useEffect(()=>{const o=a=>{a.key==="k"&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),t(c=>!c))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]);const i=o=>{t(!1),s(o)};return r.jsxs(r.Fragment,{children:[r.jsx(Lt,{children:r.jsxs(Ze,{children:[r.jsx(Je,{asChild:!0,children:r.jsx(O,{variant:"ghost",size:"sm",onClick:()=>t(!0),className:"h-8 w-8 p-0 hover:bg-sidebar-accent","aria-label":"Abrir pesquisa (Cmd+K)",children:r.jsx(uo,{className:"h-4 w-4"})})}),r.jsx(et,{side:"top",children:r.jsx("p",{children:"Pesquisar (K)"})})]})}),r.jsxs(Oo,{open:e,onOpenChange:t,children:[r.jsx(ko,{placeholder:"Pesquisar pginas..."}),r.jsxs(Io,{children:[r.jsx(Lo,{children:"Nenhum resultado encontrado."}),xn.map(o=>{const a=o.items.filter(n);return a.length===0?null:r.jsx(Fo,{heading:o.title,children:a.map(c=>r.jsxs(Bo,{onSelect:()=>i(c.to),className:"flex items-center gap-3 cursor-pointer",children:[r.jsx(c.icon,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:c.label}),c.description&&r.jsx("div",{className:"text-xs text-muted-foreground",children:c.description})]}),c.badge&&r.jsx("div",{className:"ml-auto",children:r.jsx("div",{className:"bg-primary text-primary-foreground text-xs px-1.5 py-0.5 rounded-full",children:c.badge})})]},c.to))},o.title)})]})]})]})}function rm(){const{open:e,setOpen:t,openMobile:s,setOpenMobile:n,isMobile:i,state:o}=Be(),a=Os(),{setOpen:c}=Ao(),{user:l,signOut:d,isAdmin:u}=It(),{canAccess:h,getPermissionTooltip:m,userRole:f}=Ga(),{toast:x}=ks(),y=async()=>{try{await d(),x({title:"Logout realizado com sucesso",description:"Voc foi desconectado da aplicao."})}catch{x({title:"Erro ao fazer logout",description:"Ocorreu um erro. Tente novamente.",variant:"destructive"})}},b=j=>{switch(j){case"ADMIN":return"destructive";case"ANALYST":return"default";case"VIEWER":return"secondary";default:return"secondary"}},w=j=>{switch(j){case"ADMIN":return"Admin";case"ANALYST":return"Analyst";case"VIEWER":return"Viewer";default:return"Usurio"}},S=j=>j==="/"?a.pathname==="/":a.pathname.startsWith(j);return r.jsx(Lt,{children:r.jsxs(La,{variant:"sidebar",className:`bg-sidebar border-sidebar-border transition-all duration-300 ${e?"w-60":"w-[72px]"}`,children:[r.jsx(Ba,{className:"border-b border-sidebar-border p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Do,{variation:"mark",size:"md",className:"flex-shrink-0"}),e&&r.jsxs("div",{className:"min-w-0",children:[r.jsx("h2",{className:"text-lg font-semibold text-sidebar-foreground truncate",children:"AssistJur.IA"}),r.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Legal Intelligence"})]})]})}),r.jsx(Wa,{className:"p-2 space-y-2",children:xn.map(j=>j.items.filter(h).length===0?null:r.jsxs(Ua,{children:[r.jsx($a,{className:"text-[11px] uppercase tracking-wider text-muted-foreground/80 px-3 pt-4 pb-1",children:e&&j.title}),r.jsx(Ya,{children:r.jsx(qa,{children:j.items.map(p=>{const T=h(p),C=S(p.to);if(!T)return r.jsx(Rs,{children:r.jsxs(Ze,{children:[r.jsx(Je,{asChild:!0,children:r.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 text-sm text-muted-foreground/50 cursor-not-allowed rounded-md",children:[r.jsx(p.icon,{className:"h-4 w-4"}),e&&r.jsx("span",{children:p.label})]})}),r.jsx(et,{side:"right",children:r.jsx("p",{children:m(p)})})]})},p.to);const N=r.jsxs(Ht,{to:p.to,className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors group ${C?"bg-primary/10 text-foreground border-l-2 border-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,"aria-current":C?"page":void 0,children:[r.jsx(p.icon,{className:"h-4 w-4 flex-shrink-0"}),e&&r.jsxs("div",{className:"flex items-center justify-between w-full min-w-0",children:[r.jsx("span",{className:"truncate",children:p.label}),p.badge&&r.jsx(X,{variant:"secondary",className:"ml-2 text-xs h-5 px-1.5 bg-primary/20 text-primary border-0",children:p.badge})]})]});return r.jsx(Rs,{children:e?N:r.jsxs(Ze,{children:[r.jsx(Je,{asChild:!0,children:N}),r.jsx(et,{side:"right",children:r.jsx("p",{children:m(p)})})]})},p.to)})})})]},j.title))}),r.jsxs(za,{className:"border-t border-sidebar-border p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(nm,{}),r.jsx(im,{})]}),r.jsx("button",{onClick:()=>c(!0),className:"text-xs underline text-sidebar-foreground",children:"Privacidade / Gerenciar cookies"}),r.jsxs(er,{children:[r.jsxs(tr,{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-sidebar-accent text-left w-full transition-colors",children:[r.jsx(tc,{className:"h-8 w-8 flex-shrink-0",children:r.jsx(sc,{className:"bg-primary text-primary-foreground text-xs",children:l?.email?.charAt(0).toUpperCase()||"U"})}),e&&r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:l?.email}),r.jsx("div",{className:"flex items-center gap-2 mt-1",children:r.jsx(X,{variant:b(f),className:"text-xs",children:w(f)})})]})]}),r.jsxs(sr,{align:"end",className:"w-56",children:[r.jsx(Ge,{asChild:!0,className:"cursor-pointer",children:r.jsxs(Ht,{to:"/profile",className:"flex items-center gap-2",children:[r.jsx(Gi,{className:"h-4 w-4"}),r.jsx("span",{children:"Meu Perfil"})]})}),u&&r.jsx(Ge,{asChild:!0,className:"cursor-pointer",children:r.jsxs(Ht,{to:"/settings",className:"flex items-center gap-2",children:[r.jsx(ho,{className:"h-4 w-4"}),r.jsx("span",{children:"Configuraes da Organizao"})]})}),r.jsx(gs,{}),r.jsxs(Ge,{onClick:y,className:"flex items-center gap-2 text-destructive focus:text-destructive cursor-pointer",children:[r.jsx(mo,{className:"h-4 w-4"}),r.jsx("span",{children:"Sair"})]})]})]})]})]})})}function A(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function fe(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Ha=6048e5,am=864e5,wt=43200,Bi=1440;let om={};function mt(){return om}function ot(e,t){const s=mt(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,i=A(e),o=i.getDay(),a=(o<n?7:0)+o-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Ot(e){return ot(e,{weekStartsOn:1})}function Ka(e){const t=A(e),s=t.getFullYear(),n=fe(e,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const i=Ot(n),o=fe(e,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=Ot(o);return t.getTime()>=i.getTime()?s+1:t.getTime()>=a.getTime()?s:s-1}function zi(e){const t=A(e);return t.setHours(0,0,0,0),t}function kt(e){const t=A(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function cm(e,t){const s=zi(e),n=zi(t),i=+s-kt(s),o=+n-kt(n);return Math.round((i-o)/am)}function lm(e){const t=Ka(e),s=fe(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Ot(s)}function Nt(e,t){const s=A(e),n=A(t),i=s.getTime()-n.getTime();return i<0?-1:i>0?1:i}function dm(e){return fe(e,Date.now())}function um(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hm(e){if(!um(e)&&typeof e!="number")return!1;const t=A(e);return!isNaN(Number(t))}function mm(e,t){const s=A(e),n=A(t),i=s.getFullYear()-n.getFullYear(),o=s.getMonth()-n.getMonth();return i*12+o}function fm(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function pm(e,t){return+A(e)-+A(t)}function gm(e){const t=A(e);return t.setHours(23,59,59,999),t}function xm(e){const t=A(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function vm(e){const t=A(e);return+gm(t)==+xm(t)}function ym(e,t){const s=A(e),n=A(t),i=Nt(s,n),o=Math.abs(mm(s,n));let a;if(o<1)a=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*o);let c=Nt(s,n)===-i;vm(A(e))&&o===1&&Nt(e,n)===1&&(c=!1),a=i*(o-Number(c))}return a===0?0:a}function bm(e,t,s){const n=pm(e,t)/1e3;return fm(s?.roundingMethod)(n)}function wm(e){const t=A(e),s=fe(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const jm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sm=(e,t,s)=>{let n;const i=jm[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Ee(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Tm={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nm={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cm={date:Ee({formats:Tm,defaultWidth:"full"}),time:Ee({formats:Pm,defaultWidth:"full"}),dateTime:Ee({formats:Nm,defaultWidth:"full"})},Mm={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Am=(e,t,s,n)=>Mm[e];function H(e){return(t,s)=>{const n=s?.context?String(s.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,c=s?.width?String(s.width):a;i=e.formattingValues[c]||e.formattingValues[a]}else{const a=e.defaultWidth,c=s?.width?String(s.width):e.defaultWidth;i=e.values[c]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const Dm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_m={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Em={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Om={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},km=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Im={ordinalNumber:km,era:H({values:Dm,defaultWidth:"wide"}),quarter:H({values:_m,defaultWidth:"wide",argumentCallback:e=>e-1}),month:H({values:Rm,defaultWidth:"wide"}),day:H({values:Vm,defaultWidth:"wide"}),dayPeriod:H({values:Em,defaultWidth:"wide",formattingValues:Om,defaultFormattingWidth:"wide"})};function K(e){return(t,s={})=>{const n=s.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?Fm(c,h=>h.test(a)):Lm(c,h=>h.test(a));let d;d=e.valueCallback?e.valueCallback(l):l,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(a.length);return{value:d,rest:u}}}function Lm(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function Fm(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function Xa(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=s.valueCallback?s.valueCallback(a):a;const c=t.slice(i.length);return{value:a,rest:c}}}const Bm=/^(\d+)(th|st|nd|rd)?/i,zm=/\d+/i,Wm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Um={any:[/^b/i,/^(a|c)/i]},$m={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ym={any:[/1/i,/2/i,/3/i,/4/i]},qm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hm={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Km={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zm={ordinalNumber:Xa({matchPattern:Bm,parsePattern:zm,valueCallback:e=>parseInt(e,10)}),era:K({matchPatterns:Wm,defaultMatchWidth:"wide",parsePatterns:Um,defaultParseWidth:"any"}),quarter:K({matchPatterns:$m,defaultMatchWidth:"wide",parsePatterns:Ym,defaultParseWidth:"any",valueCallback:e=>e+1}),month:K({matchPatterns:qm,defaultMatchWidth:"wide",parsePatterns:Gm,defaultParseWidth:"any"}),day:K({matchPatterns:Hm,defaultMatchWidth:"wide",parsePatterns:Km,defaultParseWidth:"any"}),dayPeriod:K({matchPatterns:Xm,defaultMatchWidth:"any",parsePatterns:Qm,defaultParseWidth:"any"})},Qa={code:"en-US",formatDistance:Sm,formatLong:Cm,formatRelative:Am,localize:Im,match:Zm,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jm(e){const t=A(e);return cm(t,wm(t))+1}function ef(e){const t=A(e),s=+Ot(t)-+lm(t);return Math.round(s/Ha)+1}function Za(e,t){const s=A(e),n=s.getFullYear(),i=mt(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=fe(e,0);a.setFullYear(n+1,0,o),a.setHours(0,0,0,0);const c=ot(a,t),l=fe(e,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const d=ot(l,t);return s.getTime()>=c.getTime()?n+1:s.getTime()>=d.getTime()?n:n-1}function tf(e,t){const s=mt(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=Za(e,t),o=fe(e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),ot(o,t)}function sf(e,t){const s=A(e),n=+ot(s,t)-+tf(s,t);return Math.round(n/Ha)+1}function M(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const ce={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return M(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):M(s+1,2)},d(e,t){return M(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return M(e.getHours()%12||12,t.length)},H(e,t){return M(e.getHours(),t.length)},m(e,t){return M(e.getMinutes(),t.length)},s(e,t){return M(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return M(i,t.length)}},Ce={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wi={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return ce.y(e,t)},Y:function(e,t,s,n){const i=Za(e,n),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return M(a,2)}return t==="Yo"?s.ordinalNumber(o,{unit:"year"}):M(o,t.length)},R:function(e,t){const s=Ka(e);return M(s,t.length)},u:function(e,t){const s=e.getFullYear();return M(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return M(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return M(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return ce.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return M(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const i=sf(e,n);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):M(i,t.length)},I:function(e,t,s){const n=ef(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):M(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):ce.d(e,t)},D:function(e,t,s){const n=Jm(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):M(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return M(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return M(o,t.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return M(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let i;switch(n===12?i=Ce.noon:n===0?i=Ce.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let i;switch(n>=17?i=Ce.evening:n>=12?i=Ce.afternoon:n>=4?i=Ce.morning:i=Ce.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return ce.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):ce.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):M(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):M(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):ce.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):ce.s(e,t)},S:function(e,t){return ce.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return $i(n);case"XXXX":case"XX":return be(n);case"XXXXX":case"XXX":default:return be(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return $i(n);case"xxxx":case"xx":return be(n);case"xxxxx":case"xxx":default:return be(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ui(n,":");case"OOOO":default:return"GMT"+be(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ui(n,":");case"zzzz":default:return"GMT"+be(n,":")}},t:function(e,t,s){const n=Math.trunc(e.getTime()/1e3);return M(n,t.length)},T:function(e,t,s){const n=e.getTime();return M(n,t.length)}};function Ui(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?s+String(i):s+String(i)+t+M(o,2)}function $i(e,t){return e%60===0?(e>0?"-":"+")+M(Math.abs(e)/60,2):be(e,t)}function be(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=M(Math.trunc(n/60),2),o=M(n%60,2);return s+i+t+o}const Yi=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ja=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nf=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return Yi(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Yi(n,t)).replace("{{time}}",Ja(i,t))},rf={p:Ja,P:nf},af=/^D+$/,of=/^Y+$/,cf=["D","DD","YY","YYYY"];function lf(e){return af.test(e)}function df(e){return of.test(e)}function uf(e,t,s){const n=hf(e,t,s);if(console.warn(n),cf.includes(e))throw new RangeError(n)}function hf(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ff=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pf=/^'([^]*?)'?$/,gf=/''/g,xf=/[a-zA-Z]/;function Pp(e,t,s){const n=mt(),i=s?.locale??n.locale??Qa,o=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=A(e);if(!hm(c))throw new RangeError("Invalid time value");let l=t.match(ff).map(u=>{const h=u[0];if(h==="p"||h==="P"){const m=rf[h];return m(u,i.formatLong)}return u}).join("").match(mf).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:vf(u)};if(Wi[h])return{isToken:!0,value:u};if(h.match(xf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(c,l));const d={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!s?.useAdditionalWeekYearTokens&&df(h)||!s?.useAdditionalDayOfYearTokens&&lf(h))&&uf(h,t,String(e));const m=Wi[h[0]];return m(c,h,i.localize,d)}).join("")}function vf(e){const t=e.match(pf);return t?t[1].replace(gf,"'"):e}function yf(e,t,s){const n=mt(),i=s?.locale??n.locale??Qa,o=2520,a=Nt(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const c=Object.assign({},s,{addSuffix:s?.addSuffix,comparison:a});let l,d;a>0?(l=A(t),d=A(e)):(l=A(e),d=A(t));const u=bm(d,l),h=(kt(d)-kt(l))/1e3,m=Math.round((u-h)/60);let f;if(m<2)return s?.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,c):u<10?i.formatDistance("lessThanXSeconds",10,c):u<20?i.formatDistance("lessThanXSeconds",20,c):u<40?i.formatDistance("halfAMinute",0,c):u<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):m===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",m,c);if(m<45)return i.formatDistance("xMinutes",m,c);if(m<90)return i.formatDistance("aboutXHours",1,c);if(m<Bi){const x=Math.round(m/60);return i.formatDistance("aboutXHours",x,c)}else{if(m<o)return i.formatDistance("xDays",1,c);if(m<wt){const x=Math.round(m/Bi);return i.formatDistance("xDays",x,c)}else if(m<wt*2)return f=Math.round(m/wt),i.formatDistance("aboutXMonths",f,c)}if(f=ym(d,l),f<12){const x=Math.round(m/wt);return i.formatDistance("xMonths",x,c)}else{const x=f%12,y=Math.trunc(f/12);return x<3?i.formatDistance("aboutXYears",y,c):x<9?i.formatDistance("overXYears",y,c):i.formatDistance("almostXYears",y+1,c)}}function bf(e,t){return yf(e,dm(e),t)}const wf={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},jf=(e,t,s)=>{let n;const i=wf[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),s?.addSuffix?s.comparison&&s.comparison>0?"em "+n:"h "+n:n},Sf={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Tf={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Pf={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nf={date:Ee({formats:Sf,defaultWidth:"full"}),time:Ee({formats:Tf,defaultWidth:"full"}),dateTime:Ee({formats:Pf,defaultWidth:"full"})},Cf={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Mf=(e,t,s,n)=>{const i=Cf[e];return typeof i=="function"?i(t):i},Af={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Df={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},_f={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Rf={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Vf={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Ef={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Of=(e,t)=>{const s=Number(e);return t?.unit==="week"?s+"":s+""},kf={ordinalNumber:Of,era:H({values:Af,defaultWidth:"wide"}),quarter:H({values:Df,defaultWidth:"wide",argumentCallback:e=>e-1}),month:H({values:_f,defaultWidth:"wide"}),day:H({values:Rf,defaultWidth:"wide"}),dayPeriod:H({values:Vf,defaultWidth:"wide",formattingValues:Ef,defaultFormattingWidth:"wide"})},If=/^(\d+)[o]?/i,Lf=/\d+/i,Ff={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Bf={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},zf={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Wf={any:[/1/i,/2/i,/3/i,/4/i]},Uf={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$f={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Yf={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},qf={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Gf={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Hf={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Kf={ordinalNumber:Xa({matchPattern:If,parsePattern:Lf,valueCallback:e=>parseInt(e,10)}),era:K({matchPatterns:Ff,defaultMatchWidth:"wide",parsePatterns:Bf,defaultParseWidth:"any"}),quarter:K({matchPatterns:zf,defaultMatchWidth:"wide",parsePatterns:Wf,defaultParseWidth:"any",valueCallback:e=>e+1}),month:K({matchPatterns:Uf,defaultMatchWidth:"wide",parsePatterns:$f,defaultParseWidth:"any"}),day:K({matchPatterns:Yf,defaultMatchWidth:"wide",parsePatterns:qf,defaultParseWidth:"any"}),dayPeriod:K({matchPatterns:Gf,defaultMatchWidth:"any",parsePatterns:Hf,defaultParseWidth:"any"})},Xf={code:"pt-BR",formatDistance:jf,formatLong:Nf,formatRelative:Mf,localize:kf,match:Kf,options:{weekStartsOn:0,firstWeekContainsDate:1}},Qf={success:Xi,error:go,warning:qe,info:po},Zf={success:"text-green-600 bg-green-50 border-green-200",error:"text-red-600 bg-red-50 border-red-200",warning:"text-amber-600 bg-amber-50 border-amber-200",info:"text-blue-600 bg-blue-50 border-blue-200"};function Jf({notification:e}){const{markAsRead:t,removeNotification:s}=nr(),n=Qf[e.type];return r.jsx(se,{className:`mb-3 transition-all ${e.read?"":"border-l-4 border-l-primary bg-primary/5"}`,children:r.jsx(ne,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`p-1 rounded-full ${Zf[e.type]}`,children:r.jsx(n,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("h4",{className:`text-sm font-medium ${e.read?"":"font-semibold"}`,children:e.title}),r.jsxs("div",{className:"flex items-center gap-1",children:[!e.read&&r.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),r.jsx(O,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>s(e.id),children:r.jsx(Ki,{className:"w-3 h-3"})})]})]}),e.message&&r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.message}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:bf(e.createdAt,{addSuffix:!0,locale:Xf})}),r.jsxs("div",{className:"flex gap-1",children:[e.action&&r.jsx(O,{variant:"outline",size:"sm",className:"h-6 text-xs",onClick:e.action.onClick,children:e.action.label}),!e.read&&r.jsxs(O,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>t(e.id),children:[r.jsx(Qi,{className:"w-3 h-3 mr-1"}),"Marcar como lida"]})]})]})]})]})})})}function ep(){const[e,t]=g.useState(!1),{notifications:s,unreadCount:n,markAllAsRead:i,clearAll:o,clearRead:a}=nr(),c=s.slice(0,10);return r.jsxs(nc,{open:e,onOpenChange:t,children:[r.jsx(ic,{asChild:!0,children:r.jsxs(O,{variant:"ghost",size:"sm",className:"relative",children:[r.jsx(bn,{className:"w-4 h-4"}),n>0&&r.jsx(X,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center text-xs p-0 min-w-[20px]",children:n>99?"99+":n})]})}),r.jsxs(rc,{className:"w-96 p-0 bg-background border shadow-lg z-50",align:"end",side:"bottom",sideOffset:8,children:[r.jsxs(ee,{className:"border-b pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(te,{className:"text-base",children:"Notificaes"}),n>0&&r.jsxs(X,{variant:"secondary",className:"text-xs",children:[n," no lidas"]})]}),s.length>0&&r.jsxs("div",{className:"flex gap-2 pt-2",children:[n>0&&r.jsxs(O,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:i,children:[r.jsx(fo,{className:"w-3 h-3 mr-1"}),"Marcar todas como lidas"]}),r.jsxs(O,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:a,children:[r.jsx(Hi,{className:"w-3 h-3 mr-1"}),"Limpar lidas"]}),r.jsxs(O,{variant:"outline",size:"sm",className:"h-7 text-xs text-destructive",onClick:o,children:[r.jsx(Ki,{className:"w-3 h-3 mr-1"}),"Limpar todas"]})]})]}),r.jsx(zo,{className:"max-h-96",children:r.jsx("div",{className:"p-4",children:c.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(bn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"Nenhuma notificao"})]}):r.jsxs("div",{className:"space-y-0",children:[c.map(l=>r.jsx(Jf,{notification:l},l.id)),s.length>10&&r.jsx("div",{className:"text-center pt-4",children:r.jsx(O,{variant:"ghost",size:"sm",className:"text-xs",children:"Ver todas as notificaes"})})]})})})]})]})}const tp=({onManageOrgs:e})=>{const[t,s]=g.useState(!1),n=qi(),{currentOrg:i,organizations:o,loading:a,switchOrganization:c}=kh(),l=async u=>{if(u!==i?.id)try{await c(u),s(!1)}catch(h){console.error("Failed to switch organization:",h)}},d=()=>{e?.()||n("/admin/org"),s(!1)};return a||!i?r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 rounded-lg border",children:[r.jsx(xo,{className:"h-4 w-4 animate-spin text-muted-foreground"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando..."})]}):o.length<=1?r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 rounded-lg border",children:[r.jsx(Kt,{className:"h-4 w-4 text-primary"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:i.name}),r.jsx("div",{className:"text-xs text-muted-foreground",children:i.code})]}),r.jsx(X,{variant:i.role==="ADMIN"?"default":"secondary",className:"text-xs",children:i.role==="ADMIN"?"Admin":i.role==="ANALYST"?"Analista":"Visualizador"})]}):r.jsxs(er,{open:t,onOpenChange:s,children:[r.jsx(tr,{asChild:!0,children:r.jsxs(O,{variant:"outline",className:"w-full justify-between h-auto p-3 hover:bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[r.jsx(Kt,{className:"h-4 w-4 text-primary flex-shrink-0"}),r.jsxs("div",{className:"text-left min-w-0 flex-1",children:[r.jsx("div",{className:"text-sm font-medium truncate",children:i.name}),r.jsx("div",{className:"text-xs text-muted-foreground",children:i.code})]}),r.jsx(X,{variant:i.role==="ADMIN"?"default":"secondary",className:"text-xs",children:i.role==="ADMIN"?"Admin":i.role==="ANALYST"?"Analista":"Visualizador"})]}),r.jsx(vo,{className:"h-4 w-4 ml-2 flex-shrink-0"})]})}),r.jsxs(sr,{align:"start",className:"w-64",children:[r.jsx("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Organizaes disponveis"}),r.jsx(gs,{}),o.map(u=>r.jsxs(Ge,{onClick:()=>l(u.id),className:"flex items-center gap-2 p-3 cursor-pointer",children:[r.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium truncate",children:u.name}),i.id===u.id&&r.jsx(Qi,{className:"h-3 w-3 text-primary"})]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:u.code})]}),r.jsx(X,{variant:u.role==="ADMIN"?"default":"secondary",className:"text-xs",children:u.role==="ADMIN"?"Admin":u.role==="ANALYST"?"Analista":"Visualizador"})]},u.id)),r.jsx(gs,{}),r.jsxs(Ge,{onClick:d,className:"flex items-center gap-2",children:[r.jsx(je,{className:"h-4 w-4"}),r.jsx("span",{children:"Gerenciar organizaes"})]})]})]})},ms={"/":{label:"Incio",icon:Vs},"/chat":{label:"Chat Assistente",icon:bo},"/dados":{label:"Dados",icon:jt},"/dados/mapa":{label:"Mapa de Testemunhas",icon:jt},"/admin":{label:"Administrao",icon:fs},"/admin/ia":{label:"Inteligncia Artificial",icon:yo},"/admin/ia/chaves":{label:"Chaves API",icon:je},"/admin/ia/modelos":{label:"Modelos",icon:je},"/admin/ia/prompt-studio":{label:"Prompt Studio",icon:Ve},"/admin/ia/testes":{label:"Playground",icon:je},"/admin/base":{label:"Base de Dados",icon:jt},"/admin/org":{label:"Organizao",icon:Es},"/admin/config":{label:"Configuraes",icon:je},"/admin/analytics":{label:"Analytics",icon:fs},"/admin/logs":{label:"Logs",icon:Ve},"/admin/versoes":{label:"Verses",icon:Ve}};function sp(){const e=Os(),{open:t}=Be(),n=(()=>{const o=e.pathname.split("/").filter(Boolean),a=[];e.pathname!=="/"&&a.push({path:"/",label:"Incio",icon:Vs});let c="";return o.forEach((l,d)=>{c+=`/${l}`;const u=ms[c];u&&a.push({path:c,label:u.label,icon:u.icon,isLast:d===o.length-1})}),a})(),i=ms[e.pathname]??ms["/"];return r.jsx("header",{className:"sticky top-0 z-40 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:r.jsxs("div",{className:"flex h-14 items-center gap-4 px-4",children:[r.jsx(Fa,{className:"-ml-1","aria-label":"Menu","aria-controls":"menu","aria-expanded":t}),r.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[i?.icon&&r.jsx(i.icon,{className:"h-4 w-4","aria-hidden":"true",focusable:"false"}),r.jsx("h1",{className:"font-semibold text-sm",children:i?.label||"AssistJur.IA"})]}),r.jsx("div",{className:"hidden md:flex",children:r.jsx(Wo,{children:r.jsx(Uo,{children:n.map((o,a)=>r.jsxs("div",{children:[r.jsx($o,{children:o.isLast??!1?r.jsxs(Yo,{className:"flex items-center gap-2",children:[r.jsx(o.icon,{className:"h-4 w-4","aria-hidden":"true",focusable:"false"}),o.label]}):r.jsxs(qo,{href:o.path,className:"flex items-center gap-2 hover:text-foreground",children:[r.jsx(o.icon,{className:"h-4 w-4","aria-hidden":"true",focusable:"false"}),o.label]})}),a<n.length-1&&r.jsx(Go,{children:r.jsx(wo,{className:"h-4 w-4","aria-hidden":"true",focusable:"false"})})]},o.path))})})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx(tp,{})}),r.jsx(ep,{}),r.jsxs("div",{className:"hidden lg:flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"Sistema Online"})]})]})]})})}function np({children:e}){return _h()?r.jsx(r.Fragment,{children:e}):r.jsx(Ea.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:Rh,children:e})}const ip={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:.3,ease:[.4,0,.2,1]}},exit:{opacity:0,y:-20,transition:{duration:.2,ease:[.4,0,.2,1]}}};function rp({children:e}){return Os(),window.matchMedia("(prefers-reduced-motion: reduce)").matches?r.jsx(r.Fragment,{children:e}):r.jsx(dc,{mode:"wait",initial:!1,children:r.jsx(Ea.div,{variants:ip,initial:"initial",animate:"enter",exit:"exit",className:"w-full h-full",children:e})})}function ap({children:e}){return r.jsx(Ia,{defaultOpen:!0,children:r.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[r.jsx(rm,{}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r.jsx(sp,{}),r.jsx("main",{className:"flex-1 overflow-hidden",children:r.jsx(rp,{children:r.jsx(np,{children:e})})})]})]})})}function op(){const{profile:e}=It(),{data:t,isLoading:s,refetch:n}=jo({queryKey:["last-update",e?.organization_id],queryFn:async()=>{if(!e?.organization_id)return console.error("Organizao no encontrada para last-update"),null;const{data:a,error:c}=await de.functions.invoke("get-last-update");return c?(console.error("Error fetching last update:",c),null):a},enabled:!!e?.organization_id,staleTime:5*60*1e3});return{...t,isLoading:s,formatLocalDateTime:a=>{const c=Intl.DateTimeFormat().resolvedOptions().timeZone||"America/Sao_Paulo";return new Date(a).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:c})},formatShortDateTime:a=>{const c=Intl.DateTimeFormat().resolvedOptions().timeZone||"America/Sao_Paulo";return new Date(a).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:c})},refetch:n}}function cp({organization:e,showTimestamp:t=!0,showVersion:s=!0,className:n=""}){const{versionNumber:i,formatLocalDateTime:o,publishedAtUTC:a}=op();return r.jsxs("div",{className:`border-t bg-muted/10 p-4 space-y-3 text-xs text-muted-foreground ${n}`,children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Zi,{className:"h-4 w-4 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-300",children:ze.legal.reportDisclaimer}),r.jsx("p",{children:ze.legal.complianceNote})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-2 border-t border-muted/20",children:[e&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ji,{className:"h-3 w-3"}),r.jsx("span",{children:e})]}),t&&a&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(So,{className:"h-3 w-3"}),r.jsxs("span",{children:["Gerado em: ",o(a)]})]}),s&&i&&r.jsxs("div",{className:"font-mono font-medium",children:["v",i]})]}),r.jsx("div",{className:"text-center pt-2 border-t border-muted/20",children:r.jsxs("p",{children:["Sistema: ",r.jsx("span",{className:"font-medium",children:ze.fullName}),"  Suporte:"," ",r.jsx("a",{href:`mailto:${ze.contact.support}`,className:"text-primary hover:underline",children:ze.contact.support})]})})]})}const lp=ie.forwardRef(({data:e,onExport:t,sections:s={summary:!0,risks:!0,roi:!0}},n)=>{const{toast:i}=ks(),o=l=>{t?t(l):i({title:"Exportao",description:`Gerando relatrio em ${l.toUpperCase()}...`})},a=l=>{switch(l){case"ALTO":return"destructive";case"MEDIO":return"secondary";case"BAIXO":return"outline";default:return"secondary"}},c=l=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(l));return r.jsxs("div",{ref:n,className:"max-w-4xl mx-auto space-y-6 print:space-y-4",children:[r.jsxs(se,{className:"print:shadow-none",children:[r.jsx(ee,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(_o,{size:"lg"}),r.jsxs(te,{className:"text-2xl font-bold flex items-center gap-2 mt-4",children:[r.jsx(Ve,{className:"h-6 w-6 text-primary"}),"Relatrio Conclusivo de Anlise"]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{className:"font-medium",children:e.organizacao}),r.jsxs("p",{children:["Perodo: ",e.periodo_analise.inicio," a"," ",e.periodo_analise.fim]}),r.jsxs("p",{children:["Responsvel: ",e.analista_responsavel]}),r.jsxs("p",{children:["Gerado em: ",c(e.data_geracao)]})]})]}),r.jsx("div",{className:"print:hidden",children:r.jsx(Ho,{onExport:o})})]})}),r.jsx(ne,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:e.resumo_executivo.total_processos}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Processos Analisados"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-destructive",children:e.resumo_executivo.processos_criticos}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Casos Crticos"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-amber-600",children:e.resumo_executivo.padroes_detectados}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Padres Detectados"})]}),r.jsx("div",{className:"text-center",children:r.jsxs(X,{variant:a(e.resumo_executivo.risco_geral),className:"text-base px-3 py-1",children:["Risco ",e.resumo_executivo.risco_geral]})})]})})]}),s.summary&&r.jsxs(se,{children:[r.jsx(ee,{children:r.jsxs(te,{className:"flex items-center gap-2",children:[r.jsx(Zi,{className:"h-5 w-5 text-primary"}),"Resumo Executivo"]})}),r.jsxs(ne,{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Confiabilidade da Anlise:"}),r.jsx(Ko,{value:e.resumo_executivo.confiabilidade_analise,className:"w-24 h-2"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.resumo_executivo.confiabilidade_analise,"%"]})]})}),r.jsx("div",{className:"prose prose-sm max-w-none",children:r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.resumo_executivo.observacoes_gerais})})]})]}),r.jsxs(se,{children:[r.jsx(ee,{children:r.jsxs(te,{className:"flex items-center gap-2",children:[r.jsx(ft,{className:"h-5 w-5 text-primary"}),"Anlise de Padres Detectados"]})}),r.jsx(ne,{children:e.analysis_result?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Es,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Troca Direta"})]}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.analysis_result.trocaDireta.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"casos detectados"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ps,{className:"h-4 w-4 text-orange-600"}),r.jsx("span",{className:"font-medium",children:"Triangulao"})]}),r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.analysis_result.triangulacao.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"redes identificadas"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(To,{className:"h-4 w-4 text-purple-600"}),r.jsx("span",{className:"font-medium",children:"Duplo Papel"})]}),r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.analysis_result.duploPapel.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"casos identificados"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(wn,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Prova Emprestada"})]}),r.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.analysis_result.provaEmprestada.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"testemunhas suspeitas"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(qe,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"font-medium",children:"Homnimos"})]}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.analysis_result.homonimos.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"casos suspeitos"})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(qe,{className:"h-8 w-8 mx-auto mb-2"}),r.jsx("p",{children:"Dados de anlise de padres no disponveis"})]})})]}),s.risks&&r.jsxs(se,{children:[r.jsx(ee,{children:r.jsxs(te,{className:"flex items-center gap-2",children:[r.jsx(qe,{className:"h-5 w-5 text-destructive"}),"Casos Crticos (Score  85)"]})}),r.jsx(ne,{children:r.jsxs("div",{className:"space-y-3",children:[e.processos_scores.filter(l=>l.score_final>=85).slice(0,10).map(l=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-mono text-sm font-medium",children:l.cnj}),r.jsx("div",{className:"text-xs text-muted-foreground",children:l.classificacao_estrategica})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(X,{variant:l.score_final>=85||l.score_final>=70?"destructive":"secondary",className:"font-mono",children:l.score_final}),r.jsx(X,{variant:"destructive",className:"text-xs",children:l.prioridade_contradita})]})]},l.cnj)),e.processos_scores.filter(l=>l.score_final>=85).length===0&&r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(Xi,{className:"h-6 w-6 mx-auto mb-2 text-green-600"}),r.jsx("p",{children:"Nenhum caso crtico identificado"})]})]})})]}),s.roi&&e.roi&&r.jsxs(se,{children:[r.jsx(ee,{children:r.jsxs(te,{className:"flex items-center gap-2",children:[r.jsx(ft,{className:"h-5 w-5 text-primary"}),"ROI Estimado"]})}),r.jsxs(ne,{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:["Investimento: R$ ",e.roi.investimento.toLocaleString()]}),r.jsxs("div",{children:["Retorno: R$ ",e.roi.retorno.toLocaleString()]}),r.jsxs("div",{className:"font-medium",children:["ROI: ",e.roi.percentual,"%"]})]})]}),r.jsxs(se,{children:[r.jsx(ee,{children:r.jsxs(te,{className:"flex items-center gap-2",children:[r.jsx(ps,{className:"h-5 w-5 text-primary"}),"Recomendaes Estratgicas"]})}),r.jsx(ne,{className:"space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-destructive mb-2 flex items-center gap-2",children:[r.jsx(wn,{className:"h-4 w-4"}),"Aes Imediatas"]}),r.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground ml-6",children:e.recomendacoes.imediatas.map((l,d)=>r.jsx("li",{className:"list-disc",children:l},d))})]}),r.jsx(ue,{}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-amber-600 mb-2 flex items-center gap-2",children:[r.jsx(Po,{className:"h-4 w-4"}),"Curto Prazo (30-90 dias)"]}),r.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground ml-6",children:e.recomendacoes.curto_prazo.map((l,d)=>r.jsx("li",{className:"list-disc",children:l},d))})]}),r.jsx(ue,{}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-green-600 mb-2 flex items-center gap-2",children:[r.jsx(ft,{className:"h-4 w-4"}),"Longo Prazo (3-12 meses)"]}),r.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground ml-6",children:e.recomendacoes.longo_prazo.map((l,d)=>r.jsx("li",{className:"list-disc",children:l},d))})]})]})})]}),r.jsxs(se,{children:[r.jsx(ee,{children:r.jsxs(te,{className:"flex items-center gap-2",children:[r.jsx(ft,{className:"h-5 w-5 text-primary"}),"Distribuio de Scores"]})}),r.jsxs(ne,{children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-destructive/10 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-destructive",children:e.scoring_metrics.distribuicao_scores.critico}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Crtico"})]}),r.jsxs("div",{className:"text-center p-3 bg-destructive/5 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-destructive",children:e.scoring_metrics.distribuicao_scores.alto}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Alto"})]}),r.jsxs("div",{className:"text-center p-3 bg-yellow-100 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-yellow-700",children:e.scoring_metrics.distribuicao_scores.medio}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Mdio"})]}),r.jsxs("div",{className:"text-center p-3 bg-green-100 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-green-700",children:e.scoring_metrics.distribuicao_scores.baixo}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Baixo"})]}),r.jsxs("div",{className:"text-center p-3 bg-muted/10 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:e.scoring_metrics.distribuicao_scores.minimo}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Mnimo"})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{children:"Score Mdio Geral:"}),r.jsx("span",{className:"font-mono font-medium",children:Math.round(e.scoring_metrics.avg_score*10)/10})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{children:"Casos com Contradita Recomendada:"}),r.jsx("span",{className:"font-mono font-medium",children:e.scoring_metrics.casos_contradita_recomendada})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{children:"Casos Necessitando Investigao:"}),r.jsx("span",{className:"font-mono font-medium",children:e.scoring_metrics.casos_investigacao_necessaria})]})]})]})]}),r.jsx(cp,{organization:e.organizacao,showTimestamp:!0,showVersion:!0})]})});function dp({onGenerate:e,mockData:t}){const{toast:s}=ks(),[n,i]=g.useState(!1),[o,a]=g.useState("empty"),[c,l]=g.useState(null),[d,u]=g.useState(!1),[h,m]=g.useState({organizacao:"",periodo_inicio:"",periodo_fim:"",analista_responsavel:"",incluir_casos_criticos:!0,incluir_analise_padroes:!0,incluir_recomendacoes:!0,limite_casos_criticos:10,observacoes_gerais:"",recomendacoes_personalizadas:{imediatas:[],curto_prazo:[],longo_prazo:[]},sections:{summary:!0,risks:!0,roi:!0}}),[f,x]=g.useState({type:"imediatas",text:""}),y=g.useRef(null);g.useEffect(()=>{const v=localStorage.getItem("report_sections");if(v)try{const p=JSON.parse(v);m(T=>({...T,sections:{...T.sections,...p}}))}catch{}},[]),g.useEffect(()=>{localStorage.setItem("report_sections",JSON.stringify(h.sections))},[h.sections]);const b=async()=>{if(!h.organizacao||!h.periodo_inicio||!h.periodo_fim||!h.analista_responsavel){s({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios antes de gerar o relatrio.",variant:"destructive"});return}if(!navigator.onLine){a("offline");return}i(!0),a("loading");try{let v;if(e)v=await e(h);else if(t)v={...t,organizacao:h.organizacao,periodo_analise:{inicio:h.periodo_inicio,fim:h.periodo_fim},analista_responsavel:h.analista_responsavel,data_geracao:new Date().toISOString(),resumo_executivo:{...t.resumo_executivo,observacoes_gerais:h.observacoes_gerais||t.resumo_executivo.observacoes_gerais},recomendacoes:{imediatas:h.recomendacoes_personalizadas.imediatas.length>0?h.recomendacoes_personalizadas.imediatas:t.recomendacoes.imediatas,curto_prazo:h.recomendacoes_personalizadas.curto_prazo.length>0?h.recomendacoes_personalizadas.curto_prazo:t.recomendacoes.curto_prazo,longo_prazo:h.recomendacoes_personalizadas.longo_prazo.length>0?h.recomendacoes_personalizadas.longo_prazo:t.recomendacoes.longo_prazo}};else throw new Error("Nenhuma fonte de dados disponvel");l(v),u(!0),a("success"),s({title:"Relatrio gerado",description:"Relatrio conclusivo gerado com sucesso."})}catch(v){console.error("Erro ao gerar relatrio:",v),a(navigator.onLine?"error":"offline"),s({title:"Erro",description:"Falha ao gerar o relatrio. Tente novamente.",variant:"destructive"})}finally{i(!1)}},w=()=>{f.text.trim()&&(m(v=>({...v,recomendacoes_personalizadas:{...v.recomendacoes_personalizadas,[f.type]:[...v.recomendacoes_personalizadas[f.type],f.text.trim()]}})),x({...f,text:""}))},S=(v,p)=>{m(T=>({...T,recomendacoes_personalizadas:{...T.recomendacoes_personalizadas,[v]:T.recomendacoes_personalizadas[v].filter((C,N)=>N!==p)}}))},j=v=>{if(v==="pdf"){window.print();return}if(v==="csv"){s({title:"Exportao CSV",description:"Funcionalidade em desenvolvimento.",variant:"default"});return}s({title:"Exportando",description:`Gerando relatrio em ${v.toUpperCase()}...`})};return d&&c?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(O,{variant:"outline",onClick:()=>u(!1),children:" Voltar  Configurao"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(O,{variant:"outline",onClick:()=>j("pdf"),children:[r.jsx(jn,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),r.jsxs(O,{variant:"outline",onClick:()=>j("docx"),children:[r.jsx(jn,{className:"h-4 w-4 mr-2"}),"Exportar DOCX"]})]})]}),r.jsx(lp,{ref:y,data:c,sections:h.sections,onExport:j})]}):r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o!=="empty"&&o!=="success"&&r.jsx(Xo,{status:o,onRetry:b}),r.jsxs(se,{children:[r.jsx(ee,{children:r.jsxs(te,{className:"flex items-center gap-2",children:[r.jsx(Ve,{className:"h-5 w-5 text-primary"}),"Gerador de Relatrio Conclusivo"]})}),r.jsxs(ne,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(Ji,{className:"h-4 w-4"}),"Informaes Bsicas"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(z,{htmlFor:"organizacao",children:"Organizao *"}),r.jsx(xe,{id:"organizacao",value:h.organizacao,onChange:v=>m(p=>({...p,organizacao:v.target.value})),placeholder:"Nome da organizao"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(z,{htmlFor:"analista",children:"Analista Responsvel *"}),r.jsx(xe,{id:"analista",value:h.analista_responsavel,onChange:v=>m(p=>({...p,analista_responsavel:v.target.value})),placeholder:"Nome do analista"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(z,{htmlFor:"inicio",children:"Perodo - Incio *"}),r.jsx(xe,{id:"inicio",type:"date",value:h.periodo_inicio,onChange:v=>m(p=>({...p,periodo_inicio:v.target.value}))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(z,{htmlFor:"fim",children:"Perodo - Fim *"}),r.jsx(xe,{id:"fim",type:"date",value:h.periodo_fim,onChange:v=>m(p=>({...p,periodo_fim:v.target.value}))})]})]})]}),r.jsx(ue,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(je,{className:"h-4 w-4"}),"Configuraes do Contedo"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(z,{htmlFor:"criticos",children:"Incluir casos crticos"}),r.jsx(Qt,{id:"criticos",checked:h.incluir_casos_criticos,onCheckedChange:v=>m(p=>({...p,incluir_casos_criticos:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(z,{htmlFor:"padroes",children:"Incluir anlise de padres"}),r.jsx(Qt,{id:"padroes",checked:h.incluir_analise_padroes,onCheckedChange:v=>m(p=>({...p,incluir_analise_padroes:v}))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(z,{htmlFor:"recomendacoes",children:"Incluir recomendaes"}),r.jsx(Qt,{id:"recomendacoes",checked:h.incluir_recomendacoes,onCheckedChange:v=>m(p=>({...p,incluir_recomendacoes:v}))})]}),h.incluir_casos_criticos&&r.jsxs("div",{className:"ml-4 space-y-2",children:[r.jsx(z,{htmlFor:"limite",children:"Limite de casos crticos no relatrio"}),r.jsx(xe,{id:"limite",type:"number",min:"1",max:"50",value:h.limite_casos_criticos,onChange:v=>m(p=>({...p,limite_casos_criticos:parseInt(v.target.value)||10}))})]})]})]}),r.jsx(ue,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(No,{className:"h-4 w-4"}),"Sees do Relatrio"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xt,{id:"section-summary",checked:h.sections.summary,onCheckedChange:v=>m(p=>({...p,sections:{...p.sections,summary:!!v}}))}),r.jsx(z,{htmlFor:"section-summary",children:"Sumrio"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xt,{id:"section-risks",checked:h.sections.risks,onCheckedChange:v=>m(p=>({...p,sections:{...p.sections,risks:!!v}}))}),r.jsx(z,{htmlFor:"section-risks",children:"Riscos"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xt,{id:"section-roi",checked:h.sections.roi,onCheckedChange:v=>m(p=>({...p,sections:{...p.sections,roi:!!v}}))}),r.jsx(z,{htmlFor:"section-roi",children:"ROI"})]})]})]}),r.jsx(ue,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(Gi,{className:"h-4 w-4"}),"Observaes Gerais"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(z,{htmlFor:"observacoes",children:"Observaes do Analista"}),r.jsx(Ro,{id:"observacoes",value:h.observacoes_gerais,onChange:v=>m(p=>({...p,observacoes_gerais:v.target.value})),placeholder:"Adicione observaes relevantes sobre a anlise...",rows:4})]})]}),r.jsx(ue,{}),h.incluir_recomendacoes&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(ps,{className:"h-4 w-4"}),"Recomendaes Personalizadas"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Qo,{value:f.type,onValueChange:v=>x(p=>({...p,type:v})),children:[r.jsx(Zo,{className:"w-48",children:r.jsx(Jo,{})}),r.jsxs(ec,{children:[r.jsx(Zt,{value:"imediatas",children:"Aes Imediatas"}),r.jsx(Zt,{value:"curto_prazo",children:"Curto Prazo"}),r.jsx(Zt,{value:"longo_prazo",children:"Longo Prazo"})]})]}),r.jsx(xe,{value:f.text,onChange:v=>x(p=>({...p,text:v.target.value})),placeholder:"Digite a recomendao...",className:"flex-1",onKeyPress:v=>v.key==="Enter"&&w()}),r.jsx(O,{onClick:w,size:"sm",children:r.jsx(Co,{className:"h-4 w-4"})})]}),Object.entries(h.recomendacoes_personalizadas).map(([v,p])=>p.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(z,{className:"text-sm font-medium capitalize",children:[v.replace("_"," "),":"]}),r.jsx("div",{className:"space-y-1 ml-4",children:p.map((T,C)=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded text-sm",children:[r.jsx("span",{className:"flex-1",children:T}),r.jsx(O,{variant:"ghost",size:"sm",onClick:()=>S(v,C),className:"h-6 w-6 p-0",children:r.jsx(Hi,{className:"h-3 w-3"})})]},C))})]},v))]})]}),r.jsx(ue,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(qe,{className:"h-4 w-4"}),r.jsx("span",{children:"* Campos obrigatrios"})]}),r.jsx(O,{onClick:b,disabled:n,size:"lg",children:n?r.jsx(r.Fragment,{children:"Gerando..."}):r.jsxs(r.Fragment,{children:[r.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Gerar Relatrio"]})})]})]})]})]})}const up={organizacao:"Advocacia Silva & Associados Ltda",periodo_analise:{inicio:"2024-01-01",fim:"2024-08-29"},analista_responsavel:"Dr. Joo Silva",data_geracao:new Date().toISOString(),analysis_result:{trocaDireta:[{testemunhaA:"Maria Santos",testemunhaB:"Joo Pereira",cnjsA:["0001234-56.2024.5.02.0001"],cnjsB:["0001235-57.2024.5.02.0002"],advogadosComuns:["Dr. Carlos Costa"],confianca:.92}],triangulacao:[{ciclo:["Ana Silva","Pedro Costa","Maria Santos"],cnjs:["0001234-56.2024.5.02.0001","0001235-57.2024.5.02.0002","0001236-58.2024.5.02.0003"],advogados:["Dr. Carlos Costa","Dra. Ana Oliveira"],comarcas:["So Paulo","Campinas"],desenho:"A  B  C  A",confianca:.87}],duploPapel:[{nome:"Carlos Mendes",cnjs_como_reclamante:["0001237-59.2024.5.02.0004"],cnjs_como_testemunha:["0001238-60.2024.5.02.0005","0001239-61.2024.5.02.0006"],polo_passivo:!0,risco:"ALTO"}],provaEmprestada:[{nome:"Roberto Lima",qtd_depoimentos:15,cnjs:["0001240-62.2024.5.02.0007","0001241-63.2024.5.02.0008"],advogados_recorrentes:["Dr. Fernando Pinto"],concentracao_comarca:.85,alerta:!0}],homonimos:[{nome:"Jos Silva",score:75,fatores:{comarca_uf:.8,advogado_ativo:.6,temporalidade:.7,nome_comum:!0},probabilidade:"ALTA",cnjs_suspeitos:["0001242-64.2024.5.02.0009","0001243-65.2024.5.02.0010"]}],padroes:{total_processos:1250,processos_com_triangulacao:15,processos_com_troca_direta:8,processos_com_prova_emprestada:12,testemunhas_profissionais:5,advogados_ofensores:["Dr. Carlos Costa","Dr. Fernando Pinto"],concentracao_uf:{SP:.65,RJ:.2,MG:.1,RS:.05}}},processos_scores:[{cnj:"0001234-56.2024.5.02.0001",score_final:92,score_breakdown:{total:92,components:{duplo_papel:{score:85,weight:.3,description:"Testemunha identificada como reclamante em outro processo",factor_type:"DUPLO_PAPEL"},prova_emprestada:{score:78,weight:.25,description:"Testemunha com histrico de mltiplos depoimentos",factor_type:"PROVA_EMPRESTADA"},troca_direta:{score:90,weight:.2,description:"Padro de troca direta detectado",factor_type:"TROCA_DIRETA"}},classification:"CRITICO",recommendations:["Contraditar testemunha imediatamente","Investigar vnculo com advogados comuns","Solicitar anlise de padres de depoimento"],calculated_at:new Date().toISOString()},fatores_risco:["Testemunha com duplo papel (reclamante/testemunha)","Padro de troca direta com alta confiana","Concentrao geogrfica suspeita"],classificacao_estrategica:"Crtico - Ao Imediata",prioridade_contradita:"URGENTE",confidence_level:.94,last_updated:new Date().toISOString()},{cnj:"0001235-57.2024.5.02.0002",score_final:87,score_breakdown:{total:87,components:{triangulacao:{score:85,weight:.15,description:"Parte de rede de triangulao identificada",factor_type:"TRIANGULACAO"},prova_emprestada:{score:82,weight:.25,description:"Testemunha profissional suspeita",factor_type:"PROVA_EMPRESTADA"}},classification:"CRITICO",recommendations:["Contraditar com urgncia","Mapear rede completa de testemunhas"],calculated_at:new Date().toISOString()},fatores_risco:["Participao em rede de triangulao","Testemunha profissional confirmada"],classificacao_estrategica:"Crtico - Investigao Necessria",prioridade_contradita:"URGENTE",confidence_level:.91,last_updated:new Date().toISOString()},{cnj:"0001236-58.2024.5.02.0003",score_final:45,score_breakdown:{total:45,components:{homonimo:{score:65,weight:.1,description:"Possvel homnimo detectado",factor_type:"HOMONIMO"}},classification:"BAIXO",recommendations:["Verificar identidade da testemunha","Monitorar para novos padres"],calculated_at:new Date().toISOString()},fatores_risco:["Possvel caso de homonmia"],classificacao_estrategica:"Normal - Monitoramento",prioridade_contradita:"BAIXA",confidence_level:.68,last_updated:new Date().toISOString()}],testemunhas_scores:[{nome:"Maria Santos",score_final:88,score_breakdown:{total:88,components:{prova_emprestada:{score:90,weight:.4,description:"Testemunha com 15+ depoimentos",factor_type:"PROVA_EMPRESTADA"},troca_direta:{score:85,weight:.3,description:"Participao confirmada em troca direta",factor_type:"TROCA_DIRETA"}},classification:"CRITICO",recommendations:["Contraditar em todos os casos pendentes","Investigar histrico completo"],calculated_at:new Date().toISOString()},classificacao:"PROFISSIONAL",alerta_prova_emprestada:!0,recomendacao_acao:"Contraditar imediatamente",risk_level:"CRITICO",last_updated:new Date().toISOString()},{nome:"Joo Silva",score_final:35,score_breakdown:{total:35,components:{homonimo:{score:70,weight:.15,description:"Nome comum, possvel homonmia",factor_type:"HOMONIMO"}},classification:"BAIXO",recommendations:["Verificar CPF e documentos","Confirmar identidade antes de ao"],calculated_at:new Date().toISOString()},classificacao:"NORMAL",alerta_prova_emprestada:!1,recomendacao_acao:"Verificar identidade",risk_level:"BAIXO",last_updated:new Date().toISOString()}],scoring_metrics:{total_casos_analisados:1250,distribuicao_scores:{critico:3,alto:15,medio:125,baixo:850,minimo:257},avg_score:28.5,casos_contradita_recomendada:18,casos_investigacao_necessaria:25,accuracy_rate:.94},resumo_executivo:{total_processos:1250,processos_criticos:3,padroes_detectados:5,risco_geral:"MEDIO",confiabilidade_analise:94,observacoes_gerais:"A anlise identificou padres suspeitos concentrados em um pequeno grupo de testemunhas e advogados. Embora a maioria dos casos apresente baixo risco, h evidncias claras de esquemas organizados de fraude testemunhal que requerem ao imediata. A concentrao geogrfica e temporal dos padres sugere coordenao entre os envolvidos."},recomendacoes:{imediatas:["Contraditar testemunhas crticas (Maria Santos, Carlos Mendes) em todos os processos pendentes","Notificar Ministrio Pblico sobre possvel esquema organizado de fraude","Suspender andamento dos processos com score  85 at investigao completa","Implementar verificao de CPF obrigatria para todas as testemunhas"],curto_prazo:["Desenvolver protocolo de verificao automtica de padres suspeitos","Criar lista de observao para advogados e testemunhas recorrentes","Implementar sistema de alertas para casos similares futuros","Treinar equipe jurdica sobre identificao de padres de fraude"],longo_prazo:["Estabelecer parcerias com outros escritrios para compartilhamento de inteligncia","Desenvolver banco de dados nacional de testemunhas suspeitas","Criar metodologia de scoring preventivo para novos casos","Implementar auditoria trimestral de padres emergentes"]},roi:{investimento:5e4,retorno:15e4,percentual:200}};function hp(){return r.jsx(ap,{children:r.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Relatrio Conclusivo"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Template para gerao de relatrios conclusivos de anlise de padres"})]})}),r.jsx(dp,{mockData:up})]})})}const Np=Object.freeze(Object.defineProperty({__proto__:null,default:hp},Symbol.toStringTag,{value:"Module"}));export{ap as A,Rh as D,jp as M,Np as R,bf as a,kh as b,dc as c,Tp as d,Pp as f,Ea as m,Xf as p,Ga as u};
