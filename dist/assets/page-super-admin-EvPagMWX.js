import{r as c,j as s,cd as y,U as V,bs as q,ce as cs,g as us,F as ds,O as ps,cA as Ns,d0 as bs,a7 as R,f as fs,bI as B,d1 as xs,u as H,e as hs,ad as $,L as J,bu as K,bz as js,d2 as vs,cF as gs,q as ws,J as Ds}from"./vendor-BifU-Y_Y.js";import{u as W,L as T,I as Es}from"./page-Login-Cb2wXJhK.js";import{y as E,s as w,C as j,B as D,j as z,a as k,n as X,p as Y,b as P,c as G,d as F}from"./page-About-BHlfFeQG.js";import{S as b}from"./page-Profile-M3AOUaYl.js";import{B as Q,E as Z,F as ss,a1 as es,H as A,G as U,D as rs,n as as,o as is,p as ts,Z as ns,X as os,S,a as L,b as M,c as _,d as h}from"./page-MapaPage-bU2RdKPx.js";import{a as I,p as C,f as ks}from"./page-ReportDemo-Dw2XRuSS.js";import{T as Vs,c as Us,d as O,e as g,f as Ts,g as x}from"./page-DemoMapaTestemunhas-BREju1Qp.js";import{T as ls}from"./page-PortalTitular-CAHuxxyN.js";function As(){const[e,n]=c.useState(null),[o,d]=c.useState(!0),{toast:i}=E();c.useEffect(()=>{N()},[]);const N=async()=>{try{const{data:m,error:l}=await w.rpc("get_global_metrics");if(l)throw l;n(m)}catch(m){i({title:"Erro ao carregar métricas",description:m.message,variant:"destructive"})}finally{d(!1)}};if(o)return s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((m,l)=>s.jsxDEV(b,{className:"h-24"},l,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:67,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:65,columnNumber:7},this);if(!e)return s.jsxDEV("div",{className:"text-center p-8 text-muted-foreground",children:"Não foi possível carregar as métricas globais."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:75,columnNumber:7},this);const p=[{title:"Organizações",value:e.total_organizations,icon:y,color:"text-blue-500",bgColor:"bg-blue-500/10"},{title:"Usuários Ativos",value:e.total_users,icon:V,color:"text-green-500",bgColor:"bg-green-500/10"},{title:"Processos",value:e.total_processos,icon:q,color:"text-purple-500",bgColor:"bg-purple-500/10"},{title:"Pessoas",value:e.total_pessoas,icon:V,color:"text-orange-500",bgColor:"bg-orange-500/10"},{title:"Conversas",value:e.total_conversations,icon:cs,color:"text-pink-500",bgColor:"bg-pink-500/10"},{title:"Sessões Hoje",value:e.active_sessions_today,icon:us,color:"text-cyan-500",bgColor:"bg-cyan-500/10"},{title:"Storage (MB)",value:e.storage_usage_mb.toFixed(2),icon:ds,color:"text-yellow-500",bgColor:"bg-yellow-500/10"},{title:"Requests IA Hoje",value:e.openai_requests_today,icon:ps,color:"text-indigo-500",bgColor:"bg-indigo-500/10",subtitle:`${e.avg_response_time_ms}ms avg`}];return s.jsxDEV("div",{className:"space-y-4",children:[s.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:p.map((m,l)=>{const a=m.icon;return s.jsxDEV(j,{className:"p-4",children:s.jsxDEV("div",{className:"flex items-start justify-between",children:[s.jsxDEV("div",{className:"space-y-1",children:[s.jsxDEV("p",{className:"text-sm text-muted-foreground",children:m.title},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:150,columnNumber:19},this),s.jsxDEV("p",{className:"text-2xl font-bold",children:m.value},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:153,columnNumber:19},this),m.subtitle&&s.jsxDEV("p",{className:"text-xs text-muted-foreground",children:m.subtitle},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:155,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:149,columnNumber:17},this),s.jsxDEV("div",{className:`p-2 rounded-lg ${m.bgColor}`,children:s.jsxDEV(a,{className:`w-5 h-5 ${m.color}`},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:161,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:160,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:148,columnNumber:15},this)},l,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:147,columnNumber:13},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:143,columnNumber:7},this),e.openai_cost_today_cents>0&&s.jsxDEV(j,{className:"p-4",children:s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV(Ns,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:173,columnNumber:13},this),s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Custo IA Hoje"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:175,columnNumber:15},this),s.jsxDEV("p",{className:"text-xl font-bold",children:["R$ ",(e.openai_cost_today_cents/100).toFixed(2)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:172,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:171,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/GlobalMetrics.tsx",lineNumber:142,columnNumber:5},this)}function ys({onOrgChange:e,selectedOrgId:n}){const[o,d]=c.useState([]),[i,N]=c.useState(!0),{toast:p}=E();c.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:r,error:f}=await w.from("organizations").select("id, name, code, is_active").eq("is_active",!0).order("name");if(f)throw f;d(r||[])}catch(r){p({title:"Erro ao carregar organizações",description:r.message,variant:"destructive"})}finally{N(!1)}},l=r=>{e?.(r)},a=o.find(r=>r.id===n);return s.jsxDEV(Q,{children:[s.jsxDEV(Z,{asChild:!0,children:s.jsxDEV(D,{variant:"outline",role:"combobox",className:"w-[250px] justify-between",disabled:i,children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV(y,{className:"w-4 h-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:74,columnNumber:13},this),s.jsxDEV("span",{className:"truncate",children:i?"Carregando...":a?.name||"Todas as organizações"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:73,columnNumber:11},this),s.jsxDEV(bs,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:81,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:67,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:66,columnNumber:7},this),s.jsxDEV(ss,{className:"w-[250px]",children:[s.jsxDEV(es,{children:"Filtrar por organização"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:85,columnNumber:9},this),s.jsxDEV(A,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:86,columnNumber:9},this),s.jsxDEV(U,{onClick:()=>l(null),className:"cursor-pointer",children:[s.jsxDEV(R,{className:z("mr-2 h-4 w-4",n?"opacity-0":"opacity-100")},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:91,columnNumber:11},this),"Todas as organizações"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:87,columnNumber:9},this),s.jsxDEV(A,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:99,columnNumber:9},this),o.map(r=>s.jsxDEV(U,{onClick:()=>l(r.id),className:"cursor-pointer",children:[s.jsxDEV(R,{className:z("mr-2 h-4 w-4",n===r.id?"opacity-100":"opacity-0")},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:106,columnNumber:13},this),s.jsxDEV("div",{className:"flex flex-col",children:[s.jsxDEV("span",{children:r.name},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:113,columnNumber:15},this),s.jsxDEV("span",{className:"text-xs text-muted-foreground",children:r.code},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:114,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:112,columnNumber:13},this)]},r.id,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:101,columnNumber:11},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:84,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgSwitcher.tsx",lineNumber:65,columnNumber:5},this)}function Os(){const[e,n]=c.useState([]),[o,d]=c.useState(!0),[i,N]=c.useState(null),{toast:p}=E();c.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:a,error:r}=await w.rpc("get_all_orgs_summary");if(r)throw r;n(a||[])}catch(a){p({title:"Erro ao carregar organizações",description:a.message,variant:"destructive"})}finally{d(!1)}},l=i?e.filter(a=>a.org_id===i):e;return o?s.jsxDEV(j,{className:"p-6",children:[s.jsxDEV(b,{className:"h-8 w-48 mb-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:65,columnNumber:9},this),s.jsxDEV("div",{className:"space-y-3",children:Array.from({length:5}).map((a,r)=>s.jsxDEV(b,{className:"h-24"},r,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:68,columnNumber:13},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:64,columnNumber:7},this):s.jsxDEV(j,{className:"p-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV(y,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:79,columnNumber:11},this),s.jsxDEV("h2",{className:"text-xl font-semibold",children:"Organizações"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:80,columnNumber:11},this),s.jsxDEV(k,{variant:"secondary",children:l.length},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:81,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:78,columnNumber:9},this),s.jsxDEV(ys,{onOrgChange:N,selectedOrgId:i},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:83,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:77,columnNumber:7},this),l.length===0?s.jsxDEV("div",{className:"text-center p-8 text-muted-foreground",children:"Nenhuma organização encontrada."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:90,columnNumber:9},this):s.jsxDEV("div",{className:"space-y-4",children:l.map(a=>s.jsxDEV(j,{className:"p-4 hover:shadow-md transition-shadow",children:s.jsxDEV("div",{className:"space-y-3",children:[s.jsxDEV("div",{className:"flex items-start justify-between",children:s.jsxDEV("div",{className:"space-y-1",children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("h3",{className:"text-lg font-semibold",children:a.org_name},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:104,columnNumber:23},this),s.jsxDEV(k,{variant:"outline",children:a.org_code},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:105,columnNumber:23},this),a.is_active?s.jsxDEV(k,{variant:"default",className:"bg-green-500/10 text-green-600 hover:bg-green-500/20",children:"Ativa"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:107,columnNumber:25},this):s.jsxDEV(k,{variant:"secondary",children:"Inativa"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:114,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:103,columnNumber:21},this),s.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxDEV("div",{className:"flex items-center gap-1",children:[s.jsxDEV(fs,{className:"w-4 h-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:119,columnNumber:25},this),s.jsxDEV("span",{children:["Criada"," ",I(new Date(a.created_at),{addSuffix:!0,locale:C})]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:120,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:118,columnNumber:23},this),s.jsxDEV("div",{className:"flex items-center gap-1",children:[s.jsxDEV(B,{className:"w-4 h-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:129,columnNumber:25},this),s.jsxDEV("span",{children:["Última atividade"," ",I(new Date(a.last_activity),{addSuffix:!0,locale:C})]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:130,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:128,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:117,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:102,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:101,columnNumber:17},this),s.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsxDEV(V,{className:"w-4 h-4 text-blue-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:145,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:144,columnNumber:21},this),s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Membros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:148,columnNumber:23},this),s.jsxDEV("p",{className:"text-lg font-semibold",children:a.total_members},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:149,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:147,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:143,columnNumber:19},this),s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("div",{className:"p-2 rounded-lg bg-purple-500/10",children:s.jsxDEV(q,{className:"w-4 h-4 text-purple-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:157,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:156,columnNumber:21},this),s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:160,columnNumber:23},this),s.jsxDEV("p",{className:"text-lg font-semibold",children:a.total_processos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:161,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:159,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:155,columnNumber:19},this),s.jsxDEV("div",{className:"flex items-center gap-2",children:[s.jsxDEV("div",{className:"p-2 rounded-lg bg-orange-500/10",children:s.jsxDEV(xs,{className:"w-4 h-4 text-orange-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:169,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:168,columnNumber:21},this),s.jsxDEV("div",{children:[s.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Pessoas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:172,columnNumber:23},this),s.jsxDEV("p",{className:"text-lg font-semibold",children:a.total_pessoas},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:173,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:171,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:167,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:142,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:100,columnNumber:15},this)},a.org_id,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:96,columnNumber:13},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:94,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/OrgList.tsx",lineNumber:76,columnNumber:5},this)}function Ss(){const{isSuperAdmin:e}=W(),{toast:n}=E(),o=H(),[d,i]=c.useState(!0);return c.useEffect(()=>{e?i(!1):(n({title:"Acesso negado",description:"Você não tem permissão para acessar esta área.",variant:"destructive"}),o("/dashboard"))},[e,o,n]),d?s.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxDEV(b,{className:"h-32 w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:34,columnNumber:9},this),s.jsxDEV(b,{className:"h-64 w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:35,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:33,columnNumber:7},this):s.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[s.jsxDEV("div",{className:"flex items-center gap-3",children:[s.jsxDEV("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-primary/10",children:s.jsxDEV(hs,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:46,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:45,columnNumber:11},this),s.jsxDEV("div",{children:[s.jsxDEV("h1",{className:"text-3xl font-bold",children:"Super Admin Dashboard"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:49,columnNumber:13},this),s.jsxDEV("p",{className:"text-muted-foreground",children:"Visão global de todas as organizações do sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:50,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:48,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:44,columnNumber:9},this),s.jsxDEV(D,{onClick:()=>o("/super-admin/users"),className:"gap-2",children:[s.jsxDEV(V,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:59,columnNumber:11},this),"Gerenciar Usuários"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:43,columnNumber:7},this),s.jsxDEV(j,{className:"p-6",children:[s.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[s.jsxDEV(B,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:67,columnNumber:11},this),s.jsxDEV("h2",{className:"text-xl font-semibold",children:"Métricas Globais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:68,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:66,columnNumber:9},this),s.jsxDEV(As,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:65,columnNumber:7},this),s.jsxDEV(Os,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:74,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/Dashboard.tsx",lineNumber:41,columnNumber:5},this)}const $s=Object.freeze(Object.defineProperty({__proto__:null,default:Ss},Symbol.toStringTag,{value:"Module"}));function Ls({open:e,onOpenChange:n,user:o,onSuccess:d}){const[i,N]=c.useState(""),[p,m]=c.useState(!1),{toast:l}=E(),a=async()=>{if(i.trim().length<10){l({title:"Erro",description:"A justificativa deve ter no mínimo 10 caracteres",variant:"destructive"});return}m(!0);try{const{data:r,error:f}=await w.functions.invoke("super-admin-reset-password",{body:{targetUserId:o.user_id,reason:i.trim()}});if(f)throw f;l({title:"Sucesso",description:r.message||"Email de reset de senha enviado"}),d(),n(!1),N("")}catch(r){console.error("Error resetting password:",r),l({title:"Erro ao resetar senha",description:r.message||"Ocorreu um erro ao enviar o email",variant:"destructive"})}finally{m(!1)}};return s.jsxDEV(rs,{open:e,onOpenChange:n,children:s.jsxDEV(as,{children:[s.jsxDEV(is,{children:[s.jsxDEV(ts,{children:"Resetar Senha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:88,columnNumber:11},this),s.jsxDEV(ns,{children:["Enviar email de reset de senha para ",s.jsxDEV("strong",{children:o.email},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:90,columnNumber:49},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:87,columnNumber:9},this),s.jsxDEV("div",{className:"space-y-4",children:[s.jsxDEV(X,{children:[s.jsxDEV($,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:96,columnNumber:13},this),s.jsxDEV(Y,{children:"Um email com link de reset será enviado para o usuário. Esta ação será registrada no log de auditoria."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:97,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:95,columnNumber:11},this),s.jsxDEV("div",{className:"space-y-2",children:[s.jsxDEV(T,{htmlFor:"reason",children:["Justificativa ",s.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:105,columnNumber:29},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:104,columnNumber:13},this),s.jsxDEV(ls,{id:"reason",placeholder:"Explique o motivo do reset de senha (mínimo 10 caracteres)...",value:i,onChange:r=>N(r.target.value),rows:4,disabled:p},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:107,columnNumber:13},this),s.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[i.length,"/10 caracteres mínimos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:115,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:94,columnNumber:9},this),s.jsxDEV(os,{children:[s.jsxDEV(D,{variant:"outline",onClick:()=>n(!1),disabled:p,children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:122,columnNumber:11},this),s.jsxDEV(D,{onClick:a,disabled:p||i.trim().length<10,children:[p&&s.jsxDEV(J,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:133,columnNumber:27},this),"Enviar Email de Reset"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:129,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:121,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:86,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/ResetPasswordDialog.tsx",lineNumber:85,columnNumber:5},this)}function Ms({open:e,onOpenChange:n,user:o,onSuccess:d}){const[i,N]=c.useState(""),[p,m]=c.useState(""),[l,a]=c.useState(!1),{toast:r}=E(),{data:f}=K({queryKey:["organizations-for-transfer"],queryFn:async()=>{const{data:u,error:v}=await w.from("organizations").select("id, name, code, is_active").eq("is_active",!0).order("name");if(v)throw v;return u},enabled:e}),t=async()=>{if(!i){r({title:"Erro",description:"Selecione uma organização de destino",variant:"destructive"});return}if(p.trim().length<10){r({title:"Erro",description:"A justificativa deve ter no mínimo 10 caracteres",variant:"destructive"});return}a(!0);try{const{data:u,error:v}=await w.functions.invoke("super-admin-transfer-user",{body:{targetUserId:o.user_id,newOrgId:i,reason:p.trim()}});if(v)throw v;r({title:"Sucesso",description:u.message||"Usuário transferido com sucesso"}),d(),n(!1),N(""),m("")}catch(u){console.error("Error transferring user:",u),r({title:"Erro ao transferir usuário",description:u.message||"Ocorreu um erro durante a transferência",variant:"destructive"})}finally{a(!1)}};return s.jsxDEV(rs,{open:e,onOpenChange:n,children:s.jsxDEV(as,{children:[s.jsxDEV(is,{children:[s.jsxDEV(ts,{children:"Transferir Usuário"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:124,columnNumber:11},this),s.jsxDEV(ns,{children:["Transferir ",s.jsxDEV("strong",{children:o.email},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:126,columnNumber:24},this)," para outra organização"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:123,columnNumber:9},this),s.jsxDEV("div",{className:"space-y-4",children:[s.jsxDEV(X,{children:[s.jsxDEV($,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:132,columnNumber:13},this),s.jsxDEV(Y,{children:"O usuário será removido da organização atual e adicionado à nova organização. Esta ação será registrada no log de auditoria."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:131,columnNumber:11},this),s.jsxDEV("div",{className:"space-y-2",children:[s.jsxDEV(T,{children:"Organização Atual"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:140,columnNumber:13},this),s.jsxDEV("div",{className:"px-3 py-2 border rounded-md bg-muted",children:o.organization_name||"Sem organização"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:141,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:139,columnNumber:11},this),s.jsxDEV("div",{className:"space-y-2",children:[s.jsxDEV(T,{htmlFor:"new-org",children:["Nova Organização ",s.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:148,columnNumber:32},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:147,columnNumber:13},this),s.jsxDEV(S,{value:i,onValueChange:N,disabled:l,children:[s.jsxDEV(L,{id:"new-org",children:s.jsxDEV(M,{placeholder:"Selecione a organização destino"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:156,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:155,columnNumber:15},this),s.jsxDEV(_,{children:f?.map(u=>s.jsxDEV(h,{value:u.id,children:[u.name," (",u.code,")"]},u.id,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:160,columnNumber:19},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:158,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:146,columnNumber:11},this),s.jsxDEV("div",{className:"space-y-2",children:[s.jsxDEV(T,{htmlFor:"reason",children:["Justificativa ",s.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:170,columnNumber:29},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:169,columnNumber:13},this),s.jsxDEV(ls,{id:"reason",placeholder:"Explique o motivo da transferência (mínimo 10 caracteres)...",value:p,onChange:u=>m(u.target.value),rows:4,disabled:l},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:172,columnNumber:13},this),s.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[p.length,"/10 caracteres mínimos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:130,columnNumber:9},this),s.jsxDEV(os,{children:[s.jsxDEV(D,{variant:"outline",onClick:()=>n(!1),disabled:l,children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:187,columnNumber:11},this),s.jsxDEV(D,{onClick:t,disabled:l||!i||p.trim().length<10,children:[l&&s.jsxDEV(J,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:198,columnNumber:27},this),"Transferir Usuário"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:194,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:186,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:122,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/TransferUserDialog.tsx",lineNumber:121,columnNumber:5},this)}function _s({user:e,onSuccess:n}){const[o,d]=c.useState(!1),[i,N]=c.useState(!1);return s.jsxDEV(s.Fragment,{children:[s.jsxDEV(Q,{children:[s.jsxDEV(Z,{asChild:!0,children:s.jsxDEV(D,{variant:"ghost",size:"sm",children:s.jsxDEV(js,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:41,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:40,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:39,columnNumber:9},this),s.jsxDEV(ss,{align:"end",children:[s.jsxDEV(es,{children:"Ações do Usuário"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:45,columnNumber:11},this),s.jsxDEV(A,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:46,columnNumber:11},this),s.jsxDEV(U,{onClick:()=>d(!0),children:[s.jsxDEV(vs,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:49,columnNumber:13},this),"Resetar Senha"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:48,columnNumber:11},this),s.jsxDEV(U,{onClick:()=>N(!0),children:[s.jsxDEV(y,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:54,columnNumber:13},this),"Transferir Organização"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:53,columnNumber:11},this),s.jsxDEV(A,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:58,columnNumber:11},this),s.jsxDEV(U,{disabled:!0,children:e.is_active?s.jsxDEV(s.Fragment,{children:[s.jsxDEV(gs,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:63,columnNumber:17},this),"Desativar Usuário"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:62,columnNumber:15},this):s.jsxDEV(s.Fragment,{children:[s.jsxDEV(ws,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:68,columnNumber:17},this),"Ativar Usuário"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:67,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:44,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:38,columnNumber:7},this),s.jsxDEV(Ls,{open:o,onOpenChange:d,user:e,onSuccess:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:76,columnNumber:7},this),s.jsxDEV(Ms,{open:i,onOpenChange:N,user:e,onSuccess:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:83,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/UserActionsMenu.tsx",lineNumber:37,columnNumber:5},this)}function Cs(){const[e,n]=c.useState(""),[o,d]=c.useState("all"),[i,N]=c.useState("all"),{data:p,isLoading:m,refetch:l}=K({queryKey:["all-users"],queryFn:async()=>{const{data:t,error:u}=await w.rpc("get_all_users_summary");if(u)throw u;return t}}),a=p?.filter(t=>{const u=t.email.toLowerCase().includes(e.toLowerCase())||t.full_name?.toLowerCase().includes(e.toLowerCase())||t.organization_name?.toLowerCase().includes(e.toLowerCase()),v=o==="all"||t.role===o,ms=i==="all"||i==="active"&&t.is_active||i==="inactive"&&!t.is_active;return u&&v&&ms}),r=t=>{const u={ADMIN:"default",ANALYST:"secondary",VIEWER:"outline"};return s.jsxDEV(k,{variant:u[t]||"outline",children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:81,columnNumber:12},this)},f=t=>s.jsxDEV(k,{variant:t?"default":"destructive",children:t?"Ativo":"Inativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:86,columnNumber:7},this);return m?s.jsxDEV(j,{children:[s.jsxDEV(P,{children:s.jsxDEV(G,{className:"flex items-center gap-2",children:[s.jsxDEV(V,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:97,columnNumber:13},this),"Todos os Usuários"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:96,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:95,columnNumber:9},this),s.jsxDEV(F,{children:s.jsxDEV("div",{className:"space-y-4",children:[s.jsxDEV(b,{className:"h-10 w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:103,columnNumber:13},this),s.jsxDEV(b,{className:"h-64 w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:102,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:94,columnNumber:7},this):s.jsxDEV(j,{children:[s.jsxDEV(P,{children:s.jsxDEV(G,{className:"flex items-center gap-2",children:[s.jsxDEV(V,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:115,columnNumber:11},this),"Todos os Usuários (",a?.length||0,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:114,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:113,columnNumber:7},this),s.jsxDEV(F,{children:s.jsxDEV("div",{className:"space-y-4",children:[s.jsxDEV("div",{className:"flex gap-4 flex-wrap",children:[s.jsxDEV("div",{className:"flex-1 min-w-[200px]",children:s.jsxDEV("div",{className:"relative",children:[s.jsxDEV(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:125,columnNumber:17},this),s.jsxDEV(Es,{placeholder:"Buscar por email, nome ou organização...",value:e,onChange:t=>n(t.target.value),className:"pl-10"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:126,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:123,columnNumber:13},this),s.jsxDEV(S,{value:o,onValueChange:d,children:[s.jsxDEV(L,{className:"w-[180px]",children:s.jsxDEV(M,{placeholder:"Filtrar por Role"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:137,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:136,columnNumber:15},this),s.jsxDEV(_,{children:[s.jsxDEV(h,{value:"all",children:"Todos os Roles"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:140,columnNumber:17},this),s.jsxDEV(h,{value:"ADMIN",children:"Admin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:141,columnNumber:17},this),s.jsxDEV(h,{value:"ANALYST",children:"Analyst"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:142,columnNumber:17},this),s.jsxDEV(h,{value:"VIEWER",children:"Viewer"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:143,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:135,columnNumber:13},this),s.jsxDEV(S,{value:i,onValueChange:N,children:[s.jsxDEV(L,{className:"w-[180px]",children:s.jsxDEV(M,{placeholder:"Filtrar por Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:149,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:148,columnNumber:15},this),s.jsxDEV(_,{children:[s.jsxDEV(h,{value:"all",children:"Todos os Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:152,columnNumber:17},this),s.jsxDEV(h,{value:"active",children:"Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:153,columnNumber:17},this),s.jsxDEV(h,{value:"inactive",children:"Inativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:154,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:151,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:147,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:122,columnNumber:11},this),s.jsxDEV("div",{className:"border rounded-lg",children:s.jsxDEV(Vs,{children:[s.jsxDEV(Us,{children:s.jsxDEV(O,{children:[s.jsxDEV(g,{children:"Email"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:164,columnNumber:19},this),s.jsxDEV(g,{children:"Nome"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:165,columnNumber:19},this),s.jsxDEV(g,{children:"Organização"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:166,columnNumber:19},this),s.jsxDEV(g,{children:"Role"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:167,columnNumber:19},this),s.jsxDEV(g,{children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:168,columnNumber:19},this),s.jsxDEV(g,{children:"Último Login"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:169,columnNumber:19},this),s.jsxDEV(g,{children:"Ações"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:170,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:163,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:162,columnNumber:15},this),s.jsxDEV(Ts,{children:a?.length===0?s.jsxDEV(O,{children:s.jsxDEV(x,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Nenhum usuário encontrado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:176,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:175,columnNumber:19},this):a?.map(t=>s.jsxDEV(O,{children:[s.jsxDEV(x,{className:"font-medium",children:t.email},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:186,columnNumber:23},this),s.jsxDEV(x,{children:t.full_name||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:189,columnNumber:23},this),s.jsxDEV(x,{children:t.organization_name||s.jsxDEV("span",{className:"text-muted-foreground italic",children:"Sem organização"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:192,columnNumber:27},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:190,columnNumber:23},this),s.jsxDEV(x,{children:r(t.role)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:197,columnNumber:23},this),s.jsxDEV(x,{children:f(t.is_active)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:198,columnNumber:23},this),s.jsxDEV(x,{children:t.last_login_at?ks(new Date(t.last_login_at),"dd/MM/yyyy 'às' HH:mm",{locale:C}):"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:199,columnNumber:23},this),s.jsxDEV(x,{children:s.jsxDEV(_s,{user:t,onSuccess:l},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:209,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:208,columnNumber:23},this)]},t.user_id,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:185,columnNumber:21},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:173,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:161,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:160,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:120,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:119,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/super-admin/AllUsersTable.tsx",lineNumber:112,columnNumber:5},this)}function Rs(){const{isSuperAdmin:e,loading:n}=W(),o=H(),{toast:d}=E();return c.useEffect(()=>{!n&&!e&&(d({title:"Acesso Negado",description:"Apenas super admins podem acessar esta página",variant:"destructive"}),o("/"))},[e,n,o,d]),n?s.jsxDEV("div",{className:"container mx-auto py-8 space-y-8",children:[s.jsxDEV("div",{className:"space-y-2",children:[s.jsxDEV(b,{className:"h-8 w-64"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:28,columnNumber:11},this),s.jsxDEV(b,{className:"h-4 w-96"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:29,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:27,columnNumber:9},this),s.jsxDEV(b,{className:"h-96 w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:31,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:26,columnNumber:7},this):e?s.jsxDEV("div",{className:"container mx-auto py-8 space-y-8",children:[s.jsxDEV("div",{className:"space-y-2",children:[s.jsxDEV("h1",{className:"text-3xl font-bold",children:"Gerenciamento de Usuários"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:43,columnNumber:9},this),s.jsxDEV("p",{className:"text-muted-foreground",children:"Visualize e gerencie todos os usuários do sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:44,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:42,columnNumber:7},this),s.jsxDEV(Cs,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:49,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/super-admin/UserManagement.tsx",lineNumber:41,columnNumber:5},this):null}const Js=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"}));export{$s as D,Js as U};
