const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-About-Cbjp06Sg.js","assets/vendor-BxqCFMEq.js","assets/report-DiCcwdzf.js","assets/page-Login-DNDHFDxr.js","assets/page-MapaPage-nKVcDvgy.js","assets/page-DemoMapaTestemunhas-BBtJmD6b.js","assets/page-Profile-BXlEY1ZK.js","assets/page-PortalTitular-DYwONV4c.js","assets/page-ReportDemo-Cny1mYiW.js"])))=>i.map(i=>d[i]);
import{r as p,cn as ri,j as e,co as gr,cp as ii,cq as ni,cr as ti,cs as oi,ct as Hs,cu as ys,cv as ns,cw as mr,cx as ai,cy as lr,cz as Cr,cA as Ls,ab as Me,t as De,cB as ts,af as ce,v as Y,D as he,L as Ge,ae as te,bi as ze,F as we,a0 as ne,U as ms,cg as ui,bK as rs,e as $e,cC as ws,h as Vr,bu as ge,d as mi,cD as Ms,K as Ze,x as gs,$ as li,bq as ci,bs as Or,br as Cs,cE as Ke,ac as Er,cF as di,bN as Js,bm as Xs,o as Vs,aa as Ur,cG as bi,O as Se,c as Qs,V as Ni,c6 as Di,w as os,i as ve,bM as Os,cl as Ys,ad as fi,J as Gr,q as Hr,cH as pi,cI as yr,cJ as vi,cK as xi,cL as ji,cM as hi,cN as wr,k as gi,A as Ci,bT as Ss,bw as ke,bU as Ue,Z as Es,bX as cr,cO as Vi,cP as Oi,bh as Sr,p as Ei,cQ as Ui,cR as Gi,u as Hi,bO as yi,M as dr,cS as wi,cT as Si,aA as Pi,ag as Ai,bJ as _i,E as Ti,ap as Fs,cU as Mi,cV as ki,cW as Ii,a7 as Ri}from"./vendor-BxqCFMEq.js";import{k as le,C as f,b as C,c as V,n as _,d as h,D as Xe,B as g,o as re,q as ie,a as G,s as A,_ as as,t as B,u as Ps,G as es,H as ks,w as pe,K as zi,y as Bi}from"./page-About-Cbjp06Sg.js";import{u as de,i as qs,w as br,C as We,T as Pe,a as Ae,b as q,c as J,l as is,g as Us,I as Q,L as I,h as Is,j as Li}from"./page-Login-DNDHFDxr.js";import{D as Be,n as Le,o as He,p as ye,Y as Zs,U as ls,Z as Pr,_ as cs,S as oe,a as ae,b as ue,c as me,d as R,A as er,g as sr,h as rr,i as ir,j as nr,k as tr,l as or,m as Gs,e as ds,$ as ar,f as Ar,a0 as js,a1 as $s,s as Nr}from"./page-MapaPage-nKVcDvgy.js";import{S as Dr}from"./page-Profile-BXlEY1ZK.js";import{T as Ce,c as Ve,d as K,e as S,f as xe,g as H,P as Fi,a as qi,b as $i}from"./page-DemoMapaTestemunhas-BBtJmD6b.js";import{h as Ki,A as Wi,f as Je,p as us}from"./page-ReportDemo-Cny1mYiW.js";import{T as _r}from"./page-PortalTitular-DYwONV4c.js";const Ji={light:"",dark:".dark"},Tr=p.createContext(null);function Mr(){const r=p.useContext(Tr);if(!r)throw new Error("useChart must be used within a <ChartContainer />");return r}const bs=p.forwardRef(({id:r,className:t,children:s,config:n,...i},m)=>{const u=p.useId(),o=`chart-${r||u.replace(/:/g,"")}`;return e.jsxDEV(Tr.Provider,{value:{config:n},children:e.jsxDEV("div",{"data-chart":o,ref:m,className:le("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...i,children:[e.jsxDEV(Xi,{id:o,config:n},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:58,columnNumber:9},void 0),e.jsxDEV(gr,{children:s},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:59,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:49,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:48,columnNumber:5},void 0)});bs.displayName="Chart";const Xi=({id:r,config:t})=>{const s=Object.entries(t).filter(([n,i])=>i.theme||i.color);return s.length?e.jsxDEV("style",{dangerouslySetInnerHTML:{__html:Object.entries(Ji).map(([n,i])=>`
${i} [data-chart=${r}] {
${s.map(([m,u])=>{const o=u.theme?.[n]||u.color;return o?`  --color-${m}: ${o};`:null}).join(`
`)}
}
`).join(`
`)}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:78,columnNumber:5},void 0):null},Ns=ri,As=p.forwardRef(({active:r,payload:t,className:s,indicator:n="dot",hideLabel:i=!1,hideIndicator:m=!1,label:u,labelFormatter:o,labelClassName:a,formatter:b,color:d,nameKey:D,labelKey:v},N)=>{const{config:x}=Mr(),l=p.useMemo(()=>{if(i||!t?.length)return null;const[c]=t,O=`${v||c.dataKey||c.name||"value"}`,T=Ks(x,c,O),M=!v&&typeof u=="string"?x[u]?.label||u:T?.label;return o?e.jsxDEV("div",{className:le("font-medium",a),children:o(M,t)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:149,columnNumber:11},void 0):M?e.jsxDEV("div",{className:le("font-medium",a),children:M},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:159,columnNumber:14},void 0):null},[u,o,t,i,a,x,v]);if(!r||!t?.length)return null;const j=t.length===1&&n!=="dot";return e.jsxDEV("div",{ref:N,className:le("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",s),children:[j?null:l,e.jsxDEV("div",{className:"grid gap-1.5",children:t.map((c,O)=>{const T=`${D||c.name||c.dataKey||"value"}`,M=Ks(x,c,T),z=d||c.payload.fill||c.color;return e.jsxDEV("div",{className:le("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:b&&c?.value!==void 0&&c.name?b(c.value,c.name,c,O,c.payload):e.jsxDEV(e.Fragment,{children:[M?.icon?e.jsxDEV(M.icon,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:204,columnNumber:23},void 0):!m&&e.jsxDEV("div",{className:le("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":j&&n==="dashed"}),style:{"--color-bg":z,"--color-border":z}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:207,columnNumber:25},void 0),e.jsxDEV("div",{className:le("flex flex-1 justify-between leading-none",j?"items-end":"items-center"),children:[e.jsxDEV("div",{className:"grid gap-1.5",children:[j?l:null,e.jsxDEV("span",{className:"text-muted-foreground",children:M?.label||c.name},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:235,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:233,columnNumber:23},void 0),c.value&&e.jsxDEV("span",{className:"font-mono font-medium tabular-nums text-foreground",children:c.value.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:240,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:227,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:202,columnNumber:19},void 0)},c.dataKey,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:192,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:185,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:177,columnNumber:7},void 0)});As.displayName="ChartTooltip";const Qi=p.forwardRef(({className:r,hideIcon:t=!1,payload:s,verticalAlign:n="bottom",nameKey:i},m)=>{const{config:u}=Mr();return s?.length?e.jsxDEV("div",{ref:m,className:le("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",r),children:s.map(o=>{const a=`${i||o.dataKey||"value"}`,b=Ks(u,o,a);return e.jsxDEV("div",{className:le("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[b?.icon&&!t?e.jsxDEV(b.icon,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:298,columnNumber:17},void 0):e.jsxDEV("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:o.color}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:300,columnNumber:17},void 0),b?.label]},o.value,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:291,columnNumber:13},void 0)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/chart.tsx",lineNumber:278,columnNumber:7},void 0):null});Qi.displayName="ChartLegend";function Ks(r,t,s){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let i=s;return s in t&&typeof t[s]=="string"?i=t[s]:n&&s in n&&typeof n[s]=="string"&&(i=n[s]),i in r?r[i]:r[s]}const Rs={low:"#10b981",medium:"#f59e0b",high:"#ef4444"},ur={requests:{label:"Consultas",color:"hsl(var(--chart-1))"},cost_cents:{label:"Custo (centavos)",color:"hsl(var(--chart-2))"},tokens_in:{label:"Tokens Entrada",color:"hsl(var(--chart-3))"},tokens_out:{label:"Tokens Saída",color:"hsl(var(--chart-4))"},avgRisk:{label:"Risco Médio",color:"hsl(var(--chart-5))"}},kr=({data:r})=>r?.length?e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Uso da API OpenAI"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:100,columnNumber:9},void 0),e.jsxDEV(_,{children:"Consultas e custos por dia"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:101,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:99,columnNumber:7},void 0),e.jsxDEV(h,{children:e.jsxDEV(bs,{config:ur,className:"h-[300px]",children:e.jsxDEV(oi,{data:r,children:[e.jsxDEV(Hs,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:106,columnNumber:13},void 0),e.jsxDEV(ys,{dataKey:"date",tickFormatter:t=>new Date(t).toLocaleDateString("pt-BR",{month:"short",day:"numeric"})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:107,columnNumber:13},void 0),e.jsxDEV(ns,{yAxisId:"left"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV(ns,{yAxisId:"right",orientation:"right"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:117,columnNumber:13},void 0),e.jsxDEV(Ns,{content:e.jsxDEV(As,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:119,columnNumber:24},void 0),labelFormatter:t=>new Date(t).toLocaleDateString("pt-BR")},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:118,columnNumber:13},void 0),e.jsxDEV(mr,{yAxisId:"left",type:"monotone",dataKey:"requests",stackId:"1",stroke:"var(--color-requests)",fill:"var(--color-requests)",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:124,columnNumber:13},void 0),e.jsxDEV(mr,{yAxisId:"right",type:"monotone",dataKey:"cost_cents",stackId:"2",stroke:"var(--color-cost_cents)",fill:"var(--color-cost_cents)",fillOpacity:.3},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:133,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:105,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:104,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:103,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:98,columnNumber:5},void 0):e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Uso da API OpenAI"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:85,columnNumber:11},void 0),e.jsxDEV(_,{children:"Últimos 30 dias"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:86,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:84,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhum dado disponível"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:89,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:83,columnNumber:7},void 0),Ir=({data:r})=>{const t=[{name:"Baixo Risco",value:r.low,color:Rs.low},{name:"Médio Risco",value:r.medium,color:Rs.medium},{name:"Alto Risco",value:r.high,color:Rs.high}].filter(s=>s.value>0);return t.length===0?e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Distribuição de Riscos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:162,columnNumber:11},void 0),e.jsxDEV(_,{children:"Classificação dos processos por nível de risco"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:161,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhum processo com score de risco"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:168,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:167,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:160,columnNumber:7},void 0):e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Distribuição de Riscos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:179,columnNumber:9},void 0),e.jsxDEV(_,{children:"Classificação dos processos por nível de risco"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:180,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:178,columnNumber:7},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"h-[300px]",children:e.jsxDEV(gr,{width:"100%",height:"100%",children:e.jsxDEV(ii,{children:[e.jsxDEV(ni,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:t.map((s,n)=>e.jsxDEV(ti,{fill:s.color},`cell-${n}`,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:198,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:188,columnNumber:15},void 0),e.jsxDEV(Ns,{content:({active:s,payload:n})=>{if(s&&n&&n.length){const i=n[0];return e.jsxDEV("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:e.jsxDEV("div",{className:"grid gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:i.payload.color}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:209,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-medium",children:i.payload.name},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:213,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:208,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[i.value," processos (",(Number(i.value)/(t.reduce((m,u)=>m+u.value,0)||1)*100).toFixed(1),"%)"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:217,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:207,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:206,columnNumber:23},void 0)}return null}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:187,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:186,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:185,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-center gap-6 mt-4",children:t.map(s=>e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:s.color}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:242,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-sm",children:[s.name,": ",s.value]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:246,columnNumber:15},void 0)]},s.name,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:241,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:239,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:184,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:177,columnNumber:5},void 0)},Rr=({data:r})=>r?.length?e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Risco por Comarca"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:281,columnNumber:9},void 0),e.jsxDEV(_,{children:"Top 10 comarcas com maior risco médio"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:282,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:280,columnNumber:7},void 0),e.jsxDEV(h,{children:e.jsxDEV(bs,{config:ur,className:"h-[400px]",children:e.jsxDEV(Cr,{data:r,layout:"horizontal",margin:{left:120},children:[e.jsxDEV(Hs,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:287,columnNumber:13},void 0),e.jsxDEV(ys,{type:"number",domain:[0,10]},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:288,columnNumber:13},void 0),e.jsxDEV(ns,{type:"category",dataKey:"comarca",width:100,tick:{fontSize:12}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:289,columnNumber:13},void 0),e.jsxDEV(Ns,{content:({active:t,payload:s,label:n})=>{if(t&&s&&s.length){const i=s[0].payload;return e.jsxDEV("div",{className:"rounded-lg border bg-background p-3 shadow-sm",children:e.jsxDEV("div",{className:"grid gap-2",children:[e.jsxDEV("div",{className:"font-medium",children:n},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:302,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("div",{children:["Risco Médio:"," ",e.jsxDEV("span",{className:"font-mono",children:i.avgRisk.toFixed(1)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:306,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:304,columnNumber:27},void 0),e.jsxDEV("div",{children:["Total Processos:"," ",e.jsxDEV("span",{className:"font-mono",children:i.count},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:312,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:310,columnNumber:27},void 0),e.jsxDEV("div",{children:["Alto Risco:"," ",e.jsxDEV("span",{className:"font-mono",children:i.highRiskCount},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:316,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:314,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:303,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:301,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:300,columnNumber:21},void 0)}return null}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:295,columnNumber:13},void 0),e.jsxDEV(Ls,{dataKey:"avgRisk",fill:"var(--color-avgRisk)",radius:[0,4,4,0]},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:328,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:286,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:285,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:284,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:279,columnNumber:5},void 0):e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Risco por Comarca"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:264,columnNumber:11},void 0),e.jsxDEV(_,{children:"Top 10 comarcas com maior risco médio"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:265,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:263,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhum dado de comarca disponível"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:270,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:269,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:262,columnNumber:7},void 0),zr=({data:r})=>r?.length?e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Uso de Tokens"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:360,columnNumber:9},void 0),e.jsxDEV(_,{children:"Tokens de entrada e saída por dia"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:361,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:359,columnNumber:7},void 0),e.jsxDEV(h,{children:e.jsxDEV(bs,{config:ur,className:"h-[300px]",children:e.jsxDEV(ai,{data:r,children:[e.jsxDEV(Hs,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:366,columnNumber:13},void 0),e.jsxDEV(ys,{dataKey:"date",tickFormatter:t=>new Date(t).toLocaleDateString("pt-BR",{month:"short",day:"numeric"})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:367,columnNumber:13},void 0),e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:376,columnNumber:13},void 0),e.jsxDEV(Ns,{content:e.jsxDEV(As,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:378,columnNumber:24},void 0),labelFormatter:t=>new Date(t).toLocaleDateString("pt-BR")},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:377,columnNumber:13},void 0),e.jsxDEV(lr,{type:"monotone",dataKey:"tokens_in",stroke:"var(--color-tokens_in)",strokeWidth:2,dot:{r:4}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:383,columnNumber:13},void 0),e.jsxDEV(lr,{type:"monotone",dataKey:"tokens_out",stroke:"var(--color-tokens_out)",strokeWidth:2,dot:{r:4}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:390,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:365,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:364,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:363,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:358,columnNumber:5},void 0):e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Uso de Tokens"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:345,columnNumber:11},void 0),e.jsxDEV(_,{children:"Tokens de entrada e saída por dia"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:346,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:344,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhum dado disponível"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:349,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:348,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:343,columnNumber:7},void 0);function Br({orgId:r,onSuccess:t}){const[s,n]=p.useState(!1),[i,m]=p.useState(!1),[u,o]=p.useState(!0),[a,b]=p.useState(null),{toast:d}=Xe(),D=async N=>{if(!r){d({title:"Erro",description:"ID da organização não encontrado",variant:"destructive"});return}m(!0);try{const{data:x,error:l}=await A.functions.invoke("review-update-dados",{body:{orgId:r,dryRun:N}});if(l)throw new Error(`Erro na função: ${l.message}`);const j=x;b(j),o(N),N||(d({title:"Revisão concluída",description:`${j.flags_updated} registros atualizados, ${j.stubs_created} stubs criados`}),t?.())}catch(x){console.error("Erro na revisão:",x),d({title:"Erro na revisão",description:x instanceof Error?x.message:"Erro desconhecido",variant:"destructive"})}finally{m(!1)}},v=()=>{if(!a)return;const N={timestamp:new Date().toISOString(),dry_run:u,...a},x=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),l=URL.createObjectURL(x),j=document.createElement("a");j.href=l,j.download=`assistjur-review-${u?"preview":"applied"}-${new Date().toISOString().split("T")[0]}.json`,j.click(),URL.revokeObjectURL(l)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(g,{onClick:()=>n(!0),disabled:i,className:"gap-2",children:i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:140,columnNumber:13},this),"Processando..."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:139,columnNumber:11},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Me,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:145,columnNumber:13},this),"Revisar & Atualizar"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:144,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:133,columnNumber:7},this),e.jsxDEV(Be,{open:s,onOpenChange:n,children:e.jsxDEV(Le,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxDEV(He,{children:e.jsxDEV(ye,{className:"flex items-center gap-2",children:[e.jsxDEV(Me,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:155,columnNumber:15},this),"Revisão & Atualização de Dados - AssistJur.IA"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:154,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:153,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-6",children:a?e.jsxDEV(e.Fragment,{children:[a.errors.length>0?e.jsxDEV(re,{variant:"destructive",children:[e.jsxDEV(ce,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:192,columnNumber:21},this),e.jsxDEV(ie,{children:[a.errors.length," erro(s) encontrado(s) durante a execução."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:193,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:191,columnNumber:19},this):e.jsxDEV(re,{className:"border-success",children:[e.jsxDEV(Y,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:200,columnNumber:21},this),e.jsxDEV(ie,{children:["Revisão ",u?"simulada":"aplicada"," com sucesso! Tempo de execução: ",a.execution_time_ms,"ms"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:201,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:199,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"pb-2",children:e.jsxDEV(V,{className:"text-sm",children:"Stubs Criados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:212,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:211,columnNumber:21},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-2xl font-bold text-primary",children:a.stubs_created},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:215,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:214,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:210,columnNumber:19},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"pb-2",children:e.jsxDEV(V,{className:"text-sm",children:"Flags Atualizadas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:223,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:222,columnNumber:21},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-2xl font-bold text-success",children:a.flags_updated},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:228,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:227,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:221,columnNumber:19},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"pb-2",children:e.jsxDEV(V,{className:"text-sm",children:"Triangulações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:236,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:235,columnNumber:21},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-2xl font-bold text-warning",children:a.statistics.triangulacoes_detected},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:239,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:238,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:234,columnNumber:19},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"pb-2",children:e.jsxDEV(V,{className:"text-sm",children:"Prova Emprestada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:247,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:246,columnNumber:21},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-2xl font-bold text-destructive",children:a.statistics.prova_emprestada_detected},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:252,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:251,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:245,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:209,columnNumber:17},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Detecções Analíticas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:262,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:261,columnNumber:19},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:"Trocas Diretas:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:267,columnNumber:25},this),e.jsxDEV(G,{variant:"outline",children:a.statistics.trocas_detected},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:268,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:266,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:"Duplo Papel:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:273,columnNumber:25},this),e.jsxDEV(G,{variant:"outline",children:a.statistics.duplo_papel_detected},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:274,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:272,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:"Total Processos:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:279,columnNumber:25},this),e.jsxDEV(G,{variant:"secondary",children:a.statistics.total_processos},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:280,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:278,columnNumber:23},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:"Total Testemunhas:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:285,columnNumber:25},this),e.jsxDEV(G,{variant:"secondary",children:a.statistics.total_testemunhas},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:286,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:284,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:265,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:264,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:260,columnNumber:17},this),a.warnings.length>0&&e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-warning",children:["Avisos (",a.warnings.length,")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:298,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:297,columnNumber:21},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:a.warnings.map((N,x)=>e.jsxDEV("div",{className:"flex items-start gap-2 p-2 rounded border",children:[e.jsxDEV(ce,{className:"h-4 w-4 text-warning mt-0.5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:309,columnNumber:29},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(G,{variant:"outline",className:"text-xs",children:N.type},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:312,columnNumber:33},this),N.cnj&&e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["CNJ: ",N.cnj]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:316,columnNumber:35},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:311,columnNumber:31},this),e.jsxDEV("p",{className:"text-sm mt-1",children:N.message},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:321,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:310,columnNumber:29},this)]},x,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:305,columnNumber:27},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:303,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:302,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:296,columnNumber:19},this),a.errors.length>0&&e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-destructive",children:["Erros (",a.errors.length,")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:334,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:333,columnNumber:21},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:a.errors.map((N,x)=>e.jsxDEV("div",{className:"flex items-start gap-2 p-2 rounded border border-destructive/20",children:[e.jsxDEV(ce,{className:"h-4 w-4 text-destructive mt-0.5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:345,columnNumber:29},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV(G,{variant:"destructive",className:"text-xs mb-1",children:N.type},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:347,columnNumber:31},this),e.jsxDEV("p",{className:"text-sm",children:N.message},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:353,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:346,columnNumber:29},this)]},x,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:341,columnNumber:27},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:339,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:338,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:332,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:188,columnNumber:15},this):e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Execute uma revisão para recomputar flags analíticas, reconciliar CNJs e validar dados."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:163,columnNumber:17},this),e.jsxDEV("div",{className:"flex gap-2 justify-center",children:[e.jsxDEV(g,{onClick:()=>D(!0),disabled:i,variant:"outline",className:"gap-2",children:[e.jsxDEV(De,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:174,columnNumber:21},this),"Dry Run (Preview)"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:168,columnNumber:19},this),e.jsxDEV(g,{onClick:()=>D(!1),disabled:i,className:"gap-2",children:[e.jsxDEV(ts,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:182,columnNumber:21},this),"Aplicar Mudanças"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:177,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:167,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:162,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:160,columnNumber:11},this),e.jsxDEV(Zs,{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxDEV("div",{className:"flex gap-2",children:[a&&e.jsxDEV(g,{variant:"outline",onClick:v,children:[e.jsxDEV(he,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:369,columnNumber:19},this),"Baixar Relatório"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:368,columnNumber:17},this),e.jsxDEV(g,{variant:"outline",onClick:()=>n(!1),children:"Fechar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:366,columnNumber:13},this),a&&u&&e.jsxDEV(g,{onClick:()=>D(!1),disabled:i||a.errors.length>0,className:"ml-auto",children:[e.jsxDEV(ts,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:384,columnNumber:17},this),"Aplicar Mudanças"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:379,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:365,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:152,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:151,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:132,columnNumber:5},this)}function Yi({isRunning:r}){const t=r?65:0,s=[{id:"validate",label:"Validando operações",completed:!0},{id:"backup",label:"Criando backup",completed:!0},{id:"cleanup",label:"Executando limpeza",completed:!1,inProgress:r},{id:"verify",label:"Verificando resultados",completed:!1}];return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(ls,{value:t,className:"w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:27,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-2",children:s.map(n=>e.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[n.completed?e.jsxDEV(Y,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:33,columnNumber:15},this):n.inProgress?e.jsxDEV(Ge,{className:"h-4 w-4 animate-spin text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:35,columnNumber:15},this):e.jsxDEV("div",{className:"h-4 w-4 rounded-full border border-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:37,columnNumber:15},this),e.jsxDEV("span",{className:n.completed?"text-success":n.inProgress?"text-primary font-medium":"text-muted-foreground",children:n.label},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:39,columnNumber:13},this)]},n.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:31,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:29,columnNumber:7},this),r&&e.jsxDEV("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-3 text-sm",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(te,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:57,columnNumber:13},this),e.jsxDEV("span",{className:"font-medium",children:"Processamento em andamento"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:58,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"A limpeza pode levar alguns minutos dependendo do volume de dados."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:26,columnNumber:5},this)}const Zi=[{id:"invalid_cnjs",label:"CNJs Inválidos",description:"Remove processos com CNJs que não têm 20 dígitos numéricos",severity:"medium",enabled:!0},{id:"empty_fields",label:"Campos Obrigatórios Vazios",description:"Remove processos sem nome do reclamante ou réu",severity:"medium",enabled:!0},{id:"duplicates",label:"Duplicatas",description:"Remove processos duplicados (mantém o mais recente)",severity:"high",enabled:!1},{id:"normalize_cnjs",label:"Normalizar CNJs",description:"Remove pontuação e padroniza formato dos CNJs válidos",severity:"low",enabled:!0},{id:"hard_delete_old",label:"Exclusão Permanente",description:"Remove permanentemente processos excluídos há mais de 30 dias",severity:"high",enabled:!1}],en=r=>{switch(r){case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};function sn({open:r,onOpenChange:t}){const[s,n]=p.useState(null),[i,m]=p.useState(Zi),[u,o]=p.useState(!1),[a,b]=p.useState(!1),[d,D]=p.useState("preview"),{profile:v}=de(),{toast:N}=Xe();p.useEffect(()=>{r&&v?.organization_id&&x()},[r,v]);const x=async()=>{qs(v?.organization_id)&&(o(!0),await br(async()=>{const{data:U}=await A.auth.getSession(),E=U?.session?.access_token;if(!E)throw new Error("Token de autenticação não encontrado");const{data:y,error:k}=await A.functions.invoke("database-cleanup",{body:{orgId:v.organization_id,preview:!0},headers:{Authorization:`Bearer ${E}`}});if(k)throw k;if(y?.error)throw new Error(y.error);n(y?.preview)},"CleanupModal.loadPreview").finally(()=>{o(!1)}))},l=(U,E)=>{m(y=>y.map(k=>k.id===U?{...k,enabled:E}:k))},j=U=>{if(!s)return 0;switch(U){case"invalid_cnjs":return s.invalid_cnjs;case"empty_fields":return s.empty_reclamante+s.empty_reu;case"duplicates":return s.duplicates;case"normalize_cnjs":return s.invalid_cnjs;case"hard_delete_old":return s.soft_deleted;default:return 0}},c=async()=>{if(!qs(v?.organization_id))return;const U=i.filter(E=>E.enabled).map(E=>E.id);if(U.length===0){N({title:"Nenhuma operação selecionada",description:"Selecione pelo menos uma operação para continuar",variant:"destructive"});return}D("running"),b(!0);try{await br(async()=>{const{data:E}=await A.auth.getSession(),y=E?.session?.access_token;if(!y)throw new Error("Token de autenticação não encontrado");const{data:k,error:L}=await A.functions.invoke("database-cleanup",{body:{orgId:v.organization_id,operations:U},headers:{Authorization:`Bearer ${y}`}});if(L)throw L;if(k?.error)throw new Error(k.error);if(k?.success)N({title:"Limpeza concluída",description:`${k.totalProcessed} registros processados`,variant:"default"}),t(!1),window.location.reload();else{const X=k?.results?.filter(P=>!P.success)||[];if(X.length>0)throw new Error(`Algumas operações falharam: ${X.map(P=>P.message).join(", ")}`)}},"CleanupModal.executeCleanup")}catch{D("confirm")}finally{b(!1)}},O=()=>{a||(t(!1),D("preview"),n(null))},T=()=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(He,{children:e.jsxDEV(ye,{className:"flex items-center gap-2",children:[e.jsxDEV(ze,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:273,columnNumber:11},this),"Limpeza da Base de Dados"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:272,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:271,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-6",children:u?e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[e.jsxDEV(Ge,{className:"h-8 w-8 animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:281,columnNumber:13},this),e.jsxDEV("span",{className:"ml-2",children:"Carregando preview..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:280,columnNumber:11},this):s?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(ce,{className:"h-5 w-5 text-warning"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:289,columnNumber:19},this),"Resumo da Base"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:288,columnNumber:17},this),e.jsxDEV(_,{children:"Problemas detectados na base de dados da sua organização"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:287,columnNumber:15},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-destructive",children:s.total_issues},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:298,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"problemas detectados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:297,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:296,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:286,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h3",{className:"text-lg font-semibold",children:"Operações Disponíveis"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:309,columnNumber:15},this),i.map(U=>{const E=j(U.id);return e.jsxDEV(f,{className:"border-2",children:e.jsxDEV(h,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(We,{id:U.id,checked:U.enabled,onCheckedChange:y=>l(U.id,y)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:316,columnNumber:25},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV("label",{htmlFor:U.id,className:"font-medium cursor-pointer",children:U.label},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:328,columnNumber:29},this),e.jsxDEV(G,{className:en(U.severity),children:U.severity},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:334,columnNumber:29},this),E>0&&e.jsxDEV(G,{variant:"outline",children:[E," registros"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:340,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:327,columnNumber:27},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:U.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:343,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:326,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:315,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:314,columnNumber:21},this)},U.id,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:313,columnNumber:19},this)})]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:308,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:285,columnNumber:11},this):null},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:278,columnNumber:7},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV(g,{variant:"outline",onClick:O,children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:358,columnNumber:9},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(g,{variant:"outline",onClick:x,children:"Atualizar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:362,columnNumber:11},this),e.jsxDEV(g,{onClick:()=>D("confirm"),disabled:!i.some(U=>U.enabled)||u,children:"Continuar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:365,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:361,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:357,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:270,columnNumber:5},this),M=()=>{const U=i.filter(y=>y.enabled),E=U.reduce((y,k)=>y+j(k.id),0);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(He,{children:e.jsxDEV(ye,{className:"flex items-center gap-2 text-destructive",children:[e.jsxDEV(te,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:387,columnNumber:13},this),"Confirmação de Limpeza"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:386,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:385,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[e.jsxDEV("p",{className:"font-semibold text-destructive mb-2",children:"⚠️ Atenção!"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:394,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm",children:["Esta operação irá processar"," ",e.jsxDEV("strong",{children:[E," registros"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:397,columnNumber:15},this)," e pode ser irreversível. Certifique-se de que tem um backup da base de dados."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:395,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:393,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-semibold",children:"Operações selecionadas:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:403,columnNumber:13},this),U.map(y=>e.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxDEV(Y,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:406,columnNumber:17},this),y.label," - ",j(y.id)," registros"]},y.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:405,columnNumber:15},this))]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:402,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:392,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV(g,{variant:"outline",onClick:()=>D("preview"),children:"Voltar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:414,columnNumber:11},this),e.jsxDEV(g,{variant:"destructive",onClick:c,children:"Confirmar Limpeza"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:417,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:413,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:384,columnNumber:7},this)},z=()=>e.jsxDEV(e.Fragment,{children:[e.jsxDEV(He,{children:e.jsxDEV(ye,{className:"flex items-center gap-2",children:[e.jsxDEV(Ge,{className:"h-5 w-5 animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:429,columnNumber:11},this),"Executando Limpeza"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:428,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:427,columnNumber:7},this),e.jsxDEV(Yi,{isRunning:a},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:434,columnNumber:7},this),e.jsxDEV("div",{className:"text-center text-sm text-muted-foreground",children:"Por favor, aguarde. A limpeza está em andamento..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:436,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:426,columnNumber:5},this);return e.jsxDEV(Be,{open:r,onOpenChange:O,children:e.jsxDEV(Le,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[d==="preview"&&T(),d==="confirm"&&M(),d==="running"&&z()]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:444,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:443,columnNumber:5},this)}function rn({className:r}){const[t,s]=p.useState(!1);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(g,{onClick:()=>s(!0),variant:"outline",size:"sm",className:r,children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/DatabaseCleanupButton.tsx",lineNumber:23,columnNumber:9},this),"Limpar Base"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/DatabaseCleanupButton.tsx",lineNumber:17,columnNumber:7},this),e.jsxDEV(sn,{open:t,onOpenChange:s},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/DatabaseCleanupButton.tsx",lineNumber:27,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/DatabaseCleanupButton.tsx",lineNumber:16,columnNumber:5},this)}const nn=()=>{const[r,t]=p.useState(!1),[s,n]=p.useState(null),[i,m]=p.useState(null),u=async()=>{t(!0),m(null),n(null);try{const{data:o,error:a}=await A.functions.invoke("process-witness-data");if(a)throw a;n(o),ne.success("Dados de testemunhas processados com sucesso!")}catch(o){const a=o.message||"Erro ao processar dados de testemunhas";m(a),ne.error(a)}finally{t(!1)}};return e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(we,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:54,columnNumber:11},void 0),"Processamento de Dados de Testemunhas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:53,columnNumber:9},void 0),e.jsxDEV(_,{children:"Processa os dados importados para extrair e popular informações de testemunhas nos processos. Esta ação deve ser executada após uma importação para garantir que os dados apareçam no mapa de testemunhas."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:57,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:52,columnNumber:7},void 0),e.jsxDEV(h,{className:"space-y-4",children:[i&&e.jsxDEV(re,{variant:"destructive",children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:66,columnNumber:13},void 0),e.jsxDEV(ie,{children:i},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:67,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:65,columnNumber:11},void 0),s&&e.jsxDEV(re,{children:[e.jsxDEV(Y,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV(ie,{children:e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("p",{children:e.jsxDEV("strong",{children:s.message},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:77,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:76,columnNumber:17},void 0),e.jsxDEV("p",{children:["Processos processados: ",s.processedCount," de"," ",s.totalProcessos]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:79,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:75,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:74,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:72,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col gap-2",children:[e.jsxDEV(g,{onClick:u,disabled:r,className:"w-full",children:r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ge,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:96,columnNumber:17},void 0),"Processando dados..."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:95,columnNumber:15},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(we,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:101,columnNumber:17},void 0),"Processar Dados de Testemunhas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:100,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:89,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Este processo pode levar alguns minutos dependendo da quantidade de dados."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:107,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:63,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:51,columnNumber:5},void 0)},tn=()=>{de();const[r,t]=p.useState(!0),[s,n]=p.useState(null),[i,m]=p.useState(null),[u,o]=p.useState(null),[a,b]=p.useState("overview"),d=async v=>{try{const{data:N,error:x}=await A.functions.invoke("admin-analytics",{body:{type:v}});if(x)throw x;return N}catch(N){return console.error("Error fetching analytics:",N),ne.error("Erro ao carregar dados analíticos"),null}};p.useEffect(()=>{(async()=>{t(!0);const N=await d("overview");N&&n(N),t(!1)})()},[]);const D=async v=>{if(v==="usage"&&!i){const N=await d("usage");N&&m(N)}else if(v==="risk_patterns"&&!u){const N=await d("risk_patterns");N&&o(N)}};return r?e.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:119,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:118,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Analítico"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:127,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Insights avançados e métricas do sistema"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:130,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:126,columnNumber:7},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(we,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:139,columnNumber:13},void 0),"Operações de Dados"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:138,columnNumber:11},void 0),e.jsxDEV(_,{children:"Ferramentas administrativas para manutenção e otimização da base"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:142,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:137,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"flex gap-3",children:[e.jsxDEV(Br,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV(rn,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:147,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:146,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:136,columnNumber:7},void 0),e.jsxDEV(nn,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:155,columnNumber:7},void 0),e.jsxDEV(Pe,{value:a,onValueChange:v=>{b(v),D(v)},className:"w-full",children:[e.jsxDEV(Ae,{className:"grid w-full grid-cols-4",children:[e.jsxDEV(q,{value:"overview",children:"Visão Geral"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:166,columnNumber:11},void 0),e.jsxDEV(q,{value:"usage",children:"Uso & Custos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:167,columnNumber:11},void 0),e.jsxDEV(q,{value:"risk_patterns",children:"Padrões de Risco"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:168,columnNumber:11},void 0),e.jsxDEV(q,{value:"performance",children:"Performance"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:169,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:165,columnNumber:9},void 0),e.jsxDEV(J,{value:"overview",className:"space-y-6",children:[e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Total Processos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:177,columnNumber:17},void 0),e.jsxDEV(we,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:180,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:176,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:s?.counts?.processos?.toLocaleString()||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:183,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Registros na base ativa"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:175,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Pessoas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:194,columnNumber:17},void 0),e.jsxDEV(ms,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:195,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:s?.counts?.pessoas?.toLocaleString()||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:198,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Cadastros únicos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:201,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:197,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Conversas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:209,columnNumber:17},void 0),e.jsxDEV(ui,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:208,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:s?.counts?.conversations||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:213,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Interações com IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:216,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:212,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:207,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Versão Ativa"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:224,columnNumber:17},void 0),e.jsxDEV(rs,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:227,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:223,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:["v",s?.counts?.activeVersion||"N/A"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:230,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Base de dados atual"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:233,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:229,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:222,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:174,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxDEV(Ir,{data:s?.riskDistribution||{low:0,medium:0,high:0}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:242,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Atividade Recente"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:250,columnNumber:17},void 0),e.jsxDEV(_,{children:"Últimas interações com o sistema"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:251,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:249,columnNumber:15},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-3",children:s?.recentActivity?.slice(0,5).map((v,N)=>e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-primary rounded-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:261,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm font-medium",children:[v.role==="user"?"Pergunta":"Resposta"," ","- Conversa"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:263,columnNumber:27},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:new Date(v.created_at).toLocaleString("pt-BR")},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:267,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:262,columnNumber:25},void 0)]},N,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:260,columnNumber:23},void 0))||e.jsxDEV("div",{className:"text-center text-muted-foreground py-4",children:"Nenhuma atividade recente"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:275,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:256,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:255,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:248,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:241,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:172,columnNumber:9},void 0),e.jsxDEV(J,{value:"usage",className:"space-y-6",children:i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Total Consultas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:292,columnNumber:21},void 0),e.jsxDEV($e,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:295,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:291,columnNumber:19},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:i.totalStats.totalRequests.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:298,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Últimos 30 dias"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:301,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:297,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:290,columnNumber:17},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Custo Total"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:309,columnNumber:21},void 0),e.jsxDEV(ws,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:312,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:308,columnNumber:19},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:["$",(i.totalStats.totalCost/100).toFixed(2)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:315,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"OpenAI API"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:318,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:314,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:307,columnNumber:17},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Tokens Processados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:324,columnNumber:21},void 0),e.jsxDEV(Vr,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:327,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:323,columnNumber:19},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:[(i.totalStats.totalTokens/1e3).toFixed(1),"K"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:330,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Entrada + Saída"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:333,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:329,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:322,columnNumber:17},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Tempo Médio"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:341,columnNumber:21},void 0),e.jsxDEV(rs,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:344,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:340,columnNumber:19},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:[(i.totalStats.avgResponseTime/1e3).toFixed(1),"s"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:347,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Resposta da API"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:351,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:346,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:339,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:289,columnNumber:15},void 0),e.jsxDEV("div",{className:"grid gap-6",children:[e.jsxDEV(kr,{data:i.dailyUsage},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:360,columnNumber:17},void 0),e.jsxDEV(zr,{data:i.dailyUsage},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:361,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:359,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:287,columnNumber:13},void 0):e.jsxDEV("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:366,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:365,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:285,columnNumber:9},void 0),e.jsxDEV(J,{value:"risk_patterns",className:"space-y-6",children:u?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-sm font-medium",children:"Risco Médio Geral"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:378,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:377,columnNumber:19},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-3xl font-bold",children:u.avgRisk?.toFixed(1)||"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:383,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["De ",u.totalProcessos," processos"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:386,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:382,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:376,columnNumber:17},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-sm font-medium",children:"Alto Risco"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:394,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:393,columnNumber:19},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-3xl font-bold text-red-600",children:[u.highRiskPercentage?.toFixed(1)||0,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:399,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Processos com score ≥ 8"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:402,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:398,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:392,columnNumber:17},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-sm font-medium",children:"Total Analisado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:410,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:409,columnNumber:19},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-3xl font-bold",children:u.totalProcessos?.toLocaleString()||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:415,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Processos com score"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:418,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:414,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:408,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:375,columnNumber:15},void 0),e.jsxDEV(Rr,{data:u.comarcaStats},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:426,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:373,columnNumber:13},void 0):e.jsxDEV("div",{className:"flex items-center justify-center min-h-[300px]",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:430,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:429,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:371,columnNumber:9},void 0),e.jsxDEV(J,{value:"performance",className:"space-y-6",children:e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Métricas de Performance"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:438,columnNumber:15},void 0),e.jsxDEV(_,{children:"Em desenvolvimento - métricas de sistema e performance"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:439,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:437,columnNumber:13},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"flex items-center justify-center h-[200px] text-muted-foreground",children:"🚧 Funcionalidade em desenvolvimento"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:444,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:443,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:436,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:435,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:157,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:125,columnNumber:5},void 0)},ft=Object.freeze(Object.defineProperty({__proto__:null,default:tn},Symbol.toStringTag,{value:"Module"})),ss=async()=>{if(typeof window>"u"||!Ki("analytics"))return!1;const{data:{user:r}}=await A.auth.getUser();return!!r},on=()=>{const[r,t]=p.useState(!1),[s,n]=p.useState(null),[i,m]=p.useState("30d"),[u,o]=p.useState(!1),[a,b]=p.useState(null),[d,D]=p.useState(null),v=async j=>{if(await ss()){t(!0);try{const{data:c,error:O}=await A.functions.invoke("admin-analytics",{body:{type:"detailed_report",period:j}});if(O)throw O;n(c)}catch(c){console.error("Error fetching detailed analytics:",c),ne.error("Erro ao carregar relatório detalhado")}finally{t(!1)}}},N=async()=>{if(await ss())try{const{data:j,error:c}=await A.functions.invoke("admin-analytics",{body:{type:"usage",period:i}});if(c)throw c;b(j)}catch(j){console.error("Error fetching usage data:",j)}},x=async()=>{if(await ss())try{const{data:j,error:c}=await A.functions.invoke("admin-analytics",{body:{type:"ai_patterns"}});if(c)throw c;D(j)}catch(j){console.error("Error fetching patterns data:",j)}},l=async j=>{if(await ss()){o(!0);try{const{data:c,error:O}=await A.functions.invoke("admin-analytics",{body:{type:"export",format:j,period:i}});if(O)throw O;const T=new Blob([JSON.stringify(c.data,null,2)],{type:"application/json"}),M=window.URL.createObjectURL(T),z=document.createElement("a");z.href=M,z.download=`analytics-report-${i}.json`,document.body.appendChild(z),z.click(),document.body.removeChild(z),window.URL.revokeObjectURL(M),ne.success("Relatório exportado com sucesso")}catch(c){console.error("Error exporting report:",c),ne.error("Erro ao exportar relatório")}finally{o(!1)}}};return p.useEffect(()=>{v(i),N(),x()},[i]),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Avançado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:165,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Relatórios detalhados e análises de performance"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:168,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:164,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(g,{variant:"outline",onClick:()=>v(i),disabled:r,children:[e.jsxDEV(Me,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:179,columnNumber:13},void 0),"Atualizar"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:174,columnNumber:11},void 0),e.jsxDEV(g,{variant:"outline",onClick:()=>l("excel"),disabled:u,children:[e.jsxDEV(he,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:189,columnNumber:13},void 0),"Excel"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:184,columnNumber:11},void 0),e.jsxDEV(g,{variant:"outline",onClick:()=>l("pdf"),disabled:u,children:[e.jsxDEV(ge,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:197,columnNumber:13},void 0),"PDF"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:192,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:173,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:163,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(mi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:205,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-sm font-medium",children:"Período:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:206,columnNumber:9},void 0),["7d","30d","90d","1y"].map(j=>e.jsxDEV(g,{variant:i===j?"default":"outline",size:"sm",onClick:()=>m(j),children:[j==="7d"&&"7 dias",j==="30d"&&"30 dias",j==="90d"&&"90 dias",j==="1y"&&"1 ano"]},j,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:208,columnNumber:11},void 0))]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:204,columnNumber:7},void 0),e.jsxDEV(Pe,{defaultValue:"overview",className:"w-full",children:[e.jsxDEV(Ae,{className:"grid w-full grid-cols-4",children:[e.jsxDEV(q,{value:"overview",children:"Resumo Executivo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:224,columnNumber:11},void 0),e.jsxDEV(q,{value:"usage",children:"Análise de Uso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:225,columnNumber:11},void 0),e.jsxDEV(q,{value:"patterns",children:"Padrões Detectados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:226,columnNumber:11},void 0),e.jsxDEV(q,{value:"recommendations",children:"Recomendações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:227,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:223,columnNumber:9},void 0),e.jsxDEV(J,{value:"overview",className:"space-y-6",children:[e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Queries Totais"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:235,columnNumber:17},void 0),e.jsxDEV(Vr,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:238,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:234,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:s?.totalQueries?.toLocaleString()||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:241,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 text-xs",children:[e.jsxDEV($e,{className:"h-3 w-3 text-green-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:245,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-green-500",children:"+12.3%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:246,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-muted-foreground",children:"vs período anterior"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:247,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:244,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:240,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:233,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Custo Total"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:256,columnNumber:17},void 0),e.jsxDEV($e,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:259,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:255,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:["$",((s?.totalCost||0)/100).toFixed(2)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:262,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 text-xs",children:[e.jsxDEV(Ms,{className:"h-3 w-3 text-red-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:266,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-red-500",children:"-5.1%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:267,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-muted-foreground",children:"custo por query"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:268,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:265,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:261,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:254,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Tempo Médio"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:275,columnNumber:17},void 0),e.jsxDEV(Ms,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:278,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:274,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:[((s?.avgResponseTime||0)/1e3).toFixed(1),"s"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:281,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 text-xs",children:[e.jsxDEV(Ms,{className:"h-3 w-3 text-green-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:285,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-green-500",children:"-8.7%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:286,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-muted-foreground",children:"melhoria"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:287,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:284,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:280,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:273,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Usuários Ativos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:294,columnNumber:17},void 0),e.jsxDEV($e,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:297,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:293,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:s?.userActivity?.length||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:300,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 text-xs",children:[e.jsxDEV($e,{className:"h-3 w-3 text-green-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:304,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-green-500",children:"+23.4%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:305,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-muted-foreground",children:"engajamento"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:306,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:303,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:299,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:292,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:232,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Insights Principais"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:316,columnNumber:17},void 0),e.jsxDEV(_,{children:"Descobertas importantes do período"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:317,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:315,columnNumber:15},void 0),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:323,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"Eficiência Melhorada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:325,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Tempo médio de resposta reduziu 8.7% com otimizações de prompts"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:326,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:324,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:322,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:333,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"Padrão de Alto Risco"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:335,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Comarca X apresenta 67% dos processos com risco elevado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:336,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:334,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:332,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:342,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium",children:"Pico de Uso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:344,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Terça-feira, 14h-16h é o horário de maior demanda"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:345,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:343,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:341,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:321,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:314,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Métricas de Qualidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:355,columnNumber:17},void 0),e.jsxDEV(_,{children:"Indicadores de satisfação e precisão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:356,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:354,columnNumber:15},void 0),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{children:"Precisão das Análises"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:363,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-medium",children:"94.2%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:364,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:362,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsxDEV("div",{className:"bg-green-500 h-2 rounded-full w-[94%]"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:367,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:366,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:361,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{children:"Satisfação do Usuário"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:372,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-medium",children:"91.8%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:373,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:371,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsxDEV("div",{className:"bg-blue-500 h-2 rounded-full w-[92%]"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:376,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:375,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:370,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{children:"Taxa de Resolução"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:381,columnNumber:21},void 0),e.jsxDEV("span",{className:"font-medium",children:"87.3%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:382,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:380,columnNumber:19},void 0),e.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsxDEV("div",{className:"bg-orange-500 h-2 rounded-full w-[87%]"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:385,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:384,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:379,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:360,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:353,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:313,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:230,columnNumber:9},void 0),e.jsxDEV(J,{value:"usage",className:"space-y-6",children:[r?e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxDEV(Dr,{className:"h-[300px]"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:396,columnNumber:15},void 0),e.jsxDEV(Dr,{className:"h-[300px]"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:397,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:395,columnNumber:13},void 0):e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxDEV(kr,{data:a?.dailyUsage||[]},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:401,columnNumber:15},void 0),e.jsxDEV(zr,{data:a?.dailyUsage||[]},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:402,columnNumber:15},void 0),e.jsxDEV(Ir,{data:s?.riskPatterns?.riskDistribution||{low:0,medium:0,high:0}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:403,columnNumber:15},void 0),e.jsxDEV(Rr,{data:s?.riskPatterns?.comarcaStats||[]},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:412,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:400,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-sm",children:"Total de Requests"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:422,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:421,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:a?.totalStats?.totalRequests?.toLocaleString()||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:425,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Últimos ",i]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:428,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:424,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:420,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-sm",children:"Custo Total"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:435,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:434,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:["$",((a?.totalStats?.totalCost||0)/100).toFixed(2)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:438,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Últimos ",i]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:441,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:437,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:433,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-sm",children:"Usuários Ativos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:448,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:447,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:a?.userStats?.length||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:451,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Período selecionado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:454,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:450,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:446,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:419,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:393,columnNumber:9},void 0),e.jsxDEV(J,{value:"patterns",className:"space-y-6",children:[e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Troca Direta"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:467,columnNumber:17},void 0),e.jsxDEV(Ze,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:470,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:466,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:d?.patterns?.trocaDireta||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:473,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"casos detectados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:476,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:472,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:465,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Triangulação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:483,columnNumber:17},void 0),e.jsxDEV(Ze,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:486,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:482,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:d?.patterns?.triangulacao||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:489,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"casos detectados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:492,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:488,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:481,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Prova Emprestada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:499,columnNumber:17},void 0),e.jsxDEV(Ze,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:502,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:498,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:d?.patterns?.provaEmprestada||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:505,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"casos detectados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:508,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:504,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:497,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Duplo Papel"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:515,columnNumber:17},void 0),e.jsxDEV(Ze,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:518,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:514,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:d?.patterns?.duploPapel||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:521,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"casos detectados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:524,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:520,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:513,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:464,columnNumber:11},void 0),e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Análise de Complexidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:535,columnNumber:17},void 0),e.jsxDEV(_,{children:"Distribuição dos processos por complexidade de padrões"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:536,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:534,columnNumber:15},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm",children:"Baixa Complexidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:543,columnNumber:21},void 0),e.jsxDEV(G,{variant:"outline",className:"bg-green-50 text-green-700",children:d?.complexityDistribution?.low||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:544,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:542,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm",children:"Média Complexidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:552,columnNumber:21},void 0),e.jsxDEV(G,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:d?.complexityDistribution?.medium||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:553,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:551,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{className:"text-sm",children:"Alta Complexidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:561,columnNumber:21},void 0),e.jsxDEV(G,{variant:"outline",className:"bg-red-50 text-red-700",children:d?.complexityDistribution?.high||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:562,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:560,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:541,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:540,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:533,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Correlação Risco-Padrão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:572,columnNumber:17},void 0),e.jsxDEV(_,{children:"Análise estatística da correlação entre padrões e risco"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:573,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:571,columnNumber:15},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-center space-y-2",children:[e.jsxDEV("div",{className:"text-3xl font-bold",children:(d?.riskCorrelation||0).toFixed(2)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:579,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Coeficiente de correlação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:582,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-xs",children:(d?.riskCorrelation||0)>.7?e.jsxDEV(G,{className:"bg-red-100 text-red-800",children:"Correlação Forte"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:587,columnNumber:23},void 0):(d?.riskCorrelation||0)>.4?e.jsxDEV(G,{className:"bg-yellow-100 text-yellow-800",children:"Correlação Moderada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:591,columnNumber:23},void 0):e.jsxDEV(G,{className:"bg-green-100 text-green-800",children:"Correlação Fraca"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:595,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:585,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:578,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:577,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:570,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:532,columnNumber:11},void 0),d?.criticalCombinations>0&&e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(ce,{className:"h-5 w-5 text-orange-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:610,columnNumber:19},void 0),"Combinações Críticas Detectadas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:609,columnNumber:17},void 0),e.jsxDEV(_,{children:"Processos com múltiplos padrões de risco simultâneos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:613,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:608,columnNumber:15},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:d.criticalCombinations},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:618,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"processos com 2+ padrões críticos combinados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:621,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:617,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:607,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:462,columnNumber:9},void 0),e.jsxDEV(J,{value:"recommendations",className:"space-y-6",children:[(s?.insights?.length??0)>0&&e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(gs,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:635,columnNumber:19},void 0),"Insights Automáticos"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:634,columnNumber:17},void 0),e.jsxDEV(_,{children:"Descobertas geradas pela análise de IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:638,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:633,columnNumber:15},void 0),e.jsxDEV(h,{className:"space-y-4",children:s?.insights?.map((j,c)=>e.jsxDEV("div",{className:`border-l-4 pl-4 ${j.type==="warning"?"border-orange-500":j.type==="error"?"border-red-500":"border-blue-500"}`,children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[j.type==="warning"&&e.jsxDEV(ce,{className:"h-4 w-4 text-orange-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:656,columnNumber:25},void 0),j.type==="error"&&e.jsxDEV(ce,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:659,columnNumber:25},void 0),j.type==="info"&&e.jsxDEV(gs,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:662,columnNumber:25},void 0),e.jsxDEV("h4",{className:"font-medium",children:j.title},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:664,columnNumber:23},void 0),e.jsxDEV(G,{variant:"outline",className:"text-xs",children:j.category},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:665,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:654,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:j.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:669,columnNumber:21},void 0)]},c,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:644,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:642,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:632,columnNumber:13},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Recomendações Estratégicas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:681,columnNumber:15},void 0),e.jsxDEV(_,{children:"Ações sugeridas baseadas na análise completa dos dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:682,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:680,columnNumber:13},void 0),e.jsxDEV(h,{className:"space-y-4",children:(s?.recommendations?.length??0)>0?s?.recommendations?.map((j,c)=>e.jsxDEV("div",{className:`border-l-4 pl-4 ${j.priority==="high"?"border-red-500":j.priority==="medium"?"border-orange-500":"border-green-500"}`,children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV("h4",{className:"font-medium",children:j.title},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:700,columnNumber:23},void 0),e.jsxDEV(G,{variant:j.priority==="high"?"destructive":j.priority==="medium"?"default":"secondary",children:[j.priority==="high"?"Alta":j.priority==="medium"?"Média":"Baixa"," ","Prioridade"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:701,columnNumber:23},void 0),e.jsxDEV(G,{variant:"outline",className:"text-xs",children:j.category},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:717,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:699,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:j.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:721,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-green-600 font-medium",children:["Impacto esperado: ",j.expectedImpact]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:724,columnNumber:21},void 0)]},c,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:689,columnNumber:19},void 0)):e.jsxDEV("div",{className:"text-center text-muted-foreground py-8",children:[e.jsxDEV(Y,{className:"h-12 w-12 mx-auto mb-4 text-green-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:731,columnNumber:19},void 0),e.jsxDEV("p",{children:"Sistema funcionando dentro dos parâmetros ideais"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:732,columnNumber:19},void 0),e.jsxDEV("p",{className:"text-sm",children:"Nenhuma recomendação crítica no momento"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:733,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:730,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:686,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:679,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:629,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:222,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Analytics.tsx",lineNumber:162,columnNumber:5},void 0)},pt=Object.freeze(Object.defineProperty({__proto__:null,default:on},Symbol.toStringTag,{value:"Module"}));async function Lr(r){const t=r.type;if(t==="text/csv"||r.name.endsWith(".csv"))return an(r);if(t.includes("spreadsheet")||r.name.match(/\.(xlsx?|xls)$/i))return ln(r);throw new Error("Formato de arquivo não suportado. Use CSV ou Excel (.xlsx, .xls)")}async function an(r){return new Promise((t,s)=>{Pr.parse(r,{header:!0,skipEmptyLines:!0,preview:100,complete:n=>{try{n.errors.length>0&&console.warn("CSV parsing warnings:",n.errors);const i=n.meta.fields||[],m=n.data;if(i.length===0)throw new Error("Nenhuma coluna foi detectada no arquivo CSV");const u={name:r.name.replace(/\.[^/.]+$/,""),headers:i,rows:m.length,model:Fr(i),hasListColumn:qr(i),sampleData:m.slice(0,5)};t([u])}catch(i){s(i)}},error:n=>{s(new Error(`Erro ao analisar CSV: ${n.message}`))}})})}const un=["dicionario","dictionary","docs","documentação","documentacao","info","instructions","instrucoes","readme","help","ajuda","template","exemplo","sample","metadata","config","configuracao"];function mn(r,t,s){const n=r.toLowerCase().trim();return!!(un.some(i=>n.includes(i))||s.length<2||t.length<3)}async function ln(r){const t=await as(()=>import("./xlsx-PER9UG_v.js"),[]);return new Promise((s,n)=>{const i=new FileReader;i.onload=m=>{try{const u=new Uint8Array(m.target?.result),o=t.read(u,{type:"array"}),a=[],b=[];if(o.SheetNames.forEach(d=>{const D=o.Sheets[d],v=t.utils.sheet_to_json(D,{header:1});if(v.length===0)return;const N=v[0].filter(Boolean),x=v.slice(1).filter(j=>j&&j.some(c=>c!=null&&c!==""));if(N.length===0)return;if(mn(d,N,x)){b.push(d);return}const l={name:d,headers:N,rows:x.length,model:Fr(N),hasListColumn:qr(N),sampleData:x.slice(0,5).map(j=>{const c={};return N.forEach((O,T)=>{c[O]=j[T]||null}),c})};a.push(l)}),a.length===0)throw new Error("Nenhuma aba com dados válidos foi encontrada. Todas as abas foram ignoradas ou estão vazias.");s(a)}catch(u){n(new Error(`Erro ao analisar Excel: ${u instanceof Error?u.message:"Erro desconhecido"}`))}},i.onerror=()=>{n(new Error("Erro ao ler arquivo"))},i.readAsArrayBuffer(r)})}function Fr(r){const t=r.map(N=>N.toLowerCase().trim()),s=["nome_testemunha","cnjs_como_testemunha","qtd_depoimentos","quantidade_depoimentos"],n=["testemunha","depoimentos","como_testemunha"],i=["reclamante_nome","reu_nome","advogados_ativo","advogados_passivo","todas_testemunhas","testemunhas_todas"],m=["reclamante","reu","advogado","comarca","tribunal","vara","fase","status"],u=s.reduce((N,x)=>t.some(l=>l.includes(x))?N+3:N,0),o=n.reduce((N,x)=>t.some(l=>l.includes(x))?N+1:N,0),a=i.reduce((N,x)=>t.some(l=>l.includes(x))?N+3:N,0),b=m.reduce((N,x)=>t.some(l=>l.includes(x))?N+1:N,0),d=u+o,D=a+b;return t.some(N=>N.includes("cnj")||N.includes("numero_processo")||N.includes("processo"))?u>0&&u>=a?"testemunha":a>0&&a>u?"processo":d>D&&d>=1?"testemunha":(D>d&&D>=1,"processo"):"ambiguous"}function qr(r){const t=["cnjs_como_testemunha","todas_testemunhas","testemunhas_todas","advogados_ativo","advogados_passivo"];return r.some(s=>t.some(n=>s.toLowerCase().includes(n.toLowerCase())))}function cn(){return`session_${Date.now()}_${Math.random().toString(36).substring(2,11)}`}function dn({open:r,sheets:t,onComplete:s,onCancel:n}){const[i,m]=p.useState(t);p.useEffect(()=>{m(t)},[t]);const u=(d,D)=>{const v=[...i];v[d]={...v[d],model:D},m(v)},o=i.every(d=>d.model!=="ambiguous"),a=()=>i.filter(D=>D.model!=="ignore").some(D=>D.model==="processo"||D.model==="testemunha"),b=()=>{if(o&&a()){const d=i.filter(D=>D.model!=="ignore");s(d)}};return e.jsxDEV(Be,{open:r,onOpenChange:d=>!d&&n(),children:e.jsxDEV(Le,{className:"max-w-2xl",children:[e.jsxDEV(He,{children:[e.jsxDEV(ye,{children:"Mapeamento de Abas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:76,columnNumber:11},this),e.jsxDEV(cs,{children:"Algumas abas precisam de mapeamento manual. Selecione o tipo correto para cada aba."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:75,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:[i.map((d,D)=>e.jsxDEV(f,{className:d.model==="ambiguous"?"border-warning":d.model==="ignore"?"border-muted opacity-75":"",children:[e.jsxDEV(C,{className:"pb-3",children:e.jsxDEV(V,{className:"text-sm flex items-center gap-2",children:[d.name,d.model==="ambiguous"?e.jsxDEV(G,{variant:"outline",className:"text-warning border-warning",children:[e.jsxDEV(te,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:103,columnNumber:23},this),"Requer mapeamento"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:99,columnNumber:21},this):d.model==="ignore"?e.jsxDEV(G,{variant:"outline",className:"text-muted-foreground border-muted",children:"Ignorada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:107,columnNumber:21},this):e.jsxDEV(G,{variant:"outline",className:"text-success border-success",children:[e.jsxDEV(Y,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:118,columnNumber:23},this),"Mapeada"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:114,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:96,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:95,columnNumber:15},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[d.rows," linhas • ",d.headers.length," colunas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:126,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Tipo:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:131,columnNumber:21},this),e.jsxDEV(oe,{value:d.model,onValueChange:v=>u(D,v),children:[e.jsxDEV(ae,{className:"w-[200px]",children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:139,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:138,columnNumber:23},this),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"processo",children:"Por Processo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:142,columnNumber:25},this),e.jsxDEV(R,{value:"testemunha",children:"Por Testemunha"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:143,columnNumber:25},this),e.jsxDEV(R,{value:"ignore",children:"Ignorar esta aba"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:146,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:141,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:132,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:130,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[e.jsxDEV("strong",{children:"Colunas detectadas:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:152,columnNumber:21},this)," ",d.headers.slice(0,5).join(", "),d.headers.length>5&&` e mais ${d.headers.length-5}...`]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:151,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:125,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:124,columnNumber:15},this)]},D,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:85,columnNumber:13},this)),!a()&&e.jsxDEV(f,{className:"border-destructive bg-destructive/5",children:e.jsxDEV(h,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:166,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm font-medium",children:'É necessário ter pelo menos uma aba mapeada como "Por Processo" ou "Por Testemunha"'},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:167,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:165,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:164,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:163,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:83,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-between pt-4",children:[e.jsxDEV(g,{variant:"outline",onClick:n,children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:178,columnNumber:11},this),e.jsxDEV(g,{onClick:b,disabled:!o||!a(),children:"Continuar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:177,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:74,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:73,columnNumber:5},this)}const Ye=["upload","validation","preview","publish"],Ds=li((r,t)=>({currentStep:"upload",session:null,file:null,validationResult:null,currentVersionId:null,versionNumber:null,isProcessing:!1,uploadProgress:0,error:null,setCurrentStep:s=>r({currentStep:s}),setSession:s=>r({session:s}),setFile:s=>r({file:s}),setValidationResult:s=>r({validationResult:s}),setIsProcessing:s=>r({isProcessing:s}),setUploadProgress:s=>r(n=>({uploadProgress:typeof s=="function"?s(n.uploadProgress):s})),setError:s=>r({error:s}),resetWizard:()=>r({currentStep:"upload",session:null,file:null,validationResult:null,currentVersionId:null,versionNumber:null,isProcessing:!1,uploadProgress:0,error:null}),setCurrentVersion:(s,n)=>r({currentVersionId:s,versionNumber:n}),createNewVersion:async()=>{try{r({isProcessing:!0,error:null});const{supabase:s}=await as(async()=>{const{supabase:m}=await import("./page-About-Cbjp06Sg.js").then(u=>u.T);return{supabase:m}},__vite__mapDeps([0,1])),{data:n,error:i}=await s.functions.invoke("create-version",{body:{}});if(i)throw i;r({currentVersionId:n.versionId,versionNumber:n.number,isProcessing:!1}),is.info("Version created successfully",{versionId:n.versionId,number:n.number},"ImportStore")}catch(s){const n=Us.handle(s,"ImportStore.createNewVersion");throw r({error:n.userMessage||"Falha ao criar nova versão",isProcessing:!1}),n}},publishCurrentVersion:async()=>{const s=t();if(!s.currentVersionId)throw new Error("No version to publish");try{r({isProcessing:!0,error:null});const{supabase:n}=await as(async()=>{const{supabase:u}=await import("./page-About-Cbjp06Sg.js").then(o=>o.T);return{supabase:u}},__vite__mapDeps([0,1])),{data:i,error:m}=await n.functions.invoke("publish-version",{body:{versionId:s.currentVersionId}});if(m)throw m;return is.info("Version published successfully",{versionId:s.currentVersionId,number:i.number,publishedAt:i.publishedAt},"ImportStore"),r({isProcessing:!1}),i}catch(n){const i=Us.handle(n,"ImportStore.publishCurrentVersion");throw r({error:i.userMessage||"Falha ao publicar versão",isProcessing:!1}),i}},nextStep:()=>{const{currentStep:s}=t(),n=Ye.indexOf(s);n<Ye.length-1&&r({currentStep:Ye[n+1]})},previousStep:()=>{const{currentStep:s}=t(),n=Ye.indexOf(s);n>0&&r({currentStep:Ye[n-1]})},canProceedToNext:()=>{const s=t(),{currentStep:n,session:i,file:m,validationResult:u}=s;switch(n){case"upload":return!!(i&&m);case"validation":return!!u?.normalizedData;case"preview":{if(!u?.normalizedData)return!1;const o=Array.isArray(u.normalizedData.processos)&&u.normalizedData.processos.length>0,a=Array.isArray(u.normalizedData.testemunhas)&&u.normalizedData.testemunhas.length>0;return o||a}case"publish":return!1;default:return!1}}}));function bn(){const{setSession:r,setFile:t,setCurrentStep:s,isProcessing:n,setIsProcessing:i,uploadProgress:m,setUploadProgress:u,error:o,setError:a}=Ds(),[b,d]=p.useState(null),[D,v]=p.useState([]),[N,x]=p.useState(!1),l=p.useCallback(async U=>{const E=U[0];if(!E)return;if(E.size>20*1024*1024){a("Arquivo muito grande. Tamanho máximo: 20MB"),B({title:"Arquivo muito grande",description:"O arquivo deve ter no máximo 20MB",variant:"destructive"});return}d(E),a(null),i(!0),u(0);const y=setTimeout(async()=>{try{const k=setInterval(()=>{u(se=>se>=90?(clearInterval(k),90):se+Math.random()*15)},150);let L=[],X=0;const P=3;for(;X<P;)try{L=await Lr(E);break}catch(se){if(X++,X===P)throw se;await new Promise($=>setTimeout($,1e3*X))}clearInterval(k),u(100),v(L),L.some(se=>se.model==="ambiguous")?x(!0):T(L,E)}catch(k){const L=k instanceof Error?k.message:"Erro ao processar arquivo";a(L),B({title:"Erro no processamento",description:L,variant:"destructive"})}finally{i(!1)}},300);return()=>clearTimeout(y)},[a,i,u]),{getRootProps:j,getInputProps:c,isDragActive:O}=ci({onDrop:l,accept:{"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/csv":[".csv"]},maxFiles:1,maxSize:20*1024*1024}),T=(U,E)=>{if(!U.some(L=>L.model==="processo"||L.model==="testemunha")){a("Arquivo deve conter pelo menos uma aba válida"),B({title:"Estrutura inválida",description:"É necessário ter pelo menos uma aba com estrutura válida",variant:"destructive"});return}const k={fileName:E.name,fileSize:E.size,sheets:U,uploadedAt:new Date,sessionId:cn()};r(k),t(E),s("validation")},M=U=>{x(!1),b&&T(U,b)},z=U=>{switch(U){case"testemunha":return e.jsxDEV(G,{className:"bg-primary/10 text-primary border-primary/20",children:"Por Testemunha"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:194,columnNumber:11},this);case"processo":return e.jsxDEV(G,{className:"bg-accent/10 text-accent border-accent/20",children:"Por Processo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:200,columnNumber:11},this);case"ambiguous":return e.jsxDEV(G,{className:"bg-warning/10 text-warning-foreground border-warning/20",children:"Requer mapeamento"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:206,columnNumber:11},this);default:return e.jsxDEV(G,{variant:"secondary",children:"Desconhecido"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:211,columnNumber:16},this)}};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(Or,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:220,columnNumber:13},this),"Upload de Arquivo"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:219,columnNumber:11},this),e.jsxDEV(_,{children:"Faça upload do arquivo CSV ou XLSX com os dados das testemunhas e processos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:223,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:218,columnNumber:9},this),e.jsxDEV(h,{className:"space-y-6",children:[!b&&e.jsxDEV("div",{...j(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${O?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary hover:bg-muted/50"}`,children:[e.jsxDEV("input",{...c()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:239,columnNumber:15},this),e.jsxDEV(Cs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:240,columnNumber:15},this),O?e.jsxDEV("p",{className:"text-lg font-medium",children:"Solte o arquivo aqui..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:242,columnNumber:17},this):e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-lg font-medium",children:"Arraste o arquivo ou clique para selecionar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:245,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Formatos aceitos: Excel (.xlsx, .xls) e CSV • Máximo 20MB"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:248,columnNumber:19},this),e.jsxDEV("div",{className:"mt-4",children:e.jsxDEV(g,{variant:"outline",children:"Selecionar Arquivo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:252,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:251,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:231,columnNumber:13},this),b&&e.jsxDEV(f,{className:"bg-muted/50",children:e.jsxDEV(h,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(ge,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:265,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:b.name},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:267,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[(b.size/1024/1024).toFixed(2)," MB"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:268,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:266,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:264,columnNumber:19},this),!n&&D.length>0&&e.jsxDEV(Y,{className:"h-5 w-5 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:274,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:263,columnNumber:17},this),n&&e.jsxDEV("div",{className:"mt-4 space-y-2",children:[e.jsxDEV(ls,{value:m,className:"w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:280,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:m<50?"Carregando arquivo...":m<90?"Analisando estrutura...":"Finalizando detecção..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:281,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:279,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:262,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:261,columnNumber:13},this),o&&e.jsxDEV(re,{variant:"destructive",children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:297,columnNumber:15},this),e.jsxDEV(ie,{children:o},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:298,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:296,columnNumber:13},this),D.length>0&&!n&&!N&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"font-medium",children:"Abas Detectadas:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:305,columnNumber:15},this),e.jsxDEV("div",{className:"grid gap-3",children:D.map((U,E)=>e.jsxDEV(f,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium",children:U.name},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:312,columnNumber:27},this),z(U.model)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:311,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[U.rows.toLocaleString()," linhas •"," ",U.headers.length," colunas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:315,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:310,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:309,columnNumber:21},this)},E,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:308,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:306,columnNumber:15},this),e.jsxDEV(g,{onClick:()=>b&&T(D,b),className:"w-full",disabled:!b,children:"Continuar para Validação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:325,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:304,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:228,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:217,columnNumber:7},this),e.jsxDEV(dn,{open:N,sheets:D,onComplete:M,onCancel:()=>x(!1)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:340,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:216,columnNumber:5},this)}function Nn({corrections:r,onApplyCorrections:t,onReject:s}){const[n,i]=p.useState(!1);p.useState(new Set);const m=p.useMemo(()=>r.reduce((b,d)=>(b.total+=1,d.corrections.length>0&&(b.withCorrections+=1),d.isValid&&(b.valid+=1),d.corrections.some(D=>D.correctionType==="auto_complete")&&(b.autoComplete+=1),d.corrections.some(D=>D.correctionType==="format")&&(b.format+=1),d.corrections.some(D=>D.correctionType==="infer")&&(b.inferred+=1),b),{total:0,withCorrections:0,autoComplete:0,format:0,inferred:0,valid:0}),[r]),u=b=>{switch(b){case"auto_complete":return"bg-blue-500/10 text-blue-700 border-blue-200";case"format":return"bg-green-500/10 text-green-700 border-green-200";case"infer":return"bg-amber-500/10 text-amber-700 border-amber-200";case"default":return"bg-purple-500/10 text-purple-700 border-purple-200";default:return"bg-muted text-muted-foreground"}},o=b=>{switch(b){case"auto_complete":return"Auto-completar";case"format":return"Formatação";case"infer":return"Inferência";case"default":return"Padrão";default:return b}},a=()=>{const b=r.map(d=>d.correctedData);t(b)};return e.jsxDEV(f,{className:"border-primary/20 bg-primary/5",children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:124,columnNumber:11},this),"Correções Inteligentes Detectadas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:123,columnNumber:9},this),e.jsxDEV(_,{children:"O sistema detectou e pode corrigir automaticamente alguns problemas nos dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:127,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:122,columnNumber:7},this),e.jsxDEV(h,{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV(f,{className:"p-3 text-center",children:[e.jsxDEV("div",{className:"text-lg font-bold",children:m.total},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:136,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Total de linhas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:135,columnNumber:11},this),e.jsxDEV(f,{className:"p-3 text-center bg-success/5 border-success/20",children:[e.jsxDEV("div",{className:"text-lg font-bold text-success",children:m.valid},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:140,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Serão válidas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:139,columnNumber:11},this),e.jsxDEV(f,{className:"p-3 text-center bg-blue-500/5 border-blue-500/20",children:[e.jsxDEV("div",{className:"text-lg font-bold text-blue-600",children:m.withCorrections},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:146,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Com correções"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:149,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:145,columnNumber:11},this),e.jsxDEV(f,{className:"p-3 text-center bg-amber-500/5 border-amber-500/20",children:[e.jsxDEV("div",{className:"text-lg font-bold text-amber-600",children:m.inferred},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:152,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Inferências"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:155,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:134,columnNumber:9},this),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[e.jsxDEV(G,{className:u("auto_complete"),children:[m.autoComplete," Auto-completar"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:161,columnNumber:11},this),e.jsxDEV(G,{className:u("format"),children:[m.format," Formatação"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:164,columnNumber:11},this),e.jsxDEV(G,{className:u("infer"),children:[m.inferred," Inferências"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:167,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:160,columnNumber:9},this),e.jsxDEV(re,{className:"border-success bg-success/5",children:[e.jsxDEV(Y,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:174,columnNumber:11},this),e.jsxDEV(ie,{className:"text-success",children:[e.jsxDEV("strong",{children:"Pronto para aplicar:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:176,columnNumber:13},this)," ",m.valid," de"," ",m.total," linhas serão válidas após as correções"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:175,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:173,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(g,{variant:"outline",size:"sm",onClick:()=>i(!n),children:[n?e.jsxDEV(Er,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:189,columnNumber:15},this):e.jsxDEV(De,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:191,columnNumber:15},this),n?"Ocultar Detalhes":"Ver Detalhes"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:183,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:182,columnNumber:9},this),n&&e.jsxDEV(Pe,{defaultValue:"corrections",className:"w-full",children:[e.jsxDEV(Ae,{className:"grid w-full grid-cols-2",children:[e.jsxDEV(q,{value:"corrections",children:["Correções (",m.withCorrections,")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:201,columnNumber:15},this),e.jsxDEV(q,{value:"samples",children:"Amostras (5)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:204,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:200,columnNumber:13},this),e.jsxDEV(J,{value:"corrections",className:"space-y-4",children:e.jsxDEV("div",{className:"max-h-96 overflow-y-auto",children:e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{children:[e.jsxDEV(S,{children:"Linha"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:212,columnNumber:23},this),e.jsxDEV(S,{children:"Campo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:213,columnNumber:23},this),e.jsxDEV(S,{children:"Tipo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:214,columnNumber:23},this),e.jsxDEV(S,{children:"Original"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:215,columnNumber:23},this),e.jsxDEV(S,{children:"Corrigido"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:216,columnNumber:23},this),e.jsxDEV(S,{children:"Confiança"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:217,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:211,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:210,columnNumber:19},this),e.jsxDEV(xe,{children:r.slice(0,50).map((b,d)=>b.corrections.map((D,v)=>e.jsxDEV(K,{children:[e.jsxDEV(H,{children:d+1},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:224,columnNumber:27},this),e.jsxDEV(H,{className:"font-mono text-sm",children:D.field},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:225,columnNumber:27},this),e.jsxDEV(H,{children:e.jsxDEV(G,{className:u(D.correctionType),variant:"outline",children:o(D.correctionType)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:229,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:228,columnNumber:27},this),e.jsxDEV(H,{className:"max-w-32 truncate",children:e.jsxDEV("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:String(D.originalValue)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:241,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:240,columnNumber:27},this),e.jsxDEV(H,{className:"max-w-32 truncate",children:e.jsxDEV("code",{className:"text-xs bg-success/10 px-1 py-0.5 rounded",children:String(D.correctedValue)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:246,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:245,columnNumber:27},this),e.jsxDEV(H,{children:e.jsxDEV(G,{variant:"outline",children:[Math.round(D.confidence*100),"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:251,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:250,columnNumber:27},this)]},`${d}-${v}`,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:223,columnNumber:25},this)))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:220,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:209,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:208,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:207,columnNumber:13},this),e.jsxDEV(J,{value:"samples",className:"space-y-4",children:e.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-4",children:r.slice(0,5).map((b,d)=>e.jsxDEV(f,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(G,{variant:"outline",children:["Linha ",d+1]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:268,columnNumber:23},this),b.isValid?e.jsxDEV(G,{className:"bg-success/10 text-success border-success/20",children:[e.jsxDEV(Y,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:271,columnNumber:27},this),"Válida"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:270,columnNumber:25},this):e.jsxDEV(G,{className:"bg-destructive/10 text-destructive border-destructive/20",children:[e.jsxDEV(te,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:276,columnNumber:27},this),"Inválida"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:275,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:267,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium mb-1",children:"Dados Originais:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:283,columnNumber:25},this),e.jsxDEV("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto",children:JSON.stringify(b.originalData,null,2)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:284,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:282,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium mb-1",children:"Dados Corrigidos:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:289,columnNumber:25},this),e.jsxDEV("pre",{className:"bg-success/10 p-2 rounded text-xs overflow-x-auto",children:JSON.stringify(b.correctedData,null,2)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:292,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:288,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:281,columnNumber:21},this),b.corrections.length>0&&e.jsxDEV("div",{className:"mt-2",children:[e.jsxDEV("div",{className:"font-medium mb-1",children:"Correções:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:299,columnNumber:25},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:b.corrections.map((D,v)=>e.jsxDEV(G,{className:u(D.correctionType),variant:"outline",children:[D.field,":"," ",o(D.correctionType)]},v,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:302,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:300,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:298,columnNumber:23},this)]},d,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:266,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:264,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:263,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:199,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV(g,{variant:"outline",onClick:s,children:"Rejeitar Correções"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:327,columnNumber:11},this),e.jsxDEV(g,{onClick:a,className:"bg-success hover:bg-success/90",children:[e.jsxDEV(Ke,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:334,columnNumber:13},this),"Aplicar Correções (",m.withCorrections,")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:330,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:326,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:132,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:121,columnNumber:5},this)}function Dn({issues:r,onExportIssues:t}){const[s,n]=p.useState({severity:"all",sheet:"all",rule:"all",search:""}),i=p.useRef(null),m=p.useMemo(()=>[...new Set(r.map(x=>x.sheet))].sort(),[r]),u=p.useMemo(()=>[...new Set(r.map(x=>x.rule).filter(Boolean))].sort(),[r]),o=p.useMemo(()=>r.filter(x=>{if(s.severity!=="all"&&x.severity!==s.severity||s.sheet!=="all"&&x.sheet!==s.sheet||s.rule!=="all"&&x.rule!==s.rule)return!1;if(s.search){const l=s.search.toLowerCase(),j=x.message.toLowerCase().includes(l),c=x.column?.toLowerCase().includes(l),O=x.original?.toString().toLowerCase().includes(l);if(!j&&!c&&!O)return!1}return!0}),[r,s]),a=di({count:o.length,getScrollElement:()=>i.current,estimateSize:()=>56,overscan:5}),b=x=>{switch(x){case"error":return e.jsxDEV(Xs,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:108,columnNumber:16},this);case"warning":return e.jsxDEV(ce,{className:"h-4 w-4 text-warning"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:110,columnNumber:16},this);case"info":return e.jsxDEV(Y,{className:"h-4 w-4 text-info"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:112,columnNumber:16},this)}},d=x=>{switch(x){case"error":return"destructive";case"warning":return"default";case"info":return"secondary"}},D=()=>{const l=[["Severidade","Aba","Linha","Coluna","Regra","Mensagem","Valor Original","Valor Corrigido"].join(","),...o.map(T=>[T.severity,T.sheet,T.row||"",T.column||"",T.rule||"",`"${T.message.replace(/"/g,'""')}"`,`"${(T.original||"").toString().replace(/"/g,'""')}"`,`"${(T.fixed||"").toString().replace(/"/g,'""')}"`].join(","))].join(`
`),j=new Blob([l],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a"),O=URL.createObjectURL(j);c.setAttribute("href",O),c.setAttribute("download",`assistjur-issues-${new Date().toISOString().split("T")[0]}.csv`),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)},v=()=>{t?t():D()},N=()=>{n({severity:"all",sheet:"all",rule:"all",search:""})};return e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(Js,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:190,columnNumber:13},this),"Issues Detectadas (",o.length," de ",r.length,")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:189,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(g,{variant:"outline",size:"sm",onClick:N,children:"Limpar Filtros"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:194,columnNumber:13},this),e.jsxDEV(g,{variant:"outline",size:"sm",onClick:v,children:[e.jsxDEV(he,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:198,columnNumber:15},this),"Exportar CSV"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:193,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:188,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-1 block",children:"Severidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:207,columnNumber:13},this),e.jsxDEV(oe,{value:s.severity,onValueChange:x=>n(l=>({...l,severity:x})),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:215,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:214,columnNumber:15},this),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"all",children:"Todas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:218,columnNumber:17},this),e.jsxDEV(R,{value:"error",children:"Erro"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:219,columnNumber:17},this),e.jsxDEV(R,{value:"warning",children:"Aviso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:220,columnNumber:17},this),e.jsxDEV(R,{value:"info",children:"Info"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:221,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:208,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:206,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-1 block",children:"Aba"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:227,columnNumber:13},this),e.jsxDEV(oe,{value:s.sheet,onValueChange:x=>n(l=>({...l,sheet:x})),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:235,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:234,columnNumber:15},this),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"all",children:"Todas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:238,columnNumber:17},this),m.map(x=>e.jsxDEV(R,{value:x,children:x},x,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:240,columnNumber:19},this))]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:226,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-1 block",children:"Regra"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:249,columnNumber:13},this),e.jsxDEV(oe,{value:s.rule,onValueChange:x=>n(l=>({...l,rule:x})),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:257,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:256,columnNumber:15},this),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"all",children:"Todas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:260,columnNumber:17},this),u.map(x=>e.jsxDEV(R,{value:x,children:x},x,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:262,columnNumber:19},this))]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:259,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:250,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:248,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-1 block",children:"Buscar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:271,columnNumber:13},this),e.jsxDEV(Q,{placeholder:"Buscar na mensagem, coluna ou valor...",value:s.search,onChange:x=>n(l=>({...l,search:x.target.value}))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:272,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:270,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:205,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:187,columnNumber:7},this),e.jsxDEV(h,{children:[e.jsxDEV("div",{ref:i,className:"rounded-md border max-h-96 overflow-y-auto",children:e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{children:[e.jsxDEV(S,{className:"w-20",children:"Severidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:291,columnNumber:17},this),e.jsxDEV(S,{className:"w-24",children:"Aba"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:292,columnNumber:17},this),e.jsxDEV(S,{className:"w-16",children:"Linha"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:293,columnNumber:17},this),e.jsxDEV(S,{className:"w-32",children:"Coluna"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:294,columnNumber:17},this),e.jsxDEV(S,{className:"w-24",children:"Regra"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:295,columnNumber:17},this),e.jsxDEV(S,{children:"Mensagem"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:296,columnNumber:17},this),e.jsxDEV(S,{className:"w-32",children:"Valor Original"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:297,columnNumber:17},this),e.jsxDEV(S,{className:"w-32",children:"Valor Corrigido"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:298,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:290,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:289,columnNumber:13},this),o.length===0?e.jsxDEV(xe,{children:e.jsxDEV(K,{children:e.jsxDEV(H,{colSpan:8,className:"text-center text-muted-foreground py-6",children:r.length===0?"Nenhuma issue detectada":"Nenhuma issue corresponde aos filtros"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:304,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:303,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:302,columnNumber:15},this):e.jsxDEV(xe,{style:{height:`${a.getTotalSize()}px`,position:"relative"},children:a.getVirtualItems().map(x=>{const l=o[x.index];return e.jsxDEV(K,{className:"absolute top-0 left-0 w-full",style:{transform:`translateY(${x.start}px)`},children:[e.jsxDEV(H,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[b(l.severity),e.jsxDEV(G,{variant:d(l.severity),className:"text-xs",children:l.severity.toUpperCase()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:332,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:330,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:329,columnNumber:23},this),e.jsxDEV(H,{className:"font-medium",children:l.sheet},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:340,columnNumber:23},this),e.jsxDEV(H,{children:l.row||"-"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:343,columnNumber:23},this),e.jsxDEV(H,{children:l.column||"-"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:344,columnNumber:23},this),e.jsxDEV(H,{children:l.rule&&e.jsxDEV(G,{variant:"outline",className:"text-xs",children:l.rule},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:347,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:345,columnNumber:23},this),e.jsxDEV(H,{className:"max-w-xs",children:e.jsxDEV("div",{className:"truncate",title:l.message,children:l.message},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:353,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:352,columnNumber:23},this),e.jsxDEV(H,{className:"max-w-xs",children:l.original&&e.jsxDEV("div",{className:"truncate bg-muted px-2 py-1 rounded text-xs",title:l.original?.toString(),children:l.original?.toString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:359,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:357,columnNumber:23},this),e.jsxDEV(H,{className:"max-w-xs",children:l.fixed&&e.jsxDEV("div",{className:"truncate bg-success/10 px-2 py-1 rounded text-xs",title:l.fixed?.toString(),children:l.fixed?.toString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:369,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:367,columnNumber:23},this)]},x.key,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:324,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:315,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:288,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:284,columnNumber:9},this),o.length>0&&e.jsxDEV("div",{className:"mt-4 text-sm text-muted-foreground",children:["Mostrando ",o.length," de ",r.length," issues"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:386,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:283,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:186,columnNumber:5},this)}function fn(r){let t="",s=r;for(;s>=0;)t=String.fromCharCode(65+s%26)+t,s=Math.floor(s/26)-1;return t}function pn(r,t){const s=fn(t),n=r+1;return`${s}${n}`}function vt(r){return/^[A-Z]+\d+$/.test(r)}function vn(r){if(r.length!==20)return!1;const t=r.split("").map(Number),s=t.slice(0,6),n=[2,3,4,5,6,7],i=s.reduce((d,D,v)=>d+D*n[v],0),m=i%11<2?0:11-i%11,u=t.slice(7,13),o=[2,3,4,5,6,7],a=u.reduce((d,D,v)=>d+D*o[v],0),b=a%11<2?0:11-a%11;return t[6]===m&&t[13]===b}function fr(r){return r.length!==20?r:`${r.slice(0,7)}-${r.slice(7,9)}.${r.slice(9,13)}.${r.slice(13,14)}.${r.slice(14,16)}.${r.slice(16)}`}function Re(r){return r?String(r).replace(/\D/g,""):""}function Ie(r,t="final"){const s=Re(r),n=[];if(t==="correction"){if(s.length<15)return n.push(`CNJ muito curto: ${s.length} dígitos (mínimo 15 para correção)`),{isValid:!1,formatted:s,cleaned:s,errors:n};let m=s;return s.length<20&&(m=s.padEnd(20,"0")),{isValid:!0,formatted:fr(m),cleaned:m,errors:[]}}s.length!==20&&n.push(`CNJ deve ter exatamente 20 dígitos, encontrados: ${s.length}`),s.length===20&&!vn(s)&&n.push("CNJ com dígitos verificadores inválidos");const i=n.length===0;return{isValid:i,formatted:i?fr(s):s,cleaned:s,errors:n}}function xn(r){const t=Ie(r,"correction");if(!t.isValid)return{corrected:Re(r),needsCorrection:!1,reason:t.errors.join("; ")};const s=Re(r),n=t.cleaned;return{corrected:n,needsCorrection:s!==n,reason:s!==n?`CNJ completado de ${s.length} para 20 dígitos`:void 0}}const pr={advogados_ativo:{canonical:"advogados_ativo",synonyms:["Advogados (Polo Ativo)","Advogados Polo Ativo","advogados_polo_ativo","advogados_ativo","Advogados_Ativo"],type:"array"},advogados_passivo:{canonical:"advogados_passivo",synonyms:["Advogados (Polo Passivo)","Advogados Polo Passivo","advogados_polo_passivo","advogados_passivo","Advogados_Passivo"],type:"array"},testemunhas_ativo:{canonical:"testemunhas_ativo",synonyms:["testemunhas_ativo","Testemunhas_Ativo","testemunhas_polo_ativo","Testemunhas (Polo Ativo)"],type:"array"},testemunhas_passivo:{canonical:"testemunhas_passivo",synonyms:["testemunhas_passivo","Testemunhas_Passivo","testemunhas_polo_passivo","Testemunhas (Polo Passivo)"],type:"array"},todas_testemunhas:{canonical:"todas_testemunhas",synonyms:["testemunhas_todas","Testemunhas_Todas","todas_testemunhas","Todas_Testemunhas","testemunhas_completas"],type:"array"},cnj:{canonical:"cnj",synonyms:["cnj","CNJ","numero_cnj","numero_processo"],type:"string"},reclamantes:{canonical:"reclamantes",synonyms:["reclamantes","Reclamantes","autores","requerentes","partes_ativas"],type:"array"},nome_testemunha:{canonical:"nome_testemunha",synonyms:["nome_testemunha","Nome_Testemunha","nome","testemunha","nome_completo"],type:"string"},qtd_depoimentos:{canonical:"qtd_depoimentos",synonyms:["qtd_depoimentos","quantidade_depoimentos","total_depoimentos","numero_depoimentos"],type:"number"}};function jn(r){if(pr[r])return r;const t=r.toLowerCase().trim();for(const[s,n]of Object.entries(pr))if(n.synonyms.some(m=>m.toLowerCase().trim()===t))return s;return null}function $r(r,t){const s={};return r.forEach(n=>{const i=jn(n);i?s[i]=n:s[n]=n}),s}function Kr(r,t){if(!t)return r;const s={...r};return(!s.reu_nome||typeof s.reu_nome=="string"&&s.reu_nome.trim()==="")&&t.applyDefaultReuOnTestemunha&&t.defaultReuNome&&(s.reu_nome=t.defaultReuNome,s.__autofill={...typeof s.__autofill=="object"&&s.__autofill!==null?s.__autofill:{},reu_nome:!0}),s}function vr(r,t,s){const n=$r(r.headers);return t.map(i=>{const m={};Object.entries(n).forEach(([d,D])=>{m[d]=i[D]}),Kr(m,s);const u=m.cnj||"",a=Ie(u,"correction").cleaned;return{cnj:a,cnj_digits:Re(a),reclamante_nome:String(m.reclamante_nome||""),reu_nome:String(m.reu_nome||""),comarca:String(m.comarca||""),tribunal:String(m.tribunal||""),vara:String(m.vara||""),fase:String(m.fase||""),status:String(m.status||""),observacoes:String(m.observacoes||"")}}).filter(i=>{const m=Ie(i.cnj,"correction"),u=i.reclamante_nome||i.reu_nome;return m.isValid||u})}function xr(r,t,s){const n=$r(r.headers);return t.map(i=>{const m={};return Object.entries(n).forEach(([u,o])=>{m[u]=i[o]}),Kr(m,s),{cnj:String(m.cnj||""),cnj_digits:Re(String(m.cnj||"")),nome_testemunha:String(m.nome_testemunha||""),reclamante_nome:String(m.reclamante_nome||""),reu_nome:String(m.reu_nome||"")}})}async function hn(r,t){if(r.name.endsWith(".csv"))return new Promise((n,i)=>{Pr.parse(r,{header:!0,skipEmptyLines:!0,complete:m=>{n(m.data)},error:i})});const s=await as(()=>import("./xlsx-PER9UG_v.js"),[]);return new Promise((n,i)=>{const m=new FileReader;m.onload=u=>{try{const o=new Uint8Array(u.target?.result),b=s.read(o,{type:"array"}).Sheets[t.name];if(!b){i(new Error(`Sheet "${t.name}" not found`));return}const d=s.utils.sheet_to_json(b,{header:1}),D=d[0],N=d.slice(1).map(x=>{const l={};return D.forEach((j,c)=>{l[j]=x[c]}),l});n(N)}catch(o){i(o)}},m.onerror=i,m.readAsArrayBuffer(r)})}async function gn(r,t,s=null){const n=await hn(r,t);return t.model==="processo"?{processos:vr(t,n,s)}:t.model==="testemunha"?{testemunhas:xr(t,n,s)}:t.headers.some(m=>["comarca","tribunal","vara","status"].some(u=>m.toLowerCase().includes(u)))?{processos:vr(t,n,s)}:{testemunhas:xr(t,n,s)}}const Ws=[{normalized:"cnj",synonyms:["CNJ","cnj","numero_cnj","num_cnj","processo","numero_processo"],required:!0,sheet:"processo"},{normalized:"uf",synonyms:["UF","uf","estado","unidade_federativa","sigla_estado"],required:!0,sheet:"processo"},{normalized:"comarca",synonyms:["comarca","Comarca","COMARCA","municipio","cidade"],required:!0,sheet:"processo"},{normalized:"reclamante_nome",synonyms:["reclamante_nome","Reclamante_Nome","reclamante","Reclamante","Reclamante_Limpo","reclamante_limpo","nome_reclamante","autor","nome_autor","requerente","nome_requerente"],required:!0,sheet:"processo"},{normalized:"reu_nome",synonyms:["reu_nome","Reu_Nome","reu","Reu","REU","reclamado","nome_reclamado","requerido","nome_requerido"],required:!1,sheet:"processo"},{normalized:"advogados_ativo",synonyms:["advogados_ativo","Advogados_Ativo","advogados_polo_ativo","advogado_reclamante","advogados_reclamante","advogado_autor","advogados_autor","representante_legal_ativo"],required:!1,sheet:"processo"},{normalized:"todas_testemunhas",synonyms:["todas_testemunhas","Todas_Testemunhas","testemunhas_todas","testemunhas","lista_testemunhas","nomes_testemunhas","testemunhas_processo","testemunhas_envolvidas"],required:!0,sheet:"processo"},{normalized:"fase",synonyms:["fase","Fase","fase_processual","etapa","situacao_processo"],required:!1,sheet:"processo"},{normalized:"status",synonyms:["status","Status","STATUS","situacao","estado_processo"],required:!1,sheet:"processo"},{normalized:"data_audiencia",synonyms:["data_audiencia","Data_Audiencia","data_da_audiencia","audiencia","proxima_audiencia","dt_audiencia"],required:!1,sheet:"processo"},{normalized:"observacoes",synonyms:["observacoes","Observacoes","observações","Observações","obs","comentarios","notas","anotacoes"],required:!1,sheet:"processo"},{normalized:"tribunal",synonyms:["tribunal","Tribunal","TRIBUNAL","orgao_julgador"],required:!1,sheet:"processo"},{normalized:"vara",synonyms:["vara","Vara","VARA","vara_trabalhista"],required:!1,sheet:"processo"},{normalized:"nome_testemunha",synonyms:["nome_testemunha","Nome_Testemunha","testemunha","nome_da_testemunha","testemunha_nome"],required:!0,sheet:"testemunha"},{normalized:"qtd_depoimentos",synonyms:["qtd_depoimentos","Qtd_Depoimentos","quantidade_depoimentos","numero_depoimentos","total_depoimentos","qtde_depoimentos","count_depoimentos"],required:!0,sheet:"testemunha"},{normalized:"cnjs_como_testemunha",synonyms:["cnjs_como_testemunha","CNJs_Como_Testemunha","cnj_como_testemunha","processos_como_testemunha","lista_cnjs","cnjs_testemunha","cnjs_depoimento","processos_testemunha"],required:!0,sheet:"testemunha"},{normalized:"reclamante_nome",synonyms:["reclamante_nome","Reclamante_Nome","reclamante","nome_reclamante","autor"],required:!1,sheet:"testemunha"},{normalized:"reu_nome",synonyms:["reu_nome","Reu_Nome","reu","nome_reu","reclamado"],required:!1,sheet:"testemunha"}];function Cn(r,t){const s=r.trim(),n=Ws.find(m=>(m.sheet===t||m.sheet==="both")&&m.synonyms.includes(s));if(n)return n.normalized;const i=Ws.find(m=>(m.sheet===t||m.sheet==="both")&&m.synonyms.some(u=>u.toLowerCase()===s.toLowerCase()));return i?i.normalized:null}function Vn(r){return Ws.filter(t=>t.required&&(t.sheet===r||t.sheet==="both")).map(t=>t.normalized)}function On(r,t){const s={},n=[],i=Vn(t);r.forEach(o=>{const a=Cn(o,t);a?s[o]=a:n.push(o)});const m=Object.values(s),u=i.filter(o=>!m.includes(o));return{mapped:s,unmapped:n,missing:u}}function En(r,t){const s=On(r,t),n={};return s.unmapped.forEach(i=>{const m=[];t==="processo"&&(i.toLowerCase().includes("reclamante")&&m.push("reclamante_nome"),(i.toLowerCase().includes("reu")||i.toLowerCase().includes("reclamado"))&&m.push("reu_nome"),(i.toLowerCase().includes("cnj")||i.toLowerCase().includes("processo"))&&m.push("cnj")),m.length>0&&(n[i]=m)}),{...s,suggestions:n}}function Un(r,t,s){const n=[],i={...r};let m=!0;if(s==="processo"){if(i.cnj){const u=i.cnj,o=xn(u);o.needsCorrection&&n.push({field:"cnj",originalValue:u,correctedValue:o.corrected,correctionType:"auto_complete",confidence:.7}),i.cnj=o.corrected,i.cnj_digits=Re(i.cnj)}if(["reclamante_nome","reu_nome"].forEach(u=>{if(i[u]&&typeof i[u]=="string"){const o=i[u],a=o.trim().replace(/\s+/g," ");if(a!==o&&(i[u]=a,n.push({field:u,originalValue:o,correctedValue:a,correctionType:"format",confidence:.9})),a===a.toUpperCase()||a===a.toLowerCase()){const b=a.toLowerCase().replace(/\b\w/g,d=>d.toUpperCase());i[u]=b,n.push({field:u,originalValue:a,correctedValue:b,correctionType:"format",confidence:.8})}}u==="reclamante_nome"&&(!i[u]||String(i[u]).trim()==="")&&(m=!1)}),!i.reu_nome&&i.reclamante_nome){const u=String(i.reclamante_nome||"").toLowerCase();if(u.includes("vs")||u.includes("x ")){const o=u.split(/\s+(vs?\.?|x)\s+/i);o.length>=2&&(i.reu_nome=o[1].trim(),n.push({field:"reu_nome",originalValue:null,correctedValue:i.reu_nome,correctionType:"infer",confidence:.6}))}}["advogados_ativo","advogados_passivo","testemunhas_ativo","testemunhas_passivo"].forEach(u=>{if(i[u]&&typeof i[u]=="string"){const o=i[u],a=o.split(/[;,]/).map(b=>b.trim()).filter(Boolean);a.length>0&&(i[u]=a,n.push({field:u,originalValue:o,correctedValue:a,correctionType:"format",confidence:.9}))}})}else s==="testemunha"&&((!i.nome_testemunha||String(i.nome_testemunha).trim()==="")&&(m=!1),i.cnjs_como_testemunha&&(Array.isArray(i.cnjs_como_testemunha)?i.cnjs_como_testemunha:String(i.cnjs_como_testemunha).split(/[;,]/).map(a=>a.trim())).filter(a=>Ie(a,"final").isValid).length===0&&(m=!1));return{originalData:r,correctedData:i,corrections:n,isValid:m}}async function Wr(r,t,s){if(!s)throw new Error("Arquivo é obrigatório para validação inteligente");let n=0,i=0;const m=[],u=[],o={processos:[],testemunhas:[]},a={};for(const l of r.sheets)try{const j=await gn(s,l,null),c=l.model==="testemunha"?"testemunha":"processo",O=En(l.headers,c);O.missing.forEach(M=>{m.push({sheet:l.name,row:0,column:M,severity:"error",rule:"Campo obrigatório não encontrado",message:`Campo obrigatório "${M}" não foi encontrado nos cabeçalhos`,value:"N/A"})}),Object.entries(O.suggestions).forEach(([M,z])=>{m.push({sheet:l.name,row:0,column:M,severity:"warning",rule:"Campo não mapeado",message:`Campo "${M}" não foi mapeado. Sugestões: ${z.join(", ")}`,value:M})});const T=j.processos||j.testemunhas||[];a[l.name]=T.length,T.forEach((M,z)=>{const U=z+1;n++;const E=t.intelligentCorrections?Un(M,z,c):{originalData:M,correctedData:M,corrections:[],isValid:!0};u.push(E);const k=Ie(E.correctedData.cnj,"correction").isValid;if(E.isValid||k){i++;const L=E.correctedData.reclamante_nome||E.correctedData.reu_nome,X=E.correctedData.nome_testemunha;L&&(c==="processo"||!X)?(o.processos||(o.processos=[]),o.processos.push(E.correctedData)):X&&(c==="testemunha"||!L)?(o.testemunhas||(o.testemunhas=[]),o.testemunhas.push(E.correctedData)):k&&(c==="processo"?(o.processos||(o.processos=[]),o.processos.push(E.correctedData)):(o.testemunhas||(o.testemunhas=[]),o.testemunhas.push(E.correctedData)));const P=Re(E.correctedData.cnj);k&&P.length<20&&m.push({sheet:l.name,row:U,column:"cnj",severity:"warning",rule:"CNJ incompleto mas preservado",message:`CNJ tem ${P.length} dígitos (recomendado: 20). Dados preservados para revisão.`,value:E.correctedData.cnj||"N/A"}),E.corrections.forEach(Z=>{m.push({sheet:l.name,row:U,column:Z.field,severity:"info",rule:"Correção automática aplicada",message:`${Z.correctionType}: "${Z.originalValue}" → "${Z.correctedValue}" (confiança: ${Math.round(Z.confidence*100)}%)`,value:Z.originalValue})})}else c==="processo"&&(E.correctedData.reclamante_nome||m.push({sheet:l.name,row:U,column:"reclamante_nome",severity:"error",rule:"Nome do reclamante é obrigatório",message:'Campo "reclamante_nome" é obrigatório mas está vazio',value:E.correctedData.reclamante_nome||"N/A"}),E.correctedData.reu_nome||m.push({sheet:l.name,row:U,column:"reu_nome",severity:"warning",rule:"Nome do réu recomendado",message:'Campo "reu_nome" está vazio mas pode ser preenchido posteriormente',value:E.correctedData.reu_nome||"N/A"}),(!E.correctedData.cnj||!Ie(E.correctedData.cnj,"final").isValid)&&m.push({sheet:l.name,row:U,column:"cnj",severity:"error",rule:"CNJ deve ter 20 dígitos",message:"CNJ deve ter formato válido com 20 dígitos numéricos",value:E.correctedData.cnj||"N/A"}))})}catch(j){m.push({sheet:l.name,row:0,column:"sistema",severity:"error",rule:"Erro no processamento",message:`Erro ao processar aba: ${j instanceof Error?j.message:"Erro desconhecido"}`,value:"N/A"})}const b=Object.values(a).reduce((l,j)=>l+j,0),d=Object.values(o).flat().length,D=b-d,v=u.filter(l=>l.corrections.length>0).length,N=u.reduce((l,j)=>l+j.corrections.length,0);return console.log(`🔍 Enhanced Validation Summary:
    📊 File Processing:
    - Original rows loaded: ${b}
    - Successfully processed: ${d}  
    - Filtered out (invalid): ${D}
    - Final valid rows: ${i}
    
    🔧 Corrections Applied:
    - Rows with corrections: ${v}
    - Individual corrections made: ${N}
    
    📈 Data Breakdown:
    - Processos: ${o.processos?.length||0}
    - Testemunhas: ${o.testemunhas?.length||0}`),{summary:{analyzed:b,valid:i,errors:m.filter(l=>l.severity==="error").length,warnings:m.filter(l=>l.severity==="warning").length,infos:m.filter(l=>l.severity==="info").length},issues:m,normalizedData:o,intelligentCorrections:u}}function Jr(){const[r,t]=p.useState(null),[s,n]=p.useState(!1),i=async()=>{n(!0);try{const o=await(await fetch("/template-test-exemplo.csv")).blob(),a=new File([o],"template-test-exemplo.csv",{type:"text/csv"}),b=await Lr(a),d={sessionId:crypto.randomUUID(),fileName:a.name,fileSize:a.size,sheets:b,uploadedAt:new Date},D=await Wr(d,{explodeLists:!0,standardizeCNJ:!0,applyDefaultReu:!0,intelligentCorrections:!0},a);t({success:!0,sheets:b.length,analyzed:D.summary.analyzed,valid:D.summary.valid,errors:D.summary.errors,warnings:D.summary.warnings,corrections:D.intelligentCorrections?.length||0,correctionsApplied:D.intelligentCorrections?.filter(v=>v.corrections.length>0).length||0})}catch(m){t({success:!1,error:m instanceof Error?m.message:"Erro desconhecido"})}finally{n(!1)}};return e.jsxDEV(f,{className:"border-primary/20 bg-primary/5",children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(ge,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:81,columnNumber:11},this),"Teste do Corretor Inteligente"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:80,columnNumber:9},this),e.jsxDEV(_,{children:"Valide se o template atualizado funciona corretamente com o novo sistema"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:79,columnNumber:7},this),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV(g,{onClick:i,disabled:s,className:"w-full",children:[e.jsxDEV(he,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:95,columnNumber:11},this),s?"Testando Template...":"Testar Template Corrigido"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:90,columnNumber:9},this),r&&e.jsxDEV("div",{className:"space-y-4",children:[r.success?e.jsxDEV(re,{className:"border-success bg-success/5",children:[e.jsxDEV(Y,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:103,columnNumber:17},this),e.jsxDEV(ie,{className:"text-success",children:[e.jsxDEV("strong",{children:"✅ Teste Aprovado!"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:105,columnNumber:19},this)," Template funciona perfeitamente com o Corretor Inteligente"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:104,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:102,columnNumber:15},this):e.jsxDEV(re,{variant:"destructive",children:[e.jsxDEV(ce,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:111,columnNumber:17},this),e.jsxDEV(ie,{children:[e.jsxDEV("strong",{children:"❌ Teste Falhou:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:113,columnNumber:19},this)," ",r.error]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:112,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:110,columnNumber:15},this),r.success&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV(f,{className:"p-3 text-center",children:[e.jsxDEV("div",{className:"text-lg font-bold",children:r.sheets},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:121,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Abas detectadas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:122,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:120,columnNumber:17},this),e.jsxDEV(f,{className:"p-3 text-center",children:[e.jsxDEV("div",{className:"text-lg font-bold",children:r.analyzed},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:127,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Linhas analisadas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:128,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:126,columnNumber:17},this),e.jsxDEV(f,{className:"p-3 text-center bg-success/10 border-success/20",children:[e.jsxDEV("div",{className:"text-lg font-bold text-success",children:r.valid},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:133,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Linhas válidas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:136,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:132,columnNumber:17},this),e.jsxDEV(f,{className:"p-3 text-center bg-blue-500/10 border-blue-500/20",children:[e.jsxDEV("div",{className:"text-lg font-bold text-blue-600",children:r.correctionsApplied},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:141,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Correções aplicadas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:144,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:140,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:119,columnNumber:15},this),r.success&&e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[e.jsxDEV(G,{variant:"outline",className:"bg-success/10 text-success border-success/20",children:[r.errors," Erros"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:153,columnNumber:17},this),e.jsxDEV(G,{variant:"outline",className:"bg-warning/10 text-warning border-warning/20",children:[r.warnings," Avisos"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:159,columnNumber:17},this),e.jsxDEV(G,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/20",children:[r.corrections," Correções Detectadas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:165,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:152,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:100,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:89,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:78,columnNumber:5},this)}function Gn(){const{session:r,file:t,validationResult:s,setValidationResult:n,setCurrentStep:i,isProcessing:m,setIsProcessing:u,setError:o}=Ds(),[a,b]=p.useState(!1),[d,D]=p.useState([]),v=p.useCallback(async()=>{if(!(!r||!t)){u(!0);try{const U=await Wr(r,{explodeLists:!0,standardizeCNJ:!0,applyDefaultReu:!0,intelligentCorrections:!0},t);U.intelligentCorrections&&U.intelligentCorrections.length>0&&(D(U.intelligentCorrections),U.intelligentCorrections.filter(k=>k.corrections.length>0).length>0&&b(!0));const E={summary:U.summary,issues:U.issues,normalizedData:U.normalizedData,downloadUrls:{fixedXlsx:"",reportCsv:"",reportJson:""}};n(E),B({title:"Validação inteligente concluída",description:`${U.summary.analyzed} registros analisados, ${U.summary.valid} válidos, ${U.intelligentCorrections?.filter(y=>y.corrections.length>0).length||0} correções sugeridas`}),is.info("Final Validation Summary",{originalFile:t.name,fileSize:t.size,sheetsDetected:r.sheets.length,analyzed:U.summary.analyzed,valid:U.summary.valid,errors:U.summary.errors,warnings:U.summary.warnings,correctionsAvailable:U.intelligentCorrections?.length||0,correctionsWithChanges:U.intelligentCorrections?.filter(y=>y.corrections.length>0).length||0},"ValidationStep")}catch(U){const E=U instanceof Error?U.message:"Erro na validação",y=Us.handleAndNotify(U,"ValidationStep.performValidation");o(y.userMessage||E)}finally{u(!1)}}},[r,t,u,n,o]);p.useEffect(()=>{r&&t&&!s&&v()},[r,t,s,v]),p.useEffect(()=>{if(s){const U={originalRows:s.summary.analyzed,processedRows:s.summary.valid,filteredRows:s.summary.analyzed-s.summary.valid,validRows:s.summary.valid,correctedRows:d.length,errorRows:s.summary.errors,warningRows:s.summary.warnings};is.info("Detailed Validation Stats",U,"ValidationStep")}},[s,d]);const N=p.useCallback(async U=>{const E=d.filter(y=>y.corrections.length>0).length;try{const{generateReports:y}=await as(async()=>{const{generateReports:$}=await import("./report-DiCcwdzf.js");return{generateReports:$}},__vite__mapDeps([2,0,1,3,4,5,6,7,8])),k=U.filter($=>{const fe=Ie($.cnj,"correction"),be=$.reclamante_nome||$.reu_nome;return fe.isValid||be}),L=U.filter($=>{const fe=Ie($.cnj,"correction"),be=$.nome_testemunha;return fe.isValid||be}),X=new Map;d.forEach(($,fe)=>{$.corrections.forEach(be=>{const Oe=U[0]||{},Fe=Object.keys(Oe).indexOf(be.field);if(Fe>=0){const qe=pn(fe+1,Fe);X.set(qe,{address:qe,original:be.originalValue,corrected:be.correctedValue,reason:`${be.correctionType}: ${be.reason||"Correção automática"}`})}})});const P={...s,normalizedData:{processos:k.length>0?k:void 0,testemunhas:L.length>0?L:void 0},summary:{...s.summary,valid:k.length+L.length,errors:Math.max(0,s.summary.errors-E)}},Z=await y(P,t?.name||"arquivo_corrigido",X);P.downloadUrls=Z,n(P),b(!1);const se=k.length+L.length;B({title:"Correções aplicadas com sucesso",description:`${E} correções aplicadas. ${se} registros válidos prontos para importação. Downloads disponíveis.`})}catch(y){const k=Us.handleAndNotify(y,"ValidationStep.handleApplyCorrections");is.error("Erro ao aplicar correções",{error:k.message,correctionsCount:d.length},"ValidationStep")}},[d,t,n,s]),x=()=>{b(!1),B({title:"Correções rejeitadas",description:"Continuando com os dados originais"})};if(!r||!t)return e.jsxDEV(re,{variant:"destructive",children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:269,columnNumber:9},this),e.jsxDEV(ie,{children:"Sessão ou arquivo não encontrado. Volte ao passo anterior."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:270,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:268,columnNumber:7},this);if(m||!s)return e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(Vs,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:282,columnNumber:13},this),"Validação e Normalização"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:281,columnNumber:11},this),e.jsxDEV(_,{children:"Verificando a qualidade e consistência dos dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:285,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:280,columnNumber:9},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"flex items-center justify-center py-12",children:e.jsxDEV("div",{className:"text-center space-y-4",children:[e.jsxDEV(Me,{className:"h-12 w-12 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:292,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:"Validando arquivo..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:294,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Processando dados reais para validação completa"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:295,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:293,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:291,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:290,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:289,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:279,columnNumber:7},this);const{summary:l,issues:j}=s,c=l.errors>0,O=d.length>0&&d.some(U=>U.corrections.length>0),T=!a&&O,M=l.valid>0&&(!c||T),z=s.downloadUrls&&(s.downloadUrls.fixedXlsx||s.downloadUrls.reportCsv||s.downloadUrls.reportJson);return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV(f,{className:"text-center p-4",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:l.analyzed.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:323,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Linhas analisadas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:326,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:322,columnNumber:9},this),e.jsxDEV(f,{className:"text-center p-4 bg-success/5 border-success/20",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-success",children:l.valid.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:329,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Linhas válidas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:332,columnNumber:11},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:l.analyzed>0?`${Math.round(l.valid/l.analyzed*100)}%`:"0%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:333,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:328,columnNumber:9},this),e.jsxDEV(f,{className:"text-center p-4 bg-destructive/5 border-destructive/20",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-destructive",children:l.errors},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:340,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Erros"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:343,columnNumber:11},this),l.errors>0&&e.jsxDEV("div",{className:"text-xs text-destructive mt-1",children:"Impedem publicação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:345,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:339,columnNumber:9},this),e.jsxDEV(f,{className:"text-center p-4 bg-warning/5 border-warning/20",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-warning",children:l.warnings},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:351,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Avisos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:354,columnNumber:11},this),l.warnings>0&&e.jsxDEV("div",{className:"text-xs text-warning mt-1",children:"Permitido publicar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:356,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:350,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:321,columnNumber:7},this),a&&O&&e.jsxDEV(Nn,{corrections:d,onApplyCorrections:N,onReject:x},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:363,columnNumber:9},this),z&&e.jsxDEV(f,{className:"border-blue-500/20 bg-blue-500/5",children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(he,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:375,columnNumber:15},this),"Downloads Disponíveis"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:374,columnNumber:13},this),e.jsxDEV(_,{children:"Baixe os arquivos processados e relatórios de correção"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:378,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:373,columnNumber:11},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.downloadUrls?.fixedXlsx&&e.jsxDEV(g,{asChild:!0,variant:"outline",className:"justify-start",children:e.jsxDEV("a",{href:s.downloadUrls.fixedXlsx,download:"arquivo_corrigido.xlsx",children:[e.jsxDEV(Vs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:390,columnNumber:21},this),"Arquivo Corrigido"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:386,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:385,columnNumber:17},this),s.downloadUrls?.reportCsv&&e.jsxDEV(g,{asChild:!0,variant:"outline",className:"justify-start",children:e.jsxDEV("a",{href:s.downloadUrls.reportCsv,download:"relatorio_erros.csv",children:[e.jsxDEV(te,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:401,columnNumber:21},this),"Relatório CSV"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:397,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:396,columnNumber:17},this),s.downloadUrls?.reportJson&&e.jsxDEV(g,{asChild:!0,variant:"outline",className:"justify-start",children:e.jsxDEV("a",{href:s.downloadUrls.reportJson,download:"relatorio_completo.json",children:[e.jsxDEV(gs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:412,columnNumber:21},this),"Relatório JSON"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:408,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:407,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:383,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:382,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:372,columnNumber:9},this),M&&!a&&e.jsxDEV(re,{className:"border-success bg-success/5",children:[e.jsxDEV(Y,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:425,columnNumber:11},this),e.jsxDEV(ie,{className:"text-success",children:["✅ Arquivo pronto para publicação! ",l.valid," registros serão importados.",O&&T&&e.jsxDEV("div",{className:"mt-1 text-sm",children:"Correções automáticas aplicadas com sucesso."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:430,columnNumber:15},this),O&&!T&&e.jsxDEV(g,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto text-success",onClick:()=>b(!0),children:[e.jsxDEV(Ke,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:441,columnNumber:17},this),"Ver correções sugeridas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:435,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:426,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:424,columnNumber:9},this),c&&a&&e.jsxDEV(re,{variant:"destructive",children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:451,columnNumber:11},this),e.jsxDEV(ie,{children:["❌ Corrija os erros antes de prosseguir. ",l.errors," problemas impedem a importação.",O&&e.jsxDEV(g,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto text-destructive",onClick:()=>b(!0),children:[e.jsxDEV(Ke,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:462,columnNumber:17},this),"Ver correções automáticas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:456,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:452,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:450,columnNumber:9},this),c&&!a&&!T&&e.jsxDEV(re,{variant:"destructive",children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:472,columnNumber:11},this),e.jsxDEV(ie,{children:["❌ ",l.errors," problemas impedem a importação.",O&&e.jsxDEV(g,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto text-destructive",onClick:()=>b(!0),children:[e.jsxDEV(Ke,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:482,columnNumber:17},this),"Aplicar correções automáticas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:476,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:473,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:471,columnNumber:9},this),j.length>0&&e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Problemas Detectados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:494,columnNumber:13},this),e.jsxDEV(_,{children:"Revise e corrija os problemas antes de prosseguir"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:495,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:493,columnNumber:11},this),e.jsxDEV(h,{children:e.jsxDEV(Dn,{issues:j.map(U=>({...U,message:U.message||U.rule}))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:500,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:499,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:492,columnNumber:9},this),e.jsxDEV(Jr,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:511,columnNumber:7},this),e.jsxDEV(f,{className:"border-blue-500/20 bg-blue-500/5",children:e.jsxDEV(h,{className:"p-4",children:e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-blue-700",children:"Página de Teste Completa"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:518,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Acesse a página dedicada para testes detalhados do Corretor Inteligente"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:521,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:517,columnNumber:13},this),e.jsxDEV(g,{asChild:!0,variant:"outline",className:"border-blue-500/20 text-blue-700",children:e.jsxDEV("a",{href:"/admin/base-import/test",target:"_blank",rel:"noopener noreferrer",children:"Abrir Teste"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:531,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:526,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:516,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:515,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:514,columnNumber:7},this),M&&e.jsxDEV(f,{className:"border-primary/20 bg-primary/5",children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"text-sm flex items-center gap-2",children:[e.jsxDEV(Me,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:548,columnNumber:15},this),"Otimização Opcional"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:547,columnNumber:13},this),e.jsxDEV(_,{children:"Execute uma revisão completa para detectar padrões suspeitos e otimizar a base"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:551,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:546,columnNumber:11},this),e.jsxDEV(h,{children:e.jsxDEV(Br,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:557,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:556,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:545,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV(g,{variant:"outline",onClick:()=>i("upload"),children:"Voltar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:564,columnNumber:9},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(g,{variant:"outline",onClick:v,disabled:m,children:[m&&e.jsxDEV(Me,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:574,columnNumber:15},this),"Revalidar"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:568,columnNumber:11},this),e.jsxDEV(g,{onClick:()=>i("preview"),disabled:!M,children:c&&!T?"Corrigir Erros Primeiro":"Continuar para Prévia"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:578,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:567,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:563,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:319,columnNumber:5},this)}function Hn(){const{validationResult:r,setCurrentStep:t}=Ds(),[s,n]=p.useState("processos"),i=p.useMemo(()=>{if(!r?.normalizedData)return{processos:[],testemunhas:[]};const a=Array.isArray(r.normalizedData.processos)?r.normalizedData.processos:[],b=Array.isArray(r.normalizedData.testemunhas)?r.normalizedData.testemunhas:[];return{processos:a.slice(0,10),testemunhas:b.slice(0,10)}},[r]),m=p.useMemo(()=>{if(!r?.normalizedData)return{processos:0,testemunhas:0};const a=Array.isArray(r.normalizedData.processos)?r.normalizedData.processos:[],b=Array.isArray(r.normalizedData.testemunhas)?r.normalizedData.testemunhas:[];return{processos:a.length,testemunhas:b.length}},[r]);if(!r||!r.normalizedData)return e.jsxDEV(f,{children:e.jsxDEV(h,{className:"p-8 text-center",children:[e.jsxDEV(te,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:70,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Nenhum dado de validação disponível"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:71,columnNumber:11},this),e.jsxDEV(g,{onClick:()=>t("validation"),variant:"outline",children:"Voltar para Validação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:69,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:68,columnNumber:7},this);if(!(m.processos>0||m.testemunhas>0))return e.jsxDEV(f,{children:e.jsxDEV(h,{className:"p-8 text-center",children:[e.jsxDEV(te,{className:"h-12 w-12 mx-auto mb-4 text-warning"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:91,columnNumber:11},this),e.jsxDEV("p",{className:"text-lg font-medium mb-2",children:"Nenhum dado válido encontrado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:92,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Não foi possível processar dados válidos do arquivo enviado."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:95,columnNumber:11},this),e.jsxDEV(g,{onClick:()=>t("upload"),variant:"outline",children:"Enviar Novo Arquivo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:98,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:90,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:89,columnNumber:7},this);const{summary:o}=r;return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxDEV(f,{className:"text-center p-4",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:o.valid.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:113,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Registros válidos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:116,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:112,columnNumber:9},this),e.jsxDEV(f,{className:"text-center p-4",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:[o.analyzed>0?Math.round(o.valid/o.analyzed*100):0,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:119,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Taxa de sucesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:118,columnNumber:9},this),e.jsxDEV(f,{className:"text-center p-4",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:o.errors+o.warnings},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:128,columnNumber:11},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Problemas detectados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:131,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:127,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:111,columnNumber:7},this),e.jsxDEV(re,{className:"border-primary bg-primary/5",children:[e.jsxDEV(De,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:139,columnNumber:9},this),e.jsxDEV(ie,{className:"text-primary",children:[e.jsxDEV("strong",{children:"Prévia da Importação:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:141,columnNumber:11},this)," ",o.valid," registros serão processados e inseridos na base de dados. Os dados passarão por validação final e normalização antes da inserção."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:138,columnNumber:7},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(De,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:151,columnNumber:13},this),"Prévia dos Dados"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:150,columnNumber:11},this),e.jsxDEV(_,{children:"Amostra dos dados processados e normalizados (primeiros 10 registros)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:149,columnNumber:9},this),e.jsxDEV(h,{children:e.jsxDEV(Pe,{value:s,onValueChange:n,children:[e.jsxDEV(Ae,{className:"grid w-full grid-cols-2",children:[e.jsxDEV(q,{value:"processos",className:"flex items-center gap-2",children:[e.jsxDEV(Ur,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:166,columnNumber:17},this),"Por Processo (",m.processos,")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV(q,{value:"testemunhas",className:"flex items-center gap-2",children:[e.jsxDEV(ms,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:173,columnNumber:17},this),"Por Testemunha (",m.testemunhas,")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:169,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:161,columnNumber:13},this),e.jsxDEV(J,{value:"processos",className:"mt-6",children:i.processos.length>0?e.jsxDEV("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{children:[e.jsxDEV(S,{children:"CNJ"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:184,columnNumber:25},this),e.jsxDEV(S,{children:"Reclamante"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:185,columnNumber:25},this),e.jsxDEV(S,{children:"Réu"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:186,columnNumber:25},this),e.jsxDEV(S,{children:"Comarca"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:187,columnNumber:25},this),e.jsxDEV(S,{children:"Status"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:188,columnNumber:25},this),e.jsxDEV(S,{children:"Flags"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:189,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:183,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:182,columnNumber:21},this),e.jsxDEV(xe,{children:i.processos.map((a,b)=>{let d="N/A";if(a.cnj_digits&&String(a.cnj_digits).length>=8)d=`****-**.${String(a.cnj_digits).slice(-8,-4)}.*.**.****`;else if(a.cnj){const D=String(a.cnj);d=D.length>8?`****${D.slice(-8)}`:D}return e.jsxDEV(K,{children:[e.jsxDEV(H,{className:"font-mono text-sm",children:d},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:211,columnNumber:31},this),e.jsxDEV(H,{children:a.reclamante_nome?a.reclamante_nome.length>25?a.reclamante_nome.substring(0,25)+"...":a.reclamante_nome:"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:214,columnNumber:31},this),e.jsxDEV(H,{children:a.reu_nome?a.reu_nome.length>25?a.reu_nome.substring(0,25)+"...":a.reu_nome:"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:224,columnNumber:31},this),e.jsxDEV(H,{children:a.comarca||"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:231,columnNumber:31},this),e.jsxDEV(H,{children:e.jsxDEV(G,{variant:"secondary",children:"Pronto para importar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:233,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:232,columnNumber:31},this),e.jsxDEV(H,{children:e.jsxDEV("div",{className:"flex gap-1 flex-wrap",children:[a.triangulacao_confirmada&&e.jsxDEV(G,{variant:"outline",className:"text-xs",children:"Triangulação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:240,columnNumber:37},this),a.troca_direta&&e.jsxDEV(G,{variant:"outline",className:"text-xs",children:"Troca Direta"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:248,columnNumber:37},this),a.prova_emprestada&&e.jsxDEV(G,{variant:"outline",className:"text-xs",children:"Prova Emprestada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:256,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:238,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:237,columnNumber:31},this)]},b,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:210,columnNumber:29},this)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:192,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:181,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:180,columnNumber:17},this):e.jsxDEV(re,{children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:274,columnNumber:19},this),e.jsxDEV(ie,{children:"Nenhum processo válido encontrado para prévia."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:275,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:273,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:178,columnNumber:13},this),e.jsxDEV(J,{value:"testemunhas",className:"mt-6",children:i.testemunhas.length>0?e.jsxDEV("div",{className:"border rounded-lg overflow-x-auto",children:e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{children:[e.jsxDEV(S,{children:"Nome da Testemunha"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:288,columnNumber:25},this),e.jsxDEV(S,{children:"Qtd. Depoimentos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:289,columnNumber:25},this),e.jsxDEV(S,{children:"CNJs como Testemunha"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:290,columnNumber:25},this),e.jsxDEV(S,{children:"Reclamante"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:291,columnNumber:25},this),e.jsxDEV(S,{children:"Flags"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:292,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:287,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:286,columnNumber:21},this),e.jsxDEV(xe,{children:i.testemunhas.map((a,b)=>{const d=typeof a.qtd_depoimentos=="number"?a.qtd_depoimentos:parseInt(String(a.qtd_depoimentos||"0"),10)||0;let D="N/A";return a.cnjs_como_testemunha&&(Array.isArray(a.cnjs_como_testemunha)?D=`${a.cnjs_como_testemunha.length} CNJs`:D="1 CNJ"),e.jsxDEV(K,{children:[e.jsxDEV(H,{className:"font-medium",children:a.nome_testemunha||a.nome_civil||"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:321,columnNumber:31},this),e.jsxDEV(H,{children:e.jsxDEV(G,{variant:"outline",children:d},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:327,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:326,columnNumber:31},this),e.jsxDEV(H,{className:"max-w-xs",children:e.jsxDEV("div",{className:"text-sm text-muted-foreground truncate",children:D},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:332,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:331,columnNumber:31},this),e.jsxDEV(H,{children:a.reclamante_nome?a.reclamante_nome.length>25?a.reclamante_nome.substring(0,25)+"...":a.reclamante_nome:"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:336,columnNumber:31},this),e.jsxDEV(H,{children:e.jsxDEV("div",{className:"flex gap-1 flex-wrap",children:[a.e_prova_emprestada&&e.jsxDEV(G,{variant:"outline",className:"text-xs text-warning",children:"Prova Emprestada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:349,columnNumber:37},this),d>10&&e.jsxDEV(G,{variant:"outline",className:"text-xs text-primary",children:"Alta Frequência"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:357,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:347,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:346,columnNumber:31},this)]},b,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:320,columnNumber:29},this)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:295,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:285,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:284,columnNumber:17},this):e.jsxDEV(re,{children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:375,columnNumber:19},this),e.jsxDEV(ie,{children:"Nenhuma testemunha válida encontrada para prévia."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:376,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:374,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:160,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:159,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:148,columnNumber:7},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV(g,{variant:"outline",onClick:()=>t("validation"),children:"Voltar para Validação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:388,columnNumber:9},this),e.jsxDEV(g,{onClick:()=>t("publish"),className:"bg-success hover:bg-success/90",disabled:o.errors>0||o.valid===0,children:"Publicar Nova Versão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:391,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:387,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:109,columnNumber:5},this)}function yn(){const{session:r,file:t,validationResult:s,resetWizard:n,isProcessing:i,setIsProcessing:m,uploadProgress:u,setUploadProgress:o}=Ds(),[a,b]=p.useState(!1),[d,D]=p.useState(null),v=async(x=0)=>{if(!(!t||!s||!r)){m(!0),o(0);try{const{data:{session:l}}=await A.auth.getSession();if(!l?.access_token)throw new Error("Sem sessão");o(10);const{data:c,error:O}=await A.functions.invoke("create-version",{headers:{"x-retry-count":x.toString()}});if(O)throw new Error("Falha ao criar nova versão: "+O.message);if(!c||!c.versionId)throw new Error("Resposta inválida da criação de versão: "+JSON.stringify(c));const T=s.normalizedData?.processos||[],M=s.normalizedData?.testemunhas||[];if(T.length===0&&M.length===0)throw new Error("Nenhum dado válido encontrado para importação. Verifique se o arquivo contém dados no formato correto.");o(30);const z=A.functions.invoke("import-into-version",{body:{versionId:c.versionId,processos:T,testemunhas:M,fileChecksum:l?.user?.id||"unknown",filename:t.name}}),U=new Promise((X,P)=>setTimeout(()=>P(new Error("Timeout na importação - arquivo muito grande ou conexão lenta")),48e4)),{data:E,error:y}=await Promise.race([z,U]);if(y){if((y.message?.includes("timeout")||y.message?.includes("network")||y.message?.includes("504")||y.message?.includes("502"))&&x<2)return B({title:"Conectividade instável",description:`Tentativa ${x+1}/3 - Tentando novamente...`}),await new Promise(X=>setTimeout(X,5e3)),v(x+1);throw new Error("Falha na importação: "+y.message)}if(!E||!E.summary)throw new Error("Resposta inválida da importação");o(80);const{data:k,error:L}=await A.functions.invoke("publish-version",{body:{versionId:c.versionId}});if(L)throw new Error("Falha ao publicar versão: "+L.message);o(100),D({...E,version:{id:c.versionId,number:c.number,publishedAt:k.publishedAt}}),b(!0),B({title:"Versão publicada com sucesso!",description:`Versão v${c.number} com ${E.summary?.imported||0} registros`}),localStorage.setItem("import_completed",Date.now().toString()),window.dispatchEvent(new Event("storage"))}catch(l){let j=l instanceof Error?l.message:"Falha ao publicar dados",c="Erro na publicação";l instanceof Error&&j?.includes("timeout")?(c="Timeout na operação",j="A operação demorou muito para completar. Tente novamente com um arquivo menor ou verifique sua conexão."):l instanceof Error&&j?.includes("504")&&(c="Servidor sobrecarregado",j="O servidor está processando muitos dados. Aguarde um momento e tente novamente."),B({title:c,description:j,variant:"destructive"})}finally{m(!1)}}},N=()=>{n(),B({title:"Nova importação iniciada",description:"Você pode fazer upload de um novo arquivo"})};return!r||!t||!s?e.jsxDEV(re,{variant:"destructive",children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:209,columnNumber:9},this),e.jsxDEV(ie,{children:"Dados da sessão não encontrados. Volte ao início do processo."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:210,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:208,columnNumber:7},this):a&&d?e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"text-center",children:[e.jsxDEV(V,{className:"flex items-center justify-center gap-2 text-success",children:[e.jsxDEV(bi,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:222,columnNumber:13},this),"Importação Concluída!"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:221,columnNumber:11},this),e.jsxDEV(_,{children:"Os dados foram importados com sucesso na base de dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:225,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:220,columnNumber:9},this),e.jsxDEV(h,{className:"space-y-6",children:[e.jsxDEV(re,{className:"border-success bg-success/5",children:[e.jsxDEV(Y,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:231,columnNumber:13},this),e.jsxDEV(ie,{className:"text-success",children:"✅ Importação realizada com sucesso! Os dados estão agora disponíveis para consulta."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:230,columnNumber:11},this),e.jsxDEV("div",{className:"bg-muted p-4 rounded-lg space-y-3",children:[e.jsxDEV("h4",{className:"font-medium",children:"Resumo da Importação:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:239,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Arquivo:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:242,columnNumber:17},this)," ",t.name]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:241,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Tamanho:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:245,columnNumber:17},this)," ",(t.size/1024/1024).toFixed(2)," ","MB"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:244,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Registros importados:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:249,columnNumber:17},this),e.jsxDEV("span",{className:"text-success font-semibold ml-1",children:d.summary?.valid_rows||s.summary.valid},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:250,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:248,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Taxa de sucesso:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:256,columnNumber:17},this),e.jsxDEV("span",{className:"text-success ml-1",children:s.summary.analyzed>0?`${Math.round(s.summary.valid/s.summary.analyzed*100)}%`:"0%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:257,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:255,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:240,columnNumber:13},this),d.version&&e.jsxDEV("div",{className:"mt-4 p-3 bg-success/10 rounded-lg border border-success/20",children:e.jsxDEV("div",{className:"text-sm space-y-1",children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Versão:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:269,columnNumber:21},this)," v",d.version.number]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:268,columnNumber:19},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"ID da versão:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:272,columnNumber:21},this)," ",d.version.id]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:271,columnNumber:19},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Publicada em:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:275,columnNumber:21},this)," ",new Date(d.version.publishedAt).toLocaleString("pt-BR")]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:274,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:267,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:266,columnNumber:15},this),d.summary&&e.jsxDEV("div",{className:"mt-4 p-3 bg-primary/10 rounded-lg",children:e.jsxDEV("div",{className:"text-sm space-y-1",children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Processos:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:288,columnNumber:21},this)," ",d.summary.processos_count||d.imported||0]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:287,columnNumber:19},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Testemunhas:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:294,columnNumber:21},this)," ",d.summary.testemunhas_count||0]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:293,columnNumber:19},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Stubs criados:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:298,columnNumber:21},this)," ",d.summary.stubs_created||0]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:297,columnNumber:19},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Flags detectadas:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:302,columnNumber:21},this)," ",d.summary.flags_detected||0]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:286,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:238,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-4 justify-center",children:[e.jsxDEV(g,{onClick:N,className:"flex-1",children:"Nova Importação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:311,columnNumber:13},this),e.jsxDEV(g,{variant:"outline",onClick:()=>window.location.href="/admin/versoes",className:"flex-1",children:"Ver Versões"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:314,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:310,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:229,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:219,columnNumber:7},this):e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(Y,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:331,columnNumber:11},this),"Publicar Nova Versão"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:330,columnNumber:9},this),e.jsxDEV(_,{children:"Confirme a publicação da nova versão da base de dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:334,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:329,columnNumber:7},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-6",children:i?e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(Me,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:411,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium",children:"Publicando base de dados..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:412,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Processando e importando todos os registros. Isso pode levar alguns minutos."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:413,columnNumber:15},this),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(ls,{value:u,className:"w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:418,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:u<100?`Processando... ${Math.round(u)}%`:"Finalizando..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:419,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:417,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:410,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(re,{children:[e.jsxDEV(te,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:343,columnNumber:17},this),e.jsxDEV(ie,{children:"Esta ação irá importar os dados validados para a base ativa. Todas as consultas passarão a incluir os novos registros."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:344,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:342,columnNumber:15},this),e.jsxDEV("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxDEV("h4",{className:"font-medium mb-3",children:"Resumo da Importação:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:351,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Arquivo:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:354,columnNumber:21},this)," ",t.name]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:353,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Tamanho:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:357,columnNumber:21},this)," ",(t.size/1024/1024).toFixed(2)," MB"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:356,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Registros válidos:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:361,columnNumber:21},this),e.jsxDEV("span",{className:"text-success font-semibold ml-1",children:s.summary.valid.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:362,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:360,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Problemas:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:367,columnNumber:21},this),e.jsxDEV("span",{className:"text-warning ml-1",children:s.summary.errors+s.summary.warnings},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:368,columnNumber:21},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground ml-1",children:["(",s.summary.errors," erros,"," ",s.summary.warnings," avisos)"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:372,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:366,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:352,columnNumber:17},this),e.jsxDEV("div",{className:"mt-4 p-3 bg-gradient-to-r from-success/10 to-primary/10 rounded-lg",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Qualidade dos Dados:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:381,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm font-bold text-success",children:s.summary.analyzed>0?`${Math.round(s.summary.valid/s.summary.analyzed*100)}% aprovado`:"0% aprovado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:384,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:380,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:379,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:350,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV(g,{variant:"outline",onClick:()=>window.history.back(),children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:394,columnNumber:17},this),e.jsxDEV(g,{onClick:()=>v(),disabled:s.summary.errors>0||s.summary.valid===0,className:"bg-success hover:bg-success/90",children:"Confirmar Publicação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:397,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:393,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:341,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:339,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:338,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:328,columnNumber:5},this)}function wn({progress:r,stage:t,stats:s={}}){const i=(()=>{switch(t){case"validating":return{title:"Validando dados",description:"Verificando estrutura e qualidade dos dados",icon:e.jsxDEV(te,{className:"h-4 w-4 text-warning"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:32,columnNumber:17},this)};case"creating-version":return{title:"Criando nova versão",description:"Preparando ambiente para importação",icon:e.jsxDEV(we,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:38,columnNumber:17},this)};case"importing":return{title:"Importando dados",description:"Processando e salvando registros na base de dados",icon:e.jsxDEV(Se,{className:"h-4 w-4 text-primary animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:44,columnNumber:17},this)};case"publishing":return{title:"Publicando versão",description:"Ativando nova versão da base de dados",icon:e.jsxDEV(Y,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:50,columnNumber:17},this)};case"completed":return{title:"Importação concluída",description:"Todos os dados foram processados com sucesso",icon:e.jsxDEV(Y,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:56,columnNumber:17},this)};default:return{title:"Processando...",description:"Aguarde",icon:e.jsxDEV(Se,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:62,columnNumber:17},this)}}})();return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[i.icon,e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h4",{className:"font-medium",children:i.title},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:74,columnNumber:11},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:i.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:73,columnNumber:9},this),e.jsxDEV(G,{variant:r===100?"default":"secondary",children:[Math.round(r),"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:71,columnNumber:7},this),e.jsxDEV(ls,{value:r,className:"w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:84,columnNumber:7},this),(s.total||s.processed||s.errors)&&e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[s.total&&e.jsxDEV("div",{className:"bg-muted/50 p-2 rounded text-center",children:[e.jsxDEV("div",{className:"font-medium",children:s.total.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:90,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Total"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:91,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:89,columnNumber:13},this),s.processed&&e.jsxDEV("div",{className:"bg-success/10 p-2 rounded text-center border border-success/20",children:[e.jsxDEV("div",{className:"font-medium text-success",children:s.processed.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:96,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-success/80",children:"Processados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:99,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:95,columnNumber:13},this),s.errors!==void 0&&e.jsxDEV("div",{className:"bg-destructive/10 p-2 rounded text-center border border-destructive/20",children:[e.jsxDEV("div",{className:"font-medium text-destructive",children:s.errors.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:104,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-destructive/80",children:"Erros"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:107,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:103,columnNumber:13},this),s.warnings!==void 0&&e.jsxDEV("div",{className:"bg-warning/10 p-2 rounded text-center border border-warning/20",children:[e.jsxDEV("div",{className:"font-medium text-warning",children:s.warnings.toLocaleString()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:112,columnNumber:15},this),e.jsxDEV("div",{className:"text-xs text-warning/80",children:"Avisos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:87,columnNumber:9},this),t==="importing"&&s.processed&&s.total&&e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center",children:["Processando registros... (",s.processed.toLocaleString()," de"," ",s.total.toLocaleString(),")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:70,columnNumber:5},this)}const ps=[{id:"upload",label:"Upload",icon:Or},{id:"validation",label:"Validação",icon:Vs},{id:"preview",label:"Prévia",icon:De},{id:"publish",label:"Publicação",icon:Y}];function Sn(){const{currentStep:r,session:t,file:s,validationResult:n,isProcessing:i,uploadProgress:m}=Ds(),u=p.useCallback(a=>{const b=ps.findIndex(D=>D.id===r),d=ps.findIndex(D=>D.id===a);return d<b?"completed":d===b?"current":"pending"},[r]),o=()=>{switch(r){case"upload":return e.jsxDEV(bn,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:57,columnNumber:16},this);case"validation":return t&&s?e.jsxDEV(Gn,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:59,columnNumber:34},this):null;case"preview":return t&&n?e.jsxDEV(Hn,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:61,columnNumber:46},this):null;case"publish":return t&&n?e.jsxDEV(yn,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:63,columnNumber:46},this):null;default:return null}};return e.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxDEV("div",{className:"text-center space-y-2",children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Importação de Dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:73,columnNumber:9},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Pipeline completo de análise de testemunhas e processos com detecção de padrões"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:76,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:72,columnNumber:7},this),e.jsxDEV(f,{children:e.jsxDEV(h,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:ps.map((a,b)=>{const d=u(a.id),D=b===ps.length-1;return e.jsxDEV(Qs.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors ${d==="completed"?"bg-success border-success text-success-foreground":d==="current"?"bg-primary border-primary text-primary-foreground":"bg-muted border-border text-muted-foreground"}`,children:d==="completed"?e.jsxDEV(Y,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:103,columnNumber:25},this):e.jsxDEV(a.icon,{className:"h-6 w-6"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:105,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:93,columnNumber:21},this),e.jsxDEV("div",{className:"mt-3 text-center",children:e.jsxDEV("p",{className:`text-sm font-medium ${d==="current"?"text-primary":"text-muted-foreground"}`,children:a.label},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:109,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:108,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:92,columnNumber:19},this),!D&&e.jsxDEV("div",{className:`flex-1 h-px mx-4 ${d==="completed"?"bg-success":"bg-border"}`},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:121,columnNumber:21},this)]},a.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:91,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:84,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:83,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxDEV("div",{className:"lg:col-span-3",children:o()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:136,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:[i&&r==="publish"&&e.jsxDEV(f,{className:"border-primary/20 bg-primary/5",children:[e.jsxDEV(C,{className:"pb-3",children:e.jsxDEV(V,{className:"text-sm flex items-center gap-2 text-primary",children:[e.jsxDEV(Me,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:145,columnNumber:19},this),"Progresso da Importação"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:144,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:143,columnNumber:15},this),e.jsxDEV(h,{children:e.jsxDEV(wn,{progress:m,stage:m<30?"importing":m<80?"creating-version":"publishing",stats:{total:n?.summary?.analyzed||0,processed:Math.floor(m/100*(n?.summary?.valid||0)),errors:n?.summary?.errors||0,warnings:n?.summary?.warnings||0}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:150,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:142,columnNumber:13},this),e.jsxDEV(f,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950",children:[e.jsxDEV(C,{className:"pb-3",children:e.jsxDEV(V,{className:"text-sm flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[e.jsxDEV(Ni,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:176,columnNumber:17},this),"Compliance LGPD"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:175,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:174,columnNumber:13},this),e.jsxDEV(h,{className:"text-xs text-amber-700 dark:text-amber-300 space-y-2",children:[e.jsxDEV("p",{children:["🔒 ",e.jsxDEV("strong",{children:"Dados mascarados:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:182,columnNumber:20},this)," CPFs e informações sensíveis são automaticamente mascarados para proteção."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:181,columnNumber:15},this),e.jsxDEV("p",{children:["⚠️ ",e.jsxDEV("strong",{children:"Validação obrigatória:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:186,columnNumber:20},this)," Confirmação nos autos é obrigatória antes de decisões."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:173,columnNumber:11},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"pb-3",children:e.jsxDEV(V,{className:"text-sm",children:"Template"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:194,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:193,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV(g,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{const a=document.createElement("a");a.href="/template-base-exemplo.csv",a.download="template-base-exemplo.csv",document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:[e.jsxDEV(he,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:210,columnNumber:17},this),"Baixar Template"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:197,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:196,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:192,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:139,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:135,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:70,columnNumber:5},this)}const Pn=()=>e.jsxDEV(Sn,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ImportBase.tsx",lineNumber:4,columnNumber:10},void 0),xt=Object.freeze(Object.defineProperty({__proto__:null,default:Pn},Symbol.toStringTag,{value:"Module"})),An=()=>{const[r,t]=p.useState([]),[s,n]=p.useState(!0),[i,m]=p.useState(null),{user:u}=de(),{toast:o}=Xe();p.useEffect(()=>{u&&a()},[u]);const a=async()=>{try{n(!0);const{data:N,error:x}=await A.from("versions").select("*").order("number",{ascending:!1});if(x)throw x;t(N||[]),m(N?.find(l=>l.status==="published")||null)}catch(N){console.error("Error fetching versions:",N),o({title:"Erro",description:"Falha ao carregar versões",variant:"destructive"})}finally{n(!1)}},b=N=>new Date(N).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),d=async N=>{try{const{error:x}=await A.functions.invoke("publish-version",{body:{versionId:N}});if(x)throw x;o({title:"Sucesso",description:"Versão publicada com sucesso"}),a()}catch(x){console.error("Error publishing version:",x),o({title:"Erro",description:"Falha ao publicar versão",variant:"destructive"})}},D=async(N,x)=>{try{const{error:l}=await A.functions.invoke("rollback-version",{body:{toVersionId:N}});if(l)throw l;o({title:"Sucesso",description:`Rollback para v${x} realizado com sucesso`}),a()}catch(l){console.error("Error rolling back:",l),o({title:"Erro",description:"Falha ao realizar rollback",variant:"destructive"})}},v=(N,x)=>{if(x&&N==="published")return e.jsxDEV(G,{className:"bg-success text-success-foreground",children:"ATIVA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:128,columnNumber:9},void 0);switch(N){case"draft":return e.jsxDEV(G,{variant:"secondary",children:"RASCUNHO"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:134,columnNumber:16},void 0);case"published":case"archived":return e.jsxDEV(G,{variant:"outline",children:"ARQUIVADA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:137,columnNumber:16},void 0);default:return e.jsxDEV(G,{variant:"secondary",children:N?.toUpperCase()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:139,columnNumber:16},void 0)}};return s?e.jsxDEV("div",{className:"space-y-6",children:e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Versões & Rollback"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:147,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Carregando versões..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:150,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:146,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:145,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Versões & Rollback"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:159,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Gerencie versões da base de dados e execute rollbacks quando necessário"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:162,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:158,columnNumber:7},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(Di,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:171,columnNumber:13},void 0),"Histórico de Versões"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:170,columnNumber:11},void 0),e.jsxDEV(_,{children:"Lista de todas as versões criadas e seus status"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:169,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{children:[e.jsxDEV(S,{children:"Versão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:182,columnNumber:17},void 0),e.jsxDEV(S,{children:"Hash"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:183,columnNumber:17},void 0),e.jsxDEV(S,{children:"Status"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:184,columnNumber:17},void 0),e.jsxDEV(S,{children:"Registros"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:185,columnNumber:17},void 0),e.jsxDEV(S,{children:"Criada em"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:186,columnNumber:17},void 0),e.jsxDEV(S,{children:"Autor"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:187,columnNumber:17},void 0),e.jsxDEV(S,{children:"Ações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:188,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:181,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:180,columnNumber:13},void 0),e.jsxDEV(xe,{children:r.length>0?r.map(N=>e.jsxDEV(K,{children:[e.jsxDEV(H,{className:"font-medium",children:["v",N.number]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:195,columnNumber:21},void 0),e.jsxDEV(H,{children:e.jsxDEV("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:N.file_checksum?.slice(0,8)||"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:199,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:198,columnNumber:21},void 0),e.jsxDEV(H,{children:v(N.status,N.status==="published")},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:203,columnNumber:21},void 0),e.jsxDEV(H,{children:N.summary?.imported?.toLocaleString()||"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:209,columnNumber:21},void 0),e.jsxDEV(H,{children:b(N.created_at)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:212,columnNumber:21},void 0),e.jsxDEV(H,{children:N.summary?.created_by||"Sistema"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:213,columnNumber:21},void 0),e.jsxDEV(H,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(g,{variant:"ghost",size:"sm",title:"Visualizar",children:e.jsxDEV(De,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:219,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:218,columnNumber:25},void 0),e.jsxDEV(g,{variant:"ghost",size:"sm",title:"Baixar",children:e.jsxDEV(he,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:222,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:221,columnNumber:25},void 0),N.status==="draft"&&e.jsxDEV(g,{variant:"ghost",size:"sm",className:"text-success hover:text-success/80",onClick:()=>d(N.id),title:"Publicar versão",children:e.jsxDEV(Y,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:232,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:225,columnNumber:27},void 0),N.status==="archived"&&e.jsxDEV(g,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80",onClick:()=>D(N.id,N.number),title:"Fazer rollback",children:e.jsxDEV(os,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:245,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:236,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:217,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:216,columnNumber:21},void 0)]},N.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:194,columnNumber:19},void 0)):e.jsxDEV(K,{children:e.jsxDEV(H,{colSpan:7,className:"text-center text-muted-foreground",children:"Nenhuma versão encontrada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:254,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:253,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:191,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:179,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:178,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:168,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Versão Ativa"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV(_,{children:"Informações da versão atualmente em produção"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:271,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:269,columnNumber:11},void 0),e.jsxDEV(h,{children:i?e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Versão:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:279,columnNumber:19},void 0),e.jsxDEV(G,{className:"bg-success text-success-foreground",children:["v",i.number]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:280,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:278,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Hash:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:285,columnNumber:19},void 0),e.jsxDEV("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:i.file_checksum?.slice(0,8)||"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:286,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:284,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Registros:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:291,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm",children:i.summary?.imported?.toLocaleString()||"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:292,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:290,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Publicada em:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:297,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm",children:b(i.published_at)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:298,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:296,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:277,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-center text-muted-foreground py-4",children:"Nenhuma versão ativa encontrada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:304,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:275,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:268,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Ações Rápidas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:313,columnNumber:13},void 0),e.jsxDEV(_,{children:"Operações frequentes com versões"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:314,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:312,columnNumber:11},void 0),e.jsxDEV(h,{className:"space-y-3",children:[e.jsxDEV(g,{variant:"outline",className:"w-full justify-start",children:[e.jsxDEV(he,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:318,columnNumber:15},void 0),"Baixar Versão Ativa"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:317,columnNumber:13},void 0),e.jsxDEV(g,{variant:"outline",className:"w-full justify-start",children:[e.jsxDEV(De,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:322,columnNumber:15},void 0),"Comparar Versões"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:321,columnNumber:13},void 0),r.find(N=>N.status==="archived")&&e.jsxDEV(g,{variant:"outline",className:"w-full justify-start text-primary hover:text-primary/80",onClick:()=>{const N=r.find(x=>x.status==="archived");N&&D(N.id,N.number)},children:[e.jsxDEV(os,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:338,columnNumber:17},void 0),"Rollback Disponível"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:326,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:316,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:311,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:267,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Versions.tsx",lineNumber:157,columnNumber:5},void 0)},jt=Object.freeze(Object.defineProperty({__proto__:null,default:An},Symbol.toStringTag,{value:"Module"})),_n=({user:r,isOpen:t,onClose:s,onRoleChange:n,loading:i})=>{const[m,u]=p.useState("VIEWER"),[o,a]=p.useState("NONE");Qs.useEffect(()=>{r&&(u(r.role),a(r.data_access_level))},[r]);const b=async()=>{r&&(await n(r.user_id,m,o),s())};if(!r)return null;const d=v=>{switch(v){case"ADMIN":return"Acesso completo ao sistema, pode gerenciar usuários e configurações";case"ANALYST":return"Pode analisar dados, criar relatórios e fazer análises";case"VIEWER":return"Visualização limitada conforme nível de acesso aos dados";default:return""}},D=v=>{switch(v){case"FULL":return"Acesso completo a todos os dados, incluindo informações sensíveis";case"MASKED":return"Acesso aos dados com informações pessoais mascaradas";case"NONE":return"Sem acesso a dados pessoais ou sensíveis";default:return""}};return e.jsxDEV(Be,{open:t,onOpenChange:s,children:e.jsxDEV(Le,{className:"sm:max-w-[425px]",children:[e.jsxDEV(He,{children:[e.jsxDEV(ye,{className:"flex items-center gap-2",children:[e.jsxDEV(ve,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:103,columnNumber:13},void 0),"Alterar Papel e Acesso"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:102,columnNumber:11},void 0),e.jsxDEV(cs,{children:["Configurar papel e nível de acesso aos dados para"," ",e.jsxDEV("strong",{children:r.email},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:108,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:106,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:101,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(I,{children:"Papel Atual"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:114,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(G,{variant:r.role==="ADMIN"?"destructive":r.role==="ANALYST"?"default":"secondary",children:r.role},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:116,columnNumber:15},void 0),e.jsxDEV(G,{variant:"outline",children:r.data_access_level},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:127,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:113,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(I,{htmlFor:"role",children:"Novo Papel"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:132,columnNumber:13},void 0),e.jsxDEV(oe,{value:m,onValueChange:v=>u(v),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:140,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:139,columnNumber:15},void 0),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"VIEWER",children:"Visualizador"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:143,columnNumber:17},void 0),e.jsxDEV(R,{value:"ANALYST",children:"Analista"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:144,columnNumber:17},void 0),e.jsxDEV(R,{value:"ADMIN",children:"Administrador"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:145,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:142,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:133,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:d(m)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:148,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:131,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV(I,{htmlFor:"dataAccess",children:"Nível de Acesso aos Dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:154,columnNumber:13},void 0),e.jsxDEV(oe,{value:o,onValueChange:v=>a(v),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:162,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:161,columnNumber:15},void 0),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"NONE",children:"Sem Acesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:165,columnNumber:17},void 0),e.jsxDEV(R,{value:"MASKED",children:"Dados Mascarados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:166,columnNumber:17},void 0),e.jsxDEV(R,{value:"FULL",children:"Acesso Completo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:167,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:164,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:155,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:D(o)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:170,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:153,columnNumber:11},void 0),(m!==r.role||o!==r.data_access_level)&&e.jsxDEV("div",{className:"p-3 bg-warning/10 border border-warning/20 rounded-md",children:e.jsxDEV("p",{className:"text-sm text-warning-foreground",children:[e.jsxDEV("strong",{children:"Atenção:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:179,columnNumber:17},void 0)," Estas alterações entrarão em vigor imediatamente e afetarão o acesso do usuário ao sistema."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:178,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:177,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:112,columnNumber:9},void 0),e.jsxDEV(Zs,{children:[e.jsxDEV(g,{variant:"outline",onClick:s,disabled:i,children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:187,columnNumber:11},void 0),e.jsxDEV(g,{onClick:b,disabled:i||m===r.role&&o===r.data_access_level,children:[i&&e.jsxDEV(Ge,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:198,columnNumber:25},void 0),"Confirmar Alteração"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:190,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:186,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:100,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:99,columnNumber:5},void 0)},Tn=({isOpen:r,onClose:t,onConfirm:s,title:n,description:i,confirmText:m="Confirmar",variant:u="default",loading:o=!1})=>e.jsxDEV(er,{open:r,onOpenChange:t,children:e.jsxDEV(sr,{children:[e.jsxDEV(rr,{children:[e.jsxDEV(ir,{children:n},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:39,columnNumber:11},void 0),e.jsxDEV(nr,{children:i},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:40,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:38,columnNumber:9},void 0),e.jsxDEV(tr,{children:[e.jsxDEV(or,{disabled:o,children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:43,columnNumber:11},void 0),e.jsxDEV(Gs,{onClick:s,disabled:o,className:u==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:[o&&e.jsxDEV(Ge,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:53,columnNumber:25},void 0),m]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:44,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:42,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:37,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:36,columnNumber:5},void 0),Mn=()=>{const{profile:r}=de(),[t,s]=p.useState(!1),[n,i]=p.useState(""),[m,u]=p.useState("VIEWER"),[o,a]=p.useState("NONE"),[b,d]=p.useState(!0),[D,v]=p.useState(!1),[N,x]=p.useState(!1),[l,j]=p.useState(null),[c,O]=p.useState([]),[T,M]=p.useState([]),[z,U]=p.useState(""),[E,y]=p.useState("all"),[k,L]=p.useState("all"),[X,P]=p.useState(null),[Z,se]=p.useState(!1),[$,fe]=p.useState(null);p.useEffect(()=>{r?.organization_id&&(be(),Oe())},[r?.organization_id]);const be=async()=>{try{const{data:w,error:ee}=await A.from("organizations").select("*").eq("id",r?.organization_id).single();if(ee)throw ee;j(w)}catch{B({title:"Erro",description:"Não foi possível carregar dados da organização",variant:"destructive"})}finally{d(!1)}},Oe=async()=>{try{const{data:w,error:ee}=await A.from("profiles").select("*").eq("organization_id",r?.organization_id).order("created_at",{ascending:!1});if(ee)throw ee;O(w||[]),M(w||[])}catch{B({title:"Erro",description:"Não foi possível carregar usuários",variant:"destructive"})}};p.useEffect(()=>{let w=c;z&&(w=w.filter(ee=>ee.email.toLowerCase().includes(z.toLowerCase())||ee.user_id.toLowerCase().includes(z.toLowerCase()))),E!=="all"&&(w=w.filter(ee=>E==="active"?ee.is_active:!ee.is_active)),k!=="all"&&(w=w.filter(ee=>ee.role===k)),M(w)},[c,z,E,k]);const Qe=async()=>{if(!(!l||!r?.organization_id)){v(!0);try{const{error:w}=await A.from("organizations").update({name:l.name,domain:l.domain,require_2fa:l.require_2fa,export_limit:l.export_limit,retention_months:l.retention_months}).eq("id",r.organization_id);if(w)throw w;B({title:"Sucesso",description:"Dados da organização salvos com sucesso"})}catch{B({title:"Erro",description:"Não foi possível salvar os dados",variant:"destructive"})}finally{v(!1)}}},Fe=async()=>{if(!(!n||!r?.organization_id)){x(!0);try{if(l?.domain&&n.split("@")[1]!==l.domain){B({title:"Erro",description:`E-mail deve ser do domínio ${l.domain}`,variant:"destructive"});return}const{error:w}=await A.functions.invoke("user-invitations",{body:{email:n,role:m,data_access_level:o,org_id:r.organization_id}});if(w)throw w;B({title:"Convite enviado",description:`Convite enviado para ${n} com perfil ${m}`}),s(!1),i(""),u("VIEWER"),a("NONE")}catch(w){const ee=w instanceof Error?w.message:"Não foi possível enviar o convite";B({title:"Erro",description:ee,variant:"destructive"})}finally{x(!1)}}},qe=async(w,ee)=>{x(!0);try{const{data:Te,error:Ee}=await A.functions.invoke("manage-user-roles",{body:{action:w,user_id:ee}});if(Ee)throw Ee;B({title:"Sucesso",description:Te.message}),await Oe()}catch(Te){const Ee=Te instanceof Error?Te.message:"Não foi possível executar a ação";B({title:"Erro",description:Ee,variant:"destructive"})}finally{x(!1),fe(null)}},Ts=async(w,ee,Te)=>{x(!0);try{const{data:Ee,error:fs}=await A.functions.invoke("manage-user-roles",{body:{action:"change_role",user_id:w,role:ee,data_access_level:Te}});if(fs)throw fs;B({title:"Sucesso",description:Ee.message}),await Oe()}catch(Ee){const fs=Ee instanceof Error?Ee.message:"Não foi possível alterar o papel";B({title:"Erro",description:fs,variant:"destructive"})}finally{x(!1)}},F=(w,ee)=>{const Te={activate:{title:"Ativar Usuário",description:`Tem certeza que deseja ativar o usuário ${w.email}? Ele poderá acessar o sistema novamente.`},deactivate:{title:"Desativar Usuário",description:`Tem certeza que deseja desativar o usuário ${w.email}? Ele perderá acesso ao sistema.`},delete:{title:"Revogar Acesso",description:`Tem certeza que deseja revogar completamente o acesso de ${w.email}? Esta ação não pode ser desfeita.`}};fe({user:w,action:ee,...Te[ee]})};if(b)return e.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxDEV(Ge,{className:"h-8 w-8 animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:378,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:377,columnNumber:7},void 0);if(!l)return e.jsxDEV("div",{className:"text-center py-8",children:e.jsxDEV("p",{className:"text-muted-foreground",children:"Não foi possível carregar dados da organização"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:386,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:385,columnNumber:7},void 0);const W=w=>{switch(w){case"ADMIN":return e.jsxDEV(G,{className:"bg-destructive text-destructive-foreground",children:"Admin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:397,columnNumber:11},void 0);case"ANALYST":return e.jsxDEV(G,{className:"bg-primary text-primary-foreground",children:"Analista"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:403,columnNumber:11},void 0);case"VIEWER":return e.jsxDEV(G,{variant:"secondary",children:"Visualizador"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:406,columnNumber:16},void 0);default:return e.jsxDEV(G,{variant:"outline",children:w},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:408,columnNumber:16},void 0)}},_e=w=>w?e.jsxDEV(G,{className:"bg-success text-success-foreground",children:"Ativo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:415,columnNumber:9},void 0):e.jsxDEV(G,{variant:"secondary",children:"Inativo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:418,columnNumber:14},void 0);return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Organização & Acessos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:425,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Gerencie dados da organização, usuários e políticas de acesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:428,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:424,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(Os,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:437,columnNumber:15},void 0),"Dados da Organização"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:436,columnNumber:13},void 0),e.jsxDEV(_,{children:"Informações básicas e configurações da organização"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:440,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:435,columnNumber:11},void 0),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{htmlFor:"orgName",children:"Nome da Organização"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:447,columnNumber:17},void 0),e.jsxDEV(Q,{id:"orgName",value:l.name,onChange:w=>j({...l,name:w.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:448,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:446,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{htmlFor:"orgCode",children:"Código"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:457,columnNumber:17},void 0),e.jsxDEV(Q,{id:"orgCode",value:l.code,disabled:!0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:458,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:456,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:445,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{htmlFor:"domain",children:"Domínio Permitido"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:463,columnNumber:15},void 0),e.jsxDEV(Q,{id:"domain",value:l.domain||"",placeholder:"exemplo.com",onChange:w=>j({...l,domain:w.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:464,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:462,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{htmlFor:"retention",children:"Retenção de Dados (meses)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:475,columnNumber:15},void 0),e.jsxDEV(Q,{id:"retention",type:"number",value:l.retention_months,onChange:w=>j({...l,retention_months:parseInt(w.target.value)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:476,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:474,columnNumber:13},void 0),e.jsxDEV(g,{className:"w-full",onClick:Qe,disabled:D,children:[D&&e.jsxDEV(Ge,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:494,columnNumber:26},void 0),"Salvar Alterações"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:489,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:444,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:434,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Políticas de Segurança"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:502,columnNumber:13},void 0),e.jsxDEV(_,{children:"Configure políticas de acesso e segurança"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:503,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:501,columnNumber:11},void 0),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV(I,{children:"Exigir Autenticação 2FA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:510,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Obrigatório para todos os usuários"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:511,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:509,columnNumber:15},void 0),e.jsxDEV(ds,{checked:l.require_2fa,onCheckedChange:w=>j({...l,require_2fa:w})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:515,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:508,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:"Limite de Export"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:524,columnNumber:15},void 0),e.jsxDEV(oe,{value:l.export_limit,onValueChange:w=>j({...l,export_limit:w}),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:532,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:531,columnNumber:17},void 0),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"ROLE_BASED",children:"Baseado no Papel"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:535,columnNumber:19},void 0),e.jsxDEV(R,{value:"UNLIMITED",children:"Ilimitado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:536,columnNumber:19},void 0),e.jsxDEV(R,{value:"RESTRICTED",children:"Restrito"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:537,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:534,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:525,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:523,columnNumber:13},void 0),e.jsxDEV("div",{className:"pt-4 space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Limites por Papel:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:543,columnNumber:15},void 0),e.jsxDEV("div",{className:"text-sm space-y-1",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"VIEWER:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:546,columnNumber:19},void 0),e.jsxDEV("span",{children:"Copiar bloco"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:547,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:545,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"ANALYST:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:550,columnNumber:19},void 0),e.jsxDEV("span",{children:"Export CSV"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:551,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:549,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"ADMIN:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:554,columnNumber:19},void 0),e.jsxDEV("span",{children:"PDF/CSV completo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:555,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:553,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:544,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:542,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:507,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:500,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:433,columnNumber:7},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ms,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:567,columnNumber:15},void 0),"Usuários & Acessos"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:566,columnNumber:13},void 0),e.jsxDEV(Be,{open:t,onOpenChange:s,children:[e.jsxDEV(ar,{asChild:!0,children:e.jsxDEV(g,{children:[e.jsxDEV(Ys,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:576,columnNumber:19},void 0),"Convidar Usuário"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:575,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:574,columnNumber:15},void 0),e.jsxDEV(Le,{children:[e.jsxDEV(He,{children:[e.jsxDEV(ye,{children:"Convidar Novo Usuário"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:582,columnNumber:19},void 0),e.jsxDEV(cs,{children:"Envie um convite para um novo usuário com papel específico"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:583,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:581,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{htmlFor:"email",children:"E-mail"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:589,columnNumber:21},void 0),e.jsxDEV(Q,{id:"email",type:"email",value:n,onChange:w=>i(w.target.value),placeholder:"usuario@exemplo.com"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:590,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:588,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:"Papel Inicial"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:599,columnNumber:21},void 0),e.jsxDEV(oe,{value:m,onValueChange:w=>u(w),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:607,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:606,columnNumber:23},void 0),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"VIEWER",children:"Visualizador"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:610,columnNumber:25},void 0),e.jsxDEV(R,{value:"ANALYST",children:"Analista"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:611,columnNumber:25},void 0),e.jsxDEV(R,{value:"ADMIN",children:"Administrador"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:612,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:609,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:600,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:598,columnNumber:19},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:"Nível de Acesso aos Dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:617,columnNumber:21},void 0),e.jsxDEV(oe,{value:o,onValueChange:w=>a(w),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:625,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:624,columnNumber:23},void 0),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"NONE",children:"Sem Acesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:628,columnNumber:25},void 0),e.jsxDEV(R,{value:"MASKED",children:"Dados Mascarados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:629,columnNumber:25},void 0),e.jsxDEV(R,{value:"FULL",children:"Acesso Completo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:630,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:627,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:618,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:616,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:587,columnNumber:17},void 0),e.jsxDEV(Zs,{children:[e.jsxDEV(g,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:636,columnNumber:19},void 0),e.jsxDEV(g,{onClick:Fe,disabled:N,children:[N&&e.jsxDEV(Ge,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:644,columnNumber:23},void 0),!N&&e.jsxDEV(fi,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:646,columnNumber:40},void 0),"Enviar Convite"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:642,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:635,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:580,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:570,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:565,columnNumber:11},void 0),e.jsxDEV(_,{children:"Gerencie usuários, papéis e status de acesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:653,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:564,columnNumber:9},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"flex gap-4 mb-6",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:662,columnNumber:17},void 0),e.jsxDEV(Q,{placeholder:"Buscar por e-mail ou ID...",value:z,onChange:w=>U(w.target.value),className:"pl-10"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:663,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:661,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:660,columnNumber:13},void 0),e.jsxDEV(oe,{value:E,onValueChange:w=>y(w),children:[e.jsxDEV(ae,{className:"w-[150px]",children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:678,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:677,columnNumber:15},void 0),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"all",children:"Todos Status"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:681,columnNumber:17},void 0),e.jsxDEV(R,{value:"active",children:"Ativos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:682,columnNumber:17},void 0),e.jsxDEV(R,{value:"inactive",children:"Inativos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:683,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:680,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:671,columnNumber:13},void 0),e.jsxDEV(oe,{value:k,onValueChange:w=>L(w),children:[e.jsxDEV(ae,{className:"w-[150px]",children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:693,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:692,columnNumber:15},void 0),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"all",children:"Todos Papéis"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:696,columnNumber:17},void 0),e.jsxDEV(R,{value:"ADMIN",children:"Admin"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:697,columnNumber:17},void 0),e.jsxDEV(R,{value:"ANALYST",children:"Analista"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:698,columnNumber:17},void 0),e.jsxDEV(R,{value:"VIEWER",children:"Visualizador"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:699,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:695,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:686,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:659,columnNumber:11},void 0),e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{children:[e.jsxDEV(S,{children:"Usuário"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:707,columnNumber:17},void 0),e.jsxDEV(S,{children:"E-mail"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:708,columnNumber:17},void 0),e.jsxDEV(S,{children:"Papel & Acesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:709,columnNumber:17},void 0),e.jsxDEV(S,{children:"Status"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:710,columnNumber:17},void 0),e.jsxDEV(S,{children:"Último Acesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:711,columnNumber:17},void 0),e.jsxDEV(S,{children:"Ações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:712,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:706,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:705,columnNumber:13},void 0),e.jsxDEV(xe,{children:T.length===0?e.jsxDEV(K,{children:e.jsxDEV(H,{colSpan:6,className:"text-center py-8",children:e.jsxDEV("p",{className:"text-muted-foreground",children:z||E!=="all"||k!=="all"?"Nenhum usuário encontrado com os filtros aplicados":"Nenhum usuário encontrado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:719,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:718,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:717,columnNumber:17},void 0):T.map(w=>e.jsxDEV(K,{children:[e.jsxDEV(H,{className:"font-medium",children:w.email.split("@")[0]},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:731,columnNumber:21},void 0),e.jsxDEV(H,{children:w.email},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:734,columnNumber:21},void 0),e.jsxDEV(H,{children:e.jsxDEV("div",{className:"flex flex-col gap-1",children:[W(w.role),e.jsxDEV(G,{variant:"outline",className:"text-xs",children:w.data_access_level},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:738,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:736,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:735,columnNumber:21},void 0),e.jsxDEV(H,{children:_e(w.is_active)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:743,columnNumber:21},void 0),e.jsxDEV(H,{children:e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("div",{children:["Criado:"," ",new Date(w.created_at).toLocaleDateString("pt-BR")]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:746,columnNumber:25},void 0),w.last_login_at&&e.jsxDEV("div",{className:"text-muted-foreground text-xs",children:["Login:"," ",new Date(w.last_login_at).toLocaleDateString("pt-BR")]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:753,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:745,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:744,columnNumber:21},void 0),e.jsxDEV(H,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[w.is_active?e.jsxDEV(g,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive-foreground hover:bg-destructive/10",title:"Desativar usuário",onClick:()=>F(w,"deactivate"),disabled:N||w.user_id===r?.user_id,children:e.jsxDEV(pi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:787,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:775,columnNumber:27},void 0):e.jsxDEV(g,{variant:"ghost",size:"sm",title:"Ativar usuário",onClick:()=>F(w,"activate"),disabled:N,children:e.jsxDEV(Hr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:772,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:765,columnNumber:27},void 0),e.jsxDEV(g,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary-foreground hover:bg-primary/10",title:"Alterar papel",onClick:()=>{P(w),se(!0)},disabled:N,children:e.jsxDEV(ve,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:801,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:790,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:763,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:762,columnNumber:21},void 0)]},w.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:730,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:715,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:704,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:657,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:563,columnNumber:7},void 0),e.jsxDEV(_n,{user:X,isOpen:Z,onClose:()=>{se(!1),P(null)},onRoleChange:Ts,loading:N},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:814,columnNumber:7},void 0),$&&e.jsxDEV(Tn,{isOpen:!!$,onClose:()=>fe(null),onConfirm:()=>qe($.action,$.user.user_id),title:$.title,description:$.description,confirmText:$.action==="delete"?"Revogar Acesso":"Confirmar",variant:$.action==="deactivate"||$.action==="delete"?"destructive":"default",loading:N},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:827,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Organization.tsx",lineNumber:423,columnNumber:5},void 0)},ht=Object.freeze(Object.defineProperty({__proto__:null,default:Mn},Symbol.toStringTag,{value:"Module"})),je=p.forwardRef(({className:r,...t},s)=>e.jsxDEV(yr,{ref:s,className:le("relative flex w-full touch-none select-none items-center",r),...t,children:[e.jsxDEV(vi,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsxDEV(xi,{className:"absolute h-full bg-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/slider.tsx",lineNumber:19,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/slider.tsx",lineNumber:18,columnNumber:5},void 0),e.jsxDEV(ji,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/slider.tsx",lineNumber:21,columnNumber:5},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/slider.tsx",lineNumber:10,columnNumber:3},void 0));je.displayName=yr.displayName;const kn=()=>{const[r,t]=p.useState(6),[s,n]=p.useState(!0),[i,m]=p.useState({reclamante_foi_testemunha:30,troca_direta:40,triangulacao_confirmada:20,prova_emprestada:10}),[u,o]=p.useState({viewer_limit:50,analyst_limit:1e3,admin_limit:-1}),a=()=>{B({title:"Configurações salvas",description:"Os parâmetros do sistema foram atualizados com sucesso"})},b=()=>{t(6),n(!0),m({reclamante_foi_testemunha:30,troca_direta:40,triangulacao_confirmada:20,prova_emprestada:10}),B({title:"Configurações restauradas",description:"Parâmetros voltaram aos valores padrão"})},d=Object.values(i).reduce((D,v)=>D+v,0);return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Parâmetros & Regras"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:78,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Configure parâmetros globais do sistema e regras de negócio"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:81,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:77,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(Se,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:90,columnNumber:15},void 0),"Janela de Triangulação"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:89,columnNumber:13},void 0),e.jsxDEV(_,{children:"Período em meses considerado para análise de triangulação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:93,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:88,columnNumber:11},void 0),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:["Meses: ",r]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:99,columnNumber:15},void 0),e.jsxDEV(je,{value:[r],onValueChange:D=>t(D[0]),max:24,min:1,step:1},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:100,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxDEV("span",{children:"1 mês"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:108,columnNumber:17},void 0),e.jsxDEV("span",{children:"24 meses"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:109,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:98,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-3 bg-muted rounded-lg",children:e.jsxDEV("p",{className:"text-sm",children:[e.jsxDEV("strong",{children:"Impacto:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:115,columnNumber:17},void 0)," Processos e testemunhas dentro de"," ",r," meses serão considerados para identificação de padrões suspeitos."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:114,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:87,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(ve,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:126,columnNumber:15},void 0),"Configurações de Privacidade"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:125,columnNumber:13},void 0),e.jsxDEV(_,{children:"Controles de privacidade e proteção de dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:129,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:124,columnNumber:11},void 0),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV(I,{children:"Máscara de CPF"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:136,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Ocultar últimos dígitos do CPF"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:137,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:135,columnNumber:15},void 0),e.jsxDEV(ds,{checked:s,onCheckedChange:n},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:134,columnNumber:13},void 0),e.jsxDEV("div",{className:"p-3 bg-muted rounded-lg",children:e.jsxDEV("p",{className:"text-sm",children:[e.jsxDEV("strong",{children:"Exemplo:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:149,columnNumber:17},void 0)," ",s?"123.456.789-**":"123.456.789-00"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:148,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:147,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:133,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:123,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:86,columnNumber:7},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(hi,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:160,columnNumber:13},void 0),"Pesos do Score de Risco"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:159,columnNumber:11},void 0),e.jsxDEV(_,{children:"Configure a importância de cada indicador no cálculo do score final"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:158,columnNumber:9},void 0),e.jsxDEV(h,{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:["Reclamante foi Testemunha:"," ",i.reclamante_foi_testemunha,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:171,columnNumber:17},void 0),e.jsxDEV(je,{value:[i.reclamante_foi_testemunha],onValueChange:D=>m(v=>({...v,reclamante_foi_testemunha:D[0]})),max:100,min:0,step:5},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:175,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:170,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:["Troca Direta: ",i.troca_direta,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:190,columnNumber:17},void 0),e.jsxDEV(je,{value:[i.troca_direta],onValueChange:D=>m(v=>({...v,troca_direta:D[0]})),max:100,min:0,step:5},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:191,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:189,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:169,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:["Triangulação Confirmada:"," ",i.triangulacao_confirmada,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:208,columnNumber:17},void 0),e.jsxDEV(je,{value:[i.triangulacao_confirmada],onValueChange:D=>m(v=>({...v,triangulacao_confirmada:D[0]})),max:100,min:0,step:5},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:212,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:207,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:["Prova Emprestada: ",i.prova_emprestada,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:227,columnNumber:17},void 0),e.jsxDEV(je,{value:[i.prova_emprestada],onValueChange:D=>m(v=>({...v,prova_emprestada:D[0]})),max:100,min:0,step:5},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:230,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:226,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:206,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:168,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Total dos pesos:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:247,columnNumber:13},void 0),e.jsxDEV(G,{variant:d===100?"default":"destructive",children:[d,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:248,columnNumber:13},void 0),d!==100&&e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"(deve somar 100%)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:252,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:246,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:167,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:157,columnNumber:7},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Limites de Export por Papel"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:262,columnNumber:11},void 0),e.jsxDEV(_,{children:"Configure limites de exportação por tipo de usuário"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:263,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:261,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:"VIEWER - Registros por export"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:270,columnNumber:15},void 0),e.jsxDEV(Q,{type:"number",value:u.viewer_limit,onChange:D=>o(v=>({...v,viewer_limit:parseInt(D.target.value)||0}))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:271,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:269,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:"ANALYST - Registros por export"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:284,columnNumber:15},void 0),e.jsxDEV(Q,{type:"number",value:u.analyst_limit,onChange:D=>o(v=>({...v,analyst_limit:parseInt(D.target.value)||0}))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:285,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:283,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{children:"ADMIN - Registros por export"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:298,columnNumber:15},void 0),e.jsxDEV(oe,{value:u.admin_limit===-1?"unlimited":"limited",onValueChange:D=>o(v=>({...v,admin_limit:D==="unlimited"?-1:1e4})),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:311,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:310,columnNumber:17},void 0),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"unlimited",children:"Ilimitado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:314,columnNumber:19},void 0),e.jsxDEV(R,{value:"limited",children:"Com limite"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:315,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:313,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:299,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:297,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:268,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:267,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:260,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex gap-4",children:[e.jsxDEV(g,{onClick:a,className:"flex items-center gap-2",children:[e.jsxDEV(wr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:325,columnNumber:11},void 0),"Salvar Configurações"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:324,columnNumber:9},void 0),e.jsxDEV(g,{variant:"outline",onClick:b,className:"flex items-center gap-2",children:[e.jsxDEV(os,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:333,columnNumber:11},void 0),"Restaurar Padrões"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:328,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:323,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:76,columnNumber:5},void 0)},gt=Object.freeze(Object.defineProperty({__proto__:null,default:kn},Symbol.toStringTag,{value:"Module"}));function In(){de();const[r,t]=p.useState([]),[s,n]=p.useState([]),[i,m]=p.useState(!0),[u,o]=p.useState("all");p.useEffect(()=>{a()},[]);const a=async()=>{m(!0);try{const{data:N,error:x}=await A.from("lgpd_requests").select("*").order("created_at",{ascending:!1});x?console.error("Error fetching requests:",x):t(N||[]);const{data:l,error:j}=await A.from("data_access_logs").select("*").order("created_at",{ascending:!1}).limit(100);j?console.error("Error fetching logs:",j):n(l||[])}catch(N){console.error("Error fetching compliance data:",N),ne.error("Erro ao carregar dados de compliance")}finally{m(!1)}},b=N=>{const x={PENDING:{variant:"secondary",icon:Se,text:"Pendente"},PROCESSING:{variant:"default",icon:De,text:"Processando"},COMPLETED:{variant:"default",icon:Y,text:"Concluída"},REJECTED:{variant:"destructive",icon:Xs,text:"Rejeitada"}},l=x[N]||x.PENDING,j=l.icon,c=N==="COMPLETED"?"bg-success text-success-foreground":"";return e.jsxDEV(G,{variant:l.variant,className:c,children:[e.jsxDEV(j,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:121,columnNumber:9},this),l.text]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:120,columnNumber:7},this)},d=N=>({ACCESS:"Acesso aos Dados",RECTIFICATION:"Retificação",DELETION:"Exclusão",PORTABILITY:"Portabilidade"})[N]||N,D=u==="all"?r:r.filter(N=>N.status===u),v=async(N,x)=>{try{const{error:l}=await A.from("lgpd_requests").update({status:x,completed_at:x==="COMPLETED"?new Date().toISOString():null}).eq("id",N);if(l)throw l;ne.success("Status atualizado com sucesso"),a()}catch(l){console.error("Error updating status:",l),ne.error("Erro ao atualizar status")}};return i?e.jsxDEV("div",{className:"flex items-center justify-center h-96",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(ve,{className:"h-12 w-12 mx-auto mb-4 animate-pulse text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:167,columnNumber:11},this),e.jsxDEV("p",{children:"Carregando dados de compliance..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:166,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:165,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsxDEV(ve,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:179,columnNumber:11},this),"Compliance LGPD"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:178,columnNumber:9},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Gestão de solicitações e logs de acesso conforme a Lei Geral de Proteção de Dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:177,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxDEV(f,{children:e.jsxDEV(h,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Solicitações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:194,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:r.length},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:197,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:193,columnNumber:15},this),e.jsxDEV(ge,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:199,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:191,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:190,columnNumber:9},this),e.jsxDEV(f,{children:e.jsxDEV(h,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Pendentes"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:208,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:r.filter(N=>N.status==="PENDING").length},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:211,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:207,columnNumber:15},this),e.jsxDEV(Se,{className:"h-8 w-8 text-orange-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:215,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:206,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:204,columnNumber:9},this),e.jsxDEV(f,{children:e.jsxDEV(h,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Concluídas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:224,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:r.filter(N=>N.status==="COMPLETED").length},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:227,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:223,columnNumber:15},this),e.jsxDEV(Y,{className:"h-8 w-8 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:231,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:222,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:221,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:220,columnNumber:9},this),e.jsxDEV(f,{children:e.jsxDEV(h,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Logs de Acesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:240,columnNumber:17},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:s.length},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:243,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:239,columnNumber:15},this),e.jsxDEV(De,{className:"h-8 w-8 text-blue-500"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:238,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:237,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:236,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:189,columnNumber:7},this),e.jsxDEV(Pe,{defaultValue:"requests",className:"space-y-4",children:[e.jsxDEV(Ae,{children:[e.jsxDEV(q,{value:"requests",children:"Solicitações LGPD"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:253,columnNumber:11},this),e.jsxDEV(q,{value:"logs",children:"Logs de Acesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:254,columnNumber:11},this),e.jsxDEV(q,{value:"settings",children:"Configurações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:255,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:252,columnNumber:9},this),e.jsxDEV(J,{value:"requests",className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(oe,{value:u,onValueChange:o,children:[e.jsxDEV(ae,{className:"w-48",children:e.jsxDEV(ue,{placeholder:"Filtrar por status"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:262,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:261,columnNumber:15},this),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"all",children:"Todos os Status"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:265,columnNumber:17},this),e.jsxDEV(R,{value:"PENDING",children:"Pendentes"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:266,columnNumber:17},this),e.jsxDEV(R,{value:"PROCESSING",children:"Processando"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:267,columnNumber:17},this),e.jsxDEV(R,{value:"COMPLETED",children:"Concluídas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:268,columnNumber:17},this),e.jsxDEV(R,{value:"REJECTED",children:"Rejeitadas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:269,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:260,columnNumber:13},this),e.jsxDEV(g,{onClick:a,children:"Atualizar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:272,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:259,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:D.length===0?e.jsxDEV(f,{children:e.jsxDEV(h,{className:"p-8 text-center",children:[e.jsxDEV(ve,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:279,columnNumber:19},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Nenhuma solicitação LGPD encontrada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:280,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:278,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:277,columnNumber:15},this):D.map(N=>e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(V,{className:"text-lg",children:d(N.request_type)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:291,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Solicitante: ",N.requested_by_email]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:294,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:290,columnNumber:23},this),e.jsxDEV("div",{className:"text-right space-y-2",children:[b(N.status),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(g,{size:"sm",variant:"outline",onClick:()=>v(N.id,"PROCESSING"),disabled:N.status==="COMPLETED",children:"Processar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:301,columnNumber:27},this),e.jsxDEV(g,{size:"sm",variant:"default",onClick:()=>v(N.id,"COMPLETED"),disabled:N.status==="COMPLETED",children:"Concluir"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:311,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:300,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:298,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:289,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:288,columnNumber:19},this),e.jsxDEV(h,{children:[N.justification&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("h4",{className:"font-medium mb-2",children:"Justificativa:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:328,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:N.justification},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:329,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:327,columnNumber:23},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Criada em:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:336,columnNumber:25},this)," ",new Date(N.created_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:335,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Expira em:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:340,columnNumber:25},this)," ",new Date(N.expires_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:339,columnNumber:23},this),N.completed_at&&e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"Concluída em:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:345,columnNumber:27},this)," ",new Date(N.completed_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:344,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:334,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:325,columnNumber:19},this)]},N.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:287,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:275,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:258,columnNumber:9},this),e.jsxDEV(J,{value:"logs",className:"space-y-4",children:e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Logs de Acesso a Dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:362,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Registro de acessos para auditoria LGPD"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:363,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:361,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-2",children:s.slice(0,20).map(N=>e.jsxDEV("div",{className:"flex items-center justify-between py-2 border-b",children:[e.jsxDEV("div",{children:[e.jsxDEV("span",{className:"font-medium",children:N.accessed_table},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:375,columnNumber:23},this),e.jsxDEV("span",{className:"mx-2 text-muted-foreground",children:"•"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:376,columnNumber:23},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:N.access_type},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:377,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:374,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:new Date(N.created_at).toLocaleString("pt-BR")},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:381,columnNumber:21},this)]},N.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:370,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:368,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:367,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:360,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:359,columnNumber:9},this),e.jsxDEV(J,{value:"settings",className:"space-y-4",children:[e.jsxDEV(re,{children:[e.jsxDEV(ce,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:393,columnNumber:13},this),e.jsxDEV(ie,{children:[e.jsxDEV("strong",{children:"Portal do Titular:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:395,columnNumber:15},this)," O portal público para solicitações LGPD está disponível em"," ",e.jsxDEV("a",{href:"/portal-titular",className:"text-primary underline",target:"_blank",children:"/portal-titular"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:397,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:394,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:392,columnNumber:11},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Configurações de Compliance"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:409,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:408,columnNumber:13},this),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Retenção de Dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:413,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Dados são retidos por 24 meses após o fim da necessidade processual, conforme política de retenção configurada."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:414,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:412,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Anonimização Automática"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:421,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"CPFs, nomes e dados sensíveis são mascarados automaticamente em exports e relatórios por padrão."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:422,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:420,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Base Legal"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:429,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Art. 7º, VI da LGPD - Execução regular de direitos em processo judicial"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:430,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:428,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:411,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:407,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:391,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:251,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Compliance.tsx",lineNumber:175,columnNumber:5},this)}const Ct=Object.freeze(Object.defineProperty({__proto__:null,default:In},Symbol.toStringTag,{value:"Module"}));function jr(){const r=[{title:"Compliance LGPD 85% Automatizada",description:"Sistema com políticas de retenção automática, anonimização de PII e auditoria completa",icon:ve,metrics:["85% compliance automática","100% dados protegidos","0 vazamentos registrados"]},{title:"ROI Comprovado em Compliance",description:"Redução de 70% nos custos de adequação LGPD vs. consultoria tradicional",icon:$e,metrics:["70% redução de custos","90% menos tempo de setup","100% auditável"]},{title:"Diferencial Competitivo",description:"Único sistema jurídico com LGPD by design para análise de testemunhas",icon:Ci,metrics:["1º no mercado","Tecnologia exclusiva","Certificação própria"]}],t=[{title:"Whitepaper: LGPD para Escritórios",description:"Guia completo de adequação LGPD para escritórios de advocacia",type:"PDF",pages:"24 páginas",icon:ge,downloadUrl:"/whitepaper-assistjur.pdf"},{title:"Checklist de Compliance",description:"Lista verificação completa para auditoria LGPD interna",type:"Planilha",pages:"5 categorias",icon:Y,downloadUrl:"/checklist-compliance.xlsx"},{title:"Template de Políticas",description:"Modelos prontos de políticas de privacidade e retenção",type:"DOC",pages:"12 modelos",icon:ge,downloadUrl:"/templates-politicas.docx"}],s=[{name:"Dr. Carlos Mendes",role:"Sócio, Mendes & Associados",quote:"Com o AssistJur.IA, nossa adequação LGPD foi 3x mais rápida que o esperado.",compliance:"100% conforme"},{name:"Dra. Ana Silva",role:"Coordenadora de Compliance",quote:"A auditoria automática nos deu total controle sobre os dados dos clientes.",compliance:"0 incidentes"}];return e.jsxDEV(Wi,{children:e.jsxDEV("div",{className:"container mx-auto p-6 space-y-8",children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-8",children:[e.jsxDEV("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsxDEV(gi,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:111,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:110,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Marketing Compliance"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:114,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Argumentário comercial e lead magnets para conversão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:115,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:109,columnNumber:9},this),e.jsxDEV(Pe,{defaultValue:"argumentario",className:"space-y-6",children:[e.jsxDEV(Ae,{className:"grid w-full grid-cols-4",children:[e.jsxDEV(q,{value:"argumentario",children:"Argumentário"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:123,columnNumber:13},this),e.jsxDEV(q,{value:"leadmagnets",children:"Lead Magnets"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:124,columnNumber:13},this),e.jsxDEV(q,{value:"roi",children:"ROI Calculator"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:125,columnNumber:13},this),e.jsxDEV(q,{value:"cases",children:"Cases de Sucesso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:122,columnNumber:11},this),e.jsxDEV(J,{value:"argumentario",className:"space-y-6",children:[e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-1",children:r.map((n,i)=>{const m=n.icon;return e.jsxDEV(f,{className:"border-l-4 border-l-primary",children:[e.jsxDEV(C,{children:e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsxDEV(m,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:139,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:138,columnNumber:25},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV(V,{className:"text-xl",children:n.title},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:142,columnNumber:27},this),e.jsxDEV(_,{className:"mt-2",children:n.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:143,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:141,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:137,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:136,columnNumber:21},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:n.metrics.map((u,o)=>e.jsxDEV(G,{variant:"secondary",children:u},o,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:152,columnNumber:27},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:150,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:149,columnNumber:21},this)]},i,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:135,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:131,columnNumber:13},this),e.jsxDEV(f,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"flex items-center gap-2",children:[e.jsxDEV(ve,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:167,columnNumber:19},this),"Proposta de Valor Única"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:166,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV(h,{children:e.jsxDEV("p",{className:"text-lg leading-relaxed",children:[e.jsxDEV("strong",{children:"AssistJur.IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:173,columnNumber:19},this)," é o único sistema jurídico com"," ",e.jsxDEV(G,{variant:"outline",className:"mx-1",children:"LGPD by design"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:174,columnNumber:19},this),"que oferece ",e.jsxDEV("strong",{children:"85% de compliance automatizada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:177,columnNumber:31},this)," ","para análise de testemunhas, com economia de"," ",e.jsxDEV("strong",{children:"70% nos custos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:179,columnNumber:19},this)," e"," ",e.jsxDEV("strong",{children:"90% menos tempo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:180,columnNumber:19},this)," de adequação."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:172,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:171,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:130,columnNumber:11},this),e.jsxDEV(J,{value:"leadmagnets",className:"space-y-6",children:[e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map((n,i)=>{const m=n.icon;return e.jsxDEV(f,{className:"group hover:shadow-lg transition-shadow",children:[e.jsxDEV(C,{children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"p-2 bg-accent/10 rounded-lg",children:e.jsxDEV(m,{className:"w-5 h-5 text-accent"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:199,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:198,columnNumber:25},this),e.jsxDEV("div",{children:e.jsxDEV(G,{variant:"outline",children:n.type},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:202,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:201,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:197,columnNumber:23},this),e.jsxDEV(V,{className:"text-lg",children:n.title},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:205,columnNumber:23},this),e.jsxDEV(_,{children:n.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:206,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:196,columnNumber:21},this),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["📄 ",n.pages]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:209,columnNumber:23},this),e.jsxDEV(g,{className:"w-full group-hover:bg-primary/90 transition-colors",onClick:()=>window.open(n.downloadUrl,"_blank"),children:[e.jsxDEV(he,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:218,columnNumber:25},this),"Download Gratuito"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:212,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:208,columnNumber:21},this)]},i,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:192,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:188,columnNumber:13},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Performance dos Lead Magnets"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:230,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:229,columnNumber:15},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-primary",children:"1,247"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:235,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Downloads totais"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:236,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:234,columnNumber:19},this),e.jsxDEV("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-accent",children:"32%"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:241,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Taxa de conversão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:242,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:240,columnNumber:19},this),e.jsxDEV("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-primary",children:"89"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:247,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Leads qualificados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:248,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:246,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:233,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:232,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:187,columnNumber:11},this),e.jsxDEV(J,{value:"roi",className:"space-y-6",children:e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Calculadora de ROI - Compliance LGPD"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:261,columnNumber:17},this),e.jsxDEV(_,{children:"Compare os custos de adequação LGPD: AssistJur.IA vs. Consultoria Tradicional"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:260,columnNumber:15},this),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-destructive",children:"Consultoria Tradicional"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:271,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Consultoria inicial:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:276,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"R$ 25.000"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:277,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:275,columnNumber:23},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Implementação (6 meses):"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:280,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"R$ 45.000"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:281,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:279,columnNumber:23},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Auditoria anual:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:284,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"R$ 15.000"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:285,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:283,columnNumber:23},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Manutenção/ano:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:288,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"R$ 12.000"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:289,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:287,columnNumber:23},this),e.jsxDEV("div",{className:"border-t pt-2",children:e.jsxDEV("div",{className:"flex justify-between text-lg font-bold text-destructive",children:[e.jsxDEV("span",{children:"Total (1º ano):"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:293,columnNumber:27},this),e.jsxDEV("span",{children:"R$ 97.000"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:294,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:292,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:291,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:274,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:270,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-primary",children:"AssistJur.IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:302,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Setup inicial:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:307,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"R$ 0"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:308,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:306,columnNumber:23},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Implementação (1 semana):"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:311,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"R$ 2.000"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:312,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:310,columnNumber:23},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Licença anual:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:315,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"R$ 24.000"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:316,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:314,columnNumber:23},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{children:"Suporte incluído:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:319,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium",children:"R$ 0"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:320,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:318,columnNumber:23},this),e.jsxDEV("div",{className:"border-t pt-2",children:e.jsxDEV("div",{className:"flex justify-between text-lg font-bold text-primary",children:[e.jsxDEV("span",{children:"Total (1º ano):"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:324,columnNumber:27},this),e.jsxDEV("span",{children:"R$ 26.000"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:325,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:323,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:322,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:305,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:268,columnNumber:17},this),e.jsxDEV("div",{className:"mt-8 p-6 bg-primary/5 rounded-lg border border-primary/20",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-primary mb-2",children:"R$ 71.000 de economia"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:335,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg text-muted-foreground",children:"73% menos custos no primeiro ano"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:338,columnNumber:21},this),e.jsxDEV("div",{className:"mt-4 text-sm text-muted-foreground",children:"+ 90% menos tempo de implementação + Compliance automática 24/7"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:341,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:334,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:333,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:267,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:259,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:258,columnNumber:11},this),e.jsxDEV(J,{value:"cases",className:"space-y-6",children:[e.jsxDEV("div",{className:"grid gap-6",children:s.map((n,i)=>e.jsxDEV(f,{className:"border-l-4 border-l-accent",children:e.jsxDEV(h,{className:"pt-6",children:e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"p-2 bg-accent/10 rounded-full",children:e.jsxDEV(ms,{className:"w-5 h-5 text-accent"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:359,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:358,columnNumber:23},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("blockquote",{className:"text-lg italic mb-4",children:['"',n.quote,'"']},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:362,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-semibold",children:n.name},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:367,columnNumber:29},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:n.role},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:370,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:366,columnNumber:27},this),e.jsxDEV(G,{variant:"outline",className:"bg-primary/10",children:n.compliance},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:374,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:365,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:361,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:357,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:356,columnNumber:19},this)},i,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:355,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:353,columnNumber:13},this),e.jsxDEV(f,{className:"bg-gradient-to-r from-primary to-accent text-white",children:e.jsxDEV(h,{className:"pt-6",children:e.jsxDEV("div",{className:"text-center space-y-4",children:[e.jsxDEV("h3",{className:"text-2xl font-bold",children:"Pronto para 85% de Compliance Automatizada?"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:389,columnNumber:19},this),e.jsxDEV("p",{className:"text-lg opacity-90",children:"Junte-se aos escritórios que já economizam 70% em adequação LGPD"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:392,columnNumber:19},this),e.jsxDEV("div",{className:"flex gap-4 justify-center",children:[e.jsxDEV(g,{variant:"secondary",size:"lg",children:"Demonstração Gratuita"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:397,columnNumber:21},this),e.jsxDEV(g,{variant:"outline",size:"lg",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:"Falar com Especialista"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:400,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:396,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:388,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:387,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:386,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:352,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:121,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:107,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:106,columnNumber:5},this)}const Vt=Object.freeze(Object.defineProperty({__proto__:null,MarketingCompliance:jr,default:jr},Symbol.toStringTag,{value:"Module"}));function Rn(){const{user:r}=de(),[t,s]=p.useState([]),[n,i]=p.useState([]),[m,u]=p.useState(!0),[o,a]=p.useState(null);p.useEffect(()=>{b()},[]);const b=async()=>{u(!0);try{const{data:l,error:j}=await A.from("retention_policies").select("*").order("table_name");j?(console.error("Error fetching policies:",j),ne.error("Erro ao carregar políticas de retenção")):s(l||[]);const{data:c,error:O}=await A.from("cleanup_logs").select("*").order("started_at",{ascending:!1}).limit(50);O?console.error("Error fetching logs:",O):i(c||[])}catch(l){console.error("Error fetching data:",l),ne.error("Erro ao carregar dados")}finally{u(!1)}},d=async(l,j)=>{try{const{error:c}=await A.from("retention_policies").update(j).eq("id",l);if(c)throw c;ne.success("Política atualizada com sucesso"),b()}catch(c){console.error("Error updating policy:",c),ne.error("Erro ao atualizar política")}},D=async l=>{a(l);try{const{data:j,error:c}=await A.functions.invoke("data-retention",{body:{action:"execute_cleanup",policyId:l}});if(c)throw c;ne.success(`Limpeza executada: ${j.result.records_affected} registros afetados`),b()}catch(j){console.error("Error executing cleanup:",j),ne.error("Erro ao executar limpeza")}finally{a(null)}},v=async()=>{a("batch");try{const{data:l,error:j}=await A.functions.invoke("data-retention",{body:{action:"batch_cleanup",orgId:r?.user_metadata?.organization_id}});if(j)throw j;ne.success(`Limpeza em lote executada: ${l.processed} políticas processadas`),b()}catch(l){console.error("Error executing batch cleanup:",l),ne.error("Erro ao executar limpeza em lote")}finally{a(null)}},N=l=>({processos:"Processos",audit_logs:"Logs de Auditoria",openai_logs:"Logs OpenAI",data_access_logs:"Logs de Acesso",lgpd_requests:"Solicitações LGPD"})[l]||l,x=l=>{switch(l){case"COMPLETED":return e.jsxDEV(G,{className:"bg-success",children:[e.jsxDEV(Y,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:182,columnNumber:13},this),"Concluído"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:181,columnNumber:11},this);case"FAILED":return e.jsxDEV(G,{variant:"destructive",children:[e.jsxDEV(ce,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:189,columnNumber:13},this),"Falhou"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:188,columnNumber:11},this);case"STARTED":return e.jsxDEV(G,{variant:"secondary",children:[e.jsxDEV(Se,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:196,columnNumber:13},this),"Iniciado"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:195,columnNumber:11},this);default:return e.jsxDEV(G,{variant:"outline",children:l},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:201,columnNumber:16},this)}};return m?e.jsxDEV("div",{className:"flex items-center justify-center h-96",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(we,{className:"h-12 w-12 mx-auto mb-4 animate-pulse text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:209,columnNumber:11},this),e.jsxDEV("p",{children:"Carregando políticas de retenção..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:208,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:207,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsxDEV(we,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:222,columnNumber:13},this),"Retenção de Dados"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:221,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Gestão automatizada de políticas de retenção LGPD"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:225,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:220,columnNumber:9},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(g,{onClick:v,disabled:o==="batch",variant:"outline",children:[e.jsxDEV(ts,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:235,columnNumber:13},this),o==="batch"?"Executando...":"Limpeza em Lote"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:230,columnNumber:11},this),e.jsxDEV(g,{onClick:b,variant:"outline",children:"Atualizar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:238,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:229,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:219,columnNumber:7},this),e.jsxDEV(re,{children:[e.jsxDEV(ve,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:246,columnNumber:9},this),e.jsxDEV(ie,{children:[e.jsxDEV("strong",{children:"Compliance LGPD:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:248,columnNumber:11},this)," As políticas de retenção automatizada garantem o descarte seguro de dados após o prazo legal necessário, conforme Art. 6º, VII da LGPD."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:247,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:245,columnNumber:7},this),e.jsxDEV(Pe,{defaultValue:"policies",className:"space-y-4",children:[e.jsxDEV(Ae,{children:[e.jsxDEV(q,{value:"policies",children:"Políticas de Retenção"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:256,columnNumber:11},this),e.jsxDEV(q,{value:"logs",children:"Histórico de Limpezas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:257,columnNumber:11},this),e.jsxDEV(q,{value:"settings",children:"Configurações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:258,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:255,columnNumber:9},this),e.jsxDEV(J,{value:"policies",className:"space-y-4",children:e.jsxDEV("div",{className:"grid gap-4",children:t.map(l=>e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(V,{className:"text-lg",children:N(l.table_name)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:268,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Retenção: ",l.retention_months," meses"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:271,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:267,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-sm",children:"Auto-limpeza:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:277,columnNumber:25},this),e.jsxDEV(ds,{checked:l.auto_cleanup,onCheckedChange:j=>d(l.id,{auto_cleanup:j})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:278,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:276,columnNumber:23},this),e.jsxDEV(g,{size:"sm",onClick:()=>D(l.id),disabled:o===l.id,variant:"outline",children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:293,columnNumber:25},this),o===l.id?"Executando...":"Executar Limpeza"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:287,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:275,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:266,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:265,columnNumber:17},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium",children:"Retenção (meses):"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:304,columnNumber:23},this),e.jsxDEV(Q,{type:"number",value:l.retention_months,onChange:j=>d(l.id,{retention_months:parseInt(j.target.value)}),className:"mt-1",min:"1",max:"120"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:307,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:303,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium",children:"Última Limpeza:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:321,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:l.last_cleanup_at?new Date(l.last_cleanup_at).toLocaleString("pt-BR"):"Nunca executada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:324,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:320,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium",children:"Próxima Limpeza:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:333,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:l.next_cleanup_at?new Date(l.next_cleanup_at).toLocaleString("pt-BR"):"Não agendada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:336,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:332,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:302,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:301,columnNumber:17},this)]},l.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:264,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:262,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:261,columnNumber:9},this),e.jsxDEV(J,{value:"logs",className:"space-y-4",children:e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Histórico de Limpezas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:354,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Registro das execuções de políticas de retenção"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:355,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:353,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-4",children:n.length===0?e.jsxDEV("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma limpeza executada ainda"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:362,columnNumber:19},this):n.map(l=>e.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium",children:N(l.table_name)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:373,columnNumber:27},this),x(l.status)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:372,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[l.records_affected," registros afetados"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:378,columnNumber:25},this),l.error_message&&e.jsxDEV("p",{className:"text-sm text-destructive",children:["Erro: ",l.error_message]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:382,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:371,columnNumber:23},this),e.jsxDEV("div",{className:"text-right text-sm text-muted-foreground",children:[e.jsxDEV("div",{children:["Iniciado:"," ",new Date(l.started_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:388,columnNumber:25},this),l.completed_at&&e.jsxDEV("div",{children:["Concluído:"," ",new Date(l.completed_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:393,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:387,columnNumber:23},this)]},l.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:367,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:360,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:359,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:352,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:351,columnNumber:9},this),e.jsxDEV(J,{value:"settings",className:"space-y-4",children:e.jsxDEV("div",{className:"grid gap-6",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Configurações Globais"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:411,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:410,columnNumber:15},this),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Períodos de Retenção Padrão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:415,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxDEV("div",{children:"Processos: 60 meses (5 anos)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:417,columnNumber:21},this),e.jsxDEV("div",{children:"Logs de Auditoria: 24 meses"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:418,columnNumber:21},this),e.jsxDEV("div",{children:"Logs OpenAI: 12 meses"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:419,columnNumber:21},this),e.jsxDEV("div",{children:"Logs de Acesso: 24 meses"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:420,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:416,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:414,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Frequência de Execução"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:425,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Políticas com auto-limpeza habilitada são executadas mensalmente"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:426,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:424,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Segurança"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:433,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Dados críticos (processos ativos) são protegidos contra exclusão acidental. Logs de auditoria são mantidos para compliance regulatório."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:434,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:432,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:413,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:409,columnNumber:13},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Compliance e Regulamentação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:445,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:444,columnNumber:15},this),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV(re,{children:[e.jsxDEV(ge,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:449,columnNumber:19},this),e.jsxDEV(ie,{children:[e.jsxDEV("strong",{children:"Base Legal LGPD:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:451,columnNumber:21},this),' Art. 6º, VII - "não conservação dos dados pessoais por tempo superior ao necessário para o alcance das finalidades para as quais foram coletados"']},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:450,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:448,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Critérios de Retenção"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:459,columnNumber:19},this),e.jsxDEV("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxDEV("li",{children:"• Processos: Mantidos enquanto tramitam + 5 anos (prescrição)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:461,columnNumber:21},this),e.jsxDEV("li",{children:"• Logs de Auditoria: 2 anos para investigações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:465,columnNumber:21},this),e.jsxDEV("li",{children:"• Dados de IA: 1 ano para melhorias do serviço"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:466,columnNumber:21},this),e.jsxDEV("li",{children:"• Solicitações LGPD: 3 anos para evidência de compliance"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:467,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:460,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:458,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:447,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:443,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:408,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:407,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:254,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:217,columnNumber:5},this)}const Ot=Object.freeze(Object.defineProperty({__proto__:null,default:Rn},Symbol.toStringTag,{value:"Module"})),zn=()=>{const{profile:r}=de(),t=Ss(),{data:s,isLoading:n}=ke({queryKey:["org-settings",r?.organization_id],queryFn:async()=>{const{data:o,error:a}=await A.from("org_settings").select("*").eq("org_id",r?.organization_id).single();if(a&&a.code!=="PGRST116")throw a;return o},enabled:!!r?.organization_id}),{data:i}=ke({queryKey:["usage-stats",r?.organization_id],queryFn:async()=>{const{data:o,error:a}=await A.from("openai_logs").select("*").eq("org_id",r?.organization_id).gte("created_at",new Date(Date.now()-864e5).toISOString()).order("created_at",{ascending:!1});if(a)throw a;const b=o?.reduce((D,v)=>D+(v.cost_cents||0),0)||0,d=o?.length?o.reduce((D,v)=>D+(v.duration_ms||0),0)/o.length:0;return{requests24h:o?.length||0,cost24h:b,avgLatency:Math.round(d),activeModel:s?.model||"gpt-4o-mini"}},enabled:!!r?.organization_id&&!!s}),m=Ue({mutationFn:async o=>{const{data:a,error:b}=await A.functions.invoke("admin-openai-settings",{body:{action:"toggle",enabled:o}});if(b)throw b;return a},onSuccess:()=>{t.invalidateQueries({queryKey:["org-settings"]}),B({title:"Configuração atualizada",description:"Integração OpenAI foi alterada com sucesso."})},onError:o=>{B({title:"Erro",description:o.message||"Falha ao alterar configuração",variant:"destructive"})}});if(n)return e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:104,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:103,columnNumber:7},void 0);const u=s?.openai_enabled||!1;return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Integração OpenAI"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:116,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Geренаre análises inteligentes com IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:117,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:115,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:u?"Ativo":"Desativado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:122,columnNumber:11},void 0),e.jsxDEV(ds,{checked:u,onCheckedChange:o=>m.mutate(o),disabled:m.isPending},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:125,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:121,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:114,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Status da API"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:137,columnNumber:13},void 0),e.jsxDEV(rs,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:138,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:136,columnNumber:11},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:e.jsxDEV(G,{variant:u?"default":"secondary",children:u?"Ativa":"Desativada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:142,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:141,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:u?"A API da OpenAI está ativa para esta organização.":"Integração desativada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:146,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:140,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:135,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Modelo Ativo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:156,columnNumber:13},void 0),e.jsxDEV(Es,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:157,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:155,columnNumber:11},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:i?.activeModel||"N/A"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:160,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Latência média: ",i?.avgLatency||0,"ms"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:163,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:159,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:154,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Uso 24h"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:171,columnNumber:13},void 0),e.jsxDEV(rs,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:172,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:170,columnNumber:11},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:i?.requests24h||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:175,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"requisições nas últimas 24h"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:178,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:169,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(V,{className:"text-sm font-medium",children:"Custo 24h"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:186,columnNumber:13},void 0),e.jsxDEV(ws,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:185,columnNumber:11},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:["$",((i?.cost24h||0)/100).toFixed(2)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:190,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"estimado das últimas 24h"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:193,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:184,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:134,columnNumber:7},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Ações Rápidas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:203,columnNumber:11},void 0),e.jsxDEV(_,{children:"Configure e monitore sua integração OpenAI"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:204,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:202,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxDEV(g,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:e.jsxDEV("a",{href:"/admin/ia/chaves",children:[e.jsxDEV(Os,{className:"h-6 w-6 mb-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:212,columnNumber:17},void 0),"Gerenciar Chaves"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:211,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:210,columnNumber:13},void 0),e.jsxDEV(g,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:e.jsxDEV("a",{href:"/admin/ia/modelos",children:[e.jsxDEV(Es,{className:"h-6 w-6 mb-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:219,columnNumber:17},void 0),"Configurar Modelos"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:218,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:217,columnNumber:13},void 0),e.jsxDEV(g,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:e.jsxDEV("a",{href:"/admin/ia/prompt-studio",children:[e.jsxDEV(Os,{className:"h-6 w-6 mb-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:226,columnNumber:17},void 0),"Prompt Studio"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:225,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:224,columnNumber:13},void 0),e.jsxDEV(g,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:e.jsxDEV("a",{href:"/admin/ia/testes",children:[e.jsxDEV(rs,{className:"h-6 w-6 mb-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:233,columnNumber:17},void 0),"Playground"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:232,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:231,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:209,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:208,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:201,columnNumber:7},void 0),!u&&e.jsxDEV(f,{className:"border-orange-200 bg-orange-50",children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"text-orange-800",children:"Configuração Necessária"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:244,columnNumber:13},void 0),e.jsxDEV(_,{className:"text-orange-700",children:"Para usar a integração OpenAI, você precisa:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:247,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:243,columnNumber:11},void 0),e.jsxDEV(h,{className:"text-orange-700",children:e.jsxDEV("ol",{className:"list-decimal list-inside space-y-2",children:[e.jsxDEV("li",{children:["Adicionar uma chave API válida em"," ",e.jsxDEV("strong",{children:"Gerenciar Chaves"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:255,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:253,columnNumber:15},void 0),e.jsxDEV("li",{children:["Configurar o modelo desejado em"," ",e.jsxDEV("strong",{children:"Configurar Modelos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:259,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:257,columnNumber:15},void 0),e.jsxDEV("li",{children:"Ativar a integração usando o switch acima"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:261,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:252,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:251,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:242,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:112,columnNumber:5},void 0)},Et=Object.freeze(Object.defineProperty({__proto__:null,default:zn},Symbol.toStringTag,{value:"Module"})),Bn=()=>{const{profile:r}=de(),t=Ss(),[s,n]=p.useState(!1),[i,m]=p.useState(!1),[u,o]=p.useState({alias:"",key:"",notes:""}),[a,b]=p.useState(null),{data:d,isLoading:D}=ke({queryKey:["openai-keys",r?.organization_id],queryFn:async()=>{const{data:c,error:O}=await A.from("openai_keys").select("*").eq("org_id",r?.organization_id).order("created_at",{ascending:!1});if(O)throw O;return c||[]},enabled:!!r?.organization_id}),v=Ue({mutationFn:async c=>{try{const{data:{session:O},error:T}=await A.auth.getSession();if(T)throw new Error("Falha na autenticação: "+T.message);let M=O;if(!M||!M.access_token){const{data:{session:U}}=await A.auth.refreshSession();if(!U)throw new Error("Sessão expirada. Faça login novamente.");M=U}const z=await A.functions.invoke("admin-openai-keys",{body:{action:"create",alias:c.alias,key:c.key,notes:c.notes},headers:{Authorization:`Bearer ${M.access_token}`}});if(z.error)throw new Error(`Erro na função: ${z.error.message||z.error}`);if(!z.data)throw new Error("Nenhum dado retornado da função");return z.data}catch(O){throw new Error(`Falha ao salvar chave: ${O instanceof Error?O.message:String(O)}`)}},onSuccess:()=>{t.invalidateQueries({queryKey:["openai-keys"]}),n(!1),o({alias:"",key:"",notes:""}),B({title:"Chave adicionada",description:"Chave API foi salva com sucesso."})},onError:c=>{B({title:"Erro",description:"Falha ao salvar chave: "+c.message,variant:"destructive"})}}),N=Ue({mutationFn:async c=>{const{data:O,error:T}=await A.functions.invoke("admin-openai-keys",{body:{action:"test",keyId:c}});if(T)throw T;return O},onSuccess:c=>{b(null),B({title:c.valid?"Chave válida":"Chave inválida",description:c.valid?"Conexão com OpenAI estabelecida com sucesso.":"Chave inválida (401). Verifique ou rotacione a credencial.",variant:c.valid?"default":"destructive"})},onError:c=>{b(null),B({title:"Erro no teste",description:"Falha ao testar chave: "+c.message,variant:"destructive"})}}),x=Ue({mutationFn:async c=>{const{error:O}=await A.functions.invoke("admin-openai-keys",{body:{action:"rotate",keyId:c}});if(O)throw O},onSuccess:()=>{t.invalidateQueries({queryKey:["openai-keys"]}),B({title:"Chave rotacionada",description:"Nova chave foi gerada e salva."})},onError:c=>{B({title:"Erro",description:"Falha ao rotacionar chave: "+c.message,variant:"destructive"})}}),l=Ue({mutationFn:async c=>{const{error:O}=await A.functions.invoke("admin-openai-keys",{body:{action:"delete",keyId:c}});if(O)throw O},onSuccess:()=>{t.invalidateQueries({queryKey:["openai-keys"]}),B({title:"Chave removida",description:"Chave API foi removida com sucesso."})},onError:c=>{B({title:"Erro",description:"Falha ao remover chave: "+c.message,variant:"destructive"})}}),j=c=>{b(c),N.mutate(c)};return D?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:259,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:258,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Gerenciar Chaves OpenAI"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:269,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Configure e monitore suas chaves da API OpenAI"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:270,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:268,columnNumber:9},void 0),e.jsxDEV(Be,{open:s,onOpenChange:n,children:[e.jsxDEV(ar,{asChild:!0,children:e.jsxDEV(g,{children:[e.jsxDEV(Ys,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:278,columnNumber:15},void 0),"Adicionar Chave"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:277,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:276,columnNumber:11},void 0),e.jsxDEV(Le,{children:[e.jsxDEV(He,{children:[e.jsxDEV(ye,{children:"Adicionar Nova Chave API"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:284,columnNumber:15},void 0),e.jsxDEV(cs,{children:"As chaves são armazenadas apenas no servidor. Nunca exibimos o valor completo."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:285,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:283,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(I,{htmlFor:"alias",children:"Nome/Apelido"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:293,columnNumber:17},void 0),e.jsxDEV(Q,{id:"alias",placeholder:"Ex: Chave Principal",value:u.alias,onChange:c=>o({...u,alias:c.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:294,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:292,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(I,{htmlFor:"key",children:"Chave API"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:305,columnNumber:17},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Q,{id:"key",type:i?"text":"password",placeholder:"sk-...",value:u.key,onChange:c=>o({...u,key:c.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:307,columnNumber:19},void 0),e.jsxDEV(g,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>m(!i),children:i?e.jsxDEV(Er,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:324,columnNumber:23},void 0):e.jsxDEV(De,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:326,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:316,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:306,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:304,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(I,{htmlFor:"notes",children:"Notas (opcional)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:333,columnNumber:17},void 0),e.jsxDEV(_r,{id:"notes",placeholder:"Descrição ou notas sobre esta chave...",value:u.notes,onChange:c=>o({...u,notes:c.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:334,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:332,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:291,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-2",children:[e.jsxDEV(g,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:346,columnNumber:15},void 0),e.jsxDEV(g,{onClick:()=>{!u.alias||!u.key||v.mutate(u)},disabled:!u.alias||!u.key||v.isPending,children:v.isPending?"Salvando...":"Salvar Chave"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:352,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:345,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:282,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:275,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:267,columnNumber:7},void 0),e.jsxDEV(f,{className:"border-blue-200 bg-blue-50",children:e.jsxDEV(h,{className:"pt-6",children:e.jsxDEV("div",{className:"flex items-start space-x-3",children:[e.jsxDEV(cr,{className:"h-5 w-5 text-blue-600 mt-0.5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:375,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-blue-800 text-sm",children:[e.jsxDEV("p",{className:"font-medium mb-1",children:"Segurança das Chaves"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:377,columnNumber:15},void 0),e.jsxDEV("p",{children:"As chaves são armazenadas criptografadas no servidor e nunca expostas no cliente. Apenas os últimos 4 dígitos são exibidos para identificação."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:378,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:376,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:374,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:373,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:372,columnNumber:7},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Chaves Cadastradas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:391,columnNumber:11},void 0),e.jsxDEV(_,{children:[d?.length||0," chave(s) configurada(s)"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:392,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:390,columnNumber:9},void 0),e.jsxDEV(h,{children:d?.length?e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{children:[e.jsxDEV(S,{children:"Nome"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:409,columnNumber:19},void 0),e.jsxDEV(S,{children:"Chave"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:410,columnNumber:19},void 0),e.jsxDEV(S,{children:"Status"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:411,columnNumber:19},void 0),e.jsxDEV(S,{children:"Último Uso"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:412,columnNumber:19},void 0),e.jsxDEV(S,{children:"Criado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:413,columnNumber:19},void 0),e.jsxDEV(S,{className:"text-right",children:"Ações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:414,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:408,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:407,columnNumber:15},void 0),e.jsxDEV(xe,{children:d.map(c=>e.jsxDEV(K,{children:[e.jsxDEV(H,{className:"font-medium",children:c.alias},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:420,columnNumber:21},void 0),e.jsxDEV(H,{className:"font-mono",children:["***",c.last_four]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:421,columnNumber:21},void 0),e.jsxDEV(H,{children:e.jsxDEV(G,{variant:c.is_active?"default":"secondary",children:c.is_active?"Ativa":"Inativa"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:425,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:424,columnNumber:21},void 0),e.jsxDEV(H,{children:c.last_used_at?Je(new Date(c.last_used_at),"dd/MM/yyyy HH:mm",{locale:us}):"Nunca"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:429,columnNumber:21},void 0),e.jsxDEV(H,{children:Je(new Date(c.created_at),"dd/MM/yyyy",{locale:us})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:438,columnNumber:21},void 0),e.jsxDEV(H,{className:"text-right",children:e.jsxDEV("div",{className:"flex justify-end space-x-2",children:[e.jsxDEV(g,{variant:"outline",size:"sm",onClick:()=>j(c.id),disabled:a===c.id,children:a===c.id?e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:452,columnNumber:29},void 0):e.jsxDEV(Vi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:454,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:445,columnNumber:25},void 0),e.jsxDEV(g,{variant:"outline",size:"sm",onClick:()=>x.mutate(c.id),disabled:x.isPending,children:e.jsxDEV(Oi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:464,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:458,columnNumber:25},void 0),e.jsxDEV(er,{children:[e.jsxDEV(Ar,{asChild:!0,children:e.jsxDEV(g,{variant:"outline",size:"sm",children:e.jsxDEV(ze,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:470,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:469,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:468,columnNumber:27},void 0),e.jsxDEV(sr,{children:[e.jsxDEV(rr,{children:[e.jsxDEV(ir,{children:"Remover Chave"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:475,columnNumber:31},void 0),e.jsxDEV(nr,{children:['Tem certeza que deseja remover a chave "',c.alias,'"? Esta ação não pode ser desfeita.']},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:476,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:474,columnNumber:29},void 0),e.jsxDEV(tr,{children:[e.jsxDEV(or,{children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:482,columnNumber:31},void 0),e.jsxDEV(Gs,{onClick:()=>l.mutate(c.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:483,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:481,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:473,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:467,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:444,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:443,columnNumber:21},void 0)]},c.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:419,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:417,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:406,columnNumber:13},void 0):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsxDEV(cr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:399,columnNumber:15},void 0),e.jsxDEV("p",{children:"Nenhuma chave API configurada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:400,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm",children:"Adicione uma chave para começar a usar a integração OpenAI"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:401,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:398,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:396,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:389,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:265,columnNumber:5},void 0)},Ut=Object.freeze(Object.defineProperty({__proto__:null,default:Bn},Symbol.toStringTag,{value:"Module"})),vs=[{id:"gpt-5-2025-08-07",name:"GPT-5",description:"Modelo mais avançado e inteligente",costPer1k:.15,speed:"Rápido",category:"flagship"},{id:"gpt-5-mini-2025-08-07",name:"GPT-5 Mini",description:"Versão otimizada do GPT-5",costPer1k:.08,speed:"Muito Rápido",category:"flagship"},{id:"gpt-4.1-2025-04-14",name:"GPT-4.1",description:"Modelo confiável para resultados consistentes",costPer1k:.1,speed:"Rápido",category:"reliable"},{id:"o3-2025-04-16",name:"O3",description:"Modelo de raciocínio para problemas complexos",costPer1k:.25,speed:"Lento",category:"reasoning"},{id:"gpt-4o-mini",name:"GPT-4o Mini",description:"Modelo legado rápido e econômico",costPer1k:.02,speed:"Muito Rápido",category:"legacy"}],Ln=()=>{const{profile:r}=de(),t=Ss(),[s,n]=p.useState({model:"gpt-4o-mini",fallback:[],temperature:.7,top_p:.9,max_output_tokens:2e3,streaming:!1,rate_per_min:60,budget_month_cents:1e4}),{data:i,isLoading:m}=ke({queryKey:["org-settings",r?.organization_id],queryFn:async()=>{const{data:b,error:d}=await A.from("org_settings").select("*").eq("org_id",r?.organization_id).single();if(d&&d.code!=="PGRST116")throw d;return b},enabled:!!r?.organization_id});Qs.useEffect(()=>{i&&n({model:i.model,fallback:i.fallback||[],temperature:i.temperature,top_p:i.top_p,max_output_tokens:i.max_output_tokens,streaming:i.streaming,rate_per_min:i.rate_per_min,budget_month_cents:i.budget_month_cents})},[i]);const u=Ue({mutationFn:async b=>{const{error:d}=await A.functions.invoke("admin-openai-settings",{body:{action:"update_models",settings:b,org_id:r?.organization_id}});if(d)throw d},onSuccess:()=>{t.invalidateQueries({queryKey:["org-settings"]}),B({title:"Configurações salvas",description:"Modelos e parâmetros foram atualizados."})},onError:b=>{B({title:"Erro",description:"Falha ao salvar: "+b.message,variant:"destructive"})}}),o=()=>{u.mutate(s)},a=vs.find(b=>b.id===s.model);return m?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:157,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:156,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Configurar Modelos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:167,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Selecione modelos, configure parâmetros e defina limites"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:168,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:166,columnNumber:9},void 0),e.jsxDEV(g,{onClick:o,disabled:u.isPending,children:u.isPending?"Salvando...":"Salvar Configurações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:172,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:165,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center space-x-2",children:[e.jsxDEV(Ze,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:184,columnNumber:15},void 0),e.jsxDEV("span",{children:"Seleção de Modelo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:185,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:183,columnNumber:13},void 0),e.jsxDEV(_,{children:"Escolha o modelo principal e fallbacks"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:182,columnNumber:11},void 0),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Modelo Principal"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV(oe,{value:s.model,onValueChange:b=>n({...s,model:b}),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:201,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:200,columnNumber:17},void 0),e.jsxDEV(me,{children:vs.map(b=>e.jsxDEV(R,{value:b.id,children:e.jsxDEV("div",{className:"flex items-center justify-between w-full",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:b.name},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:208,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:b.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:209,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:207,columnNumber:25},void 0),e.jsxDEV(G,{variant:"outline",className:"ml-2",children:["$",b.costPer1k,"/1k"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:213,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:206,columnNumber:23},void 0)},b.id,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:205,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:203,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:194,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:192,columnNumber:13},void 0),a&&e.jsxDEV("div",{className:"p-3 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV(ws,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:227,columnNumber:21},void 0),e.jsxDEV("span",{children:["$",a.costPer1k,"/1k tokens"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:228,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:226,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV(Se,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:231,columnNumber:21},void 0),e.jsxDEV("span",{children:a.speed},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:232,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:230,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV(Es,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:235,columnNumber:21},void 0),e.jsxDEV("span",{className:"capitalize",children:a.category},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:236,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:234,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:225,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:a.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:224,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Modelos de Fallback (ordem de prioridade)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:246,columnNumber:15},void 0),e.jsxDEV("div",{className:"space-y-2 mt-2",children:[s.fallback.map((b,d)=>e.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[e.jsxDEV("span",{children:vs.find(D=>D.id===b)?.name||b},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:253,columnNumber:21},void 0),e.jsxDEV(g,{variant:"ghost",size:"sm",onClick:()=>{const D=[...s.fallback];D.splice(d,1),n({...s,fallback:D})},children:"Remover"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:257,columnNumber:21},void 0)]},d,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:249,columnNumber:19},void 0)),e.jsxDEV(oe,{onValueChange:b=>{!s.fallback.includes(b)&&b!==s.model&&n({...s,fallback:[...s.fallback,b]})},children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{placeholder:"Adicionar fallback"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:284,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:283,columnNumber:19},void 0),e.jsxDEV(me,{children:vs.filter(b=>b.id!==s.model&&!s.fallback.includes(b.id)).map(b=>e.jsxDEV(R,{value:b.id,children:b.name},b.id,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:292,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:286,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:270,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:247,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:245,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:191,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:181,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center space-x-2",children:[e.jsxDEV(Os,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:307,columnNumber:15},void 0),e.jsxDEV("span",{children:"Parâmetros do Modelo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:308,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:306,columnNumber:13},void 0),e.jsxDEV(_,{children:"Configure a personalidade e comportamento da IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:310,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:305,columnNumber:11},void 0),e.jsxDEV(h,{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV(I,{children:"Temperature"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:317,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:s.temperature},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:318,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:316,columnNumber:15},void 0),e.jsxDEV(je,{value:[s.temperature],onValueChange:([b])=>n({...s,temperature:b}),max:2,min:0,step:.1,className:"w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:322,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"0 = mais determinístico, 2 = mais criativo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:332,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:315,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV(I,{children:"Top P"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:339,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:s.top_p},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:340,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:338,columnNumber:15},void 0),e.jsxDEV(je,{value:[s.top_p],onValueChange:([b])=>n({...s,top_p:b}),max:1,min:0,step:.1,className:"w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:344,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Controla a diversidade da resposta"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:354,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:337,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV(I,{htmlFor:"max_tokens",children:"Máximo de Tokens na Resposta"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:360,columnNumber:15},void 0),e.jsxDEV(Q,{id:"max_tokens",type:"number",value:s.max_output_tokens,onChange:b=>n({...s,max_output_tokens:parseInt(b.target.value)||2e3}),min:100,max:4e3},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:361,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Limita o tamanho da resposta (100-4000)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:374,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:359,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Streaming"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:381,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Resposta em tempo real"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:382,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:380,columnNumber:15},void 0),e.jsxDEV(ds,{checked:s.streaming,onCheckedChange:b=>n({...s,streaming:b})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:386,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:379,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:314,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:304,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:179,columnNumber:7},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Limites e Orçamento"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:400,columnNumber:11},void 0),e.jsxDEV(_,{children:"Configure rate limiting e controles de custo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:401,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:399,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxDEV("div",{children:[e.jsxDEV(I,{htmlFor:"rate_limit",children:"Rate Limit (requisições/minuto)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:408,columnNumber:15},void 0),e.jsxDEV(Q,{id:"rate_limit",type:"number",value:s.rate_per_min,onChange:b=>n({...s,rate_per_min:parseInt(b.target.value)||60}),min:1,max:1e3},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:411,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Limite de requisições por minuto por usuário"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:424,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:407,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV(I,{htmlFor:"budget",children:"Orçamento Mensal (centavos USD)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:430,columnNumber:15},void 0),e.jsxDEV(Q,{id:"budget",type:"number",value:s.budget_month_cents,onChange:b=>n({...s,budget_month_cents:parseInt(b.target.value)||1e4}),min:100},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:431,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:["Limite de gasto mensal em centavos ($",(s.budget_month_cents/100).toFixed(2),")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:443,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:429,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:406,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:405,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:398,columnNumber:7},void 0),e.jsxDEV(f,{className:"border-blue-200 bg-blue-50",children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-blue-800",children:"Guia de Modelos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:455,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:454,columnNumber:9},void 0),e.jsxDEV(h,{className:"text-blue-700 space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"GPT-5:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:459,columnNumber:13},void 0)," Use para casos que exigem máxima inteligência e raciocínio complexo"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:458,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"GPT-5 Mini:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:463,columnNumber:13},void 0)," Ideal para a maioria dos casos, balanceando qualidade e velocidade"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:462,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"GPT-4.1:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:467,columnNumber:13},void 0)," Confiável para resultados consistentes e bem testados"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:466,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"O3:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:471,columnNumber:13},void 0)," Especificamente para problemas que requerem raciocínio profundo"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:470,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:"GPT-4o Mini:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:475,columnNumber:13},void 0)," Para casos simples onde velocidade e custo são prioridade"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:474,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:457,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:453,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:163,columnNumber:5},void 0)},Gt=Object.freeze(Object.defineProperty({__proto__:null,default:Ln},Symbol.toStringTag,{value:"Module"})),zs=[{id:"processo",name:"Processo (CNJ)",description:"Consultas por número de processo"},{id:"testemunha",name:"Testemunha (Nome)",description:"Consultas por nome de testemunha"},{id:"general",name:"Padrões Gerais",description:"Consultas gerais na base"}],Xr=["Basear exclusivamente nos dados da planilha fornecida","Não inventar ou inferir dados não presentes na base","Sempre mascarar números de CPF no formato XXX.XXX.XXX-XX",'Responder "não consta na base fornecida" quando dados não estão disponíveis',"Incluir rodapé obrigatório sobre validação nos autos"],Bs=`Você é um assistente especializado em análise de dados jurídicos. Sua função é consultar e analisar informações de uma planilha de processos e pessoas fornecida pelo usuário.

REGRAS FUNDAMENTAIS (NÃO EDITÁVEIS):
${Xr.map(r=>`- ${r}`).join(`
`)}

VARIÁVEIS DISPONÍVEIS:
- {cnj} - Número do processo
- {nome} - Nome da pessoa
- {comarca} - Comarca do processo
- {ano} - Ano de referência
- {janelaTriangulacao} - Período para análise de triangulação
- {politicaLGPD} - Diretrizes de proteção de dados

Sempre responda no formato JSON estruturado solicitado e inclua o rodapé obrigatório: "Informações baseadas na planilha carregada. Recomenda-se validação nos autos antes de qualquer medida processual."`,Fn=()=>{const{profile:r}=de(),t=Ss(),[s,n]=p.useState(!1),[,i]=p.useState(null),[m,u]=p.useState({v1:80,v2:20}),[o,a]=p.useState({label:"",content:Bs,template_type:"general"}),{data:b,isLoading:d}=ke({queryKey:["prompts",r?.organization_id],queryFn:async()=>{const{data:c,error:O}=await A.from("prompts").select("*").eq("org_id",r?.organization_id).order("created_at",{ascending:!1});if(O)throw O;return c||[]},enabled:!!r?.organization_id}),{data:D}=ke({queryKey:["org-settings",r?.organization_id],queryFn:async()=>{const{data:c,error:O}=await A.from("org_settings").select("prompt_active_id, ab_weights").eq("org_id",r?.organization_id).single();if(O&&O.code!=="PGRST116")throw O;return c},enabled:!!r?.organization_id}),v=Ue({mutationFn:async c=>{const{error:O}=await A.functions.invoke("admin-prompts",{body:{action:"create",...c,org_id:r?.organization_id}});if(O)throw O},onSuccess:()=>{t.invalidateQueries({queryKey:["prompts"]}),n(!1),a({label:"",content:Bs,template_type:"general"}),B({title:"Prompt criado",description:"Nova versão de prompt foi salva."})},onError:c=>{B({title:"Erro",description:"Falha ao criar prompt: "+c.message,variant:"destructive"})}}),N=Ue({mutationFn:async c=>{const{error:O}=await A.functions.invoke("admin-prompts",{body:{action:"activate",promptId:c,org_id:r?.organization_id}});if(O)throw O},onSuccess:()=>{t.invalidateQueries({queryKey:["org-settings"]}),t.invalidateQueries({queryKey:["prompts"]}),B({title:"Prompt ativado",description:"Prompt está agora ativo para consultas."})},onError:c=>{B({title:"Erro",description:"Falha ao ativar prompt: "+c.message,variant:"destructive"})}}),x=Ue({mutationFn:async c=>{const{error:O}=await A.functions.invoke("admin-prompts",{body:{action:"update_ab_weights",weights:c,org_id:r?.organization_id}});if(O)throw O},onSuccess:()=>{t.invalidateQueries({queryKey:["org-settings"]}),B({title:"A/B Test atualizado",description:"Pesos de distribuição foram salvos."})},onError:c=>{B({title:"Erro",description:"Falha ao atualizar A/B: "+c.message,variant:"destructive"})}}),l=b?.find(c=>c.id===D?.prompt_active_id),j=b?.reduce((c,O)=>(c[O.template_type]||(c[O.template_type]=[]),c[O.template_type].push(O),c),{})||{};return d?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:247,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:246,columnNumber:7},void 0):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Prompt Studio"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:257,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Gerencie prompts do sistema, templates e testes A/B"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:258,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:256,columnNumber:9},void 0),e.jsxDEV(Be,{open:s,onOpenChange:n,children:[e.jsxDEV(ar,{asChild:!0,children:e.jsxDEV(g,{children:[e.jsxDEV(Ys,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:266,columnNumber:15},void 0),"Novo Prompt"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:265,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:264,columnNumber:11},void 0),e.jsxDEV(Le,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(He,{children:[e.jsxDEV(ye,{children:"Criar Nova Versão de Prompt"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:272,columnNumber:15},void 0),e.jsxDEV(cs,{children:"Configure um novo template de prompt para sua organização"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:273,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:271,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(I,{htmlFor:"label",children:"Nome do Prompt"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:281,columnNumber:19},void 0),e.jsxDEV(Q,{id:"label",placeholder:"Ex: Análise CNJ v2.1",value:o.label,onChange:c=>a({...o,label:c.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:282,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:280,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV(I,{htmlFor:"type",children:"Tipo de Template"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:293,columnNumber:19},void 0),e.jsxDEV(oe,{value:o.template_type,onValueChange:c=>a({...o,template_type:c}),children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:301,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:300,columnNumber:21},void 0),e.jsxDEV(me,{children:zs.map(c=>e.jsxDEV(R,{value:c.id,children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:c.name},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:307,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:c.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:308,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:306,columnNumber:27},void 0)},c.id,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:305,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:303,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:294,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:292,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:279,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(I,{htmlFor:"content",children:"Conteúdo do Prompt"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:320,columnNumber:17},void 0),e.jsxDEV(_r,{id:"content",className:"min-h-[300px] font-mono text-sm",value:o.content,onChange:c=>a({...o,content:c.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:321,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:["Use variáveis como ","{cnj}",", ","{nome}",", ","{comarca}",", etc."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:329,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:319,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:278,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex justify-end space-x-2",children:[e.jsxDEV(g,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:336,columnNumber:15},void 0),e.jsxDEV(g,{onClick:()=>v.mutate(o),disabled:!o.label||!o.content||v.isPending,children:v.isPending?"Criando...":"Criar Prompt"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:342,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:335,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:270,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:263,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:255,columnNumber:7},void 0),e.jsxDEV(Pe,{defaultValue:"templates",className:"space-y-4",children:[e.jsxDEV(Ae,{children:[e.jsxDEV(q,{value:"templates",children:"Templates"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:359,columnNumber:11},void 0),e.jsxDEV(q,{value:"system",children:"Sistema Global"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:360,columnNumber:11},void 0),e.jsxDEV(q,{value:"ab-testing",children:"A/B Testing"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:361,columnNumber:11},void 0),e.jsxDEV(q,{value:"variables",children:"Variáveis"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:362,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:358,columnNumber:9},void 0),e.jsxDEV(J,{value:"templates",className:"space-y-4",children:[l&&e.jsxDEV(f,{className:"border-green-200 bg-green-50",children:[e.jsxDEV(C,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(G,{variant:"default",children:"Ativo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:372,columnNumber:21},void 0),e.jsxDEV(V,{className:"text-green-800",children:l.label},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:373,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:371,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-sm text-green-700",children:["v",l.version," •"," ",zs.find(c=>c.id===l.template_type)?.name]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:377,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:370,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:369,columnNumber:15},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"bg-white p-3 rounded border text-sm font-mono whitespace-pre-wrap text-green-800",children:[l.content.substring(0,200),"..."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:388,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:387,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:368,columnNumber:13},void 0),zs.map(c=>e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center space-x-2",children:[e.jsxDEV(ge,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:400,columnNumber:19},void 0),e.jsxDEV("span",{children:c.name},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:401,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:399,columnNumber:17},void 0),e.jsxDEV(_,{children:c.description},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:403,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:398,columnNumber:15},void 0),e.jsxDEV(h,{children:j[c.id]?.length?e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{children:[e.jsxDEV(S,{children:"Nome"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:415,columnNumber:25},void 0),e.jsxDEV(S,{children:"Versão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:416,columnNumber:25},void 0),e.jsxDEV(S,{children:"Status"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:417,columnNumber:25},void 0),e.jsxDEV(S,{children:"Criado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:418,columnNumber:25},void 0),e.jsxDEV(S,{className:"text-right",children:"Ações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:419,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:414,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:413,columnNumber:21},void 0),e.jsxDEV(xe,{children:j[c.id].map(O=>e.jsxDEV(K,{children:[e.jsxDEV(H,{className:"font-medium",children:O.label},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:425,columnNumber:27},void 0),e.jsxDEV(H,{children:["v",O.version]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:428,columnNumber:27},void 0),e.jsxDEV(H,{children:e.jsxDEV(G,{variant:O.is_active?"default":"secondary",children:O.is_active?"Ativo":"Inativo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:430,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:429,columnNumber:27},void 0),e.jsxDEV(H,{children:Je(new Date(O.created_at),"dd/MM/yyyy",{locale:us})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:438,columnNumber:27},void 0),e.jsxDEV(H,{className:"text-right",children:e.jsxDEV("div",{className:"flex justify-end space-x-2",children:[e.jsxDEV(g,{variant:"outline",size:"sm",onClick:()=>i(O),children:e.jsxDEV(Sr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:450,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:445,columnNumber:31},void 0),!O.is_active&&e.jsxDEV(g,{variant:"outline",size:"sm",onClick:()=>N.mutate(O.id),disabled:N.isPending,children:"Ativar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:453,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:444,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:443,columnNumber:27},void 0)]},O.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:424,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:422,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:412,columnNumber:19},void 0):e.jsxDEV("div",{className:"text-center py-4 text-muted-foreground",children:[e.jsxDEV(ge,{className:"h-8 w-8 mx-auto mb-2 opacity-50"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:408,columnNumber:21},void 0),e.jsxDEV("p",{children:"Nenhum prompt para este tipo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:409,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:407,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:405,columnNumber:15},void 0)]},c.id,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:397,columnNumber:13},void 0))]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:365,columnNumber:9},void 0),e.jsxDEV(J,{value:"system",className:"space-y-4",children:[e.jsxDEV(f,{className:"border-red-200 bg-red-50",children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center space-x-2 text-red-800",children:[e.jsxDEV(Ei,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:481,columnNumber:17},void 0),e.jsxDEV("span",{children:"Guards do Sistema (Não Editáveis)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:482,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:480,columnNumber:15},void 0),e.jsxDEV(_,{className:"text-red-700",children:"Regras de segurança aplicadas automaticamente a todos os prompts"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:484,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:479,columnNumber:13},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"space-y-2",children:Xr.map((c,O)=>e.jsxDEV("div",{className:"flex items-start space-x-2 text-red-800",children:[e.jsxDEV(ve,{className:"h-4 w-4 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:495,columnNumber:21},void 0),e.jsxDEV("span",{className:"text-sm",children:c},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:496,columnNumber:21},void 0)]},O,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:491,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:489,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:488,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:478,columnNumber:11},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Prompt do Sistema Global"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:506,columnNumber:15},void 0),e.jsxDEV(_,{children:"Base aplicada a todos os prompts da organização"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:507,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:505,columnNumber:13},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"bg-muted p-4 rounded-lg font-mono text-sm whitespace-pre-wrap",children:Bs},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:512,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:511,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:504,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:476,columnNumber:9},void 0),e.jsxDEV(J,{value:"ab-testing",className:"space-y-4",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{className:"flex items-center space-x-2",children:[e.jsxDEV(Ui,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:523,columnNumber:17},void 0),e.jsxDEV("span",{children:"Teste A/B de Prompts"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:524,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:522,columnNumber:15},void 0),e.jsxDEV(_,{children:"Configure distribuição de tráfego entre diferentes versões"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:526,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:521,columnNumber:13},void 0),e.jsxDEV(h,{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV(I,{children:"Versão 1 (Principal)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:533,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[m.v1,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:534,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:532,columnNumber:17},void 0),e.jsxDEV(je,{value:[m.v1],onValueChange:([c])=>u({v1:c,v2:100-c}),max:100,min:0,step:5,className:"w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:538,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:531,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV(I,{children:"Versão 2 (Teste)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:552,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[m.v2,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:553,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:551,columnNumber:17},void 0),e.jsxDEV(je,{value:[m.v2],onValueChange:([c])=>u({v1:100-c,v2:c}),max:100,min:0,step:5,className:"w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:557,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:550,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Total: ",m.v1+m.v2,"%"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:570,columnNumber:17},void 0),e.jsxDEV(g,{onClick:()=>x.mutate(m),disabled:x.isPending,children:x.isPending?"Salvando...":"Salvar Configuração"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:573,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:569,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:530,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:520,columnNumber:11},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Métricas de Performance"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:588,columnNumber:15},void 0),e.jsxDEV(_,{children:"Comparação entre versões (últimos 7 dias)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:589,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:587,columnNumber:13},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsxDEV(Gi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:595,columnNumber:17},void 0),e.jsxDEV("p",{children:"Dados insuficientes para análise"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:596,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm",children:"Execute mais testes para ver métricas comparativas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:597,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:594,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:593,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:586,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:519,columnNumber:9},void 0),e.jsxDEV(J,{value:"variables",className:"space-y-4",children:e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Variáveis Disponíveis"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:608,columnNumber:15},void 0),e.jsxDEV(_,{children:"Use estas variáveis em seus prompts para dados dinâmicos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:609,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:607,columnNumber:13},void 0),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{cnj}"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:617,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Número do processo CNJ formatado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:620,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:616,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{nome}"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:625,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Nome da pessoa para consulta"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:628,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:624,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{comarca}"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:633,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Comarca do processo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:636,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:632,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:615,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{ano}"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:643,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Ano de referência para filtros"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:646,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:642,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{janelaTriangulacao}"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:651,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Período para análise de triangulação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:654,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:650,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{politicaLGPD}"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:659,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Diretrizes de proteção de dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:662,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:658,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:641,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:614,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:613,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:606,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:605,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:357,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:253,columnNumber:5},void 0)},Ht=Object.freeze(Object.defineProperty({__proto__:null,default:Fn},Symbol.toStringTag,{value:"Module"})),qn=()=>{const{profile:r}=de(),[t,s]=p.useState({cnj:"",nome:"",comarca:"",ano:""}),[n,i]=p.useState(null),[m,u]=p.useState(!1),[o,a]=p.useState(null),b=async(d=!1)=>{u(!0);try{const{data:D,error:v}=await A.functions.invoke("admin-openai-test",{body:{input:t,streaming:d,org_id:r?.organization_id}});if(v)throw v;i(D.response),a(D.metrics),B({title:"Teste executado",description:`Resposta gerada em ${D.metrics?.duration_ms}ms`})}catch(D){const v=D instanceof Error?D.message:"Erro desconhecido";B({title:"Erro no teste",description:v,variant:"destructive"})}finally{u(!1)}};return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Playground de Testes"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:68,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-muted-foreground",children:"Teste a IA com dados reais da sua base"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:69,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:67,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Entrada de Teste"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:77,columnNumber:13},void 0),e.jsxDEV(_,{children:"Configure os dados para teste"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:78,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:76,columnNumber:11},void 0),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"CNJ do Processo"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:82,columnNumber:15},void 0),e.jsxDEV(Q,{placeholder:"0000000-00.0000.0.00.0000",value:t.cnj,onChange:d=>s({...t,cnj:d.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:83,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:81,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Nome da Pessoa"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:92,columnNumber:15},void 0),e.jsxDEV(Q,{placeholder:"João da Silva",value:t.nome,onChange:d=>s({...t,nome:d.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:93,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:91,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Comarca"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:103,columnNumber:17},void 0),e.jsxDEV(Q,{placeholder:"São Paulo",value:t.comarca,onChange:d=>s({...t,comarca:d.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:104,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:102,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Ano"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:113,columnNumber:17},void 0),e.jsxDEV(Q,{placeholder:"2024",value:t.ano,onChange:d=>s({...t,ano:d.target.value})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:114,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:112,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:101,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV(g,{onClick:()=>b(!1),disabled:m,className:"flex-1",children:[e.jsxDEV(ts,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:130,columnNumber:17},void 0),"Executar"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:125,columnNumber:15},void 0),e.jsxDEV(g,{onClick:()=>b(!0),disabled:m,variant:"outline",className:"flex-1",children:[e.jsxDEV(Es,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:139,columnNumber:17},void 0),"Streaming"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:133,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:124,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:80,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"Resultado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV(_,{children:"Resposta da IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:147,columnNumber:11},void 0),e.jsxDEV(h,{children:m?e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:154,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:153,columnNumber:15},void 0):n?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-muted p-4 rounded-lg",children:e.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(n,null,2)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:159,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:158,columnNumber:17},void 0),o&&e.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV(Se,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:167,columnNumber:23},void 0),e.jsxDEV("span",{children:[o.duration_ms,"ms"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:168,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:166,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV(ws,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:171,columnNumber:23},void 0),e.jsxDEV("span",{children:[o.tokens_in+o.tokens_out," tokens"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:172,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:170,columnNumber:21},void 0),e.jsxDEV("div",{children:e.jsxDEV(G,{variant:"outline",children:o.model},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:177,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:176,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:165,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:157,columnNumber:15},void 0):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsxDEV(ts,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:184,columnNumber:17},void 0),e.jsxDEV("p",{children:"Execute um teste para ver o resultado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:185,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:183,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:151,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:146,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:74,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:66,columnNumber:5},void 0)},yt=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"}));function $n(){return e.jsxDEV("div",{className:"min-h-screen bg-background p-6",children:e.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxDEV("div",{className:"text-center space-y-4",children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Validação do Corretor Inteligente"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:17,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Sistema completo de correção automática implementado com sucesso. Teste o template atualizado para validar todas as funcionalidades."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:20,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:16,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxDEV(f,{className:"border-success/20 bg-success/5",children:[e.jsxDEV(C,{className:"pb-3",children:e.jsxDEV(V,{className:"flex items-center gap-2 text-success",children:[e.jsxDEV(Vs,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:31,columnNumber:17},this),"Template Corrigido"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:30,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:29,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Campos legados adicionados (reclamante_nome, reu_nome) para compatibilidade total"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:36,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:35,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:28,columnNumber:11},this),e.jsxDEV(f,{className:"border-primary/20 bg-primary/5",children:[e.jsxDEV(C,{className:"pb-3",children:e.jsxDEV(V,{className:"flex items-center gap-2 text-primary",children:[e.jsxDEV(Ke,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:46,columnNumber:17},this),"Corretor Inteligente"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:45,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:44,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Sistema de correção automática com mapeamento flexível e validação real"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:51,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:50,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:43,columnNumber:11},this),e.jsxDEV(f,{className:"border-warning/20 bg-warning/5",children:[e.jsxDEV(C,{className:"pb-3",children:e.jsxDEV(V,{className:"flex items-center gap-2 text-warning",children:[e.jsxDEV(ge,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:61,columnNumber:17},this),"Validação Completa"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:60,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:59,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Processamento de arquivos reais CSV/XLSX com interface interativa"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:66,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:65,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:27,columnNumber:9},this),e.jsxDEV(Jr,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:75,columnNumber:9},this),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:[e.jsxDEV(V,{children:"✅ Implementação Concluída"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:80,columnNumber:13},this),e.jsxDEV(_,{children:"Resumo das funcionalidades implementadas no Corretor Inteligente"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:81,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:79,columnNumber:11},this),e.jsxDEV(h,{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h3",{className:"font-semibold text-success",children:"🔧 Correções Implementadas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:88,columnNumber:17},this),e.jsxDEV("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsxDEV("li",{children:"• Template CSV atualizado com campos legados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:92,columnNumber:19},this),e.jsxDEV("li",{children:"• Schema JSON expandido para compatibilidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:93,columnNumber:19},this),e.jsxDEV("li",{children:"• Builder XLSX sincronizado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:94,columnNumber:19},this),e.jsxDEV("li",{children:"• Mapeamento inteligente de campos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:95,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:87,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h3",{className:"font-semibold text-primary",children:"⚡ Funcionalidades Novas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:99,columnNumber:17},this),e.jsxDEV("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsxDEV("li",{children:"• Validação com dados reais (não mock)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:103,columnNumber:19},this),e.jsxDEV("li",{children:"• Correção automática de CNJ"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:104,columnNumber:19},this),e.jsxDEV("li",{children:"• Formatação inteligente de nomes"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:105,columnNumber:19},this),e.jsxDEV("li",{children:"• Interface interativa de correções"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:106,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:102,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:98,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:86,columnNumber:13},this),e.jsxDEV("div",{className:"border-t pt-4",children:e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[e.jsxDEV("strong",{children:"Resultado:"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:113,columnNumber:17},this)," Sistema robusto que elimina os erros de importação, permitindo que usuários importem dados com correções automáticas e interface amigável para revisar todas as modificações antes da publicação."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:112,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:14,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:13,columnNumber:5},this)}const wt=Object.freeze(Object.defineProperty({__proto__:null,default:$n},Symbol.toStringTag,{value:"Module"})),Kn=()=>{const[r,t]=p.useState(()=>new Date(Date.now()-6048e5).toISOString().slice(0,10)),[s,n]=p.useState(()=>new Date().toISOString().slice(0,10)),[i,m]=p.useState([]),u=async()=>{if(!await ss())return;m([{event:"page_view",count:150,unique_users:45},{event:"button_click",count:300,unique_users:80}])};return p.useEffect(()=>{u()},[]),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Metrics"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:36,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:35,columnNumber:7},void 0),e.jsxDEV(h,{children:[e.jsxDEV("div",{className:"flex gap-2 mb-4",children:[e.jsxDEV(Q,{type:"date",value:r,onChange:o=>t(o.target.value)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:40,columnNumber:11},void 0),e.jsxDEV(Q,{type:"date",value:s,onChange:o=>n(o.target.value)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:45,columnNumber:11},void 0),e.jsxDEV(g,{onClick:u,children:"Refresh"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:50,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:39,columnNumber:9},void 0),e.jsxDEV("ul",{children:i.map(o=>e.jsxDEV("li",{className:"py-1",children:[o.event,": ",o.count]},o.event,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:54,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:52,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:38,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/Metrics.tsx",lineNumber:34,columnNumber:5},void 0)},St=Object.freeze(Object.defineProperty({__proto__:null,default:Kn},Symbol.toStringTag,{value:"Module"})),Wn=()=>{const[r,t]=p.useState([]);p.useEffect(()=>{const u=[{flag_id:"advanced-search",window:"7d",evaluations_count:150,unique_users:45,last_evaluated:new Date().toISOString()},{flag_id:"beta-features",window:"30d",evaluations_count:300,unique_users:80,last_evaluated:new Date().toISOString()}];t(u)},[]);const s=p.useMemo(()=>{const u={};for(const o of r)u[o.flag_id]||(u[o.flag_id]={flag_id:o.flag_id,eval_7d:0,eval_30d:0}),o.window==="7d"&&(u[o.flag_id].eval_7d=o.evaluations_count),o.window==="30d"&&(u[o.flag_id].eval_30d=o.evaluations_count);return Object.values(u)},[r]),n=r.filter(u=>u.window==="7d").reduce((u,o)=>u+o.evaluations_count,0),i=r.filter(u=>u.window==="30d").reduce((u,o)=>u+o.evaluations_count,0),m=r.filter(u=>u.window==="30d").reduce((u,o)=>u+o.unique_users,0);return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Avaliações 7d"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:72,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:71,columnNumber:11},void 0),e.jsxDEV(h,{className:"text-2xl font-bold",children:n},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:74,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:70,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Avaliações 30d"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:78,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:77,columnNumber:11},void 0),e.jsxDEV(h,{className:"text-2xl font-bold",children:i},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:80,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:76,columnNumber:9},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Usuários únicos 30d"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:84,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:83,columnNumber:11},void 0),e.jsxDEV(h,{className:"text-2xl font-bold",children:m},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:86,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:82,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:69,columnNumber:7},void 0),e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{children:"Avaliações por Flag"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:92,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:91,columnNumber:9},void 0),e.jsxDEV(h,{children:e.jsxDEV(bs,{className:"h-[300px]",config:{eval_7d:{label:"7d",color:"hsl(var(--chart-1))"},eval_30d:{label:"30d",color:"hsl(var(--chart-2))"}},children:e.jsxDEV(Cr,{data:s,children:[e.jsxDEV(Hs,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:103,columnNumber:15},void 0),e.jsxDEV(ys,{dataKey:"flag_id"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:104,columnNumber:15},void 0),e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:105,columnNumber:15},void 0),e.jsxDEV(Ns,{content:e.jsxDEV(As,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:106,columnNumber:38},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:106,columnNumber:15},void 0),e.jsxDEV(Ls,{dataKey:"eval_7d",fill:"var(--color-eval_7d)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:107,columnNumber:15},void 0),e.jsxDEV(Ls,{dataKey:"eval_30d",fill:"var(--color-eval_30d)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:108,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:102,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:95,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:90,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:68,columnNumber:5},void 0)},Pt=Object.freeze(Object.defineProperty({__proto__:null,default:Wn},Symbol.toStringTag,{value:"Module"}));function Jn(){const r=Hi();return p.useEffect(()=>{r("/admin/base/processos",{replace:!0})},[r]),null}const At=Object.freeze(Object.defineProperty({__proto__:null,default:Jn},Symbol.toStringTag,{value:"Module"}));function Xn(){const t=yi().pathname.includes("/testemunhas")?"testemunhas":"processos";return e.jsxDEV("div",{className:"flex flex-col h-full bg-gradient-subtle",children:[e.jsxDEV("div",{className:"border-b bg-background",children:[e.jsxDEV("div",{className:"flex items-center justify-between p-6",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("h1",{className:"text-2xl font-semibold text-foreground flex items-center gap-2",children:[e.jsxDEV(we,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:19,columnNumber:15},this),"Explorar Dados"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:18,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Revise, valide e gerencie dados pós-importação com controle de qualidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:22,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:17,columnNumber:11},this),e.jsxDEV(g,{variant:"outline",className:"gap-2",children:[e.jsxDEV(Cs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:29,columnNumber:13},this),"Exportar"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:28,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:16,columnNumber:9},this),e.jsxDEV("div",{className:"px-6",children:e.jsxDEV(Pe,{value:t,className:"w-auto",children:e.jsxDEV(Ae,{className:"grid w-fit grid-cols-2",children:[e.jsxDEV(q,{value:"processos",asChild:!0,children:e.jsxDEV(dr,{to:"/admin/base/processos",className:"flex items-center gap-2",children:[e.jsxDEV(Ur,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:43,columnNumber:19},this),e.jsxDEV("span",{className:"hidden sm:inline",children:"Processos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:44,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:39,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:38,columnNumber:15},this),e.jsxDEV(q,{value:"testemunhas",asChild:!0,children:e.jsxDEV(dr,{to:"/admin/base/testemunhas",className:"flex items-center gap-2",children:[e.jsxDEV(ms,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:52,columnNumber:19},this),e.jsxDEV("span",{className:"hidden sm:inline",children:"Testemunhas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:53,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:48,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:47,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:37,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:36,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:35,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:15,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 overflow-hidden",children:e.jsxDEV(wi,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:63,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:62,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:13,columnNumber:5},this)}const _t=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"})),xs=[{cnj:"5001234-12.2024.5.02.0001",reclamante:"João da Silva Santos",reclamada:"Empresa XYZ Ltda",testemunhas_ativas:["Maria Oliveira","Carlos Pereira"],testemunhas_passivas:["Ana Costa","Pedro Lima"],qtd_testemunhas:4,classificacao:"Atenção",classificacao_estrategica:"Média complexidade",created_at:new Date().toISOString()},{cnj:"5001235-13.2024.5.02.0001",reclamante:"Ana Paula Ferreira",reclamada:"Tech Solutions S.A.",testemunhas_ativas:["Roberto Silva"],testemunhas_passivas:["Lucia Santos","Fernando Costa","Mariana Oliveira"],qtd_testemunhas:4,classificacao:"Crítico",classificacao_estrategica:"Alta complexidade",created_at:new Date(Date.now()-864e5).toISOString()},{cnj:"5001236-14.2024.5.02.0001",reclamante:"Carlos Eduardo Souza",reclamada:"Indústria ABC Ltda",testemunhas_ativas:["Patricia Lima"],testemunhas_passivas:["José Maria"],qtd_testemunhas:2,classificacao:"Normal",classificacao_estrategica:"Baixa complexidade",created_at:new Date(Date.now()-1728e5).toISOString()}],Ne={uuid:pe().uuid("UUID inválido"),orgId:pe().min(1,"ID da organização é obrigatório"),cnj:pe().refine(r=>{const t=r.replace(/[^\d]/g,"");return t.length===20&&/^\d{20}$/.test(t)},"CNJ deve ter 20 dígitos numéricos"),nonEmptyString:pe().min(1,"Campo obrigatório").trim(),optionalString:pe().optional(),stringArray:ks(pe()),nonEmptyStringArray:ks(pe()).min(1,"Pelo menos um item é necessário"),page:es().int().min(1,"Página deve ser >= 1"),limit:es().int().min(1).max(100,"Limite máximo de 100 itens"),filters:Ps({search:pe().optional(),classificacao:ks(pe()).optional(),qtdMin:es().int().min(0).optional(),qtdMax:es().int().min(0).optional()}).optional()};Ps({cnj:Ne.cnj,reclamante:Ne.nonEmptyString,reclamada:Ne.nonEmptyString,testemunhas_ativas:Ne.stringArray,testemunhas_passivas:Ne.stringArray,qtd_testemunhas:es().int().min(0),classificacao:Ne.nonEmptyString,classificacao_estrategica:Ne.optionalString,created_at:pe()});const Qn=Ps({filters:Ne.filters,page:Ne.page.default(1),limit:Ne.limit.default(50)});Ps({id:Ne.uuid,organization_id:Ne.orgId,role:zi(["admin","user","viewer"]),email:pe().email("E-mail inválido")});function Yn(r,t){const s=r.safeParse(t);if(!s.success){const n=s.error.issues.map(i=>`${i.path.join(".")}: ${i.message}`).join(", ");throw new Error(`Dados inválidos: ${n}`)}return s.data}function Zn(r={},t=50,s=1){const{profile:n}=de(),[i,m]=p.useState(s),{data:u,isLoading:o,error:a,refetch:b}=ke({queryKey:["assistjur-processos",n?.organization_id,r,i,t],queryFn:async()=>{if(!qs(n?.organization_id))throw Is.authentication("Organização não encontrada",{profile:n?.id});const d=Yn(Qn,{filters:r,page:i,limit:t});return await Li(async()=>{const{data:{session:D}}=await A.auth.getSession();if(!D?.access_token)throw Is.authentication("Sessão expirada");const N=await fetch("https://fgjypmlszuzkgvhuszxn.functions.supabase.co/assistjur-processos",{method:"POST",headers:{Authorization:`Bearer ${D.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(d)});if(!N.ok){const l=await N.json().catch(()=>({}));throw Is.system(l.detail||`HTTP ${N.status}: ${N.statusText}`,{status:N.status})}const x=await N.json();return!x?.data||x.data.length===0?{data:xs,count:xs.length,totalPages:1}:x},"AssistJurProcessos",{retries:2,timeout:3e4,fallback:{data:xs,count:xs.length,totalPages:1}})},enabled:!!n?.organization_id,retry:(d,D)=>D?.message?.includes("Sessão expirada")||D?.message?.includes("Acesso negado")?!1:d<2,staleTime:300*1e3});return{data:u?.data||[],totalCount:u?.count||0,currentPage:i,totalPages:u?.totalPages||1,isLoading:o,error:a,refetch:b,setPage:m}}const Qr=({className:r,...t})=>e.jsxDEV("nav",{role:"navigation","aria-label":"pagination",className:le("mx-auto flex w-full justify-center",r),...t},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:8,columnNumber:3},void 0);Qr.displayName="Pagination";const Yr=p.forwardRef(({className:r,...t},s)=>e.jsxDEV("ul",{ref:s,className:le("flex flex-row items-center gap-1",r),...t},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:21,columnNumber:3},void 0));Yr.displayName="PaginationContent";const hs=p.forwardRef(({className:r,...t},s)=>e.jsxDEV("li",{ref:s,className:le("",r),...t},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:33,columnNumber:3},void 0));hs.displayName="PaginationItem";const _s=({className:r,isActive:t,size:s="icon",...n})=>e.jsxDEV("a",{"aria-current":t?"page":void 0,className:le(Bi({variant:t?"outline":"ghost",size:s}),r),...n},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:48,columnNumber:3},void 0);_s.displayName="PaginationLink";const Zr=({className:r,...t})=>e.jsxDEV(_s,{"aria-label":"Go to previous page",size:"default",className:le("gap-1 pl-2.5",r),...t,children:[e.jsxDEV(Si,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:72,columnNumber:5},void 0),e.jsxDEV("span",{children:"Previous"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:73,columnNumber:5},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:66,columnNumber:3},void 0);Zr.displayName="PaginationPrevious";const ei=({className:r,...t})=>e.jsxDEV(_s,{"aria-label":"Go to next page",size:"default",className:le("gap-1 pr-2.5",r),...t,children:[e.jsxDEV("span",{children:"Next"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:88,columnNumber:5},void 0),e.jsxDEV(Pi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:89,columnNumber:5},void 0)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/ui/pagination.tsx",lineNumber:82,columnNumber:3},void 0);ei.displayName="PaginationNext";function et(){const[r,t]=Ai(),s={search:r.get("search")||void 0,classificacao:r.get("classificacao")?r.get("classificacao").split(","):void 0},n=Number(r.get("page")||"1"),[i,m]=p.useState(s),[u,o]=p.useState(!1),[a,b]=p.useState(!1),{data:d,totalCount:D,currentPage:v,totalPages:N,isLoading:x,error:l,setPage:j}=Zn(i,50,n);p.useEffect(()=>{const E={};i.search&&(E.search=i.search),i.classificacao?.length&&(E.classificacao=i.classificacao.join(",")),v>1&&(E.page=String(v)),t(E,{replace:!0})},[i,v,t]);const c=E=>{m(y=>({...y,search:E.trim()||void 0})),j(1)},O=E=>{m(E==="all"?y=>({...y,classificacao:void 0}):y=>({...y,classificacao:[E]})),j(1)},T=()=>{m({}),j(1)},M=E=>{switch(E?.toLowerCase()){case"crítico":return"destructive";case"atenção":return"secondary";case"observação":return"outline";default:return"secondary"}},z=()=>{try{const y=[["CNJ","Reclamante","Reclamada","Testemunhas Ativas","Testemunhas Passivas","Qtd Total","Classificação","Data Criação"].join(","),...d.map(X=>{const P=X;return[P.cnj,`"${P.reclamante}"`,`"${P.reclamada}"`,`"${P.testemunhas_ativas.join("; ")}"`,`"${P.testemunhas_passivas.join("; ")}"`,P.qtd_testemunhas,`"${P.classificacao}"`,Je(new Date(P.created_at),"dd/MM/yyyy",{locale:us})].join(",")})].join(`
`),k=new Blob([y],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a");L.href=URL.createObjectURL(k),L.download=`assistjur-processos-${Je(new Date,"yyyy-MM-dd")}.csv`,L.click(),ne.success(`Exportação concluída: ${d.length} processos`)}catch(E){console.error("Erro na exportação CSV:",E),ne.error("Erro ao exportar dados. Tente novamente.")}},U=()=>{window.open("https://supabase.com/dashboard/project/fgjypmlszuzkgvhuszxn/functions/assistjur-processos/logs","_blank"),ne.info("Abrindo logs da Edge Function...")};return l?e.jsxDEV(f,{className:"p-6",children:e.jsxDEV("div",{className:"text-center space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-destructive font-medium",children:"Erro ao carregar processos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:171,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:l.message},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:170,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[e.jsxDEV(g,{variant:"outline",onClick:()=>window.location.reload(),children:"Tentar novamente"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:177,columnNumber:13},this),e.jsxDEV(g,{variant:"outline",onClick:U,size:"sm",children:[e.jsxDEV(_i,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:181,columnNumber:15},this),"Abrir Logs"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:176,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:169,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:168,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV(f,{className:"p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold",children:"Processos AssistJur.IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:196,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground",children:[D," processos encontrados"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:195,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(g,{variant:"outline",onClick:()=>b(!a),children:[e.jsxDEV(Js,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:206,columnNumber:15},this),"Filtros"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:202,columnNumber:13},this),e.jsxDEV(g,{variant:"outline",onClick:()=>o(!u),children:u?"Mostrar Dados":"Mascarar PII"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:209,columnNumber:13},this),e.jsxDEV(g,{variant:"outline",onClick:z,children:[e.jsxDEV(he,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:216,columnNumber:15},this),"Exportar CSV"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:215,columnNumber:13},this),e.jsxDEV(g,{variant:"outline",onClick:U,size:"sm",children:[e.jsxDEV(Ti,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:220,columnNumber:15},this),"Abrir Logs"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:219,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:201,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:194,columnNumber:9},this),a&&e.jsxDEV("div",{className:"border-t pt-4 space-y-4",children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Buscar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:231,columnNumber:17},this),e.jsxDEV(Q,{placeholder:"CNJ, reclamante, reclamada...",value:i.search||"",onChange:E=>c(E.target.value)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:232,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:230,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Classificação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:240,columnNumber:17},this),e.jsxDEV(oe,{value:i.classificacao?.[0]||"all",onValueChange:O,children:[e.jsxDEV(ae,{children:e.jsxDEV(ue,{placeholder:"Todas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:248,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:247,columnNumber:19},this),e.jsxDEV(me,{children:[e.jsxDEV(R,{value:"all",children:"Todas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:251,columnNumber:21},this),e.jsxDEV(R,{value:"crítico",children:"Crítico"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:252,columnNumber:21},this),e.jsxDEV(R,{value:"atenção",children:"Atenção"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:253,columnNumber:21},this),e.jsxDEV(R,{value:"observação",children:"Observação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:254,columnNumber:21},this),e.jsxDEV(R,{value:"normal",children:"Normal"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:255,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:250,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:243,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:239,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-end",children:e.jsxDEV(g,{variant:"outline",onClick:T,children:[e.jsxDEV(Fs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:262,columnNumber:19},this),"Limpar"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:261,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:229,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:228,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:193,columnNumber:7},this),e.jsxDEV(f,{children:[e.jsxDEV("div",{className:"border border-border/50 rounded-2xl overflow-hidden",children:e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{className:"bg-muted/30",children:[e.jsxDEV(S,{className:"font-semibold",children:"CNJ"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:277,columnNumber:17},this),e.jsxDEV(S,{className:"font-semibold",children:"Reclamante"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:278,columnNumber:17},this),e.jsxDEV(S,{className:"font-semibold",children:"Reclamada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:279,columnNumber:17},this),e.jsxDEV(S,{className:"font-semibold",children:"Testemunhas Ativas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:280,columnNumber:17},this),e.jsxDEV(S,{className:"font-semibold",children:"Testemunhas Passivas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:283,columnNumber:17},this),e.jsxDEV(S,{className:"font-semibold text-center",children:"Qtd Total"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:286,columnNumber:17},this),e.jsxDEV(S,{className:"font-semibold",children:"Classificação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:289,columnNumber:17},this),e.jsxDEV(S,{className:"font-semibold",children:"Data"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:290,columnNumber:17},this),e.jsxDEV(S,{className:"font-semibold text-center",children:"Ações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:291,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:276,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:275,columnNumber:13},this),e.jsxDEV(xe,{children:x?Array.from({length:5}).map((E,y)=>e.jsxDEV(K,{children:[e.jsxDEV(H,{className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-24"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:301,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:300,columnNumber:21},this),e.jsxDEV(H,{className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-32"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:304,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:303,columnNumber:21},this),e.jsxDEV(H,{className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-28"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:307,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:306,columnNumber:21},this),e.jsxDEV(H,{className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-20"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:310,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:309,columnNumber:21},this),e.jsxDEV(H,{className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-20"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:313,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:312,columnNumber:21},this),e.jsxDEV(H,{className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-8"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:316,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:315,columnNumber:21},this),e.jsxDEV(H,{className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-16"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:319,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:318,columnNumber:21},this),e.jsxDEV(H,{className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-12"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:322,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:321,columnNumber:21},this),e.jsxDEV(H,{className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-8"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:325,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:324,columnNumber:21},this)]},y,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:299,columnNumber:19},this)):d.length===0?e.jsxDEV(K,{children:e.jsxDEV(H,{colSpan:9,className:"text-center py-8",children:[e.jsxDEV("p",{className:"text-muted-foreground",children:"Nenhum processo encontrado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:332,columnNumber:21},this),(i.search||i.classificacao)&&e.jsxDEV(g,{variant:"link",onClick:T,children:"Limpar filtros"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:336,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:331,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:330,columnNumber:17},this):d.map(E=>{const y=E;return e.jsxDEV(K,{className:"hover:bg-muted/20",children:[e.jsxDEV(H,{className:"font-mono text-xs max-w-[120px] truncate",children:String(js(y.cnj,u))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:356,columnNumber:23},this),e.jsxDEV(H,{className:"font-medium max-w-[150px] truncate",children:String(js(y.reclamante,u))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:359,columnNumber:23},this),e.jsxDEV(H,{className:"max-w-[150px] truncate",children:String(js(y.reclamada,u))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:362,columnNumber:23},this),e.jsxDEV(H,{className:"max-w-[200px]",children:e.jsxDEV($s,{items:y.testemunhas_ativas,maxVisible:2,isPiiMasked:u},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:366,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:365,columnNumber:23},this),e.jsxDEV(H,{className:"max-w-[200px]",children:e.jsxDEV($s,{items:y.testemunhas_passivas,maxVisible:2,isPiiMasked:u},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:373,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:372,columnNumber:23},this),e.jsxDEV(H,{className:"text-center",children:e.jsxDEV(G,{variant:"secondary",className:"text-xs",children:y.qtd_testemunhas},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:380,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:379,columnNumber:23},this),e.jsxDEV(H,{children:e.jsxDEV(G,{variant:M(y.classificacao),className:"text-xs",children:y.classificacao},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:385,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:384,columnNumber:23},this),e.jsxDEV(H,{className:"text-xs text-muted-foreground",children:Je(new Date(y.created_at),"dd/MM/yy",{locale:us})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:392,columnNumber:23},this),e.jsxDEV(H,{children:e.jsxDEV("div",{className:"flex items-center justify-center",children:e.jsxDEV(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsxDEV(De,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:404,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:399,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:398,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:397,columnNumber:23},this)]},y.cnj,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:355,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:296,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:274,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:273,columnNumber:9},this),N>1&&e.jsxDEV("div",{className:"flex items-center justify-between p-4 border-t",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Página ",v," de ",N," • ",D," registros"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:419,columnNumber:13},this),e.jsxDEV(Qr,{children:e.jsxDEV(Yr,{children:[e.jsxDEV(hs,{children:e.jsxDEV(Zr,{href:"#","aria-disabled":v<=1,className:v<=1?"pointer-events-none opacity-50":"",onClick:E=>{E.preventDefault(),v>1&&j(v-1)}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:425,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:424,columnNumber:17},this),Array.from({length:N},(E,y)=>e.jsxDEV(hs,{children:e.jsxDEV(_s,{href:"#",isActive:v===y+1,onClick:k=>{k.preventDefault(),j(y+1)},children:y+1},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:439,columnNumber:21},this)},y,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:438,columnNumber:19},this)),e.jsxDEV(hs,{children:e.jsxDEV(ei,{href:"#","aria-disabled":v>=N,className:v>=N?"pointer-events-none opacity-50":"",onClick:E=>{E.preventDefault(),v<N&&j(v+1)}},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:452,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:451,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:423,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:422,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:418,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:272,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:191,columnNumber:5},this)}function si({type:r,onSuccess:t,className:s}){const{profile:n,isAdmin:i}=de(),{toast:m}=Xe(),[u,o]=p.useState(!1),[a,b]=p.useState(null),[d,D]=p.useState(""),[v,N]=p.useState({understand:!1,irreversible:!1,backup:!1}),[x,l]=p.useState(!1),[j,c]=p.useState(!1),[O,T]=p.useState(0),[M,z]=p.useState("preview"),[U,E]=p.useState("soft"),[y,k]=p.useState(10);p.useEffect(()=>{},[i,n?.organization_id]);const L=n?.organization_id||"",X=d===L,P=Object.values(v).every(Boolean),Z=X&&P&&y===0,se=!!(i&&n?.organization_id);p.useEffect(()=>{if(M==="confirm"&&y>0){const F=setTimeout(()=>k(W=>W-1),1e3);return()=>clearTimeout(F)}},[M,y]),p.useEffect(()=>{u&&!a&&se&&$()},[u,se]);const $=async()=>{if(!se){m({title:"Acesso negado",description:"Você precisa ser um administrador para executar esta operação",variant:"destructive"});return}c(!0);try{const{data:F,error:W}=await A.rpc("rpc_get_deletion_impact",{p_org_id:n.organization_id});if(W)throw W;b(F)}catch(F){m({title:"Erro ao carregar dados",description:F instanceof Error?F.message:"Não foi possível carregar o impacto da exclusão",variant:"destructive"})}finally{c(!1)}},fe=async()=>{if(n?.organization_id){l(!0),z("executing"),T(0);try{T(25);let F=null;try{const{data:W,error:_e}=await A.functions.invoke("processes-delete-all",{body:{confirm:n.organization_id,hard_delete:U==="hard"}});if(_e)throw _e;if(W?.error)throw new Error(W.message||W.error);F={success:W.success,deleted_count:W.deleted_count,operation_type:W.operation_type,message:W.message}}catch{const{data:_e,error:w}=await A.rpc("rpc_delete_all_processos",{p_org_id:n.organization_id,p_hard_delete:U==="hard"});if(w)throw w;F=_e}if(T(75),r==="processos"&&F){const{error:W}=await A.rpc("rpc_cleanup_derived_data",{p_org_id:n.organization_id})}T(100),F&&(m({title:"Exclusão concluída",description:`${F.deleted_count} registros foram ${U==="hard"?"permanentemente excluídos":"marcados para exclusão"}`}),t?.(),o(!1),Oe())}catch(F){m({title:"Erro na exclusão",description:F instanceof Error?F.message:"Erro desconhecido durante a exclusão",variant:"destructive"})}finally{l(!1)}}},be=async()=>{if(n?.organization_id){l(!0),z("executing"),T(0);try{T(50);const{data:F,error:W}=await A.rpc("rpc_cleanup_derived_data",{p_org_id:n.organization_id});if(W)throw W;const _e=F;T(100),m({title:"Limpeza concluída",description:`${_e.deleted_count} registros de testemunhas órfãs foram removidos`}),t?.(),o(!1),Oe()}catch(F){m({title:"Erro na limpeza",description:F instanceof Error?F.message:"Erro desconhecido durante a limpeza",variant:"destructive"})}finally{l(!1)}}},Oe=()=>{z("preview"),D(""),N({understand:!1,irreversible:!1,backup:!1}),T(0),k(10),b(null)},Qe=()=>{x||(o(!1),Oe())},Fe=()=>{switch(r){case"processos":return"Excluir Todos os Processos";case"testemunhas":return"Limpar Dados de Testemunhas";default:return"Excluir Dados"}},qe=()=>{switch(r){case"processos":return"Exclusão em Massa - Processos";case"testemunhas":return"Limpeza de Dados - Testemunhas";default:return"Exclusão em Massa"}},Ts=()=>{switch(r){case"processos":return"Esta operação irá excluir todos os processos da organização";case"testemunhas":return"Esta operação irá limpar dados de testemunhas órfãs (sem processos associados)";default:return"Esta operação irá excluir dados da organização"}};return e.jsxDEV(er,{open:u,onOpenChange:Qe,children:[e.jsxDEV(Ar,{asChild:!0,children:e.jsxDEV(g,{variant:"destructive",size:"sm",className:s,onClick:()=>o(!0),disabled:!se,title:se?"":"Acesso negado - apenas administradores",children:[e.jsxDEV(ze,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:332,columnNumber:11},this),Fe()]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:324,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:323,columnNumber:7},this),e.jsxDEV(sr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(rr,{children:[e.jsxDEV(ir,{className:"flex items-center gap-2",children:[e.jsxDEV(ce,{className:"h-5 w-5 text-destructive"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:340,columnNumber:13},this),qe()]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:339,columnNumber:11},this),e.jsxDEV(nr,{children:Ts()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:343,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:338,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:[M==="preview"&&j&&e.jsxDEV(f,{children:e.jsxDEV(h,{className:"pt-6",children:e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:352,columnNumber:19},this),e.jsxDEV("span",{className:"ml-2",children:"Carregando dados..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:353,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:351,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:350,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:349,columnNumber:13},this),M==="preview"&&!se&&e.jsxDEV(f,{children:e.jsxDEV(h,{className:"pt-6",children:e.jsxDEV("div",{className:"flex items-center justify-center py-8 text-destructive",children:[e.jsxDEV(ce,{className:"h-8 w-8 mr-2"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:364,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-semibold",children:"Acesso Negado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:366,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm",children:"Apenas administradores podem executar esta operação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:367,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:365,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:363,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:362,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:361,columnNumber:13},this),M==="preview"&&a&&se&&e.jsxDEV(f,{children:[e.jsxDEV(C,{children:e.jsxDEV(V,{className:"text-base flex items-center gap-2",children:[e.jsxDEV(we,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:381,columnNumber:19},this),"Impacto da Operação"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:380,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:379,columnNumber:15},this),e.jsxDEV(h,{className:"space-y-3",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Processos Ativos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:388,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg font-semibold",children:a.active_processos},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:389,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:387,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Processos Já Excluídos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:394,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg font-semibold text-muted-foreground",children:a.soft_deleted_processos},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:395,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:393,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Registros de Pessoas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:400,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg font-semibold",children:a.total_pessoas},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:401,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:399,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(I,{children:"Tempo Estimado"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:406,columnNumber:21},this),e.jsxDEV("div",{className:"text-lg font-semibold",children:[a.estimated_deletion_time_minutes," min"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:407,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:405,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:386,columnNumber:17},this),r==="processos"&&e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(I,{children:"Tipo de Exclusão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:415,columnNumber:21},this),e.jsxDEV("div",{className:"flex gap-2 mt-2",children:[e.jsxDEV(g,{variant:U==="soft"?"default":"outline",size:"sm",onClick:()=>E("soft"),children:"Exclusão Reversível (Recomendado)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:417,columnNumber:23},this),e.jsxDEV(g,{variant:U==="hard"?"destructive":"outline",size:"sm",onClick:()=>E("hard"),children:"Exclusão Permanente"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:426,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:416,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:U==="soft"?"Os dados serão marcados como excluídos mas podem ser restaurados":"Os dados serão permanentemente removidos do banco de dados"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:436,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:414,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:385,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:378,columnNumber:13},this),M==="confirm"&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[e.jsxDEV(ce,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:452,columnNumber:19},this),e.jsxDEV("span",{className:"font-semibold",children:"ATENÇÃO: Operação Crítica"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:453,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:451,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-destructive/80",children:["Esta é uma operação irreversível que afetará"," ",a?.active_processos," processos ativos.",U==="hard"&&" A exclusão será PERMANENTE."]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:457,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:450,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(I,{htmlFor:"confirmation",children:["Para confirmar, digite o ID da organização:"," ",e.jsxDEV("code",{children:L},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:468,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:466,columnNumber:19},this),e.jsxDEV(Q,{id:"confirmation",value:d,onChange:F=>D(F.target.value),placeholder:"Digite o ID da organização"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:470,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:465,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(We,{id:"understand",checked:v.understand,onCheckedChange:F=>N(W=>({...W,understand:F}))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:480,columnNumber:21},this),e.jsxDEV(I,{htmlFor:"understand",className:"text-sm",children:"Eu entendo que esta operação não pode ser desfeita"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:490,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:479,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(We,{id:"irreversible",checked:v.irreversible,onCheckedChange:F=>N(W=>({...W,irreversible:F}))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:496,columnNumber:21},this),e.jsxDEV(I,{htmlFor:"irreversible",className:"text-sm",children:"Eu confirmo que tenho autorização para executar esta operação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:506,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:495,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(We,{id:"backup",checked:v.backup,onCheckedChange:F=>N(W=>({...W,backup:F}))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:513,columnNumber:21},this),e.jsxDEV(I,{htmlFor:"backup",className:"text-sm",children:"Eu confirmo que foi feito backup dos dados (se necessário)"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:523,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:512,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:478,columnNumber:17},this),y>0&&e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(Se,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:531,columnNumber:21},this),e.jsxDEV("span",{className:"text-sm",children:["Aguarde ",y,"s antes de prosseguir"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:532,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:530,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:464,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:449,columnNumber:13},this),M==="executing"&&e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"mb-2",children:"Executando operação..."},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:545,columnNumber:17},this),e.jsxDEV(ls,{value:O,className:"w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:546,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:[O,"% concluído"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:547,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:544,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:543,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:346,columnNumber:9},this),e.jsxDEV(tr,{children:[e.jsxDEV(or,{onClick:Qe,disabled:x,children:"Cancelar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:556,columnNumber:11},this),M==="preview"&&se&&a&&e.jsxDEV(Gs,{onClick:()=>z("confirm"),className:"bg-destructive hover:bg-destructive/90",children:"Continuar"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:561,columnNumber:13},this),M==="confirm"&&e.jsxDEV(Gs,{onClick:r==="processos"?fe:be,disabled:!Z||x,className:"bg-destructive hover:bg-destructive/90",children:y>0?`Aguarde ${y}s`:"Executar Exclusão"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:570,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:555,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:337,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:322,columnNumber:5},this)}function st({onSuccess:r,className:t}){const{profile:s}=de(),{toast:n}=Xe(),[i,m]=p.useState(!1),u=async()=>{if(!s?.organization_id){n({title:"Erro",description:"Organização não encontrada",variant:"destructive"});return}m(!0);try{const{data:o,error:a}=await A.rpc("rpc_restore_all_processos",{p_org_id:s.organization_id});if(a)throw a;const b=o;if(b.success)n({title:"Restauração concluída",description:`${b.restored_count} processos foram restaurados com sucesso`}),r?.();else throw new Error(b.message)}catch(o){console.error("Error restoring processes:",o),n({title:"Erro na restauração",description:o instanceof Error?o.message:"Erro desconhecido durante a restauração",variant:"destructive"})}finally{m(!1)}};return e.jsxDEV(g,{variant:"outline",size:"sm",onClick:u,disabled:i,className:t,children:[e.jsxDEV(os,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RestoreButton.tsx",lineNumber:75,columnNumber:7},this),i?"Restaurando...":"Restaurar Excluídos"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/admin/RestoreButton.tsx",lineNumber:68,columnNumber:5},this)}function rt(){return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV(f,{children:e.jsxDEV(C,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(V,{children:"Gestão de Processos - AssistJur.IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:13,columnNumber:15},this),e.jsxDEV("p",{className:"text-muted-foreground text-sm",children:"Visualizar e gerenciar processos do pipeline AssistJur.IA"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:14,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:12,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(st,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:19,columnNumber:15},this),e.jsxDEV(si,{type:"processos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:20,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:18,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:11,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:10,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:9,columnNumber:7},this),e.jsxDEV(et,{},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:26,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:8,columnNumber:5},this)}const Tt=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"})),hr=[{value:"ERROR",label:"Erro",color:"bg-destructive text-destructive-foreground"},{value:"WARNING",label:"Atenção",color:"bg-warning text-warning-foreground"},{value:"INFO",label:"Info",color:"bg-primary text-primary-foreground"},{value:"OK",label:"OK",color:"bg-success text-success-foreground"}];function it({searchTerm:r,onSearchChange:t,selectedSeverity:s,onSeverityChange:n,onClearFilters:i,hasActiveFilters:m}){const[u,o]=p.useState(!1),a=d=>{const D=s.includes(d)?s.filter(v=>v!==d):[...s,d];n(D)},b=d=>{n(s.filter(D=>D!==d))};return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:61,columnNumber:9},this),e.jsxDEV(Q,{placeholder:"Buscar por CNJ, reclamante, réu ou testemunha...",value:r,onChange:d=>t(d.target.value),className:"pl-10 pr-4 h-10"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:60,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxDEV(Fi,{open:u,onOpenChange:o,children:[e.jsxDEV(qi,{asChild:!0,children:e.jsxDEV(g,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsxDEV(Js,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:75,columnNumber:15},this),"Filtros",m&&e.jsxDEV(G,{variant:"secondary",className:"ml-1 px-1.5 py-0.5 text-xs",children:s.length},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:78,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV($i,{className:"w-80 p-4",align:"start",children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h4",{className:"font-semibold text-sm",children:"Filtrar por Severidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:89,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:hr.map(d=>e.jsxDEV(g,{variant:s.includes(d.value)?"default":"outline",size:"sm",onClick:()=>a(d.value),className:"justify-start gap-2",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${d.color}`},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:104,columnNumber:21},this),d.label]},d.value,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:93,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:91,columnNumber:15},this),e.jsxDEV("div",{className:"flex justify-between pt-2 border-t",children:[e.jsxDEV(g,{variant:"ghost",size:"sm",className:"gap-2",children:[e.jsxDEV(wr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:112,columnNumber:19},this),"Salvar Filtro"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:111,columnNumber:17},this),e.jsxDEV(g,{variant:"ghost",size:"sm",className:"gap-2",children:[e.jsxDEV(Mi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:116,columnNumber:19},this),"Filtros Salvos"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:115,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:110,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:88,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:87,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:72,columnNumber:9},this),s.map(d=>{const D=hr.find(v=>v.value===d);return e.jsxDEV(G,{variant:"secondary",className:"gap-1",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${D?.color}`},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:129,columnNumber:15},this),D?.label,e.jsxDEV(g,{variant:"ghost",size:"sm",className:"h-auto p-0 ml-1 hover:bg-transparent",onClick:()=>b(d),children:e.jsxDEV(Fs,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:137,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:131,columnNumber:15},this)]},d,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:128,columnNumber:13},this)}),m&&e.jsxDEV(g,{variant:"ghost",size:"sm",onClick:i,className:"gap-2 text-muted-foreground",children:[e.jsxDEV(Fs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:150,columnNumber:13},this),"Limpar Filtros"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:71,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:58,columnNumber:5},this)}function nt({selectedCount:r,onRevalidate:t,onNormalizeCNJ:s,onFillDefaultReu:n,onMergeDuplicates:i,onDelete:m,onExport:u,isLoading:o=!1,showTestemunhaActions:a=!1}){return r===0?e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-muted/30 border rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxDEV(ve,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:41,columnNumber:11},this),"Selecione registros para executar ações em massa"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:40,columnNumber:9},this),e.jsxDEV(g,{variant:"outline",size:"sm",onClick:u,className:"gap-2",children:[e.jsxDEV(Cs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:50,columnNumber:11},this),"Exportar Todos"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:44,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:39,columnNumber:7},this):e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-primary/5 border border-primary/20 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:e.jsxDEV(G,{variant:"outline",className:"bg-primary/10 text-primary border-primary/30",children:[r," selecionado",r>1?"s":""]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:61,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:60,columnNumber:9},this),e.jsxDEV(Nr,{orientation:"vertical",className:"h-6"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:69,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(g,{variant:"outline",size:"sm",onClick:t,disabled:o,className:"gap-2",children:[e.jsxDEV(os,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:80,columnNumber:13},this),"Revalidar"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV(g,{variant:"outline",size:"sm",onClick:s,disabled:o,className:"gap-2",children:[e.jsxDEV(ki,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:91,columnNumber:13},this),"Normalizar CNJ"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:84,columnNumber:11},this),a&&n&&e.jsxDEV(g,{variant:"outline",size:"sm",onClick:n,disabled:o,className:"gap-2",children:[e.jsxDEV(Hr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:104,columnNumber:15},this),"Aplicar Réu Padrão"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:97,columnNumber:13},this),e.jsxDEV(Nr,{orientation:"vertical",className:"h-6"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:109,columnNumber:11},this),e.jsxDEV(g,{variant:"outline",size:"sm",onClick:i,disabled:o,className:"gap-2",children:[e.jsxDEV(Ii,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:119,columnNumber:13},this),"Mesclar Duplicados"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:112,columnNumber:11},this),e.jsxDEV(g,{variant:"outline",size:"sm",onClick:m,disabled:o,className:"gap-2 text-destructive hover:text-destructive",children:[e.jsxDEV(ze,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:130,columnNumber:13},this),"Excluir"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:123,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:59,columnNumber:7},this),e.jsxDEV(g,{variant:"outline",size:"sm",onClick:u,className:"gap-2",children:[e.jsxDEV(Cs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:137,columnNumber:9},this),"Exportar Seleção"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:136,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:58,columnNumber:5},this)}const tt={OK:{icon:Ri,label:"OK",className:"bg-success text-success-foreground hover:bg-success/90"},WARNING:{icon:ce,label:"Atenção",className:"bg-warning text-warning-foreground hover:bg-warning/90"},ERROR:{icon:te,label:"Erro",className:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},INFO:{icon:gs,label:"Info",className:"bg-primary text-primary-foreground hover:bg-primary/90"}};function ot({severity:r,score:t,className:s="",size:n="default"}){const i=tt[r],m=i.icon,u=n==="sm"?"text-xs px-2 py-0.5":"text-sm px-2.5 py-1";return e.jsxDEV(G,{className:`
        ${i.className} 
        ${u}
        font-semibold 
        shadow-sm 
        flex items-center gap-1.5
        ${s}
      `,children:[e.jsxDEV(m,{className:n==="sm"?"h-3 w-3":"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/QualityChips.tsx",lineNumber:60,columnNumber:7},this),e.jsxDEV("span",{children:i.label},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/QualityChips.tsx",lineNumber:61,columnNumber:7},this),t!==void 0&&e.jsxDEV("span",{className:"ml-1 opacity-90",children:["(",t,")"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/QualityChips.tsx",lineNumber:63,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/components/data-explorer/QualityChips.tsx",lineNumber:50,columnNumber:5},this)}function at(){const{profile:r}=de(),{toast:t}=Xe(),[s,n]=p.useState(""),[i,m]=p.useState([]),[u,o]=p.useState(new Set),[a,b]=p.useState(1),[d]=p.useState(50),[D,v]=p.useState(!1),{data:N,isLoading:x,error:l,refetch:j}=ke({queryKey:["admin-testemunhas",r?.organization_id,s,a,d],queryFn:async()=>{if(!r?.organization_id)throw new Error("Organização não encontrada");const{data:P}=await A.auth.getSession(),Z=P?.session?.access_token;if(!Z)throw new Error("Usuário não autenticado");const{data:se,error:$}=await A.functions.invoke("mapa-testemunhas-testemunhas",{body:{paginacao:{page:a,limit:d},filtros:{search:s.trim()||void 0}},headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`}});if($)throw $;return se},enabled:!!r?.organization_id,staleTime:300*1e3}),c=N?.data||[],O=N?.total_witnesses||0,T=N?.total_processos||0,M=async()=>{if(u.size!==0)try{t({title:"Funcionalidade em desenvolvimento",description:"Aplicar réu padrão será implementado em breve"})}catch(P){t({title:"Erro ao aplicar réu padrão",description:P instanceof Error?P.message:"Erro desconhecido",variant:"destructive"})}},z=P=>{const Z=new Set(u);Z.has(P)?Z.delete(P):Z.add(P),o(Z)},U=()=>{u.size===c?.length?o(new Set):o(new Set(c?.map(P=>P.nome_testemunha)))},E=s.trim()!=="",y=()=>{n(""),m([]),b(1)},k=({value:P})=>P===null?e.jsxDEV("span",{className:"text-muted-foreground",children:"—"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:138,columnNumber:32},this):P?e.jsxDEV(Y,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:140,columnNumber:7},this):e.jsxDEV(Xs,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:142,columnNumber:7},this),L=P=>{switch(P?.toLowerCase()){case"crítico":return"destructive";case"atenção":return"secondary";case"observação":return"outline";default:return"secondary"}},X=P=>{switch(P?.toLowerCase()){case"crítico":return"ERROR";case"atenção":return"WARNING";case"observação":return"INFO";default:return"OK"}};return l?e.jsxDEV("div",{className:"p-6 text-center",children:[e.jsxDEV("p",{className:"text-destructive",children:["Erro ao carregar dados: ",l.message]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:175,columnNumber:9},this),e.jsxDEV(g,{variant:"outline",onClick:()=>j(),children:"Tentar novamente"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:178,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:174,columnNumber:7},this):e.jsxDEV("div",{className:"p-6 space-y-6",children:[e.jsxDEV(f,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold",children:"Gestão de Testemunhas"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:190,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground",children:[O," testemunhas encontradas em ",T," ","processos da organização"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:189,columnNumber:11},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(si,{type:"testemunhas",onSuccess:()=>j()},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:197,columnNumber:13},this),e.jsxDEV(g,{variant:"outline",onClick:()=>v(!D),children:D?"Mostrar Dados":"Mascarar PII"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:196,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:188,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:187,columnNumber:7},this),e.jsxDEV(it,{searchTerm:s,onSearchChange:n,selectedSeverity:i,onSeverityChange:m,onClearFilters:y,hasActiveFilters:E},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:208,columnNumber:7},this),e.jsxDEV(nt,{selectedCount:u.size,onRevalidate:()=>j(),onNormalizeCNJ:()=>{},onFillDefaultReu:M,onMergeDuplicates:()=>{},onDelete:()=>{},onExport:()=>{},isLoading:x,showTestemunhaActions:!0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:217,columnNumber:7},this),e.jsxDEV("div",{className:"border border-border/50 rounded-2xl overflow-hidden",children:e.jsxDEV(Ce,{children:[e.jsxDEV(Ve,{children:e.jsxDEV(K,{className:"bg-muted/30",children:[e.jsxDEV(S,{className:"w-12",children:e.jsxDEV(We,{checked:c?.length>0&&u.size===c.length,onCheckedChange:U},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:234,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:233,columnNumber:15},this),e.jsxDEV(S,{className:"font-semibold",children:"Nome da Testemunha"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:242,columnNumber:15},this),e.jsxDEV(S,{className:"font-semibold text-center",children:"Qtd Depoimentos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:245,columnNumber:15},this),e.jsxDEV(S,{className:"font-semibold text-center",children:"Ambos os Polos"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:248,columnNumber:15},this),e.jsxDEV(S,{className:"font-semibold text-center",children:"Já Foi Reclamante"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:251,columnNumber:15},this),e.jsxDEV(S,{className:"font-semibold",children:"CNJs como Testemunha"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:254,columnNumber:15},this),e.jsxDEV(S,{className:"font-semibold",children:"Classificação"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:257,columnNumber:15},this),e.jsxDEV(S,{className:"font-semibold",children:"Qualidade"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:258,columnNumber:15},this),e.jsxDEV(S,{className:"font-semibold text-center",children:"Ações"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:259,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:232,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:231,columnNumber:11},this),e.jsxDEV(xe,{children:x?Array.from({length:5}).map((P,Z)=>e.jsxDEV(K,{children:e.jsxDEV(H,{colSpan:9,className:"h-16",children:e.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-full"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:267,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:266,columnNumber:19},this)},Z,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:265,columnNumber:17},this)):c?.length===0?e.jsxDEV(K,{children:e.jsxDEV(H,{colSpan:9,className:"text-center py-8",children:[e.jsxDEV("p",{className:"text-muted-foreground",children:"Nenhuma testemunha encontrada"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:274,columnNumber:19},this),E&&e.jsxDEV(g,{variant:"link",onClick:y,children:"Limpar filtros"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:278,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:273,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:272,columnNumber:15},this):c?.map(P=>e.jsxDEV(K,{className:"hover:bg-muted/20",children:[e.jsxDEV(H,{children:e.jsxDEV(We,{checked:u.has(P.nome_testemunha),onCheckedChange:()=>z(P.nome_testemunha)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:291,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:290,columnNumber:19},this),e.jsxDEV(H,{className:"font-medium max-w-[200px] truncate",children:String(js(P.nome_testemunha,D))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:298,columnNumber:19},this),e.jsxDEV(H,{className:"text-center",children:e.jsxDEV(G,{variant:"secondary",className:"text-xs",children:P.qtd_depoimentos||0},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:302,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:301,columnNumber:19},this),e.jsxDEV(H,{className:"text-center",children:e.jsxDEV(k,{value:P.foi_testemunha_em_ambos_polos},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:307,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:306,columnNumber:19},this),e.jsxDEV(H,{className:"text-center",children:e.jsxDEV(k,{value:P.ja_foi_reclamante},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:312,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:311,columnNumber:19},this),e.jsxDEV(H,{children:e.jsxDEV($s,{items:P.cnjs_como_testemunha??null,maxVisible:2,isPiiMasked:D},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:315,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:314,columnNumber:19},this),e.jsxDEV(H,{children:e.jsxDEV(G,{variant:L(P.classificacao_estrategica??null),className:"text-xs",children:P.classificacao_estrategica||"Normal"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:322,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:321,columnNumber:19},this),e.jsxDEV(H,{children:e.jsxDEV(ot,{severity:X(P.classificacao_estrategica??null),score:P.qtd_depoimentos?Math.min(100,P.qtd_depoimentos*20):50,size:"sm"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:332,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:331,columnNumber:19},this),e.jsxDEV(H,{children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsxDEV(De,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:347,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:346,columnNumber:23},this),e.jsxDEV(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsxDEV(Sr,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:350,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:349,columnNumber:23},this),e.jsxDEV(g,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsxDEV(ze,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:357,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:352,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:345,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:344,columnNumber:19},this)]},P.nome_testemunha,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:286,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:262,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:230,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:229,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",c?.length||0," de ",O," ","testemunhas"]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:370,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(g,{variant:"outline",size:"sm",onClick:()=>b(Math.max(1,a-1)),disabled:a<=1,children:"Anterior"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:375,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm",children:["Página ",a," de ",Math.ceil(O/d)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:383,columnNumber:11},this),e.jsxDEV(g,{variant:"outline",size:"sm",onClick:()=>b(a+1),disabled:a>=Math.ceil(O/d),children:"Próxima"},void 0,!1,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:386,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:374,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:369,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/bruno/OneDrive/Documentos/GitHub/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:186,columnNumber:5},this)}const Mt=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"}));export{pt as A,_t as B,Ct as C,ft as D,Pt as F,xt as I,Ut as K,Vt as M,ht as O,Ht as P,gt as S,Mt as T,jt as V,Ot as a,Et as b,Gt as c,yt as d,wt as e,St as f,At as g,Tt as h,vt as i};
