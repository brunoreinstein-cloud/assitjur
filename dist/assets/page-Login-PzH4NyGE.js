import{$ as Me,r as d,j as e,a0 as A,a1 as De,a2 as we,a3 as ve,a4 as be,a5 as Ne,a6 as Fe,a7 as Oe,a8 as je,a9 as Pe,aa as Ue,L as Z,ab as $e,y as te,ac as re,t as ae,M as D,v as ye,N as fe,ad as he,ae as Ve,af as ze,x as He,u as Be,ag as qe}from"./vendor-BLhJxNng.js";import{s as j,t as We,l as Y,k as O,m as Ee,B as R,C as Ge,b as Je,c as Ke,n as Ye,d as Ze,o as Ae,p as Se,q as ke,r as ne,u as de,v as Te,w as $,e as Qe,x as Xe}from"./page-About-AENA6wUy.js";async function X(t,s="VIEWER",a){try{const{data:r,error:n}=await j.rpc("ensure_user_profile",{user_uuid:t.id,user_email:t.email??"",user_role:s,org_id:a||null});return n?(console.error("Error ensuring profile with RPC:",n),null):r}catch(r){return console.error("ensureProfile error:",r),null}}const es=Me(t=>({expired:!1,redirectUrl:null,showExpired:s=>t({expired:!0,redirectUrl:s??"/login"}),hideExpired:()=>t({expired:!1,redirectUrl:null})}));class ss{isDevelopment=!1;log(s,a,r,n){const m={level:s,message:a,context:r,timestamp:new Date,service:n};if(this.isDevelopment){const u=r?` ${JSON.stringify(r,null,2)}`:"",h=n?`[${n}] `:"";switch(s){case"error":console.error(`‚ùå ${h}${a}${u}`);break;case"warn":console.warn(`‚ö†Ô∏è ${h}${a}${u}`);break;case"info":console.log(`‚ÑπÔ∏è ${h}${a}${u}`);break;case"debug":console.debug(`üîç ${h}${a}${u}`);break}}else console.log(JSON.stringify(m))}info(s,a,r){this.log("info",s,a,r)}warn(s,a,r){this.log("warn",s,a,r)}error(s,a,r){this.log("error",s,a,r)}debug(s,a,r){this.log("debug",s,a,r)}}const se=new ss,I=(t,s,a)=>se.error(t,s,a),ie=(t,s,a)=>se.warn(t,s,a);class C{static AUTH_ERROR_TYPES=["Invalid Refresh Token","refresh_token_not_found","invalid_token","jwt_invalid","token_expired"];static isHandling=!1;static isAuthError(s){if(!s)return!1;const a=s.message||s.error_description||s.error||"";return this.AUTH_ERROR_TYPES.some(r=>a.toLowerCase().includes(r.toLowerCase()))}static async handleAuthError(s,a={}){if(this.isHandling)return;this.isHandling=!0;const{redirectToLogin:r=!0,showNotification:n=!1,preserveCurrentUrl:m=!0}=a;if(ie("Auth error detected",{error:s.message||s,errorCode:s.code,errorDescription:s.error_description,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href},"AuthErrorHandler"),await this.clearAuthData(),n){const i=this.getErrorTitle(s),w=this.getErrorDescription(s);We({title:i,description:w,variant:"destructive"})}const u=m?window.location.pathname:"/",h=r&&u!=="/login"?`?redirect=${encodeURIComponent(u)}`:"";setTimeout(()=>{this.isHandling=!1},2e3),es.getState().showExpired(`/login${h}`)}static getErrorTitle(s){return s.message?.includes("refresh_token")?"Sess√£o Expirada":s.message?.includes("invalid_token")?"Token Inv√°lido":s.message?.includes("network")?"Erro de Conex√£o":"Sess√£o Expirada"}static getErrorDescription(s){return s.message?.includes("refresh_token")?"Sua sess√£o expirou. Fa√ßa login novamente para continuar.":s.message?.includes("invalid_token")?"Token de acesso inv√°lido. Redirecionando para login...":s.message?.includes("network")?"Problema de conex√£o. Verifique sua internet e tente novamente.":"Por favor, fa√ßa login novamente para continuar."}static async clearAuthData(){try{await j.auth.signOut();const s=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&(n.startsWith("supabase.")||n.includes("auth"))&&s.push(n)}s.forEach(r=>localStorage.removeItem(r));const a=[];for(let r=0;r<sessionStorage.length;r++){const n=sessionStorage.key(r);n&&(n.startsWith("supabase.")||n.includes("auth"))&&a.push(n)}a.forEach(r=>sessionStorage.removeItem(r))}catch(s){I("Error clearing auth data",{error:s},"AuthErrorHandler")}}static async tryRecoverSession(){try{const{data:{session:s},error:a}=await j.auth.getSession();if(a){if(this.isAuthError(a))return await this.clearAuthData(),!1;throw a}if(!s)return!1;const{error:r}=await j.auth.refreshSession();if(r){if(this.isAuthError(r))return await this.clearAuthData(),!1;throw r}return!0}catch(s){return I("Session recovery failed",{error:s},"AuthErrorHandler"),this.isAuthError(s)&&await this.clearAuthData(),!1}}}function rs(t={}){const{checkInterval:s=5,preemptiveRefresh:a=10,inactivityTimeout:r=0,enabled:n=!0}=t,m=d.useRef(),u=d.useRef(),h=d.useRef(Date.now()),i=d.useRef(!1),w=async()=>{if(!i.current){i.current=!0;try{const{data:{session:x},error:y}=await j.auth.getSession();if(y){C.isAuthError(y)&&await C.handleAuthError(y);return}if(!x)return;const p=x.expires_at,l=Math.floor(Date.now()/1e3),o=(p??0)-l,q=a*60;if(o<q){console.log("Token expiring soon, refreshing session...");const{error:P}=await j.auth.refreshSession();P&&C.isAuthError(P)&&await C.handleAuthError(P)}}catch(x){console.error("Session monitor error:",x),C.isAuthError(x)&&await C.handleAuthError(x)}finally{i.current=!1}}};return d.useEffect(()=>{if(n)return w(),m.current=setInterval(w,s*60*1e3),()=>{m.current&&clearInterval(m.current)}},[n,s,a]),d.useEffect(()=>{if(!n||!r)return;const x=()=>{h.current=Date.now()},y=["mousemove","keydown","click"];return y.forEach(p=>window.addEventListener(p,x)),u.current=setInterval(()=>{Date.now()-h.current>r*60*1e3&&C.handleAuthError({message:"session_inactive"})},60*1e3),()=>{y.forEach(p=>window.removeEventListener(p,x)),u.current&&clearInterval(u.current)}},[n,r]),{checkSession:w}}function as(){return{userAgent:navigator.userAgent,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,platform:navigator.platform}}const _e=d.createContext(void 0),Ce=()=>{const t=d.useContext(_e);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Es=({children:t})=>{const[s,a]=d.useState(null),[r,n]=d.useState(null),[m,u]=d.useState(null),[h,i]=d.useState(!0),[w,x]=d.useState(!1),{inactivityTimeoutMinutes:y}=Y();rs({enabled:!!m,checkInterval:5,preemptiveRefresh:10,inactivityTimeout:y});const p=async g=>{try{const{data:N,error:f}=await j.rpc("get_super_admin_info",{_user_id:g});return f?(I("Error checking super admin status",{error:f.message||f},"useAuth"),!1):N&&N.length>0&&N[0].is_super_admin===!0}catch(N){return I("Error checking super admin in catch",{error:N},"useAuth"),!1}},l=async g=>{try{const{data:N,error:f}=await j.rpc("get_user_profile_with_roles",{_user_id:g}).maybeSingle();if(f)return I("Error fetching profile",{error:f.message||f},"useAuth"),null;if(N){const E=await p(g);return x(E),{...N,roles:N.roles||[],is_super_admin:E}}return N}catch(N){return I("Error fetching profile in catch",{error:N},"useAuth"),null}},o=async(g,N,f,E)=>{try{const{error:c}=await j.from("audit_logs").insert({email:g,action:N,result:f,table_name:"auth",resource:"authentication",ip_address:null,user_agent:navigator.userAgent,metadata:E||{}});c&&I("Error logging auth attempt",{error:c.message||c},"useAuth")}catch(c){I("Error logging auth attempt in catch",{error:c},"useAuth")}};d.useEffect(()=>{const{data:{subscription:g}}=j.auth.onAuthStateChange(async(f,E)=>{if(u(c=>c?.access_token===E?.access_token?c:E),a(c=>{const b=E?.user??null;return c?.id===b?.id?c:b}),E?.user){const c=E.user.id;if(r?.id===c){i(!1);return}setTimeout(async()=>{try{let b=await l(c);if(!b&&(b=await X(E.user),!b)){ie("Profile creation failed during auth state change",{},"Authentication"),n(v=>null),i(v=>v&&!1);return}n(v=>v?.id===b.id&&v?.organization_id===b.organization_id?v:b),i(v=>v&&!1)}catch(b){C.isAuthError(b)?await C.handleAuthError(b,{showNotification:!1}):I("Profile fetch error",{error:b},"useAuth"),n(v=>null),i(v=>v&&!1)}},0)}else n(c=>null),i(c=>c&&!1)});return(async()=>{try{const{data:{session:f},error:E}=await j.auth.getSession();if(E){if(C.isAuthError(E)){await C.handleAuthError(E,{showNotification:!1});return}throw E}u(f),a(f?.user??null),f?.user?setTimeout(async()=>{try{let c=await l(f.user.id);if(!c&&(c=await X(f.user),!c)){ie("Profile creation failed during session init",{},"Authentication"),n(null),i(!1);return}n(c),i(!1)}catch(c){C.isAuthError(c)?await C.handleAuthError(c,{showNotification:!1}):I("Profile fetch error in session init",{error:c},"useAuth"),n(null),i(!1)}},0):i(!1)}catch(f){I("Session initialization error",{error:f},"useAuth"),i(!1)}})(),()=>g.unsubscribe()},[]);const q=async(g,N,f,E=!0,c)=>{try{i(!0);const{data:b,error:v}=await j.auth.signInWithPassword({email:g,password:N});if(v)return await o(g,"login","failure",{role:f,error:v.message}),v.message.includes("Invalid login credentials")?{error:{message:"E-mail ou senha incorretos."}}:v.message.includes("Email not confirmed")?{error:{message:"E-mail n√£o confirmado. Verifique sua caixa de entrada."}}:{error:v};if(b.user){const{data:z}=await j.auth.refreshSession(),H=z.session??b.session;H&&await j.auth.setSession({access_token:H.access_token,refresh_token:H.refresh_token});const W=as();0>=70;let me;if(c){const{data:Q,error:Le}=await j.from("organizations").select("id").eq("code",c).maybeSingle();if(Le||!Q)return await o(g,"login","failure",{role:f,orgCode:c,error:"Invalid org code"}),{error:{message:"C√≥digo da organiza√ß√£o n√£o encontrado."}};me=Q.id}const G=await X(b.user,f==="ADMIN"?"ADMIN":"ANALYST",me);if(!G)return await o(g,"login","failure",{role:f,error:"Profile creation failed"}),{error:{message:"N√£o foi poss√≠vel criar ou recuperar o perfil de usu√°rio. Tente novamente ou contate o suporte."}};if(!G.is_active)return await o(g,"login","failure",{role:f,error:"Account deactivated"}),{error:{message:"Sua conta est√° desativada. Contate o Administrador."}};if(f==="ADMIN"&&!G.roles?.some(Q=>Q.role===f))return await o(g,"login","failure",{role:f,error:"Insufficient privileges"}),{error:{message:'Sua conta n√£o possui o perfil Administrador. Tente "Entrar como Escrit√≥rio" ou contate o respons√°vel.'}};await o(g,"login","success",{role:f,user_role:G.roles?.[0]?.role||"USER"}),n(G)}return{error:null}}catch(b){const v=b instanceof Error?b.message:"Unknown error";return await o(g,"login","failure",{role:f,error:v}),{error:b}}finally{i(!1)}},P=async(g,N,f,E)=>{try{i(!0);const{siteUrl:c}=Y(),b=`${c}/login?confirm=1`,{data:v,error:z}=await j.auth.signUp({email:g,password:N,options:{emailRedirectTo:b,data:{name:f}}});if(z)return await o(g,"signup","failure",{error:z.message}),z.message.includes("User already registered")?{error:{message:"E-mail j√° cadastrado. Fa√ßa login."}}:{error:z};let H;if(E){const{data:W,error:ue}=await j.from("organizations").select("id").eq("code",E).maybeSingle();if(ue||!W)return await o(g,"signup","failure",{orgCode:E,error:"Invalid org code"}),{error:{message:"C√≥digo da organiza√ß√£o n√£o encontrado."}};H=W.id}if(v.user)try{await X(v.user,"VIEWER",H),await o(g,"signup","success",{})}catch(W){console.error("Profile creation error during signup:",W),await o(g,"signup","partial_success",{message:"User created but profile creation failed"})}else await o(g,"signup","success",{});return{error:null}}catch(c){const b=c instanceof Error?c.message:"Unknown error";return await o(g,"signup","failure",{error:b}),{error:c}}finally{i(!1)}},T=async()=>{try{await j.auth.signOut(),a(null),n(null),u(null),x(!1),sessionStorage.removeItem("mfa_verified")}catch(g){I("Error signing out",{error:g},"useAuth")}},S=async g=>{try{const{siteUrl:N}=Y(),{error:f}=await j.auth.resetPasswordForEmail(g,{redirectTo:`${N}/reset-password`});return{error:f}}catch(N){return{error:N}}},k=g=>!r||!r.organization_id?!1:r.roles?.find(f=>f.org_id===r.organization_id)?.role===g,V=r?.roles?.some(g=>g.org_id===r.organization_id&&g.role==="ADMIN")??!1,Re={user:s,profile:r,session:m,loading:h,isSuperAdmin:w,signIn:q,signUp:P,signOut:T,resetPassword:S,hasRole:k,isAdmin:V};return e.jsx(_e.Provider,{value:Re,children:t})},M=d.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:O("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));M.displayName="Input";class U extends Error{category;code;context;userMessage;retryable;cause;constructor(s,a,r){super(s),this.name="AssistJurError",this.category=a,this.code=r?.code,this.context=r?.context,this.userMessage=r?.userMessage,this.retryable=r?.retryable??!1,this.cause=r?.cause}}const J={validation:(t,s)=>new U(t,"validation",{userMessage:"Dados inv√°lidos fornecidos",context:s}),network:(t,s=!0,a)=>new U(t,"network",{userMessage:"Falha de conex√£o. Verifique sua internet.",retryable:s,context:a}),authentication:(t,s)=>new U(t,"authentication",{userMessage:"Sess√£o expirada. Fa√ßa login novamente.",context:s}),authorization:(t,s)=>new U(t,"authorization",{userMessage:"Acesso negado. Verifique suas permiss√µes.",context:s}),business:(t,s,a)=>new U(t,"business",{userMessage:s||"Opera√ß√£o n√£o permitida",context:a}),system:(t,s)=>new U(t,"system",{userMessage:"Erro interno do sistema. Tente novamente em alguns minutos.",context:s})};class B{static handle(s,a){let r;return s instanceof U?r=s:s instanceof Error?s.message?.includes("fetch")?r=J.network(s.message,!0,{originalError:s.message}):s.message?.includes("auth")||s.message?.includes("session")?r=J.authentication(s.message,{originalError:s.message}):r=J.system(s.message,{originalError:s.message}):r=J.system("Erro desconhecido",{originalError:String(s)}),se.error(r.message,{category:r.category,code:r.code,context:r.context,retryable:r.retryable,stack:r.stack},a),r}static handleAndNotify(s,a){const r=this.handle(s,a);return r.userMessage&&A.error(r.userMessage),r}}async function As(t,s,a=!0){try{return await t()}catch(r){throw a?B.handleAndNotify(r,s):B.handle(r,s)}}function ts(t){return t!=null}function ns(t){return ts(t)&&t.trim().length>0}function Ss(t){return ns(t)&&t.length>0}async function ks(t,s,a){const{retries:r=2,timeout:n=3e4,fallback:m}=a||{};let u;for(let h=1;h<=r+1;h++)try{const i=new AbortController,w=setTimeout(()=>i.abort(),n),x=await Promise.race([t(),new Promise((y,p)=>i.signal.addEventListener("abort",()=>p(J.network("Timeout na requisi√ß√£o",!1))))]);return clearTimeout(w),x}catch(i){if(u=B.handle(i,s),!u.retryable||h===r+1)break;const w=Math.min(1e3*Math.pow(2,h-1),5e3);await new Promise(x=>setTimeout(x,w))}if(m!==void 0)return se.warn(`Usando fallback ap√≥s ${r+1} tentativas`,{service:s,error:u?.message??"Unknown error"},s),m;throw u??new Error("Unknown error")}const is=De,Ie=d.forwardRef(({className:t,...s},a)=>e.jsx(we,{ref:a,className:O("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Ie.displayName=we.displayName;const oe=d.forwardRef(({className:t,...s},a)=>e.jsx(ve,{ref:a,className:O("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));oe.displayName=ve.displayName;const le=d.forwardRef(({className:t,...s},a)=>e.jsx(be,{ref:a,className:O("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));le.displayName=be.displayName;const ce=d.forwardRef(({className:t,...s},a)=>e.jsx(Ne,{ref:a,className:O("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Fe,{className:O("flex items-center justify-center text-current"),children:e.jsx(Oe,{className:"h-4 w-4"})})}));ce.displayName=Ne.displayName;const os=Ee("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),L=d.forwardRef(({className:t,...s},a)=>e.jsx(je,{ref:a,className:O(os(),t),...s}));L.displayName=je.displayName;function ls({className:t}){const[s,a]=d.useState(!1);d.useEffect(()=>{if(typeof window>"u")return;const n=()=>a(window.scrollY>600);return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const r=()=>{if(typeof window>"u"||typeof document>"u")return;const n=document.getElementById("main-heading");window.scrollTo({top:0,behavior:"smooth"}),n&&setTimeout(()=>n.focus(),500)};return s?e.jsx(R,{size:"icon","aria-label":"Voltar ao topo",className:O("fixed bottom-6 right-6 rounded-full shadow-lg z-50",t),onClick:r,children:e.jsx(Pe,{className:"h-5 w-5"})}):null}const ge=({title:t,description:s,children:a})=>e.jsxs(Ge,{className:"w-full max-w-md shadow-premium rounded-2xl",children:[e.jsxs(Je,{className:"text-center space-y-4 pb-6",children:[e.jsx("div",{className:"mx-auto p-4 bg-gradient-primary rounded-2xl w-fit shadow-md",children:e.jsx(Ue,{className:"h-8 w-8 text-primary-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{className:"text-2xl font-bold text-foreground",children:t}),s&&e.jsx(Ye,{className:"text-muted-foreground",children:s})]})]}),e.jsx(Ze,{className:"pt-0",children:a})]}),F={DEFAULT_REDIRECTS:{ADMIN:"/app/dashboard",ANALYST:"/app/dashboard",VIEWER:"/app/dashboard",DEFAULT:"/app/dashboard"},FEATURES:{MAGIC_LINK_ENABLED:!0,GOOGLE_OAUTH_ENABLED:!0,MICROSOFT_OAUTH_ENABLED:!1},OAUTH_PROVIDERS:[{id:"google",name:"Google",enabled:!0,icon:"google"}],ALLOWED_REDIRECT_PATHS:["/app/dashboard","/app/dados/mapa","/app/admin/dashboard","/app/admin","/app/mapa-testemunhas","/app/import","/app/profile","/app/settings"]};function cs(t,s){if(s)try{const a=new URL(s,"https://dummy"),r=decodeURIComponent(a.pathname);if(a.origin==="https://dummy"&&F.ALLOWED_REDIRECT_PATHS.includes(r))return decodeURIComponent(s)}catch{}return t&&t in F.DEFAULT_REDIRECTS?F.DEFAULT_REDIRECTS[t]:F.DEFAULT_REDIRECTS.DEFAULT}const ds=({disabled:t,next:s})=>{const[a,r]=d.useState(null),[n,m]=d.useState({}),u=async(i,w=!1)=>{w||r(i);try{if(F.FEATURES.GOOGLE_OAUTH_ENABLED,!j){A.error("OAuth n√£o configurado",{description:"Login com provedores externos n√£o est√° dispon√≠vel no momento."});return}const{siteUrl:x}=Y(),y=s?`${x}${s}`:`${x}/dados/mapa`,{error:p}=await j.auth.signInWithOAuth({provider:i,options:{redirectTo:y}});if(p)throw p;A.success("Redirecionando...",{description:`Conectando com ${i==="google"?"Google":i}`,duration:2e3})}catch(x){console.error(`${i} OAuth error:`,x);const y=x instanceof Error?x.message:"";if(y?.includes("network")||y?.includes("fetch")){const p=n[i]||0;p<2?(m(l=>({...l,[i]:p+1})),A.info("Tentando novamente...",{description:`Erro de conex√£o. Tentativa ${p+2}/3`}),setTimeout(()=>{u(i,!0)},1500)):A.error("Erro de conex√£o",{description:"Verifique sua conex√£o com a internet e tente novamente."});return}y?.includes("Provider")||y?.includes("client_id")?A.error("Configura√ß√£o OAuth",{description:"Google OAuth n√£o est√° configurado corretamente. Entre em contato com o suporte."}):j?A.error("Erro no login",{description:"N√£o foi poss√≠vel fazer login com Google. Tente novamente."}):A.info("Demo Mode",{description:`OAuth ${i} simulado. Use o usu√°rio demo para testar.`})}finally{r(null)}};return F.OAUTH_PROVIDERS.filter(i=>i.enabled).length===0?null:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-border"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continue com"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx(R,{variant:"outline",onClick:()=>u("google"),disabled:t||a!==null,className:"w-full transition-all duration-200 hover:shadow-md","aria-label":"Acessar √°rea segura com Google",children:a==="google"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Conectando..."})]}):n.google>0?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Tentando novamente..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"ml-2",children:"Continuar com Google"})]})}),F.FEATURES.MICROSOFT_OAUTH_ENABLED]})]})},ee=12;function K({message:t,onRetry:s}){return e.jsxs(Ae,{variant:"destructive",role:"alert","aria-live":"polite",className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(Se,{children:"Erro"}),e.jsx(ke,{children:t})]}),s&&e.jsx(R,{variant:"outline",onClick:s,className:"ml-4","aria-label":"Tentar novamente",children:"Tentar novamente"})]})}function us(t){const{loading:s,error:a}=t,[r,n]=d.useState(typeof navigator<"u"?!navigator.onLine:!1);return d.useEffect(()=>{if(typeof window>"u")return;const m=()=>n(!1),u=()=>n(!0);return window.addEventListener("online",m),window.addEventListener("offline",u),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",u)}},[]),r?"offline":s?"loading":a?"error":"empty"}const _={INVALID_EMAIL:"E-mail inv√°lido.",INCORRECT_PASSWORD:"Senha incorreta.",CNJ_FAILURE:"Falha ao buscar dados do CNJ.",NOT_FOUND:"Item n√£o encontrado.",NETWORK:"Falha de conex√£o. Verifique sua internet.",RATE_LIMIT:"Muitas tentativas. Tente novamente mais tarde."},ms=de({email:$().email(_.INVALID_EMAIL),password:$().min(ee,`M√≠nimo de ${ee} caracteres`),rememberMe:Te().optional()}),fs=de({name:$().min(2,"Nome deve ter pelo menos 2 caracteres").optional(),email:$().email(_.INVALID_EMAIL),password:$().min(ee,`M√≠nimo de ${ee} caracteres`),confirmPassword:$(),acceptTerms:Te().refine(t=>t,"Voc√™ deve aceitar os termos")}).refine(t=>t.password===t.confirmPassword,{message:"Senhas n√£o conferem",path:["confirmPassword"]}),pe=({mode:t,onModeChange:s})=>{const[a,r]=d.useState(!1),[n,m]=d.useState(!1),[u,h]=d.useState(!1),[i,w]=d.useState(null),{signIn:x,signUp:y}=Ce(),p=us({loading:u,error:i}),l=te({resolver:ne(ms),mode:"onChange",reValidateMode:"onChange",defaultValues:{email:"",password:"",rememberMe:!1}}),o=te({resolver:ne(fs),defaultValues:{name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}}),q=async T=>{h(!0),w(null);try{const{error:S}=await x(T.email,T.password,"OFFICE",T.rememberMe);if(S){if(S?.status===429){const k=_.RATE_LIMIT;w(k),A.error("Muitas tentativas",{description:k});return}if(S.message?.toLowerCase().includes("invalid login credentials")){const k=_.INCORRECT_PASSWORD;l.setError("password",{type:"manual",message:k}),w(k);return}w(S.message||_.NOT_FOUND);return}A.success("Login realizado!",{description:"Bem-vindo ao AssistJur.IA"})}catch(S){const V=B.handleAndNotify(S,"EmailPasswordForm.handleSignIn").userMessage||_.NOT_FOUND;w(V)}finally{h(!1)}},P=async T=>{h(!0),w(null);try{const{error:S}=await y(T.email,T.password,T.name);if(S){if(S?.status===429){const V=_.RATE_LIMIT;w(V),A.error("Muitas tentativas",{description:V});return}const k=S.message||_.NOT_FOUND;w(k),A.error("Erro no cadastro",{description:k});return}A.success("Conta criada!",{description:"Verifique seu e-mail para confirmar o cadastro."}),s("signin")}catch(S){const k=S?.message||_.NOT_FOUND;w(k),A.error("Erro no cadastro",{description:k})}finally{h(!1)}};return t==="signup"?e.jsxs("form",{onSubmit:o.handleSubmit(P),className:"space-y-4",children:[p==="offline"&&e.jsx(K,{message:_.NETWORK,onRetry:()=>window.location.reload()}),p==="error"&&i&&e.jsx(K,{message:i,onRetry:()=>w(null)}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"name",children:"Nome (opcional)"}),e.jsx(M,{id:"name",placeholder:"Seu nome completo",...o.register("name"),className:o.formState.errors.name?"border-destructive":""}),o.formState.errors.name&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"email",children:"E-mail"}),e.jsx(M,{id:"email",type:"email",placeholder:"seu@email.com",...o.register("email"),className:o.formState.errors.email?"border-destructive":""}),o.formState.errors.email&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"password",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{id:"password",type:a?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢","aria-invalid":!!o.formState.errors.password,"aria-describedby":"signup-password-error",...o.register("password"),className:o.formState.errors.password?"border-destructive pr-10":"pr-10"}),e.jsx(R,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>r(!a),"aria-label":a?"Ocultar senha":"Mostrar senha","aria-pressed":a,children:a?e.jsx(re,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"}):e.jsx(ae,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"})})]}),o.formState.errors.password&&e.jsx("p",{id:"signup-password-error",className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{id:"confirmPassword",type:n?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢","aria-invalid":!!o.formState.errors.confirmPassword,"aria-describedby":"signup-confirm-password-error",...o.register("confirmPassword"),className:o.formState.errors.confirmPassword?"border-destructive pr-10":"pr-10"}),e.jsx(R,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>m(!n),"aria-label":n?"Ocultar senha":"Mostrar senha","aria-pressed":n,children:n?e.jsx(re,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"}):e.jsx(ae,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"})})]}),o.formState.errors.confirmPassword&&e.jsx("p",{id:"signup-confirm-password-error",className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.confirmPassword.message})]}),e.jsxs("div",{className:"flex items-start space-x-3 pt-2",children:[e.jsx(ce,{id:"acceptTerms",checked:o.watch("acceptTerms"),onCheckedChange:T=>o.setValue("acceptTerms",!!T),className:o.formState.errors.acceptTerms?"border-destructive":""}),e.jsxs(L,{htmlFor:"acceptTerms",className:"text-sm leading-relaxed cursor-pointer",children:["Li e aceito os"," ",e.jsx(D,{to:"/termos",className:"text-primary hover:underline",children:"Termos de Uso"})," ","e a"," ",e.jsx(D,{to:"/privacidade",className:"text-primary hover:underline",children:"Pol√≠tica de Privacidade"})]})]}),o.formState.errors.acceptTerms&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:o.formState.errors.acceptTerms.message}),e.jsx(R,{type:"submit",className:"w-full",disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 animate-spin mr-2"}),"Criando conta..."]}):"Criar conta"}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"J√° tem uma conta? "}),e.jsx("button",{type:"button",onClick:()=>s("signin"),className:"text-primary hover:underline font-medium",children:"Acessar √°rea segura"})]})]}):e.jsxs("form",{onSubmit:l.handleSubmit(q),className:"space-y-4",children:[p==="offline"&&e.jsx(K,{message:_.NETWORK,onRetry:()=>window.location.reload()}),p==="error"&&i&&e.jsx(K,{message:i,onRetry:()=>w(null)}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"email",children:"E-mail"}),e.jsx(M,{id:"email",type:"email",placeholder:"seu@email.com",...l.register("email"),className:l.formState.errors.email?"border-destructive":""}),l.formState.errors.email&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:l.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"password",children:"Senha"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(M,{id:"password",type:a?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢","aria-invalid":!!l.formState.errors.password,"aria-describedby":l.formState.errors.password?"password-help":void 0,...l.register("password"),className:l.formState.errors.password?"border-destructive pr-10":"pr-10"}),e.jsx(R,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>r(!a),"aria-label":a?"Ocultar senha":"Mostrar senha","aria-pressed":a,children:a?e.jsx(re,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"}):e.jsx(ae,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true",focusable:"false"})})]}),l.formState.errors.password&&e.jsx("span",{id:"password-help",role:"alert",className:"text-sm text-destructive whitespace-nowrap",children:l.formState.errors.password.message})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{id:"rememberMe",checked:l.watch("rememberMe"),onCheckedChange:T=>l.setValue("rememberMe",!!T)}),e.jsx(L,{htmlFor:"rememberMe",className:"text-sm cursor-pointer",children:"Lembrar de mim"})]}),e.jsx(D,{to:"/reset",className:"text-sm text-primary hover:underline",children:"Esqueci minha senha"})]}),e.jsx(R,{type:"submit",className:"w-full",disabled:u||!l.formState.isValid,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 animate-spin mr-2"}),"Acessando..."]}):"Acessar √°rea segura"}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"N√£o tem uma conta? "}),e.jsx("button",{type:"button",onClick:()=>s("signup"),className:"text-primary hover:underline font-medium",children:"Criar conta"})]})]})},hs=de({email:$().email("Formato de email inv√°lido")}),gs=({onBack:t})=>{const[s,a]=d.useState(!1),[r,n]=d.useState(!1),[m,u]=d.useState(null),h=te({resolver:ne(hs),mode:"onChange",reValidateMode:"onChange",defaultValues:{email:""}}),i=d.useCallback(async x=>{const y=Date.now();if(m&&y-m<6e4){A.error("Aguarde um momento",{description:"Aguarde pelo menos 1 minuto entre tentativas."});return}a(!0),u(y);try{if(!j){A.success("Link enviado!",{description:"Verifique seu e-mail (modo demo - use o login normal)"}),n(!0);return}const{siteUrl:p}=Y(),{error:l}=await j.auth.signInWithOtp({email:x.email,options:{emailRedirectTo:`${p}/`}});if(l){const o=B.handle(l,"MagicLinkForm.signInWithOtp");l.message.includes("rate")||l.message.includes("limit")||l?.status===429?A.error("Limite de tentativas atingido",{description:"Muitas tentativas de login. Tente novamente em alguns minutos."}):l.message.includes("email")?A.error("Email inv√°lido",{description:"Verifique se o email foi digitado corretamente."}):A.error("Erro ao enviar link",{description:o.userMessage||"N√£o foi poss√≠vel enviar o link de acesso. Tente novamente."});return}A.success("Link de acesso enviado!",{description:"Verifique sua caixa de entrada e clique no link para entrar."}),n(!0)}catch(p){B.handleAndNotify(p,"MagicLinkForm.handleSendMagicLink"),p&&typeof p=="object"&&"status"in p&&p.status===429&&A.error("Muitas tentativas",{description:"Tente novamente mais tarde."})}finally{a(!1)}},[m]),w=()=>{n(!1),h.handleSubmit(i)()};return r?e.jsxs("div",{className:"text-center space-y-6",role:"alert","aria-live":"polite",children:[e.jsx("div",{className:"mx-auto p-3 bg-success/10 rounded-full w-fit",children:e.jsx(ye,{className:"h-8 w-8 text-success"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Link enviado!"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifique sua caixa de entrada e clique no link para fazer login automaticamente."}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enviado para: ",e.jsx("strong",{children:h.getValues("email")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(R,{variant:"outline",onClick:w,className:"w-full",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 animate-spin mr-2"}),"Reenviando..."]}):"Reenviar link"}),e.jsxs(R,{variant:"ghost",onClick:t,className:"w-full",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Voltar ao login"]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"mx-auto p-3 bg-primary/10 rounded-full w-fit",children:e.jsx(he,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Acessar √°rea segura com link"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enviaremos um link de acesso seguro para o seu e-mail"})]}),e.jsxs("form",{onSubmit:h.handleSubmit(i),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"email",children:"E-mail"}),e.jsx(M,{id:"email",type:"email",placeholder:"seu@email.com",...h.register("email"),className:h.formState.errors.email?"border-destructive":"",autoFocus:!0}),h.formState.errors.email&&e.jsx("p",{className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:h.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(R,{type:"submit",className:"w-full",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 animate-spin mr-2"}),"Enviando link..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Enviar link de acesso"]})}),e.jsxs(R,{type:"button",variant:"ghost",onClick:t,className:"w-full",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Voltar ao login"]})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"O link de acesso expira em 1 hora e s√≥ pode ser usado uma vez."})]})},ps=Ee("border-l-4",{variants:{variant:{info:"border-l-blue-500 bg-blue-50 dark:bg-blue-950/30",success:"border-l-green-500 bg-green-50 dark:bg-green-950/30",warning:"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950/30",error:"border-l-red-500 bg-red-50 dark:bg-red-950/30"}}}),xs=({variant:t,title:s,children:a,className:r})=>{const n=()=>{switch(t){case"info":return e.jsx(He,{className:"h-4 w-4"});case"success":return e.jsx(ye,{className:"h-4 w-4"});case"warning":return e.jsx(ze,{className:"h-4 w-4"});case"error":return e.jsx(Ve,{className:"h-4 w-4"})}},m=()=>{switch(t){case"info":return"text-blue-700 dark:text-blue-300";case"success":return"text-green-700 dark:text-green-300";case"warning":return"text-yellow-700 dark:text-yellow-300";case"error":return"text-red-700 dark:text-red-300"}};return e.jsxs(Ae,{className:`${ps({variant:t})} ${r}`,role:"alert","aria-live":"polite",children:[e.jsx("div",{className:m(),children:n()}),s&&e.jsx(Se,{className:m(),children:s}),e.jsx(ke,{className:m(),children:a})]})};function xe({size:t="md",showVersion:s=!1,version:a,className:r=""}){const m={sm:{container:"flex items-center gap-2",logo:"h-6 w-6",title:"text-lg font-semibold",version:"text-xs"},md:{container:"flex items-center gap-3",logo:"h-8 w-8",title:"text-xl font-bold",version:"text-sm"},lg:{container:"flex items-center gap-4",logo:"h-10 w-10",title:"text-2xl font-bold",version:"text-base"}}[t];return e.jsxs("div",{className:`${m.container} ${r}`,children:[e.jsx(Qe,{size:t,className:m.logo}),e.jsxs("div",{children:[e.jsx("h1",{className:`${m.title} text-brand-ink`,children:Xe.name}),s&&a&&e.jsxs("span",{className:`${m.version} text-muted-foreground font-mono`,children:["v",a]})]})]})}const ws="https://placehold.co/1600x900/000000/FFFFFF.avif?text=AssistJur",vs="https://placehold.co/1600x900/000000/FFFFFF.webp?text=AssistJur",bs="https://placehold.co/1600x900/000000/FFFFFF.jpg?text=AssistJur",Ns=()=>{const t=Be(),[s]=qe(),{user:a,profile:r}=Ce(),[n,m]=d.useState("signin"),[u,h]=d.useState(!1);d.useEffect(()=>{if(window.location.hash.includes("access_token")){const l=window.location.pathname+window.location.search;window.history.replaceState(null,"",l)}},[]);const i=s.get("next"),w=s.get("confirm"),x=s.get("error");d.useEffect(()=>{if(a&&r)if(r.two_factor_enabled&&sessionStorage.getItem("mfa_verified")!=="true"){const l=new URLSearchParams;l.set("email",a.email??""),i&&l.set("next",i),t(`/verify-otp?${l.toString()}`)}else{const l=cs(r.roles?.[0]?.role||null,i);t(l)}},[a,r,t,i]);const y=()=>{h(!u)},p=l=>{m(l),h(!1)};return e.jsxs("div",{className:"min-h-screen bg-gradient-subtle lg:grid lg:grid-cols-2",children:[e.jsxs("div",{className:"sr-only",children:[e.jsx("h1",{id:"main-heading",tabIndex:-1,children:"Login - AssistJur.IA"}),e.jsx("p",{children:"Acesse sua conta do AssistJur.IA para an√°lise avan√ßada de testemunhas com conformidade LGPD"})]}),e.jsx("div",{className:"flex flex-col justify-center px-6 py-12 lg:px-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-md",children:[e.jsx("nav",{"aria-label":"breadcrumb",className:"mb-4 text-sm",children:e.jsxs("ol",{className:"flex items-center text-muted-foreground",children:[e.jsx("li",{children:e.jsx(D,{to:"/",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm",children:"AssistJur IA"})}),e.jsx("li",{"aria-hidden":"true",className:"mx-2",children:"‚Ä∫"}),e.jsx("li",{children:e.jsx(D,{to:"/login","aria-current":"page",className:"focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm",children:"Login"})})]})}),e.jsx("div",{className:"flex items-center justify-center mb-8 lg:hidden",children:e.jsx(xe,{size:"lg",className:"gap-3"})}),x&&e.jsx("div",{className:"mb-6",children:e.jsx(K,{message:x==="access_denied"?_.INCORRECT_PASSWORD:_.NOT_FOUND,onRetry:()=>window.location.reload()})}),w==="1"&&e.jsx("div",{className:"mb-6",children:e.jsx(xs,{variant:"info",title:"Confirme seu cadastro",children:"Verifique seu e-mail e clique no link de confirma√ß√£o para ativar sua conta."})}),u&&F.FEATURES.MAGIC_LINK_ENABLED?e.jsx(ge,{title:"Acessar √°rea segura com link",description:"Acesso seguro sem senha",children:e.jsx(gs,{onBack:()=>h(!1)})}):e.jsx(ge,{title:n==="signin"?"Acesse sua conta":"Comece gratuitamente",description:"Acesso seguro e conformidade LGPD",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(ds,{next:i}),e.jsxs(is,{value:n,onValueChange:l=>m(l),className:"w-full",children:[e.jsxs(Ie,{className:"grid w-full grid-cols-2",role:"tablist",children:[e.jsx(oe,{value:"signin",role:"tab","aria-selected":n==="signin","aria-controls":"signin-panel",children:"Acessar √°rea segura"}),e.jsx(oe,{value:"signup",role:"tab","aria-selected":n==="signup","aria-controls":"signup-panel",children:"Criar conta"})]}),e.jsxs(le,{value:"signin",className:"mt-6",role:"tabpanel",id:"signin-panel","aria-labelledby":"signin-tab",children:[e.jsx(pe,{mode:"signin",onModeChange:p}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{type:"button",onClick:y,className:"text-sm text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1 py-0.5","aria-label":"Alternar para acesso com link de e-mail",children:"Acessar √°rea segura com link de e-mail"})})]}),e.jsx(le,{value:"signup",className:"mt-6",role:"tabpanel",id:"signup-panel","aria-labelledby":"signup-tab",children:e.jsx(pe,{mode:"signup",onModeChange:p})})]})]})}),e.jsx("footer",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dados tratados conforme"," ",e.jsx(D,{to:"/lgpd",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1",children:"LGPD"})," ‚Ä¢ ",e.jsx(D,{to:"/privacidade",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1",children:"Pol√≠tica de Privacidade"})," ‚Ä¢ ",e.jsx(D,{to:"/termos",className:"text-primary hover:underline focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm px-1",children:"Termos"})]})})]})}),e.jsx(ls,{className:"bottom-24"}),e.jsx("aside",{className:"hidden lg:block relative",role:"complementary",children:e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`linear-gradient(135deg, hsl(var(--primary) / 0.9), hsl(var(--primary-light) / 0.8)), image-set(url(${ws}) type('image/avif'), url(${vs}) type('image/webp'), url(${bs}) type('image/jpeg'))`},role:"img","aria-label":"Imagem de fundo mostrando tecnologia jur√≠dica",children:e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center p-12 text-primary-foreground",children:[e.jsx(xe,{size:"lg",className:"mb-12 gap-3"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-4xl font-bold leading-tight",children:"An√°lise avan√ßada de testemunhas com LGPD by design"}),e.jsx("p",{className:"text-xl opacity-90 leading-relaxed",children:"Detecte padr√µes suspeitos, triangula√ß√µes e provas emprestadas com total conformidade √†s normas de prote√ß√£o de dados."}),e.jsxs("ul",{className:"space-y-3 pt-8",role:"list",children:[e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","aria-hidden":"true"}),e.jsx("span",{children:"Mascaramento autom√°tico de PII"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","aria-hidden":"true"}),e.jsx("span",{children:"Trilha de auditoria completa"})]}),e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","aria-hidden":"true"}),e.jsx("span",{children:"Criptografia end-to-end"})]})]})]})]})})})]})},Ts=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"}));export{ge as A,ls as B,ce as C,_ as E,M as I,L,ee as M,is as T,Ie as a,oe as b,le as c,xe as d,xs as e,B as f,J as g,ks as h,Ss as i,Es as j,Ts as k,se as l,Ce as u,As as w};
