const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-About-Cx_WpGeO.js","assets/vendor-B8znzfp2.js","assets/page-Login-C96z17Ba.js","assets/report-Dj3xxLHI.js","assets/page-MapaPage-BG6nOduL.js","assets/page-DemoMapaTestemunhas-CeSuEkFg.js","assets/page-Profile-Cc-H9POt.js","assets/page-PortalTitular-CcCJklaH.js","assets/page-ReportDemo-CGtakkSP.js"])))=>i.map(i=>d[i]);
import{r as S,cl as zx,R as V,cm as Ts,j as a,ad as Os,w as Sr,cn as Wa,ag as mr,x as Te,D as Kr,L as os,af as Xe,bj as mt,K as ds,U as Vn,ch as Fx,bK as $a,i as wt,co as bo,l as Sh,bu as Gr,h as Ux,cp as ol,O as Ca,z as ci,a2 as Wx,bq as qx,bs as Ph,br as ui,cq as Pt,ae as Ah,cr as Kx,bN as mu,bm as du,q as mi,ac as _h,cs as Gx,V as fs,X as Hx,c7 as Xx,y as qa,f as Mr,bM as di,cj as fu,M as Yx,N as Oh,v as Ch,ct as Jx,cu as Th,cv as Zx,cw as Qx,cx as eg,cy as rg,cz as Mh,m as sg,A as tg,bT as vo,bw as Ms,bU as ts,Z as fi,bX as _m,cA as ag,cB as ng,bi as $h,t as ig,cC as og,cD as lg,u as cg,bO as ug,e as Om,cE as mg,cF as dg,aA as fg,ah as pg,bJ as hg,E as Ng,aq as Bl,cG as bg,cH as vg,cI as xg,a9 as gg}from"./vendor-B8znzfp2.js";import{y as Ee,P as pe,j as ir,C as O,b as B,c as z,m as te,d as $,D as ca,B as I,n as Le,p as Be,a as H,s as se,_ as Ka,t as fe,r as xo,H as Ta,I as ll,v as _r,L as jg,x as yg,S as Cm}from"./page-About-Cx_WpGeO.js";import{d as dr,i as zl,w as Tm,C as At,u as Fe,T as xs,a as gs,b as ye,c as Se,l as Ia,h as pi,I as Oe,L as ce,j as cl,k as wg}from"./page-Login-C96z17Ba.js";import{D as dt,n as ft,o as ls,p as cs,X as pu,R as Sn,Y as Ih,Z as Pn,S as rr,a as sr,b as tr,c as ar,d as ue,A as hu,g as Nu,h as bu,i as vu,j as xu,k as gu,l as ju,m as hi,e as An,_ as yu,f as Rh,$ as ii,a0 as Fl}from"./page-MapaPage-BG6nOduL.js";import{S as Mm}from"./page-Profile-Cc-H9POt.js";import{T as Hr,c as Xr,d as we,e as Q,f as Ir,g as X,P as Dg,a as Eg,b as kg}from"./page-DemoMapaTestemunhas-CeSuEkFg.js";import{A as Vg,f as _t,p as Ga}from"./page-ReportDemo-CGtakkSP.js";import{T as Lh}from"./page-PortalTitular-CcCJklaH.js";var Sg=Array.isArray,hr=Sg,Pg=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Bh=Pg,Ag=Bh,_g=typeof self=="object"&&self&&self.Object===Object&&self,Og=Ag||_g||Function("return this")(),Zr=Og,Cg=Zr,Tg=Cg.Symbol,_n=Tg,$m=_n,zh=Object.prototype,Mg=zh.hasOwnProperty,$g=zh.toString,wa=$m?$m.toStringTag:void 0;function Ig(e){var r=Mg.call(e,wa),s=e[wa];try{e[wa]=void 0;var t=!0}catch{}var n=$g.call(e);return t&&(r?e[wa]=s:delete e[wa]),n}var Rg=Ig,Lg=Object.prototype,Bg=Lg.toString;function zg(e){return Bg.call(e)}var Fg=zg,Im=_n,Ug=Rg,Wg=Fg,qg="[object Null]",Kg="[object Undefined]",Rm=Im?Im.toStringTag:void 0;function Gg(e){return e==null?e===void 0?Kg:qg:Rm&&Rm in Object(e)?Ug(e):Wg(e)}var js=Gg;function Hg(e){return e!=null&&typeof e=="object"}var ys=Hg,Xg=js,Yg=ys,Jg="[object Symbol]";function Zg(e){return typeof e=="symbol"||Yg(e)&&Xg(e)==Jg}var ua=Zg,Qg=hr,ej=ua,rj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sj=/^\w*$/;function tj(e,r){if(Qg(e))return!1;var s=typeof e;return s=="number"||s=="symbol"||s=="boolean"||e==null||ej(e)?!0:sj.test(e)||!rj.test(e)||r!=null&&e in Object(r)}var wu=tj;function aj(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Is=aj;const ma=Ee(Is);var nj=js,ij=Is,oj="[object AsyncFunction]",lj="[object Function]",cj="[object GeneratorFunction]",uj="[object Proxy]";function mj(e){if(!ij(e))return!1;var r=nj(e);return r==lj||r==cj||r==oj||r==uj}var Du=mj;const le=Ee(Du);var dj=Zr,fj=dj["__core-js_shared__"],pj=fj,ul=pj,Lm=function(){var e=/[^.]+$/.exec(ul&&ul.keys&&ul.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hj(e){return!!Lm&&Lm in e}var Nj=hj,bj=Function.prototype,vj=bj.toString;function xj(e){if(e!=null){try{return vj.call(e)}catch{}try{return e+""}catch{}}return""}var Fh=xj,gj=Du,jj=Nj,yj=Is,wj=Fh,Dj=/[\\^$.*+?()[\]{}|]/g,Ej=/^\[object .+?Constructor\]$/,kj=Function.prototype,Vj=Object.prototype,Sj=kj.toString,Pj=Vj.hasOwnProperty,Aj=RegExp("^"+Sj.call(Pj).replace(Dj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _j(e){if(!yj(e)||jj(e))return!1;var r=gj(e)?Aj:Ej;return r.test(wj(e))}var Oj=_j;function Cj(e,r){return e?.[r]}var Tj=Cj,Mj=Oj,$j=Tj;function Ij(e,r){var s=$j(e,r);return Mj(s)?s:void 0}var pt=Ij,Rj=pt,Lj=Rj(Object,"create"),go=Lj,Bm=go;function Bj(){this.__data__=Bm?Bm(null):{},this.size=0}var zj=Bj;function Fj(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var Uj=Fj,Wj=go,qj="__lodash_hash_undefined__",Kj=Object.prototype,Gj=Kj.hasOwnProperty;function Hj(e){var r=this.__data__;if(Wj){var s=r[e];return s===qj?void 0:s}return Gj.call(r,e)?r[e]:void 0}var Xj=Hj,Yj=go,Jj=Object.prototype,Zj=Jj.hasOwnProperty;function Qj(e){var r=this.__data__;return Yj?r[e]!==void 0:Zj.call(r,e)}var e0=Qj,r0=go,s0="__lodash_hash_undefined__";function t0(e,r){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=r0&&r===void 0?s0:r,this}var a0=t0,n0=zj,i0=Uj,o0=Xj,l0=e0,c0=a0;function da(e){var r=-1,s=e==null?0:e.length;for(this.clear();++r<s;){var t=e[r];this.set(t[0],t[1])}}da.prototype.clear=n0;da.prototype.delete=i0;da.prototype.get=o0;da.prototype.has=l0;da.prototype.set=c0;var u0=da;function m0(){this.__data__=[],this.size=0}var d0=m0;function f0(e,r){return e===r||e!==e&&r!==r}var Eu=f0,p0=Eu;function h0(e,r){for(var s=e.length;s--;)if(p0(e[s][0],r))return s;return-1}var jo=h0,N0=jo,b0=Array.prototype,v0=b0.splice;function x0(e){var r=this.__data__,s=N0(r,e);if(s<0)return!1;var t=r.length-1;return s==t?r.pop():v0.call(r,s,1),--this.size,!0}var g0=x0,j0=jo;function y0(e){var r=this.__data__,s=j0(r,e);return s<0?void 0:r[s][1]}var w0=y0,D0=jo;function E0(e){return D0(this.__data__,e)>-1}var k0=E0,V0=jo;function S0(e,r){var s=this.__data__,t=V0(s,e);return t<0?(++this.size,s.push([e,r])):s[t][1]=r,this}var P0=S0,A0=d0,_0=g0,O0=w0,C0=k0,T0=P0;function fa(e){var r=-1,s=e==null?0:e.length;for(this.clear();++r<s;){var t=e[r];this.set(t[0],t[1])}}fa.prototype.clear=A0;fa.prototype.delete=_0;fa.prototype.get=O0;fa.prototype.has=C0;fa.prototype.set=T0;var yo=fa,M0=pt,$0=Zr,I0=M0($0,"Map"),ku=I0,zm=u0,R0=yo,L0=ku;function B0(){this.size=0,this.__data__={hash:new zm,map:new(L0||R0),string:new zm}}var z0=B0;function F0(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var U0=F0,W0=U0;function q0(e,r){var s=e.__data__;return W0(r)?s[typeof r=="string"?"string":"hash"]:s.map}var wo=q0,K0=wo;function G0(e){var r=K0(this,e).delete(e);return this.size-=r?1:0,r}var H0=G0,X0=wo;function Y0(e){return X0(this,e).get(e)}var J0=Y0,Z0=wo;function Q0(e){return Z0(this,e).has(e)}var ey=Q0,ry=wo;function sy(e,r){var s=ry(this,e),t=s.size;return s.set(e,r),this.size+=s.size==t?0:1,this}var ty=sy,ay=z0,ny=H0,iy=J0,oy=ey,ly=ty;function pa(e){var r=-1,s=e==null?0:e.length;for(this.clear();++r<s;){var t=e[r];this.set(t[0],t[1])}}pa.prototype.clear=ay;pa.prototype.delete=ny;pa.prototype.get=iy;pa.prototype.has=oy;pa.prototype.set=ly;var Vu=pa,Uh=Vu,cy="Expected a function";function Su(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(cy);var s=function(){var t=arguments,n=r?r.apply(this,t):t[0],i=s.cache;if(i.has(n))return i.get(n);var o=e.apply(this,t);return s.cache=i.set(n,o)||i,o};return s.cache=new(Su.Cache||Uh),s}Su.Cache=Uh;var Wh=Su;const uy=Ee(Wh);var my=Wh,dy=500;function fy(e){var r=my(e,function(t){return s.size===dy&&s.clear(),t}),s=r.cache;return r}var py=fy,hy=py,Ny=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,by=/\\(\\)?/g,vy=hy(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Ny,function(s,t,n,i){r.push(n?i.replace(by,"$1"):t||s)}),r}),xy=vy;function gy(e,r){for(var s=-1,t=e==null?0:e.length,n=Array(t);++s<t;)n[s]=r(e[s],s,e);return n}var Pu=gy,Fm=_n,jy=Pu,yy=hr,wy=ua,Um=Fm?Fm.prototype:void 0,Wm=Um?Um.toString:void 0;function qh(e){if(typeof e=="string")return e;if(yy(e))return jy(e,qh)+"";if(wy(e))return Wm?Wm.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var Dy=qh,Ey=Dy;function ky(e){return e==null?"":Ey(e)}var Kh=ky,Vy=hr,Sy=wu,Py=xy,Ay=Kh;function _y(e,r){return Vy(e)?e:Sy(e,r)?[e]:Py(Ay(e))}var Gh=_y,Oy=ua;function Cy(e){if(typeof e=="string"||Oy(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var Do=Cy,Ty=Gh,My=Do;function $y(e,r){r=Ty(r,e);for(var s=0,t=r.length;e!=null&&s<t;)e=e[My(r[s++])];return s&&s==t?e:void 0}var Au=$y,Iy=Au;function Ry(e,r,s){var t=e==null?void 0:Iy(e,r);return t===void 0?s:t}var Hh=Ry;const gr=Ee(Hh);function Ly(e){return e==null}var By=Ly;const me=Ee(By);var zy=js,Fy=hr,Uy=ys,Wy="[object String]";function qy(e){return typeof e=="string"||!Fy(e)&&Uy(e)&&zy(e)==Wy}var Ky=qy;const tt=Ee(Ky);var Gy=js,Hy=ys,Xy="[object Number]";function Yy(e){return typeof e=="number"||Hy(e)&&Gy(e)==Xy}var Xh=Yy;const Jy=Ee(Xh);var Zy=Xh;function Qy(e){return Zy(e)&&e!=+e}var ew=Qy;const ha=Ee(ew);var lr=function(r){return r===0?0:r>0?1:-1},Xs=function(r){return tt(r)&&r.indexOf("%")===r.length-1},W=function(r){return Jy(r)&&!ha(r)},rw=function(r){return me(r)},Ye=function(r){return W(r)||tt(r)},sw=0,ht=function(r){var s=++sw;return"".concat(r||"").concat(s)},cr=function(r,s){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!W(r)&&!tt(r))return t;var i;if(Xs(r)){var o=r.indexOf("%");i=s*parseFloat(r.slice(0,o))/100}else i=+r;return ha(i)&&(i=t),n&&i>s&&(i=s),i},Ps=function(r){if(!r)return null;var s=Object.keys(r);return s&&s.length?r[s[0]]:null},tw=function(r){if(!Array.isArray(r))return!1;for(var s=r.length,t={},n=0;n<s;n++)if(!t[r[n]])t[r[n]]=!0;else return!0;return!1},He=function(r,s){return W(r)&&W(s)?function(t){return r+t*(s-r)}:function(){return s}};function Ni(e,r,s){return!e||!e.length?null:e.find(function(t){return t&&(typeof r=="function"?r(t):gr(t,r))===s})}var aw=function(r,s){return W(r)&&W(s)?r-s:tt(r)&&tt(s)?r.localeCompare(s):r instanceof Date&&s instanceof Date?r.getTime()-s.getTime():String(r).localeCompare(String(s))};function Ot(e,r){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(r,s)||e[s]!==r[s]))return!1;for(var t in r)if({}.hasOwnProperty.call(r,t)&&!{}.hasOwnProperty.call(e,t))return!1;return!0}function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ul(e)}var nw=["viewBox","children"],iw=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qm=["points","pathLength"],ml={svg:nw,polygon:qm,polyline:qm},_u=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bi=function(r,s){if(!r||typeof r=="function"||typeof r=="boolean")return null;var t=r;if(S.isValidElement(r)&&(t=r.props),!ma(t))return null;var n={};return Object.keys(t).forEach(function(i){_u.includes(i)&&(n[i]=s||function(o){return t[i](t,o)})}),n},ow=function(r,s,t){return function(n){return r(s,t,n),null}},at=function(r,s,t){if(!ma(r)||Ul(r)!=="object")return null;var n=null;return Object.keys(r).forEach(function(i){var o=r[i];_u.includes(i)&&typeof o=="function"&&(n||(n={}),n[i]=ow(o,s,t))}),n},lw=["children"],cw=["children"];function Km(e,r){if(e==null)return{};var s=uw(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function uw(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wl(e)}var Gm={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},us=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},Hm=null,dl=null,Ou=function e(r){if(r===Hm&&Array.isArray(dl))return dl;var s=[];return S.Children.forEach(r,function(t){me(t)||(zx.isFragment(t)?s=s.concat(e(t.props.children)):s.push(t))}),dl=s,Hm=r,s};function jr(e,r){var s=[],t=[];return Array.isArray(r)?t=r.map(function(n){return us(n)}):t=[us(r)],Ou(e).forEach(function(n){var i=gr(n,"type.displayName")||gr(n,"type.name");t.indexOf(i)!==-1&&s.push(n)}),s}function vr(e,r){var s=jr(e,r);return s&&s[0]}var Xm=function(r){if(!r||!r.props)return!1;var s=r.props,t=s.width,n=s.height;return!(!W(t)||t<=0||!W(n)||n<=0)},mw=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dw=function(r){return r&&r.type&&tt(r.type)&&mw.indexOf(r.type)>=0},Yh=function(r){return r&&Wl(r)==="object"&&"clipDot"in r},fw=function(r,s,t,n){var i,o=(i=ml?.[n])!==null&&i!==void 0?i:[];return s.startsWith("data-")||!le(r)&&(n&&o.includes(s)||iw.includes(s))||t&&_u.includes(s)},ae=function(r,s,t){if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(S.isValidElement(r)&&(n=r.props),!ma(n))return null;var i={};return Object.keys(n).forEach(function(o){var l;fw((l=n)===null||l===void 0?void 0:l[o],o,s,t)&&(i[o]=n[o])}),i},ql=function e(r,s){if(r===s)return!0;var t=S.Children.count(r);if(t!==S.Children.count(s))return!1;if(t===0)return!0;if(t===1)return Ym(Array.isArray(r)?r[0]:r,Array.isArray(s)?s[0]:s);for(var n=0;n<t;n++){var i=r[n],o=s[n];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Ym(i,o))return!1}return!0},Ym=function(r,s){if(me(r)&&me(s))return!0;if(!me(r)&&!me(s)){var t=r.props||{},n=t.children,i=Km(t,lw),o=s.props||{},l=o.children,c=Km(o,cw);return n&&l?Ot(i,c)&&ql(n,l):!n&&!l?Ot(i,c):!1}return!1},Jm=function(r,s){var t=[],n={};return Ou(r).forEach(function(i,o){if(dw(i))t.push(i);else if(i){var l=us(i.type),c=s[l]||{},u=c.handler,m=c.once;if(u&&(!m||!n[l])){var d=u(i,l,o);t.push(d),n[l]=!0}}}),t},pw=function(r){var s=r&&r.type;return s&&Gm[s]?Gm[s]:null},hw=function(r,s){return Ou(s).indexOf(r)},Nw=["children","width","height","viewBox","className","style","title","desc"];function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Kl.apply(this,arguments)}function bw(e,r){if(e==null)return{};var s=vw(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function vw(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function Gl(e){var r=e.children,s=e.width,t=e.height,n=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=bw(e,Nw),m=n||{width:s,height:t,x:0,y:0},d=pe("recharts-surface",i);return V.createElement("svg",Kl({},ae(u,!0,"svg"),{className:d,width:s,height:t,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),r)}var xw=["children","className"];function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Hl.apply(this,arguments)}function gw(e,r){if(e==null)return{};var s=jw(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function jw(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}var Ne=V.forwardRef(function(e,r){var s=e.children,t=e.className,n=gw(e,xw),i=pe("recharts-layer",t);return V.createElement("g",Hl({className:i},ae(n,!0),{ref:r}),s)}),$r=function(r,s){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(s===void 0&&console.warn("LogUtils requires an error message argument"),!r))if(s===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(s.replace(/%s/g,function(){return n[o++]}))}};function yw(e,r,s){var t=-1,n=e.length;r<0&&(r=-r>n?0:n+r),s=s>n?n:s,s<0&&(s+=n),n=r>s?0:s-r>>>0,r>>>=0;for(var i=Array(n);++t<n;)i[t]=e[t+r];return i}var ww=yw,Dw=ww;function Ew(e,r,s){var t=e.length;return s=s===void 0?t:s,!r&&s>=t?e:Dw(e,r,s)}var kw=Ew,Vw="\\ud800-\\udfff",Sw="\\u0300-\\u036f",Pw="\\ufe20-\\ufe2f",Aw="\\u20d0-\\u20ff",_w=Sw+Pw+Aw,Ow="\\ufe0e\\ufe0f",Cw="\\u200d",Tw=RegExp("["+Cw+Vw+_w+Ow+"]");function Mw(e){return Tw.test(e)}var Jh=Mw;function $w(e){return e.split("")}var Iw=$w,Zh="\\ud800-\\udfff",Rw="\\u0300-\\u036f",Lw="\\ufe20-\\ufe2f",Bw="\\u20d0-\\u20ff",zw=Rw+Lw+Bw,Fw="\\ufe0e\\ufe0f",Uw="["+Zh+"]",Xl="["+zw+"]",Yl="\\ud83c[\\udffb-\\udfff]",Ww="(?:"+Xl+"|"+Yl+")",Qh="[^"+Zh+"]",eN="(?:\\ud83c[\\udde6-\\uddff]){2}",rN="[\\ud800-\\udbff][\\udc00-\\udfff]",qw="\\u200d",sN=Ww+"?",tN="["+Fw+"]?",Kw="(?:"+qw+"(?:"+[Qh,eN,rN].join("|")+")"+tN+sN+")*",Gw=tN+sN+Kw,Hw="(?:"+[Qh+Xl+"?",Xl,eN,rN,Uw].join("|")+")",Xw=RegExp(Yl+"(?="+Yl+")|"+Hw+Gw,"g");function Yw(e){return e.match(Xw)||[]}var Jw=Yw,Zw=Iw,Qw=Jh,e1=Jw;function r1(e){return Qw(e)?e1(e):Zw(e)}var s1=r1,t1=kw,a1=Jh,n1=s1,i1=Kh;function o1(e){return function(r){r=i1(r);var s=a1(r)?n1(r):void 0,t=s?s[0]:r.charAt(0),n=s?t1(s,1).join(""):r.slice(1);return t[e]()+n}}var l1=o1,c1=l1,u1=c1("toUpperCase"),m1=u1;const Eo=Ee(m1);function Ve(e){return function(){return e}}const aN=Math.cos,vi=Math.sin,Rr=Math.sqrt,xi=Math.PI,ko=2*xi,Jl=Math.PI,Zl=2*Jl,qs=1e-6,d1=Zl-qs;function nN(e){this._+=e[0];for(let r=1,s=e.length;r<s;++r)this._+=arguments[r]+e[r]}function f1(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return nN;const s=10**r;return function(t){this._+=t[0];for(let n=1,i=t.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+t[n]}}class p1{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?nN:f1(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,t,n){this._append`Q${+r},${+s},${this._x1=+t},${this._y1=+n}`}bezierCurveTo(r,s,t,n,i,o){this._append`C${+r},${+s},${+t},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(r,s,t,n,i){if(r=+r,s=+s,t=+t,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=t-r,u=n-s,m=o-r,d=l-s,f=m*m+d*d;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(f>qs)if(!(Math.abs(d*c-u*m)>qs)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let p=t-o,N=n-l,h=c*c+u*u,b=p*p+N*N,v=Math.sqrt(h),j=Math.sqrt(f),w=i*Math.tan((Jl-Math.acos((h+f-b)/(2*v*j)))/2),D=w/j,g=w/v;Math.abs(D-1)>qs&&this._append`L${r+D*m},${s+D*d}`,this._append`A${i},${i},0,0,${+(d*p>m*N)},${this._x1=r+g*c},${this._y1=s+g*u}`}}arc(r,s,t,n,i,o){if(r=+r,s=+s,t=+t,o=!!o,t<0)throw new Error(`negative radius: ${t}`);let l=t*Math.cos(n),c=t*Math.sin(n),u=r+l,m=s+c,d=1^o,f=o?n-i:i-n;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>qs||Math.abs(this._y1-m)>qs)&&this._append`L${u},${m}`,t&&(f<0&&(f=f%Zl+Zl),f>d1?this._append`A${t},${t},0,1,${d},${r-l},${s-c}A${t},${t},0,1,${d},${this._x1=u},${this._y1=m}`:f>qs&&this._append`A${t},${t},0,${+(f>=Jl)},${d},${this._x1=r+t*Math.cos(i)},${this._y1=s+t*Math.sin(i)}`)}rect(r,s,t,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${t=+t}v${+n}h${-t}Z`}toString(){return this._}}function Cu(e){let r=3;return e.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const t=Math.floor(s);if(!(t>=0))throw new RangeError(`invalid digits: ${s}`);r=t}return e},()=>new p1(r)}function Tu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iN(e){this._context=e}iN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function Vo(e){return new iN(e)}function oN(e){return e[0]}function lN(e){return e[1]}function cN(e,r){var s=Ve(!0),t=null,n=Vo,i=null,o=Cu(l);e=typeof e=="function"?e:e===void 0?oN:Ve(e),r=typeof r=="function"?r:r===void 0?lN:Ve(r);function l(c){var u,m=(c=Tu(c)).length,d,f=!1,p;for(t==null&&(i=n(p=o())),u=0;u<=m;++u)!(u<m&&s(d=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(d,u,c),+r(d,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ve(+c),l):e},l.y=function(c){return arguments.length?(r=typeof c=="function"?c:Ve(+c),l):r},l.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Ve(!!c),l):s},l.curve=function(c){return arguments.length?(n=c,t!=null&&(i=n(t)),l):n},l.context=function(c){return arguments.length?(c==null?t=i=null:i=n(t=c),l):t},l}function Wn(e,r,s){var t=null,n=Ve(!0),i=null,o=Vo,l=null,c=Cu(u);e=typeof e=="function"?e:e===void 0?oN:Ve(+e),r=typeof r=="function"?r:Ve(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?lN:Ve(+s);function u(d){var f,p,N,h=(d=Tu(d)).length,b,v=!1,j,w=new Array(h),D=new Array(h);for(i==null&&(l=o(j=c())),f=0;f<=h;++f){if(!(f<h&&n(b=d[f],f,d))===v)if(v=!v)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),N=f-1;N>=p;--N)l.point(w[N],D[N]);l.lineEnd(),l.areaEnd()}v&&(w[f]=+e(b,f,d),D[f]=+r(b,f,d),l.point(t?+t(b,f,d):w[f],s?+s(b,f,d):D[f]))}if(j)return l=null,j+""||null}function m(){return cN().defined(n).curve(o).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ve(+d),t=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ve(+d),u):e},u.x1=function(d){return arguments.length?(t=d==null?null:typeof d=="function"?d:Ve(+d),u):t},u.y=function(d){return arguments.length?(r=typeof d=="function"?d:Ve(+d),s=null,u):r},u.y0=function(d){return arguments.length?(r=typeof d=="function"?d:Ve(+d),u):r},u.y1=function(d){return arguments.length?(s=d==null?null:typeof d=="function"?d:Ve(+d),u):s},u.lineX0=u.lineY0=function(){return m().x(e).y(r)},u.lineY1=function(){return m().x(e).y(s)},u.lineX1=function(){return m().x(t).y(r)},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Ve(!!d),u):n},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class uN{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function h1(e){return new uN(e,!0)}function N1(e){return new uN(e,!1)}const Mu={draw(e,r){const s=Rr(r/xi);e.moveTo(s,0),e.arc(0,0,s,0,ko)}},b1={draw(e,r){const s=Rr(r/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},mN=Rr(1/3),v1=mN*2,x1={draw(e,r){const s=Rr(r/v1),t=s*mN;e.moveTo(0,-s),e.lineTo(t,0),e.lineTo(0,s),e.lineTo(-t,0),e.closePath()}},g1={draw(e,r){const s=Rr(r),t=-s/2;e.rect(t,t,s,s)}},j1=.8908130915292852,dN=vi(xi/10)/vi(7*xi/10),y1=vi(ko/10)*dN,w1=-aN(ko/10)*dN,D1={draw(e,r){const s=Rr(r*j1),t=y1*s,n=w1*s;e.moveTo(0,-s),e.lineTo(t,n);for(let i=1;i<5;++i){const o=ko*i/5,l=aN(o),c=vi(o);e.lineTo(c*s,-l*s),e.lineTo(l*t-c*n,c*t+l*n)}e.closePath()}},fl=Rr(3),E1={draw(e,r){const s=-Rr(r/(fl*3));e.moveTo(0,s*2),e.lineTo(-fl*s,-s),e.lineTo(fl*s,-s),e.closePath()}},yr=-.5,wr=Rr(3)/2,Ql=1/Rr(12),k1=(Ql/2+1)*3,V1={draw(e,r){const s=Rr(r/k1),t=s/2,n=s*Ql,i=t,o=s*Ql+s,l=-i,c=o;e.moveTo(t,n),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(yr*t-wr*n,wr*t+yr*n),e.lineTo(yr*i-wr*o,wr*i+yr*o),e.lineTo(yr*l-wr*c,wr*l+yr*c),e.lineTo(yr*t+wr*n,yr*n-wr*t),e.lineTo(yr*i+wr*o,yr*o-wr*i),e.lineTo(yr*l+wr*c,yr*c-wr*l),e.closePath()}};function S1(e,r){let s=null,t=Cu(n);e=typeof e=="function"?e:Ve(e||Mu),r=typeof r=="function"?r:Ve(r===void 0?64:+r);function n(){let i;if(s||(s=i=t()),e.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ve(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:Ve(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function gi(){}function ji(e,r,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+s)/6)}function fN(e){this._context=e}fN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ji(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ji(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function P1(e){return new fN(e)}function pN(e){this._context=e}pN.prototype={areaStart:gi,areaEnd:gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:ji(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function A1(e){return new pN(e)}function hN(e){this._context=e}hN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,t=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 3:this._point=4;default:ji(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function _1(e){return new hN(e)}function NN(e){this._context=e}NN.prototype={areaStart:gi,areaEnd:gi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function O1(e){return new NN(e)}function Zm(e){return e<0?-1:1}function Qm(e,r,s){var t=e._x1-e._x0,n=r-e._x1,i=(e._y1-e._y0)/(t||n<0&&-0),o=(s-e._y1)/(n||t<0&&-0),l=(i*n+o*t)/(t+n);return(Zm(i)+Zm(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ed(e,r){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-r)/2:r}function pl(e,r,s){var t=e._x0,n=e._y0,i=e._x1,o=e._y1,l=(i-t)/3;e._context.bezierCurveTo(t+l,n+l*r,i-l,o-l*s,i,o)}function yi(e){this._context=e}yi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pl(this,this._t0,ed(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var s=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,pl(this,ed(this,s=Qm(this,e,r)),s);break;default:pl(this,this._t0,s=Qm(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=s}}};function bN(e){this._context=new vN(e)}(bN.prototype=Object.create(yi.prototype)).point=function(e,r){yi.prototype.point.call(this,r,e)};function vN(e){this._context=e}vN.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,s,t,n,i){this._context.bezierCurveTo(r,e,t,s,i,n)}};function C1(e){return new yi(e)}function T1(e){return new bN(e)}function xN(e){this._context=e}xN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),s===2)this._context.lineTo(e[1],r[1]);else for(var t=rd(e),n=rd(r),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(t[0][i],n[0][i],t[1][i],n[1][i],e[o],r[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function rd(e){var r,s=e.length-1,t,n=new Array(s),i=new Array(s),o=new Array(s);for(n[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(n[s-1]=2,i[s-1]=7,o[s-1]=8*e[s-1]+e[s],r=1;r<s;++r)t=n[r]/i[r-1],i[r]-=t,o[r]-=t*o[r-1];for(n[s-1]=o[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(o[r]-n[r+1])/i[r];for(i[s-1]=(e[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*e[r+1]-n[r+1];return[n,i]}function M1(e){return new xN(e)}function So(e,r){this._context=e,this._t=r}So.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=e,this._y=r}};function $1(e){return new So(e,.5)}function I1(e){return new So(e,0)}function R1(e){return new So(e,1)}function $t(e,r){if((o=e.length)>1)for(var s=1,t,n,i=e[r[0]],o,l=i.length;s<o;++s)for(n=i,i=e[r[s]],t=0;t<l;++t)i[t][1]+=i[t][0]=isNaN(n[t][1])?n[t][0]:n[t][1]}function ec(e){for(var r=e.length,s=new Array(r);--r>=0;)s[r]=r;return s}function L1(e,r){return e[r]}function B1(e){const r=[];return r.key=e,r}function z1(){var e=Ve([]),r=ec,s=$t,t=L1;function n(i){var o=Array.from(e.apply(this,arguments),B1),l,c=o.length,u=-1,m;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+t(d,o[l].key,u,i)]).data=d;for(l=0,m=Tu(r(o));l<c;++l)o[m[l]].index=l;return s(o,m),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ve(Array.from(i)),n):e},n.value=function(i){return arguments.length?(t=typeof i=="function"?i:Ve(+i),n):t},n.order=function(i){return arguments.length?(r=i==null?ec:typeof i=="function"?i:Ve(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??$t,n):s},n}function F1(e,r){if((t=e.length)>0){for(var s,t,n=0,i=e[0].length,o;n<i;++n){for(o=s=0;s<t;++s)o+=e[s][n][1]||0;if(o)for(s=0;s<t;++s)e[s][n][1]/=o}$t(e,r)}}function U1(e,r){if((n=e.length)>0){for(var s=0,t=e[r[0]],n,i=t.length;s<i;++s){for(var o=0,l=0;o<n;++o)l+=e[o][s][1]||0;t[s][1]+=t[s][0]=-l/2}$t(e,r)}}function W1(e,r){if(!(!((o=e.length)>0)||!((i=(n=e[r[0]]).length)>0))){for(var s=0,t=1,n,i,o;t<i;++t){for(var l=0,c=0,u=0;l<o;++l){for(var m=e[r[l]],d=m[t][1]||0,f=m[t-1][1]||0,p=(d-f)/2,N=0;N<l;++N){var h=e[r[N]],b=h[t][1]||0,v=h[t-1][1]||0;p+=b-v}c+=d,u+=p*d}n[t-1][1]+=n[t-1][0]=s,c&&(s-=u/c)}n[t-1][1]+=n[t-1][0]=s,$t(e,r)}}function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ha(e)}var q1=["type","size","sizeType"];function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},rc.apply(this,arguments)}function sd(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function td(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?sd(Object(s),!0).forEach(function(t){K1(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sd(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function K1(e,r,s){return r=G1(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function G1(e){var r=H1(e,"string");return Ha(r)=="symbol"?r:r+""}function H1(e,r){if(Ha(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Ha(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function X1(e,r){if(e==null)return{};var s=Y1(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function Y1(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}var gN={symbolCircle:Mu,symbolCross:b1,symbolDiamond:x1,symbolSquare:g1,symbolStar:D1,symbolTriangle:E1,symbolWye:V1},J1=Math.PI/180,Z1=function(r){var s="symbol".concat(Eo(r));return gN[s]||Mu},Q1=function(r,s,t){if(s==="area")return r;switch(t){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var n=18*J1;return 1.25*r*r*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},eD=function(r,s){gN["symbol".concat(Eo(r))]=s},$u=function(r){var s=r.type,t=s===void 0?"circle":s,n=r.size,i=n===void 0?64:n,o=r.sizeType,l=o===void 0?"area":o,c=X1(r,q1),u=td(td({},c),{},{type:t,size:i,sizeType:l}),m=function(){var b=Z1(t),v=S1().type(b).size(Q1(i,l,t));return v()},d=u.className,f=u.cx,p=u.cy,N=ae(u,!0);return f===+f&&p===+p&&i===+i?V.createElement("path",rc({},N,{className:pe("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:m()})):null};$u.registerSymbol=eD;function It(e){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},It(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},sc.apply(this,arguments)}function ad(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function rD(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ad(Object(s),!0).forEach(function(t){Xa(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ad(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function sD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tD(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,yN(t.key),t)}}function aD(e,r,s){return r&&tD(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nD(e,r,s){return r=wi(r),iD(e,jN()?Reflect.construct(r,s||[],wi(e).constructor):r.apply(e,s))}function iD(e,r){if(r&&(It(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oD(e)}function oD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jN=function(){return!!e})()}function wi(e){return wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},wi(e)}function lD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&tc(e,r)}function tc(e,r){return tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},tc(e,r)}function Xa(e,r,s){return r=yN(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function yN(e){var r=cD(e,"string");return It(r)=="symbol"?r:r+""}function cD(e,r){if(It(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(It(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dr=32,Iu=function(e){function r(){return sD(this,r),nD(this,r,arguments)}return lD(r,e),aD(r,[{key:"renderIcon",value:function(t){var n=this.props.inactiveColor,i=Dr/2,o=Dr/6,l=Dr/3,c=t.inactive?n:t.color;if(t.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Dr,y2:i,className:"recharts-legend-icon"});if(t.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Dr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(t.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Dr/8,"h").concat(Dr,"v").concat(Dr*3/4,"h").concat(-Dr,"z"),className:"recharts-legend-icon"});if(V.isValidElement(t.legendIcon)){var u=rD({},t);return delete u.legendIcon,V.cloneElement(t.legendIcon,u)}return V.createElement($u,{fill:c,cx:i,cy:i,size:Dr,sizeType:"diameter",type:t.type})}},{key:"renderItems",value:function(){var t=this,n=this.props,i=n.payload,o=n.iconSize,l=n.layout,c=n.formatter,u=n.inactiveColor,m={x:0,y:0,width:Dr,height:Dr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,N){var h=p.formatter||c,b=pe(Xa(Xa({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=le(p.value)?null:p.value;$r(!le(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=p.inactive?u:p.color;return V.createElement("li",sc({className:b,style:d,key:"legend-item-".concat(N)},at(t.props,p,N)),V.createElement(Gl,{width:o,height:o,viewBox:m,style:f},t.renderIcon(p)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},h?h(v,p,N):v))})}},{key:"render",value:function(){var t=this.props,n=t.payload,i=t.layout,o=t.align;if(!n||!n.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(S.PureComponent);Xa(Iu,"displayName","Legend");Xa(Iu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var uD=yo;function mD(){this.__data__=new uD,this.size=0}var dD=mD;function fD(e){var r=this.__data__,s=r.delete(e);return this.size=r.size,s}var pD=fD;function hD(e){return this.__data__.get(e)}var ND=hD;function bD(e){return this.__data__.has(e)}var vD=bD,xD=yo,gD=ku,jD=Vu,yD=200;function wD(e,r){var s=this.__data__;if(s instanceof xD){var t=s.__data__;if(!gD||t.length<yD-1)return t.push([e,r]),this.size=++s.size,this;s=this.__data__=new jD(t)}return s.set(e,r),this.size=s.size,this}var DD=wD,ED=yo,kD=dD,VD=pD,SD=ND,PD=vD,AD=DD;function Na(e){var r=this.__data__=new ED(e);this.size=r.size}Na.prototype.clear=kD;Na.prototype.delete=VD;Na.prototype.get=SD;Na.prototype.has=PD;Na.prototype.set=AD;var wN=Na,_D="__lodash_hash_undefined__";function OD(e){return this.__data__.set(e,_D),this}var CD=OD;function TD(e){return this.__data__.has(e)}var MD=TD,$D=Vu,ID=CD,RD=MD;function Di(e){var r=-1,s=e==null?0:e.length;for(this.__data__=new $D;++r<s;)this.add(e[r])}Di.prototype.add=Di.prototype.push=ID;Di.prototype.has=RD;var DN=Di;function LD(e,r){for(var s=-1,t=e==null?0:e.length;++s<t;)if(r(e[s],s,e))return!0;return!1}var EN=LD;function BD(e,r){return e.has(r)}var kN=BD,zD=DN,FD=EN,UD=kN,WD=1,qD=2;function KD(e,r,s,t,n,i){var o=s&WD,l=e.length,c=r.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),m=i.get(r);if(u&&m)return u==r&&m==e;var d=-1,f=!0,p=s&qD?new zD:void 0;for(i.set(e,r),i.set(r,e);++d<l;){var N=e[d],h=r[d];if(t)var b=o?t(h,N,d,r,e,i):t(N,h,d,e,r,i);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!FD(r,function(v,j){if(!UD(p,j)&&(N===v||n(N,v,s,t,i)))return p.push(j)})){f=!1;break}}else if(!(N===h||n(N,h,s,t,i))){f=!1;break}}return i.delete(e),i.delete(r),f}var VN=KD,GD=Zr,HD=GD.Uint8Array,XD=HD;function YD(e){var r=-1,s=Array(e.size);return e.forEach(function(t,n){s[++r]=[n,t]}),s}var JD=YD;function ZD(e){var r=-1,s=Array(e.size);return e.forEach(function(t){s[++r]=t}),s}var Ru=ZD,nd=_n,id=XD,QD=Eu,eE=VN,rE=JD,sE=Ru,tE=1,aE=2,nE="[object Boolean]",iE="[object Date]",oE="[object Error]",lE="[object Map]",cE="[object Number]",uE="[object RegExp]",mE="[object Set]",dE="[object String]",fE="[object Symbol]",pE="[object ArrayBuffer]",hE="[object DataView]",od=nd?nd.prototype:void 0,hl=od?od.valueOf:void 0;function NE(e,r,s,t,n,i,o){switch(s){case hE:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case pE:return!(e.byteLength!=r.byteLength||!i(new id(e),new id(r)));case nE:case iE:case cE:return QD(+e,+r);case oE:return e.name==r.name&&e.message==r.message;case uE:case dE:return e==r+"";case lE:var l=rE;case mE:var c=t&tE;if(l||(l=sE),e.size!=r.size&&!c)return!1;var u=o.get(e);if(u)return u==r;t|=aE,o.set(e,r);var m=eE(l(e),l(r),t,n,i,o);return o.delete(e),m;case fE:if(hl)return hl.call(e)==hl.call(r)}return!1}var bE=NE;function vE(e,r){for(var s=-1,t=r.length,n=e.length;++s<t;)e[n+s]=r[s];return e}var SN=vE,xE=SN,gE=hr;function jE(e,r,s){var t=r(e);return gE(e)?t:xE(t,s(e))}var yE=jE;function wE(e,r){for(var s=-1,t=e==null?0:e.length,n=0,i=[];++s<t;){var o=e[s];r(o,s,e)&&(i[n++]=o)}return i}var DE=wE;function EE(){return[]}var kE=EE,VE=DE,SE=kE,PE=Object.prototype,AE=PE.propertyIsEnumerable,ld=Object.getOwnPropertySymbols,_E=ld?function(e){return e==null?[]:(e=Object(e),VE(ld(e),function(r){return AE.call(e,r)}))}:SE,OE=_E;function CE(e,r){for(var s=-1,t=Array(e);++s<e;)t[s]=r(s);return t}var TE=CE,ME=js,$E=ys,IE="[object Arguments]";function RE(e){return $E(e)&&ME(e)==IE}var LE=RE,cd=LE,BE=ys,PN=Object.prototype,zE=PN.hasOwnProperty,FE=PN.propertyIsEnumerable,UE=cd(function(){return arguments}())?cd:function(e){return BE(e)&&zE.call(e,"callee")&&!FE.call(e,"callee")},Lu=UE,Ei={exports:{}};function WE(){return!1}var qE=WE;Ei.exports;(function(e,r){var s=Zr,t=qE,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,l=o?s.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||t;e.exports=u})(Ei,Ei.exports);var AN=Ei.exports,KE=9007199254740991,GE=/^(?:0|[1-9]\d*)$/;function HE(e,r){var s=typeof e;return r=r??KE,!!r&&(s=="number"||s!="symbol"&&GE.test(e))&&e>-1&&e%1==0&&e<r}var Bu=HE,XE=9007199254740991;function YE(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=XE}var zu=YE,JE=js,ZE=zu,QE=ys,ek="[object Arguments]",rk="[object Array]",sk="[object Boolean]",tk="[object Date]",ak="[object Error]",nk="[object Function]",ik="[object Map]",ok="[object Number]",lk="[object Object]",ck="[object RegExp]",uk="[object Set]",mk="[object String]",dk="[object WeakMap]",fk="[object ArrayBuffer]",pk="[object DataView]",hk="[object Float32Array]",Nk="[object Float64Array]",bk="[object Int8Array]",vk="[object Int16Array]",xk="[object Int32Array]",gk="[object Uint8Array]",jk="[object Uint8ClampedArray]",yk="[object Uint16Array]",wk="[object Uint32Array]",Ae={};Ae[hk]=Ae[Nk]=Ae[bk]=Ae[vk]=Ae[xk]=Ae[gk]=Ae[jk]=Ae[yk]=Ae[wk]=!0;Ae[ek]=Ae[rk]=Ae[fk]=Ae[sk]=Ae[pk]=Ae[tk]=Ae[ak]=Ae[nk]=Ae[ik]=Ae[ok]=Ae[lk]=Ae[ck]=Ae[uk]=Ae[mk]=Ae[dk]=!1;function Dk(e){return QE(e)&&ZE(e.length)&&!!Ae[JE(e)]}var Ek=Dk;function kk(e){return function(r){return e(r)}}var _N=kk,ki={exports:{}};ki.exports;(function(e,r){var s=Bh,t=r&&!r.nodeType&&r,n=t&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===t,o=i&&s.process,l=function(){try{var c=n&&n.require&&n.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ki,ki.exports);var Vk=ki.exports,Sk=Ek,Pk=_N,ud=Vk,md=ud&&ud.isTypedArray,Ak=md?Pk(md):Sk,ON=Ak,_k=TE,Ok=Lu,Ck=hr,Tk=AN,Mk=Bu,$k=ON,Ik=Object.prototype,Rk=Ik.hasOwnProperty;function Lk(e,r){var s=Ck(e),t=!s&&Ok(e),n=!s&&!t&&Tk(e),i=!s&&!t&&!n&&$k(e),o=s||t||n||i,l=o?_k(e.length,String):[],c=l.length;for(var u in e)(r||Rk.call(e,u))&&!(o&&(u=="length"||n&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Mk(u,c)))&&l.push(u);return l}var Bk=Lk,zk=Object.prototype;function Fk(e){var r=e&&e.constructor,s=typeof r=="function"&&r.prototype||zk;return e===s}var Uk=Fk;function Wk(e,r){return function(s){return e(r(s))}}var CN=Wk,qk=CN,Kk=qk(Object.keys,Object),Gk=Kk,Hk=Uk,Xk=Gk,Yk=Object.prototype,Jk=Yk.hasOwnProperty;function Zk(e){if(!Hk(e))return Xk(e);var r=[];for(var s in Object(e))Jk.call(e,s)&&s!="constructor"&&r.push(s);return r}var Qk=Zk,eV=Du,rV=zu;function sV(e){return e!=null&&rV(e.length)&&!eV(e)}var On=sV,tV=Bk,aV=Qk,nV=On;function iV(e){return nV(e)?tV(e):aV(e)}var Po=iV,oV=yE,lV=OE,cV=Po;function uV(e){return oV(e,cV,lV)}var mV=uV,dd=mV,dV=1,fV=Object.prototype,pV=fV.hasOwnProperty;function hV(e,r,s,t,n,i){var o=s&dV,l=dd(e),c=l.length,u=dd(r),m=u.length;if(c!=m&&!o)return!1;for(var d=c;d--;){var f=l[d];if(!(o?f in r:pV.call(r,f)))return!1}var p=i.get(e),N=i.get(r);if(p&&N)return p==r&&N==e;var h=!0;i.set(e,r),i.set(r,e);for(var b=o;++d<c;){f=l[d];var v=e[f],j=r[f];if(t)var w=o?t(j,v,f,r,e,i):t(v,j,f,e,r,i);if(!(w===void 0?v===j||n(v,j,s,t,i):w)){h=!1;break}b||(b=f=="constructor")}if(h&&!b){var D=e.constructor,g=r.constructor;D!=g&&"constructor"in e&&"constructor"in r&&!(typeof D=="function"&&D instanceof D&&typeof g=="function"&&g instanceof g)&&(h=!1)}return i.delete(e),i.delete(r),h}var NV=hV,bV=pt,vV=Zr,xV=bV(vV,"DataView"),gV=xV,jV=pt,yV=Zr,wV=jV(yV,"Promise"),DV=wV,EV=pt,kV=Zr,VV=EV(kV,"Set"),TN=VV,SV=pt,PV=Zr,AV=SV(PV,"WeakMap"),_V=AV,ac=gV,nc=ku,ic=DV,oc=TN,lc=_V,MN=js,ba=Fh,fd="[object Map]",OV="[object Object]",pd="[object Promise]",hd="[object Set]",Nd="[object WeakMap]",bd="[object DataView]",CV=ba(ac),TV=ba(nc),MV=ba(ic),$V=ba(oc),IV=ba(lc),Ks=MN;(ac&&Ks(new ac(new ArrayBuffer(1)))!=bd||nc&&Ks(new nc)!=fd||ic&&Ks(ic.resolve())!=pd||oc&&Ks(new oc)!=hd||lc&&Ks(new lc)!=Nd)&&(Ks=function(e){var r=MN(e),s=r==OV?e.constructor:void 0,t=s?ba(s):"";if(t)switch(t){case CV:return bd;case TV:return fd;case MV:return pd;case $V:return hd;case IV:return Nd}return r});var RV=Ks,Nl=wN,LV=VN,BV=bE,zV=NV,vd=RV,xd=hr,gd=AN,FV=ON,UV=1,jd="[object Arguments]",yd="[object Array]",qn="[object Object]",WV=Object.prototype,wd=WV.hasOwnProperty;function qV(e,r,s,t,n,i){var o=xd(e),l=xd(r),c=o?yd:vd(e),u=l?yd:vd(r);c=c==jd?qn:c,u=u==jd?qn:u;var m=c==qn,d=u==qn,f=c==u;if(f&&gd(e)){if(!gd(r))return!1;o=!0,m=!1}if(f&&!m)return i||(i=new Nl),o||FV(e)?LV(e,r,s,t,n,i):BV(e,r,c,s,t,n,i);if(!(s&UV)){var p=m&&wd.call(e,"__wrapped__"),N=d&&wd.call(r,"__wrapped__");if(p||N){var h=p?e.value():e,b=N?r.value():r;return i||(i=new Nl),n(h,b,s,t,i)}}return f?(i||(i=new Nl),zV(e,r,s,t,n,i)):!1}var KV=qV,GV=KV,Dd=ys;function $N(e,r,s,t,n){return e===r?!0:e==null||r==null||!Dd(e)&&!Dd(r)?e!==e&&r!==r:GV(e,r,s,t,$N,n)}var Fu=$N,HV=wN,XV=Fu,YV=1,JV=2;function ZV(e,r,s,t){var n=s.length,i=n,o=!t;if(e==null)return!i;for(e=Object(e);n--;){var l=s[n];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++n<i;){l=s[n];var c=l[0],u=e[c],m=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new HV;if(t)var f=t(u,m,c,e,r,d);if(!(f===void 0?XV(m,u,YV|JV,t,d):f))return!1}}return!0}var QV=ZV,e2=Is;function r2(e){return e===e&&!e2(e)}var IN=r2,s2=IN,t2=Po;function a2(e){for(var r=t2(e),s=r.length;s--;){var t=r[s],n=e[t];r[s]=[t,n,s2(n)]}return r}var n2=a2;function i2(e,r){return function(s){return s==null?!1:s[e]===r&&(r!==void 0||e in Object(s))}}var RN=i2,o2=QV,l2=n2,c2=RN;function u2(e){var r=l2(e);return r.length==1&&r[0][2]?c2(r[0][0],r[0][1]):function(s){return s===e||o2(s,e,r)}}var m2=u2;function d2(e,r){return e!=null&&r in Object(e)}var f2=d2,p2=Gh,h2=Lu,N2=hr,b2=Bu,v2=zu,x2=Do;function g2(e,r,s){r=p2(r,e);for(var t=-1,n=r.length,i=!1;++t<n;){var o=x2(r[t]);if(!(i=e!=null&&s(e,o)))break;e=e[o]}return i||++t!=n?i:(n=e==null?0:e.length,!!n&&v2(n)&&b2(o,n)&&(N2(e)||h2(e)))}var j2=g2,y2=f2,w2=j2;function D2(e,r){return e!=null&&w2(e,r,y2)}var E2=D2,k2=Fu,V2=Hh,S2=E2,P2=wu,A2=IN,_2=RN,O2=Do,C2=1,T2=2;function M2(e,r){return P2(e)&&A2(r)?_2(O2(e),r):function(s){var t=V2(s,e);return t===void 0&&t===r?S2(s,e):k2(r,t,C2|T2)}}var $2=M2;function I2(e){return e}var va=I2;function R2(e){return function(r){return r?.[e]}}var L2=R2,B2=Au;function z2(e){return function(r){return B2(r,e)}}var F2=z2,U2=L2,W2=F2,q2=wu,K2=Do;function G2(e){return q2(e)?U2(K2(e)):W2(e)}var H2=G2,X2=m2,Y2=$2,J2=va,Z2=hr,Q2=H2;function eS(e){return typeof e=="function"?e:e==null?J2:typeof e=="object"?Z2(e)?Y2(e[0],e[1]):X2(e):Q2(e)}var Qr=eS;function rS(e,r,s,t){for(var n=e.length,i=s+(t?1:-1);t?i--:++i<n;)if(r(e[i],i,e))return i;return-1}var LN=rS;function sS(e){return e!==e}var tS=sS;function aS(e,r,s){for(var t=s-1,n=e.length;++t<n;)if(e[t]===r)return t;return-1}var nS=aS,iS=LN,oS=tS,lS=nS;function cS(e,r,s){return r===r?lS(e,r,s):iS(e,oS,s)}var uS=cS,mS=uS;function dS(e,r){var s=e==null?0:e.length;return!!s&&mS(e,r,0)>-1}var fS=dS;function pS(e,r,s){for(var t=-1,n=e==null?0:e.length;++t<n;)if(s(r,e[t]))return!0;return!1}var hS=pS;function NS(){}var bS=NS,bl=TN,vS=bS,xS=Ru,gS=1/0,jS=bl&&1/xS(new bl([,-0]))[1]==gS?function(e){return new bl(e)}:vS,yS=jS,wS=DN,DS=fS,ES=hS,kS=kN,VS=yS,SS=Ru,PS=200;function AS(e,r,s){var t=-1,n=DS,i=e.length,o=!0,l=[],c=l;if(s)o=!1,n=ES;else if(i>=PS){var u=r?null:VS(e);if(u)return SS(u);o=!1,n=kS,c=new wS}else c=r?[]:l;e:for(;++t<i;){var m=e[t],d=r?r(m):m;if(m=s||m!==0?m:0,o&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue e;r&&c.push(d),l.push(m)}else n(c,d,s)||(c!==l&&c.push(d),l.push(m))}return l}var _S=AS,OS=Qr,CS=_S;function TS(e,r){return e&&e.length?CS(e,OS(r)):[]}var MS=TS;const Ed=Ee(MS);function BN(e,r,s){return r===!0?Ed(e,s):le(r)?Ed(e,r):e}function Rt(e){"@babel/helpers - typeof";return Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rt(e)}var $S=["ref"];function kd(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function rs(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?kd(Object(s),!0).forEach(function(t){Ao(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kd(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function IS(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vd(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,FN(t.key),t)}}function RS(e,r,s){return r&&Vd(e.prototype,r),s&&Vd(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function LS(e,r,s){return r=Vi(r),BS(e,zN()?Reflect.construct(r,s||[],Vi(e).constructor):r.apply(e,s))}function BS(e,r){if(r&&(Rt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zS(e)}function zS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zN=function(){return!!e})()}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Vi(e)}function FS(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&cc(e,r)}function cc(e,r){return cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},cc(e,r)}function Ao(e,r,s){return r=FN(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function FN(e){var r=US(e,"string");return Rt(r)=="symbol"?r:r+""}function US(e,r){if(Rt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Rt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WS(e,r){if(e==null)return{};var s=qS(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function qS(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function KS(e){return e.value}function GS(e,r){if(V.isValidElement(e))return V.cloneElement(e,r);if(typeof e=="function")return V.createElement(e,r);r.ref;var s=WS(r,$S);return V.createElement(Iu,s)}var Sd=1,Ct=function(e){function r(){var s;IS(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s=LS(this,r,[].concat(n)),Ao(s,"lastBoundingBox",{width:-1,height:-1}),s}return FS(r,e),RS(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();return t.height=this.wrapperNode.offsetHeight,t.width=this.wrapperNode.offsetWidth,t}return null}},{key:"updateBBox",value:function(){var t=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>Sd||Math.abs(n.height-this.lastBoundingBox.height)>Sd)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,t&&t(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,t&&t(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(t){var n=this.props,i=n.layout,o=n.align,l=n.verticalAlign,c=n.margin,u=n.chartWidth,m=n.chartHeight,d,f;if(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))if(l==="middle"){var N=this.getBBoxSnapshot();f={top:((m||0)-N.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return rs(rs({},d),f)}},{key:"render",value:function(){var t=this,n=this.props,i=n.content,o=n.width,l=n.height,c=n.wrapperStyle,u=n.payloadUniqBy,m=n.payload,d=rs(rs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){t.wrapperNode=p}},GS(i,rs(rs({},this.props),{},{payload:BN(m,u,KS)})))}}],[{key:"getWithHeight",value:function(t,n){var i=rs(rs({},this.defaultProps),t.props),o=i.layout;return o==="vertical"&&W(t.props.height)?{height:t.props.height}:o==="horizontal"?{width:t.props.width||n}:null}}])}(S.PureComponent);Ao(Ct,"displayName","Legend");Ao(Ct,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Pd=_n,HS=Lu,XS=hr,Ad=Pd?Pd.isConcatSpreadable:void 0;function YS(e){return XS(e)||HS(e)||!!(Ad&&e&&e[Ad])}var JS=YS,ZS=SN,QS=JS;function UN(e,r,s,t,n){var i=-1,o=e.length;for(s||(s=QS),n||(n=[]);++i<o;){var l=e[i];r>0&&s(l)?r>1?UN(l,r-1,s,t,n):ZS(n,l):t||(n[n.length]=l)}return n}var WN=UN;function eP(e){return function(r,s,t){for(var n=-1,i=Object(r),o=t(r),l=o.length;l--;){var c=o[e?l:++n];if(s(i[c],c,i)===!1)break}return r}}var rP=eP,sP=rP,tP=sP(),aP=tP,nP=aP,iP=Po;function oP(e,r){return e&&nP(e,r,iP)}var qN=oP,lP=On;function cP(e,r){return function(s,t){if(s==null)return s;if(!lP(s))return e(s,t);for(var n=s.length,i=r?n:-1,o=Object(s);(r?i--:++i<n)&&t(o[i],i,o)!==!1;);return s}}var uP=cP,mP=qN,dP=uP,fP=dP(mP),Uu=fP,pP=Uu,hP=On;function NP(e,r){var s=-1,t=hP(e)?Array(e.length):[];return pP(e,function(n,i,o){t[++s]=r(n,i,o)}),t}var KN=NP;function bP(e,r){var s=e.length;for(e.sort(r);s--;)e[s]=e[s].value;return e}var vP=bP,_d=ua;function xP(e,r){if(e!==r){var s=e!==void 0,t=e===null,n=e===e,i=_d(e),o=r!==void 0,l=r===null,c=r===r,u=_d(r);if(!l&&!u&&!i&&e>r||i&&o&&c&&!l&&!u||t&&o&&c||!s&&c||!n)return 1;if(!t&&!i&&!u&&e<r||u&&s&&n&&!t&&!i||l&&s&&n||!o&&n||!c)return-1}return 0}var gP=xP,jP=gP;function yP(e,r,s){for(var t=-1,n=e.criteria,i=r.criteria,o=n.length,l=s.length;++t<o;){var c=jP(n[t],i[t]);if(c){if(t>=l)return c;var u=s[t];return c*(u=="desc"?-1:1)}}return e.index-r.index}var wP=yP,vl=Pu,DP=Au,EP=Qr,kP=KN,VP=vP,SP=_N,PP=wP,AP=va,_P=hr;function OP(e,r,s){r.length?r=vl(r,function(i){return _P(i)?function(o){return DP(o,i.length===1?i[0]:i)}:i}):r=[AP];var t=-1;r=vl(r,SP(EP));var n=kP(e,function(i,o,l){var c=vl(r,function(u){return u(i)});return{criteria:c,index:++t,value:i}});return VP(n,function(i,o){return PP(i,o,s)})}var CP=OP;function TP(e,r,s){switch(s.length){case 0:return e.call(r);case 1:return e.call(r,s[0]);case 2:return e.call(r,s[0],s[1]);case 3:return e.call(r,s[0],s[1],s[2])}return e.apply(r,s)}var MP=TP,$P=MP,Od=Math.max;function IP(e,r,s){return r=Od(r===void 0?e.length-1:r,0),function(){for(var t=arguments,n=-1,i=Od(t.length-r,0),o=Array(i);++n<i;)o[n]=t[r+n];n=-1;for(var l=Array(r+1);++n<r;)l[n]=t[n];return l[r]=s(o),$P(e,this,l)}}var RP=IP;function LP(e){return function(){return e}}var BP=LP,zP=pt,FP=function(){try{var e=zP(Object,"defineProperty");return e({},"",{}),e}catch{}}(),GN=FP,UP=BP,Cd=GN,WP=va,qP=Cd?function(e,r){return Cd(e,"toString",{configurable:!0,enumerable:!1,value:UP(r),writable:!0})}:WP,KP=qP,GP=800,HP=16,XP=Date.now;function YP(e){var r=0,s=0;return function(){var t=XP(),n=HP-(t-s);if(s=t,n>0){if(++r>=GP)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var JP=YP,ZP=KP,QP=JP,eA=QP(ZP),rA=eA,sA=va,tA=RP,aA=rA;function nA(e,r){return aA(tA(e,r,sA),e+"")}var iA=nA,oA=Eu,lA=On,cA=Bu,uA=Is;function mA(e,r,s){if(!uA(s))return!1;var t=typeof r;return(t=="number"?lA(s)&&cA(r,s.length):t=="string"&&r in s)?oA(s[r],e):!1}var _o=mA,dA=WN,fA=CP,pA=iA,Td=_o,hA=pA(function(e,r){if(e==null)return[];var s=r.length;return s>1&&Td(e,r[0],r[1])?r=[]:s>2&&Td(r[0],r[1],r[2])&&(r=[r[0]]),fA(e,dA(r,1),[])}),NA=hA;const Wu=Ee(NA);function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ya(e)}function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},uc.apply(this,arguments)}function bA(e,r){return jA(e)||gA(e,r)||xA(e,r)||vA()}function vA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xA(e,r){if(e){if(typeof e=="string")return Md(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Md(e,r)}}function Md(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function gA(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r!==0)for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function jA(e){if(Array.isArray(e))return e}function $d(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function xl(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$d(Object(s),!0).forEach(function(t){yA(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$d(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function yA(e,r,s){return r=wA(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function wA(e){var r=DA(e,"string");return Ya(r)=="symbol"?r:r+""}function DA(e,r){if(Ya(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Ya(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function EA(e){return Array.isArray(e)&&Ye(e[0])&&Ye(e[1])?e.join(" ~ "):e}var kA=function(r){var s=r.separator,t=s===void 0?" : ":s,n=r.contentStyle,i=n===void 0?{}:n,o=r.itemStyle,l=o===void 0?{}:o,c=r.labelStyle,u=c===void 0?{}:c,m=r.payload,d=r.formatter,f=r.itemSorter,p=r.wrapperClassName,N=r.labelClassName,h=r.label,b=r.labelFormatter,v=r.accessibilityLayer,j=v===void 0?!1:v,w=function(){if(m&&m.length){var P={padding:0,margin:0},T=(f?Wu(m,f):m).map(function(M,C){if(M.type==="none")return null;var R=xl({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),F=M.formatter||d||EA,q=M.value,G=M.name,re=q,ne=G;if(F&&re!=null&&ne!=null){var Z=F(q,G,M,C,m);if(Array.isArray(Z)){var Y=bA(Z,2);re=Y[0],ne=Y[1]}else re=Z}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:R},Ye(ne)?V.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Ye(ne)?V.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,V.createElement("span",{className:"recharts-tooltip-item-value"},re),V.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:P},T)}return null},D=xl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),g=xl({margin:0},u),x=!me(h),y=x?h:"",E=pe("recharts-default-tooltip",p),k=pe("recharts-tooltip-label",N);x&&b&&m!==void 0&&m!==null&&(y=b(h,m));var _=j?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",uc({className:E,style:D},_),V.createElement("p",{className:k,style:g},V.isValidElement(y)?y:"".concat(y)),w())};function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ja(e)}function Kn(e,r,s){return r=VA(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function VA(e){var r=SA(e,"string");return Ja(r)=="symbol"?r:r+""}function SA(e,r){if(Ja(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Ja(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Da="recharts-tooltip-wrapper",PA={visibility:"hidden"};function AA(e){var r=e.coordinate,s=e.translateX,t=e.translateY;return pe(Da,Kn(Kn(Kn(Kn({},"".concat(Da,"-right"),W(s)&&r&&W(r.x)&&s>=r.x),"".concat(Da,"-left"),W(s)&&r&&W(r.x)&&s<r.x),"".concat(Da,"-bottom"),W(t)&&r&&W(r.y)&&t>=r.y),"".concat(Da,"-top"),W(t)&&r&&W(r.y)&&t<r.y))}function Id(e){var r=e.allowEscapeViewBox,s=e.coordinate,t=e.key,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&W(i[t]))return i[t];var m=s[t]-l-n,d=s[t]+n;if(r[t])return o[t]?m:d;if(o[t]){var f=m,p=c[t];return f<p?Math.max(d,c[t]):Math.max(m,c[t])}var N=d+l,h=c[t]+u;return N>h?Math.max(m,c[t]):Math.max(d,c[t])}function _A(e){var r=e.translateX,s=e.translateY,t=e.useTranslate3d;return{transform:t?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function OA(e){var r=e.allowEscapeViewBox,s=e.coordinate,t=e.offsetTopLeft,n=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,m,d;return o.height>0&&o.width>0&&s?(m=Id({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:t,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=Id({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:t,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=_A({translateX:m,translateY:d,useTranslate3d:l})):u=PA,{cssProperties:u,cssClasses:AA({translateX:m,translateY:d,coordinate:s})}}function Lt(e){"@babel/helpers - typeof";return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lt(e)}function Rd(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Ld(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Rd(Object(s),!0).forEach(function(t){dc(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Rd(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function CA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function TA(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,XN(t.key),t)}}function MA(e,r,s){return r&&TA(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $A(e,r,s){return r=Si(r),IA(e,HN()?Reflect.construct(r,s||[],Si(e).constructor):r.apply(e,s))}function IA(e,r){if(r&&(Lt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RA(e)}function RA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HN=function(){return!!e})()}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Si(e)}function LA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&mc(e,r)}function mc(e,r){return mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},mc(e,r)}function dc(e,r,s){return r=XN(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function XN(e){var r=BA(e,"string");return Lt(r)=="symbol"?r:r+""}function BA(e,r){if(Lt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Lt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bd=1,zA=function(e){function r(){var s;CA(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s=$A(this,r,[].concat(n)),dc(s,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dc(s,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,m;s.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=s.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(m=s.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&u!==void 0?u:0}})}}),s}return LA(r,e),MA(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();(Math.abs(t.width-this.state.lastBoundingBox.width)>Bd||Math.abs(t.height-this.state.lastBoundingBox.height)>Bd)&&this.setState({lastBoundingBox:{width:t.width,height:t.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var t,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var t=this,n=this.props,i=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,u=n.children,m=n.coordinate,d=n.hasPayload,f=n.isAnimationActive,p=n.offset,N=n.position,h=n.reverseDirection,b=n.useTranslate3d,v=n.viewBox,j=n.wrapperStyle,w=OA({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:p,position:N,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),D=w.cssClasses,g=w.cssProperties,x=Ld(Ld({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},g),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},j);return V.createElement("div",{tabIndex:-1,className:D,style:x,ref:function(E){t.wrapperNode=E}},u)}}])}(S.PureComponent),FA=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rs={isSsr:FA()};function Bt(e){"@babel/helpers - typeof";return Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bt(e)}function zd(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Fd(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?zd(Object(s),!0).forEach(function(t){qu(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zd(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function UA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function WA(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,JN(t.key),t)}}function qA(e,r,s){return r&&WA(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KA(e,r,s){return r=Pi(r),GA(e,YN()?Reflect.construct(r,s||[],Pi(e).constructor):r.apply(e,s))}function GA(e,r){if(r&&(Bt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HA(e)}function HA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YN=function(){return!!e})()}function Pi(e){return Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Pi(e)}function XA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&fc(e,r)}function fc(e,r){return fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},fc(e,r)}function qu(e,r,s){return r=JN(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function JN(e){var r=YA(e,"string");return Bt(r)=="symbol"?r:r+""}function YA(e,r){if(Bt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Bt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function JA(e){return e.dataKey}function ZA(e,r){return V.isValidElement(e)?V.cloneElement(e,r):typeof e=="function"?V.createElement(e,r):V.createElement(kA,r)}var Lr=function(e){function r(){return UA(this,r),KA(this,r,arguments)}return XA(r,e),qA(r,[{key:"render",value:function(){var t=this,n=this.props,i=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,u=n.content,m=n.coordinate,d=n.filterNull,f=n.isAnimationActive,p=n.offset,N=n.payload,h=n.payloadUniqBy,b=n.position,v=n.reverseDirection,j=n.useTranslate3d,w=n.viewBox,D=n.wrapperStyle,g=N??[];d&&g.length&&(g=BN(N.filter(function(y){return y.value!=null&&(y.hide!==!0||t.props.includeHidden)}),h,JA));var x=g.length>0;return V.createElement(zA,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:m,hasPayload:x,offset:p,position:b,reverseDirection:v,useTranslate3d:j,viewBox:w,wrapperStyle:D},ZA(u,Fd(Fd({},this.props),{},{payload:g})))}}])}(S.PureComponent);qu(Lr,"displayName","Tooltip");qu(Lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var QA=Zr,e_=function(){return QA.Date.now()},r_=e_,s_=/\s/;function t_(e){for(var r=e.length;r--&&s_.test(e.charAt(r)););return r}var a_=t_,n_=a_,i_=/^\s+/;function o_(e){return e&&e.slice(0,n_(e)+1).replace(i_,"")}var l_=o_,c_=l_,Ud=Is,u_=ua,Wd=NaN,m_=/^[-+]0x[0-9a-f]+$/i,d_=/^0b[01]+$/i,f_=/^0o[0-7]+$/i,p_=parseInt;function h_(e){if(typeof e=="number")return e;if(u_(e))return Wd;if(Ud(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Ud(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=c_(e);var s=d_.test(e);return s||f_.test(e)?p_(e.slice(2),s?2:8):m_.test(e)?Wd:+e}var ZN=h_,N_=Is,gl=r_,qd=ZN,b_="Expected a function",v_=Math.max,x_=Math.min;function g_(e,r,s){var t,n,i,o,l,c,u=0,m=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(b_);r=qd(r)||0,N_(s)&&(m=!!s.leading,d="maxWait"in s,i=d?v_(qd(s.maxWait)||0,r):i,f="trailing"in s?!!s.trailing:f);function p(x){var y=t,E=n;return t=n=void 0,u=x,o=e.apply(E,y),o}function N(x){return u=x,l=setTimeout(v,r),m?p(x):o}function h(x){var y=x-c,E=x-u,k=r-y;return d?x_(k,i-E):k}function b(x){var y=x-c,E=x-u;return c===void 0||y>=r||y<0||d&&E>=i}function v(){var x=gl();if(b(x))return j(x);l=setTimeout(v,h(x))}function j(x){return l=void 0,f&&t?p(x):(t=n=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,t=c=n=l=void 0}function D(){return l===void 0?o:j(gl())}function g(){var x=gl(),y=b(x);if(t=arguments,n=this,c=x,y){if(l===void 0)return N(c);if(d)return clearTimeout(l),l=setTimeout(v,r),p(c)}return l===void 0&&(l=setTimeout(v,r)),o}return g.cancel=w,g.flush=D,g}var j_=g_,y_=j_,w_=Is,D_="Expected a function";function E_(e,r,s){var t=!0,n=!0;if(typeof e!="function")throw new TypeError(D_);return w_(s)&&(t="leading"in s?!!s.leading:t,n="trailing"in s?!!s.trailing:n),y_(e,r,{leading:t,maxWait:r,trailing:n})}var k_=E_;const QN=Ee(k_);function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Za(e)}function Kd(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Gn(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Kd(Object(s),!0).forEach(function(t){V_(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Kd(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function V_(e,r,s){return r=S_(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function S_(e){var r=P_(e,"string");return Za(r)=="symbol"?r:r+""}function P_(e,r){if(Za(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Za(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function A_(e,r){return T_(e)||C_(e,r)||O_(e,r)||__()}function __(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_(e,r){if(e){if(typeof e=="string")return Gd(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Gd(e,r)}}function Gd(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function C_(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r!==0)for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function T_(e){if(Array.isArray(e))return e}var eb=S.forwardRef(function(e,r){var s=e.aspect,t=e.initialDimension,n=t===void 0?{width:-1,height:-1}:t,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,m=u===void 0?0:u,d=e.minHeight,f=e.maxHeight,p=e.children,N=e.debounce,h=N===void 0?0:N,b=e.id,v=e.className,j=e.onResize,w=e.style,D=w===void 0?{}:w,g=S.useRef(null),x=S.useRef();x.current=j,S.useImperativeHandle(r,function(){return Object.defineProperty(g.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),g.current},configurable:!0})});var y=S.useState({containerWidth:n.width,containerHeight:n.height}),E=A_(y,2),k=E[0],_=E[1],A=S.useCallback(function(T,M){_(function(C){var R=Math.round(T),F=Math.round(M);return C.containerWidth===R&&C.containerHeight===F?C:{containerWidth:R,containerHeight:F}})},[]);S.useEffect(function(){var T=function(G){var re,ne=G[0].contentRect,Z=ne.width,Y=ne.height;A(Z,Y),(re=x.current)===null||re===void 0||re.call(x,Z,Y)};h>0&&(T=QN(T,h,{trailing:!0,leading:!1}));var M=new ResizeObserver(T),C=g.current.getBoundingClientRect(),R=C.width,F=C.height;return A(R,F),M.observe(g.current),function(){M.disconnect()}},[A,h]);var P=S.useMemo(function(){var T=k.containerWidth,M=k.containerHeight;if(T<0||M<0)return null;$r(Xs(o)||Xs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),$r(!s||s>0,"The aspect(%s) must be greater than zero.",s);var C=Xs(o)?T:o,R=Xs(c)?M:c;s&&s>0&&(C?R=C/s:R&&(C=R*s),f&&R>f&&(R=f)),$r(C>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,R,o,c,m,d,s);var F=!Array.isArray(p)&&us(p.type).endsWith("Chart");return V.Children.map(p,function(q){return V.isValidElement(q)?S.cloneElement(q,Gn({width:C,height:R},F?{style:Gn({height:"100%",width:"100%",maxHeight:R,maxWidth:C},q.props.style)}:{})):q})},[s,p,c,f,d,m,k,o]);return V.createElement("div",{id:b?"".concat(b):void 0,className:pe("recharts-responsive-container",v),style:Gn(Gn({},D),{},{width:o,height:c,minWidth:m,minHeight:d,maxHeight:f}),ref:g},P)}),Oo=function(r){return null};Oo.displayName="Cell";function Qa(e){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qa(e)}function Hd(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function pc(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Hd(Object(s),!0).forEach(function(t){M_(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Hd(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function M_(e,r,s){return r=$_(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function $_(e){var r=I_(e,"string");return Qa(r)=="symbol"?r:r+""}function I_(e,r){if(Qa(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Qa(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xt={widthCache:{},cacheCount:0},R_=2e3,L_={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Xd="recharts_measurement_span";function B_(e){var r=pc({},e);return Object.keys(r).forEach(function(s){r[s]||delete r[s]}),r}var Ra=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||Rs.isSsr)return{width:0,height:0};var t=B_(s),n=JSON.stringify({text:r,copyStyle:t});if(xt.widthCache[n])return xt.widthCache[n];try{var i=document.getElementById(Xd);i||(i=document.createElement("span"),i.setAttribute("id",Xd),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=pc(pc({},L_),t);Object.assign(i.style,o),i.textContent="".concat(r);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return xt.widthCache[n]=c,++xt.cacheCount>R_&&(xt.cacheCount=0,xt.widthCache={}),c}catch{return{width:0,height:0}}},z_=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function en(e){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},en(e)}function Ai(e,r){return q_(e)||W_(e,r)||U_(e,r)||F_()}function F_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_(e,r){if(e){if(typeof e=="string")return Yd(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Yd(e,r)}}function Yd(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function W_(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function q_(e){if(Array.isArray(e))return e}function K_(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jd(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,H_(t.key),t)}}function G_(e,r,s){return r&&Jd(e.prototype,r),s&&Jd(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function H_(e){var r=X_(e,"string");return en(r)=="symbol"?r:r+""}function X_(e,r){if(en(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(en(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zd=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qd=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y_=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,J_=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rb={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Z_=Object.keys(rb),Dt="NaN";function Q_(e,r){return e*rb[r]}var Hn=function(){function e(r,s){K_(this,e),this.num=r,this.unit=s,this.num=r,this.unit=s,Number.isNaN(r)&&(this.unit=""),s!==""&&!Y_.test(s)&&(this.num=NaN,this.unit=""),Z_.includes(s)&&(this.num=Q_(r,s),this.unit="px")}return G_(e,[{key:"add",value:function(s){return this.unit!==s.unit?new e(NaN,""):new e(this.num+s.num,this.unit)}},{key:"subtract",value:function(s){return this.unit!==s.unit?new e(NaN,""):new e(this.num-s.num,this.unit)}},{key:"multiply",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new e(NaN,""):new e(this.num*s.num,this.unit||s.unit)}},{key:"divide",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new e(NaN,""):new e(this.num/s.num,this.unit||s.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(s){var t,n=(t=J_.exec(s))!==null&&t!==void 0?t:[],i=Ai(n,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function sb(e){if(e.includes(Dt))return Dt;for(var r=e;r.includes("*")||r.includes("/");){var s,t=(s=Zd.exec(r))!==null&&s!==void 0?s:[],n=Ai(t,4),i=n[1],o=n[2],l=n[3],c=Hn.parse(i??""),u=Hn.parse(l??""),m=o==="*"?c.multiply(u):c.divide(u);if(m.isNaN())return Dt;r=r.replace(Zd,m.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var d,f=(d=Qd.exec(r))!==null&&d!==void 0?d:[],p=Ai(f,4),N=p[1],h=p[2],b=p[3],v=Hn.parse(N??""),j=Hn.parse(b??""),w=h==="+"?v.add(j):v.subtract(j);if(w.isNaN())return Dt;r=r.replace(Qd,w.toString())}return r}var ef=/\(([^()]*)\)/;function e3(e){for(var r=e;r.includes("(");){var s=ef.exec(r),t=Ai(s,2),n=t[1];r=r.replace(ef,sb(n))}return r}function r3(e){var r=e.replace(/\s+/g,"");return r=e3(r),r=sb(r),r}function s3(e){try{return r3(e)}catch{return Dt}}function jl(e){var r=s3(e.slice(5,-1));return r===Dt?"":r}var t3=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],a3=["dx","dy","angle","className","breakAll"];function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},hc.apply(this,arguments)}function rf(e,r){if(e==null)return{};var s=n3(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function n3(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function sf(e,r){return c3(e)||l3(e,r)||o3(e,r)||i3()}function i3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3(e,r){if(e){if(typeof e=="string")return tf(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return tf(e,r)}}function tf(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function l3(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function c3(e){if(Array.isArray(e))return e}var tb=/[ \f\n\r\t\v\u2028\u2029]+/,ab=function(r){var s=r.children,t=r.breakAll,n=r.style;try{var i=[];me(s)||(t?i=s.toString().split(""):i=s.toString().split(tb));var o=i.map(function(c){return{word:c,width:Ra(c,n).width}}),l=t?0:Ra("",n).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},u3=function(r,s,t,n,i){var o=r.maxLines,l=r.children,c=r.style,u=r.breakAll,m=W(o),d=l,f=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(function(R,F){var q=F.word,G=F.width,re=R[R.length-1];if(re&&(n==null||i||re.width+G+t<Number(n)))re.words.push(q),re.width+=G+t;else{var ne={words:[q],width:G};R.push(ne)}return R},[])},p=f(s),N=function(C){return C.reduce(function(R,F){return R.width>F.width?R:F})};if(!m)return p;for(var h="",b=function(C){var R=d.slice(0,C),F=ab({breakAll:u,style:c,children:R+h}).wordsWithComputedWidth,q=f(F),G=q.length>o||N(q).width>Number(n);return[G,q]},v=0,j=d.length-1,w=0,D;v<=j&&w<=d.length-1;){var g=Math.floor((v+j)/2),x=g-1,y=b(x),E=sf(y,2),k=E[0],_=E[1],A=b(g),P=sf(A,1),T=P[0];if(!k&&!T&&(v=g+1),k&&T&&(j=g-1),!k&&T){D=_;break}w++}return D||p},af=function(r){var s=me(r)?[]:r.toString().split(tb);return[{words:s}]},m3=function(r){var s=r.width,t=r.scaleToFit,n=r.children,i=r.style,o=r.breakAll,l=r.maxLines;if((s||t)&&!Rs.isSsr){var c,u,m=ab({breakAll:o,children:n,style:i});if(m){var d=m.wordsWithComputedWidth,f=m.spaceWidth;c=d,u=f}else return af(n);return u3({breakAll:o,children:n,maxLines:l,style:i},c,u,s,t)}return af(n)},nf="#808080",nt=function(r){var s=r.x,t=s===void 0?0:s,n=r.y,i=n===void 0?0:n,o=r.lineHeight,l=o===void 0?"1em":o,c=r.capHeight,u=c===void 0?"0.71em":c,m=r.scaleToFit,d=m===void 0?!1:m,f=r.textAnchor,p=f===void 0?"start":f,N=r.verticalAnchor,h=N===void 0?"end":N,b=r.fill,v=b===void 0?nf:b,j=rf(r,t3),w=S.useMemo(function(){return m3({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:d,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,d,j.style,j.width]),D=j.dx,g=j.dy,x=j.angle,y=j.className,E=j.breakAll,k=rf(j,a3);if(!Ye(t)||!Ye(i))return null;var _=t+(W(D)?D:0),A=i+(W(g)?g:0),P;switch(h){case"start":P=jl("calc(".concat(u,")"));break;case"middle":P=jl("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=jl("calc(".concat(w.length-1," * -").concat(l,")"));break}var T=[];if(d){var M=w[0].width,C=j.width;T.push("scale(".concat((W(C)?C/M:1)/M,")"))}return x&&T.push("rotate(".concat(x,", ").concat(_,", ").concat(A,")")),T.length&&(k.transform=T.join(" ")),V.createElement("text",hc({},ae(k,!0),{x:_,y:A,className:pe("recharts-text",y),textAnchor:p,fill:v.includes("url")?nf:v}),w.map(function(R,F){var q=R.words.join(E?"":" ");return V.createElement("tspan",{x:_,dy:F===0?P:l,key:"".concat(q,"-").concat(F)},q)}))};function Cs(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function d3(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function Ku(e){let r,s,t;e.length!==2?(r=Cs,s=(l,c)=>Cs(e(l),c),t=(l,c)=>e(l)-c):(r=e===Cs||e===d3?e:f3,s=e,t=e);function n(l,c,u=0,m=l.length){if(u<m){if(r(c,c)!==0)return m;do{const d=u+m>>>1;s(l[d],c)<0?u=d+1:m=d}while(u<m)}return u}function i(l,c,u=0,m=l.length){if(u<m){if(r(c,c)!==0)return m;do{const d=u+m>>>1;s(l[d],c)<=0?u=d+1:m=d}while(u<m)}return u}function o(l,c,u=0,m=l.length){const d=n(l,c,u,m-1);return d>u&&t(l[d-1],c)>-t(l[d],c)?d-1:d}return{left:n,center:o,right:i}}function f3(){return 0}function nb(e){return e===null?NaN:+e}function*p3(e,r){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const h3=Ku(Cs),Cn=h3.right;Ku(nb).center;class of extends Map{constructor(r,s=v3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[t,n]of r)this.set(t,n)}get(r){return super.get(lf(this,r))}has(r){return super.has(lf(this,r))}set(r,s){return super.set(N3(this,r),s)}delete(r){return super.delete(b3(this,r))}}function lf({_intern:e,_key:r},s){const t=r(s);return e.has(t)?e.get(t):s}function N3({_intern:e,_key:r},s){const t=r(s);return e.has(t)?e.get(t):(e.set(t,s),s)}function b3({_intern:e,_key:r},s){const t=r(s);return e.has(t)&&(s=e.get(t),e.delete(t)),s}function v3(e){return e!==null&&typeof e=="object"?e.valueOf():e}function x3(e=Cs){if(e===Cs)return ib;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,s)=>{const t=e(r,s);return t||t===0?t:(e(s,s)===0)-(e(r,r)===0)}}function ib(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const g3=Math.sqrt(50),j3=Math.sqrt(10),y3=Math.sqrt(2);function _i(e,r,s){const t=(r-e)/Math.max(0,s),n=Math.floor(Math.log10(t)),i=t/Math.pow(10,n),o=i>=g3?10:i>=j3?5:i>=y3?2:1;let l,c,u;return n<0?(u=Math.pow(10,-n)/o,l=Math.round(e*u),c=Math.round(r*u),l/u<e&&++l,c/u>r&&--c,u=-u):(u=Math.pow(10,n)*o,l=Math.round(e/u),c=Math.round(r/u),l*u<e&&++l,c*u>r&&--c),c<l&&.5<=s&&s<2?_i(e,r,s*2):[l,c,u]}function Nc(e,r,s){if(r=+r,e=+e,s=+s,!(s>0))return[];if(e===r)return[e];const t=r<e,[n,i,o]=t?_i(r,e,s):_i(e,r,s);if(!(i>=n))return[];const l=i-n+1,c=new Array(l);if(t)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(n+u)/-o;else for(let u=0;u<l;++u)c[u]=(n+u)*o;return c}function bc(e,r,s){return r=+r,e=+e,s=+s,_i(e,r,s)[2]}function vc(e,r,s){r=+r,e=+e,s=+s;const t=r<e,n=t?bc(r,e,s):bc(e,r,s);return(t?-1:1)*(n<0?1/-n:n)}function cf(e,r){let s;for(const t of e)t!=null&&(s<t||s===void 0&&t>=t)&&(s=t);return s}function uf(e,r){let s;for(const t of e)t!=null&&(s>t||s===void 0&&t>=t)&&(s=t);return s}function ob(e,r,s=0,t=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),t=Math.floor(Math.min(e.length-1,t)),!(s<=r&&r<=t))return e;for(n=n===void 0?ib:x3(n);t>s;){if(t-s>600){const c=t-s+1,u=r-s+1,m=Math.log(c),d=.5*Math.exp(2*m/3),f=.5*Math.sqrt(m*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(s,Math.floor(r-u*d/c+f)),N=Math.min(t,Math.floor(r+(c-u)*d/c+f));ob(e,r,p,N,n)}const i=e[r];let o=s,l=t;for(Ea(e,s,r),n(e[t],i)>0&&Ea(e,s,t);o<l;){for(Ea(e,o,l),++o,--l;n(e[o],i)<0;)++o;for(;n(e[l],i)>0;)--l}n(e[s],i)===0?Ea(e,s,l):(++l,Ea(e,l,t)),l<=r&&(s=l+1),r<=l&&(t=l-1)}return e}function Ea(e,r,s){const t=e[r];e[r]=e[s],e[s]=t}function w3(e,r,s){if(e=Float64Array.from(p3(e)),!(!(t=e.length)||isNaN(r=+r))){if(r<=0||t<2)return uf(e);if(r>=1)return cf(e);var t,n=(t-1)*r,i=Math.floor(n),o=cf(ob(e,i).subarray(0,i+1)),l=uf(e.subarray(i+1));return o+(l-o)*(n-i)}}function D3(e,r,s=nb){if(!(!(t=e.length)||isNaN(r=+r))){if(r<=0||t<2)return+s(e[0],0,e);if(r>=1)return+s(e[t-1],t-1,e);var t,n=(t-1)*r,i=Math.floor(n),o=+s(e[i],i,e),l=+s(e[i+1],i+1,e);return o+(l-o)*(n-i)}}function E3(e,r,s){e=+e,r=+r,s=(n=arguments.length)<2?(r=e,e=0,1):n<3?1:+s;for(var t=-1,n=Math.max(0,Math.ceil((r-e)/s))|0,i=new Array(n);++t<n;)i[t]=e+t*s;return i}function Ar(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function ws(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const xc=Symbol("implicit");function Gu(){var e=new of,r=[],s=[],t=xc;function n(i){let o=e.get(i);if(o===void 0){if(t!==xc)return t;e.set(i,o=r.push(i)-1)}return s[o%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new of;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return Gu(r,s).unknown(t)},Ar.apply(n,arguments),n}function rn(){var e=Gu().unknown(void 0),r=e.domain,s=e.range,t=0,n=1,i,o,l=!1,c=0,u=0,m=.5;delete e.unknown;function d(){var f=r().length,p=n<t,N=p?n:t,h=p?t:n;i=(h-N)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),N+=(h-N-i*(f-c))*m,o=i*(1-c),l&&(N=Math.round(N),o=Math.round(o));var b=E3(f).map(function(v){return N+i*v});return s(p?b.reverse():b)}return e.domain=function(f){return arguments.length?(r(f),d()):r()},e.range=function(f){return arguments.length?([t,n]=f,t=+t,n=+n,d()):[t,n]},e.rangeRound=function(f){return[t,n]=f,t=+t,n=+n,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,d()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),d()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(m=Math.max(0,Math.min(1,f)),d()):m},e.copy=function(){return rn(r(),[t,n]).round(l).paddingInner(c).paddingOuter(u).align(m)},Ar.apply(d(),arguments)}function lb(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lb(r())},e}function La(){return lb(rn.apply(null,arguments).paddingInner(1))}function Hu(e,r,s){e.prototype=r.prototype=s,s.constructor=e}function cb(e,r){var s=Object.create(e.prototype);for(var t in r)s[t]=r[t];return s}function Tn(){}var sn=.7,Oi=1/sn,Tt="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k3=/^#([0-9a-f]{3,8})$/,V3=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),S3=new RegExp(`^rgb\\(${Ur},${Ur},${Ur}\\)$`),P3=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${tn}\\)$`),A3=new RegExp(`^rgba\\(${Ur},${Ur},${Ur},${tn}\\)$`),_3=new RegExp(`^hsl\\(${tn},${Ur},${Ur}\\)$`),O3=new RegExp(`^hsla\\(${tn},${Ur},${Ur},${tn}\\)$`),mf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hu(Tn,an,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:df,formatHex:df,formatHex8:C3,formatHsl:T3,formatRgb:ff,toString:ff});function df(){return this.rgb().formatHex()}function C3(){return this.rgb().formatHex8()}function T3(){return ub(this).formatHsl()}function ff(){return this.rgb().formatRgb()}function an(e){var r,s;return e=(e+"").trim().toLowerCase(),(r=k3.exec(e))?(s=r[1].length,r=parseInt(r[1],16),s===6?pf(r):s===3?new pr(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?Xn(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?Xn(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=V3.exec(e))?new pr(r[1],r[2],r[3],1):(r=S3.exec(e))?new pr(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=P3.exec(e))?Xn(r[1],r[2],r[3],r[4]):(r=A3.exec(e))?Xn(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=_3.exec(e))?bf(r[1],r[2]/100,r[3]/100,1):(r=O3.exec(e))?bf(r[1],r[2]/100,r[3]/100,r[4]):mf.hasOwnProperty(e)?pf(mf[e]):e==="transparent"?new pr(NaN,NaN,NaN,0):null}function pf(e){return new pr(e>>16&255,e>>8&255,e&255,1)}function Xn(e,r,s,t){return t<=0&&(e=r=s=NaN),new pr(e,r,s,t)}function M3(e){return e instanceof Tn||(e=an(e)),e?(e=e.rgb(),new pr(e.r,e.g,e.b,e.opacity)):new pr}function gc(e,r,s,t){return arguments.length===1?M3(e):new pr(e,r,s,t??1)}function pr(e,r,s,t){this.r=+e,this.g=+r,this.b=+s,this.opacity=+t}Hu(pr,gc,cb(Tn,{brighter(e){return e=e==null?Oi:Math.pow(Oi,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sn:Math.pow(sn,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pr(et(this.r),et(this.g),et(this.b),Ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hf,formatHex:hf,formatHex8:$3,formatRgb:Nf,toString:Nf}));function hf(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}`}function $3(){return`#${Ys(this.r)}${Ys(this.g)}${Ys(this.b)}${Ys((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nf(){const e=Ci(this.opacity);return`${e===1?"rgb(":"rgba("}${et(this.r)}, ${et(this.g)}, ${et(this.b)}${e===1?")":`, ${e})`}`}function Ci(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function et(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ys(e){return e=et(e),(e<16?"0":"")+e.toString(16)}function bf(e,r,s,t){return t<=0?e=r=s=NaN:s<=0||s>=1?e=r=NaN:r<=0&&(e=NaN),new Tr(e,r,s,t)}function ub(e){if(e instanceof Tr)return new Tr(e.h,e.s,e.l,e.opacity);if(e instanceof Tn||(e=an(e)),!e)return new Tr;if(e instanceof Tr)return e;e=e.rgb();var r=e.r/255,s=e.g/255,t=e.b/255,n=Math.min(r,s,t),i=Math.max(r,s,t),o=NaN,l=i-n,c=(i+n)/2;return l?(r===i?o=(s-t)/l+(s<t)*6:s===i?o=(t-r)/l+2:o=(r-s)/l+4,l/=c<.5?i+n:2-i-n,o*=60):l=c>0&&c<1?0:o,new Tr(o,l,c,e.opacity)}function I3(e,r,s,t){return arguments.length===1?ub(e):new Tr(e,r,s,t??1)}function Tr(e,r,s,t){this.h=+e,this.s=+r,this.l=+s,this.opacity=+t}Hu(Tr,I3,cb(Tn,{brighter(e){return e=e==null?Oi:Math.pow(Oi,e),new Tr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sn:Math.pow(sn,e),new Tr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,t=s+(s<.5?s:1-s)*r,n=2*s-t;return new pr(yl(e>=240?e-240:e+120,n,t),yl(e,n,t),yl(e<120?e+240:e-120,n,t),this.opacity)},clamp(){return new Tr(vf(this.h),Yn(this.s),Yn(this.l),Ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ci(this.opacity);return`${e===1?"hsl(":"hsla("}${vf(this.h)}, ${Yn(this.s)*100}%, ${Yn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vf(e){return e=(e||0)%360,e<0?e+360:e}function Yn(e){return Math.max(0,Math.min(1,e||0))}function yl(e,r,s){return(e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r)*255}const Xu=e=>()=>e;function R3(e,r){return function(s){return e+s*r}}function L3(e,r,s){return e=Math.pow(e,s),r=Math.pow(r,s)-e,s=1/s,function(t){return Math.pow(e+t*r,s)}}function B3(e){return(e=+e)==1?mb:function(r,s){return s-r?L3(r,s,e):Xu(isNaN(r)?s:r)}}function mb(e,r){var s=r-e;return s?R3(e,s):Xu(isNaN(e)?r:e)}const xf=function e(r){var s=B3(r);function t(n,i){var o=s((n=gc(n)).r,(i=gc(i)).r),l=s(n.g,i.g),c=s(n.b,i.b),u=mb(n.opacity,i.opacity);return function(m){return n.r=o(m),n.g=l(m),n.b=c(m),n.opacity=u(m),n+""}}return t.gamma=e,t}(1);function z3(e,r){r||(r=[]);var s=e?Math.min(r.length,e.length):0,t=r.slice(),n;return function(i){for(n=0;n<s;++n)t[n]=e[n]*(1-i)+r[n]*i;return t}}function F3(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function U3(e,r){var s=r?r.length:0,t=e?Math.min(s,e.length):0,n=new Array(t),i=new Array(s),o;for(o=0;o<t;++o)n[o]=xa(e[o],r[o]);for(;o<s;++o)i[o]=r[o];return function(l){for(o=0;o<t;++o)i[o]=n[o](l);return i}}function W3(e,r){var s=new Date;return e=+e,r=+r,function(t){return s.setTime(e*(1-t)+r*t),s}}function Ti(e,r){return e=+e,r=+r,function(s){return e*(1-s)+r*s}}function q3(e,r){var s={},t={},n;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in e?s[n]=xa(e[n],r[n]):t[n]=r[n];return function(i){for(n in s)t[n]=s[n](i);return t}}var jc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wl=new RegExp(jc.source,"g");function K3(e){return function(){return e}}function G3(e){return function(r){return e(r)+""}}function H3(e,r){var s=jc.lastIndex=wl.lastIndex=0,t,n,i,o=-1,l=[],c=[];for(e=e+"",r=r+"";(t=jc.exec(e))&&(n=wl.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(t=t[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,c.push({i:o,x:Ti(t,n)})),s=wl.lastIndex;return s<r.length&&(i=r.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?G3(c[0].x):K3(r):(r=c.length,function(u){for(var m=0,d;m<r;++m)l[(d=c[m]).i]=d.x(u);return l.join("")})}function xa(e,r){var s=typeof r,t;return r==null||s==="boolean"?Xu(r):(s==="number"?Ti:s==="string"?(t=an(r))?(r=t,xf):H3:r instanceof an?xf:r instanceof Date?W3:F3(r)?z3:Array.isArray(r)?U3:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?q3:Ti)(e,r)}function Yu(e,r){return e=+e,r=+r,function(s){return Math.round(e*(1-s)+r*s)}}function X3(e,r){r===void 0&&(r=e,e=xa);for(var s=0,t=r.length-1,n=r[0],i=new Array(t<0?0:t);s<t;)i[s]=e(n,n=r[++s]);return function(o){var l=Math.max(0,Math.min(t-1,Math.floor(o*=t)));return i[l](o-l)}}function Y3(e){return function(){return e}}function Mi(e){return+e}var gf=[0,1];function ur(e){return e}function yc(e,r){return(r-=e=+e)?function(s){return(s-e)/r}:Y3(isNaN(r)?NaN:.5)}function J3(e,r){var s;return e>r&&(s=e,e=r,r=s),function(t){return Math.max(e,Math.min(r,t))}}function Z3(e,r,s){var t=e[0],n=e[1],i=r[0],o=r[1];return n<t?(t=yc(n,t),i=s(o,i)):(t=yc(t,n),i=s(i,o)),function(l){return i(t(l))}}function Q3(e,r,s){var t=Math.min(e.length,r.length)-1,n=new Array(t),i=new Array(t),o=-1;for(e[t]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<t;)n[o]=yc(e[o],e[o+1]),i[o]=s(r[o],r[o+1]);return function(l){var c=Cn(e,l,1,t)-1;return i[c](n[c](l))}}function Mn(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Co(){var e=gf,r=gf,s=xa,t,n,i,o=ur,l,c,u;function m(){var f=Math.min(e.length,r.length);return o!==ur&&(o=J3(e[0],e[f-1])),l=f>2?Q3:Z3,c=u=null,d}function d(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(t),r,s)))(t(o(f)))}return d.invert=function(f){return o(n((u||(u=l(r,e.map(t),Ti)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Mi),m()):e.slice()},d.range=function(f){return arguments.length?(r=Array.from(f),m()):r.slice()},d.rangeRound=function(f){return r=Array.from(f),s=Yu,m()},d.clamp=function(f){return arguments.length?(o=f?!0:ur,m()):o!==ur},d.interpolate=function(f){return arguments.length?(s=f,m()):s},d.unknown=function(f){return arguments.length?(i=f,d):i},function(f,p){return t=f,n=p,m()}}function Ju(){return Co()(ur,ur)}function eO(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $i(e,r){if((s=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var s,t=e.slice(0,s);return[t.length>1?t[0]+t.slice(2):t,+e.slice(s+1)]}function zt(e){return e=$i(Math.abs(e)),e?e[1]:NaN}function rO(e,r){return function(s,t){for(var n=s.length,i=[],o=0,l=e[0],c=0;n>0&&l>0&&(c+l+1>t&&(l=Math.max(1,t-c)),i.push(s.substring(n-=l,n+l)),!((c+=l+1)>t));)l=e[o=(o+1)%e.length];return i.reverse().join(r)}}function sO(e){return function(r){return r.replace(/[0-9]/g,function(s){return e[+s]})}}var tO=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nn(e){if(!(r=tO.exec(e)))throw new Error("invalid format: "+e);var r;return new Zu({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}nn.prototype=Zu.prototype;function Zu(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aO(e){e:for(var r=e.length,s=1,t=-1,n;s<r;++s)switch(e[s]){case".":t=n=s;break;case"0":t===0&&(t=s),n=s;break;default:if(!+e[s])break e;t>0&&(t=0);break}return t>0?e.slice(0,t)+e.slice(n+1):e}var db;function nO(e,r){var s=$i(e,r);if(!s)return e+"";var t=s[0],n=s[1],i=n-(db=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=t.length;return i===o?t:i>o?t+new Array(i-o+1).join("0"):i>0?t.slice(0,i)+"."+t.slice(i):"0."+new Array(1-i).join("0")+$i(e,Math.max(0,r+i-1))[0]}function jf(e,r){var s=$i(e,r);if(!s)return e+"";var t=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+t:t.length>n+1?t.slice(0,n+1)+"."+t.slice(n+1):t+new Array(n-t.length+2).join("0")}const yf={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eO,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>jf(e*100,r),r:jf,s:nO,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wf(e){return e}var Df=Array.prototype.map,Ef=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iO(e){var r=e.grouping===void 0||e.thousands===void 0?wf:rO(Df.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",t=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?wf:sO(Df.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=nn(d);var f=d.fill,p=d.align,N=d.sign,h=d.symbol,b=d.zero,v=d.width,j=d.comma,w=d.precision,D=d.trim,g=d.type;g==="n"?(j=!0,g="g"):yf[g]||(w===void 0&&(w=12),D=!0,g="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var x=h==="$"?s:h==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y=h==="$"?t:/[%p]/.test(g)?o:"",E=yf[g],k=/[defgprs%]/.test(g);w=w===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function _(A){var P=x,T=y,M,C,R;if(g==="c")T=E(A)+T,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?c:E(Math.abs(A),w),D&&(A=aO(A)),F&&+A==0&&N!=="+"&&(F=!1),P=(F?N==="("?N:l:N==="-"||N==="("?"":N)+P,T=(g==="s"?Ef[8+db/3]:"")+T+(F&&N==="("?")":""),k){for(M=-1,C=A.length;++M<C;)if(R=A.charCodeAt(M),48>R||R>57){T=(R===46?n+A.slice(M+1):A.slice(M))+T,A=A.slice(0,M);break}}}j&&!b&&(A=r(A,1/0));var q=P.length+A.length+T.length,G=q<v?new Array(v-q+1).join(f):"";switch(j&&b&&(A=r(G+A,G.length?v-T.length:1/0),G=""),p){case"<":A=P+A+T+G;break;case"=":A=P+G+A+T;break;case"^":A=G.slice(0,q=G.length>>1)+P+A+T+G.slice(q);break;default:A=G+P+A+T;break}return i(A)}return _.toString=function(){return d+""},_}function m(d,f){var p=u((d=nn(d),d.type="f",d)),N=Math.max(-8,Math.min(8,Math.floor(zt(f)/3)))*3,h=Math.pow(10,-N),b=Ef[8+N/3];return function(v){return p(h*v)+b}}return{format:u,formatPrefix:m}}var Jn,Qu,fb;oO({thousands:",",grouping:[3],currency:["$",""]});function oO(e){return Jn=iO(e),Qu=Jn.format,fb=Jn.formatPrefix,Jn}function lO(e){return Math.max(0,-zt(Math.abs(e)))}function cO(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zt(r)/3)))*3-zt(Math.abs(e)))}function uO(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,zt(r)-zt(e))+1}function pb(e,r,s,t){var n=vc(e,r,s),i;switch(t=nn(t??",f"),t.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return t.precision==null&&!isNaN(i=cO(n,o))&&(t.precision=i),fb(t,o)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(i=uO(n,Math.max(Math.abs(e),Math.abs(r))))&&(t.precision=i-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(i=lO(n))&&(t.precision=i-(t.type==="%")*2);break}}return Qu(t)}function Ls(e){var r=e.domain;return e.ticks=function(s){var t=r();return Nc(t[0],t[t.length-1],s??10)},e.tickFormat=function(s,t){var n=r();return pb(n[0],n[n.length-1],s??10,t)},e.nice=function(s){s==null&&(s=10);var t=r(),n=0,i=t.length-1,o=t[n],l=t[i],c,u,m=10;for(l<o&&(u=o,o=l,l=u,u=n,n=i,i=u);m-- >0;){if(u=bc(o,l,s),u===c)return t[n]=o,t[i]=l,r(t);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Ii(){var e=Ju();return e.copy=function(){return Mn(e,Ii())},Ar.apply(e,arguments),Ls(e)}function hb(e){var r;function s(t){return t==null||isNaN(t=+t)?r:t}return s.invert=s,s.domain=s.range=function(t){return arguments.length?(e=Array.from(t,Mi),s):e.slice()},s.unknown=function(t){return arguments.length?(r=t,s):r},s.copy=function(){return hb(e).unknown(r)},e=arguments.length?Array.from(e,Mi):[0,1],Ls(s)}function Nb(e,r){e=e.slice();var s=0,t=e.length-1,n=e[s],i=e[t],o;return i<n&&(o=s,s=t,t=o,o=n,n=i,i=o),e[s]=r.floor(n),e[t]=r.ceil(i),e}function kf(e){return Math.log(e)}function Vf(e){return Math.exp(e)}function mO(e){return-Math.log(-e)}function dO(e){return-Math.exp(-e)}function fO(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pO(e){return e===10?fO:e===Math.E?Math.exp:r=>Math.pow(e,r)}function hO(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function Sf(e){return(r,s)=>-e(-r,s)}function em(e){const r=e(kf,Vf),s=r.domain;let t=10,n,i;function o(){return n=hO(t),i=pO(t),s()[0]<0?(n=Sf(n),i=Sf(i),e(mO,dO)):e(kf,Vf),r}return r.base=function(l){return arguments.length?(t=+l,o()):t},r.domain=function(l){return arguments.length?(s(l),o()):s()},r.ticks=l=>{const c=s();let u=c[0],m=c[c.length-1];const d=m<u;d&&([u,m]=[m,u]);let f=n(u),p=n(m),N,h;const b=l==null?10:+l;let v=[];if(!(t%1)&&p-f<b){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(N=1;N<t;++N)if(h=f<0?N/i(-f):N*i(f),!(h<u)){if(h>m)break;v.push(h)}}else for(;f<=p;++f)for(N=t-1;N>=1;--N)if(h=f>0?N/i(-f):N*i(f),!(h<u)){if(h>m)break;v.push(h)}v.length*2<b&&(v=Nc(u,m,b))}else v=Nc(f,p,Math.min(p-f,b)).map(i);return d?v.reverse():v},r.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=t===10?"s":","),typeof c!="function"&&(!(t%1)&&(c=nn(c)).precision==null&&(c.trim=!0),c=Qu(c)),l===1/0)return c;const u=Math.max(1,t*l/r.ticks().length);return m=>{let d=m/i(Math.round(n(m)));return d*t<t-.5&&(d*=t),d<=u?c(m):""}},r.nice=()=>s(Nb(s(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),r}function bb(){const e=em(Co()).domain([1,10]);return e.copy=()=>Mn(e,bb()).base(e.base()),Ar.apply(e,arguments),e}function Pf(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function Af(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function rm(e){var r=1,s=e(Pf(r),Af(r));return s.constant=function(t){return arguments.length?e(Pf(r=+t),Af(r)):r},Ls(s)}function vb(){var e=rm(Co());return e.copy=function(){return Mn(e,vb()).constant(e.constant())},Ar.apply(e,arguments)}function _f(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function NO(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bO(e){return e<0?-e*e:e*e}function sm(e){var r=e(ur,ur),s=1;function t(){return s===1?e(ur,ur):s===.5?e(NO,bO):e(_f(s),_f(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,t()):s},Ls(r)}function tm(){var e=sm(Co());return e.copy=function(){return Mn(e,tm()).exponent(e.exponent())},Ar.apply(e,arguments),e}function vO(){return tm.apply(null,arguments).exponent(.5)}function Of(e){return Math.sign(e)*e*e}function xO(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xb(){var e=Ju(),r=[0,1],s=!1,t;function n(i){var o=xO(e(i));return isNaN(o)?t:s?Math.round(o):o}return n.invert=function(i){return e.invert(Of(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((r=Array.from(i,Mi)).map(Of)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return xb(e.domain(),r).round(s).clamp(e.clamp()).unknown(t)},Ar.apply(n,arguments),Ls(n)}function gb(){var e=[],r=[],s=[],t;function n(){var o=0,l=Math.max(1,r.length);for(s=new Array(l-1);++o<l;)s[o-1]=D3(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?t:r[Cn(s,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:e[0],l<s.length?s[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Cs),n()},i.range=function(o){return arguments.length?(r=Array.from(o),n()):r.slice()},i.unknown=function(o){return arguments.length?(t=o,i):t},i.quantiles=function(){return s.slice()},i.copy=function(){return gb().domain(e).range(r).unknown(t)},Ar.apply(i,arguments)}function jb(){var e=0,r=1,s=1,t=[.5],n=[0,1],i;function o(c){return c!=null&&c<=c?n[Cn(t,c,0,s)]:i}function l(){var c=-1;for(t=new Array(s);++c<s;)t[c]=((c+1)*r-(c-s)*e)/(s+1);return o}return o.domain=function(c){return arguments.length?([e,r]=c,e=+e,r=+r,l()):[e,r]},o.range=function(c){return arguments.length?(s=(n=Array.from(c)).length-1,l()):n.slice()},o.invertExtent=function(c){var u=n.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,t[0]]:u>=s?[t[s-1],r]:[t[u-1],t[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return t.slice()},o.copy=function(){return jb().domain([e,r]).range(n).unknown(i)},Ar.apply(Ls(o),arguments)}function yb(){var e=[.5],r=[0,1],s,t=1;function n(i){return i!=null&&i<=i?r[Cn(e,i,0,t)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),t=Math.min(e.length,r.length-1),n):e.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),t=Math.min(e.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return yb().domain(e).range(r).unknown(s)},Ar.apply(n,arguments)}const Dl=new Date,El=new Date;function Je(e,r,s,t){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const c=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),r(i,l),e(i);while(u<i&&i<o);return c},n.filter=i=>Je(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),s&&(n.count=(i,o)=>(Dl.setTime(+i),El.setTime(+o),e(Dl),e(El),Math.floor(s(Dl,El))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(t?o=>t(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const Ri=Je(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);Ri.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Je(r=>{r.setTime(Math.floor(r/e)*e)},(r,s)=>{r.setTime(+r+s*e)},(r,s)=>(s-r)/e):Ri);Ri.range;const as=1e3,Vr=as*60,ns=Vr*60,ps=ns*24,am=ps*7,Cf=ps*30,kl=ps*365,Js=Je(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*as)},(e,r)=>(r-e)/as,e=>e.getUTCSeconds());Js.range;const nm=Je(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*as)},(e,r)=>{e.setTime(+e+r*Vr)},(e,r)=>(r-e)/Vr,e=>e.getMinutes());nm.range;const im=Je(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*Vr)},(e,r)=>(r-e)/Vr,e=>e.getUTCMinutes());im.range;const om=Je(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*as-e.getMinutes()*Vr)},(e,r)=>{e.setTime(+e+r*ns)},(e,r)=>(r-e)/ns,e=>e.getHours());om.range;const lm=Je(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*ns)},(e,r)=>(r-e)/ns,e=>e.getUTCHours());lm.range;const $n=Je(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Vr)/ps,e=>e.getDate()-1);$n.range;const To=Je(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/ps,e=>e.getUTCDate()-1);To.range;const wb=Je(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/ps,e=>Math.floor(e/ps));wb.range;function Nt(e){return Je(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*Vr)/am)}const Mo=Nt(0),Li=Nt(1),gO=Nt(2),jO=Nt(3),Ft=Nt(4),yO=Nt(5),wO=Nt(6);Mo.range;Li.range;gO.range;jO.range;Ft.range;yO.range;wO.range;function bt(e){return Je(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/am)}const $o=bt(0),Bi=bt(1),DO=bt(2),EO=bt(3),Ut=bt(4),kO=bt(5),VO=bt(6);$o.range;Bi.range;DO.range;EO.range;Ut.range;kO.range;VO.range;const cm=Je(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());cm.range;const um=Je(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());um.range;const hs=Je(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Je(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*e)});hs.range;const Ns=Je(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Je(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*e)});Ns.range;function Db(e,r,s,t,n,i){const o=[[Js,1,as],[Js,5,5*as],[Js,15,15*as],[Js,30,30*as],[i,1,Vr],[i,5,5*Vr],[i,15,15*Vr],[i,30,30*Vr],[n,1,ns],[n,3,3*ns],[n,6,6*ns],[n,12,12*ns],[t,1,ps],[t,2,2*ps],[s,1,am],[r,1,Cf],[r,3,3*Cf],[e,1,kl]];function l(u,m,d){const f=m<u;f&&([u,m]=[m,u]);const p=d&&typeof d.range=="function"?d:c(u,m,d),N=p?p.range(u,+m+1):[];return f?N.reverse():N}function c(u,m,d){const f=Math.abs(m-u)/d,p=Ku(([,,b])=>b).right(o,f);if(p===o.length)return e.every(vc(u/kl,m/kl,d));if(p===0)return Ri.every(Math.max(vc(u,m,d),1));const[N,h]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return N.every(h)}return[l,c]}const[SO,PO]=Db(Ns,um,$o,wb,lm,im),[AO,_O]=Db(hs,cm,Mo,$n,om,nm);function Vl(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sl(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ka(e,r,s){return{y:e,m:r,d:s,H:0,M:0,S:0,L:0}}function OO(e){var r=e.dateTime,s=e.date,t=e.time,n=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Va(n),m=Sa(n),d=Va(i),f=Sa(i),p=Va(o),N=Sa(o),h=Va(l),b=Sa(l),v=Va(c),j=Sa(c),w={a:F,A:q,b:G,B:re,c:null,d:Lf,e:Lf,f:rC,g:mC,G:fC,H:ZO,I:QO,j:eC,L:Eb,m:sC,M:tC,p:ne,q:Z,Q:Ff,s:Uf,S:aC,u:nC,U:iC,V:oC,w:lC,W:cC,x:null,X:null,y:uC,Y:dC,Z:pC,"%":zf},D={a:Y,A:ie,b:xe,B:K,c:null,d:Bf,e:Bf,f:vC,g:SC,G:AC,H:hC,I:NC,j:bC,L:Vb,m:xC,M:gC,p:ge,q:Me,Q:Ff,s:Uf,S:jC,u:yC,U:wC,V:DC,w:EC,W:kC,x:null,X:null,y:VC,Y:PC,Z:_C,"%":zf},g={a:_,A,b:P,B:T,c:M,d:If,e:If,f:HO,g:$f,G:Mf,H:Rf,I:Rf,j:WO,L:GO,m:UO,M:qO,p:k,q:FO,Q:YO,s:JO,S:KO,u:IO,U:RO,V:LO,w:$O,W:BO,x:C,X:R,y:$f,Y:Mf,Z:zO,"%":XO};w.x=x(s,w),w.X=x(t,w),w.c=x(r,w),D.x=x(s,D),D.X=x(t,D),D.c=x(r,D);function x(J,de){return function(he){var U=[],$e=-1,be=0,We=J.length,qe,fr,ks;for(he instanceof Date||(he=new Date(+he));++$e<We;)J.charCodeAt($e)===37&&(U.push(J.slice(be,$e)),(fr=Tf[qe=J.charAt(++$e)])!=null?qe=J.charAt(++$e):fr=qe==="e"?" ":"0",(ks=de[qe])&&(qe=ks(he,fr)),U.push(qe),be=$e+1);return U.push(J.slice(be,$e)),U.join("")}}function y(J,de){return function(he){var U=ka(1900,void 0,1),$e=E(U,J,he+="",0),be,We;if($e!=he.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(de&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(be=Sl(ka(U.y,0,1)),We=be.getUTCDay(),be=We>4||We===0?Bi.ceil(be):Bi(be),be=To.offset(be,(U.V-1)*7),U.y=be.getUTCFullYear(),U.m=be.getUTCMonth(),U.d=be.getUTCDate()+(U.w+6)%7):(be=Vl(ka(U.y,0,1)),We=be.getDay(),be=We>4||We===0?Li.ceil(be):Li(be),be=$n.offset(be,(U.V-1)*7),U.y=be.getFullYear(),U.m=be.getMonth(),U.d=be.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),We="Z"in U?Sl(ka(U.y,0,1)).getUTCDay():Vl(ka(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(We+5)%7:U.w+U.U*7-(We+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Sl(U)):Vl(U)}}function E(J,de,he,U){for(var $e=0,be=de.length,We=he.length,qe,fr;$e<be;){if(U>=We)return-1;if(qe=de.charCodeAt($e++),qe===37){if(qe=de.charAt($e++),fr=g[qe in Tf?de.charAt($e++):qe],!fr||(U=fr(J,he,U))<0)return-1}else if(qe!=he.charCodeAt(U++))return-1}return U}function k(J,de,he){var U=u.exec(de.slice(he));return U?(J.p=m.get(U[0].toLowerCase()),he+U[0].length):-1}function _(J,de,he){var U=p.exec(de.slice(he));return U?(J.w=N.get(U[0].toLowerCase()),he+U[0].length):-1}function A(J,de,he){var U=d.exec(de.slice(he));return U?(J.w=f.get(U[0].toLowerCase()),he+U[0].length):-1}function P(J,de,he){var U=v.exec(de.slice(he));return U?(J.m=j.get(U[0].toLowerCase()),he+U[0].length):-1}function T(J,de,he){var U=h.exec(de.slice(he));return U?(J.m=b.get(U[0].toLowerCase()),he+U[0].length):-1}function M(J,de,he){return E(J,r,de,he)}function C(J,de,he){return E(J,s,de,he)}function R(J,de,he){return E(J,t,de,he)}function F(J){return o[J.getDay()]}function q(J){return i[J.getDay()]}function G(J){return c[J.getMonth()]}function re(J){return l[J.getMonth()]}function ne(J){return n[+(J.getHours()>=12)]}function Z(J){return 1+~~(J.getMonth()/3)}function Y(J){return o[J.getUTCDay()]}function ie(J){return i[J.getUTCDay()]}function xe(J){return c[J.getUTCMonth()]}function K(J){return l[J.getUTCMonth()]}function ge(J){return n[+(J.getUTCHours()>=12)]}function Me(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var de=x(J+="",w);return de.toString=function(){return J},de},parse:function(J){var de=y(J+="",!1);return de.toString=function(){return J},de},utcFormat:function(J){var de=x(J+="",D);return de.toString=function(){return J},de},utcParse:function(J){var de=y(J+="",!0);return de.toString=function(){return J},de}}}var Tf={"-":"",_:" ",0:"0"},er=/^\s*\d+/,CO=/^%/,TO=/[\\^$*+?|[\]().{}]/g;function ve(e,r,s){var t=e<0?"-":"",n=(t?-e:e)+"",i=n.length;return t+(i<s?new Array(s-i+1).join(r)+n:n)}function MO(e){return e.replace(TO,"\\$&")}function Va(e){return new RegExp("^(?:"+e.map(MO).join("|")+")","i")}function Sa(e){return new Map(e.map((r,s)=>[r.toLowerCase(),s]))}function $O(e,r,s){var t=er.exec(r.slice(s,s+1));return t?(e.w=+t[0],s+t[0].length):-1}function IO(e,r,s){var t=er.exec(r.slice(s,s+1));return t?(e.u=+t[0],s+t[0].length):-1}function RO(e,r,s){var t=er.exec(r.slice(s,s+2));return t?(e.U=+t[0],s+t[0].length):-1}function LO(e,r,s){var t=er.exec(r.slice(s,s+2));return t?(e.V=+t[0],s+t[0].length):-1}function BO(e,r,s){var t=er.exec(r.slice(s,s+2));return t?(e.W=+t[0],s+t[0].length):-1}function Mf(e,r,s){var t=er.exec(r.slice(s,s+4));return t?(e.y=+t[0],s+t[0].length):-1}function $f(e,r,s){var t=er.exec(r.slice(s,s+2));return t?(e.y=+t[0]+(+t[0]>68?1900:2e3),s+t[0].length):-1}function zO(e,r,s){var t=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return t?(e.Z=t[1]?0:-(t[2]+(t[3]||"00")),s+t[0].length):-1}function FO(e,r,s){var t=er.exec(r.slice(s,s+1));return t?(e.q=t[0]*3-3,s+t[0].length):-1}function UO(e,r,s){var t=er.exec(r.slice(s,s+2));return t?(e.m=t[0]-1,s+t[0].length):-1}function If(e,r,s){var t=er.exec(r.slice(s,s+2));return t?(e.d=+t[0],s+t[0].length):-1}function WO(e,r,s){var t=er.exec(r.slice(s,s+3));return t?(e.m=0,e.d=+t[0],s+t[0].length):-1}function Rf(e,r,s){var t=er.exec(r.slice(s,s+2));return t?(e.H=+t[0],s+t[0].length):-1}function qO(e,r,s){var t=er.exec(r.slice(s,s+2));return t?(e.M=+t[0],s+t[0].length):-1}function KO(e,r,s){var t=er.exec(r.slice(s,s+2));return t?(e.S=+t[0],s+t[0].length):-1}function GO(e,r,s){var t=er.exec(r.slice(s,s+3));return t?(e.L=+t[0],s+t[0].length):-1}function HO(e,r,s){var t=er.exec(r.slice(s,s+6));return t?(e.L=Math.floor(t[0]/1e3),s+t[0].length):-1}function XO(e,r,s){var t=CO.exec(r.slice(s,s+1));return t?s+t[0].length:-1}function YO(e,r,s){var t=er.exec(r.slice(s));return t?(e.Q=+t[0],s+t[0].length):-1}function JO(e,r,s){var t=er.exec(r.slice(s));return t?(e.s=+t[0],s+t[0].length):-1}function Lf(e,r){return ve(e.getDate(),r,2)}function ZO(e,r){return ve(e.getHours(),r,2)}function QO(e,r){return ve(e.getHours()%12||12,r,2)}function eC(e,r){return ve(1+$n.count(hs(e),e),r,3)}function Eb(e,r){return ve(e.getMilliseconds(),r,3)}function rC(e,r){return Eb(e,r)+"000"}function sC(e,r){return ve(e.getMonth()+1,r,2)}function tC(e,r){return ve(e.getMinutes(),r,2)}function aC(e,r){return ve(e.getSeconds(),r,2)}function nC(e){var r=e.getDay();return r===0?7:r}function iC(e,r){return ve(Mo.count(hs(e)-1,e),r,2)}function kb(e){var r=e.getDay();return r>=4||r===0?Ft(e):Ft.ceil(e)}function oC(e,r){return e=kb(e),ve(Ft.count(hs(e),e)+(hs(e).getDay()===4),r,2)}function lC(e){return e.getDay()}function cC(e,r){return ve(Li.count(hs(e)-1,e),r,2)}function uC(e,r){return ve(e.getFullYear()%100,r,2)}function mC(e,r){return e=kb(e),ve(e.getFullYear()%100,r,2)}function dC(e,r){return ve(e.getFullYear()%1e4,r,4)}function fC(e,r){var s=e.getDay();return e=s>=4||s===0?Ft(e):Ft.ceil(e),ve(e.getFullYear()%1e4,r,4)}function pC(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+ve(r/60|0,"0",2)+ve(r%60,"0",2)}function Bf(e,r){return ve(e.getUTCDate(),r,2)}function hC(e,r){return ve(e.getUTCHours(),r,2)}function NC(e,r){return ve(e.getUTCHours()%12||12,r,2)}function bC(e,r){return ve(1+To.count(Ns(e),e),r,3)}function Vb(e,r){return ve(e.getUTCMilliseconds(),r,3)}function vC(e,r){return Vb(e,r)+"000"}function xC(e,r){return ve(e.getUTCMonth()+1,r,2)}function gC(e,r){return ve(e.getUTCMinutes(),r,2)}function jC(e,r){return ve(e.getUTCSeconds(),r,2)}function yC(e){var r=e.getUTCDay();return r===0?7:r}function wC(e,r){return ve($o.count(Ns(e)-1,e),r,2)}function Sb(e){var r=e.getUTCDay();return r>=4||r===0?Ut(e):Ut.ceil(e)}function DC(e,r){return e=Sb(e),ve(Ut.count(Ns(e),e)+(Ns(e).getUTCDay()===4),r,2)}function EC(e){return e.getUTCDay()}function kC(e,r){return ve(Bi.count(Ns(e)-1,e),r,2)}function VC(e,r){return ve(e.getUTCFullYear()%100,r,2)}function SC(e,r){return e=Sb(e),ve(e.getUTCFullYear()%100,r,2)}function PC(e,r){return ve(e.getUTCFullYear()%1e4,r,4)}function AC(e,r){var s=e.getUTCDay();return e=s>=4||s===0?Ut(e):Ut.ceil(e),ve(e.getUTCFullYear()%1e4,r,4)}function _C(){return"+0000"}function zf(){return"%"}function Ff(e){return+e}function Uf(e){return Math.floor(+e/1e3)}var gt,Pb,Ab;OC({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OC(e){return gt=OO(e),Pb=gt.format,gt.parse,Ab=gt.utcFormat,gt.utcParse,gt}function CC(e){return new Date(e)}function TC(e){return e instanceof Date?+e:+new Date(+e)}function mm(e,r,s,t,n,i,o,l,c,u){var m=Ju(),d=m.invert,f=m.domain,p=u(".%L"),N=u(":%S"),h=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),j=u("%b %d"),w=u("%B"),D=u("%Y");function g(x){return(c(x)<x?p:l(x)<x?N:o(x)<x?h:i(x)<x?b:t(x)<x?n(x)<x?v:j:s(x)<x?w:D)(x)}return m.invert=function(x){return new Date(d(x))},m.domain=function(x){return arguments.length?f(Array.from(x,TC)):f().map(CC)},m.ticks=function(x){var y=f();return e(y[0],y[y.length-1],x??10)},m.tickFormat=function(x,y){return y==null?g:u(y)},m.nice=function(x){var y=f();return(!x||typeof x.range!="function")&&(x=r(y[0],y[y.length-1],x??10)),x?f(Nb(y,x)):m},m.copy=function(){return Mn(m,mm(e,r,s,t,n,i,o,l,c,u))},m}function MC(){return Ar.apply(mm(AO,_O,hs,cm,Mo,$n,om,nm,Js,Pb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $C(){return Ar.apply(mm(SO,PO,Ns,um,$o,To,lm,im,Js,Ab).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Io(){var e=0,r=1,s,t,n,i,o=ur,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(n===0?.5:(d=(i(d)-s)*n,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,r]=d,s=i(e=+e),t=i(r=+r),n=s===t?0:1/(t-s),u):[e,r]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function m(d){return function(f){var p,N;return arguments.length?([p,N]=f,o=d(p,N),u):[o(0),o(1)]}}return u.range=m(xa),u.rangeRound=m(Yu),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,s=d(e),t=d(r),n=s===t?0:1/(t-s),u}}function Bs(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _b(){var e=Ls(Io()(ur));return e.copy=function(){return Bs(e,_b())},ws.apply(e,arguments)}function Ob(){var e=em(Io()).domain([1,10]);return e.copy=function(){return Bs(e,Ob()).base(e.base())},ws.apply(e,arguments)}function Cb(){var e=rm(Io());return e.copy=function(){return Bs(e,Cb()).constant(e.constant())},ws.apply(e,arguments)}function dm(){var e=sm(Io());return e.copy=function(){return Bs(e,dm()).exponent(e.exponent())},ws.apply(e,arguments)}function IC(){return dm.apply(null,arguments).exponent(.5)}function Tb(){var e=[],r=ur;function s(t){if(t!=null&&!isNaN(t=+t))return r((Cn(e,t,1)-1)/(e.length-1))}return s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Cs),s},s.interpolator=function(t){return arguments.length?(r=t,s):r},s.range=function(){return e.map((t,n)=>r(n/(e.length-1)))},s.quantiles=function(t){return Array.from({length:t+1},(n,i)=>w3(e,i/t))},s.copy=function(){return Tb(r).domain(e)},ws.apply(s,arguments)}function Ro(){var e=0,r=.5,s=1,t=1,n,i,o,l,c,u=ur,m,d=!1,f;function p(h){return isNaN(h=+h)?f:(h=.5+((h=+m(h))-i)*(t*h<t*i?l:c),u(d?Math.max(0,Math.min(1,h)):h))}p.domain=function(h){return arguments.length?([e,r,s]=h,n=m(e=+e),i=m(r=+r),o=m(s=+s),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),t=i<n?-1:1,p):[e,r,s]},p.clamp=function(h){return arguments.length?(d=!!h,p):d},p.interpolator=function(h){return arguments.length?(u=h,p):u};function N(h){return function(b){var v,j,w;return arguments.length?([v,j,w]=b,u=X3(h,[v,j,w]),p):[u(0),u(.5),u(1)]}}return p.range=N(xa),p.rangeRound=N(Yu),p.unknown=function(h){return arguments.length?(f=h,p):f},function(h){return m=h,n=h(e),i=h(r),o=h(s),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),t=i<n?-1:1,p}}function Mb(){var e=Ls(Ro()(ur));return e.copy=function(){return Bs(e,Mb())},ws.apply(e,arguments)}function $b(){var e=em(Ro()).domain([.1,1,10]);return e.copy=function(){return Bs(e,$b()).base(e.base())},ws.apply(e,arguments)}function Ib(){var e=rm(Ro());return e.copy=function(){return Bs(e,Ib()).constant(e.constant())},ws.apply(e,arguments)}function fm(){var e=sm(Ro());return e.copy=function(){return Bs(e,fm()).exponent(e.exponent())},ws.apply(e,arguments)}function RC(){return fm.apply(null,arguments).exponent(.5)}const Wf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rn,scaleDiverging:Mb,scaleDivergingLog:$b,scaleDivergingPow:fm,scaleDivergingSqrt:RC,scaleDivergingSymlog:Ib,scaleIdentity:hb,scaleImplicit:xc,scaleLinear:Ii,scaleLog:bb,scaleOrdinal:Gu,scalePoint:La,scalePow:tm,scaleQuantile:gb,scaleQuantize:jb,scaleRadial:xb,scaleSequential:_b,scaleSequentialLog:Ob,scaleSequentialPow:dm,scaleSequentialQuantile:Tb,scaleSequentialSqrt:IC,scaleSequentialSymlog:Cb,scaleSqrt:vO,scaleSymlog:vb,scaleThreshold:yb,scaleTime:MC,scaleUtc:$C,tickFormat:pb},Symbol.toStringTag,{value:"Module"}));var LC=ua;function BC(e,r,s){for(var t=-1,n=e.length;++t<n;){var i=e[t],o=r(i);if(o!=null&&(l===void 0?o===o&&!LC(o):s(o,l)))var l=o,c=i}return c}var Lo=BC;function zC(e,r){return e>r}var Rb=zC,FC=Lo,UC=Rb,WC=va;function qC(e){return e&&e.length?FC(e,WC,UC):void 0}var KC=qC;const As=Ee(KC);function GC(e,r){return e<r}var Lb=GC,HC=Lo,XC=Lb,YC=va;function JC(e){return e&&e.length?HC(e,YC,XC):void 0}var ZC=JC;const Bo=Ee(ZC);var QC=Pu,eT=Qr,rT=KN,sT=hr;function tT(e,r){var s=sT(e)?QC:rT;return s(e,eT(r))}var aT=tT,nT=WN,iT=aT;function oT(e,r){return nT(iT(e,r),1)}var lT=oT;const cT=Ee(lT);var uT=Fu;function mT(e,r){return uT(e,r)}var dT=mT;const it=Ee(dT);var ga=1e9,fT={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hm,Ce=!0,Pr="[DecimalError] ",rt=Pr+"Invalid argument: ",pm=Pr+"Exponent out of range: ",ja=Math.floor,Gs=Math.pow,pT=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xr,Ze=1e7,_e=7,Bb=9007199254740991,zi=ja(Bb/_e),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var r,s,t,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=i.d.length,n=e.d.length,r=0,s=t<n?t:n;r<s;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return t===n?0:t>n^i.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,r=e.d.length-1,s=(r-e.e)*_e;if(r=e.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};ee.dividedBy=ee.div=function(e){return ms(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var r=this,s=r.constructor;return De(ms(r,new s(e),0,1),s.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return Ue(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var r,s=this,t=s.constructor,n=t.precision,i=n+5;if(e===void 0)e=new t(10);else if(e=new t(e),e.s<1||e.eq(xr))throw Error(Pr+"NaN");if(s.s<1)throw Error(Pr+(s.s?"NaN":"-Infinity"));return s.eq(xr)?new t(0):(Ce=!1,r=ms(on(s,i),on(e,i),i),Ce=!0,De(r,n))};ee.minus=ee.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?Ub(r,e):zb(r,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var r,s=this,t=s.constructor,n=t.precision;if(e=new t(e),!e.s)throw Error(Pr+"NaN");return s.s?(Ce=!1,r=ms(s,e,0,1).times(e),Ce=!0,s.minus(r)):De(new t(s),n)};ee.naturalExponential=ee.exp=function(){return Fb(this)};ee.naturalLogarithm=ee.ln=function(){return on(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?zb(r,e):Ub(r,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var r,s,t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rt+e);if(r=Ue(n)+1,t=n.d.length-1,s=t*_e+1,t=n.d[t],t){for(;t%10==0;t/=10)s--;for(t=n.d[0];t>=10;t/=10)s++}return e&&r>s?r:s};ee.squareRoot=ee.sqrt=function(){var e,r,s,t,n,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Pr+"NaN")}for(e=Ue(l),Ce=!1,n=Math.sqrt(+l),n==0||n==1/0?(r=zr(l.d),(r.length+e)%2==0&&(r+="0"),n=Math.sqrt(r),e=ja((e+1)/2)-(e<0||e%2),n==1/0?r="5e"+e:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),t=new c(r)):t=new c(n.toString()),s=c.precision,n=o=s+3;;)if(i=t,t=i.plus(ms(l,i,o+2)).times(.5),zr(i.d).slice(0,o)===(r=zr(t.d)).slice(0,o)){if(r=r.slice(o-3,o+1),n==o&&r=="4999"){if(De(i,s+1,0),i.times(i).eq(l)){t=i;break}}else if(r!="9999")break;o+=4}return Ce=!0,De(t,s)};ee.times=ee.mul=function(e){var r,s,t,n,i,o,l,c,u,m=this,d=m.constructor,f=m.d,p=(e=new d(e)).d;if(!m.s||!e.s)return new d(0);for(e.s*=m.s,s=m.e+e.e,c=f.length,u=p.length,c<u&&(i=f,f=p,p=i,o=c,c=u,u=o),i=[],o=c+u,t=o;t--;)i.push(0);for(t=u;--t>=0;){for(r=0,n=c+t;n>t;)l=i[n]+p[t]*f[n-t-1]+r,i[n--]=l%Ze|0,r=l/Ze|0;i[n]=(i[n]+r)%Ze|0}for(;!i[--o];)i.pop();return r?++s:i.shift(),e.d=i,e.e=s,Ce?De(e,d.precision):e};ee.toDecimalPlaces=ee.todp=function(e,r){var s=this,t=s.constructor;return s=new t(s),e===void 0?s:(Yr(e,0,ga),r===void 0?r=t.rounding:Yr(r,0,8),De(s,e+Ue(s)+1,r))};ee.toExponential=function(e,r){var s,t=this,n=t.constructor;return e===void 0?s=ot(t,!0):(Yr(e,0,ga),r===void 0?r=n.rounding:Yr(r,0,8),t=De(new n(t),e+1,r),s=ot(t,!0,e+1)),s};ee.toFixed=function(e,r){var s,t,n=this,i=n.constructor;return e===void 0?ot(n):(Yr(e,0,ga),r===void 0?r=i.rounding:Yr(r,0,8),t=De(new i(n),e+Ue(n)+1,r),s=ot(t.abs(),!1,e+Ue(t)+1),n.isneg()&&!n.isZero()?"-"+s:s)};ee.toInteger=ee.toint=function(){var e=this,r=e.constructor;return De(new r(e),Ue(e)+1,r.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var r,s,t,n,i,o,l=this,c=l.constructor,u=12,m=+(e=new c(e));if(!e.s)return new c(xr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Pr+"Infinity");return l}if(l.eq(xr))return l;if(t=c.precision,e.eq(xr))return De(l,t);if(r=e.e,s=e.d.length-1,o=r>=s,i=l.s,o){if((s=m<0?-m:m)<=Bb){for(n=new c(xr),r=Math.ceil(t/_e+4),Ce=!1;s%2&&(n=n.times(l),Kf(n.d,r)),s=ja(s/2),s!==0;)l=l.times(l),Kf(l.d,r);return Ce=!0,e.s<0?new c(xr).div(n):De(n,t)}}else if(i<0)throw Error(Pr+"NaN");return i=i<0&&e.d[Math.max(r,s)]&1?-1:1,l.s=1,Ce=!1,n=e.times(on(l,t+u)),Ce=!0,n=Fb(n),n.s=i,n};ee.toPrecision=function(e,r){var s,t,n=this,i=n.constructor;return e===void 0?(s=Ue(n),t=ot(n,s<=i.toExpNeg||s>=i.toExpPos)):(Yr(e,1,ga),r===void 0?r=i.rounding:Yr(r,0,8),n=De(new i(n),e,r),s=Ue(n),t=ot(n,e<=s||s<=i.toExpNeg,e)),t};ee.toSignificantDigits=ee.tosd=function(e,r){var s=this,t=s.constructor;return e===void 0?(e=t.precision,r=t.rounding):(Yr(e,1,ga),r===void 0?r=t.rounding:Yr(r,0,8)),De(new t(s),e,r)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=Ue(e),s=e.constructor;return ot(e,r<=s.toExpNeg||r>=s.toExpPos)};function zb(e,r){var s,t,n,i,o,l,c,u,m=e.constructor,d=m.precision;if(!e.s||!r.s)return r.s||(r=new m(e)),Ce?De(r,d):r;if(c=e.d,u=r.d,o=e.e,n=r.e,c=c.slice(),i=o-n,i){for(i<0?(t=c,i=-i,l=u.length):(t=u,n=o,l=c.length),o=Math.ceil(d/_e),l=o>l?o+1:l+1,i>l&&(i=l,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,t=u,u=c,c=t),s=0;i;)s=(c[--i]=c[i]+u[i]+s)/Ze|0,c[i]%=Ze;for(s&&(c.unshift(s),++n),l=c.length;c[--l]==0;)c.pop();return r.d=c,r.e=n,Ce?De(r,d):r}function Yr(e,r,s){if(e!==~~e||e<r||e>s)throw Error(rt+e)}function zr(e){var r,s,t,n=e.length-1,i="",o=e[0];if(n>0){for(i+=o,r=1;r<n;r++)t=e[r]+"",s=_e-t.length,s&&(i+=Ss(s)),i+=t;o=e[r],t=o+"",s=_e-t.length,s&&(i+=Ss(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ms=function(){function e(t,n){var i,o=0,l=t.length;for(t=t.slice();l--;)i=t[l]*n+o,t[l]=i%Ze|0,o=i/Ze|0;return o&&t.unshift(o),t}function r(t,n,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(t[l]!=n[l]){c=t[l]>n[l]?1:-1;break}return c}function s(t,n,i){for(var o=0;i--;)t[i]-=o,o=t[i]<n[i]?1:0,t[i]=o*Ze+t[i]-n[i];for(;!t[0]&&t.length>1;)t.shift()}return function(t,n,i,o){var l,c,u,m,d,f,p,N,h,b,v,j,w,D,g,x,y,E,k=t.constructor,_=t.s==n.s?1:-1,A=t.d,P=n.d;if(!t.s)return new k(t);if(!n.s)throw Error(Pr+"Division by zero");for(c=t.e-n.e,y=P.length,g=A.length,p=new k(_),N=p.d=[],u=0;P[u]==(A[u]||0);)++u;if(P[u]>(A[u]||0)&&--c,i==null?j=i=k.precision:o?j=i+(Ue(t)-Ue(n))+1:j=i,j<0)return new k(0);if(j=j/_e+2|0,u=0,y==1)for(m=0,P=P[0],j++;(u<g||m)&&j--;u++)w=m*Ze+(A[u]||0),N[u]=w/P|0,m=w%P|0;else{for(m=Ze/(P[0]+1)|0,m>1&&(P=e(P,m),A=e(A,m),y=P.length,g=A.length),D=y,h=A.slice(0,y),b=h.length;b<y;)h[b++]=0;E=P.slice(),E.unshift(0),x=P[0],P[1]>=Ze/2&&++x;do m=0,l=r(P,h,y,b),l<0?(v=h[0],y!=b&&(v=v*Ze+(h[1]||0)),m=v/x|0,m>1?(m>=Ze&&(m=Ze-1),d=e(P,m),f=d.length,b=h.length,l=r(d,h,f,b),l==1&&(m--,s(d,y<f?E:P,f))):(m==0&&(l=m=1),d=P.slice()),f=d.length,f<b&&d.unshift(0),s(h,d,b),l==-1&&(b=h.length,l=r(P,h,y,b),l<1&&(m++,s(h,y<b?E:P,b))),b=h.length):l===0&&(m++,h=[0]),N[u++]=m,l&&h[0]?h[b++]=A[D]||0:(h=[A[D]],b=1);while((D++<g||h[0]!==void 0)&&j--)}return N[0]||N.shift(),p.e=c,De(p,o?i+Ue(p)+1:i)}}();function Fb(e,r){var s,t,n,i,o,l,c=0,u=0,m=e.constructor,d=m.precision;if(Ue(e)>16)throw Error(pm+Ue(e));if(!e.s)return new m(xr);for(Ce=!1,l=d,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(t=Math.log(Gs(2,u))/Math.LN10*2+5|0,l+=t,s=n=i=new m(xr),m.precision=l;;){if(n=De(n.times(e),l),s=s.times(++c),o=i.plus(ms(n,s,l)),zr(o.d).slice(0,l)===zr(i.d).slice(0,l)){for(;u--;)i=De(i.times(i),l);return m.precision=d,r==null?(Ce=!0,De(i,d)):i}i=o}}function Ue(e){for(var r=e.e*_e,s=e.d[0];s>=10;s/=10)r++;return r}function Pl(e,r,s){if(r>e.LN10.sd())throw Ce=!0,s&&(e.precision=s),Error(Pr+"LN10 precision limit exceeded");return De(new e(e.LN10),r)}function Ss(e){for(var r="";e--;)r+="0";return r}function on(e,r){var s,t,n,i,o,l,c,u,m,d=1,f=10,p=e,N=p.d,h=p.constructor,b=h.precision;if(p.s<1)throw Error(Pr+(p.s?"NaN":"-Infinity"));if(p.eq(xr))return new h(0);if(r==null?(Ce=!1,u=b):u=r,p.eq(10))return r==null&&(Ce=!0),Pl(h,u);if(u+=f,h.precision=u,s=zr(N),t=s.charAt(0),i=Ue(p),Math.abs(i)<15e14){for(;t<7&&t!=1||t==1&&s.charAt(1)>3;)p=p.times(e),s=zr(p.d),t=s.charAt(0),d++;i=Ue(p),t>1?(p=new h("0."+s),i++):p=new h(t+"."+s.slice(1))}else return c=Pl(h,u+2,b).times(i+""),p=on(new h(t+"."+s.slice(1)),u-f).plus(c),h.precision=b,r==null?(Ce=!0,De(p,b)):p;for(l=o=p=ms(p.minus(xr),p.plus(xr),u),m=De(p.times(p),u),n=3;;){if(o=De(o.times(m),u),c=l.plus(ms(o,new h(n),u)),zr(c.d).slice(0,u)===zr(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Pl(h,u+2,b).times(i+""))),l=ms(l,new h(d),u),h.precision=b,r==null?(Ce=!0,De(l,b)):l;l=c,n+=2}}function qf(e,r){var s,t,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(t=r.search(/e/i))>0?(s<0&&(s=t),s+=+r.slice(t+1),r=r.substring(0,t)):s<0&&(s=r.length),t=0;r.charCodeAt(t)===48;)++t;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(t,n),r){if(n-=t,s=s-t-1,e.e=ja(s/_e),e.d=[],t=(s+1)%_e,s<0&&(t+=_e),t<n){for(t&&e.d.push(+r.slice(0,t)),n-=_e;t<n;)e.d.push(+r.slice(t,t+=_e));r=r.slice(t),t=_e-r.length}else t-=n;for(;t--;)r+="0";if(e.d.push(+r),Ce&&(e.e>zi||e.e<-zi))throw Error(pm+s)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,r,s){var t,n,i,o,l,c,u,m,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(t=r-o,t<0)t+=_e,n=r,u=d[m=0];else{if(m=Math.ceil((t+1)/_e),i=d.length,m>=i)return e;for(u=i=d[m],o=1;i>=10;i/=10)o++;t%=_e,n=t-_e+o}if(s!==void 0&&(i=Gs(10,o-n-1),l=u/i%10|0,c=r<0||d[m+1]!==void 0||u%i,c=s<4?(l||c)&&(s==0||s==(e.s<0?3:2)):l>5||l==5&&(s==4||c||s==6&&(t>0?n>0?u/Gs(10,o-n):0:d[m-1])%10&1||s==(e.s<0?8:7))),r<1||!d[0])return c?(i=Ue(e),d.length=1,r=r-i-1,d[0]=Gs(10,(_e-r%_e)%_e),e.e=ja(-r/_e)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(t==0?(d.length=m,i=1,m--):(d.length=m+1,i=Gs(10,_e-t),d[m]=n>0?(u/Gs(10,o-n)%Gs(10,n)|0)*i:0),c)for(;;)if(m==0){(d[0]+=i)==Ze&&(d[0]=1,++e.e);break}else{if(d[m]+=i,d[m]!=Ze)break;d[m--]=0,i=1}for(t=d.length;d[--t]===0;)d.pop();if(Ce&&(e.e>zi||e.e<-zi))throw Error(pm+Ue(e));return e}function Ub(e,r){var s,t,n,i,o,l,c,u,m,d,f=e.constructor,p=f.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new f(e),Ce?De(r,p):r;if(c=e.d,d=r.d,t=r.e,u=e.e,c=c.slice(),o=u-t,o){for(m=o<0,m?(s=c,o=-o,l=d.length):(s=d,t=u,l=c.length),n=Math.max(Math.ceil(p/_e),l)+2,o>n&&(o=n,s.length=1),s.reverse(),n=o;n--;)s.push(0);s.reverse()}else{for(n=c.length,l=d.length,m=n<l,m&&(l=n),n=0;n<l;n++)if(c[n]!=d[n]){m=c[n]<d[n];break}o=0}for(m&&(s=c,c=d,d=s,r.s=-r.s),l=c.length,n=d.length-l;n>0;--n)c[l++]=0;for(n=d.length;n>o;){if(c[--n]<d[n]){for(i=n;i&&c[--i]===0;)c[i]=Ze-1;--c[i],c[n]+=Ze}c[n]-=d[n]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--t;return c[0]?(r.d=c,r.e=t,Ce?De(r,p):r):new f(0)}function ot(e,r,s){var t,n=Ue(e),i=zr(e.d),o=i.length;return r?(s&&(t=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ss(t):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Ss(-n-1)+i,s&&(t=s-o)>0&&(i+=Ss(t))):n>=o?(i+=Ss(n+1-o),s&&(t=s-n-1)>0&&(i=i+"."+Ss(t))):((t=n+1)<o&&(i=i.slice(0,t)+"."+i.slice(t)),s&&(t=s-o)>0&&(n+1===o&&(i+="."),i+=Ss(t))),e.s<0?"-"+i:i}function Kf(e,r){if(e.length>r)return e.length=r,!0}function Wb(e){var r,s,t;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(rt+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return qf(o,i.toString())}else if(typeof i!="string")throw Error(rt+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,pT.test(i))qf(o,i);else throw Error(rt+i)}if(n.prototype=ee,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=Wb,n.config=n.set=hT,e===void 0&&(e={}),e)for(t=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<t.length;)e.hasOwnProperty(s=t[r++])||(e[s]=this[s]);return n.config(e),n}function hT(e){if(!e||typeof e!="object")throw Error(Pr+"Object expected");var r,s,t,n=["precision",1,ga,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((t=e[s=n[r]])!==void 0)if(ja(t)===t&&t>=n[r+1]&&t<=n[r+2])this[s]=t;else throw Error(rt+s+": "+t);if((t=e[s="LN10"])!==void 0)if(t==Math.LN10)this[s]=new this(t);else throw Error(rt+s+": "+t);return this}var hm=Wb(fT);xr=new hm(1);const je=hm;function NT(e){return gT(e)||xT(e)||vT(e)||bT()}function bT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vT(e,r){if(e){if(typeof e=="string")return wc(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return wc(e,r)}}function xT(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gT(e){if(Array.isArray(e))return wc(e)}function wc(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}var jT=function(r){return r},qb={},Kb=function(r){return r===qb},Gf=function(r){return function s(){return arguments.length===0||arguments.length===1&&Kb(arguments.length<=0?void 0:arguments[0])?s:r.apply(void 0,arguments)}},yT=function e(r,s){return r===1?s:Gf(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=n.filter(function(l){return l!==qb}).length;return o>=r?s.apply(void 0,n):e(r-o,Gf(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var m=n.map(function(d){return Kb(d)?c.shift():d});return s.apply(void 0,NT(m).concat(c))}))})},zo=function(r){return yT(r.length,r)},Dc=function(r,s){for(var t=[],n=r;n<s;++n)t[n-r]=n;return t},wT=zo(function(e,r){return Array.isArray(r)?r.map(e):Object.keys(r).map(function(s){return r[s]}).map(e)}),DT=function(){for(var r=arguments.length,s=new Array(r),t=0;t<r;t++)s[t]=arguments[t];if(!s.length)return jT;var n=s.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Ec=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},Gb=function(r){var s=null,t=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return s&&i.every(function(l,c){return l===s[c]})||(s=i,t=r.apply(void 0,i)),t}};function ET(e){var r;return e===0?r=1:r=Math.floor(new je(e).abs().log(10).toNumber())+1,r}function kT(e,r,s){for(var t=new je(e),n=0,i=[];t.lt(r)&&n<1e5;)i.push(t.toNumber()),t=t.add(s),n++;return i}var VT=zo(function(e,r,s){var t=+e,n=+r;return t+s*(n-t)}),ST=zo(function(e,r,s){var t=r-+e;return t=t||1/0,(s-e)/t}),PT=zo(function(e,r,s){var t=r-+e;return t=t||1/0,Math.max(0,Math.min(1,(s-e)/t))});const Fo={rangeStep:kT,getDigitCount:ET,interpolateNumber:VT,uninterpolateNumber:ST,uninterpolateTruncation:PT};function kc(e){return OT(e)||_T(e)||Hb(e)||AT()}function AT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _T(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OT(e){if(Array.isArray(e))return Vc(e)}function ln(e,r){return MT(e)||TT(e,r)||Hb(e,r)||CT()}function CT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hb(e,r){if(e){if(typeof e=="string")return Vc(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Vc(e,r)}}function Vc(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function TT(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var s=[],t=!0,n=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(t=(l=o.next()).done)&&(s.push(l.value),!(r&&s.length===r));t=!0);}catch(c){n=!0,i=c}finally{try{!t&&o.return!=null&&o.return()}finally{if(n)throw i}}return s}}function MT(e){if(Array.isArray(e))return e}function Xb(e){var r=ln(e,2),s=r[0],t=r[1],n=s,i=t;return s>t&&(n=t,i=s),[n,i]}function Yb(e,r,s){if(e.lte(0))return new je(0);var t=Fo.getDigitCount(e.toNumber()),n=new je(10).pow(t),i=e.div(n),o=t!==1?.05:.1,l=new je(Math.ceil(i.div(o).toNumber())).add(s).mul(o),c=l.mul(n);return r?c:new je(Math.ceil(c))}function $T(e,r,s){var t=1,n=new je(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(t=new je(10).pow(Fo.getDigitCount(e)-1),n=new je(Math.floor(n.div(t).toNumber())).mul(t)):i>1&&(n=new je(Math.floor(e)))}else e===0?n=new je(Math.floor((r-1)/2)):s||(n=new je(Math.floor(e)));var o=Math.floor((r-1)/2),l=DT(wT(function(c){return n.add(new je(c-o).mul(t)).toNumber()}),Dc);return l(0,r)}function Jb(e,r,s,t){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(s-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var i=Yb(new je(r).sub(e).div(s-1),t,n),o;e<=0&&r>=0?o=new je(0):(o=new je(e).add(r).div(2),o=o.sub(new je(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new je(r).sub(o).div(i).toNumber()),u=l+c+1;return u>s?Jb(e,r,s,t,n+1):(u<s&&(c=r>0?c+(s-u):c,l=r>0?l:l+(s-u)),{step:i,tickMin:o.sub(new je(l).mul(i)),tickMax:o.add(new je(c).mul(i))})}function IT(e){var r=ln(e,2),s=r[0],t=r[1],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),l=Xb([s,t]),c=ln(l,2),u=c[0],m=c[1];if(u===-1/0||m===1/0){var d=m===1/0?[u].concat(kc(Dc(0,n-1).map(function(){return 1/0}))):[].concat(kc(Dc(0,n-1).map(function(){return-1/0})),[m]);return s>t?Ec(d):d}if(u===m)return $T(u,n,i);var f=Jb(u,m,o,i),p=f.step,N=f.tickMin,h=f.tickMax,b=Fo.rangeStep(N,h.add(new je(.1).mul(p)),p);return s>t?Ec(b):b}function RT(e,r){var s=ln(e,2),t=s[0],n=s[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Xb([t,n]),l=ln(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[t,n];if(c===u)return[c];var m=Math.max(r,2),d=Yb(new je(u).sub(c).div(m-1),i,0),f=[].concat(kc(Fo.rangeStep(new je(c),new je(u).sub(new je(.99).mul(d)),d)),[u]);return t>n?Ec(f):f}var LT=Gb(IT),BT=Gb(RT),Hf="Invariant failed";function lt(e,r){var s=typeof r=="function"?r():r,t=s?"".concat(Hf,": ").concat(s):Hf;throw new Error(t)}var zT=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wt(e){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wt(e)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Fi.apply(this,arguments)}function FT(e,r){return KT(e)||qT(e,r)||WT(e,r)||UT()}function UT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WT(e,r){if(e){if(typeof e=="string")return Xf(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Xf(e,r)}}function Xf(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function qT(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r!==0)for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function KT(e){if(Array.isArray(e))return e}function GT(e,r){if(e==null)return{};var s=HT(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function HT(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function XT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function YT(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,ev(t.key),t)}}function JT(e,r,s){return r&&YT(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZT(e,r,s){return r=Ui(r),QT(e,Zb()?Reflect.construct(r,s||[],Ui(e).constructor):r.apply(e,s))}function QT(e,r){if(r&&(Wt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e5(e)}function e5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zb=function(){return!!e})()}function Ui(e){return Ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Ui(e)}function r5(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Sc(e,r)}function Sc(e,r){return Sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Sc(e,r)}function Qb(e,r,s){return r=ev(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ev(e){var r=s5(e,"string");return Wt(r)=="symbol"?r:r+""}function s5(e,r){if(Wt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Wt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var In=function(e){function r(){return XT(this,r),ZT(this,r,arguments)}return r5(r,e),JT(r,[{key:"render",value:function(){var t=this.props,n=t.offset,i=t.layout,o=t.width,l=t.dataKey,c=t.data,u=t.dataPointFormatter,m=t.xAxis,d=t.yAxis,f=GT(t,zT),p=ae(f,!1);this.props.direction==="x"&&m.type!=="number"&&lt(!1,'ErrorBar requires Axis type property to be "number".');var N=c.map(function(h){var b=u(h,l),v=b.x,j=b.y,w=b.value,D=b.errorVal;if(!D)return null;var g=[],x,y;if(Array.isArray(D)){var E=FT(D,2);x=E[0],y=E[1]}else x=y=D;if(i==="vertical"){var k=m.scale,_=j+n,A=_+o,P=_-o,T=k(w-x),M=k(w+y);g.push({x1:M,y1:A,x2:M,y2:P}),g.push({x1:T,y1:_,x2:M,y2:_}),g.push({x1:T,y1:A,x2:T,y2:P})}else if(i==="horizontal"){var C=d.scale,R=v+n,F=R-o,q=R+o,G=C(w-x),re=C(w+y);g.push({x1:F,y1:re,x2:q,y2:re}),g.push({x1:R,y1:G,x2:R,y2:re}),g.push({x1:F,y1:G,x2:q,y2:G})}return V.createElement(Ne,Fi({className:"recharts-errorBar",key:"bar-".concat(g.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},p),g.map(function(ne){return V.createElement("line",Fi({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return V.createElement(Ne,{className:"recharts-errorBars"},N)}}])}(V.Component);Qb(In,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Qb(In,"displayName","ErrorBar");function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cn(e)}function Yf(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Fs(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Yf(Object(s),!0).forEach(function(t){t5(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Yf(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function t5(e,r,s){return r=a5(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function a5(e){var r=n5(e,"string");return cn(r)=="symbol"?r:r+""}function n5(e,r){if(cn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(cn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var rv=function(r){var s=r.children,t=r.formattedGraphicalItems,n=r.legendWidth,i=r.legendContent,o=vr(s,Ct);if(!o)return null;var l=Ct.defaultProps,c=l!==void 0?Fs(Fs({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(t||[]).reduce(function(m,d){var f=d.item,p=d.props,N=p.sectors||p.data||[];return m.concat(N.map(function(h){return{type:o.props.iconType||f.props.legendType,value:h.name,color:h.fill,payload:h}}))},[]):u=(t||[]).map(function(m){var d=m.item,f=d.type.defaultProps,p=f!==void 0?Fs(Fs({},f),d.props):{},N=p.dataKey,h=p.name,b=p.legendType,v=p.hide;return{inactive:v,dataKey:N,type:c.iconType||b||"square",color:Nm(d),value:h||N,payload:p}}),Fs(Fs(Fs({},c),Ct.getWithHeight(o,n)),{},{payload:u,item:o})};function un(e){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},un(e)}function Jf(e){return c5(e)||l5(e)||o5(e)||i5()}function i5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5(e,r){if(e){if(typeof e=="string")return Pc(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Pc(e,r)}}function l5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c5(e){if(Array.isArray(e))return Pc(e)}function Pc(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function Zf(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Ie(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Zf(Object(s),!0).forEach(function(t){Mt(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Zf(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Mt(e,r,s){return r=u5(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function u5(e){var r=m5(e,"string");return un(r)=="symbol"?r:r+""}function m5(e,r){if(un(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(un(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Re(e,r,s){return me(e)||me(r)?s:Ye(r)?gr(e,r,s):le(r)?r(e):s}function Ba(e,r,s,t){var n=cT(e,function(l){return Re(l,r)});if(s==="number"){var i=n.filter(function(l){return W(l)||parseFloat(l)});return i.length?[Bo(i),As(i)]:[1/0,-1/0]}var o=t?n.filter(function(l){return!me(l)}):n;return o.map(function(l){return Ye(l)||l instanceof Date?l:""})}var d5=function(r){var s,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(s=t?.length)!==null&&s!==void 0?s:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var m=u>0?n[u-1].coordinate:n[l-1].coordinate,d=n[u].coordinate,f=u>=l-1?n[0].coordinate:n[u+1].coordinate,p=void 0;if(lr(d-m)!==lr(f-d)){var N=[];if(lr(f-d)===lr(c[1]-c[0])){p=f;var h=d+c[1]-c[0];N[0]=Math.min(h,(h+m)/2),N[1]=Math.max(h,(h+m)/2)}else{p=m;var b=f+c[1]-c[0];N[0]=Math.min(d,(b+d)/2),N[1]=Math.max(d,(b+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(r>v[0]&&r<=v[1]||r>=N[0]&&r<=N[1]){o=n[u].index;break}}else{var j=Math.min(m,f),w=Math.max(m,f);if(r>(j+d)/2&&r<=(w+d)/2){o=n[u].index;break}}}else for(var D=0;D<l;D++)if(D===0&&r<=(t[D].coordinate+t[D+1].coordinate)/2||D>0&&D<l-1&&r>(t[D].coordinate+t[D-1].coordinate)/2&&r<=(t[D].coordinate+t[D+1].coordinate)/2||D===l-1&&r>(t[D].coordinate+t[D-1].coordinate)/2){o=t[D].index;break}return o},Nm=function(r){var s,t=r,n=t.type.displayName,i=(s=r.type)!==null&&s!==void 0&&s.defaultProps?Ie(Ie({},r.type.defaultProps),r.props):r.props,o=i.stroke,l=i.fill,c;switch(n){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},f5=function(r){var s=r.barSize,t=r.totalSize,n=r.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var m=i[l[c]].stackGroups,d=Object.keys(m),f=0,p=d.length;f<p;f++){var N=m[d[f]],h=N.items,b=N.cateAxisId,v=h.filter(function(y){return us(y.type).indexOf("Bar")>=0});if(v&&v.length){var j=v[0].type.defaultProps,w=j!==void 0?Ie(Ie({},j),v[0].props):v[0].props,D=w.barSize,g=w[b];o[g]||(o[g]=[]);var x=me(D)?s:D;o[g].push({item:v[0],stackList:v.slice(1),barSize:me(x)?void 0:cr(x,t,0)})}}return o},p5=function(r){var s=r.barGap,t=r.barCategoryGap,n=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,l=r.maxBarSize,c=o.length;if(c<1)return null;var u=cr(s,n,0,!0),m,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=n/c,N=o.reduce(function(D,g){return D+g.barSize||0},0);N+=(c-1)*u,N>=n&&(N-=(c-1)*u,u=0),N>=n&&p>0&&(f=!0,p*=.9,N=c*p);var h=(n-N)/2>>0,b={offset:h-u,size:0};m=o.reduce(function(D,g){var x={item:g.item,position:{offset:b.offset+b.size+u,size:f?p:g.barSize}},y=[].concat(Jf(D),[x]);return b=y[y.length-1].position,g.stackList&&g.stackList.length&&g.stackList.forEach(function(E){y.push({item:E,position:b})}),y},d)}else{var v=cr(t,n,0,!0);n-2*v-(c-1)*u<=0&&(u=0);var j=(n-2*v-(c-1)*u)/c;j>1&&(j>>=0);var w=l===+l?Math.min(j,l):j;m=o.reduce(function(D,g,x){var y=[].concat(Jf(D),[{item:g.item,position:{offset:v+(j+u)*x+(j-w)/2,size:w}}]);return g.stackList&&g.stackList.length&&g.stackList.forEach(function(E){y.push({item:E,position:y[y.length-1].position})}),y},d)}return m},h5=function(r,s,t,n){var i=t.children,o=t.width,l=t.margin,c=o-(l.left||0)-(l.right||0),u=rv({children:i,legendWidth:c});if(u){var m=n||{},d=m.width,f=m.height,p=u.align,N=u.verticalAlign,h=u.layout;if((h==="vertical"||h==="horizontal"&&N==="middle")&&p!=="center"&&W(r[p]))return Ie(Ie({},r),{},Mt({},p,r[p]+(d||0)));if((h==="horizontal"||h==="vertical"&&p==="center")&&N!=="middle"&&W(r[N]))return Ie(Ie({},r),{},Mt({},N,r[N]+(f||0)))}return r},N5=function(r,s,t){return me(s)?!0:r==="horizontal"?s==="yAxis":r==="vertical"||t==="x"?s==="xAxis":t==="y"?s==="yAxis":!0},sv=function(r,s,t,n,i){var o=s.props.children,l=jr(o,In).filter(function(u){return N5(n,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return r.reduce(function(u,m){var d=Re(m,t);if(me(d))return u;var f=Array.isArray(d)?[Bo(d),As(d)]:[d,d],p=c.reduce(function(N,h){var b=Re(m,h,0),v=f[0]-Math.abs(Array.isArray(b)?b[0]:b),j=f[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,N[0]),Math.max(j,N[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},b5=function(r,s,t,n,i){var o=s.map(function(l){return sv(r,l,t,i,n)}).filter(function(l){return!me(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},tv=function(r,s,t,n,i){var o=s.map(function(c){var u=c.props.dataKey;return t==="number"&&u&&sv(r,c,u,n)||Ba(r,u,t,i)});if(t==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var m=0,d=u.length;m<d;m++)l[u[m]]||(l[u[m]]=!0,c.push(u[m]));return c},[])},av=function(r,s){return r==="horizontal"&&s==="xAxis"||r==="vertical"&&s==="yAxis"||r==="centric"&&s==="angleAxis"||r==="radial"&&s==="radiusAxis"},nv=function(r,s,t,n){if(n)return r.map(function(c){return c.coordinate});var i,o,l=r.map(function(c){return c.coordinate===s&&(i=!0),c.coordinate===t&&(o=!0),c.coordinate});return i||l.push(s),o||l.push(t),l},is=function(r,s,t){if(!r)return null;var n=r.scale,i=r.duplicateDomain,o=r.type,l=r.range,c=r.realScaleType==="scaleBand"?n.bandwidth()/2:2,u=(s||t)&&o==="category"&&n.bandwidth?n.bandwidth()/c:0;if(u=r.axisType==="angleAxis"&&l?.length>=2?lr(l[0]-l[1])*2*u:u,s&&(r.ticks||r.niceTicks)){var m=(r.ticks||r.niceTicks).map(function(d){var f=i?i.indexOf(d):d;return{coordinate:n(f)+u,value:d,offset:u}});return m.filter(function(d){return!ha(d.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(d,f){return{coordinate:n(d)+u,value:d,index:f,offset:u}}):n.ticks&&!t?n.ticks(r.tickCount).map(function(d){return{coordinate:n(d)+u,value:d,offset:u}}):n.domain().map(function(d,f){return{coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}})},Al=new WeakMap,Zn=function(r,s){if(typeof s!="function")return r;Al.has(r)||Al.set(r,new WeakMap);var t=Al.get(r);if(t.has(s))return t.get(s);var n=function(){r.apply(void 0,arguments),s.apply(void 0,arguments)};return t.set(s,n),n},iv=function(r,s,t){var n=r.scale,i=r.type,o=r.layout,l=r.axisType;if(n==="auto")return o==="radial"&&l==="radiusAxis"?{scale:rn(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ii(),realScaleType:"linear"}:i==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!t)?{scale:La(),realScaleType:"point"}:i==="category"?{scale:rn(),realScaleType:"band"}:{scale:Ii(),realScaleType:"linear"};if(tt(n)){var c="scale".concat(Eo(n));return{scale:(Wf[c]||La)(),realScaleType:Wf[c]?c:"point"}}return le(n)?{scale:n}:{scale:La(),realScaleType:"point"}},Qf=1e-4,ov=function(r){var s=r.domain();if(!(!s||s.length<=2)){var t=s.length,n=r.range(),i=Math.min(n[0],n[1])-Qf,o=Math.max(n[0],n[1])+Qf,l=r(s[0]),c=r(s[t-1]);(l<i||l>o||c<i||c>o)&&r.domain([s[0],s[t-1]])}},v5=function(r,s){if(!r)return null;for(var t=0,n=r.length;t<n;t++)if(r[t].item===s)return r[t].position;return null},x5=function(r,s){if(!s||s.length!==2||!W(s[0])||!W(s[1]))return r;var t=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]),i=[r[0],r[1]];return(!W(r[0])||r[0]<t)&&(i[0]=t),(!W(r[1])||r[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<t&&(i[1]=t),i},g5=function(r){var s=r.length;if(!(s<=0))for(var t=0,n=r[0].length;t<n;++t)for(var i=0,o=0,l=0;l<s;++l){var c=ha(r[l][t][1])?r[l][t][0]:r[l][t][1];c>=0?(r[l][t][0]=i,r[l][t][1]=i+c,i=r[l][t][1]):(r[l][t][0]=o,r[l][t][1]=o+c,o=r[l][t][1])}},j5=function(r){var s=r.length;if(!(s<=0))for(var t=0,n=r[0].length;t<n;++t)for(var i=0,o=0;o<s;++o){var l=ha(r[o][t][1])?r[o][t][0]:r[o][t][1];l>=0?(r[o][t][0]=i,r[o][t][1]=i+l,i=r[o][t][1]):(r[o][t][0]=0,r[o][t][1]=0)}},y5={sign:g5,expand:F1,none:$t,silhouette:U1,wiggle:W1,positive:j5},w5=function(r,s,t){var n=s.map(function(l){return l.props.dataKey}),i=y5[t],o=z1().keys(n).value(function(l,c){return+Re(l,c,0)}).order(ec).offset(i);return o(r)},D5=function(r,s,t,n,i,o){if(!r)return null;var l=o?s.reverse():s,c={},u=l.reduce(function(d,f){var p,N=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Ie(Ie({},f.type.defaultProps),f.props):f.props,h=N.stackId,b=N.hide;if(b)return d;var v=N[t],j=d[v]||{hasStack:!1,stackGroups:{}};if(Ye(h)){var w=j.stackGroups[h]||{numericAxisId:t,cateAxisId:n,items:[]};w.items.push(f),j.hasStack=!0,j.stackGroups[h]=w}else j.stackGroups[ht("_stackId_")]={numericAxisId:t,cateAxisId:n,items:[f]};return Ie(Ie({},d),{},Mt({},v,j))},c),m={};return Object.keys(u).reduce(function(d,f){var p=u[f];if(p.hasStack){var N={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(h,b){var v=p.stackGroups[b];return Ie(Ie({},h),{},Mt({},b,{numericAxisId:t,cateAxisId:n,items:v.items,stackedData:w5(r,v.items,i)}))},N)}return Ie(Ie({},d),{},Mt({},f,p))},m)},lv=function(r,s){var t=s.realScaleType,n=s.type,i=s.tickCount,o=s.originalDomain,l=s.allowDecimals,c=t||s.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=r.domain();if(!u.length)return null;var m=LT(u,i,l);return r.domain([Bo(m),As(m)]),{niceTicks:m}}if(i&&n==="number"){var d=r.domain(),f=BT(d,i,l);return{niceTicks:f}}return null};function Wi(e){var r=e.axis,s=e.ticks,t=e.bandSize,n=e.entry,i=e.index,o=e.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!me(n[r.dataKey])){var l=Ni(s,"value",n[r.dataKey]);if(l)return l.coordinate+t/2}return s[i]?s[i].coordinate+t/2:null}var c=Re(n,me(o)?r.dataKey:o);return me(c)?null:r.scale(c)}var ep=function(r){var s=r.axis,t=r.ticks,n=r.offset,i=r.bandSize,o=r.entry,l=r.index;if(s.type==="category")return t[l]?t[l].coordinate+n:null;var c=Re(o,s.dataKey,s.domain[l]);return me(c)?null:s.scale(c)-i/2+n},E5=function(r){var s=r.numericAxis,t=s.scale.domain();if(s.type==="number"){var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return n<=0&&i>=0?0:i<0?i:n}return t[0]},k5=function(r,s){var t,n=(t=r.type)!==null&&t!==void 0&&t.defaultProps?Ie(Ie({},r.type.defaultProps),r.props):r.props,i=n.stackId;if(Ye(i)){var o=s[i];if(o){var l=o.items.indexOf(r);return l>=0?o.stackedData[l]:null}}return null},V5=function(r){return r.reduce(function(s,t){return[Bo(t.concat([s[0]]).filter(W)),As(t.concat([s[1]]).filter(W))]},[1/0,-1/0])},cv=function(r,s,t){return Object.keys(r).reduce(function(n,i){var o=r[i],l=o.stackedData,c=l.reduce(function(u,m){var d=V5(m.slice(s,t+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},rp=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sp=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ac=function(r,s,t){if(le(r))return r(s,t);if(!Array.isArray(r))return s;var n=[];if(W(r[0]))n[0]=t?r[0]:Math.min(r[0],s[0]);else if(rp.test(r[0])){var i=+rp.exec(r[0])[1];n[0]=s[0]-i}else le(r[0])?n[0]=r[0](s[0]):n[0]=s[0];if(W(r[1]))n[1]=t?r[1]:Math.max(r[1],s[1]);else if(sp.test(r[1])){var o=+sp.exec(r[1])[1];n[1]=s[1]+o}else le(r[1])?n[1]=r[1](s[1]):n[1]=s[1];return n},qi=function(r,s,t){if(r&&r.scale&&r.scale.bandwidth){var n=r.scale.bandwidth();if(!t||n>0)return n}if(r&&s&&s.length>=2){for(var i=Wu(s,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],m=i[l-1];o=Math.min((u.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return t?void 0:0},tp=function(r,s,t){return!r||!r.length||it(r,gr(t,"type.defaultProps.domain"))?s:r},uv=function(r,s){var t=r.type.defaultProps?Ie(Ie({},r.type.defaultProps),r.props):r.props,n=t.dataKey,i=t.name,o=t.unit,l=t.formatter,c=t.tooltipType,u=t.chartType,m=t.hide;return Ie(Ie({},ae(r,!1)),{},{dataKey:n,unit:o,formatter:l,name:i||n,color:Nm(r),value:Re(s,n),type:c,payload:s,chartType:u,hide:m})};function mn(e){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mn(e)}function ap(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function ss(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ap(Object(s),!0).forEach(function(t){mv(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ap(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function mv(e,r,s){return r=S5(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function S5(e){var r=P5(e,"string");return mn(r)=="symbol"?r:r+""}function P5(e,r){if(mn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(mn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function A5(e,r){return T5(e)||C5(e,r)||O5(e,r)||_5()}function _5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O5(e,r){if(e){if(typeof e=="string")return np(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return np(e,r)}}function np(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function C5(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r!==0)for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function T5(e){if(Array.isArray(e))return e}var Ki=Math.PI/180,M5=function(r){return r*180/Math.PI},Pe=function(r,s,t,n){return{x:r+Math.cos(-Ki*n)*t,y:s+Math.sin(-Ki*n)*t}},dv=function(r,s){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(t.left||0)-(t.right||0)),Math.abs(s-(t.top||0)-(t.bottom||0)))/2},$5=function(r,s,t,n,i){var o=r.width,l=r.height,c=r.startAngle,u=r.endAngle,m=cr(r.cx,o,o/2),d=cr(r.cy,l,l/2),f=dv(o,l,t),p=cr(r.innerRadius,f,0),N=cr(r.outerRadius,f,f*.8),h=Object.keys(s);return h.reduce(function(b,v){var j=s[v],w=j.domain,D=j.reversed,g;if(me(j.range))n==="angleAxis"?g=[c,u]:n==="radiusAxis"&&(g=[p,N]),D&&(g=[g[1],g[0]]);else{g=j.range;var x=g,y=A5(x,2);c=y[0],u=y[1]}var E=iv(j,i),k=E.realScaleType,_=E.scale;_.domain(w).range(g),ov(_);var A=lv(_,ss(ss({},j),{},{realScaleType:k})),P=ss(ss(ss({},j),A),{},{range:g,radius:N,realScaleType:k,scale:_,cx:m,cy:d,innerRadius:p,outerRadius:N,startAngle:c,endAngle:u});return ss(ss({},b),{},mv({},v,P))},{})},I5=function(r,s){var t=r.x,n=r.y,i=s.x,o=s.y;return Math.sqrt(Math.pow(t-i,2)+Math.pow(n-o,2))},R5=function(r,s){var t=r.x,n=r.y,i=s.cx,o=s.cy,l=I5({x:t,y:n},{x:i,y:o});if(l<=0)return{radius:l};var c=(t-i)/l,u=Math.acos(c);return n>o&&(u=2*Math.PI-u),{radius:l,angle:M5(u),angleInRadian:u}},L5=function(r){var s=r.startAngle,t=r.endAngle,n=Math.floor(s/360),i=Math.floor(t/360),o=Math.min(n,i);return{startAngle:s-o*360,endAngle:t-o*360}},B5=function(r,s){var t=s.startAngle,n=s.endAngle,i=Math.floor(t/360),o=Math.floor(n/360),l=Math.min(i,o);return r+l*360},ip=function(r,s){var t=r.x,n=r.y,i=R5({x:t,y:n},s),o=i.radius,l=i.angle,c=s.innerRadius,u=s.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var m=L5(s),d=m.startAngle,f=m.endAngle,p=l,N;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;N=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;N=p>=f&&p<=d}return N?ss(ss({},s),{},{radius:o,angle:B5(p,s)}):null},fv=function(r){return!S.isValidElement(r)&&!le(r)&&typeof r!="boolean"?r.className:""};function dn(e){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dn(e)}var z5=["offset"];function F5(e){return K5(e)||q5(e)||W5(e)||U5()}function U5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W5(e,r){if(e){if(typeof e=="string")return _c(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _c(e,r)}}function q5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K5(e){if(Array.isArray(e))return _c(e)}function _c(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function G5(e,r){if(e==null)return{};var s=H5(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function H5(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function op(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Ge(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?op(Object(s),!0).forEach(function(t){X5(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):op(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function X5(e,r,s){return r=Y5(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Y5(e){var r=J5(e,"string");return dn(r)=="symbol"?r:r+""}function J5(e,r){if(dn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(dn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},fn.apply(this,arguments)}var Z5=function(r){var s=r.value,t=r.formatter,n=me(r.children)?s:r.children;return le(t)?t(n):n},Q5=function(r,s){var t=lr(s-r),n=Math.min(Math.abs(s-r),360);return t*n},eM=function(r,s,t){var n=r.position,i=r.viewBox,o=r.offset,l=r.className,c=i,u=c.cx,m=c.cy,d=c.innerRadius,f=c.outerRadius,p=c.startAngle,N=c.endAngle,h=c.clockWise,b=(d+f)/2,v=Q5(p,N),j=v>=0?1:-1,w,D;n==="insideStart"?(w=p+j*o,D=h):n==="insideEnd"?(w=N-j*o,D=!h):n==="end"&&(w=N+j*o,D=h),D=v<=0?D:!D;var g=Pe(u,m,b,w),x=Pe(u,m,b,w+(D?1:-1)*359),y="M".concat(g.x,",").concat(g.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(D?0:1,`,
    `).concat(x.x,",").concat(x.y),E=me(r.id)?ht("recharts-radial-line-"):r.id;return V.createElement("text",fn({},t,{dominantBaseline:"central",className:pe("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:E,d:y})),V.createElement("textPath",{xlinkHref:"#".concat(E)},s))},rM=function(r){var s=r.viewBox,t=r.offset,n=r.position,i=s,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,m=i.startAngle,d=i.endAngle,f=(m+d)/2;if(n==="outside"){var p=Pe(o,l,u+t,f),N=p.x,h=p.y;return{x:N,y:h,textAnchor:N>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,v=Pe(o,l,b,f),j=v.x,w=v.y;return{x:j,y:w,textAnchor:"middle",verticalAnchor:"middle"}},sM=function(r){var s=r.viewBox,t=r.parentViewBox,n=r.offset,i=r.position,o=s,l=o.x,c=o.y,u=o.width,m=o.height,d=m>=0?1:-1,f=d*n,p=d>0?"end":"start",N=d>0?"start":"end",h=u>=0?1:-1,b=h*n,v=h>0?"end":"start",j=h>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-d*n,textAnchor:"middle",verticalAnchor:p};return Ge(Ge({},w),t?{height:Math.max(c-t.y,0),width:u}:{})}if(i==="bottom"){var D={x:l+u/2,y:c+m+f,textAnchor:"middle",verticalAnchor:N};return Ge(Ge({},D),t?{height:Math.max(t.y+t.height-(c+m),0),width:u}:{})}if(i==="left"){var g={x:l-b,y:c+m/2,textAnchor:v,verticalAnchor:"middle"};return Ge(Ge({},g),t?{width:Math.max(g.x-t.x,0),height:m}:{})}if(i==="right"){var x={x:l+u+b,y:c+m/2,textAnchor:j,verticalAnchor:"middle"};return Ge(Ge({},x),t?{width:Math.max(t.x+t.width-x.x,0),height:m}:{})}var y=t?{width:u,height:m}:{};return i==="insideLeft"?Ge({x:l+b,y:c+m/2,textAnchor:j,verticalAnchor:"middle"},y):i==="insideRight"?Ge({x:l+u-b,y:c+m/2,textAnchor:v,verticalAnchor:"middle"},y):i==="insideTop"?Ge({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:N},y):i==="insideBottom"?Ge({x:l+u/2,y:c+m-f,textAnchor:"middle",verticalAnchor:p},y):i==="insideTopLeft"?Ge({x:l+b,y:c+f,textAnchor:j,verticalAnchor:N},y):i==="insideTopRight"?Ge({x:l+u-b,y:c+f,textAnchor:v,verticalAnchor:N},y):i==="insideBottomLeft"?Ge({x:l+b,y:c+m-f,textAnchor:j,verticalAnchor:p},y):i==="insideBottomRight"?Ge({x:l+u-b,y:c+m-f,textAnchor:v,verticalAnchor:p},y):ma(i)&&(W(i.x)||Xs(i.x))&&(W(i.y)||Xs(i.y))?Ge({x:l+cr(i.x,u),y:c+cr(i.y,m),textAnchor:"end",verticalAnchor:"end"},y):Ge({x:l+u/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},y)},tM=function(r){return"cx"in r&&W(r.cx)};function Qe(e){var r=e.offset,s=r===void 0?5:r,t=G5(e,z5),n=Ge({offset:s},t),i=n.viewBox,o=n.position,l=n.value,c=n.children,u=n.content,m=n.className,d=m===void 0?"":m,f=n.textBreakAll;if(!i||me(l)&&me(c)&&!S.isValidElement(u)&&!le(u))return null;if(S.isValidElement(u))return S.cloneElement(u,n);var p;if(le(u)){if(p=S.createElement(u,n),S.isValidElement(p))return p}else p=Z5(n);var N=tM(i),h=ae(n,!0);if(N&&(o==="insideStart"||o==="insideEnd"||o==="end"))return eM(n,p,h);var b=N?rM(n):sM(n);return V.createElement(nt,fn({className:pe("recharts-label",d)},h,b,{breakAll:f}),p)}Qe.displayName="Label";var pv=function(r){var s=r.cx,t=r.cy,n=r.angle,i=r.startAngle,o=r.endAngle,l=r.r,c=r.radius,u=r.innerRadius,m=r.outerRadius,d=r.x,f=r.y,p=r.top,N=r.left,h=r.width,b=r.height,v=r.clockWise,j=r.labelViewBox;if(j)return j;if(W(h)&&W(b)){if(W(d)&&W(f))return{x:d,y:f,width:h,height:b};if(W(p)&&W(N))return{x:p,y:N,width:h,height:b}}return W(d)&&W(f)?{x:d,y:f,width:0,height:0}:W(s)&&W(t)?{cx:s,cy:t,startAngle:i||n||0,endAngle:o||n||0,innerRadius:u||0,outerRadius:m||c||l||0,clockWise:v}:r.viewBox?r.viewBox:{}},aM=function(r,s){return r?r===!0?V.createElement(Qe,{key:"label-implicit",viewBox:s}):Ye(r)?V.createElement(Qe,{key:"label-implicit",viewBox:s,value:r}):S.isValidElement(r)?r.type===Qe?S.cloneElement(r,{key:"label-implicit",viewBox:s}):V.createElement(Qe,{key:"label-implicit",content:r,viewBox:s}):le(r)?V.createElement(Qe,{key:"label-implicit",content:r,viewBox:s}):ma(r)?V.createElement(Qe,fn({viewBox:s},r,{key:"label-implicit"})):null:null},nM=function(r,s){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&t&&!r.label)return null;var n=r.children,i=pv(r),o=jr(n,Qe).map(function(c,u){return S.cloneElement(c,{viewBox:s||i,key:"label-".concat(u)})});if(!t)return o;var l=aM(r.label,s||i);return[l].concat(F5(o))};Qe.parseViewBox=pv;Qe.renderCallByParent=nM;function iM(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var oM=iM;const lM=Ee(oM);function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pn(e)}var cM=["valueAccessor"],uM=["data","dataKey","clockWise","id","textBreakAll"];function mM(e){return hM(e)||pM(e)||fM(e)||dM()}function dM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fM(e,r){if(e){if(typeof e=="string")return Oc(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Oc(e,r)}}function pM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hM(e){if(Array.isArray(e))return Oc(e)}function Oc(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Gi.apply(this,arguments)}function lp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function cp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?lp(Object(s),!0).forEach(function(t){NM(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function NM(e,r,s){return r=bM(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function bM(e){var r=vM(e,"string");return pn(r)=="symbol"?r:r+""}function vM(e,r){if(pn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(pn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function up(e,r){if(e==null)return{};var s=xM(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function xM(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}var gM=function(r){return Array.isArray(r.value)?lM(r.value):r.value};function Wr(e){var r=e.valueAccessor,s=r===void 0?gM:r,t=up(e,cM),n=t.data,i=t.dataKey,o=t.clockWise,l=t.id,c=t.textBreakAll,u=up(t,uM);return!n||!n.length?null:V.createElement(Ne,{className:"recharts-label-list"},n.map(function(m,d){var f=me(i)?s(m,d):Re(m&&m.payload,i),p=me(l)?{}:{id:"".concat(l,"-").concat(d)};return V.createElement(Qe,Gi({},ae(m,!0),u,p,{parentViewBox:m.parentViewBox,value:f,textBreakAll:c,viewBox:Qe.parseViewBox(me(o)?m:cp(cp({},m),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Wr.displayName="LabelList";function jM(e,r){return e?e===!0?V.createElement(Wr,{key:"labelList-implicit",data:r}):V.isValidElement(e)||le(e)?V.createElement(Wr,{key:"labelList-implicit",data:r,content:e}):ma(e)?V.createElement(Wr,Gi({data:r},e,{key:"labelList-implicit"})):null:null}function yM(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var t=e.children,n=jr(t,Wr).map(function(o,l){return S.cloneElement(o,{data:r,key:"labelList-".concat(l)})});if(!s)return n;var i=jM(e.label,r);return[i].concat(mM(n))}Wr.renderCallByParent=yM;function hn(e){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hn(e)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Cc.apply(this,arguments)}function mp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function dp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?mp(Object(s),!0).forEach(function(t){wM(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function wM(e,r,s){return r=DM(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function DM(e){var r=EM(e,"string");return hn(r)=="symbol"?r:r+""}function EM(e,r){if(hn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(hn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var kM=function(r,s){var t=lr(s-r),n=Math.min(Math.abs(s-r),359.999);return t*n},Qn=function(r){var s=r.cx,t=r.cy,n=r.radius,i=r.angle,o=r.sign,l=r.isExternal,c=r.cornerRadius,u=r.cornerIsExternal,m=c*(l?1:-1)+n,d=Math.asin(c/m)/Ki,f=u?i:i+o*d,p=Pe(s,t,m,f),N=Pe(s,t,n,f),h=u?i-o*d:i,b=Pe(s,t,m*Math.cos(d*Ki),h);return{center:p,circleTangency:N,lineTangency:b,theta:d}},hv=function(r){var s=r.cx,t=r.cy,n=r.innerRadius,i=r.outerRadius,o=r.startAngle,l=r.endAngle,c=kM(o,l),u=o+c,m=Pe(s,t,i,o),d=Pe(s,t,i,u),f="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=Pe(s,t,n,o),N=Pe(s,t,n,u);f+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(s,",").concat(t," Z");return f},VM=function(r){var s=r.cx,t=r.cy,n=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,m=r.endAngle,d=lr(m-u),f=Qn({cx:s,cy:t,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,N=f.lineTangency,h=f.theta,b=Qn({cx:s,cy:t,radius:i,angle:m,sign:-d,cornerRadius:o,cornerIsExternal:c}),v=b.circleTangency,j=b.lineTangency,w=b.theta,D=c?Math.abs(u-m):Math.abs(u-m)-h-w;if(D<0)return l?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):hv({cx:s,cy:t,innerRadius:n,outerRadius:i,startAngle:u,endAngle:m});var g="M ".concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
  `);if(n>0){var x=Qn({cx:s,cy:t,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),y=x.circleTangency,E=x.lineTangency,k=x.theta,_=Qn({cx:s,cy:t,radius:n,angle:m,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=_.circleTangency,P=_.lineTangency,T=_.theta,M=c?Math.abs(u-m):Math.abs(u-m)-k-T;if(M<0&&o===0)return"".concat(g,"L").concat(s,",").concat(t,"Z");g+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else g+="L".concat(s,",").concat(t,"Z");return g},SM={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Nv=function(r){var s=dp(dp({},SM),r),t=s.cx,n=s.cy,i=s.innerRadius,o=s.outerRadius,l=s.cornerRadius,c=s.forceCornerRadius,u=s.cornerIsExternal,m=s.startAngle,d=s.endAngle,f=s.className;if(o<i||m===d)return null;var p=pe("recharts-sector",f),N=o-i,h=cr(l,N,0,!0),b;return h>0&&Math.abs(m-d)<360?b=VM({cx:t,cy:n,innerRadius:i,outerRadius:o,cornerRadius:Math.min(h,N/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:d}):b=hv({cx:t,cy:n,innerRadius:i,outerRadius:o,startAngle:m,endAngle:d}),V.createElement("path",Cc({},ae(s,!0),{className:p,d:b,role:"img"}))};function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nn(e)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Tc.apply(this,arguments)}function fp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function pp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?fp(Object(s),!0).forEach(function(t){PM(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function PM(e,r,s){return r=AM(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function AM(e){var r=_M(e,"string");return Nn(r)=="symbol"?r:r+""}function _M(e,r){if(Nn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Nn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var hp={curveBasisClosed:A1,curveBasisOpen:_1,curveBasis:P1,curveBumpX:h1,curveBumpY:N1,curveLinearClosed:O1,curveLinear:Vo,curveMonotoneX:C1,curveMonotoneY:T1,curveNatural:M1,curveStep:$1,curveStepAfter:R1,curveStepBefore:I1},ei=function(r){return r.x===+r.x&&r.y===+r.y},Pa=function(r){return r.x},Aa=function(r){return r.y},OM=function(r,s){if(le(r))return r;var t="curve".concat(Eo(r));return(t==="curveMonotone"||t==="curveBump")&&s?hp["".concat(t).concat(s==="vertical"?"Y":"X")]:hp[t]||Vo},CM=function(r){var s=r.type,t=s===void 0?"linear":s,n=r.points,i=n===void 0?[]:n,o=r.baseLine,l=r.layout,c=r.connectNulls,u=c===void 0?!1:c,m=OM(t,l),d=u?i.filter(function(h){return ei(h)}):i,f;if(Array.isArray(o)){var p=u?o.filter(function(h){return ei(h)}):o,N=d.map(function(h,b){return pp(pp({},h),{},{base:p[b]})});return l==="vertical"?f=Wn().y(Aa).x1(Pa).x0(function(h){return h.base.x}):f=Wn().x(Pa).y1(Aa).y0(function(h){return h.base.y}),f.defined(ei).curve(m),f(N)}return l==="vertical"&&W(o)?f=Wn().y(Aa).x1(Pa).x0(o):W(o)?f=Wn().x(Pa).y1(Aa).y0(o):f=cN().x(Pa).y(Aa),f.defined(ei).curve(m),f(d)},st=function(r){var s=r.className,t=r.points,n=r.path,i=r.pathRef;if((!t||!t.length)&&!n)return null;var o=t&&t.length?CM(r):n;return S.createElement("path",Tc({},ae(r,!1),bi(r),{className:pe("recharts-curve",s),d:o,ref:i}))};function bn(e){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bn(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Hi.apply(this,arguments)}function TM(e,r){return RM(e)||IM(e,r)||$M(e,r)||MM()}function MM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $M(e,r){if(e){if(typeof e=="string")return Np(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Np(e,r)}}function Np(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function IM(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r!==0)for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function RM(e){if(Array.isArray(e))return e}function bp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function vp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?bp(Object(s),!0).forEach(function(t){LM(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function LM(e,r,s){return r=BM(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function BM(e){var r=zM(e,"string");return bn(r)=="symbol"?r:r+""}function zM(e,r){if(bn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(bn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xp=function(r,s,t,n,i){var o=Math.min(Math.abs(t)/2,Math.abs(n)/2),l=n>=0?1:-1,c=t>=0?1:-1,u=n>=0&&t>=0||n<0&&t<0?1:0,m;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=i[f]>o?o:i[f];m="M".concat(r,",").concat(s+l*d[0]),d[0]>0&&(m+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(r+c*d[0],",").concat(s)),m+="L ".concat(r+t-c*d[1],",").concat(s),d[1]>0&&(m+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(r+t,",").concat(s+l*d[1])),m+="L ".concat(r+t,",").concat(s+n-l*d[2]),d[2]>0&&(m+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(r+t-c*d[2],",").concat(s+n)),m+="L ".concat(r+c*d[3],",").concat(s+n),d[3]>0&&(m+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(r,",").concat(s+n-l*d[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var N=Math.min(o,i);m="M ".concat(r,",").concat(s+l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(r+c*N,",").concat(s,`
            L `).concat(r+t-c*N,",").concat(s,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(r+t,",").concat(s+l*N,`
            L `).concat(r+t,",").concat(s+n-l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(r+t-c*N,",").concat(s+n,`
            L `).concat(r+c*N,",").concat(s+n,`
            A `).concat(N,",").concat(N,",0,0,").concat(u,",").concat(r,",").concat(s+n-l*N," Z")}else m="M ".concat(r,",").concat(s," h ").concat(t," v ").concat(n," h ").concat(-t," Z");return m},FM=function(r,s){if(!r||!s)return!1;var t=r.x,n=r.y,i=s.x,o=s.y,l=s.width,c=s.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),m=Math.max(i,i+l),d=Math.min(o,o+c),f=Math.max(o,o+c);return t>=u&&t<=m&&n>=d&&n<=f}return!1},UM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bm=function(r){var s=vp(vp({},UM),r),t=S.useRef(),n=S.useState(-1),i=TM(n,2),o=i[0],l=i[1];S.useEffect(function(){if(t.current&&t.current.getTotalLength)try{var D=t.current.getTotalLength();D&&l(D)}catch{}},[]);var c=s.x,u=s.y,m=s.width,d=s.height,f=s.radius,p=s.className,N=s.animationEasing,h=s.animationDuration,b=s.animationBegin,v=s.isAnimationActive,j=s.isUpdateAnimationActive;if(c!==+c||u!==+u||m!==+m||d!==+d||m===0||d===0)return null;var w=pe("recharts-rectangle",p);return j?V.createElement(Ts,{canBegin:o>0,from:{width:m,height:d,x:c,y:u},to:{width:m,height:d,x:c,y:u},duration:h,animationEasing:N,isActive:j},function(D){var g=D.width,x=D.height,y=D.x,E=D.y;return V.createElement(Ts,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:h,isActive:v,easing:N},V.createElement("path",Hi({},ae(s,!0),{className:w,d:xp(y,E,g,x,f),ref:t})))}):V.createElement("path",Hi({},ae(s,!0),{className:w,d:xp(c,u,m,d,f)}))},WM=["points","className","baseLinePoints","connectNulls"];function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Et.apply(this,arguments)}function qM(e,r){if(e==null)return{};var s=KM(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function KM(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function gp(e){return YM(e)||XM(e)||HM(e)||GM()}function GM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HM(e,r){if(e){if(typeof e=="string")return Mc(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Mc(e,r)}}function XM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YM(e){if(Array.isArray(e))return Mc(e)}function Mc(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}var jp=function(r){return r&&r.x===+r.x&&r.y===+r.y},JM=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=[[]];return r.forEach(function(t){jp(t)?s[s.length-1].push(t):s[s.length-1].length>0&&s.push([])}),jp(r[0])&&s[s.length-1].push(r[0]),s[s.length-1].length<=0&&(s=s.slice(0,-1)),s},za=function(r,s){var t=JM(r);s&&(t=[t.reduce(function(i,o){return[].concat(gp(i),gp(o))},[])]);var n=t.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return t.length===1?"".concat(n,"Z"):n},ZM=function(r,s,t){var n=za(r,t);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(za(s.reverse(),t).slice(1))},QM=function(r){var s=r.points,t=r.className,n=r.baseLinePoints,i=r.connectNulls,o=qM(r,WM);if(!s||!s.length)return null;var l=pe("recharts-polygon",t);if(n&&n.length){var c=o.stroke&&o.stroke!=="none",u=ZM(s,n,i);return V.createElement("g",{className:l},V.createElement("path",Et({},ae(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?V.createElement("path",Et({},ae(o,!0),{fill:"none",d:za(s,i)})):null,c?V.createElement("path",Et({},ae(o,!0),{fill:"none",d:za(n,i)})):null)}var m=za(s,i);return V.createElement("path",Et({},ae(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",className:l,d:m}))};function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},$c.apply(this,arguments)}var Rn=function(r){var s=r.cx,t=r.cy,n=r.r,i=r.className,o=pe("recharts-dot",i);return s===+s&&t===+t&&n===+n?S.createElement("circle",$c({},ae(r,!1),bi(r),{className:o,cx:s,cy:t,r:n})):null};function vn(e){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vn(e)}var e4=["x","y","top","left","width","height","className"];function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Ic.apply(this,arguments)}function yp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function r4(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?yp(Object(s),!0).forEach(function(t){s4(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function s4(e,r,s){return r=t4(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function t4(e){var r=a4(e,"string");return vn(r)=="symbol"?r:r+""}function a4(e,r){if(vn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(vn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function n4(e,r){if(e==null)return{};var s=i4(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function i4(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}var o4=function(r,s,t,n,i,o){return"M".concat(r,",").concat(i,"v").concat(n,"M").concat(o,",").concat(s,"h").concat(t)},l4=function(r){var s=r.x,t=s===void 0?0:s,n=r.y,i=n===void 0?0:n,o=r.top,l=o===void 0?0:o,c=r.left,u=c===void 0?0:c,m=r.width,d=m===void 0?0:m,f=r.height,p=f===void 0?0:f,N=r.className,h=n4(r,e4),b=r4({x:t,y:i,top:l,left:u,width:d,height:p},h);return!W(t)||!W(i)||!W(d)||!W(p)||!W(l)||!W(u)?null:V.createElement("path",Ic({},ae(b,!0),{className:pe("recharts-cross",N),d:o4(t,i,d,p,l,u)}))},c4=Lo,u4=Rb,m4=Qr;function d4(e,r){return e&&e.length?c4(e,m4(r),u4):void 0}var f4=d4;const p4=Ee(f4);var h4=Lo,N4=Qr,b4=Lb;function v4(e,r){return e&&e.length?h4(e,N4(r),b4):void 0}var x4=v4;const g4=Ee(x4);var j4=["cx","cy","angle","ticks","axisLine"],y4=["ticks","tick","angle","tickFormatter","stroke"];function qt(e){"@babel/helpers - typeof";return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qt(e)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Fa.apply(this,arguments)}function wp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Us(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?wp(Object(s),!0).forEach(function(t){Uo(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Dp(e,r){if(e==null)return{};var s=w4(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function w4(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function D4(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ep(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,vv(t.key),t)}}function E4(e,r,s){return r&&Ep(e.prototype,r),s&&Ep(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function k4(e,r,s){return r=Xi(r),V4(e,bv()?Reflect.construct(r,s||[],Xi(e).constructor):r.apply(e,s))}function V4(e,r){if(r&&(qt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S4(e)}function S4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bv=function(){return!!e})()}function Xi(e){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Xi(e)}function P4(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Rc(e,r)}function Rc(e,r){return Rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Rc(e,r)}function Uo(e,r,s){return r=vv(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function vv(e){var r=A4(e,"string");return qt(r)=="symbol"?r:r+""}function A4(e,r){if(qt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(qt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wo=function(e){function r(){return D4(this,r),k4(this,r,arguments)}return P4(r,e),E4(r,[{key:"getTickValueCoord",value:function(t){var n=t.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Pe(l,c,n,o)}},{key:"getTickTextAnchor",value:function(){var t=this.props.orientation,n;switch(t){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n}},{key:"getViewBox",value:function(){var t=this.props,n=t.cx,i=t.cy,o=t.angle,l=t.ticks,c=p4(l,function(m){return m.coordinate||0}),u=g4(l,function(m){return m.coordinate||0});return{cx:n,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var t=this.props,n=t.cx,i=t.cy,o=t.angle,l=t.ticks,c=t.axisLine,u=Dp(t,j4),m=l.reduce(function(N,h){return[Math.min(N[0],h.coordinate),Math.max(N[1],h.coordinate)]},[1/0,-1/0]),d=Pe(n,i,m[0],o),f=Pe(n,i,m[1],o),p=Us(Us(Us({},ae(u,!1)),{},{fill:"none"},ae(c,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return V.createElement("line",Fa({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var t=this,n=this.props,i=n.ticks,o=n.tick,l=n.angle,c=n.tickFormatter,u=n.stroke,m=Dp(n,y4),d=this.getTickTextAnchor(),f=ae(m,!1),p=ae(o,!1),N=i.map(function(h,b){var v=t.getTickValueCoord(h),j=Us(Us(Us(Us({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:b},v),{},{payload:h});return V.createElement(Ne,Fa({className:pe("recharts-polar-radius-axis-tick",fv(o)),key:"tick-".concat(h.coordinate)},at(t.props,h,b)),r.renderTickItem(o,j,c?c(h.value,b):h.value))});return V.createElement(Ne,{className:"recharts-polar-radius-axis-ticks"},N)}},{key:"render",value:function(){var t=this.props,n=t.ticks,i=t.axisLine,o=t.tick;return!n||!n.length?null:V.createElement(Ne,{className:pe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Qe.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(t,n,i){var o;return V.isValidElement(t)?o=V.cloneElement(t,n):le(t)?o=t(n):o=V.createElement(nt,Fa({},n,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(S.PureComponent);Uo(Wo,"displayName","PolarRadiusAxis");Uo(Wo,"axisType","radiusAxis");Uo(Wo,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Kt(e){"@babel/helpers - typeof";return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kt(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Hs.apply(this,arguments)}function kp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Ws(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?kp(Object(s),!0).forEach(function(t){qo(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function _4(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vp(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,gv(t.key),t)}}function O4(e,r,s){return r&&Vp(e.prototype,r),s&&Vp(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function C4(e,r,s){return r=Yi(r),T4(e,xv()?Reflect.construct(r,s||[],Yi(e).constructor):r.apply(e,s))}function T4(e,r){if(r&&(Kt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M4(e)}function M4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xv=function(){return!!e})()}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Yi(e)}function $4(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Lc(e,r)}function Lc(e,r){return Lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Lc(e,r)}function qo(e,r,s){return r=gv(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function gv(e){var r=I4(e,"string");return Kt(r)=="symbol"?r:r+""}function I4(e,r){if(Kt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Kt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R4=Math.PI/180,Sp=1e-5,Ko=function(e){function r(){return _4(this,r),C4(this,r,arguments)}return $4(r,e),O4(r,[{key:"getTickLineCoord",value:function(t){var n=this.props,i=n.cx,o=n.cy,l=n.radius,c=n.orientation,u=n.tickSize,m=u||8,d=Pe(i,o,l,t.coordinate),f=Pe(i,o,l+(c==="inner"?-1:1)*m,t.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(t){var n=this.props.orientation,i=Math.cos(-t.coordinate*R4),o;return i>Sp?o=n==="outer"?"start":"end":i<-Sp?o=n==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var t=this.props,n=t.cx,i=t.cy,o=t.radius,l=t.axisLine,c=t.axisLineType,u=Ws(Ws({},ae(this.props,!1)),{},{fill:"none"},ae(l,!1));if(c==="circle")return V.createElement(Rn,Hs({className:"recharts-polar-angle-axis-line"},u,{cx:n,cy:i,r:o}));var m=this.props.ticks,d=m.map(function(f){return Pe(n,i,o,f.coordinate)});return V.createElement(QM,Hs({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,i=n.ticks,o=n.tick,l=n.tickLine,c=n.tickFormatter,u=n.stroke,m=ae(this.props,!1),d=ae(o,!1),f=Ws(Ws({},m),{},{fill:"none"},ae(l,!1)),p=i.map(function(N,h){var b=t.getTickLineCoord(N),v=t.getTickTextAnchor(N),j=Ws(Ws(Ws({textAnchor:v},m),{},{stroke:"none",fill:u},d),{},{index:h,payload:N,x:b.x2,y:b.y2});return V.createElement(Ne,Hs({className:pe("recharts-polar-angle-axis-tick",fv(o)),key:"tick-".concat(N.coordinate)},at(t.props,N,h)),l&&V.createElement("line",Hs({className:"recharts-polar-angle-axis-tick-line"},f,b)),o&&r.renderTickItem(o,j,c?c(N.value,h):N.value))});return V.createElement(Ne,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var t=this.props,n=t.ticks,i=t.radius,o=t.axisLine;return i<=0||!n||!n.length?null:V.createElement(Ne,{className:pe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(t,n,i){var o;return V.isValidElement(t)?o=V.cloneElement(t,n):le(t)?o=t(n):o=V.createElement(nt,Hs({},n,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(S.PureComponent);qo(Ko,"displayName","PolarAngleAxis");qo(Ko,"axisType","angleAxis");qo(Ko,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var L4=CN,B4=L4(Object.getPrototypeOf,Object),z4=B4,F4=js,U4=z4,W4=ys,q4="[object Object]",K4=Function.prototype,G4=Object.prototype,jv=K4.toString,H4=G4.hasOwnProperty,X4=jv.call(Object);function Y4(e){if(!W4(e)||F4(e)!=q4)return!1;var r=U4(e);if(r===null)return!0;var s=H4.call(r,"constructor")&&r.constructor;return typeof s=="function"&&s instanceof s&&jv.call(s)==X4}var J4=Y4;const Z4=Ee(J4);var Q4=js,e$=ys,r$="[object Boolean]";function s$(e){return e===!0||e===!1||e$(e)&&Q4(e)==r$}var t$=s$;const a$=Ee(t$);function xn(e){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xn(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Ji.apply(this,arguments)}function n$(e,r){return c$(e)||l$(e,r)||o$(e,r)||i$()}function i$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$(e,r){if(e){if(typeof e=="string")return Pp(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Pp(e,r)}}function Pp(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function l$(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r!==0)for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function c$(e){if(Array.isArray(e))return e}function Ap(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function _p(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Ap(Object(s),!0).forEach(function(t){u$(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ap(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function u$(e,r,s){return r=m$(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function m$(e){var r=d$(e,"string");return xn(r)=="symbol"?r:r+""}function d$(e,r){if(xn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(xn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Op=function(r,s,t,n,i){var o=t-n,l;return l="M ".concat(r,",").concat(s),l+="L ".concat(r+t,",").concat(s),l+="L ".concat(r+t-o/2,",").concat(s+i),l+="L ".concat(r+t-o/2-n,",").concat(s+i),l+="L ".concat(r,",").concat(s," Z"),l},f$={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},p$=function(r){var s=_p(_p({},f$),r),t=S.useRef(),n=S.useState(-1),i=n$(n,2),o=i[0],l=i[1];S.useEffect(function(){if(t.current&&t.current.getTotalLength)try{var w=t.current.getTotalLength();w&&l(w)}catch{}},[]);var c=s.x,u=s.y,m=s.upperWidth,d=s.lowerWidth,f=s.height,p=s.className,N=s.animationEasing,h=s.animationDuration,b=s.animationBegin,v=s.isUpdateAnimationActive;if(c!==+c||u!==+u||m!==+m||d!==+d||f!==+f||m===0&&d===0||f===0)return null;var j=pe("recharts-trapezoid",p);return v?V.createElement(Ts,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:m,lowerWidth:d,height:f,x:c,y:u},duration:h,animationEasing:N,isActive:v},function(w){var D=w.upperWidth,g=w.lowerWidth,x=w.height,y=w.x,E=w.y;return V.createElement(Ts,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:h,easing:N},V.createElement("path",Ji({},ae(s,!0),{className:j,d:Op(y,E,D,g,x),ref:t})))}):V.createElement("g",null,V.createElement("path",Ji({},ae(s,!0),{className:j,d:Op(c,u,m,d,f)})))},h$=["option","shapeType","propTransformer","activeClassName","isActive"];function gn(e){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gn(e)}function N$(e,r){if(e==null)return{};var s=b$(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function b$(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function Cp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Zi(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Cp(Object(s),!0).forEach(function(t){v$(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Cp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function v$(e,r,s){return r=x$(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function x$(e){var r=g$(e,"string");return gn(r)=="symbol"?r:r+""}function g$(e,r){if(gn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(gn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function j$(e,r){return Zi(Zi({},r),e)}function y$(e,r){return e==="symbols"}function Tp(e){var r=e.shapeType,s=e.elementProps;switch(r){case"rectangle":return V.createElement(bm,s);case"trapezoid":return V.createElement(p$,s);case"sector":return V.createElement(Nv,s);case"symbols":if(y$(r))return V.createElement($u,s);break;default:return null}}function w$(e){return S.isValidElement(e)?e.props:e}function yv(e){var r=e.option,s=e.shapeType,t=e.propTransformer,n=t===void 0?j$:t,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=N$(e,h$),u;if(S.isValidElement(r))u=S.cloneElement(r,Zi(Zi({},c),w$(r)));else if(le(r))u=r(c);else if(Z4(r)&&!a$(r)){var m=n(r,c);u=V.createElement(Tp,{shapeType:s,elementProps:m})}else{var d=c;u=V.createElement(Tp,{shapeType:s,elementProps:d})}return l?V.createElement(Ne,{className:o},u):u}function Go(e,r){return r!=null&&"trapezoids"in e.props}function Ho(e,r){return r!=null&&"sectors"in e.props}function jn(e,r){return r!=null&&"points"in e.props}function D$(e,r){var s,t,n=e.x===(r==null||(s=r.labelViewBox)===null||s===void 0?void 0:s.x)||e.x===r.x,i=e.y===(r==null||(t=r.labelViewBox)===null||t===void 0?void 0:t.y)||e.y===r.y;return n&&i}function E$(e,r){var s=e.endAngle===r.endAngle,t=e.startAngle===r.startAngle;return s&&t}function k$(e,r){var s=e.x===r.x,t=e.y===r.y,n=e.z===r.z;return s&&t&&n}function V$(e,r){var s;return Go(e,r)?s=D$:Ho(e,r)?s=E$:jn(e,r)&&(s=k$),s}function S$(e,r){var s;return Go(e,r)?s="trapezoids":Ho(e,r)?s="sectors":jn(e,r)&&(s="points"),s}function P$(e,r){if(Go(e,r)){var s;return(s=r.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}if(Ho(e,r)){var t;return(t=r.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}return jn(e,r)?r.payload:{}}function A$(e){var r=e.activeTooltipItem,s=e.graphicalItem,t=e.itemData,n=S$(s,r),i=P$(s,r),o=t.filter(function(c,u){var m=it(i,c),d=s.props[n].filter(function(N){var h=V$(s,r);return h(N,r)}),f=s.props[n].indexOf(d[d.length-1]),p=u===f;return m&&p}),l=t.indexOf(o[o.length-1]);return l}var oi;function Gt(e){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gt(e)}function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},kt.apply(this,arguments)}function Mp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function ke(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Mp(Object(s),!0).forEach(function(t){kr(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Mp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function _$(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $p(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Dv(t.key),t)}}function O$(e,r,s){return r&&$p(e.prototype,r),s&&$p(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function C$(e,r,s){return r=Qi(r),T$(e,wv()?Reflect.construct(r,s||[],Qi(e).constructor):r.apply(e,s))}function T$(e,r){if(r&&(Gt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M$(e)}function M$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wv=function(){return!!e})()}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Qi(e)}function $$(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Bc(e,r)}function Bc(e,r){return Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Bc(e,r)}function kr(e,r,s){return r=Dv(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Dv(e){var r=I$(e,"string");return Gt(r)=="symbol"?r:r+""}function I$(e,r){if(Gt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Gt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ds=function(e){function r(s){var t;return _$(this,r),t=C$(this,r,[s]),kr(t,"pieRef",null),kr(t,"sectorRefs",[]),kr(t,"id",ht("recharts-pie-")),kr(t,"handleAnimationEnd",function(){var n=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),le(n)&&n()}),kr(t,"handleAnimationStart",function(){var n=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),le(n)&&n()}),t.state={isAnimationFinished:!s.isAnimationActive,prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,sectorToFocus:0},t}return $$(r,e),O$(r,[{key:"isActiveIndex",value:function(t){var n=this.props.activeIndex;return Array.isArray(n)?n.indexOf(t)!==-1:t===n}},{key:"hasActiveIndex",value:function(){var t=this.props.activeIndex;return Array.isArray(t)?t.length!==0:t||t===0}},{key:"renderLabels",value:function(t){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,m=ae(this.props,!1),d=ae(o,!1),f=ae(l,!1),p=o&&o.offsetRadius||20,N=t.map(function(h,b){var v=(h.startAngle+h.endAngle)/2,j=Pe(h.cx,h.cy,h.outerRadius+p,v),w=ke(ke(ke(ke({},m),h),{},{stroke:"none"},d),{},{index:b,textAnchor:r.getTextAnchor(j.x,h.cx)},j),D=ke(ke(ke(ke({},m),h),{},{fill:"none",stroke:h.fill},f),{},{index:b,points:[Pe(h.cx,h.cy,h.outerRadius,v),j]}),g=c;return me(c)&&me(u)?g="value":me(c)&&(g=u),V.createElement(Ne,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(b)},l&&r.renderLabelLineItem(l,D,"line"),r.renderLabelItem(o,w,Re(h,g)))});return V.createElement(Ne,{className:"recharts-pie-labels"},N)}},{key:"renderSectorsStatically",value:function(t){var n=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return t.map(function(u,m){if(u?.startAngle===0&&u?.endAngle===0&&t.length!==1)return null;var d=n.isActiveIndex(m),f=c&&n.hasActiveIndex()?c:null,p=d?o:f,N=ke(ke({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return V.createElement(Ne,kt({ref:function(b){b&&!n.sectorRefs.includes(b)&&n.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},at(n.props,u,m),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(m)}),V.createElement(yv,kt({option:p,isActive:d,shapeType:"sector"},N)))})}},{key:"renderSectorsWithAnimation",value:function(){var t=this,n=this.props,i=n.sectors,o=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,u=n.animationEasing,m=n.animationId,d=this.state,f=d.prevSectors,p=d.prevIsAnimationActive;return V.createElement(Ts,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(N){var h=N.t,b=[],v=i&&i[0],j=v.startAngle;return i.forEach(function(w,D){var g=f&&f[D],x=D>0?gr(w,"paddingAngle",0):0;if(g){var y=He(g.endAngle-g.startAngle,w.endAngle-w.startAngle),E=ke(ke({},w),{},{startAngle:j+x,endAngle:j+y(h)+x});b.push(E),j=E.endAngle}else{var k=w.endAngle,_=w.startAngle,A=He(0,k-_),P=A(h),T=ke(ke({},w),{},{startAngle:j+x,endAngle:j+P+x});b.push(T),j=T.endAngle}}),V.createElement(Ne,null,t.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(t){var n=this;t.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[o].focus(),n.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--n.state.sectorToFocus<0?n.sectorRefs.length-1:n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[l].focus(),n.setState({sectorToFocus:l});break}case"Escape":{n.sectorRefs[n.state.sectorToFocus].blur(),n.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var t=this.props,n=t.sectors,i=t.isAnimationActive,o=this.state.prevSectors;return i&&n&&n.length&&(!o||!it(o,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var t=this,n=this.props,i=n.hide,o=n.sectors,l=n.className,c=n.label,u=n.cx,m=n.cy,d=n.innerRadius,f=n.outerRadius,p=n.isAnimationActive,N=this.state.isAnimationFinished;if(i||!o||!o.length||!W(u)||!W(m)||!W(d)||!W(f))return null;var h=pe("recharts-pie",l);return V.createElement(Ne,{tabIndex:this.props.rootTabIndex,className:h,ref:function(v){t.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),Qe.renderCallByParent(this.props,null,!1),(!p||N)&&Wr.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(t,n){return n.prevIsAnimationActive!==t.isAnimationActive?{prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:[],isAnimationFinished:!0}:t.isAnimationActive&&t.animationId!==n.prevAnimationId?{prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:n.curSectors,isAnimationFinished:!0}:t.sectors!==n.curSectors?{curSectors:t.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(t,n){return t>n?"start":t<n?"end":"middle"}},{key:"renderLabelLineItem",value:function(t,n,i){if(V.isValidElement(t))return V.cloneElement(t,n);if(le(t))return t(n);var o=pe("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return V.createElement(st,kt({},n,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(t,n,i){if(V.isValidElement(t))return V.cloneElement(t,n);var o=i;if(le(t)&&(o=t(n),V.isValidElement(o)))return o;var l=pe("recharts-pie-label-text",typeof t!="boolean"&&!le(t)?t.className:"");return V.createElement(nt,kt({},n,{alignmentBaseline:"middle",className:l}),o)}}])}(S.PureComponent);oi=Ds;kr(Ds,"displayName","Pie");kr(Ds,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Rs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});kr(Ds,"parseDeltaAngle",function(e,r){var s=lr(r-e),t=Math.min(Math.abs(r-e),360);return s*t});kr(Ds,"getRealPieData",function(e){var r=e.data,s=e.children,t=ae(e,!1),n=jr(s,Oo);return r&&r.length?r.map(function(i,o){return ke(ke(ke({payload:i},t),i),n&&n[o]&&n[o].props)}):n&&n.length?n.map(function(i){return ke(ke({},t),i.props)}):[]});kr(Ds,"parseCoordinateOfPie",function(e,r){var s=r.top,t=r.left,n=r.width,i=r.height,o=dv(n,i),l=t+cr(e.cx,n,n/2),c=s+cr(e.cy,i,i/2),u=cr(e.innerRadius,o,0),m=cr(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(n*n+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:m,maxRadius:d}});kr(Ds,"getComposedData",function(e){var r=e.item,s=e.offset,t=r.type.defaultProps!==void 0?ke(ke({},r.type.defaultProps),r.props):r.props,n=oi.getRealPieData(t);if(!n||!n.length)return null;var i=t.cornerRadius,o=t.startAngle,l=t.endAngle,c=t.paddingAngle,u=t.dataKey,m=t.nameKey,d=t.valueKey,f=t.tooltipType,p=Math.abs(t.minAngle),N=oi.parseCoordinateOfPie(t,s),h=oi.parseDeltaAngle(o,l),b=Math.abs(h),v=u;me(u)&&me(d)?($r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):me(u)&&($r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=d);var j=n.filter(function(E){return Re(E,v,0)!==0}).length,w=(b>=360?j:j-1)*c,D=b-j*p-w,g=n.reduce(function(E,k){var _=Re(k,v,0);return E+(W(_)?_:0)},0),x;if(g>0){var y;x=n.map(function(E,k){var _=Re(E,v,0),A=Re(E,m,k),P=(W(_)?_:0)/g,T;k?T=y.endAngle+lr(h)*c*(_!==0?1:0):T=o;var M=T+lr(h)*((_!==0?p:0)+P*D),C=(T+M)/2,R=(N.innerRadius+N.outerRadius)/2,F=[{name:A,value:_,payload:E,dataKey:v,type:f}],q=Pe(N.cx,N.cy,R,C);return y=ke(ke(ke({percent:P,cornerRadius:i,name:A,tooltipPayload:F,midAngle:C,middleRadius:R,tooltipPosition:q},E),N),{},{value:Re(E,v),startAngle:T,endAngle:M,payload:E,paddingAngle:lr(h)*c}),y})}return ke(ke({},N),{},{sectors:x,data:n})});var R$=Math.ceil,L$=Math.max;function B$(e,r,s,t){for(var n=-1,i=L$(R$((r-e)/(s||1)),0),o=Array(i);i--;)o[t?i:++n]=e,e+=s;return o}var z$=B$,F$=ZN,Ip=1/0,U$=17976931348623157e292;function W$(e){if(!e)return e===0?e:0;if(e=F$(e),e===Ip||e===-Ip){var r=e<0?-1:1;return r*U$}return e===e?e:0}var Ev=W$,q$=z$,K$=_o,_l=Ev;function G$(e){return function(r,s,t){return t&&typeof t!="number"&&K$(r,s,t)&&(s=t=void 0),r=_l(r),s===void 0?(s=r,r=0):s=_l(s),t=t===void 0?r<s?1:-1:_l(t),q$(r,s,t,e)}}var H$=G$,X$=H$,Y$=X$(),J$=Y$;const eo=Ee(J$);function yn(e){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yn(e)}function Rp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Lp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Rp(Object(s),!0).forEach(function(t){kv(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Rp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function kv(e,r,s){return r=Z$(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Z$(e){var r=Q$(e,"string");return yn(r)=="symbol"?r:r+""}function Q$(e,r){if(yn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(yn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var e7=["Webkit","Moz","O","ms"],r7=function(r,s){var t=r.replace(/(\w)/,function(i){return i.toUpperCase()}),n=e7.reduce(function(i,o){return Lp(Lp({},i),{},kv({},o+t,s))},{});return n[r]=s,n};function Ht(e){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ht(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},ro.apply(this,arguments)}function Bp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Ol(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Bp(Object(s),!0).forEach(function(t){br(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Bp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function s7(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zp(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Sv(t.key),t)}}function t7(e,r,s){return r&&zp(e.prototype,r),s&&zp(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function a7(e,r,s){return r=so(r),n7(e,Vv()?Reflect.construct(r,s||[],so(e).constructor):r.apply(e,s))}function n7(e,r){if(r&&(Ht(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i7(e)}function i7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vv=function(){return!!e})()}function so(e){return so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},so(e)}function o7(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&zc(e,r)}function zc(e,r){return zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},zc(e,r)}function br(e,r,s){return r=Sv(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Sv(e){var r=l7(e,"string");return Ht(r)=="symbol"?r:r+""}function l7(e,r){if(Ht(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Ht(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c7=function(r){var s=r.data,t=r.startIndex,n=r.endIndex,i=r.x,o=r.width,l=r.travellerWidth;if(!s||!s.length)return{};var c=s.length,u=La().domain(eo(0,c)).range([i,i+o-l]),m=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(t),endX:u(n),scale:u,scaleValues:m}},Fp=function(r){return r.changedTouches&&!!r.changedTouches.length},Xt=function(e){function r(s){var t;return s7(this,r),t=a7(this,r,[s]),br(t,"handleDrag",function(n){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(n):t.state.isSlideMoving&&t.handleSlideDrag(n)}),br(t,"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&t.handleDrag(n.changedTouches[0])}),br(t,"handleDragEnd",function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var n=t.props,i=n.endIndex,o=n.onDragEnd,l=n.startIndex;o?.({endIndex:i,startIndex:l})}),t.detachDragEndListener()}),br(t,"handleLeaveWrapper",function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))}),br(t,"handleEnterSlideOrTraveller",function(){t.setState({isTextActive:!0})}),br(t,"handleLeaveSlideOrTraveller",function(){t.setState({isTextActive:!1})}),br(t,"handleSlideDragStart",function(n){var i=Fp(n)?n.changedTouches[0]:n;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),t.attachDragEndListener()}),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(t,"startX"),endX:t.handleTravellerDragStart.bind(t,"endX")},t.state={},t}return o7(r,e),t7(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,i=t.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,m=u.length-1,d=Math.min(n,i),f=Math.max(n,i),p=r.getIndexInRange(o,d),N=r.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:N===m?m:N-N%c}}},{key:"getTextOfTick",value:function(t){var n=this.props,i=n.data,o=n.tickFormatter,l=n.dataKey,c=Re(i[t],l,t);return le(o)?o(c,t):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(t){var n=this.state,i=n.slideMoveStartX,o=n.startX,l=n.endX,c=this.props,u=c.x,m=c.width,d=c.travellerWidth,f=c.startIndex,p=c.endIndex,N=c.onChange,h=t.pageX-i;h>0?h=Math.min(h,u+m-d-l,u+m-d-o):h<0&&(h=Math.max(h,u-o,u-l));var b=this.getIndex({startX:o+h,endX:l+h});(b.startIndex!==f||b.endIndex!==p)&&N&&N(b),this.setState({startX:o+h,endX:l+h,slideMoveStartX:t.pageX})}},{key:"handleTravellerDragStart",value:function(t,n){var i=Fp(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:t,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(t){var n=this.state,i=n.brushMoveStartX,o=n.movingTravellerId,l=n.endX,c=n.startX,u=this.state[o],m=this.props,d=m.x,f=m.width,p=m.travellerWidth,N=m.onChange,h=m.gap,b=m.data,v={startX:this.state.startX,endX:this.state.endX},j=t.pageX-i;j>0?j=Math.min(j,d+f-p-u):j<0&&(j=Math.max(j,d-u)),v[o]=u+j;var w=this.getIndex(v),D=w.startIndex,g=w.endIndex,x=function(){var E=b.length-1;return o==="startX"&&(l>c?D%h===0:g%h===0)||l<c&&g===E||o==="endX"&&(l>c?g%h===0:D%h===0)||l>c&&g===E};this.setState(br(br({},o,u+j),"brushMoveStartX",t.pageX),function(){N&&x()&&N(w)})}},{key:"handleTravellerMoveKeyboard",value:function(t,n){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,m=this.state[n],d=l.indexOf(m);if(d!==-1){var f=d+t;if(!(f===-1||f>=l.length)){var p=l[f];n==="startX"&&p>=u||n==="endX"&&p<=c||this.setState(br({},n,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var t=this.props,n=t.x,i=t.y,o=t.width,l=t.height,c=t.fill,u=t.stroke;return V.createElement("rect",{stroke:u,fill:c,x:n,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var t=this.props,n=t.x,i=t.y,o=t.width,l=t.height,c=t.data,u=t.children,m=t.padding,d=S.Children.only(u);return d?V.cloneElement(d,{x:n,y:i,width:o,height:l,margin:m,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(t,n){var i,o,l=this,c=this.props,u=c.y,m=c.travellerWidth,d=c.height,f=c.traveller,p=c.ariaLabel,N=c.data,h=c.startIndex,b=c.endIndex,v=Math.max(t,this.props.x),j=Ol(Ol({},ae(this.props,!1)),{},{x:v,y:u,width:m,height:d}),w=p||"Min value: ".concat((i=N[h])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=N[b])===null||o===void 0?void 0:o.name);return V.createElement(Ne,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(g){["ArrowLeft","ArrowRight"].includes(g.key)&&(g.preventDefault(),g.stopPropagation(),l.handleTravellerMoveKeyboard(g.key==="ArrowRight"?1:-1,n))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(f,j))}},{key:"renderSlide",value:function(t,n){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,m=Math.min(t,n)+u,d=Math.max(Math.abs(n-t)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:m,y:o,width:d,height:l})}},{key:"renderText",value:function(){var t=this.props,n=t.startIndex,i=t.endIndex,o=t.y,l=t.height,c=t.travellerWidth,u=t.stroke,m=this.state,d=m.startX,f=m.endX,p=5,N={pointerEvents:"none",fill:u};return V.createElement(Ne,{className:"recharts-brush-texts"},V.createElement(nt,ro({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-p,y:o+l/2},N),this.getTextOfTick(n)),V.createElement(nt,ro({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+c+p,y:o+l/2},N),this.getTextOfTick(i)))}},{key:"render",value:function(){var t=this.props,n=t.data,i=t.className,o=t.children,l=t.x,c=t.y,u=t.width,m=t.height,d=t.alwaysShowText,f=this.state,p=f.startX,N=f.endX,h=f.isTextActive,b=f.isSlideMoving,v=f.isTravellerMoving,j=f.isTravellerFocused;if(!n||!n.length||!W(l)||!W(c)||!W(u)||!W(m)||u<=0||m<=0)return null;var w=pe("recharts-brush",i),D=V.Children.count(o)===1,g=r7("userSelect","none");return V.createElement(Ne,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:g},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(p,N),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(N,"endX"),(h||b||v||j||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(t){var n=t.x,i=t.y,o=t.width,l=t.height,c=t.stroke,u=Math.floor(i+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:n,y:i,width:o,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:n+1,y1:u,x2:n+o-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:n+1,y1:u+2,x2:n+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){var i;return V.isValidElement(t)?i=V.cloneElement(t,n):le(t)?i=t(n):i=r.renderDefaultTraveller(n),i}},{key:"getDerivedStateFromProps",value:function(t,n){var i=t.data,o=t.width,l=t.x,c=t.travellerWidth,u=t.updateId,m=t.startIndex,d=t.endIndex;if(i!==n.prevData||u!==n.prevUpdateId)return Ol({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?c7({data:i,width:o,x:l,travellerWidth:c,startIndex:m,endIndex:d}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||l!==n.prevX||c!==n.prevTravellerWidth)){n.scale.range([l,l+o-c]);var f=n.scale.domain().map(function(p){return n.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:n.scale(t.startIndex),endX:n.scale(t.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(t,n){for(var i=t.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);t[c]>n?l=c:o=c}return n>=t[l]?l:o}}])}(S.PureComponent);br(Xt,"displayName","Brush");br(Xt,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var u7=Uu;function m7(e,r){var s;return u7(e,function(t,n,i){return s=r(t,n,i),!s}),!!s}var d7=m7,f7=EN,p7=Qr,h7=d7,N7=hr,b7=_o;function v7(e,r,s){var t=N7(e)?f7:h7;return s&&b7(e,r,s)&&(r=void 0),t(e,p7(r))}var x7=v7;const g7=Ee(x7);var qr=function(r,s){var t=r.alwaysShow,n=r.ifOverflow;return t&&(n="extendDomain"),n===s},Up=GN;function j7(e,r,s){r=="__proto__"&&Up?Up(e,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[r]=s}var y7=j7,w7=y7,D7=qN,E7=Qr;function k7(e,r){var s={};return r=E7(r),D7(e,function(t,n,i){w7(s,n,r(t,n,i))}),s}var V7=k7;const S7=Ee(V7);function P7(e,r){for(var s=-1,t=e==null?0:e.length;++s<t;)if(!r(e[s],s,e))return!1;return!0}var A7=P7,_7=Uu;function O7(e,r){var s=!0;return _7(e,function(t,n,i){return s=!!r(t,n,i),s}),s}var C7=O7,T7=A7,M7=C7,$7=Qr,I7=hr,R7=_o;function L7(e,r,s){var t=I7(e)?T7:M7;return s&&R7(e,r,s)&&(r=void 0),t(e,$7(r))}var B7=L7;const Pv=Ee(B7);var z7=["x","y"];function Yt(e){"@babel/helpers - typeof";return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yt(e)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Fc.apply(this,arguments)}function Wp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function _a(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Wp(Object(s),!0).forEach(function(t){F7(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Wp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function F7(e,r,s){return r=U7(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function U7(e){var r=W7(e,"string");return Yt(r)=="symbol"?r:r+""}function W7(e,r){if(Yt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Yt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function q7(e,r){if(e==null)return{};var s=K7(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function K7(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function G7(e,r){var s=e.x,t=e.y,n=q7(e,z7),i="".concat(s),o=parseInt(i,10),l="".concat(t),c=parseInt(l,10),u="".concat(r.height||n.height),m=parseInt(u,10),d="".concat(r.width||n.width),f=parseInt(d,10);return _a(_a(_a(_a(_a({},r),n),o?{x:o}:{}),c?{y:c}:{}),{},{height:m,width:f,name:r.name,radius:r.radius})}function qp(e){return V.createElement(yv,Fc({shapeType:"rectangle",propTransformer:G7,activeClassName:"recharts-active-bar"},e))}var H7=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(t,n){if(typeof r=="number")return r;var i=W(t)||rw(t);return i?r(t,n):(i||lt(!1,"minPointSize callback function received a value with type of ".concat(Yt(t),". Currently only numbers or null/undefined are supported.")),s)}},X7=["value","background"],Av;function Jt(e){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jt(e)}function Y7(e,r){if(e==null)return{};var s=J7(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function J7(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function to(){return to=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},to.apply(this,arguments)}function Kp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function ze(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Kp(Object(s),!0).forEach(function(t){_s(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Kp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Z7(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gp(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Ov(t.key),t)}}function Q7(e,r,s){return r&&Gp(e.prototype,r),s&&Gp(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function eI(e,r,s){return r=ao(r),rI(e,_v()?Reflect.construct(r,s||[],ao(e).constructor):r.apply(e,s))}function rI(e,r){if(r&&(Jt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sI(e)}function sI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_v=function(){return!!e})()}function ao(e){return ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ao(e)}function tI(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Uc(e,r)}function _s(e,r,s){return r=Ov(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ov(e){var r=aI(e,"string");return Jt(r)=="symbol"?r:r+""}function aI(e,r){if(Jt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Jt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bs=function(e){function r(){var s;Z7(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s=eI(this,r,[].concat(n)),_s(s,"state",{isAnimationFinished:!1}),_s(s,"id",ht("recharts-bar-")),_s(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),o&&o()}),_s(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),o&&o()}),s}return tI(r,e),Q7(r,[{key:"renderRectanglesStatically",value:function(t){var n=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,m=ae(this.props,!1);return t&&t.map(function(d,f){var p=f===c,N=p?u:o,h=ze(ze(ze({},m),d),{},{isActive:p,option:N,index:f,dataKey:l,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return V.createElement(Ne,to({className:"recharts-bar-rectangle"},at(n.props,d,f),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(f)}),V.createElement(qp,h))})}},{key:"renderRectanglesWithAnimation",value:function(){var t=this,n=this.props,i=n.data,o=n.layout,l=n.isAnimationActive,c=n.animationBegin,u=n.animationDuration,m=n.animationEasing,d=n.animationId,f=this.state.prevData;return V.createElement(Ts,{begin:c,duration:u,isActive:l,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var N=p.t,h=i.map(function(b,v){var j=f&&f[v];if(j){var w=He(j.x,b.x),D=He(j.y,b.y),g=He(j.width,b.width),x=He(j.height,b.height);return ze(ze({},b),{},{x:w(N),y:D(N),width:g(N),height:x(N)})}if(o==="horizontal"){var y=He(0,b.height),E=y(N);return ze(ze({},b),{},{y:b.y+b.height-E,height:E})}var k=He(0,b.width),_=k(N);return ze(ze({},b),{},{width:_})});return V.createElement(Ne,null,t.renderRectanglesStatically(h))})}},{key:"renderRectangles",value:function(){var t=this.props,n=t.data,i=t.isAnimationActive,o=this.state.prevData;return i&&n&&n.length&&(!o||!it(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var t=this,n=this.props,i=n.data,o=n.dataKey,l=n.activeIndex,c=ae(this.props.background,!1);return i.map(function(u,m){u.value;var d=u.background,f=Y7(u,X7);if(!d)return null;var p=ze(ze(ze(ze(ze({},f),{},{fill:"#eee"},d),c),at(t.props,u,m)),{},{onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return V.createElement(qp,to({key:"background-bar-".concat(m),option:t.props.background,isActive:m===l},p))})}},{key:"renderErrorBar",value:function(t,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,m=i.children,d=jr(m,In);if(!d)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,v){var j=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:j,errorVal:Re(b,v)}},N={clipPath:t?"url(#clipPath-".concat(n,")"):null};return V.createElement(Ne,N,d.map(function(h){return V.cloneElement(h,{key:"error-bar-".concat(n,"-").concat(h.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var t=this.props,n=t.hide,i=t.data,o=t.className,l=t.xAxis,c=t.yAxis,u=t.left,m=t.top,d=t.width,f=t.height,p=t.isAnimationActive,N=t.background,h=t.id;if(n||!i||!i.length)return null;var b=this.state.isAnimationFinished,v=pe("recharts-bar",o),j=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,D=j||w,g=me(h)?this.id:h;return V.createElement(Ne,{className:v},j||w?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(g)},V.createElement("rect",{x:j?u:u-d/2,y:w?m:m-f/2,width:j?d:d*2,height:w?f:f*2}))):null,V.createElement(Ne,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(g,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,g),(!p||b)&&Wr.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(t,n){return t.animationId!==n.prevAnimationId?{prevAnimationId:t.animationId,curData:t.data,prevData:n.curData}:t.data!==n.curData?{curData:t.data}:null}}])}(S.PureComponent);Av=bs;_s(bs,"displayName","Bar");_s(bs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_s(bs,"getComposedData",function(e){var r=e.props,s=e.item,t=e.barPosition,n=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,m=e.dataStartIndex,d=e.displayedData,f=e.offset,p=v5(t,s);if(!p)return null;var N=r.layout,h=s.type.defaultProps,b=h!==void 0?ze(ze({},h),s.props):s.props,v=b.dataKey,j=b.children,w=b.minPointSize,D=N==="horizontal"?o:i,g=u?D.scale.domain():null,x=E5({numericAxis:D}),y=jr(j,Oo),E=d.map(function(k,_){var A,P,T,M,C,R;u?A=x5(u[m+_],g):(A=Re(k,v),Array.isArray(A)||(A=[x,A]));var F=H7(w,Av.defaultProps.minPointSize)(A[1],_);if(N==="horizontal"){var q,G=[o.scale(A[0]),o.scale(A[1])],re=G[0],ne=G[1];P=ep({axis:i,ticks:l,bandSize:n,offset:p.offset,entry:k,index:_}),T=(q=ne??re)!==null&&q!==void 0?q:void 0,M=p.size;var Z=re-ne;if(C=Number.isNaN(Z)?0:Z,R={x:P,y:o.y,width:M,height:o.height},Math.abs(F)>0&&Math.abs(C)<Math.abs(F)){var Y=lr(C||F)*(Math.abs(F)-Math.abs(C));T-=Y,C+=Y}}else{var ie=[i.scale(A[0]),i.scale(A[1])],xe=ie[0],K=ie[1];if(P=xe,T=ep({axis:o,ticks:c,bandSize:n,offset:p.offset,entry:k,index:_}),M=K-xe,C=p.size,R={x:i.x,y:T,width:i.width,height:C},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var ge=lr(M||F)*(Math.abs(F)-Math.abs(M));M+=ge}}return ze(ze(ze({},k),{},{x:P,y:T,width:M,height:C,value:u?A:A[1],payload:k,background:R},y&&y[_]&&y[_].props),{},{tooltipPayload:[uv(s,k)],tooltipPosition:{x:P+M/2,y:T+C/2}})});return ze({data:E,layout:N},f)});function wn(e){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wn(e)}function nI(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hp(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Cv(t.key),t)}}function iI(e,r,s){return r&&Hp(e.prototype,r),s&&Hp(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Or(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Xp(Object(s),!0).forEach(function(t){Xo(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Xp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Xo(e,r,s){return r=Cv(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Cv(e){var r=oI(e,"string");return wn(r)=="symbol"?r:r+""}function oI(e,r){if(wn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(wn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var vm=function(r,s,t,n,i){var o=r.width,l=r.height,c=r.layout,u=r.children,m=Object.keys(s),d={left:t.left,leftMirror:t.left,right:o-t.right,rightMirror:o-t.right,top:t.top,topMirror:t.top,bottom:l-t.bottom,bottomMirror:l-t.bottom},f=!!vr(u,bs);return m.reduce(function(p,N){var h=s[N],b=h.orientation,v=h.domain,j=h.padding,w=j===void 0?{}:j,D=h.mirror,g=h.reversed,x="".concat(b).concat(D?"Mirror":""),y,E,k,_,A;if(h.type==="number"&&(h.padding==="gap"||h.padding==="no-gap")){var P=v[1]-v[0],T=1/0,M=h.categoricalDomain.sort(aw);if(M.forEach(function(ie,xe){xe>0&&(T=Math.min((ie||0)-(M[xe-1]||0),T))}),Number.isFinite(T)){var C=T/P,R=h.layout==="vertical"?t.height:t.width;if(h.padding==="gap"&&(y=C*R/2),h.padding==="no-gap"){var F=cr(r.barCategoryGap,C*R),q=C*R/2;y=q-F-(q-F)/R*F}}}n==="xAxis"?E=[t.left+(w.left||0)+(y||0),t.left+t.width-(w.right||0)-(y||0)]:n==="yAxis"?E=c==="horizontal"?[t.top+t.height-(w.bottom||0),t.top+(w.top||0)]:[t.top+(w.top||0)+(y||0),t.top+t.height-(w.bottom||0)-(y||0)]:E=h.range,g&&(E=[E[1],E[0]]);var G=iv(h,i,f),re=G.scale,ne=G.realScaleType;re.domain(v).range(E),ov(re);var Z=lv(re,Or(Or({},h),{},{realScaleType:ne}));n==="xAxis"?(A=b==="top"&&!D||b==="bottom"&&D,k=t.left,_=d[x]-A*h.height):n==="yAxis"&&(A=b==="left"&&!D||b==="right"&&D,k=d[x]-A*h.width,_=t.top);var Y=Or(Or(Or({},h),Z),{},{realScaleType:ne,x:k,y:_,scale:re,width:n==="xAxis"?t.width:h.width,height:n==="yAxis"?t.height:h.height});return Y.bandSize=qi(Y,Z),!h.hide&&n==="xAxis"?d[x]+=(A?-1:1)*Y.height:h.hide||(d[x]+=(A?-1:1)*Y.width),Or(Or({},p),{},Xo({},N,Y))},{})},Tv=function(r,s){var t=r.x,n=r.y,i=s.x,o=s.y;return{x:Math.min(t,i),y:Math.min(n,o),width:Math.abs(i-t),height:Math.abs(o-n)}},lI=function(r){var s=r.x1,t=r.y1,n=r.x2,i=r.y2;return Tv({x:s,y:t},{x:n,y:i})},Mv=function(){function e(r){nI(this,e),this.scale=r}return iI(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.bandAware,i=t.position;if(s!==void 0){if(i)switch(i){case"start":return this.scale(s);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(s)+l}default:return this.scale(s)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+c}return this.scale(s)}}},{key:"isInRange",value:function(s){var t=this.range(),n=t[0],i=t[t.length-1];return n<=i?s>=n&&s<=i:s>=i&&s<=n}}],[{key:"create",value:function(s){return new e(s)}}])}();Xo(Mv,"EPS",1e-4);var xm=function(r){var s=Object.keys(r).reduce(function(t,n){return Or(Or({},t),{},Xo({},n,Mv.create(r[n])))},{});return Or(Or({},s),{},{apply:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return S7(n,function(c,u){return s[u].apply(c,{bandAware:o,position:l})})},isInRange:function(n){return Pv(n,function(i,o){return s[o].isInRange(i)})}})};function cI(e){return(e%180+180)%180}var uI=function(r){var s=r.width,t=r.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=cI(n),o=i*Math.PI/180,l=Math.atan(t/s),c=o>l&&o<Math.PI-l?t/Math.sin(o):s/Math.cos(o);return Math.abs(c)},mI=Qr,dI=On,fI=Po;function pI(e){return function(r,s,t){var n=Object(r);if(!dI(r)){var i=mI(s);r=fI(r),s=function(l){return i(n[l],l,n)}}var o=e(r,s,t);return o>-1?n[i?r[o]:o]:void 0}}var hI=pI,NI=Ev;function bI(e){var r=NI(e),s=r%1;return r===r?s?r-s:r:0}var vI=bI,xI=LN,gI=Qr,jI=vI,yI=Math.max;function wI(e,r,s){var t=e==null?0:e.length;if(!t)return-1;var n=s==null?0:jI(s);return n<0&&(n=yI(t+n,0)),xI(e,gI(r),n)}var DI=wI,EI=hI,kI=DI,VI=EI(kI),SI=VI;const PI=Ee(SI);var AI=uy(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},no(e)}var gm=S.createContext(void 0),jm=S.createContext(void 0),$v=S.createContext(void 0),Iv=S.createContext({}),Rv=S.createContext(void 0),Lv=S.createContext(0),Bv=S.createContext(0),Yp=function(r){var s=r.state,t=s.xAxisMap,n=s.yAxisMap,i=s.offset,o=r.clipPathId,l=r.children,c=r.width,u=r.height,m=AI(i);return V.createElement(gm.Provider,{value:t},V.createElement(jm.Provider,{value:n},V.createElement(Iv.Provider,{value:i},V.createElement($v.Provider,{value:m},V.createElement(Rv.Provider,{value:o},V.createElement(Lv.Provider,{value:u},V.createElement(Bv.Provider,{value:c},l)))))))},_I=function(){return S.useContext(Rv)};function zv(e){var r=Object.keys(e);return r.length===0?"There are no available ids.":"Available ids are: ".concat(r,".")}var Fv=function(r){var s=S.useContext(gm);s==null&&lt(!1,"Could not find Recharts context; are you sure this is rendered inside a Recharts wrapper component?");var t=s[r];return t==null&&lt(!1,'Could not find xAxis by id "'.concat(r,'" [').concat(no(r),"]. ").concat(zv(s))),t},OI=function(){var r=S.useContext(gm);return Ps(r)},CI=function(){var r=S.useContext(jm),s=PI(r,function(t){return Pv(t.domain,Number.isFinite)});return s||Ps(r)},Uv=function(r){var s=S.useContext(jm);s==null&&lt(!1,"Could not find Recharts context; are you sure this is rendered inside a Recharts wrapper component?");var t=s[r];return t==null&&lt(!1,'Could not find yAxis by id "'.concat(r,'" [').concat(no(r),"]. ").concat(zv(s))),t},TI=function(){var r=S.useContext($v);return r},MI=function(){return S.useContext(Iv)},ym=function(){return S.useContext(Bv)},wm=function(){return S.useContext(Lv)};function Zt(e){"@babel/helpers - typeof";return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zt(e)}function $I(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function II(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,qv(t.key),t)}}function RI(e,r,s){return r&&II(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LI(e,r,s){return r=io(r),BI(e,Wv()?Reflect.construct(r,s||[],io(e).constructor):r.apply(e,s))}function BI(e,r){if(r&&(Zt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zI(e)}function zI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wv=function(){return!!e})()}function io(e){return io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},io(e)}function FI(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Wc(e,r)}function Wc(e,r){return Wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Wc(e,r)}function Jp(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Zp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Jp(Object(s),!0).forEach(function(t){Dm(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Jp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Dm(e,r,s){return r=qv(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function qv(e){var r=UI(e,"string");return Zt(r)=="symbol"?r:r+""}function UI(e,r){if(Zt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Zt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WI(e,r){return HI(e)||GI(e,r)||KI(e,r)||qI()}function qI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KI(e,r){if(e){if(typeof e=="string")return Qp(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Qp(e,r)}}function Qp(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function GI(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r!==0)for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function HI(e){if(Array.isArray(e))return e}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},qc.apply(this,arguments)}var XI=function(r,s){var t;return V.isValidElement(r)?t=V.cloneElement(r,s):le(r)?t=r(s):t=V.createElement("line",qc({},s,{className:"recharts-reference-line-line"})),t},YI=function(r,s,t,n,i,o,l,c,u){var m=i.x,d=i.y,f=i.width,p=i.height;if(t){var N=u.y,h=r.y.apply(N,{position:o});if(qr(u,"discard")&&!r.y.isInRange(h))return null;var b=[{x:m+f,y:h},{x:m,y:h}];return c==="left"?b.reverse():b}if(s){var v=u.x,j=r.x.apply(v,{position:o});if(qr(u,"discard")&&!r.x.isInRange(j))return null;var w=[{x:j,y:d+p},{x:j,y:d}];return l==="top"?w.reverse():w}if(n){var D=u.segment,g=D.map(function(x){return r.apply(x,{position:o})});return qr(u,"discard")&&g7(g,function(x){return!r.isInRange(x)})?null:g}return null};function JI(e){var r=e.x,s=e.y,t=e.segment,n=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=_I(),m=Fv(n),d=Uv(i),f=TI();if(!u||!f)return null;$r(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=xm({x:m.scale,y:d.scale}),N=Ye(r),h=Ye(s),b=t&&t.length===2,v=YI(p,N,h,b,f,e.position,m.orientation,d.orientation,e);if(!v)return null;var j=WI(v,2),w=j[0],D=w.x,g=w.y,x=j[1],y=x.x,E=x.y,k=qr(e,"hidden")?"url(#".concat(u,")"):void 0,_=Zp(Zp({clipPath:k},ae(e,!0)),{},{x1:D,y1:g,x2:y,y2:E});return V.createElement(Ne,{className:pe("recharts-reference-line",l)},XI(o,_),Qe.renderCallByParent(e,lI({x1:D,y1:g,x2:y,y2:E})))}var Em=function(e){function r(){return $I(this,r),LI(this,r,arguments)}return FI(r,e),RI(r,[{key:"render",value:function(){return V.createElement(JI,this.props)}}])}(V.Component);Dm(Em,"displayName","ReferenceLine");Dm(Em,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Kc.apply(this,arguments)}function Qt(e){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qt(e)}function eh(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function rh(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?eh(Object(s),!0).forEach(function(t){Yo(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eh(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function ZI(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function QI(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Gv(t.key),t)}}function e9(e,r,s){return r&&QI(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r9(e,r,s){return r=oo(r),s9(e,Kv()?Reflect.construct(r,s||[],oo(e).constructor):r.apply(e,s))}function s9(e,r){if(r&&(Qt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t9(e)}function t9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kv=function(){return!!e})()}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},oo(e)}function a9(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Gc(e,r)}function Gc(e,r){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Gc(e,r)}function Yo(e,r,s){return r=Gv(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Gv(e){var r=n9(e,"string");return Qt(r)=="symbol"?r:r+""}function n9(e,r){if(Qt(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Qt(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i9=function(r){var s=r.x,t=r.y,n=r.xAxis,i=r.yAxis,o=xm({x:n.scale,y:i.scale}),l=o.apply({x:s,y:t},{bandAware:!0});return qr(r,"discard")&&!o.isInRange(l)?null:l},Jo=function(e){function r(){return ZI(this,r),r9(this,r,arguments)}return a9(r,e),e9(r,[{key:"render",value:function(){var t=this.props,n=t.x,i=t.y,o=t.r,l=t.alwaysShow,c=t.clipPathId,u=Ye(n),m=Ye(i);if($r(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!m)return null;var d=i9(this.props);if(!d)return null;var f=d.x,p=d.y,N=this.props,h=N.shape,b=N.className,v=qr(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=rh(rh({clipPath:v},ae(this.props,!0)),{},{cx:f,cy:p});return V.createElement(Ne,{className:pe("recharts-reference-dot",b)},r.renderDot(h,j),Qe.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(V.Component);Yo(Jo,"displayName","ReferenceDot");Yo(Jo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Yo(Jo,"renderDot",function(e,r){var s;return V.isValidElement(e)?s=V.cloneElement(e,r):le(e)?s=e(r):s=V.createElement(Rn,Kc({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),s});function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Hc.apply(this,arguments)}function ea(e){"@babel/helpers - typeof";return ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ea(e)}function sh(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function th(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?sh(Object(s),!0).forEach(function(t){Zo(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sh(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function o9(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function l9(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Xv(t.key),t)}}function c9(e,r,s){return r&&l9(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u9(e,r,s){return r=lo(r),m9(e,Hv()?Reflect.construct(r,s||[],lo(e).constructor):r.apply(e,s))}function m9(e,r){if(r&&(ea(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d9(e)}function d9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hv=function(){return!!e})()}function lo(e){return lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},lo(e)}function f9(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Xc(e,r)}function Xc(e,r){return Xc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Xc(e,r)}function Zo(e,r,s){return r=Xv(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Xv(e){var r=p9(e,"string");return ea(r)=="symbol"?r:r+""}function p9(e,r){if(ea(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(ea(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var h9=function(r,s,t,n,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,m=i.xAxis,d=i.yAxis;if(!m||!d)return null;var f=xm({x:m.scale,y:d.scale}),p={x:r?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:t?f.y.apply(c,{position:"start"}):f.y.rangeMin},N={x:s?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:n?f.y.apply(u,{position:"end"}):f.y.rangeMax};return qr(i,"discard")&&(!f.isInRange(p)||!f.isInRange(N))?null:Tv(p,N)},Qo=function(e){function r(){return o9(this,r),u9(this,r,arguments)}return f9(r,e),c9(r,[{key:"render",value:function(){var t=this.props,n=t.x1,i=t.x2,o=t.y1,l=t.y2,c=t.className,u=t.alwaysShow,m=t.clipPathId;$r(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Ye(n),f=Ye(i),p=Ye(o),N=Ye(l),h=this.props.shape;if(!d&&!f&&!p&&!N&&!h)return null;var b=h9(d,f,p,N,this.props);if(!b&&!h)return null;var v=qr(this.props,"hidden")?"url(#".concat(m,")"):void 0;return V.createElement(Ne,{className:pe("recharts-reference-area",c)},r.renderRect(h,th(th({clipPath:v},ae(this.props,!0)),b)),Qe.renderCallByParent(this.props,b))}}])}(V.Component);Zo(Qo,"displayName","ReferenceArea");Zo(Qo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Zo(Qo,"renderRect",function(e,r){var s;return V.isValidElement(e)?s=V.cloneElement(e,r):le(e)?s=e(r):s=V.createElement(bm,Hc({},r,{className:"recharts-reference-area-rect"})),s});function Yv(e,r,s){if(r<1)return[];if(r===1&&s===void 0)return e;for(var t=[],n=0;n<e.length;n+=r)t.push(e[n]);return t}function N9(e,r,s){var t={width:e.width+r.width,height:e.height+r.height};return uI(t,s)}function b9(e,r,s){var t=s==="width",n=e.x,i=e.y,o=e.width,l=e.height;return r===1?{start:t?n:i,end:t?n+o:i+l}:{start:t?n+o:i+l,end:t?n:i}}function co(e,r,s,t,n){if(e*r<e*t||e*r>e*n)return!1;var i=s();return e*(r-e*i/2-t)>=0&&e*(r+e*i/2-n)<=0}function v9(e,r){return Yv(e,r+1)}function x9(e,r,s,t,n){for(var i=(t||[]).slice(),o=r.start,l=r.end,c=0,u=1,m=o,d=function(){var N=t?.[c];if(N===void 0)return{v:Yv(t,u)};var h=c,b,v=function(){return b===void 0&&(b=s(N,h)),b},j=N.coordinate,w=c===0||co(e,j,v,m,l);w||(c=0,m=o,u+=1),w&&(m=j+e*(v()/2+n),c+=u)},f;u<=i.length;)if(f=d(),f)return f.v;return[]}function Dn(e){"@babel/helpers - typeof";return Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dn(e)}function ah(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function nr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ah(Object(s),!0).forEach(function(t){g9(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ah(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function g9(e,r,s){return r=j9(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function j9(e){var r=y9(e,"string");return Dn(r)=="symbol"?r:r+""}function y9(e,r){if(Dn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(Dn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function w9(e,r,s,t,n){for(var i=(t||[]).slice(),o=i.length,l=r.start,c=r.end,u=function(f){var p=i[f],N,h=function(){return N===void 0&&(N=s(p,f)),N};if(f===o-1){var b=e*(p.coordinate+e*h()/2-c);i[f]=p=nr(nr({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else i[f]=p=nr(nr({},p),{},{tickCoord:p.coordinate});var v=co(e,p.tickCoord,h,l,c);v&&(c=p.tickCoord-e*(h()/2+n),i[f]=nr(nr({},p),{},{isShow:!0}))},m=o-1;m>=0;m--)u(m);return i}function D9(e,r,s,t,n,i){var o=(t||[]).slice(),l=o.length,c=r.start,u=r.end;if(i){var m=t[l-1],d=s(m,l-1),f=e*(m.coordinate+e*d/2-u);o[l-1]=m=nr(nr({},m),{},{tickCoord:f>0?m.coordinate-f*e:m.coordinate});var p=co(e,m.tickCoord,function(){return d},c,u);p&&(u=m.tickCoord-e*(d/2+n),o[l-1]=nr(nr({},m),{},{isShow:!0}))}for(var N=i?l-1:l,h=function(j){var w=o[j],D,g=function(){return D===void 0&&(D=s(w,j)),D};if(j===0){var x=e*(w.coordinate-e*g()/2-c);o[j]=w=nr(nr({},w),{},{tickCoord:x<0?w.coordinate-x*e:w.coordinate})}else o[j]=w=nr(nr({},w),{},{tickCoord:w.coordinate});var y=co(e,w.tickCoord,g,c,u);y&&(c=w.tickCoord+e*(g()/2+n),o[j]=nr(nr({},w),{},{isShow:!0}))},b=0;b<N;b++)h(b);return o}function km(e,r,s){var t=e.tick,n=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,m=e.unit,d=e.angle;if(!n||!n.length||!t)return[];if(W(c)||Rs.isSsr)return v9(n,typeof c=="number"&&W(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",N=m&&p==="width"?Ra(m,{fontSize:r,letterSpacing:s}):{width:0,height:0},h=function(w,D){var g=le(u)?u(w.value,D):w.value;return p==="width"?N9(Ra(g,{fontSize:r,letterSpacing:s}),N,d):Ra(g,{fontSize:r,letterSpacing:s})[p]},b=n.length>=2?lr(n[1].coordinate-n[0].coordinate):1,v=b9(i,b,p);return c==="equidistantPreserveStart"?x9(b,v,h,n,o):(c==="preserveStart"||c==="preserveStartEnd"?f=D9(b,v,h,n,o,c==="preserveStartEnd"):f=w9(b,v,h,n,o),f.filter(function(j){return j.isShow}))}var E9=["viewBox"],k9=["viewBox"],V9=["ticks"];function ra(e){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ra(e)}function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Vt.apply(this,arguments)}function nh(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Ke(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?nh(Object(s),!0).forEach(function(t){Vm(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nh(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Cl(e,r){if(e==null)return{};var s=S9(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function S9(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function P9(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ih(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Zv(t.key),t)}}function A9(e,r,s){return r&&ih(e.prototype,r),s&&ih(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _9(e,r,s){return r=uo(r),O9(e,Jv()?Reflect.construct(r,s||[],uo(e).constructor):r.apply(e,s))}function O9(e,r){if(r&&(ra(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C9(e)}function C9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jv=function(){return!!e})()}function uo(e){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},uo(e)}function T9(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Yc(e,r)}function Vm(e,r,s){return r=Zv(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Zv(e){var r=M9(e,"string");return ra(r)=="symbol"?r:r+""}function M9(e,r){if(ra(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(ra(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ya=function(e){function r(s){var t;return P9(this,r),t=_9(this,r,[s]),t.state={fontSize:"",letterSpacing:""},t}return T9(r,e),A9(r,[{key:"shouldComponentUpdate",value:function(t,n){var i=t.viewBox,o=Cl(t,E9),l=this.props,c=l.viewBox,u=Cl(l,k9);return!Ot(i,c)||!Ot(o,u)||!Ot(n,this.state)}},{key:"componentDidMount",value:function(){var t=this.layerReference;if(t){var n=t.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(t){var n=this.props,i=n.x,o=n.y,l=n.width,c=n.height,u=n.orientation,m=n.tickSize,d=n.mirror,f=n.tickMargin,p,N,h,b,v,j,w=d?-1:1,D=t.tickSize||m,g=W(t.tickCoord)?t.tickCoord:t.coordinate;switch(u){case"top":p=N=t.coordinate,b=o+ +!d*c,h=b-w*D,j=h-w*f,v=g;break;case"left":h=b=t.coordinate,N=i+ +!d*l,p=N-w*D,v=p-w*f,j=g;break;case"right":h=b=t.coordinate,N=i+ +d*l,p=N+w*D,v=p+w*f,j=g;break;default:p=N=t.coordinate,b=o+ +d*c,h=b+w*D,j=h+w*f,v=g;break}return{line:{x1:p,y1:h,x2:N,y2:b},tick:{x:v,y:j}}}},{key:"getTickTextAnchor",value:function(){var t=this.props,n=t.orientation,i=t.mirror,o;switch(n){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var t=this.props,n=t.orientation,i=t.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var t=this.props,n=t.x,i=t.y,o=t.width,l=t.height,c=t.orientation,u=t.mirror,m=t.axisLine,d=Ke(Ke(Ke({},ae(this.props,!1)),ae(m,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);d=Ke(Ke({},d),{},{x1:n,y1:i+f*l,x2:n+o,y2:i+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=Ke(Ke({},d),{},{x1:n+p*o,y1:i,x2:n+p*o,y2:i+l})}return V.createElement("line",Vt({},d,{className:pe("recharts-cartesian-axis-line",gr(m,"className"))}))}},{key:"renderTicks",value:function(t,n,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,m=l.tick,d=l.tickFormatter,f=l.unit,p=km(Ke(Ke({},this.props),{},{ticks:t}),n,i),N=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),b=ae(this.props,!1),v=ae(m,!1),j=Ke(Ke({},b),{},{fill:"none"},ae(c,!1)),w=p.map(function(D,g){var x=o.getTickLineCoord(D),y=x.line,E=x.tick,k=Ke(Ke(Ke(Ke({textAnchor:N,verticalAnchor:h},b),{},{stroke:"none",fill:u},v),E),{},{index:g,payload:D,visibleTicksCount:p.length,tickFormatter:d});return V.createElement(Ne,Vt({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},at(o.props,D,g)),c&&V.createElement("line",Vt({},j,y,{className:pe("recharts-cartesian-axis-tick-line",gr(c,"className"))})),m&&r.renderTickItem(m,k,"".concat(le(d)?d(D.value,g):D.value).concat(f||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var t=this,n=this.props,i=n.axisLine,o=n.width,l=n.height,c=n.ticksGenerator,u=n.className,m=n.hide;if(m)return null;var d=this.props,f=d.ticks,p=Cl(d,V9),N=f;return le(c)&&(N=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!N||!N.length?null:V.createElement(Ne,{className:pe("recharts-cartesian-axis",u),ref:function(b){t.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),Qe.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(t,n,i){var o,l=pe(n.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(t)?o=V.cloneElement(t,Ke(Ke({},n),{},{className:l})):le(t)?o=t(Ke(Ke({},n),{},{className:l})):o=V.createElement(nt,Vt({},n,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(S.Component);Vm(ya,"displayName","CartesianAxis");Vm(ya,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $9=["x1","y1","x2","y2","key"],I9=["offset"];function ct(e){"@babel/helpers - typeof";return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ct(e)}function oh(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function or(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?oh(Object(s),!0).forEach(function(t){R9(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oh(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function R9(e,r,s){return r=L9(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function L9(e){var r=B9(e,"string");return ct(r)=="symbol"?r:r+""}function B9(e,r){if(ct(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(ct(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Zs.apply(this,arguments)}function lh(e,r){if(e==null)return{};var s=z9(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function z9(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}var F9=function(r){var s=r.fill;if(!s||s==="none")return null;var t=r.fillOpacity,n=r.x,i=r.y,o=r.width,l=r.height,c=r.ry;return V.createElement("rect",{x:n,y:i,ry:c,width:o,height:l,stroke:"none",fill:s,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function Qv(e,r){var s;if(V.isValidElement(e))s=V.cloneElement(e,r);else if(le(e))s=e(r);else{var t=r.x1,n=r.y1,i=r.x2,o=r.y2,l=r.key,c=lh(r,$9),u=ae(c,!1);u.offset;var m=lh(u,I9);s=V.createElement("line",Zs({},m,{x1:t,y1:n,x2:i,y2:o,fill:"none",key:l}))}return s}function U9(e){var r=e.x,s=e.width,t=e.horizontal,n=t===void 0?!0:t,i=e.horizontalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,c){var u=or(or({},e),{},{x1:r,y1:l,x2:r+s,y2:l,key:"line-".concat(c),index:c});return Qv(n,u)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function W9(e){var r=e.y,s=e.height,t=e.vertical,n=t===void 0?!0:t,i=e.verticalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,c){var u=or(or({},e),{},{x1:l,y1:r,x2:l,y2:r+s,key:"line-".concat(c),index:c});return Qv(n,u)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function q9(e){var r=e.horizontalFill,s=e.fillOpacity,t=e.x,n=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!r||!r.length)return null;var m=l.map(function(f){return Math.round(f+n-n)}).sort(function(f,p){return f-p});n!==m[0]&&m.unshift(0);var d=m.map(function(f,p){var N=!m[p+1],h=N?n+o-f:m[p+1]-f;if(h<=0)return null;var b=p%r.length;return V.createElement("rect",{key:"react-".concat(p),y:f,x:t,height:h,width:i,stroke:"none",fill:r[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function K9(e){var r=e.vertical,s=r===void 0?!0:r,t=e.verticalFill,n=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!s||!t||!t.length)return null;var m=u.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==m[0]&&m.unshift(0);var d=m.map(function(f,p){var N=!m[p+1],h=N?i+l-f:m[p+1]-f;if(h<=0)return null;var b=p%t.length;return V.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:h,height:c,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var G9=function(r,s){var t=r.xAxis,n=r.width,i=r.height,o=r.offset;return nv(km(or(or(or({},ya.defaultProps),t),{},{ticks:is(t,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.left,o.left+o.width,s)},H9=function(r,s){var t=r.yAxis,n=r.width,i=r.height,o=r.offset;return nv(km(or(or(or({},ya.defaultProps),t),{},{ticks:is(t,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.top,o.top+o.height,s)},jt={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ln(e){var r,s,t,n,i,o,l=ym(),c=wm(),u=MI(),m=or(or({},e),{},{stroke:(r=e.stroke)!==null&&r!==void 0?r:jt.stroke,fill:(s=e.fill)!==null&&s!==void 0?s:jt.fill,horizontal:(t=e.horizontal)!==null&&t!==void 0?t:jt.horizontal,horizontalFill:(n=e.horizontalFill)!==null&&n!==void 0?n:jt.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:jt.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:jt.verticalFill,x:W(e.x)?e.x:u.left,y:W(e.y)?e.y:u.top,width:W(e.width)?e.width:u.width,height:W(e.height)?e.height:u.height}),d=m.x,f=m.y,p=m.width,N=m.height,h=m.syncWithTicks,b=m.horizontalValues,v=m.verticalValues,j=OI(),w=CI();if(!W(p)||p<=0||!W(N)||N<=0||!W(d)||d!==+d||!W(f)||f!==+f)return null;var D=m.verticalCoordinatesGenerator||G9,g=m.horizontalCoordinatesGenerator||H9,x=m.horizontalPoints,y=m.verticalPoints;if((!x||!x.length)&&le(g)){var E=b&&b.length,k=g({yAxis:w?or(or({},w),{},{ticks:E?b:w.ticks}):void 0,width:l,height:c,offset:u},E?!0:h);$r(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ct(k),"]")),Array.isArray(k)&&(x=k)}if((!y||!y.length)&&le(D)){var _=v&&v.length,A=D({xAxis:j?or(or({},j),{},{ticks:_?v:j.ticks}):void 0,width:l,height:c,offset:u},_?!0:h);$r(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ct(A),"]")),Array.isArray(A)&&(y=A)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(F9,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),V.createElement(U9,Zs({},m,{offset:u,horizontalPoints:x,xAxis:j,yAxis:w})),V.createElement(W9,Zs({},m,{offset:u,verticalPoints:y,xAxis:j,yAxis:w})),V.createElement(q9,Zs({},m,{horizontalPoints:x})),V.createElement(K9,Zs({},m,{verticalPoints:y})))}Ln.displayName="CartesianGrid";var X9=["type","layout","connectNulls","ref"],Y9=["key"];function sa(e){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sa(e)}function ch(e,r){if(e==null)return{};var s=J9(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function J9(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Ua.apply(this,arguments)}function uh(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Nr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?uh(Object(s),!0).forEach(function(t){Cr(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uh(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function yt(e){return rR(e)||eR(e)||Q9(e)||Z9()}function Z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q9(e,r){if(e){if(typeof e=="string")return Jc(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Jc(e,r)}}function eR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rR(e){if(Array.isArray(e))return Jc(e)}function Jc(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function sR(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mh(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,rx(t.key),t)}}function tR(e,r,s){return r&&mh(e.prototype,r),s&&mh(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function aR(e,r,s){return r=mo(r),nR(e,ex()?Reflect.construct(r,s||[],mo(e).constructor):r.apply(e,s))}function nR(e,r){if(r&&(sa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iR(e)}function iR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ex=function(){return!!e})()}function mo(e){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},mo(e)}function oR(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Zc(e,r)}function Zc(e,r){return Zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Zc(e,r)}function Cr(e,r,s){return r=rx(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function rx(e){var r=lR(e,"string");return sa(r)=="symbol"?r:r+""}function lR(e,r){if(sa(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(sa(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ta=function(e){function r(){var s;sR(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s=aR(this,r,[].concat(n)),Cr(s,"state",{isAnimationFinished:!0,totalLength:0}),Cr(s,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Cr(s,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,j){return v+j});if(!u)return s.generateSimpleStrokeDasharray(l,o);for(var m=Math.floor(o/u),d=o%u,f=l-o,p=[],N=0,h=0;N<c.length;h+=c[N],++N)if(h+c[N]>d){p=[].concat(yt(c.slice(0,N)),[d-h]);break}var b=p.length%2===0?[0,f]:[f];return[].concat(yt(r.repeat(c,m)),yt(p),b).map(function(v){return"".concat(v,"px")}).join(", ")}),Cr(s,"id",ht("recharts-line-")),Cr(s,"pathRef",function(o){s.mainCurve=o}),Cr(s,"handleAnimationEnd",function(){s.setState({isAnimationFinished:!0}),s.props.onAnimationEnd&&s.props.onAnimationEnd()}),Cr(s,"handleAnimationStart",function(){s.setState({isAnimationFinished:!1}),s.props.onAnimationStart&&s.props.onAnimationStart()}),s}return oR(r,e),tR(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();this.setState({totalLength:t})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();t!==this.state.totalLength&&this.setState({totalLength:t})}}},{key:"getTotalLength",value:function(){var t=this.mainCurve;try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(t,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,m=i.children,d=jr(m,In);if(!d)return null;var f=function(h,b){return{x:h.x,y:h.y,value:h.value,errorVal:Re(h.payload,b)}},p={clipPath:t?"url(#clipPath-".concat(n,")"):null};return V.createElement(Ne,p,d.map(function(N){return V.cloneElement(N,{key:"bar-".concat(N.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(t,n,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,m=l.dataKey,d=ae(this.props,!1),f=ae(c,!0),p=u.map(function(h,b){var v=Nr(Nr(Nr({key:"dot-".concat(b),r:3},d),f),{},{index:b,cx:h.x,cy:h.y,value:h.value,dataKey:m,payload:h.payload,points:u});return r.renderDotItem(c,v)}),N={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return V.createElement(Ne,Ua({className:"recharts-line-dots",key:"dots"},N),p)}},{key:"renderCurveStatically",value:function(t,n,i,o){var l=this.props,c=l.type,u=l.layout,m=l.connectNulls;l.ref;var d=ch(l,X9),f=Nr(Nr(Nr({},ae(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(i,")"):null,points:t},o),{},{type:c,layout:u,connectNulls:m});return V.createElement(st,Ua({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(t,n){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,m=o.animationBegin,d=o.animationDuration,f=o.animationEasing,p=o.animationId,N=o.animateNewValues,h=o.width,b=o.height,v=this.state,j=v.prevPoints,w=v.totalLength;return V.createElement(Ts,{begin:m,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var g=D.t;if(j){var x=j.length/l.length,y=l.map(function(P,T){var M=Math.floor(T*x);if(j[M]){var C=j[M],R=He(C.x,P.x),F=He(C.y,P.y);return Nr(Nr({},P),{},{x:R(g),y:F(g)})}if(N){var q=He(h*2,P.x),G=He(b/2,P.y);return Nr(Nr({},P),{},{x:q(g),y:G(g)})}return Nr(Nr({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(y,t,n)}var E=He(0,w),k=E(g),_;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});_=i.getStrokeDasharray(k,w,A)}else _=i.generateSimpleStrokeDasharray(w,k);return i.renderCurveStatically(l,t,n,{strokeDasharray:_})})}},{key:"renderCurve",value:function(t,n){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,m=c.totalLength;return l&&o&&o.length&&(!u&&m>0||!it(u,o))?this.renderCurveWithAnimation(t,n):this.renderCurveStatically(o,t,n)}},{key:"render",value:function(){var t,n=this.props,i=n.hide,o=n.dot,l=n.points,c=n.className,u=n.xAxis,m=n.yAxis,d=n.top,f=n.left,p=n.width,N=n.height,h=n.isAnimationActive,b=n.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,j=l.length===1,w=pe("recharts-line",c),D=u&&u.allowDataOverflow,g=m&&m.allowDataOverflow,x=D||g,y=me(b)?this.id:b,E=(t=ae(o,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},k=E.r,_=k===void 0?3:k,A=E.strokeWidth,P=A===void 0?2:A,T=Yh(o)?o:{},M=T.clipDot,C=M===void 0?!0:M,R=_*2+P;return V.createElement(Ne,{className:w},D||g?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(y)},V.createElement("rect",{x:D?f:f-p/2,y:g?d:d-N/2,width:D?p:p*2,height:g?N:N*2})),!C&&V.createElement("clipPath",{id:"clipPath-dots-".concat(y)},V.createElement("rect",{x:f-R/2,y:d-R/2,width:p+R,height:N+R}))):null,!j&&this.renderCurve(x,y),this.renderErrorBar(x,y),(j||o)&&this.renderDots(x,C,y),(!h||v)&&Wr.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(t,n){return t.animationId!==n.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,prevPoints:n.curPoints}:t.points!==n.curPoints?{curPoints:t.points}:null}},{key:"repeat",value:function(t,n){for(var i=t.length%2!==0?[].concat(yt(t),[0]):t,o=[],l=0;l<n;++l)o=[].concat(yt(o),yt(i));return o}},{key:"renderDotItem",value:function(t,n){var i;if(V.isValidElement(t))i=V.cloneElement(t,n);else if(le(t))i=t(n);else{var o=n.key,l=ch(n,Y9),c=pe("recharts-line-dot",typeof t!="boolean"?t.className:"");i=V.createElement(Rn,Ua({key:o},l,{className:c}))}return i}}])}(S.PureComponent);Cr(ta,"displayName","Line");Cr(ta,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Rs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Cr(ta,"getComposedData",function(e){var r=e.props,s=e.xAxis,t=e.yAxis,n=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,m=r.layout,d=c.map(function(f,p){var N=Re(f,o);return m==="horizontal"?{x:Wi({axis:s,ticks:n,bandSize:l,entry:f,index:p}),y:me(N)?null:t.scale(N),value:N,payload:f}:{x:me(N)?null:s.scale(N),y:Wi({axis:t,ticks:i,bandSize:l,entry:f,index:p}),value:N,payload:f}});return Nr({points:d,layout:m},u)});var cR=["layout","type","stroke","connectNulls","isRange","ref"],uR=["key"],sx;function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},aa(e)}function tx(e,r){if(e==null)return{};var s=mR(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function mR(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},Qs.apply(this,arguments)}function dh(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function Vs(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?dh(Object(s),!0).forEach(function(t){Fr(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dh(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function dR(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fh(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,nx(t.key),t)}}function fR(e,r,s){return r&&fh(e.prototype,r),s&&fh(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function pR(e,r,s){return r=fo(r),hR(e,ax()?Reflect.construct(r,s||[],fo(e).constructor):r.apply(e,s))}function hR(e,r){if(r&&(aa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NR(e)}function NR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ax(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ax=function(){return!!e})()}function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},fo(e)}function bR(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Qc(e,r)}function Qc(e,r){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Qc(e,r)}function Fr(e,r,s){return r=nx(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function nx(e){var r=vR(e,"string");return aa(r)=="symbol"?r:r+""}function vR(e,r){if(aa(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(aa(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vs=function(e){function r(){var s;dR(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s=pR(this,r,[].concat(n)),Fr(s,"state",{isAnimationFinished:!0}),Fr(s,"id",ht("recharts-area-")),Fr(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),le(o)&&o()}),Fr(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),le(o)&&o()}),s}return bR(r,e),fR(r,[{key:"renderDots",value:function(t,n,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,m=c.points,d=c.dataKey,f=ae(this.props,!1),p=ae(u,!0),N=m.map(function(b,v){var j=Vs(Vs(Vs({key:"dot-".concat(v),r:3},f),p),{},{index:v,cx:b.x,cy:b.y,dataKey:d,value:b.value,payload:b.payload,points:m});return r.renderDotItem(u,j)}),h={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return V.createElement(Ne,Qs({className:"recharts-area-dots"},h),N)}},{key:"renderHorizontalRect",value:function(t){var n=this.props,i=n.baseLine,o=n.points,l=n.strokeWidth,c=o[0].x,u=o[o.length-1].x,m=t*Math.abs(c-u),d=As(o.map(function(f){return f.y||0}));return W(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(As(i.map(function(f){return f.y||0})),d)),W(d)?V.createElement("rect",{x:c<u?c:c-m,y:0,width:m,height:Math.floor(d+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(t){var n=this.props,i=n.baseLine,o=n.points,l=n.strokeWidth,c=o[0].y,u=o[o.length-1].y,m=t*Math.abs(c-u),d=As(o.map(function(f){return f.x||0}));return W(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(As(i.map(function(f){return f.x||0})),d)),W(d)?V.createElement("rect",{x:0,y:c<u?c:c-m,width:d+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(t){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(t):this.renderHorizontalRect(t)}},{key:"renderAreaStatically",value:function(t,n,i,o){var l=this.props,c=l.layout,u=l.type,m=l.stroke,d=l.connectNulls,f=l.isRange;l.ref;var p=tx(l,cR);return V.createElement(Ne,{clipPath:i?"url(#clipPath-".concat(o,")"):null},V.createElement(st,Qs({},ae(p,!0),{points:t,connectNulls:d,type:u,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),m!=="none"&&V.createElement(st,Qs({},ae(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:t})),m!=="none"&&f&&V.createElement(st,Qs({},ae(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(t,n){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,m=o.animationBegin,d=o.animationDuration,f=o.animationEasing,p=o.animationId,N=this.state,h=N.prevPoints,b=N.prevBaseLine;return V.createElement(Ts,{begin:m,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t;if(h){var w=h.length/l.length,D=l.map(function(E,k){var _=Math.floor(k*w);if(h[_]){var A=h[_],P=He(A.x,E.x),T=He(A.y,E.y);return Vs(Vs({},E),{},{x:P(j),y:T(j)})}return E}),g;if(W(c)&&typeof c=="number"){var x=He(b,c);g=x(j)}else if(me(c)||ha(c)){var y=He(b,0);g=y(j)}else g=c.map(function(E,k){var _=Math.floor(k*w);if(b[_]){var A=b[_],P=He(A.x,E.x),T=He(A.y,E.y);return Vs(Vs({},E),{},{x:P(j),y:T(j)})}return E});return i.renderAreaStatically(D,g,t,n)}return V.createElement(Ne,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(n)},i.renderClipRect(j))),V.createElement(Ne,{clipPath:"url(#animationClipPath-".concat(n,")")},i.renderAreaStatically(l,c,t,n)))})}},{key:"renderArea",value:function(t,n){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,m=u.prevPoints,d=u.prevBaseLine,f=u.totalLength;return c&&o&&o.length&&(!m&&f>0||!it(m,o)||!it(d,l))?this.renderAreaWithAnimation(t,n):this.renderAreaStatically(o,l,t,n)}},{key:"render",value:function(){var t,n=this.props,i=n.hide,o=n.dot,l=n.points,c=n.className,u=n.top,m=n.left,d=n.xAxis,f=n.yAxis,p=n.width,N=n.height,h=n.isAnimationActive,b=n.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,j=l.length===1,w=pe("recharts-area",c),D=d&&d.allowDataOverflow,g=f&&f.allowDataOverflow,x=D||g,y=me(b)?this.id:b,E=(t=ae(o,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},k=E.r,_=k===void 0?3:k,A=E.strokeWidth,P=A===void 0?2:A,T=Yh(o)?o:{},M=T.clipDot,C=M===void 0?!0:M,R=_*2+P;return V.createElement(Ne,{className:w},D||g?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(y)},V.createElement("rect",{x:D?m:m-p/2,y:g?u:u-N/2,width:D?p:p*2,height:g?N:N*2})),!C&&V.createElement("clipPath",{id:"clipPath-dots-".concat(y)},V.createElement("rect",{x:m-R/2,y:u-R/2,width:p+R,height:N+R}))):null,j?null:this.renderArea(x,y),(o||j)&&this.renderDots(x,C,y),(!h||v)&&Wr.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(t,n){return t.animationId!==n.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,curBaseLine:t.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:t.points!==n.curPoints||t.baseLine!==n.curBaseLine?{curPoints:t.points,curBaseLine:t.baseLine}:null}}])}(S.PureComponent);sx=vs;Fr(vs,"displayName","Area");Fr(vs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Rs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fr(vs,"getBaseValue",function(e,r,s,t){var n=e.layout,i=e.baseValue,o=r.props.baseValue,l=o??i;if(W(l)&&typeof l=="number")return l;var c=n==="horizontal"?t:s,u=c.scale.domain();if(c.type==="number"){var m=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return l==="dataMin"?d:l==="dataMax"||m<0?m:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Fr(vs,"getComposedData",function(e){var r=e.props,s=e.item,t=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,m=e.dataStartIndex,d=e.displayedData,f=e.offset,p=r.layout,N=u&&u.length,h=sx.getBaseValue(r,s,t,n),b=p==="horizontal",v=!1,j=d.map(function(D,g){var x;N?x=u[m+g]:(x=Re(D,c),Array.isArray(x)?v=!0:x=[h,x]);var y=x[1]==null||N&&Re(D,c)==null;return b?{x:Wi({axis:t,ticks:i,bandSize:l,entry:D,index:g}),y:y?null:n.scale(x[1]),value:x,payload:D}:{x:y?null:t.scale(x[1]),y:Wi({axis:n,ticks:o,bandSize:l,entry:D,index:g}),value:x,payload:D}}),w;return N||v?w=j.map(function(D){var g=Array.isArray(D.value)?D.value[0]:null;return b?{x:D.x,y:g!=null&&D.y!=null?n.scale(g):null}:{x:g!=null?t.scale(g):null,y:D.y}}):w=b?n.scale(h):t.scale(h),Vs({points:j,baseLine:w,layout:p,isRange:v},f)});Fr(vs,"renderDotItem",function(e,r){var s;if(V.isValidElement(e))s=V.cloneElement(e,r);else if(le(e))s=e(r);else{var t=pe("recharts-area-dot",typeof e!="boolean"?e.className:""),n=r.key,i=tx(r,uR);s=V.createElement(Rn,Qs({},i,{key:n,className:t}))}return s});function na(e){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},na(e)}function xR(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gR(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,lx(t.key),t)}}function jR(e,r,s){return r&&gR(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yR(e,r,s){return r=po(r),wR(e,ix()?Reflect.construct(r,s||[],po(e).constructor):r.apply(e,s))}function wR(e,r){if(r&&(na(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DR(e)}function DR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ix(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ix=function(){return!!e})()}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},po(e)}function ER(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&eu(e,r)}function eu(e,r){return eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},eu(e,r)}function ox(e,r,s){return r=lx(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function lx(e){var r=kR(e,"string");return na(r)=="symbol"?r:r+""}function kR(e,r){if(na(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(na(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},ru.apply(this,arguments)}function VR(e){var r=e.xAxisId,s=ym(),t=wm(),n=Fv(r);return n==null?null:S.createElement(ya,ru({},n,{className:pe("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:s,height:t},ticksGenerator:function(o){return is(o,!0)}}))}var Es=function(e){function r(){return xR(this,r),yR(this,r,arguments)}return ER(r,e),jR(r,[{key:"render",value:function(){return S.createElement(VR,this.props)}}])}(S.Component);ox(Es,"displayName","XAxis");ox(Es,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ia(e)}function SR(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function PR(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,mx(t.key),t)}}function AR(e,r,s){return r&&PR(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _R(e,r,s){return r=ho(r),OR(e,cx()?Reflect.construct(r,s||[],ho(e).constructor):r.apply(e,s))}function OR(e,r){if(r&&(ia(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CR(e)}function CR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cx=function(){return!!e})()}function ho(e){return ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ho(e)}function TR(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&su(e,r)}function su(e,r){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},su(e,r)}function ux(e,r,s){return r=mx(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function mx(e){var r=MR(e,"string");return ia(r)=="symbol"?r:r+""}function MR(e,r){if(ia(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(ia(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},tu.apply(this,arguments)}var $R=function(r){var s=r.yAxisId,t=ym(),n=wm(),i=Uv(s);return i==null?null:S.createElement(ya,tu({},i,{className:pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:t,height:n},ticksGenerator:function(l){return is(l,!0)}}))},Jr=function(e){function r(){return SR(this,r),_R(this,r,arguments)}return TR(r,e),AR(r,[{key:"render",value:function(){return S.createElement($R,this.props)}}])}(S.Component);ux(Jr,"displayName","YAxis");ux(Jr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ph(e){return BR(e)||LR(e)||RR(e)||IR()}function IR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RR(e,r){if(e){if(typeof e=="string")return au(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return au(e,r)}}function LR(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BR(e){if(Array.isArray(e))return au(e)}function au(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}var nu=function(r,s,t,n,i){var o=jr(r,Em),l=jr(r,Jo),c=[].concat(ph(o),ph(l)),u=jr(r,Qo),m="".concat(n,"Id"),d=n[0],f=s;if(c.length&&(f=c.reduce(function(h,b){if(b.props[m]===t&&qr(b.props,"extendDomain")&&W(b.props[d])){var v=b.props[d];return[Math.min(h[0],v),Math.max(h[1],v)]}return h},f)),u.length){var p="".concat(d,"1"),N="".concat(d,"2");f=u.reduce(function(h,b){if(b.props[m]===t&&qr(b.props,"extendDomain")&&W(b.props[p])&&W(b.props[N])){var v=b.props[p],j=b.props[N];return[Math.min(h[0],v,j),Math.max(h[1],v,j)]}return h},f)}return i&&i.length&&(f=i.reduce(function(h,b){return W(b)?[Math.min(h[0],b),Math.max(h[1],b)]:h},f)),f},dx={exports:{}};(function(e){var r=Object.prototype.hasOwnProperty,s="~";function t(){}Object.create&&(t.prototype=Object.create(null),new t().__proto__||(s=!1));function n(c,u,m){this.fn=c,this.context=u,this.once=m||!1}function i(c,u,m,d,f){if(typeof m!="function")throw new TypeError("The listener must be a function");var p=new n(m,d||c,f),N=s?s+u:u;return c._events[N]?c._events[N].fn?c._events[N]=[c._events[N],p]:c._events[N].push(p):(c._events[N]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new t:delete c._events[u]}function l(){this._events=new t,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],m,d;if(this._eventsCount===0)return u;for(d in m=this._events)r.call(m,d)&&u.push(s?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},l.prototype.listeners=function(u){var m=s?s+u:u,d=this._events[m];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,N=new Array(p);f<p;f++)N[f]=d[f].fn;return N},l.prototype.listenerCount=function(u){var m=s?s+u:u,d=this._events[m];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,m,d,f,p,N){var h=s?s+u:u;if(!this._events[h])return!1;var b=this._events[h],v=arguments.length,j,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,m),!0;case 3:return b.fn.call(b.context,m,d),!0;case 4:return b.fn.call(b.context,m,d,f),!0;case 5:return b.fn.call(b.context,m,d,f,p),!0;case 6:return b.fn.call(b.context,m,d,f,p,N),!0}for(w=1,j=new Array(v-1);w<v;w++)j[w-1]=arguments[w];b.fn.apply(b.context,j)}else{var D=b.length,g;for(w=0;w<D;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),v){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,m);break;case 3:b[w].fn.call(b[w].context,m,d);break;case 4:b[w].fn.call(b[w].context,m,d,f);break;default:if(!j)for(g=1,j=new Array(v-1);g<v;g++)j[g-1]=arguments[g];b[w].fn.apply(b[w].context,j)}}return!0},l.prototype.on=function(u,m,d){return i(this,u,m,d,!1)},l.prototype.once=function(u,m,d){return i(this,u,m,d,!0)},l.prototype.removeListener=function(u,m,d,f){var p=s?s+u:u;if(!this._events[p])return this;if(!m)return o(this,p),this;var N=this._events[p];if(N.fn)N.fn===m&&(!f||N.once)&&(!d||N.context===d)&&o(this,p);else{for(var h=0,b=[],v=N.length;h<v;h++)(N[h].fn!==m||f&&!N[h].once||d&&N[h].context!==d)&&b.push(N[h]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var m;return u?(m=s?s+u:u,this._events[m]&&o(this,m)):(this._events=new t,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,e.exports=l})(dx);var zR=dx.exports;const FR=Ee(zR);var Tl=new FR,Ml="recharts.syncMouseEvents";function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},En(e)}function UR(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function WR(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,fx(t.key),t)}}function qR(e,r,s){return r&&WR(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $l(e,r,s){return r=fx(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function fx(e){var r=KR(e,"string");return En(r)=="symbol"?r:r+""}function KR(e,r){if(En(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(En(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GR=function(){function e(){UR(this,e),$l(this,"activeIndex",0),$l(this,"coordinateList",[]),$l(this,"layout","horizontal")}return qR(e,[{key:"setDetails",value:function(s){var t,n=s.coordinateList,i=n===void 0?null:n,o=s.container,l=o===void 0?null:o,c=s.layout,u=c===void 0?null:c,m=s.offset,d=m===void 0?null:m,f=s.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(t=i??this.coordinateList)!==null&&t!==void 0?t:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(s){if(this.coordinateList.length!==0)switch(s.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(s){this.activeIndex=s}},{key:"spoofMouse",value:function(){var s,t;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),i=n.x,o=n.y,l=n.height,c=this.coordinateList[this.activeIndex].coordinate,u=((s=window)===null||s===void 0?void 0:s.scrollX)||0,m=((t=window)===null||t===void 0?void 0:t.scrollY)||0,d=i+c+u,f=o+this.offset.top+l/2+m;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function HR(e,r,s){if(s==="number"&&r===!0&&Array.isArray(e)){var t=e?.[0],n=e?.[1];if(t&&n&&W(t)&&W(n))return!0}return!1}function XR(e,r,s,t){var n=t/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:r.y-n,width:e==="horizontal"?t:s.width-1,height:e==="horizontal"?s.height-1:t}}function px(e){var r=e.cx,s=e.cy,t=e.radius,n=e.startAngle,i=e.endAngle,o=Pe(r,s,t,n),l=Pe(r,s,t,i);return{points:[o,l],cx:r,cy:s,radius:t,startAngle:n,endAngle:i}}function YR(e,r,s){var t,n,i,o;if(e==="horizontal")t=r.x,i=t,n=s.top,o=s.top+s.height;else if(e==="vertical")n=r.y,o=n,t=s.left,i=s.left+s.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var l=r.cx,c=r.cy,u=r.innerRadius,m=r.outerRadius,d=r.angle,f=Pe(l,c,u,d),p=Pe(l,c,m,d);t=f.x,n=f.y,i=p.x,o=p.y}else return px(r);return[{x:t,y:n},{x:i,y:o}]}function kn(e){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kn(e)}function hh(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function ri(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(s),!0).forEach(function(t){JR(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hh(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function JR(e,r,s){return r=ZR(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ZR(e){var r=QR(e,"string");return kn(r)=="symbol"?r:r+""}function QR(e,r){if(kn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(kn(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function e6(e){var r,s,t=e.element,n=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,m=e.tooltipAxisBandSize,d=e.layout,f=e.chartName,p=(r=t.props.cursor)!==null&&r!==void 0?r:(s=t.type.defaultProps)===null||s===void 0?void 0:s.cursor;if(!t||!p||!i||!o||f!=="ScatterChart"&&n!=="axis")return null;var N,h=st;if(f==="ScatterChart")N=o,h=l4;else if(f==="BarChart")N=XR(d,o,c,m),h=bm;else if(d==="radial"){var b=px(o),v=b.cx,j=b.cy,w=b.radius,D=b.startAngle,g=b.endAngle;N={cx:v,cy:j,startAngle:D,endAngle:g,innerRadius:w,outerRadius:w},h=Nv}else N={points:YR(d,o,c)},h=st;var x=ri(ri(ri(ri({stroke:"#ccc",pointerEvents:"none"},c),N),ae(p,!1)),{},{payload:l,payloadIndex:u,className:pe("recharts-tooltip-cursor",p.className)});return S.isValidElement(p)?S.cloneElement(p,x):S.createElement(h,x)}var r6=["item"],s6=["children","className","width","height","style","compact","title","desc"];function oa(e){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oa(e)}function St(){return St=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},St.apply(this,arguments)}function Nh(e,r){return n6(e)||a6(e,r)||Nx(e,r)||t6()}function t6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a6(e,r){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var t,n,i,o,l=[],c=!0,u=!1;try{if(i=(s=s.call(e)).next,r!==0)for(;!(c=(t=i.call(s)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(m){u=!0,n=m}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function n6(e){if(Array.isArray(e))return e}function bh(e,r){if(e==null)return{};var s=i6(e,r),t,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function i6(e,r){if(e==null)return{};var s={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;s[t]=e[t]}return s}function o6(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function l6(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,bx(t.key),t)}}function c6(e,r,s){return r&&l6(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u6(e,r,s){return r=No(r),m6(e,hx()?Reflect.construct(r,s||[],No(e).constructor):r.apply(e,s))}function m6(e,r){if(r&&(oa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d6(e)}function d6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hx=function(){return!!e})()}function No(e){return No=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},No(e)}function f6(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&iu(e,r)}function iu(e,r){return iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},iu(e,r)}function la(e){return N6(e)||h6(e)||Nx(e)||p6()}function p6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nx(e,r){if(e){if(typeof e=="string")return ou(e,r);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ou(e,r)}}function h6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N6(e){if(Array.isArray(e))return ou(e)}function ou(e,r){(r==null||r>e.length)&&(r=e.length);for(var s=0,t=new Array(r);s<r;s++)t[s]=e[s];return t}function vh(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,t)}return s}function L(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?vh(Object(s),!0).forEach(function(t){oe(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vh(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function oe(e,r,s){return r=bx(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function bx(e){var r=b6(e,"string");return oa(r)=="symbol"?r:r+""}function b6(e,r){if(oa(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var t=s.call(e,r);if(oa(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var v6={xAxis:["bottom","top"],yAxis:["left","right"]},x6={width:"100%",height:"100%"},vx={x:0,y:0};function si(e){return e}var g6=function(r,s){return s==="horizontal"?r.x:s==="vertical"?r.y:s==="centric"?r.angle:r.radius},j6=function(r,s,t,n){var i=s.find(function(m){return m&&m.index===t});if(i){if(r==="horizontal")return{x:i.coordinate,y:n.y};if(r==="vertical")return{x:n.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,l=n.radius;return L(L(L({},n),Pe(n.cx,n.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=n.angle;return L(L(L({},n),Pe(n.cx,n.cy,c,u)),{},{angle:u,radius:c})}return vx},el=function(r,s){var t=s.graphicalItems,n=s.dataStartIndex,i=s.dataEndIndex,o=(t??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(la(l),la(u)):l},[]);return o.length>0?o:r&&r.length&&W(n)&&W(i)?r.slice(n,i+1):[]};function xx(e){return e==="number"?[0,"auto"]:void 0}var lu=function(r,s,t,n){var i=r.graphicalItems,o=r.tooltipAxis,l=el(s,r);return t<0||!i||!i.length||t>=l.length?null:i.reduce(function(c,u){var m,d=(m=u.props.data)!==null&&m!==void 0?m:s;d&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=t&&(d=d.slice(r.dataStartIndex,r.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?l:d;f=Ni(p,o.dataKey,n)}else f=d&&d[t]||l[t];return f?[].concat(la(c),[uv(u,f)]):c},[])},xh=function(r,s,t,n){var i=n||{x:r.chartX,y:r.chartY},o=g6(i,t),l=r.orderedTooltipTicks,c=r.tooltipAxis,u=r.tooltipTicks,m=d5(o,l,u,c);if(m>=0&&u){var d=u[m]&&u[m].value,f=lu(r,s,m,d),p=j6(t,l,m,i);return{activeTooltipIndex:m,activeLabel:d,activePayload:f,activeCoordinate:p}}return null},y6=function(r,s){var t=s.axes,n=s.graphicalItems,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,u=s.dataEndIndex,m=r.layout,d=r.children,f=r.stackOffset,p=av(m,i);return t.reduce(function(N,h){var b,v=h.type.defaultProps!==void 0?L(L({},h.type.defaultProps),h.props):h.props,j=v.type,w=v.dataKey,D=v.allowDataOverflow,g=v.allowDuplicatedCategory,x=v.scale,y=v.ticks,E=v.includeHidden,k=v[o];if(N[k])return N;var _=el(r.data,{graphicalItems:n.filter(function(Z){var Y,ie=o in Z.props?Z.props[o]:(Y=Z.type.defaultProps)===null||Y===void 0?void 0:Y[o];return ie===k}),dataStartIndex:c,dataEndIndex:u}),A=_.length,P,T,M;HR(v.domain,D,j)&&(P=Ac(v.domain,null,D),p&&(j==="number"||x!=="auto")&&(M=Ba(_,w,"category")));var C=xx(j);if(!P||P.length===0){var R,F=(R=v.domain)!==null&&R!==void 0?R:C;if(w){if(P=Ba(_,w,j),j==="category"&&p){var q=tw(P);g&&q?(T=P,P=eo(0,A)):g||(P=tp(F,P,h).reduce(function(Z,Y){return Z.indexOf(Y)>=0?Z:[].concat(la(Z),[Y])},[]))}else if(j==="category")g?P=P.filter(function(Z){return Z!==""&&!me(Z)}):P=tp(F,P,h).reduce(function(Z,Y){return Z.indexOf(Y)>=0||Y===""||me(Y)?Z:[].concat(la(Z),[Y])},[]);else if(j==="number"){var G=b5(_,n.filter(function(Z){var Y,ie,xe=o in Z.props?Z.props[o]:(Y=Z.type.defaultProps)===null||Y===void 0?void 0:Y[o],K="hide"in Z.props?Z.props.hide:(ie=Z.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return xe===k&&(E||!K)}),w,i,m);G&&(P=G)}p&&(j==="number"||x!=="auto")&&(M=Ba(_,w,"category"))}else p?P=eo(0,A):l&&l[k]&&l[k].hasStack&&j==="number"?P=f==="expand"?[0,1]:cv(l[k].stackGroups,c,u):P=tv(_,n.filter(function(Z){var Y=o in Z.props?Z.props[o]:Z.type.defaultProps[o],ie="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return Y===k&&(E||!ie)}),j,m,!0);if(j==="number")P=nu(d,P,k,i,y),F&&(P=Ac(F,P,D));else if(j==="category"&&F){var re=F,ne=P.every(function(Z){return re.indexOf(Z)>=0});ne&&(P=re)}}return L(L({},N),{},oe({},k,L(L({},v),{},{axisType:i,domain:P,categoricalDomain:M,duplicateDomain:T,originalDomain:(b=v.domain)!==null&&b!==void 0?b:C,isCategorical:p,layout:m})))},{})},w6=function(r,s){var t=s.graphicalItems,n=s.Axis,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,u=s.dataEndIndex,m=r.layout,d=r.children,f=el(r.data,{graphicalItems:t,dataStartIndex:c,dataEndIndex:u}),p=f.length,N=av(m,i),h=-1;return t.reduce(function(b,v){var j=v.type.defaultProps!==void 0?L(L({},v.type.defaultProps),v.props):v.props,w=j[o],D=xx("number");if(!b[w]){h++;var g;return N?g=eo(0,p):l&&l[w]&&l[w].hasStack?(g=cv(l[w].stackGroups,c,u),g=nu(d,g,w,i)):(g=Ac(D,tv(f,t.filter(function(x){var y,E,k=o in x.props?x.props[o]:(y=x.type.defaultProps)===null||y===void 0?void 0:y[o],_="hide"in x.props?x.props.hide:(E=x.type.defaultProps)===null||E===void 0?void 0:E.hide;return k===w&&!_}),"number",m),n.defaultProps.allowDataOverflow),g=nu(d,g,w,i)),L(L({},b),{},oe({},w,L(L({axisType:i},n.defaultProps),{},{hide:!0,orientation:gr(v6,"".concat(i,".").concat(h%2),null),domain:g,originalDomain:D,isCategorical:N,layout:m})))}return b},{})},D6=function(r,s){var t=s.axisType,n=t===void 0?"xAxis":t,i=s.AxisComp,o=s.graphicalItems,l=s.stackGroups,c=s.dataStartIndex,u=s.dataEndIndex,m=r.children,d="".concat(n,"Id"),f=jr(m,i),p={};return f&&f.length?p=y6(r,{axes:f,graphicalItems:o,axisType:n,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=w6(r,{Axis:i,graphicalItems:o,axisType:n,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},E6=function(r){var s=Ps(r),t=is(s,!1,!0);return{tooltipTicks:t,orderedTooltipTicks:Wu(t,function(n){return n.coordinate}),tooltipAxis:s,tooltipAxisBandSize:qi(s,t)}},gh=function(r){var s=r.children,t=r.defaultShowTooltip,n=vr(s,Xt),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(i=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!t}},k6=function(r){return!r||!r.length?!1:r.some(function(s){var t=us(s&&s.type);return t&&t.indexOf("Bar")>=0})},jh=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},V6=function(r,s){var t=r.props,n=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,l=r.yAxisMap,c=l===void 0?{}:l,u=t.width,m=t.height,d=t.children,f=t.margin||{},p=vr(d,Xt),N=vr(d,Ct),h=Object.keys(c).reduce(function(g,x){var y=c[x],E=y.orientation;return!y.mirror&&!y.hide?L(L({},g),{},oe({},E,g[E]+y.width)):g},{left:f.left||0,right:f.right||0}),b=Object.keys(o).reduce(function(g,x){var y=o[x],E=y.orientation;return!y.mirror&&!y.hide?L(L({},g),{},oe({},E,gr(g,"".concat(E))+y.height)):g},{top:f.top||0,bottom:f.bottom||0}),v=L(L({},b),h),j=v.bottom;p&&(v.bottom+=p.props.height||Xt.defaultProps.height),N&&s&&(v=h5(v,n,t,s));var w=u-v.left-v.right,D=m-v.top-v.bottom;return L(L({brushBottom:j},v),{},{width:Math.max(w,0),height:Math.max(D,0)})},S6=function(r,s){if(s==="xAxis")return r[s].width;if(s==="yAxis")return r[s].height},rl=function(r){var s=r.chartName,t=r.GraphicalChild,n=r.defaultTooltipEventType,i=n===void 0?"axis":n,o=r.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=r.axisComponents,u=r.legendContent,m=r.formatAxisMap,d=r.defaultProps,f=function(v,j){var w=j.graphicalItems,D=j.stackGroups,g=j.offset,x=j.updateId,y=j.dataStartIndex,E=j.dataEndIndex,k=v.barSize,_=v.layout,A=v.barGap,P=v.barCategoryGap,T=v.maxBarSize,M=jh(_),C=M.numericAxisName,R=M.cateAxisName,F=k6(w),q=[];return w.forEach(function(G,re){var ne=el(v.data,{graphicalItems:[G],dataStartIndex:y,dataEndIndex:E}),Z=G.type.defaultProps!==void 0?L(L({},G.type.defaultProps),G.props):G.props,Y=Z.dataKey,ie=Z.maxBarSize,xe=Z["".concat(C,"Id")],K=Z["".concat(R,"Id")],ge={},Me=c.reduce(function(zs,es){var al,nl,il=j["".concat(es.axisType,"Map")],Pm=Z["".concat(es.axisType,"Id")];il&&il[Pm]||es.axisType==="zAxis"||lt(!1,"Specifying a(n) ".concat(es.axisType,"Id requires a corresponding ").concat(es.axisType,"Id on the targeted graphical component ").concat((al=G==null||(nl=G.type)===null||nl===void 0?void 0:nl.displayName)!==null&&al!==void 0?al:""));var Am=il[Pm];return L(L({},zs),{},oe(oe({},es.axisType,Am),"".concat(es.axisType,"Ticks"),is(Am)))},ge),J=Me[R],de=Me["".concat(R,"Ticks")],he=D&&D[xe]&&D[xe].hasStack&&k5(G,D[xe].stackGroups),U=us(G.type).indexOf("Bar")>=0,$e=qi(J,de),be=[],We=F&&f5({barSize:k,stackGroups:D,totalSize:S6(Me,R)});if(U){var qe,fr,ks=me(ie)?T:ie,vt=(qe=(fr=qi(J,de,!0))!==null&&fr!==void 0?fr:ks)!==null&&qe!==void 0?qe:0;be=p5({barGap:A,barCategoryGap:P,bandSize:vt!==$e?vt:$e,sizeList:We[K],maxBarSize:ks}),vt!==$e&&(be=be.map(function(zs){return L(L({},zs),{},{position:L(L({},zs.position),{},{offset:zs.position.offset-vt/2})})}))}var Un=G&&G.type&&G.type.getComposedData;Un&&q.push({props:L(L({},Un(L(L({},Me),{},{displayedData:ne,props:v,dataKey:Y,item:G,bandSize:$e,barPosition:be,offset:g,stackedData:he,layout:_,dataStartIndex:y,dataEndIndex:E}))),{},oe(oe(oe({key:G.key||"item-".concat(re)},C,Me[C]),R,Me[R]),"animationId",x)),childIndex:hw(G,v.children),item:G})}),q},p=function(v,j){var w=v.props,D=v.dataStartIndex,g=v.dataEndIndex,x=v.updateId;if(!Xm({props:w}))return null;var y=w.children,E=w.layout,k=w.stackOffset,_=w.data,A=w.reverseStackOrder,P=jh(E),T=P.numericAxisName,M=P.cateAxisName,C=jr(y,t),R=D5(_,C,"".concat(T,"Id"),"".concat(M,"Id"),k,A),F=c.reduce(function(Z,Y){var ie="".concat(Y.axisType,"Map");return L(L({},Z),{},oe({},ie,D6(w,L(L({},Y),{},{graphicalItems:C,stackGroups:Y.axisType===T&&R,dataStartIndex:D,dataEndIndex:g}))))},{}),q=V6(L(L({},F),{},{props:w,graphicalItems:C}),j?.legendBBox);Object.keys(F).forEach(function(Z){F[Z]=m(w,F[Z],q,Z.replace("Map",""),s)});var G=F["".concat(M,"Map")],re=E6(G),ne=f(w,L(L({},F),{},{dataStartIndex:D,dataEndIndex:g,updateId:x,graphicalItems:C,stackGroups:R,offset:q}));return L(L({formattedGraphicalItems:ne,graphicalItems:C,offset:q,stackGroups:R},re),F)},N=function(b){function v(j){var w,D,g;return o6(this,v),g=u6(this,v,[j]),oe(g,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),oe(g,"accessibilityManager",new GR),oe(g,"handleLegendBBoxUpdate",function(x){if(x){var y=g.state,E=y.dataStartIndex,k=y.dataEndIndex,_=y.updateId;g.setState(L({legendBBox:x},p({props:g.props,dataStartIndex:E,dataEndIndex:k,updateId:_},L(L({},g.state),{},{legendBBox:x}))))}}),oe(g,"handleReceiveSyncEvent",function(x,y,E){if(g.props.syncId===x){if(E===g.eventEmitterSymbol&&typeof g.props.syncMethod!="function")return;g.applySyncEvent(y)}}),oe(g,"handleBrushChange",function(x){var y=x.startIndex,E=x.endIndex;if(y!==g.state.dataStartIndex||E!==g.state.dataEndIndex){var k=g.state.updateId;g.setState(function(){return L({dataStartIndex:y,dataEndIndex:E},p({props:g.props,dataStartIndex:y,dataEndIndex:E,updateId:k},g.state))}),g.triggerSyncEvent({dataStartIndex:y,dataEndIndex:E})}}),oe(g,"handleMouseEnter",function(x){var y=g.getMouseInfo(x);if(y){var E=L(L({},y),{},{isTooltipActive:!0});g.setState(E),g.triggerSyncEvent(E);var k=g.props.onMouseEnter;le(k)&&k(E,x)}}),oe(g,"triggeredAfterMouseMove",function(x){var y=g.getMouseInfo(x),E=y?L(L({},y),{},{isTooltipActive:!0}):{isTooltipActive:!1};g.setState(E),g.triggerSyncEvent(E);var k=g.props.onMouseMove;le(k)&&k(E,x)}),oe(g,"handleItemMouseEnter",function(x){g.setState(function(){return{isTooltipActive:!0,activeItem:x,activePayload:x.tooltipPayload,activeCoordinate:x.tooltipPosition||{x:x.cx,y:x.cy}}})}),oe(g,"handleItemMouseLeave",function(){g.setState(function(){return{isTooltipActive:!1}})}),oe(g,"handleMouseMove",function(x){x.persist(),g.throttleTriggeredAfterMouseMove(x)}),oe(g,"handleMouseLeave",function(x){g.throttleTriggeredAfterMouseMove.cancel();var y={isTooltipActive:!1};g.setState(y),g.triggerSyncEvent(y);var E=g.props.onMouseLeave;le(E)&&E(y,x)}),oe(g,"handleOuterEvent",function(x){var y=pw(x),E=gr(g.props,"".concat(y));if(y&&le(E)){var k,_;/.*touch.*/i.test(y)?_=g.getMouseInfo(x.changedTouches[0]):_=g.getMouseInfo(x),E((k=_)!==null&&k!==void 0?k:{},x)}}),oe(g,"handleClick",function(x){var y=g.getMouseInfo(x);if(y){var E=L(L({},y),{},{isTooltipActive:!0});g.setState(E),g.triggerSyncEvent(E);var k=g.props.onClick;le(k)&&k(E,x)}}),oe(g,"handleMouseDown",function(x){var y=g.props.onMouseDown;if(le(y)){var E=g.getMouseInfo(x);y(E,x)}}),oe(g,"handleMouseUp",function(x){var y=g.props.onMouseUp;if(le(y)){var E=g.getMouseInfo(x);y(E,x)}}),oe(g,"handleTouchMove",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&g.throttleTriggeredAfterMouseMove(x.changedTouches[0])}),oe(g,"handleTouchStart",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&g.handleMouseDown(x.changedTouches[0])}),oe(g,"handleTouchEnd",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&g.handleMouseUp(x.changedTouches[0])}),oe(g,"handleDoubleClick",function(x){var y=g.props.onDoubleClick;if(le(y)){var E=g.getMouseInfo(x);y(E,x)}}),oe(g,"handleContextMenu",function(x){var y=g.props.onContextMenu;if(le(y)){var E=g.getMouseInfo(x);y(E,x)}}),oe(g,"triggerSyncEvent",function(x){g.props.syncId!==void 0&&Tl.emit(Ml,g.props.syncId,x,g.eventEmitterSymbol)}),oe(g,"applySyncEvent",function(x){var y=g.props,E=y.layout,k=y.syncMethod,_=g.state.updateId,A=x.dataStartIndex,P=x.dataEndIndex;if(x.dataStartIndex!==void 0||x.dataEndIndex!==void 0)g.setState(L({dataStartIndex:A,dataEndIndex:P},p({props:g.props,dataStartIndex:A,dataEndIndex:P,updateId:_},g.state)));else if(x.activeTooltipIndex!==void 0){var T=x.chartX,M=x.chartY,C=x.activeTooltipIndex,R=g.state,F=R.offset,q=R.tooltipTicks;if(!F)return;if(typeof k=="function")C=k(q,x);else if(k==="value"){C=-1;for(var G=0;G<q.length;G++)if(q[G].value===x.activeLabel){C=G;break}}var re=L(L({},F),{},{x:F.left,y:F.top}),ne=Math.min(T,re.x+re.width),Z=Math.min(M,re.y+re.height),Y=q[C]&&q[C].value,ie=lu(g.state,g.props.data,C),xe=q[C]?{x:E==="horizontal"?q[C].coordinate:ne,y:E==="horizontal"?Z:q[C].coordinate}:vx;g.setState(L(L({},x),{},{activeLabel:Y,activeCoordinate:xe,activePayload:ie,activeTooltipIndex:C}))}else g.setState(x)}),oe(g,"renderCursor",function(x){var y,E=g.state,k=E.isTooltipActive,_=E.activeCoordinate,A=E.activePayload,P=E.offset,T=E.activeTooltipIndex,M=E.tooltipAxisBandSize,C=g.getTooltipEventType(),R=(y=x.props.active)!==null&&y!==void 0?y:k,F=g.props.layout,q=x.key||"_recharts-cursor";return V.createElement(e6,{key:q,activeCoordinate:_,activePayload:A,activeTooltipIndex:T,chartName:s,element:x,isActive:R,layout:F,offset:P,tooltipAxisBandSize:M,tooltipEventType:C})}),oe(g,"renderPolarAxis",function(x,y,E){var k=gr(x,"type.axisType"),_=gr(g.state,"".concat(k,"Map")),A=x.type.defaultProps,P=A!==void 0?L(L({},A),x.props):x.props,T=_&&_[P["".concat(k,"Id")]];return S.cloneElement(x,L(L({},T),{},{className:pe(k,T.className),key:x.key||"".concat(y,"-").concat(E),ticks:is(T,!0)}))}),oe(g,"renderPolarGrid",function(x){var y=x.props,E=y.radialLines,k=y.polarAngles,_=y.polarRadius,A=g.state,P=A.radiusAxisMap,T=A.angleAxisMap,M=Ps(P),C=Ps(T),R=C.cx,F=C.cy,q=C.innerRadius,G=C.outerRadius;return S.cloneElement(x,{polarAngles:Array.isArray(k)?k:is(C,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(_)?_:is(M,!0).map(function(re){return re.coordinate}),cx:R,cy:F,innerRadius:q,outerRadius:G,key:x.key||"polar-grid",radialLines:E})}),oe(g,"renderLegend",function(){var x=g.state.formattedGraphicalItems,y=g.props,E=y.children,k=y.width,_=y.height,A=g.props.margin||{},P=k-(A.left||0)-(A.right||0),T=rv({children:E,formattedGraphicalItems:x,legendWidth:P,legendContent:u});if(!T)return null;var M=T.item,C=bh(T,r6);return S.cloneElement(M,L(L({},C),{},{chartWidth:k,chartHeight:_,margin:A,onBBoxUpdate:g.handleLegendBBoxUpdate}))}),oe(g,"renderTooltip",function(){var x,y=g.props,E=y.children,k=y.accessibilityLayer,_=vr(E,Lr);if(!_)return null;var A=g.state,P=A.isTooltipActive,T=A.activeCoordinate,M=A.activePayload,C=A.activeLabel,R=A.offset,F=(x=_.props.active)!==null&&x!==void 0?x:P;return S.cloneElement(_,{viewBox:L(L({},R),{},{x:R.left,y:R.top}),active:F,label:C,payload:F?M:[],coordinate:T,accessibilityLayer:k})}),oe(g,"renderBrush",function(x){var y=g.props,E=y.margin,k=y.data,_=g.state,A=_.offset,P=_.dataStartIndex,T=_.dataEndIndex,M=_.updateId;return S.cloneElement(x,{key:x.key||"_recharts-brush",onChange:Zn(g.handleBrushChange,x.props.onChange),data:k,x:W(x.props.x)?x.props.x:A.left,y:W(x.props.y)?x.props.y:A.top+A.height+A.brushBottom-(E.bottom||0),width:W(x.props.width)?x.props.width:A.width,startIndex:P,endIndex:T,updateId:"brush-".concat(M)})}),oe(g,"renderReferenceElement",function(x,y,E){if(!x)return null;var k=g,_=k.clipPathId,A=g.state,P=A.xAxisMap,T=A.yAxisMap,M=A.offset,C=x.type.defaultProps||{},R=x.props,F=R.xAxisId,q=F===void 0?C.xAxisId:F,G=R.yAxisId,re=G===void 0?C.yAxisId:G;return S.cloneElement(x,{key:x.key||"".concat(y,"-").concat(E),xAxis:P[q],yAxis:T[re],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:_})}),oe(g,"renderActivePoints",function(x){var y=x.item,E=x.activePoint,k=x.basePoint,_=x.childIndex,A=x.isRange,P=[],T=y.props.key,M=y.item.type.defaultProps!==void 0?L(L({},y.item.type.defaultProps),y.item.props):y.item.props,C=M.activeDot,R=M.dataKey,F=L(L({index:_,dataKey:R,cx:E.x,cy:E.y,r:4,fill:Nm(y.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ae(C,!1)),bi(C));return P.push(v.renderActiveDot(C,F,"".concat(T,"-activePoint-").concat(_))),k?P.push(v.renderActiveDot(C,L(L({},F),{},{cx:k.x,cy:k.y}),"".concat(T,"-basePoint-").concat(_))):A&&P.push(null),P}),oe(g,"renderGraphicChild",function(x,y,E){var k=g.filterFormatItem(x,y,E);if(!k)return null;var _=g.getTooltipEventType(),A=g.state,P=A.isTooltipActive,T=A.tooltipAxis,M=A.activeTooltipIndex,C=A.activeLabel,R=g.props.children,F=vr(R,Lr),q=k.props,G=q.points,re=q.isRange,ne=q.baseLine,Z=k.item.type.defaultProps!==void 0?L(L({},k.item.type.defaultProps),k.item.props):k.item.props,Y=Z.activeDot,ie=Z.hide,xe=Z.activeBar,K=Z.activeShape,ge=!!(!ie&&P&&F&&(Y||xe||K)),Me={};_!=="axis"&&F&&F.props.trigger==="click"?Me={onClick:Zn(g.handleItemMouseEnter,x.props.onClick)}:_!=="axis"&&(Me={onMouseLeave:Zn(g.handleItemMouseLeave,x.props.onMouseLeave),onMouseEnter:Zn(g.handleItemMouseEnter,x.props.onMouseEnter)});var J=S.cloneElement(x,L(L({},k.props),Me));function de(es){return typeof T.dataKey=="function"?T.dataKey(es.payload):null}if(ge)if(M>=0){var he,U;if(T.dataKey&&!T.allowDuplicatedCategory){var $e=typeof T.dataKey=="function"?de:"payload.".concat(T.dataKey.toString());he=Ni(G,$e,C),U=re&&ne&&Ni(ne,$e,C)}else he=G?.[M],U=re&&ne&&ne[M];if(K||xe){var be=x.props.activeIndex!==void 0?x.props.activeIndex:M;return[S.cloneElement(x,L(L(L({},k.props),Me),{},{activeIndex:be})),null,null]}if(!me(he))return[J].concat(la(g.renderActivePoints({item:k,activePoint:he,basePoint:U,childIndex:M,isRange:re})))}else{var We,qe=(We=g.getItemByXY(g.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:J},fr=qe.graphicalItem,ks=fr.item,vt=ks===void 0?x:ks,Un=fr.childIndex,zs=L(L(L({},k.props),Me),{},{activeIndex:Un});return[S.cloneElement(vt,zs),null,null]}return re?[J,null,null]:[J,null]}),oe(g,"renderCustomized",function(x,y,E){return S.cloneElement(x,L(L({key:"recharts-customized-".concat(E)},g.props),g.state))}),oe(g,"renderMap",{CartesianGrid:{handler:si,once:!0},ReferenceArea:{handler:g.renderReferenceElement},ReferenceLine:{handler:si},ReferenceDot:{handler:g.renderReferenceElement},XAxis:{handler:si},YAxis:{handler:si},Brush:{handler:g.renderBrush,once:!0},Bar:{handler:g.renderGraphicChild},Line:{handler:g.renderGraphicChild},Area:{handler:g.renderGraphicChild},Radar:{handler:g.renderGraphicChild},RadialBar:{handler:g.renderGraphicChild},Scatter:{handler:g.renderGraphicChild},Pie:{handler:g.renderGraphicChild},Funnel:{handler:g.renderGraphicChild},Tooltip:{handler:g.renderCursor,once:!0},PolarGrid:{handler:g.renderPolarGrid,once:!0},PolarAngleAxis:{handler:g.renderPolarAxis},PolarRadiusAxis:{handler:g.renderPolarAxis},Customized:{handler:g.renderCustomized}}),g.clipPathId="".concat((w=j.id)!==null&&w!==void 0?w:ht("recharts"),"-clip"),g.throttleTriggeredAfterMouseMove=QN(g.triggeredAfterMouseMove,(D=j.throttleDelay)!==null&&D!==void 0?D:1e3/60),g.state={},g}return f6(v,b),c6(v,[{key:"componentDidMount",value:function(){var w,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,D=w.children,g=w.data,x=w.height,y=w.layout,E=vr(D,Lr);if(E){var k=E.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var _=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,A=lu(this.state,g,k,_),P=this.state.tooltipTicks[k].coordinate,T=(this.state.offset.top+x)/2,M=y==="horizontal",C=M?{x:P,y:T}:{y:P,x:T},R=this.state.formattedGraphicalItems.find(function(q){var G=q.item;return G.type.name==="Scatter"});R&&(C=L(L({},C),R.props.points[k].tooltipPosition),A=R.props.points[k].tooltipPayload);var F={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:_,activePayload:A,activeCoordinate:C};this.setState(F),this.renderCursor(E),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var g,x;this.accessibilityManager.setDetails({offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(w){ql([vr(w.children,Lr)],[vr(this.props.children,Lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=vr(this.props.children,Lr);if(w&&typeof w.props.shared=="boolean"){var D=w.props.shared?"axis":"item";return l.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var D=this.container,g=D.getBoundingClientRect(),x=z_(g),y={chartX:Math.round(w.pageX-x.left),chartY:Math.round(w.pageY-x.top)},E=g.width/D.offsetWidth||1,k=this.inRange(y.chartX,y.chartY,E);if(!k)return null;var _=this.state,A=_.xAxisMap,P=_.yAxisMap,T=this.getTooltipEventType(),M=xh(this.state,this.props.data,this.props.layout,k);if(T!=="axis"&&A&&P){var C=Ps(A).scale,R=Ps(P).scale,F=C&&C.invert?C.invert(y.chartX):null,q=R&&R.invert?R.invert(y.chartY):null;return L(L({},y),{},{xValue:F,yValue:q},M)}return M?L(L({},y),M):null}},{key:"inRange",value:function(w,D){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,y=w/g,E=D/g;if(x==="horizontal"||x==="vertical"){var k=this.state.offset,_=y>=k.left&&y<=k.left+k.width&&E>=k.top&&E<=k.top+k.height;return _?{x:y,y:E}:null}var A=this.state,P=A.angleAxisMap,T=A.radiusAxisMap;if(P&&T){var M=Ps(P);return ip({x:y,y:E},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,D=this.getTooltipEventType(),g=vr(w,Lr),x={};g&&D==="axis"&&(g.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var y=bi(this.props,this.handleOuterEvent);return L(L({},y),x)}},{key:"addListener",value:function(){Tl.on(Ml,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Tl.removeListener(Ml,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,D,g){for(var x=this.state.formattedGraphicalItems,y=0,E=x.length;y<E;y++){var k=x[y];if(k.item===w||k.props.key===w.key||D===us(k.item.type)&&g===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,D=this.state.offset,g=D.left,x=D.top,y=D.height,E=D.width;return V.createElement("defs",null,V.createElement("clipPath",{id:w},V.createElement("rect",{x:g,y:x,height:y,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(D,g){var x=Nh(g,2),y=x[0],E=x[1];return L(L({},D),{},oe({},y,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(D,g){var x=Nh(g,2),y=x[0],E=x[1];return L(L({},D),{},oe({},y,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(w){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(w){var D=this.state,g=D.formattedGraphicalItems,x=D.activeItem;if(g&&g.length)for(var y=0,E=g.length;y<E;y++){var k=g[y],_=k.props,A=k.item,P=A.type.defaultProps!==void 0?L(L({},A.type.defaultProps),A.props):A.props,T=us(A.type);if(T==="Bar"){var M=(_.data||[]).find(function(q){return FM(w,q)});if(M)return{graphicalItem:k,payload:M}}else if(T==="RadialBar"){var C=(_.data||[]).find(function(q){return ip(w,q)});if(C)return{graphicalItem:k,payload:C}}else if(Go(k,x)||Ho(k,x)||jn(k,x)){var R=A$({graphicalItem:k,activeTooltipItem:x,itemData:P.data}),F=P.activeIndex===void 0?R:P.activeIndex;return{graphicalItem:L(L({},k),{},{childIndex:F}),payload:jn(k,x)?P.data[R]:k.props.data[R]}}}return null}},{key:"render",value:function(){var w=this;if(!Xm(this))return null;var D=this.props,g=D.children,x=D.className,y=D.width,E=D.height,k=D.style,_=D.compact,A=D.title,P=D.desc,T=bh(D,s6),M=ae(T,!1);if(_)return V.createElement(Yp,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(Gl,St({},M,{width:y,height:E,title:A,desc:P}),this.renderClipPath(),Jm(g,this.renderMap)));if(this.props.accessibilityLayer){var C,R;M.tabIndex=(C=this.props.tabIndex)!==null&&C!==void 0?C:0,M.role=(R=this.props.role)!==null&&R!==void 0?R:"application",M.onKeyDown=function(q){w.accessibilityManager.keyboardEvent(q)},M.onFocus=function(){w.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return V.createElement(Yp,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",St({className:pe("recharts-wrapper",x),style:L({position:"relative",cursor:"default",width:y,height:E},k)},F,{ref:function(G){w.container=G}}),V.createElement(Gl,St({},M,{width:y,height:E,title:A,desc:P,style:x6}),this.renderClipPath(),Jm(g,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);oe(N,"displayName",s),oe(N,"defaultProps",L({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),oe(N,"getDerivedStateFromProps",function(b,v){var j=b.dataKey,w=b.data,D=b.children,g=b.width,x=b.height,y=b.layout,E=b.stackOffset,k=b.margin,_=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var P=gh(b);return L(L(L({},P),{},{updateId:0},p(L(L({props:b},P),{},{updateId:0}),v)),{},{prevDataKey:j,prevData:w,prevWidth:g,prevHeight:x,prevLayout:y,prevStackOffset:E,prevMargin:k,prevChildren:D})}if(j!==v.prevDataKey||w!==v.prevData||g!==v.prevWidth||x!==v.prevHeight||y!==v.prevLayout||E!==v.prevStackOffset||!Ot(k,v.prevMargin)){var T=gh(b),M={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},C=L(L({},xh(v,w,y)),{},{updateId:v.updateId+1}),R=L(L(L({},T),M),C);return L(L(L({},R),p(L({props:b},R),v)),{},{prevDataKey:j,prevData:w,prevWidth:g,prevHeight:x,prevLayout:y,prevStackOffset:E,prevMargin:k,prevChildren:D})}if(!ql(D,v.prevChildren)){var F,q,G,re,ne=vr(D,Xt),Z=ne&&(F=(q=ne.props)===null||q===void 0?void 0:q.startIndex)!==null&&F!==void 0?F:_,Y=ne&&(G=(re=ne.props)===null||re===void 0?void 0:re.endIndex)!==null&&G!==void 0?G:A,ie=Z!==_||Y!==A,xe=!me(w),K=xe&&!ie?v.updateId:v.updateId+1;return L(L({updateId:K},p(L(L({props:b},v),{},{updateId:K,dataStartIndex:Z,dataEndIndex:Y}),v)),{},{prevChildren:D,dataStartIndex:Z,dataEndIndex:Y})}return null}),oe(N,"renderActiveDot",function(b,v,j){var w;return S.isValidElement(b)?w=S.cloneElement(b,v):le(b)?w=b(v):w=V.createElement(Rn,v),V.createElement(Ne,{className:"recharts-active-dot",key:j},w)});var h=S.forwardRef(function(v,j){return V.createElement(N,St({},v,{ref:j}))});return h.displayName=N.displayName,h},P6=rl({chartName:"LineChart",GraphicalChild:ta,axisComponents:[{axisType:"xAxis",AxisComp:Es},{axisType:"yAxis",AxisComp:Jr}],formatAxisMap:vm}),gx=rl({chartName:"BarChart",GraphicalChild:bs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Es},{axisType:"yAxis",AxisComp:Jr}],formatAxisMap:vm}),A6=rl({chartName:"PieChart",GraphicalChild:Ds,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ko},{axisType:"radiusAxis",AxisComp:Wo}],formatAxisMap:$5,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),_6=rl({chartName:"AreaChart",GraphicalChild:vs,axisComponents:[{axisType:"xAxis",AxisComp:Es},{axisType:"yAxis",AxisComp:Jr}],formatAxisMap:vm});const O6={light:"",dark:".dark"},jx=S.createContext(null);function yx(){const e=S.useContext(jx);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Bn=S.forwardRef(({id:e,className:r,children:s,config:t,...n},i)=>{const o=S.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return a.jsxDEV(jx.Provider,{value:{config:t},children:a.jsxDEV("div",{"data-chart":l,ref:i,className:ir("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",r),...n,children:[a.jsxDEV(C6,{id:l,config:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:58,columnNumber:9},void 0),a.jsxDEV(eb,{children:s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:59,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:49,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:48,columnNumber:5},void 0)});Bn.displayName="Chart";const C6=({id:e,config:r})=>{const s=Object.entries(r).filter(([t,n])=>n.theme||n.color);return s.length?a.jsxDEV("style",{dangerouslySetInnerHTML:{__html:Object.entries(O6).map(([t,n])=>`
${n} [data-chart=${e}] {
${s.map(([i,o])=>{const l=o.theme?.[t]||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:78,columnNumber:5},void 0):null},zn=Lr,sl=S.forwardRef(({active:e,payload:r,className:s,indicator:t="dot",hideLabel:n=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:m,nameKey:d,labelKey:f},p)=>{const{config:N}=yx(),h=S.useMemo(()=>{if(n||!r?.length)return null;const[v]=r,j=`${f||v.dataKey||v.name||"value"}`,w=cu(N,v,j),D=!f&&typeof o=="string"?N[o]?.label||o:w?.label;return l?a.jsxDEV("div",{className:ir("font-medium",c),children:l(D,r)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:149,columnNumber:11},void 0):D?a.jsxDEV("div",{className:ir("font-medium",c),children:D},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:159,columnNumber:14},void 0):null},[o,l,r,n,c,N,f]);if(!e||!r?.length)return null;const b=r.length===1&&t!=="dot";return a.jsxDEV("div",{ref:p,className:ir("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",s),children:[b?null:h,a.jsxDEV("div",{className:"grid gap-1.5",children:r.map((v,j)=>{const w=`${d||v.name||v.dataKey||"value"}`,D=cu(N,v,w),g=m||v.payload.fill||v.color;return a.jsxDEV("div",{className:ir("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",t==="dot"&&"items-center"),children:u&&v?.value!==void 0&&v.name?u(v.value,v.name,v,j,v.payload):a.jsxDEV(a.Fragment,{children:[D?.icon?a.jsxDEV(D.icon,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:204,columnNumber:23},void 0):!i&&a.jsxDEV("div",{className:ir("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":t==="dot","w-1":t==="line","w-0 border-[1.5px] border-dashed bg-transparent":t==="dashed","my-0.5":b&&t==="dashed"}),style:{"--color-bg":g,"--color-border":g}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:207,columnNumber:25},void 0),a.jsxDEV("div",{className:ir("flex flex-1 justify-between leading-none",b?"items-end":"items-center"),children:[a.jsxDEV("div",{className:"grid gap-1.5",children:[b?h:null,a.jsxDEV("span",{className:"text-muted-foreground",children:D?.label||v.name},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:235,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:233,columnNumber:23},void 0),v.value&&a.jsxDEV("span",{className:"font-mono font-medium tabular-nums text-foreground",children:v.value.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:240,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:227,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:202,columnNumber:19},void 0)},v.dataKey,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:192,columnNumber:15},void 0)})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:185,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:177,columnNumber:7},void 0)});sl.displayName="ChartTooltip";const T6=S.forwardRef(({className:e,hideIcon:r=!1,payload:s,verticalAlign:t="bottom",nameKey:n},i)=>{const{config:o}=yx();return s?.length?a.jsxDEV("div",{ref:i,className:ir("flex items-center justify-center gap-4",t==="top"?"pb-3":"pt-3",e),children:s.map(l=>{const c=`${n||l.dataKey||"value"}`,u=cu(o,l,c);return a.jsxDEV("div",{className:ir("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u?.icon&&!r?a.jsxDEV(u.icon,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:298,columnNumber:17},void 0):a.jsxDEV("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:300,columnNumber:17},void 0),u?.label]},l.value,!0,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:291,columnNumber:13},void 0)})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/chart.tsx",lineNumber:278,columnNumber:7},void 0):null});T6.displayName="ChartLegend";function cu(e,r,s){if(typeof r!="object"||r===null)return;const t="payload"in r&&typeof r.payload=="object"&&r.payload!==null?r.payload:void 0;let n=s;return s in r&&typeof r[s]=="string"?n=r[s]:t&&s in t&&typeof t[s]=="string"&&(n=t[s]),n in e?e[n]:e[s]}const Il={low:"#10b981",medium:"#f59e0b",high:"#ef4444"},Sm={requests:{label:"Consultas",color:"hsl(var(--chart-1))"},cost_cents:{label:"Custo (centavos)",color:"hsl(var(--chart-2))"},tokens_in:{label:"Tokens Entrada",color:"hsl(var(--chart-3))"},tokens_out:{label:"Tokens Sada",color:"hsl(var(--chart-4))"},avgRisk:{label:"Risco Mdio",color:"hsl(var(--chart-5))"}},wx=({data:e})=>e?.length?a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Uso da API OpenAI"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:100,columnNumber:9},void 0),a.jsxDEV(te,{children:"Consultas e custos por dia"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:101,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:99,columnNumber:7},void 0),a.jsxDEV($,{children:a.jsxDEV(Bn,{config:Sm,className:"h-[300px]",children:a.jsxDEV(_6,{data:e,children:[a.jsxDEV(Ln,{strokeDasharray:"3 3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:106,columnNumber:13},void 0),a.jsxDEV(Es,{dataKey:"date",tickFormatter:r=>new Date(r).toLocaleDateString("pt-BR",{month:"short",day:"numeric"})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:107,columnNumber:13},void 0),a.jsxDEV(Jr,{yAxisId:"left"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:116,columnNumber:13},void 0),a.jsxDEV(Jr,{yAxisId:"right",orientation:"right"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:117,columnNumber:13},void 0),a.jsxDEV(zn,{content:a.jsxDEV(sl,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:119,columnNumber:24},void 0),labelFormatter:r=>new Date(r).toLocaleDateString("pt-BR")},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:118,columnNumber:13},void 0),a.jsxDEV(vs,{yAxisId:"left",type:"monotone",dataKey:"requests",stackId:"1",stroke:"var(--color-requests)",fill:"var(--color-requests)",fillOpacity:.6},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:124,columnNumber:13},void 0),a.jsxDEV(vs,{yAxisId:"right",type:"monotone",dataKey:"cost_cents",stackId:"2",stroke:"var(--color-cost_cents)",fill:"var(--color-cost_cents)",fillOpacity:.3},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:133,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:105,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:104,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:103,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:98,columnNumber:5},void 0):a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Uso da API OpenAI"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:85,columnNumber:11},void 0),a.jsxDEV(te,{children:"ltimos 30 dias"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:86,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:84,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhum dado disponvel"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:89,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:83,columnNumber:7},void 0),Dx=({data:e})=>{const r=[{name:"Baixo Risco",value:e.low,color:Il.low},{name:"Mdio Risco",value:e.medium,color:Il.medium},{name:"Alto Risco",value:e.high,color:Il.high}].filter(s=>s.value>0);return r.length===0?a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Distribuio de Riscos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:162,columnNumber:11},void 0),a.jsxDEV(te,{children:"Classificao dos processos por nvel de risco"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:161,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhum processo com score de risco"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:168,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:167,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:160,columnNumber:7},void 0):a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Distribuio de Riscos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:179,columnNumber:9},void 0),a.jsxDEV(te,{children:"Classificao dos processos por nvel de risco"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:180,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:178,columnNumber:7},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"h-[300px]",children:a.jsxDEV(eb,{width:"100%",height:"100%",children:a.jsxDEV(A6,{children:[a.jsxDEV(Ds,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:r.map((s,t)=>a.jsxDEV(Oo,{fill:s.color},`cell-${t}`,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:198,columnNumber:19},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:188,columnNumber:15},void 0),a.jsxDEV(zn,{content:({active:s,payload:t})=>{if(s&&t&&t.length){const n=t[0];return a.jsxDEV("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:a.jsxDEV("div",{className:"grid gap-2",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:n.payload.color}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:209,columnNumber:29},void 0),a.jsxDEV("span",{className:"font-medium",children:n.payload.name},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:213,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:208,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[n.value," processos (",(Number(n.value)/(r.reduce((i,o)=>i+o.value,0)||1)*100).toFixed(1),"%)"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:217,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:207,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:206,columnNumber:23},void 0)}return null}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:201,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:187,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:186,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:185,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex justify-center gap-6 mt-4",children:r.map(s=>a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:s.color}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:242,columnNumber:15},void 0),a.jsxDEV("span",{className:"text-sm",children:[s.name,": ",s.value]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:246,columnNumber:15},void 0)]},s.name,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:241,columnNumber:13},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:239,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:184,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:177,columnNumber:5},void 0)},Ex=({data:e})=>e?.length?a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Risco por Comarca"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:281,columnNumber:9},void 0),a.jsxDEV(te,{children:"Top 10 comarcas com maior risco mdio"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:282,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:280,columnNumber:7},void 0),a.jsxDEV($,{children:a.jsxDEV(Bn,{config:Sm,className:"h-[400px]",children:a.jsxDEV(gx,{data:e,layout:"horizontal",margin:{left:120},children:[a.jsxDEV(Ln,{strokeDasharray:"3 3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:287,columnNumber:13},void 0),a.jsxDEV(Es,{type:"number",domain:[0,10]},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:288,columnNumber:13},void 0),a.jsxDEV(Jr,{type:"category",dataKey:"comarca",width:100,tick:{fontSize:12}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:289,columnNumber:13},void 0),a.jsxDEV(zn,{content:({active:r,payload:s,label:t})=>{if(r&&s&&s.length){const n=s[0].payload;return a.jsxDEV("div",{className:"rounded-lg border bg-background p-3 shadow-sm",children:a.jsxDEV("div",{className:"grid gap-2",children:[a.jsxDEV("div",{className:"font-medium",children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:302,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-sm",children:[a.jsxDEV("div",{children:["Risco Mdio:"," ",a.jsxDEV("span",{className:"font-mono",children:n.avgRisk.toFixed(1)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:306,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:304,columnNumber:27},void 0),a.jsxDEV("div",{children:["Total Processos:"," ",a.jsxDEV("span",{className:"font-mono",children:n.count},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:312,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:310,columnNumber:27},void 0),a.jsxDEV("div",{children:["Alto Risco:"," ",a.jsxDEV("span",{className:"font-mono",children:n.highRiskCount},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:316,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:314,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:303,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:301,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:300,columnNumber:21},void 0)}return null}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:295,columnNumber:13},void 0),a.jsxDEV(bs,{dataKey:"avgRisk",fill:"var(--color-avgRisk)",radius:[0,4,4,0]},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:328,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:286,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:285,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:284,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:279,columnNumber:5},void 0):a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Risco por Comarca"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:264,columnNumber:11},void 0),a.jsxDEV(te,{children:"Top 10 comarcas com maior risco mdio"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:265,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:263,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhum dado de comarca disponvel"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:270,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:269,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:262,columnNumber:7},void 0),kx=({data:e})=>e?.length?a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Uso de Tokens"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:360,columnNumber:9},void 0),a.jsxDEV(te,{children:"Tokens de entrada e sada por dia"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:361,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:359,columnNumber:7},void 0),a.jsxDEV($,{children:a.jsxDEV(Bn,{config:Sm,className:"h-[300px]",children:a.jsxDEV(P6,{data:e,children:[a.jsxDEV(Ln,{strokeDasharray:"3 3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:366,columnNumber:13},void 0),a.jsxDEV(Es,{dataKey:"date",tickFormatter:r=>new Date(r).toLocaleDateString("pt-BR",{month:"short",day:"numeric"})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:367,columnNumber:13},void 0),a.jsxDEV(Jr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:376,columnNumber:13},void 0),a.jsxDEV(zn,{content:a.jsxDEV(sl,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:378,columnNumber:24},void 0),labelFormatter:r=>new Date(r).toLocaleDateString("pt-BR")},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:377,columnNumber:13},void 0),a.jsxDEV(ta,{type:"monotone",dataKey:"tokens_in",stroke:"var(--color-tokens_in)",strokeWidth:2,dot:{r:4}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:383,columnNumber:13},void 0),a.jsxDEV(ta,{type:"monotone",dataKey:"tokens_out",stroke:"var(--color-tokens_out)",strokeWidth:2,dot:{r:4}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:390,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:365,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:364,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:363,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:358,columnNumber:5},void 0):a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Uso de Tokens"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:345,columnNumber:11},void 0),a.jsxDEV(te,{children:"Tokens de entrada e sada por dia"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:346,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:344,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"Nenhum dado disponvel"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:349,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:348,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/analytics/AnalyticsCharts.tsx",lineNumber:343,columnNumber:7},void 0);function Vx({orgId:e,onSuccess:r}){const[s,t]=S.useState(!1),[n,i]=S.useState(!1),[o,l]=S.useState(!0),[c,u]=S.useState(null),{toast:m}=ca(),d=async p=>{if(!e){m({title:"Erro",description:"ID da organizao no encontrado",variant:"destructive"});return}i(!0);try{const{data:N,error:h}=await se.functions.invoke("review-update-dados",{body:{orgId:e,dryRun:p}});if(h)throw new Error(`Erro na funo: ${h.message}`);const b=N;u(b),l(p),p||(m({title:"Reviso concluda",description:`${b.flags_updated} registros atualizados, ${b.stubs_created} stubs criados`}),r?.())}catch(N){console.error("Erro na reviso:",N),m({title:"Erro na reviso",description:N instanceof Error?N.message:"Erro desconhecido",variant:"destructive"})}finally{i(!1)}},f=()=>{if(!c)return;const p={timestamp:new Date().toISOString(),dry_run:o,...c},N=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),h=URL.createObjectURL(N),b=document.createElement("a");b.href=h,b.download=`assistjur-review-${o?"preview":"applied"}-${new Date().toISOString().split("T")[0]}.json`,b.click(),URL.revokeObjectURL(h)};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV(I,{onClick:()=>t(!0),disabled:n,className:"gap-2",children:n?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:140,columnNumber:13},this),"Processando..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:139,columnNumber:11},this):a.jsxDEV(a.Fragment,{children:[a.jsxDEV(Os,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:145,columnNumber:13},this),"Revisar & Atualizar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:144,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:133,columnNumber:7},this),a.jsxDEV(dt,{open:s,onOpenChange:t,children:a.jsxDEV(ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxDEV(ls,{children:a.jsxDEV(cs,{className:"flex items-center gap-2",children:[a.jsxDEV(Os,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:155,columnNumber:15},this),"Reviso & Atualizao de Dados - AssistJur.IA"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:154,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:153,columnNumber:11},this),a.jsxDEV("div",{className:"space-y-6",children:c?a.jsxDEV(a.Fragment,{children:[c.errors.length>0?a.jsxDEV(Le,{variant:"destructive",children:[a.jsxDEV(mr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:192,columnNumber:21},this),a.jsxDEV(Be,{children:[c.errors.length," erro(s) encontrado(s) durante a execuo."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:193,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:191,columnNumber:19},this):a.jsxDEV(Le,{className:"border-success",children:[a.jsxDEV(Te,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:200,columnNumber:21},this),a.jsxDEV(Be,{children:["Reviso ",o?"simulada":"aplicada"," com sucesso! Tempo de execuo: ",c.execution_time_ms,"ms"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:201,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:199,columnNumber:19},this),a.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"pb-2",children:a.jsxDEV(z,{className:"text-sm",children:"Stubs Criados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:212,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:211,columnNumber:21},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"text-2xl font-bold text-primary",children:c.stubs_created},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:215,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:214,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:210,columnNumber:19},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"pb-2",children:a.jsxDEV(z,{className:"text-sm",children:"Flags Atualizadas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:223,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:222,columnNumber:21},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"text-2xl font-bold text-success",children:c.flags_updated},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:228,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:227,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:221,columnNumber:19},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"pb-2",children:a.jsxDEV(z,{className:"text-sm",children:"Triangulaes"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:236,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:235,columnNumber:21},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"text-2xl font-bold text-warning",children:c.statistics.triangulacoes_detected},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:239,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:238,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:234,columnNumber:19},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"pb-2",children:a.jsxDEV(z,{className:"text-sm",children:"Prova Emprestada"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:247,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:246,columnNumber:21},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"text-2xl font-bold text-destructive",children:c.statistics.prova_emprestada_detected},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:252,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:251,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:245,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:209,columnNumber:17},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Deteces Analticas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:262,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:261,columnNumber:19},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{children:"Trocas Diretas:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:267,columnNumber:25},this),a.jsxDEV(H,{variant:"outline",children:c.statistics.trocas_detected},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:268,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:266,columnNumber:23},this),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{children:"Duplo Papel:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:273,columnNumber:25},this),a.jsxDEV(H,{variant:"outline",children:c.statistics.duplo_papel_detected},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:274,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:272,columnNumber:23},this),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{children:"Total Processos:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:279,columnNumber:25},this),a.jsxDEV(H,{variant:"secondary",children:c.statistics.total_processos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:280,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:278,columnNumber:23},this),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{children:"Total Testemunhas:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:285,columnNumber:25},this),a.jsxDEV(H,{variant:"secondary",children:c.statistics.total_testemunhas},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:286,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:284,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:265,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:264,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:260,columnNumber:17},this),c.warnings.length>0&&a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-warning",children:["Avisos (",c.warnings.length,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:298,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:297,columnNumber:21},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.warnings.map((p,N)=>a.jsxDEV("div",{className:"flex items-start gap-2 p-2 rounded border",children:[a.jsxDEV(mr,{className:"h-4 w-4 text-warning mt-0.5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:309,columnNumber:29},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(H,{variant:"outline",className:"text-xs",children:p.type},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:312,columnNumber:33},this),p.cnj&&a.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["CNJ: ",p.cnj]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:316,columnNumber:35},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:311,columnNumber:31},this),a.jsxDEV("p",{className:"text-sm mt-1",children:p.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:321,columnNumber:31},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:310,columnNumber:29},this)]},N,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:305,columnNumber:27},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:303,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:302,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:296,columnNumber:19},this),c.errors.length>0&&a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-destructive",children:["Erros (",c.errors.length,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:334,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:333,columnNumber:21},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.errors.map((p,N)=>a.jsxDEV("div",{className:"flex items-start gap-2 p-2 rounded border border-destructive/20",children:[a.jsxDEV(mr,{className:"h-4 w-4 text-destructive mt-0.5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:345,columnNumber:29},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV(H,{variant:"destructive",className:"text-xs mb-1",children:p.type},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:347,columnNumber:31},this),a.jsxDEV("p",{className:"text-sm",children:p.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:353,columnNumber:31},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:346,columnNumber:29},this)]},N,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:341,columnNumber:27},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:339,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:338,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:332,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:188,columnNumber:15},this):a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Execute uma reviso para recomputar flags analticas, reconciliar CNJs e validar dados."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:163,columnNumber:17},this),a.jsxDEV("div",{className:"flex gap-2 justify-center",children:[a.jsxDEV(I,{onClick:()=>d(!0),disabled:n,variant:"outline",className:"gap-2",children:[a.jsxDEV(Sr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:174,columnNumber:21},this),"Dry Run (Preview)"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:168,columnNumber:19},this),a.jsxDEV(I,{onClick:()=>d(!1),disabled:n,className:"gap-2",children:[a.jsxDEV(Wa,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:182,columnNumber:21},this),"Aplicar Mudanas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:177,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:167,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:162,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:160,columnNumber:11},this),a.jsxDEV(pu,{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxDEV("div",{className:"flex gap-2",children:[c&&a.jsxDEV(I,{variant:"outline",onClick:f,children:[a.jsxDEV(Kr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:369,columnNumber:19},this),"Baixar Relatrio"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:368,columnNumber:17},this),a.jsxDEV(I,{variant:"outline",onClick:()=>t(!1),children:"Fechar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:366,columnNumber:13},this),c&&o&&a.jsxDEV(I,{onClick:()=>d(!1),disabled:n||c.errors.length>0,className:"ml-auto",children:[a.jsxDEV(Wa,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:384,columnNumber:17},this),"Aplicar Mudanas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:379,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:365,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:152,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:151,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ReviewUpdateButton.tsx",lineNumber:132,columnNumber:5},this)}function M6({isRunning:e}){const r=e?65:0,s=[{id:"validate",label:"Validando operaes",completed:!0},{id:"backup",label:"Criando backup",completed:!0},{id:"cleanup",label:"Executando limpeza",completed:!1,inProgress:e},{id:"verify",label:"Verificando resultados",completed:!1}];return a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV(Sn,{value:r,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:27,columnNumber:7},this),a.jsxDEV("div",{className:"space-y-2",children:s.map(t=>a.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[t.completed?a.jsxDEV(Te,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:33,columnNumber:15},this):t.inProgress?a.jsxDEV(os,{className:"h-4 w-4 animate-spin text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:35,columnNumber:15},this):a.jsxDEV("div",{className:"h-4 w-4 rounded-full border border-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:37,columnNumber:15},this),a.jsxDEV("span",{className:t.completed?"text-success":t.inProgress?"text-primary font-medium":"text-muted-foreground",children:t.label},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:39,columnNumber:13},this)]},t.id,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:31,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:29,columnNumber:7},this),e&&a.jsxDEV("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-3 text-sm",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(Xe,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:57,columnNumber:13},this),a.jsxDEV("span",{className:"font-medium",children:"Processamento em andamento"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:58,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:56,columnNumber:11},this),a.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"A limpeza pode levar alguns minutos dependendo do volume de dados."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupProgress.tsx",lineNumber:26,columnNumber:5},this)}const $6=[{id:"invalid_cnjs",label:"CNJs Invlidos",description:"Remove processos com CNJs que no tm 20 dgitos numricos",severity:"medium",enabled:!0},{id:"empty_fields",label:"Campos Obrigatrios Vazios",description:"Remove processos sem nome do reclamante ou ru",severity:"medium",enabled:!0},{id:"duplicates",label:"Duplicatas",description:"Remove processos duplicados (mantm o mais recente)",severity:"high",enabled:!1},{id:"normalize_cnjs",label:"Normalizar CNJs",description:"Remove pontuao e padroniza formato dos CNJs vlidos",severity:"low",enabled:!0},{id:"hard_delete_old",label:"Excluso Permanente",description:"Remove permanentemente processos excludos h mais de 30 dias",severity:"high",enabled:!1}],I6=e=>{switch(e){case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};function R6({open:e,onOpenChange:r}){const[s,t]=S.useState(null),[n,i]=S.useState($6),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[m,d]=S.useState("preview"),{profile:f}=dr(),{toast:p}=ca();S.useEffect(()=>{e&&f?.organization_id&&N()},[e,f]);const N=async()=>{zl(f?.organization_id)&&(l(!0),await Tm(async()=>{const{data:x}=await se.auth.getSession(),y=x?.session?.access_token;if(!y)throw new Error("Token de autenticao no encontrado");const{data:E,error:k}=await se.functions.invoke("database-cleanup",{body:{orgId:f.organization_id,preview:!0},headers:{Authorization:`Bearer ${y}`}});if(k)throw k;if(E?.error)throw new Error(E.error);t(E?.preview)},"CleanupModal.loadPreview").finally(()=>{l(!1)}))},h=(x,y)=>{i(E=>E.map(k=>k.id===x?{...k,enabled:y}:k))},b=x=>{if(!s)return 0;switch(x){case"invalid_cnjs":return s.invalid_cnjs;case"empty_fields":return s.empty_reclamante+s.empty_reu;case"duplicates":return s.duplicates;case"normalize_cnjs":return s.invalid_cnjs;case"hard_delete_old":return s.soft_deleted;default:return 0}},v=async()=>{if(!zl(f?.organization_id))return;const x=n.filter(y=>y.enabled).map(y=>y.id);if(x.length===0){p({title:"Nenhuma operao selecionada",description:"Selecione pelo menos uma operao para continuar",variant:"destructive"});return}d("running"),u(!0);try{await Tm(async()=>{const{data:y}=await se.auth.getSession(),E=y?.session?.access_token;if(!E)throw new Error("Token de autenticao no encontrado");const{data:k,error:_}=await se.functions.invoke("database-cleanup",{body:{orgId:f.organization_id,operations:x},headers:{Authorization:`Bearer ${E}`}});if(_)throw _;if(k?.error)throw new Error(k.error);if(k?.success)p({title:"Limpeza concluda",description:`${k.totalProcessed} registros processados`,variant:"default"}),r(!1),window.location.reload();else{const A=k?.results?.filter(P=>!P.success)||[];if(A.length>0)throw new Error(`Algumas operaes falharam: ${A.map(P=>P.message).join(", ")}`)}},"CleanupModal.executeCleanup")}catch{d("confirm")}finally{u(!1)}},j=()=>{c||(r(!1),d("preview"),t(null))},w=()=>a.jsxDEV(a.Fragment,{children:[a.jsxDEV(ls,{children:a.jsxDEV(cs,{className:"flex items-center gap-2",children:[a.jsxDEV(mt,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:273,columnNumber:11},this),"Limpeza da Base de Dados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:272,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:271,columnNumber:7},this),a.jsxDEV("div",{className:"space-y-6",children:o?a.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[a.jsxDEV(os,{className:"h-8 w-8 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:281,columnNumber:13},this),a.jsxDEV("span",{className:"ml-2",children:"Carregando preview..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:280,columnNumber:11},this):s?a.jsxDEV(a.Fragment,{children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(mr,{className:"h-5 w-5 text-warning"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:289,columnNumber:19},this),"Resumo da Base"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:288,columnNumber:17},this),a.jsxDEV(te,{children:"Problemas detectados na base de dados da sua organizao"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:287,columnNumber:15},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-3xl font-bold text-destructive",children:s.total_issues},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:298,columnNumber:19},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"problemas detectados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:297,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:296,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:286,columnNumber:13},this),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"text-lg font-semibold",children:"Operaes Disponveis"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:309,columnNumber:15},this),n.map(x=>{const y=b(x.id);return a.jsxDEV(O,{className:"border-2",children:a.jsxDEV($,{className:"p-4",children:a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV(At,{id:x.id,checked:x.enabled,onCheckedChange:E=>h(x.id,E)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:316,columnNumber:25},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxDEV("label",{htmlFor:x.id,className:"font-medium cursor-pointer",children:x.label},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:328,columnNumber:29},this),a.jsxDEV(H,{className:I6(x.severity),children:x.severity},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:334,columnNumber:29},this),y>0&&a.jsxDEV(H,{variant:"outline",children:[y," registros"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:340,columnNumber:31},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:327,columnNumber:27},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:x.description},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:343,columnNumber:27},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:326,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:315,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:314,columnNumber:21},this)},x.id,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:313,columnNumber:19},this)})]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:308,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:285,columnNumber:11},this):null},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:278,columnNumber:7},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV(I,{variant:"outline",onClick:j,children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:358,columnNumber:9},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(I,{variant:"outline",onClick:N,children:"Atualizar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:362,columnNumber:11},this),a.jsxDEV(I,{onClick:()=>d("confirm"),disabled:!n.some(x=>x.enabled)||o,children:"Continuar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:365,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:361,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:357,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:270,columnNumber:5},this),D=()=>{const x=n.filter(E=>E.enabled),y=x.reduce((E,k)=>E+b(k.id),0);return a.jsxDEV(a.Fragment,{children:[a.jsxDEV(ls,{children:a.jsxDEV(cs,{className:"flex items-center gap-2 text-destructive",children:[a.jsxDEV(Xe,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:387,columnNumber:13},this),"Confirmao de Limpeza"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:386,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:385,columnNumber:9},this),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[a.jsxDEV("p",{className:"font-semibold text-destructive mb-2",children:" Ateno!"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:394,columnNumber:13},this),a.jsxDEV("p",{className:"text-sm",children:["Esta operao ir processar"," ",a.jsxDEV("strong",{children:[y," registros"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:397,columnNumber:15},this)," e pode ser irreversvel. Certifique-se de que tem um backup da base de dados."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:395,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:393,columnNumber:11},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("h4",{className:"font-semibold",children:"Operaes selecionadas:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:403,columnNumber:13},this),x.map(E=>a.jsxDEV("div",{className:"flex items-center gap-2 text-sm",children:[a.jsxDEV(Te,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:406,columnNumber:17},this),E.label," - ",b(E.id)," registros"]},E.id,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:405,columnNumber:15},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:402,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:392,columnNumber:9},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV(I,{variant:"outline",onClick:()=>d("preview"),children:"Voltar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:414,columnNumber:11},this),a.jsxDEV(I,{variant:"destructive",onClick:v,children:"Confirmar Limpeza"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:417,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:413,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:384,columnNumber:7},this)},g=()=>a.jsxDEV(a.Fragment,{children:[a.jsxDEV(ls,{children:a.jsxDEV(cs,{className:"flex items-center gap-2",children:[a.jsxDEV(os,{className:"h-5 w-5 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:429,columnNumber:11},this),"Executando Limpeza"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:428,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:427,columnNumber:7},this),a.jsxDEV(M6,{isRunning:c},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:434,columnNumber:7},this),a.jsxDEV("div",{className:"text-center text-sm text-muted-foreground",children:"Por favor, aguarde. A limpeza est em andamento..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:436,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:426,columnNumber:5},this);return a.jsxDEV(dt,{open:e,onOpenChange:j,children:a.jsxDEV(ft,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[m==="preview"&&w(),m==="confirm"&&D(),m==="running"&&g()]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:444,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/CleanupModal.tsx",lineNumber:443,columnNumber:5},this)}function L6({className:e}){const[r,s]=S.useState(!1);return a.jsxDEV(a.Fragment,{children:[a.jsxDEV(I,{onClick:()=>s(!0),variant:"outline",size:"sm",className:e,children:[a.jsxDEV(mt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/DatabaseCleanupButton.tsx",lineNumber:23,columnNumber:9},this),"Limpar Base"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/DatabaseCleanupButton.tsx",lineNumber:17,columnNumber:7},this),a.jsxDEV(R6,{open:r,onOpenChange:s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/DatabaseCleanupButton.tsx",lineNumber:27,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/DatabaseCleanupButton.tsx",lineNumber:16,columnNumber:5},this)}const B6=()=>{const[e,r]=S.useState(!1),[s,t]=S.useState(null),[n,i]=S.useState(null),o=async()=>{r(!0),i(null),t(null);try{const{data:l,error:c}=await se.functions.invoke("process-witness-data");if(c)throw c;t(l),Fe.success("Dados de testemunhas processados com sucesso!")}catch(l){const c=l.message||"Erro ao processar dados de testemunhas";i(c),Fe.error(c)}finally{r(!1)}};return a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(ds,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:54,columnNumber:11},void 0),"Processamento de Dados de Testemunhas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:53,columnNumber:9},void 0),a.jsxDEV(te,{children:"Processa os dados importados para extrair e popular informaes de testemunhas nos processos. Esta ao deve ser executada aps uma importao para garantir que os dados apaream no mapa de testemunhas."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:57,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:52,columnNumber:7},void 0),a.jsxDEV($,{className:"space-y-4",children:[n&&a.jsxDEV(Le,{variant:"destructive",children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:66,columnNumber:13},void 0),a.jsxDEV(Be,{children:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:67,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:65,columnNumber:11},void 0),s&&a.jsxDEV(Le,{children:[a.jsxDEV(Te,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:73,columnNumber:13},void 0),a.jsxDEV(Be,{children:a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("p",{children:a.jsxDEV("strong",{children:s.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:77,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:76,columnNumber:17},void 0),a.jsxDEV("p",{children:["Processos processados: ",s.processedCount," de"," ",s.totalProcessos]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:79,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:75,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:74,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:72,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex flex-col gap-2",children:[a.jsxDEV(I,{onClick:o,disabled:e,className:"w-full",children:e?a.jsxDEV(a.Fragment,{children:[a.jsxDEV(os,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:96,columnNumber:17},void 0),"Processando dados..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:95,columnNumber:15},void 0):a.jsxDEV(a.Fragment,{children:[a.jsxDEV(ds,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:101,columnNumber:17},void 0),"Processar Dados de Testemunhas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:100,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:89,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Este processo pode levar alguns minutos dependendo da quantidade de dados."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:107,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:88,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:63,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/WitnessDataProcessor.tsx",lineNumber:51,columnNumber:5},void 0)},z6=()=>{dr();const[e,r]=S.useState(!0),[s,t]=S.useState(null),[n,i]=S.useState(null),[o,l]=S.useState(null),[c,u]=S.useState("overview"),m=async f=>{try{const{data:p,error:N}=await se.functions.invoke("admin-analytics",{body:{type:f}});if(N)throw N;return p}catch(p){return console.error("Error fetching analytics:",p),Fe.error("Erro ao carregar dados analticos"),null}};S.useEffect(()=>{(async()=>{r(!0);const p=await m("overview");p&&t(p),r(!1)})()},[]);const d=async f=>{if(f==="usage"&&!n){const p=await m("usage");p&&i(p)}else if(f==="risk_patterns"&&!o){const p=await m("risk_patterns");p&&l(p)}};return e?a.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:119,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:118,columnNumber:7},void 0):a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Analtico"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:127,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Insights avanados e mtricas do sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:130,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:126,columnNumber:7},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(ds,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:139,columnNumber:13},void 0),"Operaes de Dados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:138,columnNumber:11},void 0),a.jsxDEV(te,{children:"Ferramentas administrativas para manuteno e otimizao da base"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:142,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:137,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"flex gap-3",children:[a.jsxDEV(Vx,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:148,columnNumber:13},void 0),a.jsxDEV(L6,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:147,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:146,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:136,columnNumber:7},void 0),a.jsxDEV(B6,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:155,columnNumber:7},void 0),a.jsxDEV(xs,{value:c,onValueChange:f=>{u(f),d(f)},className:"w-full",children:[a.jsxDEV(gs,{className:"grid w-full grid-cols-4",children:[a.jsxDEV(ye,{value:"overview",children:"Viso Geral"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:166,columnNumber:11},void 0),a.jsxDEV(ye,{value:"usage",children:"Uso & Custos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:167,columnNumber:11},void 0),a.jsxDEV(ye,{value:"risk_patterns",children:"Padres de Risco"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:168,columnNumber:11},void 0),a.jsxDEV(ye,{value:"performance",children:"Performance"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:169,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:165,columnNumber:9},void 0),a.jsxDEV(Se,{value:"overview",className:"space-y-6",children:[a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Total Processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:177,columnNumber:17},void 0),a.jsxDEV(ds,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:180,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:176,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:s?.counts?.processos?.toLocaleString()||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:183,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Registros na base ativa"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:175,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Pessoas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:194,columnNumber:17},void 0),a.jsxDEV(Vn,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:195,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:193,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:s?.counts?.pessoas?.toLocaleString()||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:198,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Cadastros nicos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:201,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:197,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:192,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Conversas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:209,columnNumber:17},void 0),a.jsxDEV(Fx,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:208,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:s?.counts?.conversations||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:213,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Interaes com IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:216,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:212,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:207,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Verso Ativa"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:224,columnNumber:17},void 0),a.jsxDEV($a,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:227,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:223,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:["v",s?.counts?.activeVersion||"N/A"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:230,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Base de dados atual"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:233,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:229,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:222,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:174,columnNumber:11},void 0),a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxDEV(Dx,{data:s?.riskDistribution||{low:0,medium:0,high:0}},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:242,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Atividade Recente"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:250,columnNumber:17},void 0),a.jsxDEV(te,{children:"ltimas interaes com o sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:251,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:249,columnNumber:15},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"space-y-3",children:s?.recentActivity?.slice(0,5).map((f,p)=>a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-primary rounded-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:261,columnNumber:25},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("p",{className:"text-sm font-medium",children:[f.role==="user"?"Pergunta":"Resposta"," ","- Conversa"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:263,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:new Date(f.created_at).toLocaleString("pt-BR")},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:267,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:262,columnNumber:25},void 0)]},p,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:260,columnNumber:23},void 0))||a.jsxDEV("div",{className:"text-center text-muted-foreground py-4",children:"Nenhuma atividade recente"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:275,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:256,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:255,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:248,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:241,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:172,columnNumber:9},void 0),a.jsxDEV(Se,{value:"usage",className:"space-y-6",children:n?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Total Consultas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:292,columnNumber:21},void 0),a.jsxDEV(wt,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:295,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:291,columnNumber:19},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:n.totalStats.totalRequests.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:298,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"ltimos 30 dias"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:301,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:297,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:290,columnNumber:17},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Custo Total"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:309,columnNumber:21},void 0),a.jsxDEV(bo,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:312,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:308,columnNumber:19},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:["$",(n.totalStats.totalCost/100).toFixed(2)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:315,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"OpenAI API"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:318,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:314,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:307,columnNumber:17},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Tokens Processados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:324,columnNumber:21},void 0),a.jsxDEV(Sh,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:327,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:323,columnNumber:19},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:[(n.totalStats.totalTokens/1e3).toFixed(1),"K"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:330,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Entrada + Sada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:333,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:329,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:322,columnNumber:17},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Tempo Mdio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:341,columnNumber:21},void 0),a.jsxDEV($a,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:344,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:340,columnNumber:19},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:[(n.totalStats.avgResponseTime/1e3).toFixed(1),"s"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:347,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Resposta da API"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:351,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:346,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:339,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:289,columnNumber:15},void 0),a.jsxDEV("div",{className:"grid gap-6",children:[a.jsxDEV(wx,{data:n.dailyUsage},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:360,columnNumber:17},void 0),a.jsxDEV(kx,{data:n.dailyUsage},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:361,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:359,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:287,columnNumber:13},void 0):a.jsxDEV("div",{className:"flex items-center justify-center min-h-[300px]",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:366,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:365,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:285,columnNumber:9},void 0),a.jsxDEV(Se,{value:"risk_patterns",className:"space-y-6",children:o?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-sm font-medium",children:"Risco Mdio Geral"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:378,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:377,columnNumber:19},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-3xl font-bold",children:o.avgRisk?.toFixed(1)||"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:383,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["De ",o.totalProcessos," processos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:386,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:382,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:376,columnNumber:17},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-sm font-medium",children:"Alto Risco"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:394,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:393,columnNumber:19},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-3xl font-bold text-red-600",children:[o.highRiskPercentage?.toFixed(1)||0,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:399,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Processos com score  8"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:402,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:398,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:392,columnNumber:17},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-sm font-medium",children:"Total Analisado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:410,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:409,columnNumber:19},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-3xl font-bold",children:o.totalProcessos?.toLocaleString()||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:415,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Processos com score"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:418,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:414,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:408,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:375,columnNumber:15},void 0),a.jsxDEV(Ex,{data:o.comarcaStats},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:426,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:373,columnNumber:13},void 0):a.jsxDEV("div",{className:"flex items-center justify-center min-h-[300px]",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:430,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:429,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:371,columnNumber:9},void 0),a.jsxDEV(Se,{value:"performance",className:"space-y-6",children:a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Mtricas de Performance"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:438,columnNumber:15},void 0),a.jsxDEV(te,{children:"Em desenvolvimento - mtricas de sistema e performance"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:439,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:437,columnNumber:13},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"flex items-center justify-center h-[200px] text-muted-foreground",children:" Funcionalidade em desenvolvimento"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:444,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:443,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:436,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:435,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:157,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Dashboard.tsx",lineNumber:125,columnNumber:5},void 0)},Z8=Object.freeze(Object.defineProperty({__proto__:null,default:z6},Symbol.toStringTag,{value:"Module"})),Ma=async()=>{const{data:{user:e}}=await se.auth.getUser();return!!e},F6=()=>{const[e,r]=S.useState(!1),[s,t]=S.useState(null),[n,i]=S.useState("30d"),[o,l]=S.useState(!1),[c,u]=S.useState(null),[m,d]=S.useState(null),f=async b=>{if(await Ma()){r(!0);try{const{data:v,error:j}=await se.functions.invoke("admin-analytics",{body:{type:"detailed_report",period:b}});if(j)throw j;t(v)}catch(v){console.error("Error fetching detailed analytics:",v),Fe.error("Erro ao carregar relatrio detalhado")}finally{r(!1)}}},p=async()=>{if(await Ma())try{const{data:b,error:v}=await se.functions.invoke("admin-analytics",{body:{type:"usage",period:n}});if(v)throw v;u(b)}catch(b){console.error("Error fetching usage data:",b)}},N=async()=>{if(await Ma())try{const{data:b,error:v}=await se.functions.invoke("admin-analytics",{body:{type:"ai_patterns"}});if(v)throw v;d(b)}catch(b){console.error("Error fetching patterns data:",b)}},h=async b=>{if(await Ma()){l(!0);try{const{data:v,error:j}=await se.functions.invoke("admin-analytics",{body:{type:"export",format:b,period:n}});if(j)throw j;const w=new Blob([JSON.stringify(v.data,null,2)],{type:"application/json"}),D=window.URL.createObjectURL(w),g=document.createElement("a");g.href=D,g.download=`analytics-report-${n}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(D),Fe.success("Relatrio exportado com sucesso")}catch(v){console.error("Error exporting report:",v),Fe.error("Erro ao exportar relatrio")}finally{l(!1)}}};return S.useEffect(()=>{f(n),p(),N()},[n]),a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Avanado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:165,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Relatrios detalhados e anlises de performance"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:168,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:164,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(I,{variant:"outline",onClick:()=>f(n),disabled:e,children:[a.jsxDEV(Os,{className:`h-4 w-4 mr-2 ${e?"animate-spin":""}`},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:179,columnNumber:13},void 0),"Atualizar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:174,columnNumber:11},void 0),a.jsxDEV(I,{variant:"outline",onClick:()=>h("excel"),disabled:o,children:[a.jsxDEV(Kr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:189,columnNumber:13},void 0),"Excel"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:184,columnNumber:11},void 0),a.jsxDEV(I,{variant:"outline",onClick:()=>h("pdf"),disabled:o,children:[a.jsxDEV(Gr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:197,columnNumber:13},void 0),"PDF"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:192,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:173,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:163,columnNumber:7},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(Ux,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:205,columnNumber:9},void 0),a.jsxDEV("span",{className:"text-sm font-medium",children:"Perodo:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:206,columnNumber:9},void 0),["7d","30d","90d","1y"].map(b=>a.jsxDEV(I,{variant:n===b?"default":"outline",size:"sm",onClick:()=>i(b),children:[b==="7d"&&"7 dias",b==="30d"&&"30 dias",b==="90d"&&"90 dias",b==="1y"&&"1 ano"]},b,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:208,columnNumber:11},void 0))]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:204,columnNumber:7},void 0),a.jsxDEV(xs,{defaultValue:"overview",className:"w-full",children:[a.jsxDEV(gs,{className:"grid w-full grid-cols-4",children:[a.jsxDEV(ye,{value:"overview",children:"Resumo Executivo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:224,columnNumber:11},void 0),a.jsxDEV(ye,{value:"usage",children:"Anlise de Uso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:225,columnNumber:11},void 0),a.jsxDEV(ye,{value:"patterns",children:"Padres Detectados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:226,columnNumber:11},void 0),a.jsxDEV(ye,{value:"recommendations",children:"Recomendaes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:227,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:223,columnNumber:9},void 0),a.jsxDEV(Se,{value:"overview",className:"space-y-6",children:[a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Queries Totais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:235,columnNumber:17},void 0),a.jsxDEV(Sh,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:238,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:234,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:s?.totalQueries?.toLocaleString()||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:241,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center gap-1 text-xs",children:[a.jsxDEV(wt,{className:"h-3 w-3 text-green-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:245,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-green-500",children:"+12.3%"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:246,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-muted-foreground",children:"vs perodo anterior"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:247,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:244,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:240,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:233,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Custo Total"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:256,columnNumber:17},void 0),a.jsxDEV(wt,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:259,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:255,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:["$",((s?.totalCost||0)/100).toFixed(2)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:262,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center gap-1 text-xs",children:[a.jsxDEV(ol,{className:"h-3 w-3 text-red-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:266,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-red-500",children:"-5.1%"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:267,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-muted-foreground",children:"custo por query"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:268,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:265,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:261,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:254,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Tempo Mdio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:275,columnNumber:17},void 0),a.jsxDEV(ol,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:278,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:274,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:[((s?.avgResponseTime||0)/1e3).toFixed(1),"s"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:281,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center gap-1 text-xs",children:[a.jsxDEV(ol,{className:"h-3 w-3 text-green-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:285,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-green-500",children:"-8.7%"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:286,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-muted-foreground",children:"melhoria"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:287,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:284,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:280,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:273,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Usurios Ativos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:294,columnNumber:17},void 0),a.jsxDEV(wt,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:297,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:293,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:s?.userActivity?.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:300,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center gap-1 text-xs",children:[a.jsxDEV(wt,{className:"h-3 w-3 text-green-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:304,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-green-500",children:"+23.4%"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:305,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-muted-foreground",children:"engajamento"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:306,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:303,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:299,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:292,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:232,columnNumber:11},void 0),a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Insights Principais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:316,columnNumber:17},void 0),a.jsxDEV(te,{children:"Descobertas importantes do perodo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:317,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:315,columnNumber:15},void 0),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:323,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-medium",children:"Eficincia Melhorada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:325,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Tempo mdio de resposta reduziu 8.7% com otimizaes de prompts"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:326,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:324,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:322,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:333,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-medium",children:"Padro de Alto Risco"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:335,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Comarca X apresenta 67% dos processos com risco elevado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:336,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:334,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:332,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:342,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-medium",children:"Pico de Uso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:344,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Tera-feira, 14h-16h  o horrio de maior demanda"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:345,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:343,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:341,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:321,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:314,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Mtricas de Qualidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:355,columnNumber:17},void 0),a.jsxDEV(te,{children:"Indicadores de satisfao e preciso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:356,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:354,columnNumber:15},void 0),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex justify-between text-sm",children:[a.jsxDEV("span",{children:"Preciso das Anlises"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:363,columnNumber:21},void 0),a.jsxDEV("span",{className:"font-medium",children:"94.2%"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:364,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:362,columnNumber:19},void 0),a.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsxDEV("div",{className:"bg-green-500 h-2 rounded-full w-[94%]"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:367,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:366,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:361,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex justify-between text-sm",children:[a.jsxDEV("span",{children:"Satisfao do Usurio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:372,columnNumber:21},void 0),a.jsxDEV("span",{className:"font-medium",children:"91.8%"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:373,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:371,columnNumber:19},void 0),a.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsxDEV("div",{className:"bg-blue-500 h-2 rounded-full w-[92%]"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:376,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:375,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:370,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex justify-between text-sm",children:[a.jsxDEV("span",{children:"Taxa de Resoluo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:381,columnNumber:21},void 0),a.jsxDEV("span",{className:"font-medium",children:"87.3%"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:382,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:380,columnNumber:19},void 0),a.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsxDEV("div",{className:"bg-orange-500 h-2 rounded-full w-[87%]"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:385,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:384,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:379,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:360,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:353,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:313,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:230,columnNumber:9},void 0),a.jsxDEV(Se,{value:"usage",className:"space-y-6",children:[e?a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxDEV(Mm,{className:"h-[300px]"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:396,columnNumber:15},void 0),a.jsxDEV(Mm,{className:"h-[300px]"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:397,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:395,columnNumber:13},void 0):a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxDEV(wx,{data:c?.dailyUsage||[]},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:401,columnNumber:15},void 0),a.jsxDEV(kx,{data:c?.dailyUsage||[]},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:402,columnNumber:15},void 0),a.jsxDEV(Dx,{data:s?.riskPatterns?.riskDistribution||{low:0,medium:0,high:0}},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:403,columnNumber:15},void 0),a.jsxDEV(Ex,{data:s?.riskPatterns?.comarcaStats||[]},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:412,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:400,columnNumber:13},void 0),a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-sm",children:"Total de Requests"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:422,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:421,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:c?.totalStats?.totalRequests?.toLocaleString()||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:425,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["ltimos ",n]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:428,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:424,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:420,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-sm",children:"Custo Total"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:435,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:434,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:["$",((c?.totalStats?.totalCost||0)/100).toFixed(2)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:438,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["ltimos ",n]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:441,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:437,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:433,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-sm",children:"Usurios Ativos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:448,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:447,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:c?.userStats?.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:451,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Perodo selecionado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:454,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:450,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:446,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:419,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:393,columnNumber:9},void 0),a.jsxDEV(Se,{value:"patterns",className:"space-y-6",children:[a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Troca Direta"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:467,columnNumber:17},void 0),a.jsxDEV(Ca,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:470,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:466,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:m?.patterns?.trocaDireta||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:473,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"casos detectados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:476,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:472,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:465,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Triangulao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:483,columnNumber:17},void 0),a.jsxDEV(Ca,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:486,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:482,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:m?.patterns?.triangulacao||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:489,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"casos detectados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:492,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:488,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:481,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Prova Emprestada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:499,columnNumber:17},void 0),a.jsxDEV(Ca,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:502,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:498,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:m?.patterns?.provaEmprestada||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:505,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"casos detectados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:508,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:504,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:497,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Duplo Papel"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:515,columnNumber:17},void 0),a.jsxDEV(Ca,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:518,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:514,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:m?.patterns?.duploPapel||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:521,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"casos detectados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:524,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:520,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:513,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:464,columnNumber:11},void 0),a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Anlise de Complexidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:535,columnNumber:17},void 0),a.jsxDEV(te,{children:"Distribuio dos processos por complexidade de padres"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:536,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:534,columnNumber:15},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"flex justify-between items-center",children:[a.jsxDEV("span",{className:"text-sm",children:"Baixa Complexidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:543,columnNumber:21},void 0),a.jsxDEV(H,{variant:"outline",className:"bg-green-50 text-green-700",children:m?.complexityDistribution?.low||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:544,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:542,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex justify-between items-center",children:[a.jsxDEV("span",{className:"text-sm",children:"Mdia Complexidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:552,columnNumber:21},void 0),a.jsxDEV(H,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:m?.complexityDistribution?.medium||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:553,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:551,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex justify-between items-center",children:[a.jsxDEV("span",{className:"text-sm",children:"Alta Complexidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:561,columnNumber:21},void 0),a.jsxDEV(H,{variant:"outline",className:"bg-red-50 text-red-700",children:m?.complexityDistribution?.high||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:562,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:560,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:541,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:540,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:533,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Correlao Risco-Padro"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:572,columnNumber:17},void 0),a.jsxDEV(te,{children:"Anlise estatstica da correlao entre padres e risco"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:573,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:571,columnNumber:15},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"text-center space-y-2",children:[a.jsxDEV("div",{className:"text-3xl font-bold",children:(m?.riskCorrelation||0).toFixed(2)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:579,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Coeficiente de correlao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:582,columnNumber:19},void 0),a.jsxDEV("div",{className:"text-xs",children:(m?.riskCorrelation||0)>.7?a.jsxDEV(H,{className:"bg-red-100 text-red-800",children:"Correlao Forte"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:587,columnNumber:23},void 0):(m?.riskCorrelation||0)>.4?a.jsxDEV(H,{className:"bg-yellow-100 text-yellow-800",children:"Correlao Moderada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:591,columnNumber:23},void 0):a.jsxDEV(H,{className:"bg-green-100 text-green-800",children:"Correlao Fraca"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:595,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:585,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:578,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:577,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:570,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:532,columnNumber:11},void 0),m?.criticalCombinations>0&&a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(mr,{className:"h-5 w-5 text-orange-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:610,columnNumber:19},void 0),"Combinaes Crticas Detectadas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:609,columnNumber:17},void 0),a.jsxDEV(te,{children:"Processos com mltiplos padres de risco simultneos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:613,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:608,columnNumber:15},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:m.criticalCombinations},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:618,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"processos com 2+ padres crticos combinados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:621,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:617,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:607,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:462,columnNumber:9},void 0),a.jsxDEV(Se,{value:"recommendations",className:"space-y-6",children:[(s?.insights?.length??0)>0&&a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(ci,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:635,columnNumber:19},void 0),"Insights Automticos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:634,columnNumber:17},void 0),a.jsxDEV(te,{children:"Descobertas geradas pela anlise de IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:638,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:633,columnNumber:15},void 0),a.jsxDEV($,{className:"space-y-4",children:s?.insights?.map((b,v)=>a.jsxDEV("div",{className:`border-l-4 pl-4 ${b.type==="warning"?"border-orange-500":b.type==="error"?"border-red-500":"border-blue-500"}`,children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[b.type==="warning"&&a.jsxDEV(mr,{className:"h-4 w-4 text-orange-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:656,columnNumber:25},void 0),b.type==="error"&&a.jsxDEV(mr,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:659,columnNumber:25},void 0),b.type==="info"&&a.jsxDEV(ci,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:662,columnNumber:25},void 0),a.jsxDEV("h4",{className:"font-medium",children:b.title},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:664,columnNumber:23},void 0),a.jsxDEV(H,{variant:"outline",className:"text-xs",children:b.category},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:665,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:654,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:b.description},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:669,columnNumber:21},void 0)]},v,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:644,columnNumber:19},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:642,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:632,columnNumber:13},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Recomendaes Estratgicas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:681,columnNumber:15},void 0),a.jsxDEV(te,{children:"Aes sugeridas baseadas na anlise completa dos dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:682,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:680,columnNumber:13},void 0),a.jsxDEV($,{className:"space-y-4",children:(s?.recommendations?.length??0)>0?s?.recommendations?.map((b,v)=>a.jsxDEV("div",{className:`border-l-4 pl-4 ${b.priority==="high"?"border-red-500":b.priority==="medium"?"border-orange-500":"border-green-500"}`,children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxDEV("h4",{className:"font-medium",children:b.title},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:700,columnNumber:23},void 0),a.jsxDEV(H,{variant:b.priority==="high"?"destructive":b.priority==="medium"?"default":"secondary",children:[b.priority==="high"?"Alta":b.priority==="medium"?"Mdia":"Baixa"," ","Prioridade"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:701,columnNumber:23},void 0),a.jsxDEV(H,{variant:"outline",className:"text-xs",children:b.category},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:717,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:699,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mb-2",children:b.description},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:721,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-green-600 font-medium",children:["Impacto esperado: ",b.expectedImpact]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:724,columnNumber:21},void 0)]},v,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:689,columnNumber:19},void 0)):a.jsxDEV("div",{className:"text-center text-muted-foreground py-8",children:[a.jsxDEV(Te,{className:"h-12 w-12 mx-auto mb-4 text-green-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:731,columnNumber:19},void 0),a.jsxDEV("p",{children:"Sistema funcionando dentro dos parmetros ideais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:732,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-sm",children:"Nenhuma recomendao crtica no momento"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:733,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:730,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:686,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:679,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:629,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:222,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Analytics.tsx",lineNumber:162,columnNumber:5},void 0)},Q8=Object.freeze(Object.defineProperty({__proto__:null,default:F6},Symbol.toStringTag,{value:"Module"}));async function Sx(e){const r=e.type;if(r==="text/csv"||e.name.endsWith(".csv"))return U6(e);if(r.includes("spreadsheet")||e.name.match(/\.(xlsx?|xls)$/i))return K6(e);throw new Error("Formato de arquivo no suportado. Use CSV ou Excel (.xlsx, .xls)")}async function U6(e){return new Promise((r,s)=>{Ih.parse(e,{header:!0,skipEmptyLines:!0,preview:100,complete:t=>{try{t.errors.length>0&&console.warn("CSV parsing warnings:",t.errors);const n=t.meta.fields||[],i=t.data;if(n.length===0)throw new Error("Nenhuma coluna foi detectada no arquivo CSV");const o={name:e.name.replace(/\.[^/.]+$/,""),headers:n,rows:i.length,model:Px(n),hasListColumn:Ax(n),sampleData:i.slice(0,5)};r([o])}catch(n){s(n)}},error:t=>{s(new Error(`Erro ao analisar CSV: ${t.message}`))}})})}const W6=["dicionario","dictionary","docs","documentao","documentacao","info","instructions","instrucoes","readme","help","ajuda","template","exemplo","sample","metadata","config","configuracao"];function q6(e,r,s){const t=e.toLowerCase().trim();return!!(W6.some(n=>t.includes(n))||s.length<2||r.length<3)}async function K6(e){const r=await Ka(()=>import("./xlsx-BBMPxr6S.js"),[]);return new Promise((s,t)=>{const n=new FileReader;n.onload=i=>{try{const o=new Uint8Array(i.target?.result),l=r.read(o,{type:"array"}),c=[],u=[];if(l.SheetNames.forEach(m=>{const d=l.Sheets[m],f=r.utils.sheet_to_json(d,{header:1});if(f.length===0)return;const p=f[0].filter(Boolean),N=f.slice(1).filter(b=>b&&b.some(v=>v!=null&&v!==""));if(p.length===0)return;if(q6(m,p,N)){u.push(m);return}const h={name:m,headers:p,rows:N.length,model:Px(p),hasListColumn:Ax(p),sampleData:N.slice(0,5).map(b=>{const v={};return p.forEach((j,w)=>{v[j]=b[w]||null}),v})};c.push(h)}),c.length===0)throw new Error("Nenhuma aba com dados vlidos foi encontrada. Todas as abas foram ignoradas ou esto vazias.");s(c)}catch(o){t(new Error(`Erro ao analisar Excel: ${o instanceof Error?o.message:"Erro desconhecido"}`))}},n.onerror=()=>{t(new Error("Erro ao ler arquivo"))},n.readAsArrayBuffer(e)})}function Px(e){const r=e.map(p=>p.toLowerCase().trim()),s=["nome_testemunha","cnjs_como_testemunha","qtd_depoimentos","quantidade_depoimentos"],t=["testemunha","depoimentos","como_testemunha"],n=["reclamante_nome","reu_nome","advogados_ativo","advogados_passivo","todas_testemunhas","testemunhas_todas"],i=["reclamante","reu","advogado","comarca","tribunal","vara","fase","status"],o=s.reduce((p,N)=>r.some(h=>h.includes(N))?p+3:p,0),l=t.reduce((p,N)=>r.some(h=>h.includes(N))?p+1:p,0),c=n.reduce((p,N)=>r.some(h=>h.includes(N))?p+3:p,0),u=i.reduce((p,N)=>r.some(h=>h.includes(N))?p+1:p,0),m=o+l,d=c+u;return r.some(p=>p.includes("cnj")||p.includes("numero_processo")||p.includes("processo"))?o>0&&o>=c?"testemunha":c>0&&c>o?"processo":m>d&&m>=1?"testemunha":(d>m&&d>=1,"processo"):"ambiguous"}function Ax(e){const r=["cnjs_como_testemunha","todas_testemunhas","testemunhas_todas","advogados_ativo","advogados_passivo"];return e.some(s=>r.some(t=>s.toLowerCase().includes(t.toLowerCase())))}function G6(){return`session_${Date.now()}_${Math.random().toString(36).substring(2,11)}`}function H6({open:e,sheets:r,onComplete:s,onCancel:t}){const[n,i]=S.useState(r);S.useEffect(()=>{i(r)},[r]);const o=(m,d)=>{const f=[...n];f[m]={...f[m],model:d},i(f)},l=n.every(m=>m.model!=="ambiguous"),c=()=>n.filter(d=>d.model!=="ignore").some(d=>d.model==="processo"||d.model==="testemunha"),u=()=>{if(l&&c()){const m=n.filter(d=>d.model!=="ignore");s(m)}};return a.jsxDEV(dt,{open:e,onOpenChange:m=>!m&&t(),children:a.jsxDEV(ft,{className:"max-w-2xl",children:[a.jsxDEV(ls,{children:[a.jsxDEV(cs,{children:"Mapeamento de Abas"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:76,columnNumber:11},this),a.jsxDEV(Pn,{children:"Algumas abas precisam de mapeamento manual. Selecione o tipo correto para cada aba."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:75,columnNumber:9},this),a.jsxDEV("div",{className:"space-y-4",children:[n.map((m,d)=>a.jsxDEV(O,{className:m.model==="ambiguous"?"border-warning":m.model==="ignore"?"border-muted opacity-75":"",children:[a.jsxDEV(B,{className:"pb-3",children:a.jsxDEV(z,{className:"text-sm flex items-center gap-2",children:[m.name,m.model==="ambiguous"?a.jsxDEV(H,{variant:"outline",className:"text-warning border-warning",children:[a.jsxDEV(Xe,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:103,columnNumber:23},this),"Requer mapeamento"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:99,columnNumber:21},this):m.model==="ignore"?a.jsxDEV(H,{variant:"outline",className:"text-muted-foreground border-muted",children:"Ignorada"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:107,columnNumber:21},this):a.jsxDEV(H,{variant:"outline",className:"text-success border-success",children:[a.jsxDEV(Te,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:118,columnNumber:23},this),"Mapeada"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:114,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:96,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:95,columnNumber:15},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[m.rows," linhas  ",m.headers.length," colunas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:126,columnNumber:19},this),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-sm font-medium",children:"Tipo:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:131,columnNumber:21},this),a.jsxDEV(rr,{value:m.model,onValueChange:f=>o(d,f),children:[a.jsxDEV(sr,{className:"w-[200px]",children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:139,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:138,columnNumber:23},this),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"processo",children:"Por Processo"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:142,columnNumber:25},this),a.jsxDEV(ue,{value:"testemunha",children:"Por Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:143,columnNumber:25},this),a.jsxDEV(ue,{value:"ignore",children:"Ignorar esta aba"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:146,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:141,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:132,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:130,columnNumber:19},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[a.jsxDEV("strong",{children:"Colunas detectadas:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:152,columnNumber:21},this)," ",m.headers.slice(0,5).join(", "),m.headers.length>5&&` e mais ${m.headers.length-5}...`]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:151,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:125,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:124,columnNumber:15},this)]},d,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:85,columnNumber:13},this)),!c()&&a.jsxDEV(O,{className:"border-destructive bg-destructive/5",children:a.jsxDEV($,{className:"p-4",children:a.jsxDEV("div",{className:"flex items-center gap-2 text-destructive",children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:166,columnNumber:19},this),a.jsxDEV("span",{className:"text-sm font-medium",children:' necessrio ter pelo menos uma aba mapeada como "Por Processo" ou "Por Testemunha"'},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:167,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:165,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:164,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:163,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:83,columnNumber:9},this),a.jsxDEV("div",{className:"flex justify-between pt-4",children:[a.jsxDEV(I,{variant:"outline",onClick:t,children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:178,columnNumber:11},this),a.jsxDEV(I,{onClick:u,disabled:!l||!c(),children:"Continuar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:177,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:74,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/MappingDialog.tsx",lineNumber:73,columnNumber:5},this)}const Oa=["upload","validation","preview","publish"],Fn=Wx((e,r)=>({currentStep:"upload",session:null,file:null,validationResult:null,currentVersionId:null,versionNumber:null,isProcessing:!1,uploadProgress:0,error:null,setCurrentStep:s=>e({currentStep:s}),setSession:s=>e({session:s}),setFile:s=>e({file:s}),setValidationResult:s=>e({validationResult:s}),setIsProcessing:s=>e({isProcessing:s}),setUploadProgress:s=>e(t=>({uploadProgress:typeof s=="function"?s(t.uploadProgress):s})),setError:s=>e({error:s}),resetWizard:()=>e({currentStep:"upload",session:null,file:null,validationResult:null,currentVersionId:null,versionNumber:null,isProcessing:!1,uploadProgress:0,error:null}),setCurrentVersion:(s,t)=>e({currentVersionId:s,versionNumber:t}),createNewVersion:async()=>{try{e({isProcessing:!0,error:null});const{supabase:s}=await Ka(async()=>{const{supabase:i}=await import("./page-About-Cx_WpGeO.js").then(o=>o.W);return{supabase:i}},__vite__mapDeps([0,1,2])),{data:t,error:n}=await s.functions.invoke("create-version",{body:{}});if(n)throw n;e({currentVersionId:t.versionId,versionNumber:t.number,isProcessing:!1}),Ia.info("Version created successfully",{versionId:t.versionId,number:t.number},"ImportStore")}catch(s){const t=pi.handle(s,"ImportStore.createNewVersion");throw e({error:t.userMessage||"Falha ao criar nova verso",isProcessing:!1}),t}},publishCurrentVersion:async()=>{const s=r();if(!s.currentVersionId)throw new Error("No version to publish");try{e({isProcessing:!0,error:null});const{supabase:t}=await Ka(async()=>{const{supabase:o}=await import("./page-About-Cx_WpGeO.js").then(l=>l.W);return{supabase:o}},__vite__mapDeps([0,1,2])),{data:n,error:i}=await t.functions.invoke("publish-version",{body:{versionId:s.currentVersionId}});if(i)throw i;return Ia.info("Version published successfully",{versionId:s.currentVersionId,number:n.number,publishedAt:n.publishedAt},"ImportStore"),e({isProcessing:!1}),n}catch(t){const n=pi.handle(t,"ImportStore.publishCurrentVersion");throw e({error:n.userMessage||"Falha ao publicar verso",isProcessing:!1}),n}},nextStep:()=>{const{currentStep:s}=r(),t=Oa.indexOf(s);t<Oa.length-1&&e({currentStep:Oa[t+1]})},previousStep:()=>{const{currentStep:s}=r(),t=Oa.indexOf(s);t>0&&e({currentStep:Oa[t-1]})},canProceedToNext:()=>{const s=r(),{currentStep:t,session:n,file:i,validationResult:o}=s;switch(t){case"upload":return!!(n&&i);case"validation":return!!o?.normalizedData;case"preview":{if(!o?.normalizedData)return!1;const l=Array.isArray(o.normalizedData.processos)&&o.normalizedData.processos.length>0,c=Array.isArray(o.normalizedData.testemunhas)&&o.normalizedData.testemunhas.length>0;return l||c}case"publish":return!1;default:return!1}}}));function X6(){const{setSession:e,setFile:r,setCurrentStep:s,isProcessing:t,setIsProcessing:n,uploadProgress:i,setUploadProgress:o,error:l,setError:c}=Fn(),[u,m]=S.useState(null),[d,f]=S.useState([]),[p,N]=S.useState(!1),h=S.useCallback(async x=>{const y=x[0];if(!y)return;if(y.size>20*1024*1024){c("Arquivo muito grande. Tamanho mximo: 20MB"),fe({title:"Arquivo muito grande",description:"O arquivo deve ter no mximo 20MB",variant:"destructive"});return}m(y),c(null),n(!0),o(0);const E=setTimeout(async()=>{try{const k=setInterval(()=>{o(M=>M>=90?(clearInterval(k),90):M+Math.random()*15)},150);console.log("Starting file structure detection for:",y.name);let _=[],A=0;const P=3;for(;A<P;)try{_=await Sx(y);break}catch(M){if(A++,A===P)throw M;console.log(`Retry ${A}/${P} for file detection`),await new Promise(C=>setTimeout(C,1e3*A))}clearInterval(k),o(100),f(_),console.log("Detected sheets:",_.map(M=>({name:M.name,model:M.model}))),_.some(M=>M.model==="ambiguous")?(console.log("Ambiguous sheets detected, showing mapping dialog"),N(!0)):w(_,y)}catch(k){const _=k instanceof Error?k.message:"Erro ao processar arquivo";console.error("File processing error:",_),c(_),fe({title:"Erro no processamento",description:_,variant:"destructive"})}finally{n(!1)}},300);return()=>clearTimeout(E)},[c,n,o]),{getRootProps:b,getInputProps:v,isDragActive:j}=qx({onDrop:h,accept:{"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/csv":[".csv"]},maxFiles:1,maxSize:20*1024*1024}),w=(x,y)=>{if(!x.some(_=>_.model==="processo"||_.model==="testemunha")){c("Arquivo deve conter pelo menos uma aba vlida"),fe({title:"Estrutura invlida",description:" necessrio ter pelo menos uma aba com estrutura vlida",variant:"destructive"});return}const k={fileName:y.name,fileSize:y.size,sheets:x,uploadedAt:new Date,sessionId:G6()};e(k),r(y),s("validation")},D=x=>{N(!1),u&&w(x,u)},g=x=>{switch(x){case"testemunha":return a.jsxDEV(H,{className:"bg-primary/10 text-primary border-primary/20",children:"Por Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:201,columnNumber:11},this);case"processo":return a.jsxDEV(H,{className:"bg-accent/10 text-accent border-accent/20",children:"Por Processo"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:207,columnNumber:11},this);case"ambiguous":return a.jsxDEV(H,{className:"bg-warning/10 text-warning-foreground border-warning/20",children:"Requer mapeamento"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:213,columnNumber:11},this);default:return a.jsxDEV(H,{variant:"secondary",children:"Desconhecido"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:218,columnNumber:16},this)}};return a.jsxDEV(a.Fragment,{children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(Ph,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:227,columnNumber:13},this),"Upload de Arquivo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:226,columnNumber:11},this),a.jsxDEV(te,{children:"Faa upload do arquivo CSV ou XLSX com os dados das testemunhas e processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:230,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:225,columnNumber:9},this),a.jsxDEV($,{className:"space-y-6",children:[!u&&a.jsxDEV("div",{...b(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${j?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary hover:bg-muted/50"}`,children:[a.jsxDEV("input",{...v()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:246,columnNumber:15},this),a.jsxDEV(ui,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:247,columnNumber:15},this),j?a.jsxDEV("p",{className:"text-lg font-medium",children:"Solte o arquivo aqui..."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:249,columnNumber:17},this):a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("p",{className:"text-lg font-medium",children:"Arraste o arquivo ou clique para selecionar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:252,columnNumber:19},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Formatos aceitos: Excel (.xlsx, .xls) e CSV  Mximo 20MB"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:255,columnNumber:19},this),a.jsxDEV("div",{className:"mt-4",children:a.jsxDEV(I,{variant:"outline",children:"Selecionar Arquivo"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:259,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:258,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:251,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:238,columnNumber:13},this),u&&a.jsxDEV(O,{className:"bg-muted/50",children:a.jsxDEV($,{className:"p-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV(Gr,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:272,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"font-medium",children:u.name},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:274,columnNumber:23},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[(u.size/1024/1024).toFixed(2)," MB"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:275,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:273,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:271,columnNumber:19},this),!t&&d.length>0&&a.jsxDEV(Te,{className:"h-5 w-5 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:281,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:270,columnNumber:17},this),t&&a.jsxDEV("div",{className:"mt-4 space-y-2",children:[a.jsxDEV(Sn,{value:i,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:287,columnNumber:21},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:i<50?"Carregando arquivo...":i<90?"Analisando estrutura...":"Finalizando deteco..."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:288,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:286,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:269,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:268,columnNumber:13},this),l&&a.jsxDEV(Le,{variant:"destructive",children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:304,columnNumber:15},this),a.jsxDEV(Be,{children:l},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:305,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:303,columnNumber:13},this),d.length>0&&!t&&!p&&a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("h3",{className:"font-medium",children:"Abas Detectadas:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:312,columnNumber:15},this),a.jsxDEV("div",{className:"grid gap-3",children:d.map((x,y)=>a.jsxDEV(O,{className:"p-4",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"font-medium",children:x.name},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:319,columnNumber:27},this),g(x.model)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:318,columnNumber:25},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[x.rows.toLocaleString()," linhas "," ",x.headers.length," colunas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:322,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:317,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:316,columnNumber:21},this)},y,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:315,columnNumber:19},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:313,columnNumber:15},this),a.jsxDEV(I,{onClick:()=>u&&w(d,u),className:"w-full",disabled:!u,children:"Continuar para Validao"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:332,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:311,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:235,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:224,columnNumber:7},this),a.jsxDEV(H6,{open:p,sheets:d,onComplete:D,onCancel:()=>N(!1)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:347,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/UploadStep.tsx",lineNumber:223,columnNumber:5},this)}function Y6({corrections:e,onApplyCorrections:r,onReject:s}){const[t,n]=S.useState(!1);S.useState(new Set);const i=S.useMemo(()=>e.reduce((u,m)=>(u.total+=1,m.corrections.length>0&&(u.withCorrections+=1),m.isValid&&(u.valid+=1),m.corrections.some(d=>d.correctionType==="auto_complete")&&(u.autoComplete+=1),m.corrections.some(d=>d.correctionType==="format")&&(u.format+=1),m.corrections.some(d=>d.correctionType==="infer")&&(u.inferred+=1),u),{total:0,withCorrections:0,autoComplete:0,format:0,inferred:0,valid:0}),[e]),o=u=>{switch(u){case"auto_complete":return"bg-blue-500/10 text-blue-700 border-blue-200";case"format":return"bg-green-500/10 text-green-700 border-green-200";case"infer":return"bg-amber-500/10 text-amber-700 border-amber-200";case"default":return"bg-purple-500/10 text-purple-700 border-purple-200";default:return"bg-muted text-muted-foreground"}},l=u=>{switch(u){case"auto_complete":return"Auto-completar";case"format":return"Formatao";case"infer":return"Inferncia";case"default":return"Padro";default:return u}},c=()=>{const u=e.map(m=>m.correctedData);r(u)};return a.jsxDEV(O,{className:"border-primary/20 bg-primary/5",children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(Pt,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:124,columnNumber:11},this),"Correes Inteligentes Detectadas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:123,columnNumber:9},this),a.jsxDEV(te,{children:"O sistema detectou e pode corrigir automaticamente alguns problemas nos dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:127,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:122,columnNumber:7},this),a.jsxDEV($,{className:"space-y-6",children:[a.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxDEV(O,{className:"p-3 text-center",children:[a.jsxDEV("div",{className:"text-lg font-bold",children:i.total},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:136,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Total de linhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:135,columnNumber:11},this),a.jsxDEV(O,{className:"p-3 text-center bg-success/5 border-success/20",children:[a.jsxDEV("div",{className:"text-lg font-bold text-success",children:i.valid},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:140,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Sero vlidas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:139,columnNumber:11},this),a.jsxDEV(O,{className:"p-3 text-center bg-blue-500/5 border-blue-500/20",children:[a.jsxDEV("div",{className:"text-lg font-bold text-blue-600",children:i.withCorrections},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:146,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Com correes"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:149,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:145,columnNumber:11},this),a.jsxDEV(O,{className:"p-3 text-center bg-amber-500/5 border-amber-500/20",children:[a.jsxDEV("div",{className:"text-lg font-bold text-amber-600",children:i.inferred},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:152,columnNumber:13},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Inferncias"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:155,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:134,columnNumber:9},this),a.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[a.jsxDEV(H,{className:o("auto_complete"),children:[i.autoComplete," Auto-completar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:161,columnNumber:11},this),a.jsxDEV(H,{className:o("format"),children:[i.format," Formatao"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:164,columnNumber:11},this),a.jsxDEV(H,{className:o("infer"),children:[i.inferred," Inferncias"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:167,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:160,columnNumber:9},this),a.jsxDEV(Le,{className:"border-success bg-success/5",children:[a.jsxDEV(Te,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:174,columnNumber:11},this),a.jsxDEV(Be,{className:"text-success",children:[a.jsxDEV("strong",{children:"Pronto para aplicar:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:176,columnNumber:13},this)," ",i.valid," de"," ",i.total," linhas sero vlidas aps as correes"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:175,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:173,columnNumber:9},this),a.jsxDEV("div",{className:"flex justify-center",children:a.jsxDEV(I,{variant:"outline",size:"sm",onClick:()=>n(!t),children:[t?a.jsxDEV(Ah,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:189,columnNumber:15},this):a.jsxDEV(Sr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:191,columnNumber:15},this),t?"Ocultar Detalhes":"Ver Detalhes"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:183,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:182,columnNumber:9},this),t&&a.jsxDEV(xs,{defaultValue:"corrections",className:"w-full",children:[a.jsxDEV(gs,{className:"grid w-full grid-cols-2",children:[a.jsxDEV(ye,{value:"corrections",children:["Correes (",i.withCorrections,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:201,columnNumber:15},this),a.jsxDEV(ye,{value:"samples",children:"Amostras (5)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:204,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:200,columnNumber:13},this),a.jsxDEV(Se,{value:"corrections",className:"space-y-4",children:a.jsxDEV("div",{className:"max-h-96 overflow-y-auto",children:a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{children:[a.jsxDEV(Q,{children:"Linha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:212,columnNumber:23},this),a.jsxDEV(Q,{children:"Campo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:213,columnNumber:23},this),a.jsxDEV(Q,{children:"Tipo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:214,columnNumber:23},this),a.jsxDEV(Q,{children:"Original"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:215,columnNumber:23},this),a.jsxDEV(Q,{children:"Corrigido"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:216,columnNumber:23},this),a.jsxDEV(Q,{children:"Confiana"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:217,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:211,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:210,columnNumber:19},this),a.jsxDEV(Ir,{children:e.slice(0,50).map((u,m)=>u.corrections.map((d,f)=>a.jsxDEV(we,{children:[a.jsxDEV(X,{children:m+1},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:224,columnNumber:27},this),a.jsxDEV(X,{className:"font-mono text-sm",children:d.field},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:225,columnNumber:27},this),a.jsxDEV(X,{children:a.jsxDEV(H,{className:o(d.correctionType),variant:"outline",children:l(d.correctionType)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:229,columnNumber:29},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:228,columnNumber:27},this),a.jsxDEV(X,{className:"max-w-32 truncate",children:a.jsxDEV("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:String(d.originalValue)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:241,columnNumber:29},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:240,columnNumber:27},this),a.jsxDEV(X,{className:"max-w-32 truncate",children:a.jsxDEV("code",{className:"text-xs bg-success/10 px-1 py-0.5 rounded",children:String(d.correctedValue)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:246,columnNumber:29},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:245,columnNumber:27},this),a.jsxDEV(X,{children:a.jsxDEV(H,{variant:"outline",children:[Math.round(d.confidence*100),"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:251,columnNumber:29},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:250,columnNumber:27},this)]},`${m}-${f}`,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:223,columnNumber:25},this)))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:220,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:209,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:208,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:207,columnNumber:13},this),a.jsxDEV(Se,{value:"samples",className:"space-y-4",children:a.jsxDEV("div",{className:"max-h-96 overflow-y-auto space-y-4",children:e.slice(0,5).map((u,m)=>a.jsxDEV(O,{className:"p-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxDEV(H,{variant:"outline",children:["Linha ",m+1]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:268,columnNumber:23},this),u.isValid?a.jsxDEV(H,{className:"bg-success/10 text-success border-success/20",children:[a.jsxDEV(Te,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:271,columnNumber:27},this),"Vlida"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:270,columnNumber:25},this):a.jsxDEV(H,{className:"bg-destructive/10 text-destructive border-destructive/20",children:[a.jsxDEV(Xe,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:276,columnNumber:27},this),"Invlida"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:275,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:267,columnNumber:21},this),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-medium mb-1",children:"Dados Originais:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:283,columnNumber:25},this),a.jsxDEV("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto",children:JSON.stringify(u.originalData,null,2)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:284,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:282,columnNumber:23},this),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-medium mb-1",children:"Dados Corrigidos:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:289,columnNumber:25},this),a.jsxDEV("pre",{className:"bg-success/10 p-2 rounded text-xs overflow-x-auto",children:JSON.stringify(u.correctedData,null,2)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:292,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:288,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:281,columnNumber:21},this),u.corrections.length>0&&a.jsxDEV("div",{className:"mt-2",children:[a.jsxDEV("div",{className:"font-medium mb-1",children:"Correes:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:299,columnNumber:25},this),a.jsxDEV("div",{className:"flex flex-wrap gap-1",children:u.corrections.map((d,f)=>a.jsxDEV(H,{className:o(d.correctionType),variant:"outline",children:[d.field,":"," ",l(d.correctionType)]},f,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:302,columnNumber:29},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:300,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:298,columnNumber:23},this)]},m,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:266,columnNumber:19},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:264,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:263,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:199,columnNumber:11},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV(I,{variant:"outline",onClick:s,children:"Rejeitar Correes"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:327,columnNumber:11},this),a.jsxDEV(I,{onClick:c,className:"bg-success hover:bg-success/90",children:[a.jsxDEV(Pt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:334,columnNumber:13},this),"Aplicar Correes (",i.withCorrections,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:330,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:326,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:132,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/CorrectionInterface.tsx",lineNumber:121,columnNumber:5},this)}function J6({issues:e,onExportIssues:r}){const[s,t]=S.useState({severity:"all",sheet:"all",rule:"all",search:""}),n=S.useRef(null),i=S.useMemo(()=>[...new Set(e.map(N=>N.sheet))].sort(),[e]),o=S.useMemo(()=>[...new Set(e.map(N=>N.rule).filter(Boolean))].sort(),[e]),l=S.useMemo(()=>e.filter(N=>{if(s.severity!=="all"&&N.severity!==s.severity||s.sheet!=="all"&&N.sheet!==s.sheet||s.rule!=="all"&&N.rule!==s.rule)return!1;if(s.search){const h=s.search.toLowerCase(),b=N.message.toLowerCase().includes(h),v=N.column?.toLowerCase().includes(h),j=N.original?.toString().toLowerCase().includes(h);if(!b&&!v&&!j)return!1}return!0}),[e,s]),c=Kx({count:l.length,getScrollElement:()=>n.current,estimateSize:()=>56,overscan:5}),u=N=>{switch(N){case"error":return a.jsxDEV(du,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:108,columnNumber:16},this);case"warning":return a.jsxDEV(mr,{className:"h-4 w-4 text-warning"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:110,columnNumber:16},this);case"info":return a.jsxDEV(Te,{className:"h-4 w-4 text-info"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:112,columnNumber:16},this)}},m=N=>{switch(N){case"error":return"destructive";case"warning":return"default";case"info":return"secondary"}},d=()=>{const h=[["Severidade","Aba","Linha","Coluna","Regra","Mensagem","Valor Original","Valor Corrigido"].join(","),...l.map(w=>[w.severity,w.sheet,w.row||"",w.column||"",w.rule||"",`"${w.message.replace(/"/g,'""')}"`,`"${(w.original||"").toString().replace(/"/g,'""')}"`,`"${(w.fixed||"").toString().replace(/"/g,'""')}"`].join(","))].join(`
`),b=new Blob([h],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a"),j=URL.createObjectURL(b);v.setAttribute("href",j),v.setAttribute("download",`assistjur-issues-${new Date().toISOString().split("T")[0]}.csv`),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v)},f=()=>{r?r():d()},p=()=>{t({severity:"all",sheet:"all",rule:"all",search:""})};return a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(mu,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:190,columnNumber:13},this),"Issues Detectadas (",l.length," de ",e.length,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:189,columnNumber:11},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(I,{variant:"outline",size:"sm",onClick:p,children:"Limpar Filtros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:194,columnNumber:13},this),a.jsxDEV(I,{variant:"outline",size:"sm",onClick:f,children:[a.jsxDEV(Kr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:198,columnNumber:15},this),"Exportar CSV"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:193,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:188,columnNumber:9},this),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-sm font-medium mb-1 block",children:"Severidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:207,columnNumber:13},this),a.jsxDEV(rr,{value:s.severity,onValueChange:N=>t(h=>({...h,severity:N})),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:215,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:214,columnNumber:15},this),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"all",children:"Todas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:218,columnNumber:17},this),a.jsxDEV(ue,{value:"error",children:"Erro"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:219,columnNumber:17},this),a.jsxDEV(ue,{value:"warning",children:"Aviso"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:220,columnNumber:17},this),a.jsxDEV(ue,{value:"info",children:"Info"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:221,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:208,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:206,columnNumber:11},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-sm font-medium mb-1 block",children:"Aba"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:227,columnNumber:13},this),a.jsxDEV(rr,{value:s.sheet,onValueChange:N=>t(h=>({...h,sheet:N})),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:235,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:234,columnNumber:15},this),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"all",children:"Todas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:238,columnNumber:17},this),i.map(N=>a.jsxDEV(ue,{value:N,children:N},N,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:240,columnNumber:19},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:226,columnNumber:11},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-sm font-medium mb-1 block",children:"Regra"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:249,columnNumber:13},this),a.jsxDEV(rr,{value:s.rule,onValueChange:N=>t(h=>({...h,rule:N})),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:257,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:256,columnNumber:15},this),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"all",children:"Todas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:260,columnNumber:17},this),o.map(N=>a.jsxDEV(ue,{value:N,children:N},N,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:262,columnNumber:19},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:259,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:250,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:248,columnNumber:11},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-sm font-medium mb-1 block",children:"Buscar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:271,columnNumber:13},this),a.jsxDEV(Oe,{placeholder:"Buscar na mensagem, coluna ou valor...",value:s.search,onChange:N=>t(h=>({...h,search:N.target.value}))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:272,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:270,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:205,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:187,columnNumber:7},this),a.jsxDEV($,{children:[a.jsxDEV("div",{ref:n,className:"rounded-md border max-h-96 overflow-y-auto",children:a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{children:[a.jsxDEV(Q,{className:"w-20",children:"Severidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:291,columnNumber:17},this),a.jsxDEV(Q,{className:"w-24",children:"Aba"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:292,columnNumber:17},this),a.jsxDEV(Q,{className:"w-16",children:"Linha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:293,columnNumber:17},this),a.jsxDEV(Q,{className:"w-32",children:"Coluna"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:294,columnNumber:17},this),a.jsxDEV(Q,{className:"w-24",children:"Regra"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:295,columnNumber:17},this),a.jsxDEV(Q,{children:"Mensagem"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:296,columnNumber:17},this),a.jsxDEV(Q,{className:"w-32",children:"Valor Original"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:297,columnNumber:17},this),a.jsxDEV(Q,{className:"w-32",children:"Valor Corrigido"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:298,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:290,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:289,columnNumber:13},this),l.length===0?a.jsxDEV(Ir,{children:a.jsxDEV(we,{children:a.jsxDEV(X,{colSpan:8,className:"text-center text-muted-foreground py-6",children:e.length===0?"Nenhuma issue detectada":"Nenhuma issue corresponde aos filtros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:304,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:303,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:302,columnNumber:15},this):a.jsxDEV(Ir,{style:{height:`${c.getTotalSize()}px`,position:"relative"},children:c.getVirtualItems().map(N=>{const h=l[N.index];return a.jsxDEV(we,{className:"absolute top-0 left-0 w-full",style:{transform:`translateY(${N.start}px)`},children:[a.jsxDEV(X,{children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[u(h.severity),a.jsxDEV(H,{variant:m(h.severity),className:"text-xs",children:h.severity.toUpperCase()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:332,columnNumber:27},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:330,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:329,columnNumber:23},this),a.jsxDEV(X,{className:"font-medium",children:h.sheet},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:340,columnNumber:23},this),a.jsxDEV(X,{children:h.row||"-"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:343,columnNumber:23},this),a.jsxDEV(X,{children:h.column||"-"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:344,columnNumber:23},this),a.jsxDEV(X,{children:h.rule&&a.jsxDEV(H,{variant:"outline",className:"text-xs",children:h.rule},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:347,columnNumber:27},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:345,columnNumber:23},this),a.jsxDEV(X,{className:"max-w-xs",children:a.jsxDEV("div",{className:"truncate",title:h.message,children:h.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:353,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:352,columnNumber:23},this),a.jsxDEV(X,{className:"max-w-xs",children:h.original&&a.jsxDEV("div",{className:"truncate bg-muted px-2 py-1 rounded text-xs",title:h.original?.toString(),children:h.original?.toString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:359,columnNumber:27},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:357,columnNumber:23},this),a.jsxDEV(X,{className:"max-w-xs",children:h.fixed&&a.jsxDEV("div",{className:"truncate bg-success/10 px-2 py-1 rounded text-xs",title:h.fixed?.toString(),children:h.fixed?.toString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:369,columnNumber:27},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:367,columnNumber:23},this)]},N.key,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:324,columnNumber:21},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:315,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:288,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:284,columnNumber:9},this),l.length>0&&a.jsxDEV("div",{className:"mt-4 text-sm text-muted-foreground",children:["Mostrando ",l.length," de ",e.length," issues"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:386,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:283,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/IssuesDataTable.tsx",lineNumber:186,columnNumber:5},this)}function Z6(e){let r="",s=e;for(;s>=0;)r=String.fromCharCode(65+s%26)+r,s=Math.floor(s/26)-1;return r}function Q6(e,r){const s=Z6(r),t=e+1;return`${s}${t}`}function eL(e){return/^[A-Z]+\d+$/.test(e)}function e8(e){if(e.length!==20)return!1;const r=e.split("").map(Number),s=r.slice(0,6),t=[2,3,4,5,6,7],n=s.reduce((m,d,f)=>m+d*t[f],0),i=n%11<2?0:11-n%11,o=r.slice(7,13),l=[2,3,4,5,6,7],c=o.reduce((m,d,f)=>m+d*l[f],0),u=c%11<2?0:11-c%11;return r[6]===i&&r[13]===u}function yh(e){return e.length!==20?e:`${e.slice(0,7)}-${e.slice(7,9)}.${e.slice(9,13)}.${e.slice(13,14)}.${e.slice(14,16)}.${e.slice(16)}`}function ut(e){return e?String(e).replace(/\D/g,""):""}function $s(e,r="final"){const s=ut(e),t=[];if(r==="correction"){if(s.length<15)return t.push(`CNJ muito curto: ${s.length} dgitos (mnimo 15 para correo)`),{isValid:!1,formatted:s,cleaned:s,errors:t};let i=s;return s.length<20&&(i=s.padEnd(20,"0")),{isValid:!0,formatted:yh(i),cleaned:i,errors:[]}}s.length!==20&&t.push(`CNJ deve ter exatamente 20 dgitos, encontrados: ${s.length}`),s.length===20&&!e8(s)&&t.push("CNJ com dgitos verificadores invlidos");const n=t.length===0;return{isValid:n,formatted:n?yh(s):s,cleaned:s,errors:t}}function r8(e){const r=$s(e,"correction");if(!r.isValid)return{corrected:ut(e),needsCorrection:!1,reason:r.errors.join("; ")};const s=ut(e),t=r.cleaned;return{corrected:t,needsCorrection:s!==t,reason:s!==t?`CNJ completado de ${s.length} para 20 dgitos`:void 0}}const wh={advogados_ativo:{canonical:"advogados_ativo",synonyms:["Advogados (Polo Ativo)","Advogados Polo Ativo","advogados_polo_ativo","advogados_ativo","Advogados_Ativo"],type:"array"},advogados_passivo:{canonical:"advogados_passivo",synonyms:["Advogados (Polo Passivo)","Advogados Polo Passivo","advogados_polo_passivo","advogados_passivo","Advogados_Passivo"],type:"array"},testemunhas_ativo:{canonical:"testemunhas_ativo",synonyms:["testemunhas_ativo","Testemunhas_Ativo","testemunhas_polo_ativo","Testemunhas (Polo Ativo)"],type:"array"},testemunhas_passivo:{canonical:"testemunhas_passivo",synonyms:["testemunhas_passivo","Testemunhas_Passivo","testemunhas_polo_passivo","Testemunhas (Polo Passivo)"],type:"array"},todas_testemunhas:{canonical:"todas_testemunhas",synonyms:["testemunhas_todas","Testemunhas_Todas","todas_testemunhas","Todas_Testemunhas","testemunhas_completas"],type:"array"},cnj:{canonical:"cnj",synonyms:["cnj","CNJ","numero_cnj","numero_processo"],type:"string"},reclamantes:{canonical:"reclamantes",synonyms:["reclamantes","Reclamantes","autores","requerentes","partes_ativas"],type:"array"},nome_testemunha:{canonical:"nome_testemunha",synonyms:["nome_testemunha","Nome_Testemunha","nome","testemunha","nome_completo"],type:"string"},qtd_depoimentos:{canonical:"qtd_depoimentos",synonyms:["qtd_depoimentos","quantidade_depoimentos","total_depoimentos","numero_depoimentos"],type:"number"}};function s8(e){if(wh[e])return e;const r=e.toLowerCase().trim();for(const[s,t]of Object.entries(wh))if(t.synonyms.some(i=>i.toLowerCase().trim()===r))return s;return null}function _x(e,r){const s={};return e.forEach(t=>{const n=s8(t);n?s[n]=t:s[t]=t}),s}function Ox(e,r){if(!r)return e;const s={...e};return(!s.reu_nome||s.reu_nome.trim()==="")&&r.applyDefaultReuOnTestemunha&&r.defaultReuNome&&(s.reu_nome=r.defaultReuNome,s.__autofill={...s.__autofill||{},reu_nome:!0}),s}function Dh(e,r,s){const t=_x(e.headers);return r.map(n=>{const i={};Object.entries(t).forEach(([m,d])=>{i[m]=n[d]}),Ox(i,s);const o=i.cnj||"",c=$s(o,"correction").cleaned;return{cnj:c,cnj_digits:ut(c),reclamante_nome:i.reclamante_nome||"",reu_nome:i.reu_nome||"",comarca:i.comarca||"",tribunal:i.tribunal||"",vara:i.vara||"",fase:i.fase||"",status:i.status||"",observacoes:i.observacoes||""}}).filter(n=>{const i=$s(n.cnj,"correction"),o=n.reclamante_nome||n.reu_nome;return i.isValid||o})}function Eh(e,r,s){const t=_x(e.headers);return r.map(n=>{const i={};return Object.entries(t).forEach(([o,l])=>{i[o]=n[l]}),Ox(i,s),{cnj:i.cnj||"",cnj_digits:ut(i.cnj||""),nome_testemunha:i.nome_testemunha||"",reclamante_nome:i.reclamante_nome||"",reu_nome:i.reu_nome||"",observacoes:i.observacoes||""}})}async function t8(e,r){if(e.name.endsWith(".csv"))return new Promise((t,n)=>{Ih.parse(e,{header:!0,skipEmptyLines:!0,complete:i=>{t(i.data)},error:n})});const s=await Ka(()=>import("./xlsx-BBMPxr6S.js"),[]);return new Promise((t,n)=>{const i=new FileReader;i.onload=o=>{try{const l=new Uint8Array(o.target?.result),u=s.read(l,{type:"array"}).Sheets[r.name];if(!u){n(new Error(`Sheet "${r.name}" not found`));return}const m=s.utils.sheet_to_json(u,{header:1}),d=m[0],p=m.slice(1).map(N=>{const h={};return d.forEach((b,v)=>{h[b]=N[v]}),h});t(p)}catch(l){n(l)}},i.onerror=n,i.readAsArrayBuffer(e)})}async function a8(e,r,s=null){const t=await t8(e,r);return r.model==="processo"?{processos:Dh(r,t,s)}:r.model==="testemunha"?{testemunhas:Eh(r,t,s)}:r.headers.some(i=>["comarca","tribunal","vara","status"].some(o=>i.toLowerCase().includes(o)))?{processos:Dh(r,t,s)}:{testemunhas:Eh(r,t,s)}}const uu=[{normalized:"cnj",synonyms:["CNJ","cnj","numero_cnj","num_cnj","processo","numero_processo"],required:!0,sheet:"processo"},{normalized:"uf",synonyms:["UF","uf","estado","unidade_federativa","sigla_estado"],required:!0,sheet:"processo"},{normalized:"comarca",synonyms:["comarca","Comarca","COMARCA","municipio","cidade"],required:!0,sheet:"processo"},{normalized:"reclamante_nome",synonyms:["reclamante_nome","Reclamante_Nome","reclamante","Reclamante","Reclamante_Limpo","reclamante_limpo","nome_reclamante","autor","nome_autor","requerente","nome_requerente"],required:!0,sheet:"processo"},{normalized:"reu_nome",synonyms:["reu_nome","Reu_Nome","reu","Reu","REU","reclamado","nome_reclamado","requerido","nome_requerido"],required:!1,sheet:"processo"},{normalized:"advogados_ativo",synonyms:["advogados_ativo","Advogados_Ativo","advogados_polo_ativo","advogado_reclamante","advogados_reclamante","advogado_autor","advogados_autor","representante_legal_ativo"],required:!1,sheet:"processo"},{normalized:"todas_testemunhas",synonyms:["todas_testemunhas","Todas_Testemunhas","testemunhas_todas","testemunhas","lista_testemunhas","nomes_testemunhas","testemunhas_processo","testemunhas_envolvidas"],required:!0,sheet:"processo"},{normalized:"fase",synonyms:["fase","Fase","fase_processual","etapa","situacao_processo"],required:!1,sheet:"processo"},{normalized:"status",synonyms:["status","Status","STATUS","situacao","estado_processo"],required:!1,sheet:"processo"},{normalized:"data_audiencia",synonyms:["data_audiencia","Data_Audiencia","data_da_audiencia","audiencia","proxima_audiencia","dt_audiencia"],required:!1,sheet:"processo"},{normalized:"observacoes",synonyms:["observacoes","Observacoes","observaes","Observaes","obs","comentarios","notas","anotacoes"],required:!1,sheet:"processo"},{normalized:"tribunal",synonyms:["tribunal","Tribunal","TRIBUNAL","orgao_julgador"],required:!1,sheet:"processo"},{normalized:"vara",synonyms:["vara","Vara","VARA","vara_trabalhista"],required:!1,sheet:"processo"},{normalized:"nome_testemunha",synonyms:["nome_testemunha","Nome_Testemunha","testemunha","nome_da_testemunha","testemunha_nome"],required:!0,sheet:"testemunha"},{normalized:"qtd_depoimentos",synonyms:["qtd_depoimentos","Qtd_Depoimentos","quantidade_depoimentos","numero_depoimentos","total_depoimentos","qtde_depoimentos","count_depoimentos"],required:!0,sheet:"testemunha"},{normalized:"cnjs_como_testemunha",synonyms:["cnjs_como_testemunha","CNJs_Como_Testemunha","cnj_como_testemunha","processos_como_testemunha","lista_cnjs","cnjs_testemunha","cnjs_depoimento","processos_testemunha"],required:!0,sheet:"testemunha"},{normalized:"reclamante_nome",synonyms:["reclamante_nome","Reclamante_Nome","reclamante","nome_reclamante","autor"],required:!1,sheet:"testemunha"},{normalized:"reu_nome",synonyms:["reu_nome","Reu_Nome","reu","nome_reu","reclamado"],required:!1,sheet:"testemunha"}];function n8(e,r){const s=e.trim(),t=uu.find(i=>(i.sheet===r||i.sheet==="both")&&i.synonyms.includes(s));if(t)return t.normalized;const n=uu.find(i=>(i.sheet===r||i.sheet==="both")&&i.synonyms.some(o=>o.toLowerCase()===s.toLowerCase()));return n?n.normalized:null}function i8(e){return uu.filter(r=>r.required&&(r.sheet===e||r.sheet==="both")).map(r=>r.normalized)}function o8(e,r){const s={},t=[],n=i8(r);e.forEach(l=>{const c=n8(l,r);c?s[l]=c:t.push(l)});const i=Object.values(s),o=n.filter(l=>!i.includes(l));return{mapped:s,unmapped:t,missing:o}}function l8(e,r){const s=o8(e,r),t={};return s.unmapped.forEach(n=>{const i=[];r==="processo"&&(n.toLowerCase().includes("reclamante")&&i.push("reclamante_nome"),(n.toLowerCase().includes("reu")||n.toLowerCase().includes("reclamado"))&&i.push("reu_nome"),(n.toLowerCase().includes("cnj")||n.toLowerCase().includes("processo"))&&i.push("cnj")),i.length>0&&(t[n]=i)}),{...s,suggestions:t}}function c8(e,r,s){const t=[],n={...e};let i=!0;if(s==="processo"){if(n.cnj){const o=n.cnj,l=r8(o);l.needsCorrection&&t.push({field:"cnj",originalValue:o,correctedValue:l.corrected,correctionType:"auto_complete",confidence:.7}),n.cnj=l.corrected,n.cnj_digits=ut(n.cnj)}if(["reclamante_nome","reu_nome"].forEach(o=>{if(n[o]&&typeof n[o]=="string"){const l=n[o],c=l.trim().replace(/\s+/g," ");if(c!==l&&(n[o]=c,t.push({field:o,originalValue:l,correctedValue:c,correctionType:"format",confidence:.9})),c===c.toUpperCase()||c===c.toLowerCase()){const u=c.toLowerCase().replace(/\b\w/g,m=>m.toUpperCase());n[o]=u,t.push({field:o,originalValue:c,correctedValue:u,correctionType:"format",confidence:.8})}}o==="reclamante_nome"&&(!n[o]||String(n[o]).trim()==="")&&(i=!1)}),!n.reu_nome&&n.reclamante_nome){const o=n.reclamante_nome.toLowerCase();if(o.includes("vs")||o.includes("x ")){const l=o.split(/\s+(vs?\.?|x)\s+/i);l.length>=2&&(n.reu_nome=l[1].trim(),t.push({field:"reu_nome",originalValue:null,correctedValue:n.reu_nome,correctionType:"infer",confidence:.6}))}}["advogados_ativo","advogados_passivo","testemunhas_ativo","testemunhas_passivo"].forEach(o=>{if(n[o]&&typeof n[o]=="string"){const l=n[o],c=l.split(/[;,]/).map(u=>u.trim()).filter(Boolean);c.length>0&&(n[o]=c,t.push({field:o,originalValue:l,correctedValue:c,correctionType:"format",confidence:.9}))}})}else s==="testemunha"&&((!n.nome_testemunha||String(n.nome_testemunha).trim()==="")&&(i=!1),n.cnjs_como_testemunha&&(Array.isArray(n.cnjs_como_testemunha)?n.cnjs_como_testemunha:String(n.cnjs_como_testemunha).split(/[;,]/).map(c=>c.trim())).filter(c=>$s(c,"final").isValid).length===0&&(i=!1));return{originalData:e,correctedData:n,corrections:t,isValid:i}}async function Cx(e,r,s){if(!s)throw new Error("Arquivo  obrigatrio para validao inteligente");let t=0,n=0;const i=[],o=[],l={processos:[],testemunhas:[]},c={};for(const h of e.sheets)try{const b=await a8(s,h,null),v=h.model==="testemunha"?"testemunha":"processo",j=l8(h.headers,v);j.missing.forEach(D=>{i.push({sheet:h.name,row:0,column:D,severity:"error",rule:"Campo obrigatrio no encontrado",message:`Campo obrigatrio "${D}" no foi encontrado nos cabealhos`,value:"N/A"})}),Object.entries(j.suggestions).forEach(([D,g])=>{i.push({sheet:h.name,row:0,column:D,severity:"warning",rule:"Campo no mapeado",message:`Campo "${D}" no foi mapeado. Sugestes: ${g.join(", ")}`,value:D})});const w=b.processos||b.testemunhas||[];c[h.name]=w.length,w.forEach((D,g)=>{const x=g+1;t++;const y=r.intelligentCorrections?c8(D,g,v):{originalData:D,correctedData:D,corrections:[],isValid:!0};o.push(y);const k=$s(y.correctedData.cnj,"correction").isValid;if(y.isValid||k){n++;const _=y.correctedData.reclamante_nome||y.correctedData.reu_nome,A=y.correctedData.nome_testemunha;_&&(v==="processo"||!A)?(l.processos||(l.processos=[]),l.processos.push(y.correctedData)):A&&(v==="testemunha"||!_)?(l.testemunhas||(l.testemunhas=[]),l.testemunhas.push(y.correctedData)):k&&(v==="processo"?(l.processos||(l.processos=[]),l.processos.push(y.correctedData)):(l.testemunhas||(l.testemunhas=[]),l.testemunhas.push(y.correctedData)));const P=ut(y.correctedData.cnj);k&&P.length<20&&i.push({sheet:h.name,row:x,column:"cnj",severity:"warning",rule:"CNJ incompleto mas preservado",message:`CNJ tem ${P.length} dgitos (recomendado: 20). Dados preservados para reviso.`,value:y.correctedData.cnj||"N/A"}),y.corrections.forEach(T=>{i.push({sheet:h.name,row:x,column:T.field,severity:"info",rule:"Correo automtica aplicada",message:`${T.correctionType}: "${T.originalValue}"  "${T.correctedValue}" (confiana: ${Math.round(T.confidence*100)}%)`,value:T.originalValue})})}else v==="processo"&&(y.correctedData.reclamante_nome||i.push({sheet:h.name,row:x,column:"reclamante_nome",severity:"error",rule:"Nome do reclamante  obrigatrio",message:'Campo "reclamante_nome"  obrigatrio mas est vazio',value:y.correctedData.reclamante_nome||"N/A"}),y.correctedData.reu_nome||i.push({sheet:h.name,row:x,column:"reu_nome",severity:"warning",rule:"Nome do ru recomendado",message:'Campo "reu_nome" est vazio mas pode ser preenchido posteriormente',value:y.correctedData.reu_nome||"N/A"}),(!y.correctedData.cnj||!$s(y.correctedData.cnj,"final").isValid)&&i.push({sheet:h.name,row:x,column:"cnj",severity:"error",rule:"CNJ deve ter 20 dgitos",message:"CNJ deve ter formato vlido com 20 dgitos numricos",value:y.correctedData.cnj||"N/A"}))})}catch(b){i.push({sheet:h.name,row:0,column:"sistema",severity:"error",rule:"Erro no processamento",message:`Erro ao processar aba: ${b instanceof Error?b.message:"Erro desconhecido"}`,value:"N/A"})}const u=Object.values(c).reduce((h,b)=>h+b,0),m=Object.values(l).flat().length,d=u-m,f=o.filter(h=>h.corrections.length>0).length,p=o.reduce((h,b)=>h+b.corrections.length,0);return console.log(` Enhanced Validation Summary:
     File Processing:
    - Original rows loaded: ${u}
    - Successfully processed: ${m}  
    - Filtered out (invalid): ${d}
    - Final valid rows: ${n}
    
     Corrections Applied:
    - Rows with corrections: ${f}
    - Individual corrections made: ${p}
    
     Data Breakdown:
    - Processos: ${l.processos?.length||0}
    - Testemunhas: ${l.testemunhas?.length||0}`),{summary:{analyzed:u,valid:n,errors:i.filter(h=>h.severity==="error").length,warnings:i.filter(h=>h.severity==="warning").length,infos:i.filter(h=>h.severity==="info").length},issues:i,normalizedData:l,intelligentCorrections:o}}function Tx(){const[e,r]=S.useState(null),[s,t]=S.useState(!1),n=async()=>{t(!0);try{const l=await(await fetch("/template-test-exemplo.csv")).blob(),c=new File([l],"template-test-exemplo.csv",{type:"text/csv"}),u=await Sx(c),m={sessionId:crypto.randomUUID(),fileName:c.name,fileSize:c.size,sheets:u,uploadedAt:new Date},d=await Cx(m,{explodeLists:!0,standardizeCNJ:!0,applyDefaultReu:!0,intelligentCorrections:!0},c);r({success:!0,sheets:u.length,analyzed:d.summary.analyzed,valid:d.summary.valid,errors:d.summary.errors,warnings:d.summary.warnings,corrections:d.intelligentCorrections?.length||0,correctionsApplied:d.intelligentCorrections?.filter(f=>f.corrections.length>0).length||0})}catch(i){r({success:!1,error:i instanceof Error?i.message:"Erro desconhecido"})}finally{t(!1)}};return a.jsxDEV(O,{className:"border-primary/20 bg-primary/5",children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(Gr,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:81,columnNumber:11},this),"Teste do Corretor Inteligente"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:80,columnNumber:9},this),a.jsxDEV(te,{children:"Valide se o template atualizado funciona corretamente com o novo sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:79,columnNumber:7},this),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV(I,{onClick:n,disabled:s,className:"w-full",children:[a.jsxDEV(Kr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:95,columnNumber:11},this),s?"Testando Template...":"Testar Template Corrigido"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:90,columnNumber:9},this),e&&a.jsxDEV("div",{className:"space-y-4",children:[e.success?a.jsxDEV(Le,{className:"border-success bg-success/5",children:[a.jsxDEV(Te,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:103,columnNumber:17},this),a.jsxDEV(Be,{className:"text-success",children:[a.jsxDEV("strong",{children:" Teste Aprovado!"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:105,columnNumber:19},this)," Template funciona perfeitamente com o Corretor Inteligente"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:104,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:102,columnNumber:15},this):a.jsxDEV(Le,{variant:"destructive",children:[a.jsxDEV(mr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:111,columnNumber:17},this),a.jsxDEV(Be,{children:[a.jsxDEV("strong",{children:" Teste Falhou:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:113,columnNumber:19},this)," ",e.error]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:112,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:110,columnNumber:15},this),e.success&&a.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxDEV(O,{className:"p-3 text-center",children:[a.jsxDEV("div",{className:"text-lg font-bold",children:e.sheets},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:121,columnNumber:19},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Abas detectadas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:122,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:120,columnNumber:17},this),a.jsxDEV(O,{className:"p-3 text-center",children:[a.jsxDEV("div",{className:"text-lg font-bold",children:e.analyzed},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:127,columnNumber:19},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Linhas analisadas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:128,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:126,columnNumber:17},this),a.jsxDEV(O,{className:"p-3 text-center bg-success/10 border-success/20",children:[a.jsxDEV("div",{className:"text-lg font-bold text-success",children:e.valid},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:133,columnNumber:19},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Linhas vlidas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:136,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:132,columnNumber:17},this),a.jsxDEV(O,{className:"p-3 text-center bg-blue-500/10 border-blue-500/20",children:[a.jsxDEV("div",{className:"text-lg font-bold text-blue-600",children:e.correctionsApplied},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:141,columnNumber:19},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Correes aplicadas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:144,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:140,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:119,columnNumber:15},this),e.success&&a.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[a.jsxDEV(H,{variant:"outline",className:"bg-success/10 text-success border-success/20",children:[e.errors," Erros"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:153,columnNumber:17},this),a.jsxDEV(H,{variant:"outline",className:"bg-warning/10 text-warning border-warning/20",children:[e.warnings," Avisos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:159,columnNumber:17},this),a.jsxDEV(H,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/20",children:[e.corrections," Correes Detectadas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:165,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:152,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:100,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:89,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/importer/ValidationTestButton.tsx",lineNumber:78,columnNumber:5},this)}function u8(){const{session:e,file:r,validationResult:s,setValidationResult:t,setCurrentStep:n,isProcessing:i,setIsProcessing:o,setError:l}=Fn(),[c,u]=S.useState(!1),[m,d]=S.useState([]);S.useEffect(()=>{e&&r&&!s&&f()},[e,r,s]),S.useEffect(()=>{if(s){const x={originalRows:s.summary.analyzed,processedRows:s.summary.valid,filteredRows:s.summary.analyzed-s.summary.valid,validRows:s.summary.valid,correctedRows:m.length,errorRows:s.summary.errors,warningRows:s.summary.warnings};Ia.info("Detailed Validation Stats",x,"ValidationStep")}},[s,m]);const f=async()=>{if(!(!e||!r)){o(!0);try{const x=await Cx(e,{explodeLists:!0,standardizeCNJ:!0,applyDefaultReu:!0,intelligentCorrections:!0},r);x.intelligentCorrections&&x.intelligentCorrections.length>0&&(d(x.intelligentCorrections),x.intelligentCorrections.filter(k=>k.corrections.length>0).length>0&&u(!0));const y={summary:x.summary,issues:x.issues,normalizedData:x.normalizedData,downloadUrls:{fixedXlsx:"",reportCsv:"",reportJson:""}};t(y),fe({title:"Validao inteligente concluda",description:`${x.summary.analyzed} registros analisados, ${x.summary.valid} vlidos, ${x.intelligentCorrections?.filter(E=>E.corrections.length>0).length||0} correes sugeridas`}),Ia.info("Final Validation Summary",{originalFile:r.name,fileSize:r.size,sheetsDetected:e.sheets.length,analyzed:x.summary.analyzed,valid:x.summary.valid,errors:x.summary.errors,warnings:x.summary.warnings,correctionsAvailable:x.intelligentCorrections?.length||0,correctionsWithChanges:x.intelligentCorrections?.filter(E=>E.corrections.length>0).length||0},"ValidationStep")}catch(x){const y=x instanceof Error?x.message:"Erro na validao",E=pi.handleAndNotify(x,"ValidationStep.performValidation");l(E.userMessage||y)}finally{o(!1)}}},p=async x=>{const y=m.filter(E=>E.corrections.length>0).length;try{const{generateReports:E}=await Ka(async()=>{const{generateReports:C}=await import("./report-Dj3xxLHI.js");return{generateReports:C}},__vite__mapDeps([3,0,1,2,4,5,6,7,8])),k=x.filter(C=>{const R=$s(C.cnj,"correction"),F=C.reclamante_nome||C.reu_nome;return R.isValid||F}),_=x.filter(C=>{const R=$s(C.cnj,"correction"),F=C.nome_testemunha;return R.isValid||F}),A=new Map;m.forEach((C,R)=>{C.corrections.forEach(F=>{const q=x[0]||{},re=Object.keys(q).indexOf(F.field);if(re>=0){const ne=Q6(R+1,re);A.set(ne,{address:ne,original:F.originalValue,corrected:F.correctedValue,reason:`${F.correctionType}: ${F.reason||"Correo automtica"}`})}})});const P={...s,normalizedData:{processos:k.length>0?k:void 0,testemunhas:_.length>0?_:void 0},summary:{...s.summary,valid:k.length+_.length,errors:Math.max(0,s.summary.errors-y)}},T=await E(P,r?.name||"arquivo_corrigido",A);P.downloadUrls=T,t(P),u(!1);const M=k.length+_.length;fe({title:"Correes aplicadas com sucesso",description:`${y} correes aplicadas. ${M} registros vlidos prontos para importao. Downloads disponveis.`})}catch(E){const k=pi.handleAndNotify(E,"ValidationStep.handleApplyCorrections");Ia.error("Erro ao aplicar correes",{error:k.message,correctionsCount:m.length},"ValidationStep")}},N=()=>{u(!1),fe({title:"Correes rejeitadas",description:"Continuando com os dados originais"})};if(!e||!r)return a.jsxDEV(Le,{variant:"destructive",children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:260,columnNumber:9},this),a.jsxDEV(Be,{children:"Sesso ou arquivo no encontrado. Volte ao passo anterior."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:261,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:259,columnNumber:7},this);if(i||!s)return a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(mi,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:273,columnNumber:13},this),"Validao e Normalizao"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:272,columnNumber:11},this),a.jsxDEV(te,{children:"Verificando a qualidade e consistncia dos dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:276,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:271,columnNumber:9},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"flex items-center justify-center py-12",children:a.jsxDEV("div",{className:"text-center space-y-4",children:[a.jsxDEV(Os,{className:"h-12 w-12 animate-spin mx-auto text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:283,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"font-medium",children:"Validando arquivo..."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:285,columnNumber:17},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Processando dados reais para validao completa"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:286,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:284,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:282,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:281,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:280,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:270,columnNumber:7},this);const{summary:h,issues:b}=s,v=h.errors>0,j=m.length>0&&m.some(x=>x.corrections.length>0),w=!c&&j,D=h.valid>0&&(!v||w),g=s.downloadUrls&&(s.downloadUrls.fixedXlsx||s.downloadUrls.reportCsv||s.downloadUrls.reportJson);return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxDEV(O,{className:"text-center p-4",children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:h.analyzed.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:314,columnNumber:11},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Linhas analisadas"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:317,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:313,columnNumber:9},this),a.jsxDEV(O,{className:"text-center p-4 bg-success/5 border-success/20",children:[a.jsxDEV("div",{className:"text-2xl font-bold text-success",children:h.valid.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:320,columnNumber:11},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Linhas vlidas"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:323,columnNumber:11},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:h.analyzed>0?`${Math.round(h.valid/h.analyzed*100)}%`:"0%"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:324,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:319,columnNumber:9},this),a.jsxDEV(O,{className:"text-center p-4 bg-destructive/5 border-destructive/20",children:[a.jsxDEV("div",{className:"text-2xl font-bold text-destructive",children:h.errors},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:331,columnNumber:11},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Erros"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:334,columnNumber:11},this),h.errors>0&&a.jsxDEV("div",{className:"text-xs text-destructive mt-1",children:"Impedem publicao"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:336,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:330,columnNumber:9},this),a.jsxDEV(O,{className:"text-center p-4 bg-warning/5 border-warning/20",children:[a.jsxDEV("div",{className:"text-2xl font-bold text-warning",children:h.warnings},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:342,columnNumber:11},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Avisos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:345,columnNumber:11},this),h.warnings>0&&a.jsxDEV("div",{className:"text-xs text-warning mt-1",children:"Permitido publicar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:347,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:341,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:312,columnNumber:7},this),c&&j&&a.jsxDEV(Y6,{corrections:m,onApplyCorrections:p,onReject:N},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:354,columnNumber:9},this),g&&a.jsxDEV(O,{className:"border-blue-500/20 bg-blue-500/5",children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(Kr,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:366,columnNumber:15},this),"Downloads Disponveis"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:365,columnNumber:13},this),a.jsxDEV(te,{children:"Baixe os arquivos processados e relatrios de correo"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:369,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:364,columnNumber:11},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.downloadUrls?.fixedXlsx&&a.jsxDEV(I,{asChild:!0,variant:"outline",className:"justify-start",children:a.jsxDEV("a",{href:s.downloadUrls.fixedXlsx,download:"arquivo_corrigido.xlsx",children:[a.jsxDEV(mi,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:381,columnNumber:21},this),"Arquivo Corrigido"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:377,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:376,columnNumber:17},this),s.downloadUrls?.reportCsv&&a.jsxDEV(I,{asChild:!0,variant:"outline",className:"justify-start",children:a.jsxDEV("a",{href:s.downloadUrls.reportCsv,download:"relatorio_erros.csv",children:[a.jsxDEV(Xe,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:392,columnNumber:21},this),"Relatrio CSV"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:388,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:387,columnNumber:17},this),s.downloadUrls?.reportJson&&a.jsxDEV(I,{asChild:!0,variant:"outline",className:"justify-start",children:a.jsxDEV("a",{href:s.downloadUrls.reportJson,download:"relatorio_completo.json",children:[a.jsxDEV(ci,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:403,columnNumber:21},this),"Relatrio JSON"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:399,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:398,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:374,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:373,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:363,columnNumber:9},this),D&&!c&&a.jsxDEV(Le,{className:"border-success bg-success/5",children:[a.jsxDEV(Te,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:416,columnNumber:11},this),a.jsxDEV(Be,{className:"text-success",children:[" Arquivo pronto para publicao! ",h.valid," registros sero importados.",j&&w&&a.jsxDEV("div",{className:"mt-1 text-sm",children:"Correes automticas aplicadas com sucesso."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:421,columnNumber:15},this),j&&!w&&a.jsxDEV(I,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto text-success",onClick:()=>u(!0),children:[a.jsxDEV(Pt,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:432,columnNumber:17},this),"Ver correes sugeridas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:426,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:417,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:415,columnNumber:9},this),v&&c&&a.jsxDEV(Le,{variant:"destructive",children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:442,columnNumber:11},this),a.jsxDEV(Be,{children:[" Corrija os erros antes de prosseguir. ",h.errors," problemas impedem a importao.",j&&a.jsxDEV(I,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto text-destructive",onClick:()=>u(!0),children:[a.jsxDEV(Pt,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:453,columnNumber:17},this),"Ver correes automticas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:447,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:443,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:441,columnNumber:9},this),v&&!c&&!w&&a.jsxDEV(Le,{variant:"destructive",children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:463,columnNumber:11},this),a.jsxDEV(Be,{children:[" ",h.errors," problemas impedem a importao.",j&&a.jsxDEV(I,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto text-destructive",onClick:()=>u(!0),children:[a.jsxDEV(Pt,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:473,columnNumber:17},this),"Aplicar correes automticas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:467,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:464,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:462,columnNumber:9},this),b.length>0&&a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Problemas Detectados"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:485,columnNumber:13},this),a.jsxDEV(te,{children:"Revise e corrija os problemas antes de prosseguir"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:486,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:484,columnNumber:11},this),a.jsxDEV($,{children:a.jsxDEV(J6,{issues:b.map(x=>({...x,message:x.message||x.rule}))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:491,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:490,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:483,columnNumber:9},this),a.jsxDEV(Tx,{},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:502,columnNumber:7},this),a.jsxDEV(O,{className:"border-blue-500/20 bg-blue-500/5",children:a.jsxDEV($,{className:"p-4",children:a.jsxDEV("div",{className:"flex justify-between items-center",children:[a.jsxDEV("div",{children:[a.jsxDEV("h3",{className:"font-semibold text-blue-700",children:"Pgina de Teste Completa"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:509,columnNumber:15},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Acesse a pgina dedicada para testes detalhados do Corretor Inteligente"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:512,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:508,columnNumber:13},this),a.jsxDEV(I,{asChild:!0,variant:"outline",className:"border-blue-500/20 text-blue-700",children:a.jsxDEV("a",{href:"/admin/base-import/test",target:"_blank",rel:"noopener noreferrer",children:"Abrir Teste"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:522,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:517,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:507,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:506,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:505,columnNumber:7},this),D&&a.jsxDEV(O,{className:"border-primary/20 bg-primary/5",children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"text-sm flex items-center gap-2",children:[a.jsxDEV(Os,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:539,columnNumber:15},this),"Otimizao Opcional"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:538,columnNumber:13},this),a.jsxDEV(te,{children:"Execute uma reviso completa para detectar padres suspeitos e otimizar a base"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:542,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:537,columnNumber:11},this),a.jsxDEV($,{children:a.jsxDEV(Vx,{},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:548,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:547,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:536,columnNumber:9},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV(I,{variant:"outline",onClick:()=>n("upload"),children:"Voltar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:555,columnNumber:9},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(I,{variant:"outline",onClick:f,disabled:i,children:[i&&a.jsxDEV(Os,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:565,columnNumber:15},this),"Revalidar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:559,columnNumber:11},this),a.jsxDEV(I,{onClick:()=>n("preview"),disabled:!D,children:v&&!w?"Corrigir Erros Primeiro":"Continuar para Prvia"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:569,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:558,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:554,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/ValidationStep.tsx",lineNumber:310,columnNumber:5},this)}function m8(){const{validationResult:e,setCurrentStep:r}=Fn(),[s,t]=S.useState("processos"),n=S.useMemo(()=>{if(!e?.normalizedData)return{processos:[],testemunhas:[]};const c=Array.isArray(e.normalizedData.processos)?e.normalizedData.processos:[],u=Array.isArray(e.normalizedData.testemunhas)?e.normalizedData.testemunhas:[];return{processos:c.slice(0,10),testemunhas:u.slice(0,10)}},[e]),i=S.useMemo(()=>{if(!e?.normalizedData)return{processos:0,testemunhas:0};const c=Array.isArray(e.normalizedData.processos)?e.normalizedData.processos:[],u=Array.isArray(e.normalizedData.testemunhas)?e.normalizedData.testemunhas:[];return{processos:c.length,testemunhas:u.length}},[e]);if(!e||!e.normalizedData)return a.jsxDEV(O,{children:a.jsxDEV($,{className:"p-8 text-center",children:[a.jsxDEV(Xe,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:70,columnNumber:11},this),a.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Nenhum dado de validao disponvel"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:71,columnNumber:11},this),a.jsxDEV(I,{onClick:()=>r("validation"),variant:"outline",children:"Voltar para Validao"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:74,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:69,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:68,columnNumber:7},this);if(!(i.processos>0||i.testemunhas>0))return a.jsxDEV(O,{children:a.jsxDEV($,{className:"p-8 text-center",children:[a.jsxDEV(Xe,{className:"h-12 w-12 mx-auto mb-4 text-warning"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:91,columnNumber:11},this),a.jsxDEV("p",{className:"text-lg font-medium mb-2",children:"Nenhum dado vlido encontrado"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:92,columnNumber:11},this),a.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"No foi possvel processar dados vlidos do arquivo enviado."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:95,columnNumber:11},this),a.jsxDEV(I,{onClick:()=>r("upload"),variant:"outline",children:"Enviar Novo Arquivo"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:98,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:90,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:89,columnNumber:7},this);const{summary:l}=e;return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxDEV(O,{className:"text-center p-4",children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:l.valid.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:113,columnNumber:11},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Registros vlidos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:116,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:112,columnNumber:9},this),a.jsxDEV(O,{className:"text-center p-4",children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:[l.analyzed>0?Math.round(l.valid/l.analyzed*100):0,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:119,columnNumber:11},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Taxa de sucesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:118,columnNumber:9},this),a.jsxDEV(O,{className:"text-center p-4",children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:l.errors+l.warnings},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:128,columnNumber:11},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Problemas detectados"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:131,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:127,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:111,columnNumber:7},this),a.jsxDEV(Le,{className:"border-primary bg-primary/5",children:[a.jsxDEV(Sr,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:139,columnNumber:9},this),a.jsxDEV(Be,{className:"text-primary",children:[a.jsxDEV("strong",{children:"Prvia da Importao:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:141,columnNumber:11},this)," ",l.valid," registros sero processados e inseridos na base de dados. Os dados passaro por validao final e normalizao antes da insero."]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:138,columnNumber:7},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(Sr,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:151,columnNumber:13},this),"Prvia dos Dados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:150,columnNumber:11},this),a.jsxDEV(te,{children:"Amostra dos dados processados e normalizados (primeiros 10 registros)"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:149,columnNumber:9},this),a.jsxDEV($,{children:a.jsxDEV(xs,{value:s,onValueChange:t,children:[a.jsxDEV(gs,{className:"grid w-full grid-cols-2",children:[a.jsxDEV(ye,{value:"processos",className:"flex items-center gap-2",children:[a.jsxDEV(_h,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:166,columnNumber:17},this),"Por Processo (",i.processos,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:162,columnNumber:15},this),a.jsxDEV(ye,{value:"testemunhas",className:"flex items-center gap-2",children:[a.jsxDEV(Vn,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:173,columnNumber:17},this),"Por Testemunha (",i.testemunhas,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:169,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:161,columnNumber:13},this),a.jsxDEV(Se,{value:"processos",className:"mt-6",children:n.processos.length>0?a.jsxDEV("div",{className:"border rounded-lg overflow-x-auto",children:a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{children:[a.jsxDEV(Q,{children:"CNJ"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:184,columnNumber:25},this),a.jsxDEV(Q,{children:"Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:185,columnNumber:25},this),a.jsxDEV(Q,{children:"Ru"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:186,columnNumber:25},this),a.jsxDEV(Q,{children:"Comarca"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:187,columnNumber:25},this),a.jsxDEV(Q,{children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:188,columnNumber:25},this),a.jsxDEV(Q,{children:"Flags"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:189,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:183,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:182,columnNumber:21},this),a.jsxDEV(Ir,{children:n.processos.map((c,u)=>{let m="N/A";if(c.cnj_digits&&String(c.cnj_digits).length>=8)m=`****-**.${String(c.cnj_digits).slice(-8,-4)}.*.**.****`;else if(c.cnj){const d=String(c.cnj);m=d.length>8?`****${d.slice(-8)}`:d}return a.jsxDEV(we,{children:[a.jsxDEV(X,{className:"font-mono text-sm",children:m},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:211,columnNumber:31},this),a.jsxDEV(X,{children:c.reclamante_nome?c.reclamante_nome.length>25?c.reclamante_nome.substring(0,25)+"...":c.reclamante_nome:"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:214,columnNumber:31},this),a.jsxDEV(X,{children:c.reu_nome?c.reu_nome.length>25?c.reu_nome.substring(0,25)+"...":c.reu_nome:"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:224,columnNumber:31},this),a.jsxDEV(X,{children:c.comarca||"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:231,columnNumber:31},this),a.jsxDEV(X,{children:a.jsxDEV(H,{variant:"secondary",children:"Pronto para importar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:233,columnNumber:33},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:232,columnNumber:31},this),a.jsxDEV(X,{children:a.jsxDEV("div",{className:"flex gap-1 flex-wrap",children:[c.triangulacao_confirmada&&a.jsxDEV(H,{variant:"outline",className:"text-xs",children:"Triangulao"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:240,columnNumber:37},this),c.troca_direta&&a.jsxDEV(H,{variant:"outline",className:"text-xs",children:"Troca Direta"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:248,columnNumber:37},this),c.prova_emprestada&&a.jsxDEV(H,{variant:"outline",className:"text-xs",children:"Prova Emprestada"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:256,columnNumber:37},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:238,columnNumber:33},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:237,columnNumber:31},this)]},u,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:210,columnNumber:29},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:192,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:181,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:180,columnNumber:17},this):a.jsxDEV(Le,{children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:274,columnNumber:19},this),a.jsxDEV(Be,{children:"Nenhum processo vlido encontrado para prvia."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:275,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:273,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:178,columnNumber:13},this),a.jsxDEV(Se,{value:"testemunhas",className:"mt-6",children:n.testemunhas.length>0?a.jsxDEV("div",{className:"border rounded-lg overflow-x-auto",children:a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{children:[a.jsxDEV(Q,{children:"Nome da Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:288,columnNumber:25},this),a.jsxDEV(Q,{children:"Qtd. Depoimentos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:289,columnNumber:25},this),a.jsxDEV(Q,{children:"CNJs como Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:290,columnNumber:25},this),a.jsxDEV(Q,{children:"Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:291,columnNumber:25},this),a.jsxDEV(Q,{children:"Flags"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:292,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:287,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:286,columnNumber:21},this),a.jsxDEV(Ir,{children:n.testemunhas.map((c,u)=>{const m=typeof c.qtd_depoimentos=="number"?c.qtd_depoimentos:parseInt(String(c.qtd_depoimentos||"0"),10)||0;let d="N/A";return c.cnjs_como_testemunha&&(Array.isArray(c.cnjs_como_testemunha)?d=`${c.cnjs_como_testemunha.length} CNJs`:d="1 CNJ"),a.jsxDEV(we,{children:[a.jsxDEV(X,{className:"font-medium",children:c.nome_testemunha||c.nome_civil||"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:321,columnNumber:31},this),a.jsxDEV(X,{children:a.jsxDEV(H,{variant:"outline",children:m},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:327,columnNumber:33},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:326,columnNumber:31},this),a.jsxDEV(X,{className:"max-w-xs",children:a.jsxDEV("div",{className:"text-sm text-muted-foreground truncate",children:d},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:332,columnNumber:33},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:331,columnNumber:31},this),a.jsxDEV(X,{children:c.reclamante_nome?c.reclamante_nome.length>25?c.reclamante_nome.substring(0,25)+"...":c.reclamante_nome:"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:336,columnNumber:31},this),a.jsxDEV(X,{children:a.jsxDEV("div",{className:"flex gap-1 flex-wrap",children:[c.e_prova_emprestada&&a.jsxDEV(H,{variant:"outline",className:"text-xs text-warning",children:"Prova Emprestada"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:349,columnNumber:37},this),m>10&&a.jsxDEV(H,{variant:"outline",className:"text-xs text-primary",children:"Alta Frequncia"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:357,columnNumber:37},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:347,columnNumber:33},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:346,columnNumber:31},this)]},u,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:320,columnNumber:29},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:295,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:285,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:284,columnNumber:17},this):a.jsxDEV(Le,{children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:375,columnNumber:19},this),a.jsxDEV(Be,{children:"Nenhuma testemunha vlida encontrada para prvia."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:376,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:374,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:160,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:159,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:148,columnNumber:7},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV(I,{variant:"outline",onClick:()=>r("validation"),children:"Voltar para Validao"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:388,columnNumber:9},this),a.jsxDEV(I,{onClick:()=>r("publish"),className:"bg-success hover:bg-success/90",disabled:l.errors>0||l.valid===0,children:"Publicar Nova Verso"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:391,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:387,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PreviewStep.tsx",lineNumber:109,columnNumber:5},this)}function d8(){const{session:e,file:r,validationResult:s,resetWizard:t,isProcessing:n,setIsProcessing:i,uploadProgress:o,setUploadProgress:l}=Fn(),[c,u]=S.useState(!1),[m,d]=S.useState(null),f=async(N=0)=>{if(!(!r||!s||!e)){i(!0),l(0);try{const{data:{session:h}}=await se.auth.getSession();if(!h?.access_token)throw new Error("Sem sesso");try{}catch{}l(10);const{data:v,error:j}=await se.functions.invoke("create-version",{headers:{"x-retry-count":N.toString()}});if(j)throw new Error("Falha ao criar nova verso: "+j.message);if(!v||!v.versionId)throw new Error("Resposta invlida da criao de verso: "+JSON.stringify(v));const w=s.normalizedData?.processos||[],D=s.normalizedData?.testemunhas||[];if(w.length===0&&D.length===0)throw new Error("Nenhum dado vlido encontrado para importao. Verifique se o arquivo contm dados no formato correto.");l(30);const g=se.functions.invoke("import-into-version",{body:{versionId:v.versionId,processos:w,testemunhas:D,fileChecksum:h?.user?.id||"unknown",filename:r.name}}),x=new Promise((A,P)=>setTimeout(()=>P(new Error("Timeout na importao - arquivo muito grande ou conexo lenta")),48e4)),{data:y,error:E}=await Promise.race([g,x]);if(E){if((E.message?.includes("timeout")||E.message?.includes("network")||E.message?.includes("504")||E.message?.includes("502"))&&N<2)return fe({title:"Conectividade instvel",description:`Tentativa ${N+1}/3 - Tentando novamente...`}),await new Promise(A=>setTimeout(A,5e3)),f(N+1);throw new Error("Falha na importao: "+E.message)}if(!y||!y.summary)throw new Error("Resposta invlida da importao");l(80);const{data:k,error:_}=await se.functions.invoke("publish-version",{body:{versionId:v.versionId}});if(_)throw new Error("Falha ao publicar verso: "+_.message);l(100),d({...y,version:{id:v.versionId,number:v.number,publishedAt:k.publishedAt}}),u(!0),fe({title:"Verso publicada com sucesso!",description:`Verso v${v.number} com ${y.summary?.imported||0} registros`}),localStorage.setItem("import_completed",Date.now().toString()),window.dispatchEvent(new Event("storage"))}catch(h){let b=h.message||"Falha ao publicar dados",v="Erro na publicao";h.message?.includes("timeout")?(v="Timeout na operao",b="A operao demorou muito para completar. Tente novamente com um arquivo menor ou verifique sua conexo."):h.message?.includes("504")&&(v="Servidor sobrecarregado",b="O servidor est processando muitos dados. Aguarde um momento e tente novamente."),fe({title:v,description:b,variant:"destructive"})}finally{i(!1)}}},p=()=>{t(),fe({title:"Nova importao iniciada",description:"Voc pode fazer upload de um novo arquivo"})};return!e||!r||!s?a.jsxDEV(Le,{variant:"destructive",children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:209,columnNumber:9},this),a.jsxDEV(Be,{children:"Dados da sesso no encontrados. Volte ao incio do processo."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:210,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:208,columnNumber:7},this):c&&m?a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"text-center",children:[a.jsxDEV(z,{className:"flex items-center justify-center gap-2 text-success",children:[a.jsxDEV(Gx,{className:"h-6 w-6"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:222,columnNumber:13},this),"Importao Concluda!"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:221,columnNumber:11},this),a.jsxDEV(te,{children:"Os dados foram importados com sucesso na base de dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:225,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:220,columnNumber:9},this),a.jsxDEV($,{className:"space-y-6",children:[a.jsxDEV(Le,{className:"border-success bg-success/5",children:[a.jsxDEV(Te,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:231,columnNumber:13},this),a.jsxDEV(Be,{className:"text-success",children:" Importao realizada com sucesso! Os dados esto agora disponveis para consulta."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:230,columnNumber:11},this),a.jsxDEV("div",{className:"bg-muted p-4 rounded-lg space-y-3",children:[a.jsxDEV("h4",{className:"font-medium",children:"Resumo da Importao:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:239,columnNumber:13},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Arquivo:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:242,columnNumber:17},this)," ",r.name]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:241,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Tamanho:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:245,columnNumber:17},this)," ",(r.size/1024/1024).toFixed(2)," ","MB"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:244,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Registros importados:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:249,columnNumber:17},this),a.jsxDEV("span",{className:"text-success font-semibold ml-1",children:m.summary?.valid_rows||s.summary.valid},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:250,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:248,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Taxa de sucesso:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:256,columnNumber:17},this),a.jsxDEV("span",{className:"text-success ml-1",children:s.summary.analyzed>0?`${Math.round(s.summary.valid/s.summary.analyzed*100)}%`:"0%"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:257,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:255,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:240,columnNumber:13},this),m.version&&a.jsxDEV("div",{className:"mt-4 p-3 bg-success/10 rounded-lg border border-success/20",children:a.jsxDEV("div",{className:"text-sm space-y-1",children:[a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Verso:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:269,columnNumber:21},this)," v",m.version.number]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:268,columnNumber:19},this),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"ID da verso:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:272,columnNumber:21},this)," ",m.version.id]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:271,columnNumber:19},this),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Publicada em:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:275,columnNumber:21},this)," ",new Date(m.version.publishedAt).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:274,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:267,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:266,columnNumber:15},this),m.summary&&a.jsxDEV("div",{className:"mt-4 p-3 bg-primary/10 rounded-lg",children:a.jsxDEV("div",{className:"text-sm space-y-1",children:[a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Processos:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:288,columnNumber:21},this)," ",m.summary.processos_count||m.imported||0]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:287,columnNumber:19},this),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Testemunhas:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:294,columnNumber:21},this)," ",m.summary.testemunhas_count||0]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:293,columnNumber:19},this),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Stubs criados:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:298,columnNumber:21},this)," ",m.summary.stubs_created||0]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:297,columnNumber:19},this),a.jsxDEV("p",{children:[a.jsxDEV("strong",{children:"Flags detectadas:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:302,columnNumber:21},this)," ",m.summary.flags_detected||0]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:286,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:238,columnNumber:11},this),a.jsxDEV("div",{className:"flex gap-4 justify-center",children:[a.jsxDEV(I,{onClick:p,className:"flex-1",children:"Nova Importao"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:311,columnNumber:13},this),a.jsxDEV(I,{variant:"outline",onClick:()=>window.location.href="/admin/versoes",className:"flex-1",children:"Ver Verses"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:314,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:310,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:229,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:219,columnNumber:7},this):a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(Te,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:331,columnNumber:11},this),"Publicar Nova Verso"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:330,columnNumber:9},this),a.jsxDEV(te,{children:"Confirme a publicao da nova verso da base de dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:334,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:329,columnNumber:7},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"space-y-6",children:n?a.jsxDEV("div",{className:"text-center py-8",children:[a.jsxDEV(Os,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:411,columnNumber:15},this),a.jsxDEV("p",{className:"font-medium",children:"Publicando base de dados..."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:412,columnNumber:15},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Processando e importando todos os registros. Isso pode levar alguns minutos."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:413,columnNumber:15},this),a.jsxDEV("div",{className:"mt-4",children:[a.jsxDEV(Sn,{value:o,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:418,columnNumber:17},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:o<100?`Processando... ${Math.round(o)}%`:"Finalizando..."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:419,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:417,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:410,columnNumber:13},this):a.jsxDEV(a.Fragment,{children:[a.jsxDEV(Le,{children:[a.jsxDEV(Xe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:343,columnNumber:17},this),a.jsxDEV(Be,{children:"Esta ao ir importar os dados validados para a base ativa. Todas as consultas passaro a incluir os novos registros."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:344,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:342,columnNumber:15},this),a.jsxDEV("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsxDEV("h4",{className:"font-medium mb-3",children:"Resumo da Importao:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:351,columnNumber:17},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Arquivo:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:354,columnNumber:21},this)," ",r.name]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:353,columnNumber:19},this),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Tamanho:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:357,columnNumber:21},this)," ",(r.size/1024/1024).toFixed(2)," MB"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:356,columnNumber:19},this),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Registros vlidos:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:361,columnNumber:21},this),a.jsxDEV("span",{className:"text-success font-semibold ml-1",children:s.summary.valid.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:362,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:360,columnNumber:19},this),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Problemas:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:367,columnNumber:21},this),a.jsxDEV("span",{className:"text-warning ml-1",children:s.summary.errors+s.summary.warnings},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:368,columnNumber:21},this),a.jsxDEV("span",{className:"text-xs text-muted-foreground ml-1",children:["(",s.summary.errors," erros,"," ",s.summary.warnings," avisos)"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:372,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:366,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:352,columnNumber:17},this),a.jsxDEV("div",{className:"mt-4 p-3 bg-gradient-to-r from-success/10 to-primary/10 rounded-lg",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-sm font-medium",children:"Qualidade dos Dados:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:381,columnNumber:21},this),a.jsxDEV("span",{className:"text-sm font-bold text-success",children:s.summary.analyzed>0?`${Math.round(s.summary.valid/s.summary.analyzed*100)}% aprovado`:"0% aprovado"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:384,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:380,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:379,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:350,columnNumber:15},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxDEV(I,{variant:"outline",onClick:()=>window.history.back(),children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:394,columnNumber:17},this),a.jsxDEV(I,{onClick:()=>f(),disabled:s.summary.errors>0||s.summary.valid===0,className:"bg-success hover:bg-success/90",children:"Confirmar Publicao"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:397,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:393,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:341,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:339,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:338,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/steps/PublishStep.tsx",lineNumber:328,columnNumber:5},this)}function f8({progress:e,stage:r,stats:s={}}){const n=(()=>{switch(r){case"validating":return{title:"Validando dados",description:"Verificando estrutura e qualidade dos dados",icon:a.jsxDEV(Xe,{className:"h-4 w-4 text-warning"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:32,columnNumber:17},this)};case"creating-version":return{title:"Criando nova verso",description:"Preparando ambiente para importao",icon:a.jsxDEV(ds,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:38,columnNumber:17},this)};case"importing":return{title:"Importando dados",description:"Processando e salvando registros na base de dados",icon:a.jsxDEV(fs,{className:"h-4 w-4 text-primary animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:44,columnNumber:17},this)};case"publishing":return{title:"Publicando verso",description:"Ativando nova verso da base de dados",icon:a.jsxDEV(Te,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:50,columnNumber:17},this)};case"completed":return{title:"Importao concluda",description:"Todos os dados foram processados com sucesso",icon:a.jsxDEV(Te,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:56,columnNumber:17},this)};default:return{title:"Processando...",description:"Aguarde",icon:a.jsxDEV(fs,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:62,columnNumber:17},this)}}})();return a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[n.icon,a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"font-medium",children:n.title},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:74,columnNumber:11},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:n.description},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:73,columnNumber:9},this),a.jsxDEV(H,{variant:e===100?"default":"secondary",children:[Math.round(e),"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:71,columnNumber:7},this),a.jsxDEV(Sn,{value:e,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:84,columnNumber:7},this),(s.total||s.processed||s.errors)&&a.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[s.total&&a.jsxDEV("div",{className:"bg-muted/50 p-2 rounded text-center",children:[a.jsxDEV("div",{className:"font-medium",children:s.total.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:90,columnNumber:15},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Total"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:91,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:89,columnNumber:13},this),s.processed&&a.jsxDEV("div",{className:"bg-success/10 p-2 rounded text-center border border-success/20",children:[a.jsxDEV("div",{className:"font-medium text-success",children:s.processed.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:96,columnNumber:15},this),a.jsxDEV("div",{className:"text-xs text-success/80",children:"Processados"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:99,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:95,columnNumber:13},this),s.errors!==void 0&&a.jsxDEV("div",{className:"bg-destructive/10 p-2 rounded text-center border border-destructive/20",children:[a.jsxDEV("div",{className:"font-medium text-destructive",children:s.errors.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:104,columnNumber:15},this),a.jsxDEV("div",{className:"text-xs text-destructive/80",children:"Erros"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:107,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:103,columnNumber:13},this),s.warnings!==void 0&&a.jsxDEV("div",{className:"bg-warning/10 p-2 rounded text-center border border-warning/20",children:[a.jsxDEV("div",{className:"font-medium text-warning",children:s.warnings.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:112,columnNumber:15},this),a.jsxDEV("div",{className:"text-xs text-warning/80",children:"Avisos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:87,columnNumber:9},this),r==="importing"&&s.processed&&s.total&&a.jsxDEV("div",{className:"text-xs text-muted-foreground text-center",children:["Processando registros... (",s.processed.toLocaleString()," de"," ",s.total.toLocaleString(),")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImportProgressMonitor.tsx",lineNumber:70,columnNumber:5},this)}const ti=[{id:"upload",label:"Upload",icon:Ph},{id:"validation",label:"Validao",icon:mi},{id:"preview",label:"Prvia",icon:Sr},{id:"publish",label:"Publicao",icon:Te}];function p8(){const{currentStep:e,session:r,file:s,validationResult:t,isProcessing:n,uploadProgress:i}=Fn(),o=S.useCallback(c=>{const u=ti.findIndex(d=>d.id===e),m=ti.findIndex(d=>d.id===c);return m<u?"completed":m===u?"current":"pending"},[e]),l=()=>{switch(e){case"upload":return a.jsxDEV(X6,{},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:57,columnNumber:16},this);case"validation":return r&&s?a.jsxDEV(u8,{},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:59,columnNumber:34},this):null;case"preview":return r&&t?a.jsxDEV(m8,{},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:61,columnNumber:46},this):null;case"publish":return r&&t?a.jsxDEV(d8,{},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:63,columnNumber:46},this):null;default:return null}};return a.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-8",children:[a.jsxDEV("div",{className:"text-center space-y-2",children:[a.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Importao de Dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:73,columnNumber:9},this),a.jsxDEV("p",{className:"text-muted-foreground",children:"Pipeline completo de anlise de testemunhas e processos com deteco de padres"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:76,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:72,columnNumber:7},this),a.jsxDEV(O,{children:a.jsxDEV($,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:ti.map((c,u)=>{const m=o(c.id),d=u===ti.length-1;return a.jsxDEV(V.Fragment,{children:[a.jsxDEV("div",{className:"flex flex-col items-center",children:[a.jsxDEV("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors ${m==="completed"?"bg-success border-success text-success-foreground":m==="current"?"bg-primary border-primary text-primary-foreground":"bg-muted border-border text-muted-foreground"}`,children:m==="completed"?a.jsxDEV(Te,{className:"h-6 w-6"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:103,columnNumber:25},this):a.jsxDEV(c.icon,{className:"h-6 w-6"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:105,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:93,columnNumber:21},this),a.jsxDEV("div",{className:"mt-3 text-center",children:a.jsxDEV("p",{className:`text-sm font-medium ${m==="current"?"text-primary":"text-muted-foreground"}`,children:c.label},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:109,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:108,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:92,columnNumber:19},this),!d&&a.jsxDEV("div",{className:`flex-1 h-px mx-4 ${m==="completed"?"bg-success":"bg-border"}`},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:121,columnNumber:21},this)]},c.id,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:91,columnNumber:17},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:84,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:83,columnNumber:7},this),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsxDEV("div",{className:"lg:col-span-3",children:l()},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:136,columnNumber:9},this),a.jsxDEV("div",{className:"space-y-4",children:[n&&e==="publish"&&a.jsxDEV(O,{className:"border-primary/20 bg-primary/5",children:[a.jsxDEV(B,{className:"pb-3",children:a.jsxDEV(z,{className:"text-sm flex items-center gap-2 text-primary",children:[a.jsxDEV(Os,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:145,columnNumber:19},this),"Progresso da Importao"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:144,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:143,columnNumber:15},this),a.jsxDEV($,{children:a.jsxDEV(f8,{progress:i,stage:i<30?"importing":i<80?"creating-version":"publishing",stats:{total:t?.summary?.analyzed||0,processed:Math.floor(i/100*(t?.summary?.valid||0)),errors:t?.summary?.errors||0,warnings:t?.summary?.warnings||0}},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:150,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:142,columnNumber:13},this),a.jsxDEV(O,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950",children:[a.jsxDEV(B,{className:"pb-3",children:a.jsxDEV(z,{className:"text-sm flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[a.jsxDEV(Hx,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:176,columnNumber:17},this),"Compliance LGPD"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:175,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:174,columnNumber:13},this),a.jsxDEV($,{className:"text-xs text-amber-700 dark:text-amber-300 space-y-2",children:[a.jsxDEV("p",{children:[" ",a.jsxDEV("strong",{children:"Dados mascarados:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:182,columnNumber:20},this)," CPFs e informaes sensveis so automaticamente mascarados para proteo."]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:181,columnNumber:15},this),a.jsxDEV("p",{children:[" ",a.jsxDEV("strong",{children:"Validao obrigatria:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:186,columnNumber:20},this)," Confirmao nos autos  obrigatria antes de decises."]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:173,columnNumber:11},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"pb-3",children:a.jsxDEV(z,{className:"text-sm",children:"Template"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:194,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:193,columnNumber:13},this),a.jsxDEV($,{children:a.jsxDEV(I,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{const c=document.createElement("a");c.href="/template-base-exemplo.csv",c.download="template-base-exemplo.csv",document.body.appendChild(c),c.click(),document.body.removeChild(c)},children:[a.jsxDEV(Kr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:210,columnNumber:17},this),"Baixar Template"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:197,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:196,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:192,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:139,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:135,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/importer/components/ImporterWizard.tsx",lineNumber:70,columnNumber:5},this)}const h8=()=>a.jsxDEV(p8,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ImportBase.tsx",lineNumber:4,columnNumber:10},void 0),rL=Object.freeze(Object.defineProperty({__proto__:null,default:h8},Symbol.toStringTag,{value:"Module"})),N8=()=>{const[e,r]=S.useState([]),[s,t]=S.useState(!0),[n,i]=S.useState(null),{user:o}=dr(),{toast:l}=ca();S.useEffect(()=>{o&&c()},[o]);const c=async()=>{try{t(!0);const{data:p,error:N}=await se.from("versions").select("*").order("number",{ascending:!1});if(N)throw N;r(p||[]),i(p?.find(h=>h.status==="published")||null)}catch(p){console.error("Error fetching versions:",p),l({title:"Erro",description:"Falha ao carregar verses",variant:"destructive"})}finally{t(!1)}},u=p=>new Date(p).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),m=async p=>{try{const{error:N}=await se.functions.invoke("publish-version",{body:{versionId:p}});if(N)throw N;l({title:"Sucesso",description:"Verso publicada com sucesso"}),c()}catch(N){console.error("Error publishing version:",N),l({title:"Erro",description:"Falha ao publicar verso",variant:"destructive"})}},d=async(p,N)=>{try{const{error:h}=await se.functions.invoke("rollback-version",{body:{toVersionId:p}});if(h)throw h;l({title:"Sucesso",description:`Rollback para v${N} realizado com sucesso`}),c()}catch(h){console.error("Error rolling back:",h),l({title:"Erro",description:"Falha ao realizar rollback",variant:"destructive"})}},f=(p,N)=>{if(N&&p==="published")return a.jsxDEV(H,{className:"bg-success text-success-foreground",children:"ATIVA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:128,columnNumber:9},void 0);switch(p){case"draft":return a.jsxDEV(H,{variant:"secondary",children:"RASCUNHO"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:134,columnNumber:16},void 0);case"published":case"archived":return a.jsxDEV(H,{variant:"outline",children:"ARQUIVADA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:137,columnNumber:16},void 0);default:return a.jsxDEV(H,{variant:"secondary",children:p?.toUpperCase()},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:139,columnNumber:16},void 0)}};return s?a.jsxDEV("div",{className:"space-y-6",children:a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Verses & Rollback"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:147,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Carregando verses..."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:150,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:146,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:145,columnNumber:7},void 0):a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Verses & Rollback"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:159,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Gerencie verses da base de dados e execute rollbacks quando necessrio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:162,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:158,columnNumber:7},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(Xx,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:171,columnNumber:13},void 0),"Histrico de Verses"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:170,columnNumber:11},void 0),a.jsxDEV(te,{children:"Lista de todas as verses criadas e seus status"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:169,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{children:[a.jsxDEV(Q,{children:"Verso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:182,columnNumber:17},void 0),a.jsxDEV(Q,{children:"Hash"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:183,columnNumber:17},void 0),a.jsxDEV(Q,{children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:184,columnNumber:17},void 0),a.jsxDEV(Q,{children:"Registros"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:185,columnNumber:17},void 0),a.jsxDEV(Q,{children:"Criada em"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:186,columnNumber:17},void 0),a.jsxDEV(Q,{children:"Autor"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:187,columnNumber:17},void 0),a.jsxDEV(Q,{children:"Aes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:188,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:181,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:180,columnNumber:13},void 0),a.jsxDEV(Ir,{children:e.length>0?e.map(p=>a.jsxDEV(we,{children:[a.jsxDEV(X,{className:"font-medium",children:["v",p.number]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:195,columnNumber:21},void 0),a.jsxDEV(X,{children:a.jsxDEV("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:p.file_checksum?.slice(0,8)||"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:199,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:198,columnNumber:21},void 0),a.jsxDEV(X,{children:f(p.status,p.status==="published")},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:203,columnNumber:21},void 0),a.jsxDEV(X,{children:p.summary?.imported?.toLocaleString()||"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:209,columnNumber:21},void 0),a.jsxDEV(X,{children:u(p.created_at)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:212,columnNumber:21},void 0),a.jsxDEV(X,{children:p.summary?.created_by||"Sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:213,columnNumber:21},void 0),a.jsxDEV(X,{children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(I,{variant:"ghost",size:"sm",title:"Visualizar",children:a.jsxDEV(Sr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:219,columnNumber:27},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:218,columnNumber:25},void 0),a.jsxDEV(I,{variant:"ghost",size:"sm",title:"Baixar",children:a.jsxDEV(Kr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:222,columnNumber:27},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:221,columnNumber:25},void 0),p.status==="draft"&&a.jsxDEV(I,{variant:"ghost",size:"sm",className:"text-success hover:text-success/80",onClick:()=>m(p.id),title:"Publicar verso",children:a.jsxDEV(Te,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:232,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:225,columnNumber:27},void 0),p.status==="archived"&&a.jsxDEV(I,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80",onClick:()=>d(p.id,p.number),title:"Fazer rollback",children:a.jsxDEV(qa,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:245,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:236,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:217,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:216,columnNumber:21},void 0)]},p.id,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:194,columnNumber:19},void 0)):a.jsxDEV(we,{children:a.jsxDEV(X,{colSpan:7,className:"text-center text-muted-foreground",children:"Nenhuma verso encontrada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:254,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:253,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:191,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:179,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:178,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:168,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Verso Ativa"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:270,columnNumber:13},void 0),a.jsxDEV(te,{children:"Informaes da verso atualmente em produo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:271,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:269,columnNumber:11},void 0),a.jsxDEV($,{children:n?a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-sm font-medium",children:"Verso:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:279,columnNumber:19},void 0),a.jsxDEV(H,{className:"bg-success text-success-foreground",children:["v",n.number]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:280,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:278,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-sm font-medium",children:"Hash:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:285,columnNumber:19},void 0),a.jsxDEV("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:n.file_checksum?.slice(0,8)||"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:286,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:284,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-sm font-medium",children:"Registros:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:291,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-sm",children:n.summary?.imported?.toLocaleString()||"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:292,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:290,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-sm font-medium",children:"Publicada em:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:297,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-sm",children:u(n.published_at)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:298,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:296,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:277,columnNumber:15},void 0):a.jsxDEV("div",{className:"text-center text-muted-foreground py-4",children:"Nenhuma verso ativa encontrada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:304,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:275,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:268,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Aes Rpidas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:313,columnNumber:13},void 0),a.jsxDEV(te,{children:"Operaes frequentes com verses"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:314,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:312,columnNumber:11},void 0),a.jsxDEV($,{className:"space-y-3",children:[a.jsxDEV(I,{variant:"outline",className:"w-full justify-start",children:[a.jsxDEV(Kr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:318,columnNumber:15},void 0),"Baixar Verso Ativa"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:317,columnNumber:13},void 0),a.jsxDEV(I,{variant:"outline",className:"w-full justify-start",children:[a.jsxDEV(Sr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:322,columnNumber:15},void 0),"Comparar Verses"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:321,columnNumber:13},void 0),e.find(p=>p.status==="archived")&&a.jsxDEV(I,{variant:"outline",className:"w-full justify-start text-primary hover:text-primary/80",onClick:()=>{const p=e.find(N=>N.status==="archived");p&&d(p.id,p.number)},children:[a.jsxDEV(qa,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:338,columnNumber:17},void 0),"Rollback Disponvel"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:326,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:316,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:311,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:267,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Versions.tsx",lineNumber:157,columnNumber:5},void 0)},sL=Object.freeze(Object.defineProperty({__proto__:null,default:N8},Symbol.toStringTag,{value:"Module"})),b8=({user:e,isOpen:r,onClose:s,onRoleChange:t,loading:n})=>{const[i,o]=S.useState("VIEWER"),[l,c]=S.useState("NONE");V.useEffect(()=>{e&&(o(e.role),c(e.data_access_level))},[e]);const u=async()=>{e&&(await t(e.user_id,i,l),s())};if(!e)return null;const m=f=>{switch(f){case"ADMIN":return"Acesso completo ao sistema, pode gerenciar usurios e configuraes";case"ANALYST":return"Pode analisar dados, criar relatrios e fazer anlises";case"VIEWER":return"Visualizao limitada conforme nvel de acesso aos dados";default:return""}},d=f=>{switch(f){case"FULL":return"Acesso completo a todos os dados, incluindo informaes sensveis";case"MASKED":return"Acesso aos dados com informaes pessoais mascaradas";case"NONE":return"Sem acesso a dados pessoais ou sensveis";default:return""}};return a.jsxDEV(dt,{open:r,onOpenChange:s,children:a.jsxDEV(ft,{className:"sm:max-w-[425px]",children:[a.jsxDEV(ls,{children:[a.jsxDEV(cs,{className:"flex items-center gap-2",children:[a.jsxDEV(Mr,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:103,columnNumber:13},void 0),"Alterar Papel e Acesso"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:102,columnNumber:11},void 0),a.jsxDEV(Pn,{children:["Configurar papel e nvel de acesso aos dados para"," ",a.jsxDEV("strong",{children:e.email},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:108,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:106,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:101,columnNumber:9},void 0),a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV(ce,{children:"Papel Atual"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:114,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(H,{variant:e.role==="ADMIN"?"destructive":e.role==="ANALYST"?"default":"secondary",children:e.role},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:116,columnNumber:15},void 0),a.jsxDEV(H,{variant:"outline",children:e.data_access_level},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:127,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:113,columnNumber:11},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV(ce,{htmlFor:"role",children:"Novo Papel"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:132,columnNumber:13},void 0),a.jsxDEV(rr,{value:i,onValueChange:f=>o(f),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:140,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:139,columnNumber:15},void 0),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"VIEWER",children:"Visualizador"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:143,columnNumber:17},void 0),a.jsxDEV(ue,{value:"ANALYST",children:"Analista"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:144,columnNumber:17},void 0),a.jsxDEV(ue,{value:"ADMIN",children:"Administrador"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:145,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:142,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:133,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:m(i)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:148,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:131,columnNumber:11},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV(ce,{htmlFor:"dataAccess",children:"Nvel de Acesso aos Dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:154,columnNumber:13},void 0),a.jsxDEV(rr,{value:l,onValueChange:f=>c(f),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:162,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:161,columnNumber:15},void 0),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"NONE",children:"Sem Acesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:165,columnNumber:17},void 0),a.jsxDEV(ue,{value:"MASKED",children:"Dados Mascarados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:166,columnNumber:17},void 0),a.jsxDEV(ue,{value:"FULL",children:"Acesso Completo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:167,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:164,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:155,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:d(l)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:170,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:153,columnNumber:11},void 0),(i!==e.role||l!==e.data_access_level)&&a.jsxDEV("div",{className:"p-3 bg-warning/10 border border-warning/20 rounded-md",children:a.jsxDEV("p",{className:"text-sm text-warning-foreground",children:[a.jsxDEV("strong",{children:"Ateno:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:179,columnNumber:17},void 0)," Estas alteraes entraro em vigor imediatamente e afetaro o acesso do usurio ao sistema."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:178,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:177,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:112,columnNumber:9},void 0),a.jsxDEV(pu,{children:[a.jsxDEV(I,{variant:"outline",onClick:s,disabled:n,children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:187,columnNumber:11},void 0),a.jsxDEV(I,{onClick:u,disabled:n||i===e.role&&l===e.data_access_level,children:[n&&a.jsxDEV(os,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:198,columnNumber:25},void 0),"Confirmar Alterao"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:190,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:186,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:100,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RoleChangeModal.tsx",lineNumber:99,columnNumber:5},void 0)},v8=({isOpen:e,onClose:r,onConfirm:s,title:t,description:n,confirmText:i="Confirmar",variant:o="default",loading:l=!1})=>a.jsxDEV(hu,{open:e,onOpenChange:r,children:a.jsxDEV(Nu,{children:[a.jsxDEV(bu,{children:[a.jsxDEV(vu,{children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:39,columnNumber:11},void 0),a.jsxDEV(xu,{children:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:40,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:38,columnNumber:9},void 0),a.jsxDEV(gu,{children:[a.jsxDEV(ju,{disabled:l,children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:43,columnNumber:11},void 0),a.jsxDEV(hi,{onClick:s,disabled:l,className:o==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:[l&&a.jsxDEV(os,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:53,columnNumber:25},void 0),i]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:44,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:42,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:37,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/ConfirmActionModal.tsx",lineNumber:36,columnNumber:5},void 0),x8=()=>{const{profile:e}=dr(),[r,s]=S.useState(!1),[t,n]=S.useState(""),[i,o]=S.useState("VIEWER"),[l,c]=S.useState("NONE"),[u,m]=S.useState(!0),[d,f]=S.useState(!1),[p,N]=S.useState(!1),[h,b]=S.useState(null),[v,j]=S.useState([]),[w,D]=S.useState([]),[g,x]=S.useState(""),[y,E]=S.useState("all"),[k,_]=S.useState("all"),[A,P]=S.useState(null),[T,M]=S.useState(!1),[C,R]=S.useState(null);S.useEffect(()=>{e?.organization_id&&(F(),q())},[e?.organization_id]);const F=async()=>{try{const{data:K,error:ge}=await se.from("organizations").select("*").eq("id",e?.organization_id).single();if(ge)throw ge;b(K)}catch{fe({title:"Erro",description:"No foi possvel carregar dados da organizao",variant:"destructive"})}finally{m(!1)}},q=async()=>{try{const{data:K,error:ge}=await se.from("profiles").select("*").eq("organization_id",e?.organization_id).order("created_at",{ascending:!1});if(ge)throw ge;j(K||[]),D(K||[])}catch{fe({title:"Erro",description:"No foi possvel carregar usurios",variant:"destructive"})}};S.useEffect(()=>{let K=v;g&&(K=K.filter(ge=>ge.email.toLowerCase().includes(g.toLowerCase())||ge.user_id.toLowerCase().includes(g.toLowerCase()))),y!=="all"&&(K=K.filter(ge=>y==="active"?ge.is_active:!ge.is_active)),k!=="all"&&(K=K.filter(ge=>ge.role===k)),D(K)},[v,g,y,k]);const G=async()=>{if(!(!h||!e?.organization_id)){f(!0);try{const{error:K}=await se.from("organizations").update({name:h.name,domain:h.domain,require_2fa:h.require_2fa,export_limit:h.export_limit,retention_months:h.retention_months}).eq("id",e.organization_id);if(K)throw K;fe({title:"Sucesso",description:"Dados da organizao salvos com sucesso"})}catch{fe({title:"Erro",description:"No foi possvel salvar os dados",variant:"destructive"})}finally{f(!1)}}},re=async()=>{if(!(!t||!e?.organization_id)){N(!0);try{if(h?.domain&&t.split("@")[1]!==h.domain){fe({title:"Erro",description:`E-mail deve ser do domnio ${h.domain}`,variant:"destructive"});return}const{error:K}=await se.functions.invoke("user-invitations",{body:{email:t,role:i,data_access_level:l,org_id:e.organization_id}});if(K)throw K;fe({title:"Convite enviado",description:`Convite enviado para ${t} com perfil ${i}`}),s(!1),n(""),o("VIEWER"),c("NONE")}catch(K){fe({title:"Erro",description:K.message||"No foi possvel enviar o convite",variant:"destructive"})}finally{N(!1)}}},ne=async(K,ge)=>{N(!0);try{const{data:Me,error:J}=await se.functions.invoke("manage-user-roles",{body:{action:K,user_id:ge}});if(J)throw J;fe({title:"Sucesso",description:Me.message}),await q()}catch(Me){fe({title:"Erro",description:Me.message||"No foi possvel executar a ao",variant:"destructive"})}finally{N(!1),R(null)}},Z=async(K,ge,Me)=>{N(!0);try{const{data:J,error:de}=await se.functions.invoke("manage-user-roles",{body:{action:"change_role",user_id:K,role:ge,data_access_level:Me}});if(de)throw de;fe({title:"Sucesso",description:J.message}),await q()}catch(J){fe({title:"Erro",description:J.message||"No foi possvel alterar o papel",variant:"destructive"})}finally{N(!1)}},Y=(K,ge)=>{const Me={activate:{title:"Ativar Usurio",description:`Tem certeza que deseja ativar o usurio ${K.email}? Ele poder acessar o sistema novamente.`},deactivate:{title:"Desativar Usurio",description:`Tem certeza que deseja desativar o usurio ${K.email}? Ele perder acesso ao sistema.`},delete:{title:"Revogar Acesso",description:`Tem certeza que deseja revogar completamente o acesso de ${K.email}? Esta ao no pode ser desfeita.`}};R({user:K,action:ge,...Me[ge]})};if(u)return a.jsxDEV("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxDEV(os,{className:"h-8 w-8 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:375,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:374,columnNumber:7},void 0);if(!h)return a.jsxDEV("div",{className:"text-center py-8",children:a.jsxDEV("p",{className:"text-muted-foreground",children:"No foi possvel carregar dados da organizao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:383,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:382,columnNumber:7},void 0);const ie=K=>{switch(K){case"ADMIN":return a.jsxDEV(H,{className:"bg-destructive text-destructive-foreground",children:"Admin"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:394,columnNumber:11},void 0);case"ANALYST":return a.jsxDEV(H,{className:"bg-primary text-primary-foreground",children:"Analista"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:400,columnNumber:11},void 0);case"VIEWER":return a.jsxDEV(H,{variant:"secondary",children:"Visualizador"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:403,columnNumber:16},void 0);default:return a.jsxDEV(H,{variant:"outline",children:K},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:405,columnNumber:16},void 0)}},xe=K=>K?a.jsxDEV(H,{className:"bg-success text-success-foreground",children:"Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:412,columnNumber:9},void 0):a.jsxDEV(H,{variant:"secondary",children:"Inativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:415,columnNumber:14},void 0);return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Organizao & Acessos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:422,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Gerencie dados da organizao, usurios e polticas de acesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:425,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:421,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(di,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:434,columnNumber:15},void 0),"Dados da Organizao"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:433,columnNumber:13},void 0),a.jsxDEV(te,{children:"Informaes bsicas e configuraes da organizao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:437,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:432,columnNumber:11},void 0),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{htmlFor:"orgName",children:"Nome da Organizao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:444,columnNumber:17},void 0),a.jsxDEV(Oe,{id:"orgName",value:h.name,onChange:K=>b({...h,name:K.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:445,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:443,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{htmlFor:"orgCode",children:"Cdigo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:454,columnNumber:17},void 0),a.jsxDEV(Oe,{id:"orgCode",value:h.code,disabled:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:455,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:453,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:442,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{htmlFor:"domain",children:"Domnio Permitido"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:460,columnNumber:15},void 0),a.jsxDEV(Oe,{id:"domain",value:h.domain||"",placeholder:"exemplo.com",onChange:K=>b({...h,domain:K.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:461,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:459,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{htmlFor:"retention",children:"Reteno de Dados (meses)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:472,columnNumber:15},void 0),a.jsxDEV(Oe,{id:"retention",type:"number",value:h.retention_months,onChange:K=>b({...h,retention_months:parseInt(K.target.value)})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:473,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:471,columnNumber:13},void 0),a.jsxDEV(I,{className:"w-full",onClick:G,disabled:d,children:[d&&a.jsxDEV(os,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:491,columnNumber:26},void 0),"Salvar Alteraes"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:486,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:441,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:431,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Polticas de Segurana"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:499,columnNumber:13},void 0),a.jsxDEV(te,{children:"Configure polticas de acesso e segurana"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:500,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:498,columnNumber:11},void 0),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"space-y-0.5",children:[a.jsxDEV(ce,{children:"Exigir Autenticao 2FA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:507,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Obrigatrio para todos os usurios"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:508,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:506,columnNumber:15},void 0),a.jsxDEV(An,{checked:h.require_2fa,onCheckedChange:K=>b({...h,require_2fa:K})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:512,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:505,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:"Limite de Export"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:521,columnNumber:15},void 0),a.jsxDEV(rr,{value:h.export_limit,onValueChange:K=>b({...h,export_limit:K}),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:529,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:528,columnNumber:17},void 0),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"ROLE_BASED",children:"Baseado no Papel"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:532,columnNumber:19},void 0),a.jsxDEV(ue,{value:"UNLIMITED",children:"Ilimitado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:533,columnNumber:19},void 0),a.jsxDEV(ue,{value:"RESTRICTED",children:"Restrito"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:534,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:531,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:522,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:520,columnNumber:13},void 0),a.jsxDEV("div",{className:"pt-4 space-y-2",children:[a.jsxDEV("h4",{className:"font-medium",children:"Limites por Papel:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:540,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-sm space-y-1",children:[a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"VIEWER:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:543,columnNumber:19},void 0),a.jsxDEV("span",{children:"Copiar bloco"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:544,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:542,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"ANALYST:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:547,columnNumber:19},void 0),a.jsxDEV("span",{children:"Export CSV"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:548,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:546,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"ADMIN:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:551,columnNumber:19},void 0),a.jsxDEV("span",{children:"PDF/CSV completo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:552,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:550,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:541,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:539,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:504,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:497,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:430,columnNumber:7},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(Vn,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:564,columnNumber:15},void 0),"Usurios & Acessos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:563,columnNumber:13},void 0),a.jsxDEV(dt,{open:r,onOpenChange:s,children:[a.jsxDEV(yu,{asChild:!0,children:a.jsxDEV(I,{children:[a.jsxDEV(fu,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:573,columnNumber:19},void 0),"Convidar Usurio"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:572,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:571,columnNumber:15},void 0),a.jsxDEV(ft,{children:[a.jsxDEV(ls,{children:[a.jsxDEV(cs,{children:"Convidar Novo Usurio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:579,columnNumber:19},void 0),a.jsxDEV(Pn,{children:"Envie um convite para um novo usurio com papel especfico"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:580,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:578,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{htmlFor:"email",children:"E-mail"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:586,columnNumber:21},void 0),a.jsxDEV(Oe,{id:"email",type:"email",value:t,onChange:K=>n(K.target.value),placeholder:"usuario@exemplo.com"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:587,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:585,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:"Papel Inicial"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:596,columnNumber:21},void 0),a.jsxDEV(rr,{value:i,onValueChange:K=>o(K),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:604,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:603,columnNumber:23},void 0),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"VIEWER",children:"Visualizador"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:607,columnNumber:25},void 0),a.jsxDEV(ue,{value:"ANALYST",children:"Analista"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:608,columnNumber:25},void 0),a.jsxDEV(ue,{value:"ADMIN",children:"Administrador"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:609,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:606,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:597,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:595,columnNumber:19},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:"Nvel de Acesso aos Dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:614,columnNumber:21},void 0),a.jsxDEV(rr,{value:l,onValueChange:K=>c(K),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:622,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:621,columnNumber:23},void 0),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"NONE",children:"Sem Acesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:625,columnNumber:25},void 0),a.jsxDEV(ue,{value:"MASKED",children:"Dados Mascarados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:626,columnNumber:25},void 0),a.jsxDEV(ue,{value:"FULL",children:"Acesso Completo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:627,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:624,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:615,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:613,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:584,columnNumber:17},void 0),a.jsxDEV(pu,{children:[a.jsxDEV(I,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:633,columnNumber:19},void 0),a.jsxDEV(I,{onClick:re,disabled:p,children:[p&&a.jsxDEV(os,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:641,columnNumber:23},void 0),!p&&a.jsxDEV(Yx,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:643,columnNumber:40},void 0),"Enviar Convite"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:639,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:632,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:577,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:567,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:562,columnNumber:11},void 0),a.jsxDEV(te,{children:"Gerencie usurios, papis e status de acesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:650,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:561,columnNumber:9},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"flex gap-4 mb-6",children:[a.jsxDEV("div",{className:"flex-1",children:a.jsxDEV("div",{className:"relative",children:[a.jsxDEV(Oh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:659,columnNumber:17},void 0),a.jsxDEV(Oe,{placeholder:"Buscar por e-mail ou ID...",value:g,onChange:K=>x(K.target.value),className:"pl-10"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:660,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:658,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:657,columnNumber:13},void 0),a.jsxDEV(rr,{value:y,onValueChange:K=>E(K),children:[a.jsxDEV(sr,{className:"w-[150px]",children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:675,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:674,columnNumber:15},void 0),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"all",children:"Todos Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:678,columnNumber:17},void 0),a.jsxDEV(ue,{value:"active",children:"Ativos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:679,columnNumber:17},void 0),a.jsxDEV(ue,{value:"inactive",children:"Inativos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:680,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:677,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:668,columnNumber:13},void 0),a.jsxDEV(rr,{value:k,onValueChange:K=>_(K),children:[a.jsxDEV(sr,{className:"w-[150px]",children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:690,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:689,columnNumber:15},void 0),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"all",children:"Todos Papis"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:693,columnNumber:17},void 0),a.jsxDEV(ue,{value:"ADMIN",children:"Admin"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:694,columnNumber:17},void 0),a.jsxDEV(ue,{value:"ANALYST",children:"Analista"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:695,columnNumber:17},void 0),a.jsxDEV(ue,{value:"VIEWER",children:"Visualizador"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:696,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:692,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:683,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:656,columnNumber:11},void 0),a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{children:[a.jsxDEV(Q,{children:"Usurio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:704,columnNumber:17},void 0),a.jsxDEV(Q,{children:"E-mail"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:705,columnNumber:17},void 0),a.jsxDEV(Q,{children:"Papel & Acesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:706,columnNumber:17},void 0),a.jsxDEV(Q,{children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:707,columnNumber:17},void 0),a.jsxDEV(Q,{children:"ltimo Acesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:708,columnNumber:17},void 0),a.jsxDEV(Q,{children:"Aes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:709,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:703,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:702,columnNumber:13},void 0),a.jsxDEV(Ir,{children:w.length===0?a.jsxDEV(we,{children:a.jsxDEV(X,{colSpan:6,className:"text-center py-8",children:a.jsxDEV("p",{className:"text-muted-foreground",children:g||y!=="all"||k!=="all"?"Nenhum usurio encontrado com os filtros aplicados":"Nenhum usurio encontrado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:716,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:715,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:714,columnNumber:17},void 0):w.map(K=>a.jsxDEV(we,{children:[a.jsxDEV(X,{className:"font-medium",children:K.email.split("@")[0]},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:728,columnNumber:21},void 0),a.jsxDEV(X,{children:K.email},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:731,columnNumber:21},void 0),a.jsxDEV(X,{children:a.jsxDEV("div",{className:"flex flex-col gap-1",children:[ie(K.role),a.jsxDEV(H,{variant:"outline",className:"text-xs",children:K.data_access_level},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:735,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:733,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:732,columnNumber:21},void 0),a.jsxDEV(X,{children:xe(K.is_active)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:740,columnNumber:21},void 0),a.jsxDEV(X,{children:a.jsxDEV("div",{className:"text-sm",children:[a.jsxDEV("div",{children:["Criado:"," ",new Date(K.created_at).toLocaleDateString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:743,columnNumber:25},void 0),K.last_login_at&&a.jsxDEV("div",{className:"text-muted-foreground text-xs",children:["Login:"," ",new Date(K.last_login_at).toLocaleDateString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:750,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:742,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:741,columnNumber:21},void 0),a.jsxDEV(X,{children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[K.is_active?a.jsxDEV(I,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive-foreground hover:bg-destructive/10",title:"Desativar usurio",onClick:()=>Y(K,"deactivate"),disabled:p||K.user_id===e?.user_id,children:a.jsxDEV(Jx,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:784,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:772,columnNumber:27},void 0):a.jsxDEV(I,{variant:"ghost",size:"sm",title:"Ativar usurio",onClick:()=>Y(K,"activate"),disabled:p,children:a.jsxDEV(Ch,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:769,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:762,columnNumber:27},void 0),a.jsxDEV(I,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary-foreground hover:bg-primary/10",title:"Alterar papel",onClick:()=>{P(K),M(!0)},disabled:p,children:a.jsxDEV(Mr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:798,columnNumber:27},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:787,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:760,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:759,columnNumber:21},void 0)]},K.id,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:727,columnNumber:19},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:712,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:701,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:654,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:560,columnNumber:7},void 0),a.jsxDEV(b8,{user:A,isOpen:T,onClose:()=>{M(!1),P(null)},onRoleChange:Z,loading:p},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:811,columnNumber:7},void 0),C&&a.jsxDEV(v8,{isOpen:!!C,onClose:()=>R(null),onConfirm:()=>ne(C.action,C.user.user_id),title:C.title,description:C.description,confirmText:C.action==="delete"?"Revogar Acesso":"Confirmar",variant:C.action==="deactivate"||C.action==="delete"?"destructive":"default",loading:p},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:824,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Organization.tsx",lineNumber:420,columnNumber:5},void 0)},tL=Object.freeze(Object.defineProperty({__proto__:null,default:x8},Symbol.toStringTag,{value:"Module"})),Br=S.forwardRef(({className:e,...r},s)=>a.jsxDEV(Th,{ref:s,className:ir("relative flex w-full touch-none select-none items-center",e),...r,children:[a.jsxDEV(Zx,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsxDEV(Qx,{className:"absolute h-full bg-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/slider.tsx",lineNumber:19,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/slider.tsx",lineNumber:18,columnNumber:5},void 0),a.jsxDEV(eg,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/slider.tsx",lineNumber:21,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/slider.tsx",lineNumber:10,columnNumber:3},void 0));Br.displayName=Th.displayName;const g8=()=>{const[e,r]=S.useState(6),[s,t]=S.useState(!0),[n,i]=S.useState({reclamante_foi_testemunha:30,troca_direta:40,triangulacao_confirmada:20,prova_emprestada:10}),[o,l]=S.useState({viewer_limit:50,analyst_limit:1e3,admin_limit:-1}),c=()=>{fe({title:"Configuraes salvas",description:"Os parmetros do sistema foram atualizados com sucesso"})},u=()=>{r(6),t(!0),i({reclamante_foi_testemunha:30,troca_direta:40,triangulacao_confirmada:20,prova_emprestada:10}),fe({title:"Configuraes restauradas",description:"Parmetros voltaram aos valores padro"})},m=Object.values(n).reduce((d,f)=>d+f,0);return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Parmetros & Regras"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:78,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Configure parmetros globais do sistema e regras de negcio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:81,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:77,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(fs,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:90,columnNumber:15},void 0),"Janela de Triangulao"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:89,columnNumber:13},void 0),a.jsxDEV(te,{children:"Perodo em meses considerado para anlise de triangulao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:93,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:88,columnNumber:11},void 0),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:["Meses: ",e]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:99,columnNumber:15},void 0),a.jsxDEV(Br,{value:[e],onValueChange:d=>r(d[0]),max:24,min:1,step:1},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:100,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxDEV("span",{children:"1 ms"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:108,columnNumber:17},void 0),a.jsxDEV("span",{children:"24 meses"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:109,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:98,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-3 bg-muted rounded-lg",children:a.jsxDEV("p",{className:"text-sm",children:[a.jsxDEV("strong",{children:"Impacto:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:115,columnNumber:17},void 0)," Processos e testemunhas dentro de"," ",e," meses sero considerados para identificao de padres suspeitos."]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:114,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:87,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(Mr,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:126,columnNumber:15},void 0),"Configuraes de Privacidade"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:125,columnNumber:13},void 0),a.jsxDEV(te,{children:"Controles de privacidade e proteo de dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:129,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:124,columnNumber:11},void 0),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"space-y-0.5",children:[a.jsxDEV(ce,{children:"Mscara de CPF"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:136,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Ocultar ltimos dgitos do CPF"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:137,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:135,columnNumber:15},void 0),a.jsxDEV(An,{checked:s,onCheckedChange:t},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:134,columnNumber:13},void 0),a.jsxDEV("div",{className:"p-3 bg-muted rounded-lg",children:a.jsxDEV("p",{className:"text-sm",children:[a.jsxDEV("strong",{children:"Exemplo:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:149,columnNumber:17},void 0)," ",s?"123.456.789-**":"123.456.789-00"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:148,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:147,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:133,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:123,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:86,columnNumber:7},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(rg,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:160,columnNumber:13},void 0),"Pesos do Score de Risco"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:159,columnNumber:11},void 0),a.jsxDEV(te,{children:"Configure a importncia de cada indicador no clculo do score final"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:158,columnNumber:9},void 0),a.jsxDEV($,{className:"space-y-6",children:[a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:["Reclamante foi Testemunha:"," ",n.reclamante_foi_testemunha,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:171,columnNumber:17},void 0),a.jsxDEV(Br,{value:[n.reclamante_foi_testemunha],onValueChange:d=>i(f=>({...f,reclamante_foi_testemunha:d[0]})),max:100,min:0,step:5},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:175,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:170,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:["Troca Direta: ",n.troca_direta,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:190,columnNumber:17},void 0),a.jsxDEV(Br,{value:[n.troca_direta],onValueChange:d=>i(f=>({...f,troca_direta:d[0]})),max:100,min:0,step:5},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:191,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:189,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:169,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:["Triangulao Confirmada:"," ",n.triangulacao_confirmada,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:208,columnNumber:17},void 0),a.jsxDEV(Br,{value:[n.triangulacao_confirmada],onValueChange:d=>i(f=>({...f,triangulacao_confirmada:d[0]})),max:100,min:0,step:5},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:212,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:207,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:["Prova Emprestada: ",n.prova_emprestada,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:227,columnNumber:17},void 0),a.jsxDEV(Br,{value:[n.prova_emprestada],onValueChange:d=>i(f=>({...f,prova_emprestada:d[0]})),max:100,min:0,step:5},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:230,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:226,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:206,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:168,columnNumber:11},void 0),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("span",{className:"text-sm font-medium",children:"Total dos pesos:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:247,columnNumber:13},void 0),a.jsxDEV(H,{variant:m===100?"default":"destructive",children:[m,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:248,columnNumber:13},void 0),m!==100&&a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"(deve somar 100%)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:252,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:246,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:167,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:157,columnNumber:7},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Limites de Export por Papel"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:262,columnNumber:11},void 0),a.jsxDEV(te,{children:"Configure limites de exportao por tipo de usurio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:263,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:261,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:"VIEWER - Registros por export"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:270,columnNumber:15},void 0),a.jsxDEV(Oe,{type:"number",value:o.viewer_limit,onChange:d=>l(f=>({...f,viewer_limit:parseInt(d.target.value)||0}))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:271,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:269,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:"ANALYST - Registros por export"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:284,columnNumber:15},void 0),a.jsxDEV(Oe,{type:"number",value:o.analyst_limit,onChange:d=>l(f=>({...f,analyst_limit:parseInt(d.target.value)||0}))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:285,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:283,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{children:"ADMIN - Registros por export"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:298,columnNumber:15},void 0),a.jsxDEV(rr,{value:o.admin_limit===-1?"unlimited":"limited",onValueChange:d=>l(f=>({...f,admin_limit:d==="unlimited"?-1:1e4})),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:311,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:310,columnNumber:17},void 0),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"unlimited",children:"Ilimitado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:314,columnNumber:19},void 0),a.jsxDEV(ue,{value:"limited",children:"Com limite"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:315,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:313,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:299,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:297,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:268,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:267,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:260,columnNumber:7},void 0),a.jsxDEV("div",{className:"flex gap-4",children:[a.jsxDEV(I,{onClick:c,className:"flex items-center gap-2",children:[a.jsxDEV(Mh,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:325,columnNumber:11},void 0),"Salvar Configuraes"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:324,columnNumber:9},void 0),a.jsxDEV(I,{variant:"outline",onClick:u,className:"flex items-center gap-2",children:[a.jsxDEV(qa,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:333,columnNumber:11},void 0),"Restaurar Padres"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:328,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:323,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/SystemConfig.tsx",lineNumber:76,columnNumber:5},void 0)},aL=Object.freeze(Object.defineProperty({__proto__:null,default:g8},Symbol.toStringTag,{value:"Module"}));function j8(){dr();const[e,r]=S.useState([]),[s,t]=S.useState([]),[n,i]=S.useState(!0),[o,l]=S.useState("all");S.useEffect(()=>{c()},[]);const c=async()=>{i(!0);try{const{data:p,error:N}=await se.from("lgpd_requests").select("*").order("created_at",{ascending:!1});N?console.error("Error fetching requests:",N):r(p||[]);const{data:h,error:b}=await se.from("data_access_logs").select("*").order("created_at",{ascending:!1}).limit(100);b?console.error("Error fetching logs:",b):t(h||[])}catch(p){console.error("Error fetching compliance data:",p),Fe.error("Erro ao carregar dados de compliance")}finally{i(!1)}},u=p=>{const N={PENDING:{variant:"secondary",icon:fs,text:"Pendente"},PROCESSING:{variant:"default",icon:Sr,text:"Processando"},COMPLETED:{variant:"default",icon:Te,text:"Concluda"},REJECTED:{variant:"destructive",icon:du,text:"Rejeitada"}},h=N[p]||N.PENDING,b=h.icon,v=p==="COMPLETED"?"bg-success text-success-foreground":"";return a.jsxDEV(H,{variant:h.variant,className:v,children:[a.jsxDEV(b,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:121,columnNumber:9},this),h.text]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:120,columnNumber:7},this)},m=p=>({ACCESS:"Acesso aos Dados",RECTIFICATION:"Retificao",DELETION:"Excluso",PORTABILITY:"Portabilidade"})[p]||p,d=o==="all"?e:e.filter(p=>p.status===o),f=async(p,N)=>{try{const{error:h}=await se.from("lgpd_requests").update({status:N,completed_at:N==="COMPLETED"?new Date().toISOString():null}).eq("id",p);if(h)throw h;Fe.success("Status atualizado com sucesso"),c()}catch(h){console.error("Error updating status:",h),Fe.error("Erro ao atualizar status")}};return n?a.jsxDEV("div",{className:"flex items-center justify-center h-96",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV(Mr,{className:"h-12 w-12 mx-auto mb-4 animate-pulse text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:167,columnNumber:11},this),a.jsxDEV("p",{children:"Carregando dados de compliance..."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:168,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:166,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:165,columnNumber:7},this):a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsxDEV(Mr,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:179,columnNumber:11},this),"Compliance LGPD"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:178,columnNumber:9},this),a.jsxDEV("p",{className:"text-muted-foreground",children:"Gesto de solicitaes e logs de acesso conforme a Lei Geral de Proteo de Dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:177,columnNumber:7},this),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxDEV(O,{children:a.jsxDEV($,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Solicitaes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:194,columnNumber:17},this),a.jsxDEV("p",{className:"text-2xl font-bold",children:e.length},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:197,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:193,columnNumber:15},this),a.jsxDEV(Gr,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:199,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:191,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:190,columnNumber:9},this),a.jsxDEV(O,{children:a.jsxDEV($,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Pendentes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:208,columnNumber:17},this),a.jsxDEV("p",{className:"text-2xl font-bold",children:e.filter(p=>p.status==="PENDING").length},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:211,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:207,columnNumber:15},this),a.jsxDEV(fs,{className:"h-8 w-8 text-orange-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:215,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:206,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:204,columnNumber:9},this),a.jsxDEV(O,{children:a.jsxDEV($,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Concludas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:224,columnNumber:17},this),a.jsxDEV("p",{className:"text-2xl font-bold",children:e.filter(p=>p.status==="COMPLETED").length},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:227,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:223,columnNumber:15},this),a.jsxDEV(Te,{className:"h-8 w-8 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:231,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:222,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:221,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:220,columnNumber:9},this),a.jsxDEV(O,{children:a.jsxDEV($,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Logs de Acesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:240,columnNumber:17},this),a.jsxDEV("p",{className:"text-2xl font-bold",children:s.length},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:243,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:239,columnNumber:15},this),a.jsxDEV(Sr,{className:"h-8 w-8 text-blue-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:238,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:237,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:236,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:189,columnNumber:7},this),a.jsxDEV(xs,{defaultValue:"requests",className:"space-y-4",children:[a.jsxDEV(gs,{children:[a.jsxDEV(ye,{value:"requests",children:"Solicitaes LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:253,columnNumber:11},this),a.jsxDEV(ye,{value:"logs",children:"Logs de Acesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:254,columnNumber:11},this),a.jsxDEV(ye,{value:"settings",children:"Configuraes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:255,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:252,columnNumber:9},this),a.jsxDEV(Se,{value:"requests",className:"space-y-4",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV(rr,{value:o,onValueChange:l,children:[a.jsxDEV(sr,{className:"w-48",children:a.jsxDEV(tr,{placeholder:"Filtrar por status"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:262,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:261,columnNumber:15},this),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"all",children:"Todos os Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:265,columnNumber:17},this),a.jsxDEV(ue,{value:"PENDING",children:"Pendentes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:266,columnNumber:17},this),a.jsxDEV(ue,{value:"PROCESSING",children:"Processando"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:267,columnNumber:17},this),a.jsxDEV(ue,{value:"COMPLETED",children:"Concludas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:268,columnNumber:17},this),a.jsxDEV(ue,{value:"REJECTED",children:"Rejeitadas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:269,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:264,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:260,columnNumber:13},this),a.jsxDEV(I,{onClick:c,children:"Atualizar"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:272,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:259,columnNumber:11},this),a.jsxDEV("div",{className:"space-y-4",children:d.length===0?a.jsxDEV(O,{children:a.jsxDEV($,{className:"p-8 text-center",children:[a.jsxDEV(Mr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:279,columnNumber:19},this),a.jsxDEV("p",{className:"text-muted-foreground",children:"Nenhuma solicitao LGPD encontrada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:280,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:278,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:277,columnNumber:15},this):d.map(p=>a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV("div",{className:"flex items-start justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV(z,{className:"text-lg",children:m(p.request_type)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:291,columnNumber:25},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Solicitante: ",p.requested_by_email]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:294,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:290,columnNumber:23},this),a.jsxDEV("div",{className:"text-right space-y-2",children:[u(p.status),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(I,{size:"sm",variant:"outline",onClick:()=>f(p.id,"PROCESSING"),disabled:p.status==="COMPLETED",children:"Processar"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:301,columnNumber:27},this),a.jsxDEV(I,{size:"sm",variant:"default",onClick:()=>f(p.id,"COMPLETED"),disabled:p.status==="COMPLETED",children:"Concluir"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:311,columnNumber:27},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:300,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:298,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:289,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:288,columnNumber:19},this),a.jsxDEV($,{children:[p.justification&&a.jsxDEV("div",{className:"mb-4",children:[a.jsxDEV("h4",{className:"font-medium mb-2",children:"Justificativa:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:328,columnNumber:25},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:p.justification},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:329,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:327,columnNumber:23},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Criada em:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:336,columnNumber:25},this)," ",new Date(p.created_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:335,columnNumber:23},this),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Expira em:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:340,columnNumber:25},this)," ",new Date(p.expires_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:339,columnNumber:23},this),p.completed_at&&a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"Concluda em:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:345,columnNumber:27},this)," ",new Date(p.completed_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:344,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:334,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:325,columnNumber:19},this)]},p.id,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:287,columnNumber:17},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:275,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:258,columnNumber:9},this),a.jsxDEV(Se,{value:"logs",className:"space-y-4",children:a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Logs de Acesso a Dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:362,columnNumber:15},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Registro de acessos para auditoria LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:363,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:361,columnNumber:13},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"space-y-2",children:s.slice(0,20).map(p=>a.jsxDEV("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsxDEV("div",{children:[a.jsxDEV("span",{className:"font-medium",children:p.accessed_table},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:375,columnNumber:23},this),a.jsxDEV("span",{className:"mx-2 text-muted-foreground",children:""},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:376,columnNumber:23},this),a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:p.access_type},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:377,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:374,columnNumber:21},this),a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:new Date(p.created_at).toLocaleString("pt-BR")},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:381,columnNumber:21},this)]},p.id,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:370,columnNumber:19},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:368,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:367,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:360,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:359,columnNumber:9},this),a.jsxDEV(Se,{value:"settings",className:"space-y-4",children:[a.jsxDEV(Le,{children:[a.jsxDEV(mr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:393,columnNumber:13},this),a.jsxDEV(Be,{children:[a.jsxDEV("strong",{children:"Portal do Titular:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:395,columnNumber:15},this)," O portal pblico para solicitaes LGPD est disponvel em"," ",a.jsxDEV("a",{href:"/portal-titular",className:"text-primary underline",target:"_blank",children:"/portal-titular"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:397,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:394,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:392,columnNumber:11},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Configuraes de Compliance"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:409,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:408,columnNumber:13},this),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("h4",{className:"font-medium",children:"Reteno de Dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:413,columnNumber:17},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Dados so retidos por 24 meses aps o fim da necessidade processual, conforme poltica de reteno configurada."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:414,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:412,columnNumber:15},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("h4",{className:"font-medium",children:"Anonimizao Automtica"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:421,columnNumber:17},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"CPFs, nomes e dados sensveis so mascarados automaticamente em exports e relatrios por padro."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:422,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:420,columnNumber:15},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("h4",{className:"font-medium",children:"Base Legal"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:429,columnNumber:17},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Art. 7, VI da LGPD - Execuo regular de direitos em processo judicial"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:430,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:428,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:411,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:407,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:391,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:251,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Compliance.tsx",lineNumber:175,columnNumber:5},this)}const nL=Object.freeze(Object.defineProperty({__proto__:null,default:j8},Symbol.toStringTag,{value:"Module"}));function kh(){const e=[{title:"Compliance LGPD 85% Automatizada",description:"Sistema com polticas de reteno automtica, anonimizao de PII e auditoria completa",icon:Mr,metrics:["85% compliance automtica","100% dados protegidos","0 vazamentos registrados"]},{title:"ROI Comprovado em Compliance",description:"Reduo de 70% nos custos de adequao LGPD vs. consultoria tradicional",icon:wt,metrics:["70% reduo de custos","90% menos tempo de setup","100% auditvel"]},{title:"Diferencial Competitivo",description:"nico sistema jurdico com LGPD by design para anlise de testemunhas",icon:tg,metrics:["1 no mercado","Tecnologia exclusiva","Certificao prpria"]}],r=[{title:"Whitepaper: LGPD para Escritrios",description:"Guia completo de adequao LGPD para escritrios de advocacia",type:"PDF",pages:"24 pginas",icon:Gr,downloadUrl:"/whitepaper-assistjur.pdf"},{title:"Checklist de Compliance",description:"Lista verificao completa para auditoria LGPD interna",type:"Planilha",pages:"5 categorias",icon:Te,downloadUrl:"/checklist-compliance.xlsx"},{title:"Template de Polticas",description:"Modelos prontos de polticas de privacidade e reteno",type:"DOC",pages:"12 modelos",icon:Gr,downloadUrl:"/templates-politicas.docx"}],s=[{name:"Dr. Carlos Mendes",role:"Scio, Mendes & Associados",quote:"Com o AssistJur.IA, nossa adequao LGPD foi 3x mais rpida que o esperado.",compliance:"100% conforme"},{name:"Dra. Ana Silva",role:"Coordenadora de Compliance",quote:"A auditoria automtica nos deu total controle sobre os dados dos clientes.",compliance:"0 incidentes"}];return a.jsxDEV(Vg,{children:a.jsxDEV("div",{className:"container mx-auto p-6 space-y-8",children:[a.jsxDEV("div",{className:"flex items-center gap-3 mb-8",children:[a.jsxDEV("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsxDEV(sg,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:111,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:110,columnNumber:11},this),a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold",children:"Marketing Compliance"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:114,columnNumber:13},this),a.jsxDEV("p",{className:"text-muted-foreground",children:"Argumentrio comercial e lead magnets para converso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:115,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:109,columnNumber:9},this),a.jsxDEV(xs,{defaultValue:"argumentario",className:"space-y-6",children:[a.jsxDEV(gs,{className:"grid w-full grid-cols-4",children:[a.jsxDEV(ye,{value:"argumentario",children:"Argumentrio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:123,columnNumber:13},this),a.jsxDEV(ye,{value:"leadmagnets",children:"Lead Magnets"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:124,columnNumber:13},this),a.jsxDEV(ye,{value:"roi",children:"ROI Calculator"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:125,columnNumber:13},this),a.jsxDEV(ye,{value:"cases",children:"Cases de Sucesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:122,columnNumber:11},this),a.jsxDEV(Se,{value:"argumentario",className:"space-y-6",children:[a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-1",children:e.map((t,n)=>{const i=t.icon;return a.jsxDEV(O,{className:"border-l-4 border-l-primary",children:[a.jsxDEV(B,{children:a.jsxDEV("div",{className:"flex items-start gap-4",children:[a.jsxDEV("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsxDEV(i,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:139,columnNumber:27},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:138,columnNumber:25},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV(z,{className:"text-xl",children:t.title},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:142,columnNumber:27},this),a.jsxDEV(te,{className:"mt-2",children:t.description},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:143,columnNumber:27},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:141,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:137,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:136,columnNumber:21},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"flex flex-wrap gap-2",children:t.metrics.map((o,l)=>a.jsxDEV(H,{variant:"secondary",children:o},l,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:152,columnNumber:27},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:150,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:149,columnNumber:21},this)]},n,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:135,columnNumber:19},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:131,columnNumber:13},this),a.jsxDEV(O,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20",children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"flex items-center gap-2",children:[a.jsxDEV(Mr,{className:"w-5 h-5 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:167,columnNumber:19},this),"Proposta de Valor nica"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:166,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:165,columnNumber:15},this),a.jsxDEV($,{children:a.jsxDEV("p",{className:"text-lg leading-relaxed",children:[a.jsxDEV("strong",{children:"AssistJur.IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:173,columnNumber:19},this),"  o nico sistema jurdico com"," ",a.jsxDEV(H,{variant:"outline",className:"mx-1",children:"LGPD by design"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:174,columnNumber:19},this),"que oferece ",a.jsxDEV("strong",{children:"85% de compliance automatizada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:177,columnNumber:31},this)," ","para anlise de testemunhas, com economia de"," ",a.jsxDEV("strong",{children:"70% nos custos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:179,columnNumber:19},this)," e"," ",a.jsxDEV("strong",{children:"90% menos tempo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:180,columnNumber:19},this)," de adequao."]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:172,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:171,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:130,columnNumber:11},this),a.jsxDEV(Se,{value:"leadmagnets",className:"space-y-6",children:[a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map((t,n)=>{const i=t.icon;return a.jsxDEV(O,{className:"group hover:shadow-lg transition-shadow",children:[a.jsxDEV(B,{children:[a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsxDEV(i,{className:"w-5 h-5 text-accent"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:199,columnNumber:27},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:198,columnNumber:25},this),a.jsxDEV("div",{children:a.jsxDEV(H,{variant:"outline",children:t.type},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:202,columnNumber:27},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:201,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:197,columnNumber:23},this),a.jsxDEV(z,{className:"text-lg",children:t.title},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:205,columnNumber:23},this),a.jsxDEV(te,{children:t.description},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:206,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:196,columnNumber:21},this),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[" ",t.pages]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:209,columnNumber:23},this),a.jsxDEV(I,{className:"w-full group-hover:bg-primary/90 transition-colors",onClick:()=>window.open(t.downloadUrl,"_blank"),children:[a.jsxDEV(Kr,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:218,columnNumber:25},this),"Download Gratuito"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:212,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:208,columnNumber:21},this)]},n,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:192,columnNumber:19},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:188,columnNumber:13},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Performance dos Lead Magnets"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:230,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:229,columnNumber:15},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxDEV("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsxDEV("div",{className:"text-2xl font-bold text-primary",children:"1,247"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:235,columnNumber:21},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Downloads totais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:236,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:234,columnNumber:19},this),a.jsxDEV("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsxDEV("div",{className:"text-2xl font-bold text-accent",children:"32%"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:241,columnNumber:21},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Taxa de converso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:242,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:240,columnNumber:19},this),a.jsxDEV("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsxDEV("div",{className:"text-2xl font-bold text-primary",children:"89"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:247,columnNumber:21},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Leads qualificados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:248,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:246,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:233,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:232,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:187,columnNumber:11},this),a.jsxDEV(Se,{value:"roi",className:"space-y-6",children:a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Calculadora de ROI - Compliance LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:261,columnNumber:17},this),a.jsxDEV(te,{children:"Compare os custos de adequao LGPD: AssistJur.IA vs. Consultoria Tradicional"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:262,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:260,columnNumber:15},this),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-destructive",children:"Consultoria Tradicional"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:271,columnNumber:21},this),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"Consultoria inicial:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:276,columnNumber:25},this),a.jsxDEV("span",{className:"font-medium",children:"R$ 25.000"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:277,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:275,columnNumber:23},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"Implementao (6 meses):"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:280,columnNumber:25},this),a.jsxDEV("span",{className:"font-medium",children:"R$ 45.000"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:281,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:279,columnNumber:23},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"Auditoria anual:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:284,columnNumber:25},this),a.jsxDEV("span",{className:"font-medium",children:"R$ 15.000"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:285,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:283,columnNumber:23},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"Manuteno/ano:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:288,columnNumber:25},this),a.jsxDEV("span",{className:"font-medium",children:"R$ 12.000"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:289,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:287,columnNumber:23},this),a.jsxDEV("div",{className:"border-t pt-2",children:a.jsxDEV("div",{className:"flex justify-between text-lg font-bold text-destructive",children:[a.jsxDEV("span",{children:"Total (1 ano):"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:293,columnNumber:27},this),a.jsxDEV("span",{children:"R$ 97.000"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:294,columnNumber:27},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:292,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:291,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:274,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:270,columnNumber:19},this),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("h3",{className:"text-lg font-semibold text-primary",children:"AssistJur.IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:302,columnNumber:21},this),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"Setup inicial:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:307,columnNumber:25},this),a.jsxDEV("span",{className:"font-medium",children:"R$ 0"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:308,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:306,columnNumber:23},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"Implementao (1 semana):"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:311,columnNumber:25},this),a.jsxDEV("span",{className:"font-medium",children:"R$ 2.000"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:312,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:310,columnNumber:23},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"Licena anual:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:315,columnNumber:25},this),a.jsxDEV("span",{className:"font-medium",children:"R$ 24.000"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:316,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:314,columnNumber:23},this),a.jsxDEV("div",{className:"flex justify-between",children:[a.jsxDEV("span",{children:"Suporte includo:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:319,columnNumber:25},this),a.jsxDEV("span",{className:"font-medium",children:"R$ 0"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:320,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:318,columnNumber:23},this),a.jsxDEV("div",{className:"border-t pt-2",children:a.jsxDEV("div",{className:"flex justify-between text-lg font-bold text-primary",children:[a.jsxDEV("span",{children:"Total (1 ano):"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:324,columnNumber:27},this),a.jsxDEV("span",{children:"R$ 26.000"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:325,columnNumber:27},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:323,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:322,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:305,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:268,columnNumber:17},this),a.jsxDEV("div",{className:"mt-8 p-6 bg-primary/5 rounded-lg border border-primary/20",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-3xl font-bold text-primary mb-2",children:"R$ 71.000 de economia"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:335,columnNumber:21},this),a.jsxDEV("div",{className:"text-lg text-muted-foreground",children:"73% menos custos no primeiro ano"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:338,columnNumber:21},this),a.jsxDEV("div",{className:"mt-4 text-sm text-muted-foreground",children:"+ 90% menos tempo de implementao + Compliance automtica 24/7"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:341,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:334,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:333,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:267,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:259,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:258,columnNumber:11},this),a.jsxDEV(Se,{value:"cases",className:"space-y-6",children:[a.jsxDEV("div",{className:"grid gap-6",children:s.map((t,n)=>a.jsxDEV(O,{className:"border-l-4 border-l-accent",children:a.jsxDEV($,{className:"pt-6",children:a.jsxDEV("div",{className:"flex items-start gap-4",children:[a.jsxDEV("div",{className:"p-2 bg-accent/10 rounded-full",children:a.jsxDEV(Vn,{className:"w-5 h-5 text-accent"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:359,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:358,columnNumber:23},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("blockquote",{className:"text-lg italic mb-4",children:['"',t.quote,'"']},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:362,columnNumber:25},this),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold",children:t.name},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:367,columnNumber:29},this),a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:t.role},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:370,columnNumber:29},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:366,columnNumber:27},this),a.jsxDEV(H,{variant:"outline",className:"bg-primary/10",children:t.compliance},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:374,columnNumber:27},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:365,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:361,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:357,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:356,columnNumber:19},this)},n,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:355,columnNumber:17},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:353,columnNumber:13},this),a.jsxDEV(O,{className:"bg-gradient-to-r from-primary to-accent text-white",children:a.jsxDEV($,{className:"pt-6",children:a.jsxDEV("div",{className:"text-center space-y-4",children:[a.jsxDEV("h3",{className:"text-2xl font-bold",children:"Pronto para 85% de Compliance Automatizada?"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:389,columnNumber:19},this),a.jsxDEV("p",{className:"text-lg opacity-90",children:"Junte-se aos escritrios que j economizam 70% em adequao LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:392,columnNumber:19},this),a.jsxDEV("div",{className:"flex gap-4 justify-center",children:[a.jsxDEV(I,{variant:"secondary",size:"lg",children:"Demonstrao Gratuita"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:397,columnNumber:21},this),a.jsxDEV(I,{variant:"outline",size:"lg",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:"Falar com Especialista"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:400,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:396,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:388,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:387,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:386,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:352,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:121,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:107,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/MarketingCompliance.tsx",lineNumber:106,columnNumber:5},this)}const iL=Object.freeze(Object.defineProperty({__proto__:null,MarketingCompliance:kh,default:kh},Symbol.toStringTag,{value:"Module"}));function y8(){const{user:e}=dr(),[r,s]=S.useState([]),[t,n]=S.useState([]),[i,o]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{u()},[]);const u=async()=>{o(!0);try{const{data:h,error:b}=await se.from("retention_policies").select("*").order("table_name");b?(console.error("Error fetching policies:",b),Fe.error("Erro ao carregar polticas de reteno")):s(h||[]);const{data:v,error:j}=await se.from("cleanup_logs").select("*").order("started_at",{ascending:!1}).limit(50);j?console.error("Error fetching logs:",j):n(v||[])}catch(h){console.error("Error fetching data:",h),Fe.error("Erro ao carregar dados")}finally{o(!1)}},m=async(h,b)=>{try{const{error:v}=await se.from("retention_policies").update(b).eq("id",h);if(v)throw v;Fe.success("Poltica atualizada com sucesso"),u()}catch(v){console.error("Error updating policy:",v),Fe.error("Erro ao atualizar poltica")}},d=async h=>{c(h);try{const{data:b,error:v}=await se.functions.invoke("data-retention",{body:{action:"execute_cleanup",policyId:h}});if(v)throw v;Fe.success(`Limpeza executada: ${b.result.records_affected} registros afetados`),u()}catch(b){console.error("Error executing cleanup:",b),Fe.error("Erro ao executar limpeza")}finally{c(null)}},f=async()=>{c("batch");try{const{data:h,error:b}=await se.functions.invoke("data-retention",{body:{action:"batch_cleanup",orgId:e?.user_metadata?.organization_id}});if(b)throw b;Fe.success(`Limpeza em lote executada: ${h.processed} polticas processadas`),u()}catch(h){console.error("Error executing batch cleanup:",h),Fe.error("Erro ao executar limpeza em lote")}finally{c(null)}},p=h=>({processos:"Processos",audit_logs:"Logs de Auditoria",openai_logs:"Logs OpenAI",data_access_logs:"Logs de Acesso",lgpd_requests:"Solicitaes LGPD"})[h]||h,N=h=>{switch(h){case"COMPLETED":return a.jsxDEV(H,{className:"bg-success",children:[a.jsxDEV(Te,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:182,columnNumber:13},this),"Concludo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:181,columnNumber:11},this);case"FAILED":return a.jsxDEV(H,{variant:"destructive",children:[a.jsxDEV(mr,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:189,columnNumber:13},this),"Falhou"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:188,columnNumber:11},this);case"STARTED":return a.jsxDEV(H,{variant:"secondary",children:[a.jsxDEV(fs,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:196,columnNumber:13},this),"Iniciado"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:195,columnNumber:11},this);default:return a.jsxDEV(H,{variant:"outline",children:h},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:201,columnNumber:16},this)}};return i?a.jsxDEV("div",{className:"flex items-center justify-center h-96",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV(ds,{className:"h-12 w-12 mx-auto mb-4 animate-pulse text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:209,columnNumber:11},this),a.jsxDEV("p",{children:"Carregando polticas de reteno..."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:208,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:207,columnNumber:7},this):a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsxDEV(ds,{className:"h-8 w-8 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:222,columnNumber:13},this),"Reteno de Dados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:221,columnNumber:11},this),a.jsxDEV("p",{className:"text-muted-foreground",children:"Gesto automatizada de polticas de reteno LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:225,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:220,columnNumber:9},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(I,{onClick:f,disabled:l==="batch",variant:"outline",children:[a.jsxDEV(Wa,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:235,columnNumber:13},this),l==="batch"?"Executando...":"Limpeza em Lote"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:230,columnNumber:11},this),a.jsxDEV(I,{onClick:u,variant:"outline",children:"Atualizar"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:238,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:229,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:219,columnNumber:7},this),a.jsxDEV(Le,{children:[a.jsxDEV(Mr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:246,columnNumber:9},this),a.jsxDEV(Be,{children:[a.jsxDEV("strong",{children:"Compliance LGPD:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:248,columnNumber:11},this)," As polticas de reteno automatizada garantem o descarte seguro de dados aps o prazo legal necessrio, conforme Art. 6, VII da LGPD."]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:247,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:245,columnNumber:7},this),a.jsxDEV(xs,{defaultValue:"policies",className:"space-y-4",children:[a.jsxDEV(gs,{children:[a.jsxDEV(ye,{value:"policies",children:"Polticas de Reteno"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:256,columnNumber:11},this),a.jsxDEV(ye,{value:"logs",children:"Histrico de Limpezas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:257,columnNumber:11},this),a.jsxDEV(ye,{value:"settings",children:"Configuraes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:258,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:255,columnNumber:9},this),a.jsxDEV(Se,{value:"policies",className:"space-y-4",children:a.jsxDEV("div",{className:"grid gap-4",children:r.map(h=>a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV(z,{className:"text-lg",children:p(h.table_name)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:268,columnNumber:23},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Reteno: ",h.retention_months," meses"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:271,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:267,columnNumber:21},this),a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"text-sm",children:"Auto-limpeza:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:277,columnNumber:25},this),a.jsxDEV(An,{checked:h.auto_cleanup,onCheckedChange:b=>m(h.id,{auto_cleanup:b})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:278,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:276,columnNumber:23},this),a.jsxDEV(I,{size:"sm",onClick:()=>d(h.id),disabled:l===h.id,variant:"outline",children:[a.jsxDEV(mt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:293,columnNumber:25},this),l===h.id?"Executando...":"Executar Limpeza"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:287,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:275,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:266,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:265,columnNumber:17},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-sm font-medium",children:"Reteno (meses):"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:304,columnNumber:23},this),a.jsxDEV(Oe,{type:"number",value:h.retention_months,onChange:b=>m(h.id,{retention_months:parseInt(b.target.value)}),className:"mt-1",min:"1",max:"120"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:307,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:303,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-sm font-medium",children:"ltima Limpeza:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:321,columnNumber:23},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:h.last_cleanup_at?new Date(h.last_cleanup_at).toLocaleString("pt-BR"):"Nunca executada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:324,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:320,columnNumber:21},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-sm font-medium",children:"Prxima Limpeza:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:333,columnNumber:23},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:h.next_cleanup_at?new Date(h.next_cleanup_at).toLocaleString("pt-BR"):"No agendada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:336,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:332,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:302,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:301,columnNumber:17},this)]},h.id,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:264,columnNumber:15},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:262,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:261,columnNumber:9},this),a.jsxDEV(Se,{value:"logs",className:"space-y-4",children:a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Histrico de Limpezas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:354,columnNumber:15},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Registro das execues de polticas de reteno"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:355,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:353,columnNumber:13},this),a.jsxDEV($,{children:a.jsxDEV("div",{className:"space-y-4",children:t.length===0?a.jsxDEV("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma limpeza executada ainda"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:362,columnNumber:19},this):t.map(h=>a.jsxDEV("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV("span",{className:"font-medium",children:p(h.table_name)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:373,columnNumber:27},this),N(h.status)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:372,columnNumber:25},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[h.records_affected," registros afetados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:378,columnNumber:25},this),h.error_message&&a.jsxDEV("p",{className:"text-sm text-destructive",children:["Erro: ",h.error_message]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:382,columnNumber:27},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:371,columnNumber:23},this),a.jsxDEV("div",{className:"text-right text-sm text-muted-foreground",children:[a.jsxDEV("div",{children:["Iniciado:"," ",new Date(h.started_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:388,columnNumber:25},this),h.completed_at&&a.jsxDEV("div",{children:["Concludo:"," ",new Date(h.completed_at).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:393,columnNumber:27},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:387,columnNumber:23},this)]},h.id,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:367,columnNumber:21},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:360,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:359,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:352,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:351,columnNumber:9},this),a.jsxDEV(Se,{value:"settings",className:"space-y-4",children:a.jsxDEV("div",{className:"grid gap-6",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Configuraes Globais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:411,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:410,columnNumber:15},this),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("h4",{className:"font-medium",children:"Perodos de Reteno Padro"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:415,columnNumber:19},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxDEV("div",{children:"Processos: 60 meses (5 anos)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:417,columnNumber:21},this),a.jsxDEV("div",{children:"Logs de Auditoria: 24 meses"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:418,columnNumber:21},this),a.jsxDEV("div",{children:"Logs OpenAI: 12 meses"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:419,columnNumber:21},this),a.jsxDEV("div",{children:"Logs de Acesso: 24 meses"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:420,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:416,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:414,columnNumber:17},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("h4",{className:"font-medium",children:"Frequncia de Execuo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:425,columnNumber:19},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Polticas com auto-limpeza habilitada so executadas mensalmente"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:426,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:424,columnNumber:17},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("h4",{className:"font-medium",children:"Segurana"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:433,columnNumber:19},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Dados crticos (processos ativos) so protegidos contra excluso acidental. Logs de auditoria so mantidos para compliance regulatrio."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:434,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:432,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:413,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:409,columnNumber:13},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Compliance e Regulamentao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:445,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:444,columnNumber:15},this),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV(Le,{children:[a.jsxDEV(Gr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:449,columnNumber:19},this),a.jsxDEV(Be,{children:[a.jsxDEV("strong",{children:"Base Legal LGPD:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:451,columnNumber:21},this),' Art. 6, VII - "no conservao dos dados pessoais por tempo superior ao necessrio para o alcance das finalidades para as quais foram coletados"']},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:450,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:448,columnNumber:17},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("h4",{className:"font-medium",children:"Critrios de Reteno"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:459,columnNumber:19},this),a.jsxDEV("ul",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsxDEV("li",{children:" Processos: Mantidos enquanto tramitam + 5 anos (prescrio)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:461,columnNumber:21},this),a.jsxDEV("li",{children:" Logs de Auditoria: 2 anos para investigaes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:465,columnNumber:21},this),a.jsxDEV("li",{children:" Dados de IA: 1 ano para melhorias do servio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:466,columnNumber:21},this),a.jsxDEV("li",{children:" Solicitaes LGPD: 3 anos para evidncia de compliance"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:467,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:460,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:458,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:447,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:443,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:408,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:407,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:254,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/DataRetention.tsx",lineNumber:217,columnNumber:5},this)}const oL=Object.freeze(Object.defineProperty({__proto__:null,default:y8},Symbol.toStringTag,{value:"Module"})),w8=()=>{const{profile:e}=dr(),r=vo(),{data:s,isLoading:t}=Ms({queryKey:["org-settings",e?.organization_id],queryFn:async()=>{const{data:l,error:c}=await se.from("org_settings").select("*").eq("org_id",e?.organization_id).single();if(c&&c.code!=="PGRST116")throw c;return l},enabled:!!e?.organization_id}),{data:n}=Ms({queryKey:["usage-stats",e?.organization_id],queryFn:async()=>{const{data:l,error:c}=await se.from("openai_logs").select("*").eq("org_id",e?.organization_id).gte("created_at",new Date(Date.now()-864e5).toISOString()).order("created_at",{ascending:!1});if(c)throw c;const u=l?.reduce((d,f)=>d+(f.cost_cents||0),0)||0,m=l?.length?l.reduce((d,f)=>d+(f.duration_ms||0),0)/l.length:0;return{requests24h:l?.length||0,cost24h:u,avgLatency:Math.round(m),activeModel:s?.model||"gpt-4o-mini"}},enabled:!!e?.organization_id&&!!s}),i=ts({mutationFn:async l=>{const{data:c,error:u}=await se.functions.invoke("admin-openai-settings",{body:{action:"toggle",enabled:l}});if(u)throw u;return c},onSuccess:()=>{r.invalidateQueries({queryKey:["org-settings"]}),fe({title:"Configurao atualizada",description:"Integrao OpenAI foi alterada com sucesso."})},onError:l=>{fe({title:"Erro",description:l.message||"Falha ao alterar configurao",variant:"destructive"})}});if(t)return a.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:104,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:103,columnNumber:7},void 0);const o=s?.openai_enabled||!1;return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold",children:"Integrao OpenAI"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:116,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Gere anlises inteligentes com IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:117,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:115,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex items-center space-x-4",children:[a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:o?"Ativo":"Desativado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:122,columnNumber:11},void 0),a.jsxDEV(An,{checked:o,onCheckedChange:l=>i.mutate(l),disabled:i.isPending},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:125,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:121,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:114,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Status da API"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:137,columnNumber:13},void 0),a.jsxDEV($a,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:138,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:136,columnNumber:11},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"flex items-center space-x-2",children:a.jsxDEV(H,{variant:o?"default":"secondary",children:o?"Ativa":"Desativada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:142,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:141,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:o?"A API da OpenAI est ativa para esta organizao.":"Integrao desativada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:146,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:140,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:135,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Modelo Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:156,columnNumber:13},void 0),a.jsxDEV(fi,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:157,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:155,columnNumber:11},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:n?.activeModel||"N/A"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:160,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["Latncia mdia: ",n?.avgLatency||0,"ms"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:163,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:159,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:154,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Uso 24h"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:171,columnNumber:13},void 0),a.jsxDEV($a,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:172,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:170,columnNumber:11},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:n?.requests24h||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:175,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"requisies nas ltimas 24h"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:178,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:174,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:169,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxDEV(z,{className:"text-sm font-medium",children:"Custo 24h"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:186,columnNumber:13},void 0),a.jsxDEV(bo,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:185,columnNumber:11},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"text-2xl font-bold",children:["$",((n?.cost24h||0)/100).toFixed(2)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:190,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"estimado das ltimas 24h"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:193,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:184,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:134,columnNumber:7},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Aes Rpidas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:203,columnNumber:11},void 0),a.jsxDEV(te,{children:"Configure e monitore sua integrao OpenAI"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:204,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:202,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxDEV(I,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:a.jsxDEV("a",{href:"/admin/ia/chaves",children:[a.jsxDEV(di,{className:"h-6 w-6 mb-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:212,columnNumber:17},void 0),"Gerenciar Chaves"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:211,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:210,columnNumber:13},void 0),a.jsxDEV(I,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:a.jsxDEV("a",{href:"/admin/ia/modelos",children:[a.jsxDEV(fi,{className:"h-6 w-6 mb-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:219,columnNumber:17},void 0),"Configurar Modelos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:218,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:217,columnNumber:13},void 0),a.jsxDEV(I,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:a.jsxDEV("a",{href:"/admin/ia/prompt-studio",children:[a.jsxDEV(di,{className:"h-6 w-6 mb-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:226,columnNumber:17},void 0),"Prompt Studio"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:225,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:224,columnNumber:13},void 0),a.jsxDEV(I,{variant:"outline",className:"h-20 flex-col",asChild:!0,children:a.jsxDEV("a",{href:"/admin/ia/testes",children:[a.jsxDEV($a,{className:"h-6 w-6 mb-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:233,columnNumber:17},void 0),"Playground"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:232,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:231,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:209,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:208,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:201,columnNumber:7},void 0),!o&&a.jsxDEV(O,{className:"border-orange-200 bg-orange-50",children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"text-orange-800",children:"Configurao Necessria"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:244,columnNumber:13},void 0),a.jsxDEV(te,{className:"text-orange-700",children:"Para usar a integrao OpenAI, voc precisa:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:247,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:243,columnNumber:11},void 0),a.jsxDEV($,{className:"text-orange-700",children:a.jsxDEV("ol",{className:"list-decimal list-inside space-y-2",children:[a.jsxDEV("li",{children:["Adicionar uma chave API vlida em"," ",a.jsxDEV("strong",{children:"Gerenciar Chaves"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:255,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:253,columnNumber:15},void 0),a.jsxDEV("li",{children:["Configurar o modelo desejado em"," ",a.jsxDEV("strong",{children:"Configurar Modelos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:259,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:257,columnNumber:15},void 0),a.jsxDEV("li",{children:"Ativar a integrao usando o switch acima"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:261,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:252,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:251,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:242,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/OpenAI.tsx",lineNumber:112,columnNumber:5},void 0)},lL=Object.freeze(Object.defineProperty({__proto__:null,default:w8},Symbol.toStringTag,{value:"Module"})),D8=()=>{const{profile:e}=dr(),r=vo(),[s,t]=S.useState(!1),[n,i]=S.useState(!1),[o,l]=S.useState({alias:"",key:"",notes:""}),[c,u]=S.useState(null),{data:m,isLoading:d}=Ms({queryKey:["openai-keys",e?.organization_id],queryFn:async()=>{const{data:v,error:j}=await se.from("openai_keys").select("*").eq("org_id",e?.organization_id).order("created_at",{ascending:!1});if(j)throw j;return v||[]},enabled:!!e?.organization_id}),f=ts({mutationFn:async v=>{try{const{data:{session:j},error:w}=await se.auth.getSession();if(w)throw new Error("Falha na autenticao: "+w.message);let D=j;if(!D||!D.access_token){const{data:{session:x}}=await se.auth.refreshSession();if(!x)throw new Error("Sesso expirada. Faa login novamente.");D=x}const g=await se.functions.invoke("admin-openai-keys",{body:{action:"create",alias:v.alias,key:v.key,notes:v.notes},headers:{Authorization:`Bearer ${D.access_token}`}});if(g.error)throw new Error(`Erro na funo: ${g.error.message||g.error}`);if(!g.data)throw new Error("Nenhum dado retornado da funo");return g.data}catch(j){throw new Error(`Falha ao salvar chave: ${j instanceof Error?j.message:String(j)}`)}},onSuccess:()=>{r.invalidateQueries({queryKey:["openai-keys"]}),t(!1),l({alias:"",key:"",notes:""}),fe({title:"Chave adicionada",description:"Chave API foi salva com sucesso."})},onError:v=>{fe({title:"Erro",description:"Falha ao salvar chave: "+v.message,variant:"destructive"})}}),p=ts({mutationFn:async v=>{const{data:j,error:w}=await se.functions.invoke("admin-openai-keys",{body:{action:"test",keyId:v}});if(w)throw w;return j},onSuccess:v=>{u(null),fe({title:v.valid?"Chave vlida":"Chave invlida",description:v.valid?"Conexo com OpenAI estabelecida com sucesso.":"Chave invlida (401). Verifique ou rotacione a credencial.",variant:v.valid?"default":"destructive"})},onError:v=>{u(null),fe({title:"Erro no teste",description:"Falha ao testar chave: "+v.message,variant:"destructive"})}}),N=ts({mutationFn:async v=>{const{error:j}=await se.functions.invoke("admin-openai-keys",{body:{action:"rotate",keyId:v}});if(j)throw j},onSuccess:()=>{r.invalidateQueries({queryKey:["openai-keys"]}),fe({title:"Chave rotacionada",description:"Nova chave foi gerada e salva."})},onError:v=>{fe({title:"Erro",description:"Falha ao rotacionar chave: "+v.message,variant:"destructive"})}}),h=ts({mutationFn:async v=>{const{error:j}=await se.functions.invoke("admin-openai-keys",{body:{action:"delete",keyId:v}});if(j)throw j},onSuccess:()=>{r.invalidateQueries({queryKey:["openai-keys"]}),fe({title:"Chave removida",description:"Chave API foi removida com sucesso."})},onError:v=>{fe({title:"Erro",description:"Falha ao remover chave: "+v.message,variant:"destructive"})}}),b=v=>{u(v),p.mutate(v)};return d?a.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:259,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:258,columnNumber:7},void 0):a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold",children:"Gerenciar Chaves OpenAI"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:269,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Configure e monitore suas chaves da API OpenAI"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:270,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:268,columnNumber:9},void 0),a.jsxDEV(dt,{open:s,onOpenChange:t,children:[a.jsxDEV(yu,{asChild:!0,children:a.jsxDEV(I,{children:[a.jsxDEV(fu,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:278,columnNumber:15},void 0),"Adicionar Chave"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:277,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:276,columnNumber:11},void 0),a.jsxDEV(ft,{children:[a.jsxDEV(ls,{children:[a.jsxDEV(cs,{children:"Adicionar Nova Chave API"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:284,columnNumber:15},void 0),a.jsxDEV(Pn,{children:"As chaves so armazenadas apenas no servidor. Nunca exibimos o valor completo."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:285,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:283,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{children:[a.jsxDEV(ce,{htmlFor:"alias",children:"Nome/Apelido"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:293,columnNumber:17},void 0),a.jsxDEV(Oe,{id:"alias",placeholder:"Ex: Chave Principal",value:o.alias,onChange:v=>l({...o,alias:v.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:294,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:292,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV(ce,{htmlFor:"key",children:"Chave API"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:305,columnNumber:17},void 0),a.jsxDEV("div",{className:"relative",children:[a.jsxDEV(Oe,{id:"key",type:n?"text":"password",placeholder:"sk-...",value:o.key,onChange:v=>l({...o,key:v.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:307,columnNumber:19},void 0),a.jsxDEV(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>i(!n),children:n?a.jsxDEV(Ah,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:324,columnNumber:23},void 0):a.jsxDEV(Sr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:326,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:316,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:306,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:304,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV(ce,{htmlFor:"notes",children:"Notas (opcional)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:333,columnNumber:17},void 0),a.jsxDEV(Lh,{id:"notes",placeholder:"Descrio ou notas sobre esta chave...",value:o.notes,onChange:v=>l({...o,notes:v.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:334,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:332,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:291,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex justify-end space-x-2",children:[a.jsxDEV(I,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:346,columnNumber:15},void 0),a.jsxDEV(I,{onClick:()=>{!o.alias||!o.key||f.mutate(o)},disabled:!o.alias||!o.key||f.isPending,children:f.isPending?"Salvando...":"Salvar Chave"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:352,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:345,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:282,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:275,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:267,columnNumber:7},void 0),a.jsxDEV(O,{className:"border-blue-200 bg-blue-50",children:a.jsxDEV($,{className:"pt-6",children:a.jsxDEV("div",{className:"flex items-start space-x-3",children:[a.jsxDEV(_m,{className:"h-5 w-5 text-blue-600 mt-0.5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:375,columnNumber:13},void 0),a.jsxDEV("div",{className:"text-blue-800 text-sm",children:[a.jsxDEV("p",{className:"font-medium mb-1",children:"Segurana das Chaves"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:377,columnNumber:15},void 0),a.jsxDEV("p",{children:"As chaves so armazenadas criptografadas no servidor e nunca expostas no cliente. Apenas os ltimos 4 dgitos so exibidos para identificao."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:378,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:376,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:374,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:373,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:372,columnNumber:7},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Chaves Cadastradas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:391,columnNumber:11},void 0),a.jsxDEV(te,{children:[m?.length||0," chave(s) configurada(s)"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:392,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:390,columnNumber:9},void 0),a.jsxDEV($,{children:m?.length?a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{children:[a.jsxDEV(Q,{children:"Nome"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:409,columnNumber:19},void 0),a.jsxDEV(Q,{children:"Chave"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:410,columnNumber:19},void 0),a.jsxDEV(Q,{children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:411,columnNumber:19},void 0),a.jsxDEV(Q,{children:"ltimo Uso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:412,columnNumber:19},void 0),a.jsxDEV(Q,{children:"Criado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:413,columnNumber:19},void 0),a.jsxDEV(Q,{className:"text-right",children:"Aes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:414,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:408,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:407,columnNumber:15},void 0),a.jsxDEV(Ir,{children:m.map(v=>a.jsxDEV(we,{children:[a.jsxDEV(X,{className:"font-medium",children:v.alias},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:420,columnNumber:21},void 0),a.jsxDEV(X,{className:"font-mono",children:["***",v.last_four]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:421,columnNumber:21},void 0),a.jsxDEV(X,{children:a.jsxDEV(H,{variant:v.is_active?"default":"secondary",children:v.is_active?"Ativa":"Inativa"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:425,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:424,columnNumber:21},void 0),a.jsxDEV(X,{children:v.last_used_at?_t(new Date(v.last_used_at),"dd/MM/yyyy HH:mm",{locale:Ga}):"Nunca"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:429,columnNumber:21},void 0),a.jsxDEV(X,{children:_t(new Date(v.created_at),"dd/MM/yyyy",{locale:Ga})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:438,columnNumber:21},void 0),a.jsxDEV(X,{className:"text-right",children:a.jsxDEV("div",{className:"flex justify-end space-x-2",children:[a.jsxDEV(I,{variant:"outline",size:"sm",onClick:()=>b(v.id),disabled:c===v.id,children:c===v.id?a.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:452,columnNumber:29},void 0):a.jsxDEV(ag,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:454,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:445,columnNumber:25},void 0),a.jsxDEV(I,{variant:"outline",size:"sm",onClick:()=>N.mutate(v.id),disabled:N.isPending,children:a.jsxDEV(ng,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:464,columnNumber:27},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:458,columnNumber:25},void 0),a.jsxDEV(hu,{children:[a.jsxDEV(Rh,{asChild:!0,children:a.jsxDEV(I,{variant:"outline",size:"sm",children:a.jsxDEV(mt,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:470,columnNumber:31},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:469,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:468,columnNumber:27},void 0),a.jsxDEV(Nu,{children:[a.jsxDEV(bu,{children:[a.jsxDEV(vu,{children:"Remover Chave"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:475,columnNumber:31},void 0),a.jsxDEV(xu,{children:['Tem certeza que deseja remover a chave "',v.alias,'"? Esta ao no pode ser desfeita.']},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:476,columnNumber:31},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:474,columnNumber:29},void 0),a.jsxDEV(gu,{children:[a.jsxDEV(ju,{children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:482,columnNumber:31},void 0),a.jsxDEV(hi,{onClick:()=>h.mutate(v.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:483,columnNumber:31},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:481,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:473,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:467,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:444,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:443,columnNumber:21},void 0)]},v.id,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:419,columnNumber:19},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:417,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:406,columnNumber:13},void 0):a.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsxDEV(_m,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:399,columnNumber:15},void 0),a.jsxDEV("p",{children:"Nenhuma chave API configurada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:400,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-sm",children:"Adicione uma chave para comear a usar a integrao OpenAI"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:401,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:398,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:396,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:389,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Keys.tsx",lineNumber:265,columnNumber:5},void 0)},cL=Object.freeze(Object.defineProperty({__proto__:null,default:D8},Symbol.toStringTag,{value:"Module"})),ai=[{id:"gpt-5-2025-08-07",name:"GPT-5",description:"Modelo mais avanado e inteligente",costPer1k:.15,speed:"Rpido",category:"flagship"},{id:"gpt-5-mini-2025-08-07",name:"GPT-5 Mini",description:"Verso otimizada do GPT-5",costPer1k:.08,speed:"Muito Rpido",category:"flagship"},{id:"gpt-4.1-2025-04-14",name:"GPT-4.1",description:"Modelo confivel para resultados consistentes",costPer1k:.1,speed:"Rpido",category:"reliable"},{id:"o3-2025-04-16",name:"O3",description:"Modelo de raciocnio para problemas complexos",costPer1k:.25,speed:"Lento",category:"reasoning"},{id:"gpt-4o-mini",name:"GPT-4o Mini",description:"Modelo legado rpido e econmico",costPer1k:.02,speed:"Muito Rpido",category:"legacy"}],E8=()=>{const{profile:e}=dr(),r=vo(),[s,t]=S.useState({model:"gpt-4o-mini",fallback:[],temperature:.7,top_p:.9,max_output_tokens:2e3,streaming:!1,rate_per_min:60,budget_month_cents:1e4}),{data:n,isLoading:i}=Ms({queryKey:["org-settings",e?.organization_id],queryFn:async()=>{const{data:u,error:m}=await se.from("org_settings").select("*").eq("org_id",e?.organization_id).single();if(m&&m.code!=="PGRST116")throw m;return u},enabled:!!e?.organization_id});V.useEffect(()=>{n&&t({model:n.model,fallback:n.fallback||[],temperature:n.temperature,top_p:n.top_p,max_output_tokens:n.max_output_tokens,streaming:n.streaming,rate_per_min:n.rate_per_min,budget_month_cents:n.budget_month_cents})},[n]);const o=ts({mutationFn:async u=>{const{error:m}=await se.functions.invoke("admin-openai-settings",{body:{action:"update_models",settings:u,org_id:e?.organization_id}});if(m)throw m},onSuccess:()=>{r.invalidateQueries({queryKey:["org-settings"]}),fe({title:"Configuraes salvas",description:"Modelos e parmetros foram atualizados."})},onError:u=>{fe({title:"Erro",description:"Falha ao salvar: "+u.message,variant:"destructive"})}}),l=()=>{o.mutate(s)},c=ai.find(u=>u.id===s.model);return i?a.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:157,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:156,columnNumber:7},void 0):a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold",children:"Configurar Modelos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:167,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Selecione modelos, configure parmetros e defina limites"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:168,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:166,columnNumber:9},void 0),a.jsxDEV(I,{onClick:l,disabled:o.isPending,children:o.isPending?"Salvando...":"Salvar Configuraes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:172,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:165,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center space-x-2",children:[a.jsxDEV(Ca,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:184,columnNumber:15},void 0),a.jsxDEV("span",{children:"Seleo de Modelo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:185,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:183,columnNumber:13},void 0),a.jsxDEV(te,{children:"Escolha o modelo principal e fallbacks"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:187,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:182,columnNumber:11},void 0),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Modelo Principal"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:193,columnNumber:15},void 0),a.jsxDEV(rr,{value:s.model,onValueChange:u=>t({...s,model:u}),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:201,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:200,columnNumber:17},void 0),a.jsxDEV(ar,{children:ai.map(u=>a.jsxDEV(ue,{value:u.id,children:a.jsxDEV("div",{className:"flex items-center justify-between w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-medium",children:u.name},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:208,columnNumber:27},void 0),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:u.description},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:209,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:207,columnNumber:25},void 0),a.jsxDEV(H,{variant:"outline",className:"ml-2",children:["$",u.costPer1k,"/1k"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:213,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:206,columnNumber:23},void 0)},u.id,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:205,columnNumber:21},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:203,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:194,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:192,columnNumber:13},void 0),c&&a.jsxDEV("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[a.jsxDEV("div",{className:"flex items-center space-x-1",children:[a.jsxDEV(bo,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:227,columnNumber:21},void 0),a.jsxDEV("span",{children:["$",c.costPer1k,"/1k tokens"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:228,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:226,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex items-center space-x-1",children:[a.jsxDEV(fs,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:231,columnNumber:21},void 0),a.jsxDEV("span",{children:c.speed},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:232,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:230,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex items-center space-x-1",children:[a.jsxDEV(fi,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:235,columnNumber:21},void 0),a.jsxDEV("span",{className:"capitalize",children:c.category},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:236,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:234,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:225,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:c.description},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:224,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Modelos de Fallback (ordem de prioridade)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:246,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-2 mt-2",children:[s.fallback.map((u,m)=>a.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[a.jsxDEV("span",{children:ai.find(d=>d.id===u)?.name||u},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:253,columnNumber:21},void 0),a.jsxDEV(I,{variant:"ghost",size:"sm",onClick:()=>{const d=[...s.fallback];d.splice(m,1),t({...s,fallback:d})},children:"Remover"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:257,columnNumber:21},void 0)]},m,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:249,columnNumber:19},void 0)),a.jsxDEV(rr,{onValueChange:u=>{!s.fallback.includes(u)&&u!==s.model&&t({...s,fallback:[...s.fallback,u]})},children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{placeholder:"Adicionar fallback"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:284,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:283,columnNumber:19},void 0),a.jsxDEV(ar,{children:ai.filter(u=>u.id!==s.model&&!s.fallback.includes(u.id)).map(u=>a.jsxDEV(ue,{value:u.id,children:u.name},u.id,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:292,columnNumber:23},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:286,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:270,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:247,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:245,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:191,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:181,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center space-x-2",children:[a.jsxDEV(di,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:307,columnNumber:15},void 0),a.jsxDEV("span",{children:"Parmetros do Modelo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:308,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:306,columnNumber:13},void 0),a.jsxDEV(te,{children:"Configure a personalidade e comportamento da IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:310,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:305,columnNumber:11},void 0),a.jsxDEV($,{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[a.jsxDEV(ce,{children:"Temperature"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:317,columnNumber:17},void 0),a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:s.temperature},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:318,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:316,columnNumber:15},void 0),a.jsxDEV(Br,{value:[s.temperature],onValueChange:([u])=>t({...s,temperature:u}),max:2,min:0,step:.1,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:322,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"0 = mais determinstico, 2 = mais criativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:332,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:315,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[a.jsxDEV(ce,{children:"Top P"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:339,columnNumber:17},void 0),a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:s.top_p},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:340,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:338,columnNumber:15},void 0),a.jsxDEV(Br,{value:[s.top_p],onValueChange:([u])=>t({...s,top_p:u}),max:1,min:0,step:.1,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:344,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Controla a diversidade da resposta"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:354,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:337,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV(ce,{htmlFor:"max_tokens",children:"Mximo de Tokens na Resposta"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:360,columnNumber:15},void 0),a.jsxDEV(Oe,{id:"max_tokens",type:"number",value:s.max_output_tokens,onChange:u=>t({...s,max_output_tokens:parseInt(u.target.value)||2e3}),min:100,max:4e3},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:361,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Limita o tamanho da resposta (100-4000)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:374,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:359,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Streaming"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:381,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Resposta em tempo real"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:382,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:380,columnNumber:15},void 0),a.jsxDEV(An,{checked:s.streaming,onCheckedChange:u=>t({...s,streaming:u})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:386,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:379,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:314,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:304,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:179,columnNumber:7},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Limites e Oramento"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:400,columnNumber:11},void 0),a.jsxDEV(te,{children:"Configure rate limiting e controles de custo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:401,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:399,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxDEV("div",{children:[a.jsxDEV(ce,{htmlFor:"rate_limit",children:"Rate Limit (requisies/minuto)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:408,columnNumber:15},void 0),a.jsxDEV(Oe,{id:"rate_limit",type:"number",value:s.rate_per_min,onChange:u=>t({...s,rate_per_min:parseInt(u.target.value)||60}),min:1,max:1e3},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:411,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Limite de requisies por minuto por usurio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:424,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:407,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV(ce,{htmlFor:"budget",children:"Oramento Mensal (centavos USD)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:430,columnNumber:15},void 0),a.jsxDEV(Oe,{id:"budget",type:"number",value:s.budget_month_cents,onChange:u=>t({...s,budget_month_cents:parseInt(u.target.value)||1e4}),min:100},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:431,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:["Limite de gasto mensal em centavos ($",(s.budget_month_cents/100).toFixed(2),")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:443,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:429,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:406,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:405,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:398,columnNumber:7},void 0),a.jsxDEV(O,{className:"border-blue-200 bg-blue-50",children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-blue-800",children:"Guia de Modelos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:455,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:454,columnNumber:9},void 0),a.jsxDEV($,{className:"text-blue-700 space-y-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"GPT-5:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:459,columnNumber:13},void 0)," Use para casos que exigem mxima inteligncia e raciocnio complexo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:458,columnNumber:11},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"GPT-5 Mini:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:463,columnNumber:13},void 0)," Ideal para a maioria dos casos, balanceando qualidade e velocidade"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:462,columnNumber:11},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"GPT-4.1:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:467,columnNumber:13},void 0)," Confivel para resultados consistentes e bem testados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:466,columnNumber:11},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"O3:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:471,columnNumber:13},void 0)," Especificamente para problemas que requerem raciocnio profundo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:470,columnNumber:11},void 0),a.jsxDEV("div",{children:[a.jsxDEV("strong",{children:"GPT-4o Mini:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:475,columnNumber:13},void 0)," Para casos simples onde velocidade e custo so prioridade"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:474,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:457,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:453,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Models.tsx",lineNumber:163,columnNumber:5},void 0)},uL=Object.freeze(Object.defineProperty({__proto__:null,default:E8},Symbol.toStringTag,{value:"Module"})),Rl=[{id:"processo",name:"Processo (CNJ)",description:"Consultas por nmero de processo"},{id:"testemunha",name:"Testemunha (Nome)",description:"Consultas por nome de testemunha"},{id:"general",name:"Padres Gerais",description:"Consultas gerais na base"}],Mx=["Basear exclusivamente nos dados da planilha fornecida","No inventar ou inferir dados no presentes na base","Sempre mascarar nmeros de CPF no formato XXX.XXX.XXX-XX",'Responder "no consta na base fornecida" quando dados no esto disponveis',"Incluir rodap obrigatrio sobre validao nos autos"],Ll=`Voc  um assistente especializado em anlise de dados jurdicos. Sua funo  consultar e analisar informaes de uma planilha de processos e pessoas fornecida pelo usurio.

REGRAS FUNDAMENTAIS (NO EDITVEIS):
${Mx.map(e=>`- ${e}`).join(`
`)}

VARIVEIS DISPONVEIS:
- {cnj} - Nmero do processo
- {nome} - Nome da pessoa
- {comarca} - Comarca do processo
- {ano} - Ano de referncia
- {janelaTriangulacao} - Perodo para anlise de triangulao
- {politicaLGPD} - Diretrizes de proteo de dados

Sempre responda no formato JSON estruturado solicitado e inclua o rodap obrigatrio: "Informaes baseadas na planilha carregada. Recomenda-se validao nos autos antes de qualquer medida processual."`,k8=()=>{const{profile:e}=dr(),r=vo(),[s,t]=S.useState(!1),[,n]=S.useState(null),[i,o]=S.useState({v1:80,v2:20}),[l,c]=S.useState({label:"",content:Ll,template_type:"general"}),{data:u,isLoading:m}=Ms({queryKey:["prompts",e?.organization_id],queryFn:async()=>{const{data:v,error:j}=await se.from("prompts").select("*").eq("org_id",e?.organization_id).order("created_at",{ascending:!1});if(j)throw j;return v||[]},enabled:!!e?.organization_id}),{data:d}=Ms({queryKey:["org-settings",e?.organization_id],queryFn:async()=>{const{data:v,error:j}=await se.from("org_settings").select("prompt_active_id, ab_weights").eq("org_id",e?.organization_id).single();if(j&&j.code!=="PGRST116")throw j;return v},enabled:!!e?.organization_id}),f=ts({mutationFn:async v=>{const{error:j}=await se.functions.invoke("admin-prompts",{body:{action:"create",...v,org_id:e?.organization_id}});if(j)throw j},onSuccess:()=>{r.invalidateQueries({queryKey:["prompts"]}),t(!1),c({label:"",content:Ll,template_type:"general"}),fe({title:"Prompt criado",description:"Nova verso de prompt foi salva."})},onError:v=>{fe({title:"Erro",description:"Falha ao criar prompt: "+v.message,variant:"destructive"})}}),p=ts({mutationFn:async v=>{const{error:j}=await se.functions.invoke("admin-prompts",{body:{action:"activate",promptId:v,org_id:e?.organization_id}});if(j)throw j},onSuccess:()=>{r.invalidateQueries({queryKey:["org-settings"]}),r.invalidateQueries({queryKey:["prompts"]}),fe({title:"Prompt ativado",description:"Prompt est agora ativo para consultas."})},onError:v=>{fe({title:"Erro",description:"Falha ao ativar prompt: "+v.message,variant:"destructive"})}}),N=ts({mutationFn:async v=>{const{error:j}=await se.functions.invoke("admin-prompts",{body:{action:"update_ab_weights",weights:v,org_id:e?.organization_id}});if(j)throw j},onSuccess:()=>{r.invalidateQueries({queryKey:["org-settings"]}),fe({title:"A/B Test atualizado",description:"Pesos de distribuio foram salvos."})},onError:v=>{fe({title:"Erro",description:"Falha ao atualizar A/B: "+v.message,variant:"destructive"})}}),h=u?.find(v=>v.id===d?.prompt_active_id),b=u?.reduce((v,j)=>(v[j.template_type]||(v[j.template_type]=[]),v[j.template_type].push(j),v),{})||{};return m?a.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:247,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:246,columnNumber:7},void 0):a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold",children:"Prompt Studio"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:257,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Gerencie prompts do sistema, templates e testes A/B"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:258,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:256,columnNumber:9},void 0),a.jsxDEV(dt,{open:s,onOpenChange:t,children:[a.jsxDEV(yu,{asChild:!0,children:a.jsxDEV(I,{children:[a.jsxDEV(fu,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:266,columnNumber:15},void 0),"Novo Prompt"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:265,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:264,columnNumber:11},void 0),a.jsxDEV(ft,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[a.jsxDEV(ls,{children:[a.jsxDEV(cs,{children:"Criar Nova Verso de Prompt"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:272,columnNumber:15},void 0),a.jsxDEV(Pn,{children:"Configure um novo template de prompt para sua organizao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:273,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:271,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxDEV("div",{children:[a.jsxDEV(ce,{htmlFor:"label",children:"Nome do Prompt"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:281,columnNumber:19},void 0),a.jsxDEV(Oe,{id:"label",placeholder:"Ex: Anlise CNJ v2.1",value:l.label,onChange:v=>c({...l,label:v.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:282,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:280,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV(ce,{htmlFor:"type",children:"Tipo de Template"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:293,columnNumber:19},void 0),a.jsxDEV(rr,{value:l.template_type,onValueChange:v=>c({...l,template_type:v}),children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:301,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:300,columnNumber:21},void 0),a.jsxDEV(ar,{children:Rl.map(v=>a.jsxDEV(ue,{value:v.id,children:a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-medium",children:v.name},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:307,columnNumber:29},void 0),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:v.description},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:308,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:306,columnNumber:27},void 0)},v.id,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:305,columnNumber:25},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:303,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:294,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:292,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:279,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV(ce,{htmlFor:"content",children:"Contedo do Prompt"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:320,columnNumber:17},void 0),a.jsxDEV(Lh,{id:"content",className:"min-h-[300px] font-mono text-sm",value:l.content,onChange:v=>c({...l,content:v.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:321,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:["Use variveis como ","{cnj}",", ","{nome}",", ","{comarca}",", etc."]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:329,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:319,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:278,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex justify-end space-x-2",children:[a.jsxDEV(I,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:336,columnNumber:15},void 0),a.jsxDEV(I,{onClick:()=>f.mutate(l),disabled:!l.label||!l.content||f.isPending,children:f.isPending?"Criando...":"Criar Prompt"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:342,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:335,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:270,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:263,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:255,columnNumber:7},void 0),a.jsxDEV(xs,{defaultValue:"templates",className:"space-y-4",children:[a.jsxDEV(gs,{children:[a.jsxDEV(ye,{value:"templates",children:"Templates"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:359,columnNumber:11},void 0),a.jsxDEV(ye,{value:"system",children:"Sistema Global"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:360,columnNumber:11},void 0),a.jsxDEV(ye,{value:"ab-testing",children:"A/B Testing"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:361,columnNumber:11},void 0),a.jsxDEV(ye,{value:"variables",children:"Variveis"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:362,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:358,columnNumber:9},void 0),a.jsxDEV(Se,{value:"templates",className:"space-y-4",children:[h&&a.jsxDEV(O,{className:"border-green-200 bg-green-50",children:[a.jsxDEV(B,{children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{className:"flex items-center space-x-2",children:[a.jsxDEV(H,{variant:"default",children:"Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:372,columnNumber:21},void 0),a.jsxDEV(z,{className:"text-green-800",children:h.label},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:373,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:371,columnNumber:19},void 0),a.jsxDEV("div",{className:"text-sm text-green-700",children:["v",h.version," "," ",Rl.find(v=>v.id===h.template_type)?.name]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:377,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:370,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:369,columnNumber:15},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"bg-white p-3 rounded border text-sm font-mono whitespace-pre-wrap text-green-800",children:[h.content.substring(0,200),"..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:388,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:387,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:368,columnNumber:13},void 0),Rl.map(v=>a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center space-x-2",children:[a.jsxDEV(Gr,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:400,columnNumber:19},void 0),a.jsxDEV("span",{children:v.name},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:401,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:399,columnNumber:17},void 0),a.jsxDEV(te,{children:v.description},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:403,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:398,columnNumber:15},void 0),a.jsxDEV($,{children:b[v.id]?.length?a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{children:[a.jsxDEV(Q,{children:"Nome"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:415,columnNumber:25},void 0),a.jsxDEV(Q,{children:"Verso"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:416,columnNumber:25},void 0),a.jsxDEV(Q,{children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:417,columnNumber:25},void 0),a.jsxDEV(Q,{children:"Criado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:418,columnNumber:25},void 0),a.jsxDEV(Q,{className:"text-right",children:"Aes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:419,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:414,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:413,columnNumber:21},void 0),a.jsxDEV(Ir,{children:b[v.id].map(j=>a.jsxDEV(we,{children:[a.jsxDEV(X,{className:"font-medium",children:j.label},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:425,columnNumber:27},void 0),a.jsxDEV(X,{children:["v",j.version]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:428,columnNumber:27},void 0),a.jsxDEV(X,{children:a.jsxDEV(H,{variant:j.is_active?"default":"secondary",children:j.is_active?"Ativo":"Inativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:430,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:429,columnNumber:27},void 0),a.jsxDEV(X,{children:_t(new Date(j.created_at),"dd/MM/yyyy",{locale:Ga})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:438,columnNumber:27},void 0),a.jsxDEV(X,{className:"text-right",children:a.jsxDEV("div",{className:"flex justify-end space-x-2",children:[a.jsxDEV(I,{variant:"outline",size:"sm",onClick:()=>n(j),children:a.jsxDEV($h,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:450,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:445,columnNumber:31},void 0),!j.is_active&&a.jsxDEV(I,{variant:"outline",size:"sm",onClick:()=>p.mutate(j.id),disabled:p.isPending,children:"Ativar"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:453,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:444,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:443,columnNumber:27},void 0)]},j.id,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:424,columnNumber:25},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:422,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:412,columnNumber:19},void 0):a.jsxDEV("div",{className:"text-center py-4 text-muted-foreground",children:[a.jsxDEV(Gr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:408,columnNumber:21},void 0),a.jsxDEV("p",{children:"Nenhum prompt para este tipo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:409,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:407,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:405,columnNumber:15},void 0)]},v.id,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:397,columnNumber:13},void 0))]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:365,columnNumber:9},void 0),a.jsxDEV(Se,{value:"system",className:"space-y-4",children:[a.jsxDEV(O,{className:"border-red-200 bg-red-50",children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center space-x-2 text-red-800",children:[a.jsxDEV(ig,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:481,columnNumber:17},void 0),a.jsxDEV("span",{children:"Guards do Sistema (No Editveis)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:482,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:480,columnNumber:15},void 0),a.jsxDEV(te,{className:"text-red-700",children:"Regras de segurana aplicadas automaticamente a todos os prompts"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:484,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:479,columnNumber:13},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"space-y-2",children:Mx.map((v,j)=>a.jsxDEV("div",{className:"flex items-start space-x-2 text-red-800",children:[a.jsxDEV(Mr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:495,columnNumber:21},void 0),a.jsxDEV("span",{className:"text-sm",children:v},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:496,columnNumber:21},void 0)]},j,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:491,columnNumber:19},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:489,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:488,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:478,columnNumber:11},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Prompt do Sistema Global"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:506,columnNumber:15},void 0),a.jsxDEV(te,{children:"Base aplicada a todos os prompts da organizao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:507,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:505,columnNumber:13},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"bg-muted p-4 rounded-lg font-mono text-sm whitespace-pre-wrap",children:Ll},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:512,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:511,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:504,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:476,columnNumber:9},void 0),a.jsxDEV(Se,{value:"ab-testing",className:"space-y-4",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{className:"flex items-center space-x-2",children:[a.jsxDEV(og,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:523,columnNumber:17},void 0),a.jsxDEV("span",{children:"Teste A/B de Prompts"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:524,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:522,columnNumber:15},void 0),a.jsxDEV(te,{children:"Configure distribuio de trfego entre diferentes verses"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:526,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:521,columnNumber:13},void 0),a.jsxDEV($,{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[a.jsxDEV(ce,{children:"Verso 1 (Principal)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:533,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[i.v1,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:534,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:532,columnNumber:17},void 0),a.jsxDEV(Br,{value:[i.v1],onValueChange:([v])=>o({v1:v,v2:100-v}),max:100,min:0,step:5,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:538,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:531,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[a.jsxDEV(ce,{children:"Verso 2 (Teste)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:552,columnNumber:19},void 0),a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[i.v2,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:553,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:551,columnNumber:17},void 0),a.jsxDEV(Br,{value:[i.v2],onValueChange:([v])=>o({v1:100-v,v2:v}),max:100,min:0,step:5,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:557,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:550,columnNumber:15},void 0),a.jsxDEV("div",{className:"flex justify-between items-center pt-4 border-t",children:[a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Total: ",i.v1+i.v2,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:570,columnNumber:17},void 0),a.jsxDEV(I,{onClick:()=>N.mutate(i),disabled:N.isPending,children:N.isPending?"Salvando...":"Salvar Configurao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:573,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:569,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:530,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:520,columnNumber:11},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Mtricas de Performance"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:588,columnNumber:15},void 0),a.jsxDEV(te,{children:"Comparao entre verses (ltimos 7 dias)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:589,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:587,columnNumber:13},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsxDEV(lg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:595,columnNumber:17},void 0),a.jsxDEV("p",{children:"Dados insuficientes para anlise"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:596,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-sm",children:"Execute mais testes para ver mtricas comparativas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:597,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:594,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:593,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:586,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:519,columnNumber:9},void 0),a.jsxDEV(Se,{value:"variables",className:"space-y-4",children:a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Variveis Disponveis"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:608,columnNumber:15},void 0),a.jsxDEV(te,{children:"Use estas variveis em seus prompts para dados dinmicos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:609,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:607,columnNumber:13},void 0),a.jsxDEV($,{children:a.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{cnj}"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:617,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Nmero do processo CNJ formatado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:620,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:616,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{nome}"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:625,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Nome da pessoa para consulta"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:628,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:624,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{comarca}"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:633,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Comarca do processo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:636,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:632,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:615,columnNumber:17},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{ano}"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:643,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Ano de referncia para filtros"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:646,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:642,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{janelaTriangulacao}"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:651,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Perodo para anlise de triangulao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:654,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:650,columnNumber:19},void 0),a.jsxDEV("div",{children:[a.jsxDEV("code",{className:"bg-muted px-2 py-1 rounded font-mono text-sm",children:"{politicaLGPD}"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:659,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:"Diretrizes de proteo de dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:662,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:658,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:641,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:614,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:613,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:606,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:605,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:357,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/PromptStudio.tsx",lineNumber:253,columnNumber:5},void 0)},mL=Object.freeze(Object.defineProperty({__proto__:null,default:k8},Symbol.toStringTag,{value:"Module"})),V8=()=>{const{profile:e}=dr(),[r,s]=S.useState({cnj:"",nome:"",comarca:"",ano:""}),[t,n]=S.useState(null),[i,o]=S.useState(!1),[l,c]=S.useState(null),u=async(m=!1)=>{o(!0);try{const{data:d,error:f}=await se.functions.invoke("admin-openai-test",{body:{input:r,streaming:m,org_id:e?.organization_id}});if(f)throw f;n(d.response),c(d.metrics),fe({title:"Teste executado",description:`Resposta gerada em ${d.metrics?.duration_ms}ms`})}catch(d){fe({title:"Erro no teste",description:d.message,variant:"destructive"})}finally{o(!1)}};return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-bold",children:"Playground de Testes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:67,columnNumber:9},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:"Teste a IA com dados reais da sua base"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:68,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:66,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Entrada de Teste"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:76,columnNumber:13},void 0),a.jsxDEV(te,{children:"Configure os dados para teste"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:75,columnNumber:11},void 0),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"CNJ do Processo"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:81,columnNumber:15},void 0),a.jsxDEV(Oe,{placeholder:"0000000-00.0000.0.00.0000",value:r.cnj,onChange:m=>s({...r,cnj:m.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:82,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:80,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Nome da Pessoa"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:91,columnNumber:15},void 0),a.jsxDEV(Oe,{placeholder:"Joo da Silva",value:r.nome,onChange:m=>s({...r,nome:m.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:90,columnNumber:13},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Comarca"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:102,columnNumber:17},void 0),a.jsxDEV(Oe,{placeholder:"So Paulo",value:r.comarca,onChange:m=>s({...r,comarca:m.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:103,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:101,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Ano"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:112,columnNumber:17},void 0),a.jsxDEV(Oe,{placeholder:"2024",value:r.ano,onChange:m=>s({...r,ano:m.target.value})},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:113,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:111,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:100,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex space-x-2",children:[a.jsxDEV(I,{onClick:()=>u(!1),disabled:i,className:"flex-1",children:[a.jsxDEV(Wa,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:129,columnNumber:17},void 0),"Executar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:124,columnNumber:15},void 0),a.jsxDEV(I,{onClick:()=>u(!0),disabled:i,variant:"outline",className:"flex-1",children:[a.jsxDEV(fi,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:138,columnNumber:17},void 0),"Streaming"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:132,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:79,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:74,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:"Resultado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:147,columnNumber:13},void 0),a.jsxDEV(te,{children:"Resposta da IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:148,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:146,columnNumber:11},void 0),a.jsxDEV($,{children:i?a.jsxDEV("div",{className:"flex items-center justify-center py-8",children:a.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:153,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:152,columnNumber:15},void 0):t?a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-muted p-4 rounded-lg",children:a.jsxDEV("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(t,null,2)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:158,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:157,columnNumber:17},void 0),l&&a.jsxDEV("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[a.jsxDEV("div",{className:"flex items-center space-x-1",children:[a.jsxDEV(fs,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:166,columnNumber:23},void 0),a.jsxDEV("span",{children:[l.duration_ms,"ms"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:167,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:165,columnNumber:21},void 0),a.jsxDEV("div",{className:"flex items-center space-x-1",children:[a.jsxDEV(bo,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:170,columnNumber:23},void 0),a.jsxDEV("span",{children:[l.tokens_in+l.tokens_out," tokens"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:171,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:169,columnNumber:21},void 0),a.jsxDEV("div",{children:a.jsxDEV(H,{variant:"outline",children:l.model},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:176,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:175,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:164,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:156,columnNumber:15},void 0):a.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsxDEV(Wa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:183,columnNumber:17},void 0),a.jsxDEV("p",{children:"Execute um teste para ver o resultado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:184,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:182,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:150,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:145,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:73,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/openai/Playground.tsx",lineNumber:65,columnNumber:5},void 0)},dL=Object.freeze(Object.defineProperty({__proto__:null,default:V8},Symbol.toStringTag,{value:"Module"}));function S8(){return a.jsxDEV("div",{className:"min-h-screen bg-background p-6",children:a.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxDEV("div",{className:"text-center space-y-4",children:[a.jsxDEV("h1",{className:"text-3xl font-bold",children:"Validao do Corretor Inteligente"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:17,columnNumber:11},this),a.jsxDEV("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Sistema completo de correo automtica implementado com sucesso. Teste o template atualizado para validar todas as funcionalidades."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:20,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:16,columnNumber:9},this),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxDEV(O,{className:"border-success/20 bg-success/5",children:[a.jsxDEV(B,{className:"pb-3",children:a.jsxDEV(z,{className:"flex items-center gap-2 text-success",children:[a.jsxDEV(mi,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:31,columnNumber:17},this),"Template Corrigido"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:30,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:29,columnNumber:13},this),a.jsxDEV($,{children:a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Campos legados adicionados (reclamante_nome, reu_nome) para compatibilidade total"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:36,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:35,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:28,columnNumber:11},this),a.jsxDEV(O,{className:"border-primary/20 bg-primary/5",children:[a.jsxDEV(B,{className:"pb-3",children:a.jsxDEV(z,{className:"flex items-center gap-2 text-primary",children:[a.jsxDEV(Pt,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:46,columnNumber:17},this),"Corretor Inteligente"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:45,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:44,columnNumber:13},this),a.jsxDEV($,{children:a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Sistema de correo automtica com mapeamento flexvel e validao real"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:51,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:50,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:43,columnNumber:11},this),a.jsxDEV(O,{className:"border-warning/20 bg-warning/5",children:[a.jsxDEV(B,{className:"pb-3",children:a.jsxDEV(z,{className:"flex items-center gap-2 text-warning",children:[a.jsxDEV(Gr,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:61,columnNumber:17},this),"Validao Completa"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:60,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:59,columnNumber:13},this),a.jsxDEV($,{children:a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Processamento de arquivos reais CSV/XLSX com interface interativa"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:66,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:65,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:27,columnNumber:9},this),a.jsxDEV(Tx,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:75,columnNumber:9},this),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:[a.jsxDEV(z,{children:" Implementao Concluda"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:80,columnNumber:13},this),a.jsxDEV(te,{children:"Resumo das funcionalidades implementadas no Corretor Inteligente"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:81,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:79,columnNumber:11},this),a.jsxDEV($,{className:"space-y-4",children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"font-semibold text-success",children:" Correes Implementadas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:88,columnNumber:17},this),a.jsxDEV("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[a.jsxDEV("li",{children:" Template CSV atualizado com campos legados"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:92,columnNumber:19},this),a.jsxDEV("li",{children:" Schema JSON expandido para compatibilidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:93,columnNumber:19},this),a.jsxDEV("li",{children:" Builder XLSX sincronizado"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:94,columnNumber:19},this),a.jsxDEV("li",{children:" Mapeamento inteligente de campos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:95,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:87,columnNumber:15},this),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"font-semibold text-primary",children:" Funcionalidades Novas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:99,columnNumber:17},this),a.jsxDEV("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[a.jsxDEV("li",{children:" Validao com dados reais (no mock)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:103,columnNumber:19},this),a.jsxDEV("li",{children:" Correo automtica de CNJ"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:104,columnNumber:19},this),a.jsxDEV("li",{children:" Formatao inteligente de nomes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:105,columnNumber:19},this),a.jsxDEV("li",{children:" Interface interativa de correes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:106,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:102,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:98,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:86,columnNumber:13},this),a.jsxDEV("div",{className:"border-t pt-4",children:a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[a.jsxDEV("strong",{children:"Resultado:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:113,columnNumber:17},this)," Sistema robusto que elimina os erros de importao, permitindo que usurios importem dados com correes automticas e interface amigvel para revisar todas as modificaes antes da publicao."]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:112,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:14,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/ValidationTest.tsx",lineNumber:13,columnNumber:5},this)}const fL=Object.freeze(Object.defineProperty({__proto__:null,default:S8},Symbol.toStringTag,{value:"Module"})),P8=()=>{const[e,r]=S.useState(()=>new Date(Date.now()-6048e5).toISOString().slice(0,10)),[s,t]=S.useState(()=>new Date().toISOString().slice(0,10)),[n,i]=S.useState([]),o=async()=>{if(!await Ma())return;i([{event:"page_view",count:150,unique_users:45},{event:"button_click",count:300,unique_users:80}])};return S.useEffect(()=>{o()},[]),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Metrics"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:36,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:35,columnNumber:7},void 0),a.jsxDEV($,{children:[a.jsxDEV("div",{className:"flex gap-2 mb-4",children:[a.jsxDEV(Oe,{type:"date",value:e,onChange:l=>r(l.target.value)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:40,columnNumber:11},void 0),a.jsxDEV(Oe,{type:"date",value:s,onChange:l=>t(l.target.value)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:45,columnNumber:11},void 0),a.jsxDEV(I,{onClick:o,children:"Refresh"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:50,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:39,columnNumber:9},void 0),a.jsxDEV("ul",{children:n.map(l=>a.jsxDEV("li",{className:"py-1",children:[l.event,": ",l.count]},l.event,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:54,columnNumber:13},void 0))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:52,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:38,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/Metrics.tsx",lineNumber:34,columnNumber:5},void 0)},pL=Object.freeze(Object.defineProperty({__proto__:null,default:P8},Symbol.toStringTag,{value:"Module"})),A8=()=>{const[e,r]=S.useState([]);S.useEffect(()=>{const o=[{flag_id:"advanced-search",window:"7d",evaluations_count:150,unique_users:45,last_evaluated:new Date().toISOString()},{flag_id:"beta-features",window:"30d",evaluations_count:300,unique_users:80,last_evaluated:new Date().toISOString()}];r(o)},[]);const s=S.useMemo(()=>{const o={};for(const l of e)o[l.flag_id]||(o[l.flag_id]={flag_id:l.flag_id,eval_7d:0,eval_30d:0}),l.window==="7d"&&(o[l.flag_id].eval_7d=l.evaluations_count),l.window==="30d"&&(o[l.flag_id].eval_30d=l.evaluations_count);return Object.values(o)},[e]),t=e.filter(o=>o.window==="7d").reduce((o,l)=>o+l.evaluations_count,0),n=e.filter(o=>o.window==="30d").reduce((o,l)=>o+l.evaluations_count,0),i=e.filter(o=>o.window==="30d").reduce((o,l)=>o+l.unique_users,0);return a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Avaliaes 7d"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:72,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:71,columnNumber:11},void 0),a.jsxDEV($,{className:"text-2xl font-bold",children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:74,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:70,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Avaliaes 30d"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:78,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:77,columnNumber:11},void 0),a.jsxDEV($,{className:"text-2xl font-bold",children:n},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:80,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:76,columnNumber:9},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Usurios nicos 30d"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:84,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:83,columnNumber:11},void 0),a.jsxDEV($,{className:"text-2xl font-bold",children:i},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:86,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:82,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:69,columnNumber:7},void 0),a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{children:"Avaliaes por Flag"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:92,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:91,columnNumber:9},void 0),a.jsxDEV($,{children:a.jsxDEV(Bn,{className:"h-[300px]",config:{eval_7d:{label:"7d",color:"hsl(var(--chart-1))"},eval_30d:{label:"30d",color:"hsl(var(--chart-2))"}},children:a.jsxDEV(gx,{data:s,children:[a.jsxDEV(Ln,{strokeDasharray:"3 3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:103,columnNumber:15},void 0),a.jsxDEV(Es,{dataKey:"flag_id"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:104,columnNumber:15},void 0),a.jsxDEV(Jr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:105,columnNumber:15},void 0),a.jsxDEV(zn,{content:a.jsxDEV(sl,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:106,columnNumber:38},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:106,columnNumber:15},void 0),a.jsxDEV(bs,{dataKey:"eval_7d",fill:"var(--color-eval_7d)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:107,columnNumber:15},void 0),a.jsxDEV(bs,{dataKey:"eval_30d",fill:"var(--color-eval_30d)"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:108,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:102,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:95,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:90,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/FeatureFlagMetrics.tsx",lineNumber:68,columnNumber:5},void 0)},hL=Object.freeze(Object.defineProperty({__proto__:null,default:A8},Symbol.toStringTag,{value:"Module"}));function _8(){const e=cg();return S.useEffect(()=>{e("/admin/base/processos",{replace:!0})},[e]),null}const NL=Object.freeze(Object.defineProperty({__proto__:null,default:_8},Symbol.toStringTag,{value:"Module"}));function O8(){const r=ug().pathname.includes("/testemunhas")?"testemunhas":"processos";return a.jsxDEV("div",{className:"flex flex-col h-full bg-gradient-subtle",children:[a.jsxDEV("div",{className:"border-b bg-background",children:[a.jsxDEV("div",{className:"flex items-center justify-between p-6",children:[a.jsxDEV("div",{className:"space-y-1",children:[a.jsxDEV("h1",{className:"text-2xl font-semibold text-foreground flex items-center gap-2",children:[a.jsxDEV(ds,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:19,columnNumber:15},this),"Explorar Dados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:18,columnNumber:13},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Revise, valide e gerencie dados ps-importao com controle de qualidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:22,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:17,columnNumber:11},this),a.jsxDEV(I,{variant:"outline",className:"gap-2",children:[a.jsxDEV(ui,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:29,columnNumber:13},this),"Exportar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:28,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:16,columnNumber:9},this),a.jsxDEV("div",{className:"px-6",children:a.jsxDEV(xs,{value:r,className:"w-auto",children:a.jsxDEV(gs,{className:"grid w-fit grid-cols-2",children:[a.jsxDEV(ye,{value:"processos",asChild:!0,children:a.jsxDEV(Om,{to:"/admin/base/processos",className:"flex items-center gap-2",children:[a.jsxDEV(_h,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:43,columnNumber:19},this),a.jsxDEV("span",{className:"hidden sm:inline",children:"Processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:44,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:39,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:38,columnNumber:15},this),a.jsxDEV(ye,{value:"testemunhas",asChild:!0,children:a.jsxDEV(Om,{to:"/admin/base/testemunhas",className:"flex items-center gap-2",children:[a.jsxDEV(Vn,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:52,columnNumber:19},this),a.jsxDEV("span",{className:"hidden sm:inline",children:"Testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:53,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:48,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:47,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:37,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:36,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:35,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:15,columnNumber:7},this),a.jsxDEV("div",{className:"flex-1 overflow-hidden",children:a.jsxDEV(mg,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:63,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:62,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/BaseLayout.tsx",lineNumber:13,columnNumber:5},this)}const bL=Object.freeze(Object.defineProperty({__proto__:null,default:O8},Symbol.toStringTag,{value:"Module"})),ni=[{cnj:"5001234-12.2024.5.02.0001",reclamante:"Joo da Silva Santos",reclamada:"Empresa XYZ Ltda",testemunhas_ativas:["Maria Oliveira","Carlos Pereira"],testemunhas_passivas:["Ana Costa","Pedro Lima"],qtd_testemunhas:4,classificacao:"Ateno",classificacao_estrategica:"Mdia complexidade",created_at:new Date().toISOString()},{cnj:"5001235-13.2024.5.02.0001",reclamante:"Ana Paula Ferreira",reclamada:"Tech Solutions S.A.",testemunhas_ativas:["Roberto Silva"],testemunhas_passivas:["Lucia Santos","Fernando Costa","Mariana Oliveira"],qtd_testemunhas:4,classificacao:"Crtico",classificacao_estrategica:"Alta complexidade",created_at:new Date(Date.now()-864e5).toISOString()},{cnj:"5001236-14.2024.5.02.0001",reclamante:"Carlos Eduardo Souza",reclamada:"Indstria ABC Ltda",testemunhas_ativas:["Patricia Lima"],testemunhas_passivas:["Jos Maria"],qtd_testemunhas:2,classificacao:"Normal",classificacao_estrategica:"Baixa complexidade",created_at:new Date(Date.now()-1728e5).toISOString()}],Er={uuid:_r().uuid("UUID invlido"),orgId:_r().min(1,"ID da organizao  obrigatrio"),cnj:_r().refine(e=>{const r=e.replace(/[^\d]/g,"");return r.length===20&&/^\d{20}$/.test(r)},"CNJ deve ter 20 dgitos numricos"),nonEmptyString:_r().min(1,"Campo obrigatrio").trim(),optionalString:_r().optional(),stringArray:ll(_r()),nonEmptyStringArray:ll(_r()).min(1,"Pelo menos um item  necessrio"),page:Ta().int().min(1,"Pgina deve ser >= 1"),limit:Ta().int().min(1).max(100,"Limite mximo de 100 itens"),filters:xo({search:_r().optional(),classificacao:ll(_r()).optional(),qtdMin:Ta().int().min(0).optional(),qtdMax:Ta().int().min(0).optional()}).optional()};xo({cnj:Er.cnj,reclamante:Er.nonEmptyString,reclamada:Er.nonEmptyString,testemunhas_ativas:Er.stringArray,testemunhas_passivas:Er.stringArray,qtd_testemunhas:Ta().int().min(0),classificacao:Er.nonEmptyString,classificacao_estrategica:Er.optionalString,created_at:_r()});const C8=xo({filters:Er.filters,page:Er.page.default(1),limit:Er.limit.default(50)});xo({id:Er.uuid,organization_id:Er.orgId,role:jg(["admin","user","viewer"]),email:_r().email("E-mail invlido")});function T8(e,r){const s=e.safeParse(r);if(!s.success){const t=s.error.issues.map(n=>`${n.path.join(".")}: ${n.message}`).join(", ");throw new Error(`Dados invlidos: ${t}`)}return s.data}function M8(e={},r=50,s=1){const{profile:t}=dr(),[n,i]=S.useState(s),{data:o,isLoading:l,error:c,refetch:u}=Ms({queryKey:["assistjur-processos",t?.organization_id,e,n,r],queryFn:async()=>{if(!zl(t?.organization_id))throw cl.authentication("Organizao no encontrada",{profile:t?.id});const m=T8(C8,{filters:e,page:n,limit:r});return await wg(async()=>{const{data:{session:d}}=await se.auth.getSession();if(!d?.access_token)throw cl.authentication("Sesso expirada");const p=await fetch("https://fgjypmlszuzkgvhuszxn.functions.supabase.co/assistjur-processos",{method:"POST",headers:{Authorization:`Bearer ${d.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(m)});if(!p.ok){const h=await p.json().catch(()=>({}));throw cl.system(h.detail||`HTTP ${p.status}: ${p.statusText}`,{status:p.status})}const N=await p.json();return!N?.data||N.data.length===0?{data:ni,count:ni.length,totalPages:1}:N},"AssistJurProcessos",{retries:2,timeout:3e4,fallback:{data:ni,count:ni.length,totalPages:1}})},enabled:!!t?.organization_id,retry:(m,d)=>d?.message?.includes("Sesso expirada")||d?.message?.includes("Acesso negado")?!1:m<2,staleTime:5*60*1e3});return{data:o?.data||[],totalCount:o?.count||0,currentPage:n,totalPages:o?.totalPages||1,isLoading:l,error:c,refetch:u,setPage:i}}const $x=({className:e,...r})=>a.jsxDEV("nav",{role:"navigation","aria-label":"pagination",className:ir("mx-auto flex w-full justify-center",e),...r},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:8,columnNumber:3},void 0);$x.displayName="Pagination";const Ix=S.forwardRef(({className:e,...r},s)=>a.jsxDEV("ul",{ref:s,className:ir("flex flex-row items-center gap-1",e),...r},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:21,columnNumber:3},void 0));Ix.displayName="PaginationContent";const li=S.forwardRef(({className:e,...r},s)=>a.jsxDEV("li",{ref:s,className:ir("",e),...r},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:33,columnNumber:3},void 0));li.displayName="PaginationItem";const tl=({className:e,isActive:r,size:s="icon",...t})=>a.jsxDEV("a",{"aria-current":r?"page":void 0,className:ir(yg({variant:r?"outline":"ghost",size:s}),e),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:48,columnNumber:3},void 0);tl.displayName="PaginationLink";const Rx=({className:e,...r})=>a.jsxDEV(tl,{"aria-label":"Go to previous page",size:"default",className:ir("gap-1 pl-2.5",e),...r,children:[a.jsxDEV(dg,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:72,columnNumber:5},void 0),a.jsxDEV("span",{children:"Previous"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:73,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:66,columnNumber:3},void 0);Rx.displayName="PaginationPrevious";const Lx=({className:e,...r})=>a.jsxDEV(tl,{"aria-label":"Go to next page",size:"default",className:ir("gap-1 pr-2.5",e),...r,children:[a.jsxDEV("span",{children:"Next"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:88,columnNumber:5},void 0),a.jsxDEV(fg,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:89,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/pagination.tsx",lineNumber:82,columnNumber:3},void 0);Lx.displayName="PaginationNext";function $8(){const[e,r]=pg(),s={search:e.get("search")||void 0,classificacao:e.get("classificacao")?e.get("classificacao").split(","):void 0},t=Number(e.get("page")||"1"),[n,i]=S.useState(s),[o,l]=S.useState(!1),[c,u]=S.useState(!1),{data:m,totalCount:d,currentPage:f,totalPages:p,isLoading:N,error:h,setPage:b}=M8(n,50,t);S.useEffect(()=>{const y={};n.search&&(y.search=n.search),n.classificacao?.length&&(y.classificacao=n.classificacao.join(",")),f>1&&(y.page=String(f)),r(y,{replace:!0})},[n,f,r]);const v=y=>{i(E=>({...E,search:y.trim()||void 0})),b(1)},j=y=>{i(y==="all"?E=>({...E,classificacao:void 0}):E=>({...E,classificacao:[y]})),b(1)},w=()=>{i({}),b(1)},D=y=>{switch(y?.toLowerCase()){case"crtico":return"destructive";case"ateno":return"secondary";case"observao":return"outline";default:return"secondary"}},g=()=>{try{const E=[["CNJ","Reclamante","Reclamada","Testemunhas Ativas","Testemunhas Passivas","Qtd Total","Classificao","Data Criao"].join(","),...m.map(A=>{const P=A;return[P.cnj,`"${P.reclamante}"`,`"${P.reclamada}"`,`"${P.testemunhas_ativas.join("; ")}"`,`"${P.testemunhas_passivas.join("; ")}"`,P.qtd_testemunhas,`"${P.classificacao}"`,_t(new Date(P.created_at),"dd/MM/yyyy",{locale:Ga})].join(",")})].join(`
`),k=new Blob([E],{type:"text/csv;charset=utf-8;"}),_=document.createElement("a");_.href=URL.createObjectURL(k),_.download=`assistjur-processos-${_t(new Date,"yyyy-MM-dd")}.csv`,_.click(),Fe.success(`Exportao concluda: ${m.length} processos`)}catch(y){console.error("Erro na exportao CSV:",y),Fe.error("Erro ao exportar dados. Tente novamente.")}},x=()=>{window.open("https://supabase.com/dashboard/project/fgjypmlszuzkgvhuszxn/functions/assistjur-processos/logs","_blank"),Fe.info("Abrindo logs da Edge Function...")};return h?a.jsxDEV(O,{className:"p-6",children:a.jsxDEV("div",{className:"text-center space-y-4",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("p",{className:"text-destructive font-medium",children:"Erro ao carregar processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:171,columnNumber:13},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:h.message},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:170,columnNumber:11},this),a.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[a.jsxDEV(I,{variant:"outline",onClick:()=>window.location.reload(),children:"Tentar novamente"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:177,columnNumber:13},this),a.jsxDEV(I,{variant:"outline",onClick:x,size:"sm",children:[a.jsxDEV(hg,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:181,columnNumber:15},this),"Abrir Logs"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:176,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:169,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:168,columnNumber:7},this):a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV(O,{className:"p-6",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold",children:"Processos AssistJur.IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:196,columnNumber:13},this),a.jsxDEV("p",{className:"text-muted-foreground",children:[d," processos encontrados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:197,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:195,columnNumber:11},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(I,{variant:"outline",onClick:()=>u(!c),children:[a.jsxDEV(mu,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:206,columnNumber:15},this),"Filtros"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:202,columnNumber:13},this),a.jsxDEV(I,{variant:"outline",onClick:()=>l(!o),children:o?"Mostrar Dados":"Mascarar PII"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:209,columnNumber:13},this),a.jsxDEV(I,{variant:"outline",onClick:g,children:[a.jsxDEV(Kr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:216,columnNumber:15},this),"Exportar CSV"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:215,columnNumber:13},this),a.jsxDEV(I,{variant:"outline",onClick:x,size:"sm",children:[a.jsxDEV(Ng,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:220,columnNumber:15},this),"Abrir Logs"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:219,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:201,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:194,columnNumber:9},this),c&&a.jsxDEV("div",{className:"border-t pt-4 space-y-4",children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Buscar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:231,columnNumber:17},this),a.jsxDEV(Oe,{placeholder:"CNJ, reclamante, reclamada...",value:n.search||"",onChange:y=>v(y.target.value)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:232,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:230,columnNumber:15},this),a.jsxDEV("div",{children:[a.jsxDEV("label",{className:"text-sm font-medium mb-2 block",children:"Classificao"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:240,columnNumber:17},this),a.jsxDEV(rr,{value:n.classificacao?.[0]||"all",onValueChange:j,children:[a.jsxDEV(sr,{children:a.jsxDEV(tr,{placeholder:"Todas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:248,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:247,columnNumber:19},this),a.jsxDEV(ar,{children:[a.jsxDEV(ue,{value:"all",children:"Todas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:251,columnNumber:21},this),a.jsxDEV(ue,{value:"crtico",children:"Crtico"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:252,columnNumber:21},this),a.jsxDEV(ue,{value:"ateno",children:"Ateno"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:253,columnNumber:21},this),a.jsxDEV(ue,{value:"observao",children:"Observao"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:254,columnNumber:21},this),a.jsxDEV(ue,{value:"normal",children:"Normal"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:255,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:250,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:243,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:239,columnNumber:15},this),a.jsxDEV("div",{className:"flex items-end",children:a.jsxDEV(I,{variant:"outline",onClick:w,children:[a.jsxDEV(Bl,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:262,columnNumber:19},this),"Limpar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:261,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:229,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:228,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:193,columnNumber:7},this),a.jsxDEV(O,{children:[a.jsxDEV("div",{className:"border border-border/50 rounded-2xl overflow-hidden",children:a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{className:"bg-muted/30",children:[a.jsxDEV(Q,{className:"font-semibold",children:"CNJ"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:277,columnNumber:17},this),a.jsxDEV(Q,{className:"font-semibold",children:"Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:278,columnNumber:17},this),a.jsxDEV(Q,{className:"font-semibold",children:"Reclamada"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:279,columnNumber:17},this),a.jsxDEV(Q,{className:"font-semibold",children:"Testemunhas Ativas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:280,columnNumber:17},this),a.jsxDEV(Q,{className:"font-semibold",children:"Testemunhas Passivas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:283,columnNumber:17},this),a.jsxDEV(Q,{className:"font-semibold text-center",children:"Qtd Total"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:286,columnNumber:17},this),a.jsxDEV(Q,{className:"font-semibold",children:"Classificao"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:289,columnNumber:17},this),a.jsxDEV(Q,{className:"font-semibold",children:"Data"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:290,columnNumber:17},this),a.jsxDEV(Q,{className:"font-semibold text-center",children:"Aes"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:291,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:276,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:275,columnNumber:13},this),a.jsxDEV(Ir,{children:N?Array.from({length:5}).map((y,E)=>a.jsxDEV(we,{children:[a.jsxDEV(X,{className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-24"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:301,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:300,columnNumber:21},this),a.jsxDEV(X,{className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-32"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:304,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:303,columnNumber:21},this),a.jsxDEV(X,{className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-28"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:307,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:306,columnNumber:21},this),a.jsxDEV(X,{className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-20"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:310,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:309,columnNumber:21},this),a.jsxDEV(X,{className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-20"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:313,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:312,columnNumber:21},this),a.jsxDEV(X,{className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-8"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:316,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:315,columnNumber:21},this),a.jsxDEV(X,{className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-16"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:319,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:318,columnNumber:21},this),a.jsxDEV(X,{className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-12"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:322,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:321,columnNumber:21},this),a.jsxDEV(X,{className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-8"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:325,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:324,columnNumber:21},this)]},E,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:299,columnNumber:19},this)):m.length===0?a.jsxDEV(we,{children:a.jsxDEV(X,{colSpan:9,className:"text-center py-8",children:[a.jsxDEV("p",{className:"text-muted-foreground",children:"Nenhum processo encontrado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:332,columnNumber:21},this),(n.search||n.classificacao)&&a.jsxDEV(I,{variant:"link",onClick:w,children:"Limpar filtros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:336,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:331,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:330,columnNumber:17},this):m.map(y=>{const E=y;return a.jsxDEV(we,{className:"hover:bg-muted/20",children:[a.jsxDEV(X,{className:"font-mono text-xs max-w-[120px] truncate",children:ii(E.cnj,o)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:356,columnNumber:23},this),a.jsxDEV(X,{className:"font-medium max-w-[150px] truncate",children:ii(E.reclamante,o)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:359,columnNumber:23},this),a.jsxDEV(X,{className:"max-w-[150px] truncate",children:ii(E.reclamada,o)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:362,columnNumber:23},this),a.jsxDEV(X,{className:"max-w-[200px]",children:a.jsxDEV(Fl,{items:E.testemunhas_ativas,maxVisible:2,isPiiMasked:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:366,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:365,columnNumber:23},this),a.jsxDEV(X,{className:"max-w-[200px]",children:a.jsxDEV(Fl,{items:E.testemunhas_passivas,maxVisible:2,isPiiMasked:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:373,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:372,columnNumber:23},this),a.jsxDEV(X,{className:"text-center",children:a.jsxDEV(H,{variant:"secondary",className:"text-xs",children:E.qtd_testemunhas},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:380,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:379,columnNumber:23},this),a.jsxDEV(X,{children:a.jsxDEV(H,{variant:D(E.classificacao),className:"text-xs",children:E.classificacao},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:385,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:384,columnNumber:23},this),a.jsxDEV(X,{className:"text-xs text-muted-foreground",children:_t(new Date(E.created_at),"dd/MM/yy",{locale:Ga})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:392,columnNumber:23},this),a.jsxDEV(X,{children:a.jsxDEV("div",{className:"flex items-center justify-center",children:a.jsxDEV(I,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsxDEV(Sr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:404,columnNumber:29},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:399,columnNumber:27},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:398,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:397,columnNumber:23},this)]},E.cnj,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:355,columnNumber:21},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:296,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:274,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:273,columnNumber:9},this),p>1&&a.jsxDEV("div",{className:"flex items-center justify-between p-4 border-t",children:[a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Pgina ",f," de ",p,"  ",d," registros"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:419,columnNumber:13},this),a.jsxDEV($x,{children:a.jsxDEV(Ix,{children:[a.jsxDEV(li,{children:a.jsxDEV(Rx,{href:"#","aria-disabled":f<=1,className:f<=1?"pointer-events-none opacity-50":"",onClick:y=>{y.preventDefault(),f>1&&b(f-1)}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:425,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:424,columnNumber:17},this),Array.from({length:p},(y,E)=>a.jsxDEV(li,{children:a.jsxDEV(tl,{href:"#",isActive:f===E+1,onClick:k=>{k.preventDefault(),b(E+1)},children:E+1},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:439,columnNumber:21},this)},E,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:438,columnNumber:19},this)),a.jsxDEV(li,{children:a.jsxDEV(Lx,{href:"#","aria-disabled":f>=p,className:f>=p?"pointer-events-none opacity-50":"",onClick:y=>{y.preventDefault(),f<p&&b(f+1)}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:452,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:451,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:423,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:422,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:418,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:272,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/assistjur/ProcessosDataTable.tsx",lineNumber:191,columnNumber:5},this)}function Bx({type:e,onSuccess:r,className:s}){const{profile:t,isAdmin:n}=dr(),{toast:i}=ca(),[o,l]=S.useState(!1),[c,u]=S.useState(null),[m,d]=S.useState(""),[f,p]=S.useState({understand:!1,irreversible:!1,backup:!1}),[N,h]=S.useState(!1),[b,v]=S.useState(!1),[j,w]=S.useState(0),[D,g]=S.useState("preview"),[x,y]=S.useState("soft"),[E,k]=S.useState(10);S.useEffect(()=>{},[n,t?.organization_id]);const _=t?.organization_id||"",A=m===_,P=Object.values(f).every(Boolean),T=A&&P&&E===0,M=!!(n&&t?.organization_id);S.useEffect(()=>{if(D==="confirm"&&E>0){const Y=setTimeout(()=>k(ie=>ie-1),1e3);return()=>clearTimeout(Y)}},[D,E]),S.useEffect(()=>{o&&!c&&M&&C()},[o,M]);const C=async()=>{if(!M){i({title:"Acesso negado",description:"Voc precisa ser um administrador para executar esta operao",variant:"destructive"});return}v(!0);try{const{data:Y,error:ie}=await se.rpc("rpc_get_deletion_impact",{p_org_id:t.organization_id});if(ie)throw ie;u(Y)}catch(Y){i({title:"Erro ao carregar dados",description:Y instanceof Error?Y.message:"No foi possvel carregar o impacto da excluso",variant:"destructive"})}finally{v(!1)}},R=async()=>{if(t?.organization_id){h(!0),g("executing"),w(0);try{w(25);let Y=null;try{const{data:ie,error:xe}=await se.functions.invoke("processes-delete-all",{body:{confirm:t.organization_id,hard_delete:x==="hard"}});if(xe)throw xe;if(ie?.error)throw new Error(ie.message||ie.error);Y={success:ie.success,deleted_count:ie.deleted_count,operation_type:ie.operation_type,message:ie.message}}catch{const{data:xe,error:K}=await se.rpc("rpc_delete_all_processos",{p_org_id:t.organization_id,p_hard_delete:x==="hard"});if(K)throw K;Y=xe}if(w(75),e==="processos"&&Y){const{error:ie}=await se.rpc("rpc_cleanup_derived_data",{p_org_id:t.organization_id})}w(100),Y&&(i({title:"Excluso concluda",description:`${Y.deleted_count} registros foram ${x==="hard"?"permanentemente excludos":"marcados para excluso"}`}),r?.(),l(!1),q())}catch(Y){i({title:"Erro na excluso",description:Y instanceof Error?Y.message:"Erro desconhecido durante a excluso",variant:"destructive"})}finally{h(!1)}}},F=async()=>{if(t?.organization_id){h(!0),g("executing"),w(0);try{w(50);const{data:Y,error:ie}=await se.rpc("rpc_cleanup_derived_data",{p_org_id:t.organization_id});if(ie)throw ie;const xe=Y;w(100),i({title:"Limpeza concluda",description:`${xe.deleted_count} registros de testemunhas rfs foram removidos`}),r?.(),l(!1),q()}catch(Y){i({title:"Erro na limpeza",description:Y instanceof Error?Y.message:"Erro desconhecido durante a limpeza",variant:"destructive"})}finally{h(!1)}}},q=()=>{g("preview"),d(""),p({understand:!1,irreversible:!1,backup:!1}),w(0),k(10),u(null)},G=()=>{N||(l(!1),q())},re=()=>{switch(e){case"processos":return"Excluir Todos os Processos";case"testemunhas":return"Limpar Dados de Testemunhas";default:return"Excluir Dados"}},ne=()=>{switch(e){case"processos":return"Excluso em Massa - Processos";case"testemunhas":return"Limpeza de Dados - Testemunhas";default:return"Excluso em Massa"}},Z=()=>{switch(e){case"processos":return"Esta operao ir excluir todos os processos da organizao";case"testemunhas":return"Esta operao ir limpar dados de testemunhas rfs (sem processos associados)";default:return"Esta operao ir excluir dados da organizao"}};return a.jsxDEV(hu,{open:o,onOpenChange:G,children:[a.jsxDEV(Rh,{asChild:!0,children:a.jsxDEV(I,{variant:"destructive",size:"sm",className:s,onClick:()=>l(!0),disabled:!M,title:M?"":"Acesso negado - apenas administradores",children:[a.jsxDEV(mt,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:332,columnNumber:11},this),re()]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:324,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:323,columnNumber:7},this),a.jsxDEV(Nu,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxDEV(bu,{children:[a.jsxDEV(vu,{className:"flex items-center gap-2",children:[a.jsxDEV(mr,{className:"h-5 w-5 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:340,columnNumber:13},this),ne()]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:339,columnNumber:11},this),a.jsxDEV(xu,{children:Z()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:343,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:338,columnNumber:9},this),a.jsxDEV("div",{className:"space-y-4",children:[D==="preview"&&b&&a.jsxDEV(O,{children:a.jsxDEV($,{className:"pt-6",children:a.jsxDEV("div",{className:"flex items-center justify-center py-8",children:[a.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:352,columnNumber:19},this),a.jsxDEV("span",{className:"ml-2",children:"Carregando dados..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:353,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:351,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:350,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:349,columnNumber:13},this),D==="preview"&&!M&&a.jsxDEV(O,{children:a.jsxDEV($,{className:"pt-6",children:a.jsxDEV("div",{className:"flex items-center justify-center py-8 text-destructive",children:[a.jsxDEV(mr,{className:"h-8 w-8 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:364,columnNumber:19},this),a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"font-semibold",children:"Acesso Negado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:366,columnNumber:21},this),a.jsxDEV("div",{className:"text-sm",children:"Apenas administradores podem executar esta operao"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:367,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:365,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:363,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:362,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:361,columnNumber:13},this),D==="preview"&&c&&M&&a.jsxDEV(O,{children:[a.jsxDEV(B,{children:a.jsxDEV(z,{className:"text-base flex items-center gap-2",children:[a.jsxDEV(ds,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:381,columnNumber:19},this),"Impacto da Operao"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:380,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:379,columnNumber:15},this),a.jsxDEV($,{className:"space-y-3",children:[a.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Processos Ativos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:388,columnNumber:21},this),a.jsxDEV("div",{className:"text-lg font-semibold",children:c.active_processos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:389,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:387,columnNumber:19},this),a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Processos J Excludos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:394,columnNumber:21},this),a.jsxDEV("div",{className:"text-lg font-semibold text-muted-foreground",children:c.soft_deleted_processos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:395,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:393,columnNumber:19},this),a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Registros de Pessoas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:400,columnNumber:21},this),a.jsxDEV("div",{className:"text-lg font-semibold",children:c.total_pessoas},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:401,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:399,columnNumber:19},this),a.jsxDEV("div",{children:[a.jsxDEV(ce,{children:"Tempo Estimado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:406,columnNumber:21},this),a.jsxDEV("div",{className:"text-lg font-semibold",children:[c.estimated_deletion_time_minutes," min"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:407,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:405,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:386,columnNumber:17},this),e==="processos"&&a.jsxDEV("div",{className:"mt-4",children:[a.jsxDEV(ce,{children:"Tipo de Excluso"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:415,columnNumber:21},this),a.jsxDEV("div",{className:"flex gap-2 mt-2",children:[a.jsxDEV(I,{variant:x==="soft"?"default":"outline",size:"sm",onClick:()=>y("soft"),children:"Excluso Reversvel (Recomendado)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:417,columnNumber:23},this),a.jsxDEV(I,{variant:x==="hard"?"destructive":"outline",size:"sm",onClick:()=>y("hard"),children:"Excluso Permanente"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:426,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:416,columnNumber:21},this),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:x==="soft"?"Os dados sero marcados como excludos mas podem ser restaurados":"Os dados sero permanentemente removidos do banco de dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:436,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:414,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:385,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:378,columnNumber:13},this),D==="confirm"&&a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[a.jsxDEV(mr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:452,columnNumber:19},this),a.jsxDEV("span",{className:"font-semibold",children:"ATENO: Operao Crtica"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:453,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:451,columnNumber:17},this),a.jsxDEV("p",{className:"text-sm text-destructive/80",children:["Esta  uma operao irreversvel que afetar"," ",c?.active_processos," processos ativos.",x==="hard"&&" A excluso ser PERMANENTE."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:457,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:450,columnNumber:15},this),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV(ce,{htmlFor:"confirmation",children:["Para confirmar, digite o ID da organizao:"," ",a.jsxDEV("code",{children:_},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:468,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:466,columnNumber:19},this),a.jsxDEV(Oe,{id:"confirmation",value:m,onChange:Y=>d(Y.target.value),placeholder:"Digite o ID da organizao"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:470,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:465,columnNumber:17},this),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex items-center space-x-2",children:[a.jsxDEV(At,{id:"understand",checked:f.understand,onCheckedChange:Y=>p(ie=>({...ie,understand:Y}))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:480,columnNumber:21},this),a.jsxDEV(ce,{htmlFor:"understand",className:"text-sm",children:"Eu entendo que esta operao no pode ser desfeita"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:490,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:479,columnNumber:19},this),a.jsxDEV("div",{className:"flex items-center space-x-2",children:[a.jsxDEV(At,{id:"irreversible",checked:f.irreversible,onCheckedChange:Y=>p(ie=>({...ie,irreversible:Y}))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:496,columnNumber:21},this),a.jsxDEV(ce,{htmlFor:"irreversible",className:"text-sm",children:"Eu confirmo que tenho autorizao para executar esta operao"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:506,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:495,columnNumber:19},this),a.jsxDEV("div",{className:"flex items-center space-x-2",children:[a.jsxDEV(At,{id:"backup",checked:f.backup,onCheckedChange:Y=>p(ie=>({...ie,backup:Y}))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:513,columnNumber:21},this),a.jsxDEV(ce,{htmlFor:"backup",className:"text-sm",children:"Eu confirmo que foi feito backup dos dados (se necessrio)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:523,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:512,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:478,columnNumber:17},this),E>0&&a.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsxDEV(fs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:531,columnNumber:21},this),a.jsxDEV("span",{className:"text-sm",children:["Aguarde ",E,"s antes de prosseguir"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:532,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:530,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:464,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:449,columnNumber:13},this),D==="executing"&&a.jsxDEV("div",{className:"space-y-4",children:a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"mb-2",children:"Executando operao..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:545,columnNumber:17},this),a.jsxDEV(Sn,{value:j,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:546,columnNumber:17},this),a.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:[j,"% concludo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:547,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:544,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:543,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:346,columnNumber:9},this),a.jsxDEV(gu,{children:[a.jsxDEV(ju,{onClick:G,disabled:N,children:"Cancelar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:556,columnNumber:11},this),D==="preview"&&M&&c&&a.jsxDEV(hi,{onClick:()=>g("confirm"),className:"bg-destructive hover:bg-destructive/90",children:"Continuar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:561,columnNumber:13},this),D==="confirm"&&a.jsxDEV(hi,{onClick:e==="processos"?R:F,disabled:!T||N,className:"bg-destructive hover:bg-destructive/90",children:E>0?`Aguarde ${E}s`:"Executar Excluso"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:570,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:555,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:337,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/BulkDeleteManager.tsx",lineNumber:322,columnNumber:5},this)}function I8({onSuccess:e,className:r}){const{profile:s}=dr(),{toast:t}=ca(),[n,i]=S.useState(!1),o=async()=>{if(!s?.organization_id){t({title:"Erro",description:"Organizao no encontrada",variant:"destructive"});return}i(!0);try{const{data:l,error:c}=await se.rpc("rpc_restore_all_processos",{p_org_id:s.organization_id});if(c)throw c;const u=l;if(u.success)t({title:"Restaurao concluda",description:`${u.restored_count} processos foram restaurados com sucesso`}),e?.();else throw new Error(u.message)}catch(l){console.error("Error restoring processes:",l),t({title:"Erro na restaurao",description:l instanceof Error?l.message:"Erro desconhecido durante a restaurao",variant:"destructive"})}finally{i(!1)}};return a.jsxDEV(I,{variant:"outline",size:"sm",onClick:o,disabled:n,className:r,children:[a.jsxDEV(qa,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`},void 0,!1,{fileName:"/workspaces/assitjur/src/components/admin/RestoreButton.tsx",lineNumber:75,columnNumber:7},this),n?"Restaurando...":"Restaurar Excludos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/admin/RestoreButton.tsx",lineNumber:68,columnNumber:5},this)}function R8(){return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV(O,{children:a.jsxDEV(B,{children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV(z,{children:"Gesto de Processos - AssistJur.IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:13,columnNumber:15},this),a.jsxDEV("p",{className:"text-muted-foreground text-sm",children:"Visualizar e gerenciar processos do pipeline AssistJur.IA"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:14,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:12,columnNumber:13},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(I8,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:19,columnNumber:15},this),a.jsxDEV(Bx,{type:"processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:20,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:18,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:11,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:10,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:9,columnNumber:7},this),a.jsxDEV($8,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:26,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/ProcessosTable.tsx",lineNumber:8,columnNumber:5},this)}const vL=Object.freeze(Object.defineProperty({__proto__:null,default:R8},Symbol.toStringTag,{value:"Module"})),Vh=[{value:"ERROR",label:"Erro",color:"bg-destructive text-destructive-foreground"},{value:"WARNING",label:"Ateno",color:"bg-warning text-warning-foreground"},{value:"INFO",label:"Info",color:"bg-primary text-primary-foreground"},{value:"OK",label:"OK",color:"bg-success text-success-foreground"}];function L8({searchTerm:e,onSearchChange:r,selectedSeverity:s,onSeverityChange:t,onClearFilters:n,hasActiveFilters:i}){const[o,l]=S.useState(!1),c=m=>{const d=s.includes(m)?s.filter(f=>f!==m):[...s,m];t(d)},u=m=>{t(s.filter(d=>d!==m))};return a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{className:"relative",children:[a.jsxDEV(Oh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:61,columnNumber:9},this),a.jsxDEV(Oe,{placeholder:"Buscar por CNJ, reclamante, ru ou testemunha...",value:e,onChange:m=>r(m.target.value),className:"pl-10 pr-4 h-10"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:60,columnNumber:7},this),a.jsxDEV("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxDEV(Dg,{open:o,onOpenChange:l,children:[a.jsxDEV(Eg,{asChild:!0,children:a.jsxDEV(I,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsxDEV(mu,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:75,columnNumber:15},this),"Filtros",i&&a.jsxDEV(H,{variant:"secondary",className:"ml-1 px-1.5 py-0.5 text-xs",children:s.length},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:78,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:73,columnNumber:11},this),a.jsxDEV(kg,{className:"w-80 p-4",align:"start",children:a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("h4",{className:"font-semibold text-sm",children:"Filtrar por Severidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:89,columnNumber:15},this),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:Vh.map(m=>a.jsxDEV(I,{variant:s.includes(m.value)?"default":"outline",size:"sm",onClick:()=>c(m.value),className:"justify-start gap-2",children:[a.jsxDEV("div",{className:`w-2 h-2 rounded-full ${m.color}`},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:104,columnNumber:21},this),m.label]},m.value,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:93,columnNumber:19},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:91,columnNumber:15},this),a.jsxDEV("div",{className:"flex justify-between pt-2 border-t",children:[a.jsxDEV(I,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsxDEV(Mh,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:112,columnNumber:19},this),"Salvar Filtro"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:111,columnNumber:17},this),a.jsxDEV(I,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsxDEV(bg,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:116,columnNumber:19},this),"Filtros Salvos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:115,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:110,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:88,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:87,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:72,columnNumber:9},this),s.map(m=>{const d=Vh.find(f=>f.value===m);return a.jsxDEV(H,{variant:"secondary",className:"gap-1",children:[a.jsxDEV("div",{className:`w-2 h-2 rounded-full ${d?.color}`},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:129,columnNumber:15},this),d?.label,a.jsxDEV(I,{variant:"ghost",size:"sm",className:"h-auto p-0 ml-1 hover:bg-transparent",onClick:()=>u(m),children:a.jsxDEV(Bl,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:137,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:131,columnNumber:15},this)]},m,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:128,columnNumber:13},this)}),i&&a.jsxDEV(I,{variant:"ghost",size:"sm",onClick:n,className:"gap-2 text-muted-foreground",children:[a.jsxDEV(Bl,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:150,columnNumber:13},this),"Limpar Filtros"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:71,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/SearchFilters.tsx",lineNumber:58,columnNumber:5},this)}function B8({selectedCount:e,onRevalidate:r,onNormalizeCNJ:s,onFillDefaultReu:t,onMergeDuplicates:n,onDelete:i,onExport:o,isLoading:l=!1,showTestemunhaActions:c=!1}){return e===0?a.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-muted/30 border rounded-lg",children:[a.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsxDEV(Mr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:41,columnNumber:11},this),"Selecione registros para executar aes em massa"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:40,columnNumber:9},this),a.jsxDEV(I,{variant:"outline",size:"sm",onClick:o,className:"gap-2",children:[a.jsxDEV(ui,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:50,columnNumber:11},this),"Exportar Todos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:44,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:39,columnNumber:7},this):a.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-primary/5 border border-primary/20 rounded-lg",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:a.jsxDEV(H,{variant:"outline",className:"bg-primary/10 text-primary border-primary/30",children:[e," selecionado",e>1?"s":""]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:61,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:60,columnNumber:9},this),a.jsxDEV(Cm,{orientation:"vertical",className:"h-6"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:69,columnNumber:9},this),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(I,{variant:"outline",size:"sm",onClick:r,disabled:l,className:"gap-2",children:[a.jsxDEV(qa,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:80,columnNumber:13},this),"Revalidar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:73,columnNumber:11},this),a.jsxDEV(I,{variant:"outline",size:"sm",onClick:s,disabled:l,className:"gap-2",children:[a.jsxDEV(vg,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:91,columnNumber:13},this),"Normalizar CNJ"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:84,columnNumber:11},this),c&&t&&a.jsxDEV(I,{variant:"outline",size:"sm",onClick:t,disabled:l,className:"gap-2",children:[a.jsxDEV(Ch,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:104,columnNumber:15},this),"Aplicar Ru Padro"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:97,columnNumber:13},this),a.jsxDEV(Cm,{orientation:"vertical",className:"h-6"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:109,columnNumber:11},this),a.jsxDEV(I,{variant:"outline",size:"sm",onClick:n,disabled:l,className:"gap-2",children:[a.jsxDEV(xg,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:119,columnNumber:13},this),"Mesclar Duplicados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:112,columnNumber:11},this),a.jsxDEV(I,{variant:"outline",size:"sm",onClick:i,disabled:l,className:"gap-2 text-destructive hover:text-destructive",children:[a.jsxDEV(mt,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:130,columnNumber:13},this),"Excluir"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:123,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:59,columnNumber:7},this),a.jsxDEV(I,{variant:"outline",size:"sm",onClick:o,className:"gap-2",children:[a.jsxDEV(ui,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:137,columnNumber:9},this),"Exportar Seleo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:136,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/BulkActions.tsx",lineNumber:58,columnNumber:5},this)}const z8={OK:{icon:gg,label:"OK",className:"bg-success text-success-foreground hover:bg-success/90"},WARNING:{icon:mr,label:"Ateno",className:"bg-warning text-warning-foreground hover:bg-warning/90"},ERROR:{icon:Xe,label:"Erro",className:"bg-destructive text-destructive-foreground hover:bg-destructive/90"},INFO:{icon:ci,label:"Info",className:"bg-primary text-primary-foreground hover:bg-primary/90"}};function F8({severity:e,score:r,className:s="",size:t="default"}){const n=z8[e],i=n.icon,o=t==="sm"?"text-xs px-2 py-0.5":"text-sm px-2.5 py-1";return a.jsxDEV(H,{className:`
        ${n.className} 
        ${o}
        font-semibold 
        shadow-sm 
        flex items-center gap-1.5
        ${s}
      `,children:[a.jsxDEV(i,{className:t==="sm"?"h-3 w-3":"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/QualityChips.tsx",lineNumber:60,columnNumber:7},this),a.jsxDEV("span",{children:n.label},void 0,!1,{fileName:"/workspaces/assitjur/src/components/data-explorer/QualityChips.tsx",lineNumber:61,columnNumber:7},this),r!==void 0&&a.jsxDEV("span",{className:"ml-1 opacity-90",children:["(",r,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/QualityChips.tsx",lineNumber:63,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/data-explorer/QualityChips.tsx",lineNumber:50,columnNumber:5},this)}function U8(){const{profile:e}=dr(),{toast:r}=ca(),[s,t]=S.useState(""),[n,i]=S.useState([]),[o,l]=S.useState(new Set),[c,u]=S.useState(1),[m]=S.useState(50),[d,f]=S.useState(!1),{data:p,isLoading:N,error:h,refetch:b}=Ms({queryKey:["admin-testemunhas",e?.organization_id,s,c,m],queryFn:async()=>{if(!e?.organization_id)throw new Error("Organizao no encontrada");const{data:P}=await se.auth.getSession(),T=P?.session?.access_token;if(!T)throw new Error("Usurio no autenticado");const{data:M,error:C}=await se.functions.invoke("mapa-testemunhas-testemunhas",{body:{paginacao:{page:c,limit:m},filtros:{search:s.trim()||void 0}},headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`}});if(C)throw C;return M},enabled:!!e?.organization_id,staleTime:5*60*1e3}),v=p?.data||[],j=p?.total_witnesses||0,w=p?.total_processos||0,D=async()=>{if(o.size!==0)try{r({title:"Funcionalidade em desenvolvimento",description:"Aplicar ru padro ser implementado em breve"})}catch(P){r({title:"Erro ao aplicar ru padro",description:P instanceof Error?P.message:"Erro desconhecido",variant:"destructive"})}},g=P=>{const T=new Set(o);T.has(P)?T.delete(P):T.add(P),l(T)},x=()=>{o.size===v?.length?l(new Set):l(new Set(v?.map(P=>P.nome_testemunha)))},y=s.trim()!=="",E=()=>{t(""),i([]),u(1)},k=({value:P})=>P===null?a.jsxDEV("span",{className:"text-muted-foreground",children:""},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:138,columnNumber:32},this):P?a.jsxDEV(Te,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:140,columnNumber:7},this):a.jsxDEV(du,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:142,columnNumber:7},this),_=P=>{switch(P?.toLowerCase()){case"crtico":return"destructive";case"ateno":return"secondary";case"observao":return"outline";default:return"secondary"}},A=P=>{switch(P?.toLowerCase()){case"crtico":return"ERROR";case"ateno":return"WARNING";case"observao":return"INFO";default:return"OK"}};return h?a.jsxDEV("div",{className:"p-6 text-center",children:[a.jsxDEV("p",{className:"text-destructive",children:["Erro ao carregar dados: ",h.message]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:175,columnNumber:9},this),a.jsxDEV(I,{variant:"outline",onClick:()=>b(),children:"Tentar novamente"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:178,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:174,columnNumber:7},this):a.jsxDEV("div",{className:"p-6 space-y-6",children:[a.jsxDEV(O,{className:"p-6",children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("div",{children:[a.jsxDEV("h2",{className:"text-2xl font-bold",children:"Gesto de Testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:190,columnNumber:13},this),a.jsxDEV("p",{className:"text-muted-foreground",children:[j," testemunhas encontradas em ",w," ","processos da organizao"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:189,columnNumber:11},this),a.jsxDEV("div",{className:"flex gap-2",children:[a.jsxDEV(Bx,{type:"testemunhas",onSuccess:()=>b()},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:197,columnNumber:13},this),a.jsxDEV(I,{variant:"outline",onClick:()=>f(!d),children:d?"Mostrar Dados":"Mascarar PII"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:196,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:188,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:187,columnNumber:7},this),a.jsxDEV(L8,{searchTerm:s,onSearchChange:t,selectedSeverity:n,onSeverityChange:i,onClearFilters:E,hasActiveFilters:y},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:208,columnNumber:7},this),a.jsxDEV(B8,{selectedCount:o.size,onRevalidate:()=>b(),onNormalizeCNJ:()=>{},onFillDefaultReu:D,onMergeDuplicates:()=>{},onDelete:()=>{},onExport:()=>{},isLoading:N,showTestemunhaActions:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:217,columnNumber:7},this),a.jsxDEV("div",{className:"border border-border/50 rounded-2xl overflow-hidden",children:a.jsxDEV(Hr,{children:[a.jsxDEV(Xr,{children:a.jsxDEV(we,{className:"bg-muted/30",children:[a.jsxDEV(Q,{className:"w-12",children:a.jsxDEV(At,{checked:v?.length>0&&o.size===v.length,onCheckedChange:x},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:234,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:233,columnNumber:15},this),a.jsxDEV(Q,{className:"font-semibold",children:"Nome da Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:242,columnNumber:15},this),a.jsxDEV(Q,{className:"font-semibold text-center",children:"Qtd Depoimentos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:245,columnNumber:15},this),a.jsxDEV(Q,{className:"font-semibold text-center",children:"Ambos os Polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:248,columnNumber:15},this),a.jsxDEV(Q,{className:"font-semibold text-center",children:"J Foi Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:251,columnNumber:15},this),a.jsxDEV(Q,{className:"font-semibold",children:"CNJs como Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:254,columnNumber:15},this),a.jsxDEV(Q,{className:"font-semibold",children:"Classificao"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:257,columnNumber:15},this),a.jsxDEV(Q,{className:"font-semibold",children:"Qualidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:258,columnNumber:15},this),a.jsxDEV(Q,{className:"font-semibold text-center",children:"Aes"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:259,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:232,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:231,columnNumber:11},this),a.jsxDEV(Ir,{children:N?Array.from({length:5}).map((P,T)=>a.jsxDEV(we,{children:a.jsxDEV(X,{colSpan:9,className:"h-16",children:a.jsxDEV("div",{className:"animate-pulse bg-muted rounded h-4 w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:267,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:266,columnNumber:19},this)},T,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:265,columnNumber:17},this)):v?.length===0?a.jsxDEV(we,{children:a.jsxDEV(X,{colSpan:9,className:"text-center py-8",children:[a.jsxDEV("p",{className:"text-muted-foreground",children:"Nenhuma testemunha encontrada"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:274,columnNumber:19},this),y&&a.jsxDEV(I,{variant:"link",onClick:E,children:"Limpar filtros"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:278,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:273,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:272,columnNumber:15},this):v?.map(P=>a.jsxDEV(we,{className:"hover:bg-muted/20",children:[a.jsxDEV(X,{children:a.jsxDEV(At,{checked:o.has(P.nome_testemunha),onCheckedChange:()=>g(P.nome_testemunha)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:291,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:290,columnNumber:19},this),a.jsxDEV(X,{className:"font-medium max-w-[200px] truncate",children:ii(P.nome_testemunha,d)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:298,columnNumber:19},this),a.jsxDEV(X,{className:"text-center",children:a.jsxDEV(H,{variant:"secondary",className:"text-xs",children:P.qtd_depoimentos||0},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:302,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:301,columnNumber:19},this),a.jsxDEV(X,{className:"text-center",children:a.jsxDEV(k,{value:P.foi_testemunha_em_ambos_polos},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:307,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:306,columnNumber:19},this),a.jsxDEV(X,{className:"text-center",children:a.jsxDEV(k,{value:P.ja_foi_reclamante},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:312,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:311,columnNumber:19},this),a.jsxDEV(X,{children:a.jsxDEV(Fl,{items:P.cnjs_como_testemunha??null,maxVisible:2,isPiiMasked:d},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:315,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:314,columnNumber:19},this),a.jsxDEV(X,{children:a.jsxDEV(H,{variant:_(P.classificacao_estrategica??null),className:"text-xs",children:P.classificacao_estrategica||"Normal"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:322,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:321,columnNumber:19},this),a.jsxDEV(X,{children:a.jsxDEV(F8,{severity:A(P.classificacao_estrategica??null),score:P.qtd_depoimentos?Math.min(100,P.qtd_depoimentos*20):50,size:"sm"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:332,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:331,columnNumber:19},this),a.jsxDEV(X,{children:a.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[a.jsxDEV(I,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsxDEV(Sr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:347,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:346,columnNumber:23},this),a.jsxDEV(I,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsxDEV($h,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:350,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:349,columnNumber:23},this),a.jsxDEV(I,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:a.jsxDEV(mt,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:357,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:352,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:345,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:344,columnNumber:19},this)]},P.nome_testemunha,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:286,columnNumber:17},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:262,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:230,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:229,columnNumber:7},this),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",v?.length||0," de ",j," ","testemunhas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:370,columnNumber:9},this),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(I,{variant:"outline",size:"sm",onClick:()=>u(Math.max(1,c-1)),disabled:c<=1,children:"Anterior"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:375,columnNumber:11},this),a.jsxDEV("span",{className:"text-sm",children:["Pgina ",c," de ",Math.ceil(j/m)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:383,columnNumber:11},this),a.jsxDEV(I,{variant:"outline",size:"sm",onClick:()=>u(c+1),disabled:c>=Math.ceil(j/m),children:"Prxima"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:386,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:374,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:369,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/admin/base/TestemunhasTable.tsx",lineNumber:186,columnNumber:5},this)}const xL=Object.freeze(Object.defineProperty({__proto__:null,default:U8},Symbol.toStringTag,{value:"Module"}));export{Q8 as A,bL as B,nL as C,Z8 as D,hL as F,rL as I,cL as K,iL as M,tL as O,mL as P,aL as S,xL as T,sL as V,oL as a,lL as b,uL as c,dL as d,fL as e,pL as f,NL as g,vL as h,eL as i};
