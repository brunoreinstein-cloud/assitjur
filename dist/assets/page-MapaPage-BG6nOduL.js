import{r as p,j as e,ai as Tt,aj as Fn,ak as On,al as Bn,am as Ts,an as pa,ao as Ps,ap as Pt,aq as cs,ar as Hs,as as Js,at as fa,au as Mt,av as Rt,aw as $n,ax as At,ay as Ln,az as It,aA as Ft,aB as Ot,aC as zn,aD as Bt,aE as $t,aF as Lt,aG as zt,a9 as Ha,aH as qt,aI as qn,aJ as Ut,aK as Ht,aL as Un,aM as Hn,aN as ys,aO as hs,aP as Ls,N as Cs,S as Jn,aQ as Jt,aR as Gn,aS as Kn,aT as Gt,aU as Wn,a2 as Kt,aV as Wt,aW as Yn,aX as Yt,aY as Qt,aZ as Xt,a_ as Zt,a$ as er,b0 as Qn,b1 as Xn,b2 as Zn,b3 as eo,b4 as sr,b5 as so,C as Ms,b6 as ao,b7 as ar,b8 as to,b9 as tr,ba as ro,bb as no,bc as rr,n as nr,bd as or,be as ir,bf as lr,bg as ds,bh as oo,L as Ss,w as ns,bi as ur,bj as mr,af as zs,bk as io,bl as lo,R as z,x as Ze,bm as Sa,bn as uo,bo as mo,bp as co,bq as po,br as Ja,bs as Ta,q as ra,X as fo,z as Ga,bt as ho,Z as No,ad as na,V as cr,bu as es,bv as bo,f as Ye,ae as Pa,D as dr,bw as xo,u as Ka,ag as ss,U as qs,bx as vo,by as oa,bz as jo,E as Ma,bA as go,W as Ra,bB as wo,bC as Do,bD as Eo,i as pr,bE as it,t as ko,bF as Vo,m as lt,bG as yo,bH as _o,bI as fr,bJ as Co,bK as So,bL as To,ah as Po,K as Mo,h as Ro,bM as Ao,ac as ut,bN as mt}from"./vendor-B8znzfp2.js";import{j as T,l as Io,x as hr,y as Fo,z as Oo,D as ze,a as se,B as W,S as vs,n as Ke,p as We,s as Qe,C as be,b as Pe,c as Me,m as gs,d as we,_ as Bo,r as Rs,E as Le,v as $e,Z as ia,G as $o,H as Na,I as Lo,J as zo,K as qo,A as Uo,f as ct,g as dt,h as pt}from"./page-About-Cx_WpGeO.js";import{L as Te,I as ls,T as Nr,a as br,b as la,c as ua,w as xr,u as ba,l as Ae,d as Ho}from"./page-Login-C96z17Ba.js";import{P as vr,a as jr,b as gr,T as wr,c as Dr,d as ma,e as Ce,f as Er,g as Se}from"./page-DemoMapaTestemunhas-CeSuEkFg.js";const kr=Fn,Bs=On,$s=Bn,Vs=p.forwardRef(({className:s,sideOffset:a=4,...t},r)=>e.jsxDEV(Tt,{ref:r,sideOffset:a,className:T("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/tooltip.tsx",lineNumber:16,columnNumber:3},void 0));Vs.displayName=Tt.displayName;const Vr=fa,Xu=Mt,Jo=pa,yr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ts,{ref:t,className:T("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:19,columnNumber:3},void 0));yr.displayName=Ts.displayName;const Wa=p.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(Jo,{children:[e.jsxDEV(yr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:35,columnNumber:5},void 0),e.jsxDEV(Ps,{ref:r,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[a,e.jsxDEV(Pt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsxDEV(cs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:46,columnNumber:9},void 0),e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:47,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:36,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:34,columnNumber:3},void 0));Wa.displayName=Ps.displayName;const _r=({className:s,...a})=>e.jsxDEV("div",{className:T("flex flex-col space-y-1.5 text-center sm:text-left",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:58,columnNumber:3},void 0);_r.displayName="DialogHeader";const Go=({className:s,...a})=>e.jsxDEV("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:72,columnNumber:3},void 0);Go.displayName="DialogFooter";const Cr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Hs,{ref:t,className:T("text-lg font-semibold leading-none tracking-tight",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:86,columnNumber:3},void 0));Cr.displayName=Hs.displayName;const Sr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Js,{ref:t,className:T("text-sm text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:101,columnNumber:3},void 0));Sr.displayName=Js.displayName;const Ya=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Rt,{className:T("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...a,ref:t,children:e.jsxDEV($n,{className:T("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/switch.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/switch.tsx",lineNumber:10,columnNumber:3},void 0));Ya.displayName=Rt.displayName;const ca=p.forwardRef(({className:s,value:a,...t},r)=>e.jsxDEV(At,{ref:r,className:T("relative h-2 w-full overflow-hidden rounded-full bg-secondary",s),...t,children:e.jsxDEV(Ln,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/progress.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/progress.tsx",lineNumber:10,columnNumber:3},void 0));ca.displayName=At.displayName;const Tr=fa,Ko=Mt,Wo=pa,Pr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ts,{className:T("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:20,columnNumber:3},void 0));Pr.displayName=Ts.displayName;const Yo=Io("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Qa=p.forwardRef(({side:s="right",className:a,children:t,...r},n)=>e.jsxDEV(Wo,{children:[e.jsxDEV(Pr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:59,columnNumber:5},void 0),e.jsxDEV(Ps,{ref:n,className:T(Yo({side:s}),a),...r,children:[t,e.jsxDEV(Pt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsxDEV(cs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:67,columnNumber:9},void 0),e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:68,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:66,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:60,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:58,columnNumber:3},void 0));Qa.displayName=Ps.displayName;const Xa=({className:s,...a})=>e.jsxDEV("div",{className:T("flex flex-col space-y-2 text-center sm:text-left",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:79,columnNumber:3},void 0);Xa.displayName="SheetHeader";const Za=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Hs,{ref:t,className:T("text-lg font-semibold text-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:107,columnNumber:3},void 0));Za.displayName=Hs.displayName;const et=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Js,{ref:t,className:T("text-sm text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:119,columnNumber:3},void 0));et.displayName=Js.displayName;const Gs=Un,Ks=Hn,Qo=p.forwardRef(({className:s,inset:a,children:t,...r},n)=>e.jsxDEV(It,{ref:n,className:T("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",s),...r,children:[t,e.jsxDEV(Ft,{className:"ml-auto h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:35,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:25,columnNumber:3},void 0));Qo.displayName=It.displayName;const Xo=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ot,{ref:t,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:45,columnNumber:3},void 0));Xo.displayName=Ot.displayName;const As=p.forwardRef(({className:s,sideOffset:a=4,...t},r)=>e.jsxDEV(zn,{children:e.jsxDEV(Bt,{ref:r,sideOffset:a,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:62,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:61,columnNumber:3},void 0));As.displayName=Bt.displayName;const ps=p.forwardRef(({className:s,inset:a,...t},r)=>e.jsxDEV($t,{ref:r,className:T("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",s),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:81,columnNumber:3},void 0));ps.displayName=$t.displayName;const Mr=p.forwardRef(({className:s,children:a,checked:t,...r},n)=>e.jsxDEV(Lt,{ref:n,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:t,...r,children:[e.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsxDEV(zt,{children:e.jsxDEV(Ha,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:108,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:107,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:106,columnNumber:5},void 0),a]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:97,columnNumber:3},void 0));Mr.displayName=Lt.displayName;const Zo=p.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(qt,{ref:r,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsxDEV(zt,{children:e.jsxDEV(qn,{className:"h-2 w-2 fill-current"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:131,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:130,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:129,columnNumber:5},void 0),a]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:121,columnNumber:3},void 0));Zo.displayName=qt.displayName;const ei=p.forwardRef(({className:s,inset:a,...t},r)=>e.jsxDEV(Ut,{ref:r,className:T("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:145,columnNumber:3},void 0));ei.displayName=Ut.displayName;const Aa=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ht,{ref:t,className:T("-mx-1 my-1 h-px bg-muted",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:161,columnNumber:3},void 0));Aa.displayName=Ht.displayName;var ft=1,si=.9,ai=.8,ti=.17,xa=.1,va=.999,ri=.9999,ni=.99,oi=/[\\\/_+.#"@\[\(\{&]/,ii=/[\\\/_+.#"@\[\(\{&]/g,li=/[\s-]/,Rr=/[\s-]/g;function Ia(s,a,t,r,n,o,i){if(o===a.length)return n===s.length?ft:ni;var u=`${n},${o}`;if(i[u]!==void 0)return i[u];for(var d=r.charAt(o),m=t.indexOf(d,n),N=0,f,w,D,H;m>=0;)f=Ia(s,a,t,r,m+1,o+1,i),f>N&&(m===n?f*=ft:oi.test(s.charAt(m-1))?(f*=ai,D=s.slice(n,m-1).match(ii),D&&n>0&&(f*=Math.pow(va,D.length))):li.test(s.charAt(m-1))?(f*=si,H=s.slice(n,m-1).match(Rr),H&&n>0&&(f*=Math.pow(va,H.length))):(f*=ti,n>0&&(f*=Math.pow(va,m-n))),s.charAt(m)!==a.charAt(o)&&(f*=ri)),(f<xa&&t.charAt(m-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&t.charAt(m-1)!==r.charAt(o))&&(w=Ia(s,a,t,r,m+1,o+2,i),w*xa>f&&(f=w*xa)),f>N&&(N=f),m=t.indexOf(d,m+1);return i[u]=N,N}function ht(s){return s.toLowerCase().replace(Rr," ")}function ui(s,a,t){return s=t&&t.length>0?`${s+" "+t.join(" ")}`:s,Ia(s,a,ht(s),ht(a),0,0,{})}var Is='[cmdk-group=""]',ja='[cmdk-group-items=""]',mi='[cmdk-group-heading=""]',Ar='[cmdk-item=""]',Nt=`${Ar}:not([aria-disabled="true"])`,Fa="cmdk-item-select",Es="data-value",ci=(s,a,t)=>ui(s,a,t),Ir=p.createContext(void 0),Ws=()=>p.useContext(Ir),Fr=p.createContext(void 0),st=()=>p.useContext(Fr),Or=p.createContext(void 0),Br=p.forwardRef((s,a)=>{let t=ks(()=>{var v,j;return{search:"",value:(j=(v=s.value)!=null?v:s.defaultValue)!=null?j:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=ks(()=>new Set),n=ks(()=>new Map),o=ks(()=>new Map),i=ks(()=>new Set),u=$r(s),{label:d,children:m,value:N,onValueChange:f,filter:w,shouldFilter:D,loop:H,disablePointerSelection:h=!1,vimBindings:F=!0,...P}=s,V=ys(),I=ys(),A=ys(),G=p.useRef(null),O=wi();ws(()=>{if(N!==void 0){let v=N.trim();t.current.value=v,_.emit()}},[N]),ws(()=>{O(6,$)},[]);let _=p.useMemo(()=>({subscribe:v=>(i.current.add(v),()=>i.current.delete(v)),snapshot:()=>t.current,setState:(v,j,k)=>{var b,y,R,M;if(!Object.is(t.current[v],j)){if(t.current[v]=j,v==="search")C(),x(),O(1,g);else if(v==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let S=document.getElementById(A);S?S.focus():(b=document.getElementById(V))==null||b.focus()}if(O(7,()=>{var S;t.current.selectedItemId=(S=Z())==null?void 0:S.id,_.emit()}),k||O(5,$),((y=u.current)==null?void 0:y.value)!==void 0){let S=j??"";(M=(R=u.current).onValueChange)==null||M.call(R,S);return}}_.emit()}},emit:()=>{i.current.forEach(v=>v())}}),[]),l=p.useMemo(()=>({value:(v,j,k)=>{var b;j!==((b=o.current.get(v))==null?void 0:b.value)&&(o.current.set(v,{value:j,keywords:k}),t.current.filtered.items.set(v,c(j,k)),O(2,()=>{x(),_.emit()}))},item:(v,j)=>(r.current.add(v),j&&(n.current.has(j)?n.current.get(j).add(v):n.current.set(j,new Set([v]))),O(3,()=>{C(),x(),t.current.value||g(),_.emit()}),()=>{o.current.delete(v),r.current.delete(v),t.current.filtered.items.delete(v);let k=Z();O(4,()=>{C(),k?.getAttribute("id")===v&&g(),_.emit()})}),group:v=>(n.current.has(v)||n.current.set(v,new Set),()=>{o.current.delete(v),n.current.delete(v)}),filter:()=>u.current.shouldFilter,label:d||s["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:V,inputId:A,labelId:I,listInnerRef:G}),[]);function c(v,j){var k,b;let y=(b=(k=u.current)==null?void 0:k.filter)!=null?b:ci;return v?y(v,t.current.search,j):0}function x(){if(!t.current.search||u.current.shouldFilter===!1)return;let v=t.current.filtered.items,j=[];t.current.filtered.groups.forEach(b=>{let y=n.current.get(b),R=0;y.forEach(M=>{let S=v.get(M);R=Math.max(S,R)}),j.push([b,R])});let k=G.current;oe().sort((b,y)=>{var R,M;let S=b.getAttribute("id"),ie=y.getAttribute("id");return((R=v.get(ie))!=null?R:0)-((M=v.get(S))!=null?M:0)}).forEach(b=>{let y=b.closest(ja);y?y.appendChild(b.parentElement===y?b:b.closest(`${ja} > *`)):k.appendChild(b.parentElement===k?b:b.closest(`${ja} > *`))}),j.sort((b,y)=>y[1]-b[1]).forEach(b=>{var y;let R=(y=G.current)==null?void 0:y.querySelector(`${Is}[${Es}="${encodeURIComponent(b[0])}"]`);R?.parentElement.appendChild(R)})}function g(){let v=oe().find(k=>k.getAttribute("aria-disabled")!=="true"),j=v?.getAttribute(Es);_.setState("value",j||void 0)}function C(){var v,j,k,b;if(!t.current.search||u.current.shouldFilter===!1){t.current.filtered.count=r.current.size;return}t.current.filtered.groups=new Set;let y=0;for(let R of r.current){let M=(j=(v=o.current.get(R))==null?void 0:v.value)!=null?j:"",S=(b=(k=o.current.get(R))==null?void 0:k.keywords)!=null?b:[],ie=c(M,S);t.current.filtered.items.set(R,ie),ie>0&&y++}for(let[R,M]of n.current)for(let S of M)if(t.current.filtered.items.get(S)>0){t.current.filtered.groups.add(R);break}t.current.filtered.count=y}function $(){var v,j,k;let b=Z();b&&(((v=b.parentElement)==null?void 0:v.firstChild)===b&&((k=(j=b.closest(Is))==null?void 0:j.querySelector(mi))==null||k.scrollIntoView({block:"nearest"})),b.scrollIntoView({block:"nearest"}))}function Z(){var v;return(v=G.current)==null?void 0:v.querySelector(`${Ar}[aria-selected="true"]`)}function oe(){var v;return Array.from(((v=G.current)==null?void 0:v.querySelectorAll(Nt))||[])}function me(v){let j=oe()[v];j&&_.setState("value",j.getAttribute(Es))}function L(v){var j;let k=Z(),b=oe(),y=b.findIndex(M=>M===k),R=b[y+v];(j=u.current)!=null&&j.loop&&(R=y+v<0?b[b.length-1]:y+v===b.length?b[0]:b[y+v]),R&&_.setState("value",R.getAttribute(Es))}function re(v){let j=Z(),k=j?.closest(Is),b;for(;k&&!b;)k=v>0?ji(k,Is):gi(k,Is),b=k?.querySelector(Nt);b?_.setState("value",b.getAttribute(Es)):L(v)}let q=()=>me(oe().length-1),ce=v=>{v.preventDefault(),v.metaKey?q():v.altKey?re(1):L(1)},Y=v=>{v.preventDefault(),v.metaKey?me(0):v.altKey?re(-1):L(-1)};return p.createElement(hs.div,{ref:a,tabIndex:-1,...P,"cmdk-root":"",onKeyDown:v=>{var j;(j=P.onKeyDown)==null||j.call(P,v);let k=v.nativeEvent.isComposing||v.keyCode===229;if(!(v.defaultPrevented||k))switch(v.key){case"n":case"j":{F&&v.ctrlKey&&ce(v);break}case"ArrowDown":{ce(v);break}case"p":case"k":{F&&v.ctrlKey&&Y(v);break}case"ArrowUp":{Y(v);break}case"Home":{v.preventDefault(),me(0);break}case"End":{v.preventDefault(),q();break}case"Enter":{v.preventDefault();let b=Z();if(b){let y=new Event(Fa);b.dispatchEvent(y)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:l.inputId,id:l.labelId,style:Ei},d),ha(s,v=>p.createElement(Fr.Provider,{value:_},p.createElement(Ir.Provider,{value:l},v))))}),di=p.forwardRef((s,a)=>{var t,r;let n=ys(),o=p.useRef(null),i=p.useContext(Or),u=Ws(),d=$r(s),m=(r=(t=d.current)==null?void 0:t.forceMount)!=null?r:i?.forceMount;ws(()=>{if(!m)return u.item(n,i?.id)},[m]);let N=Lr(n,o,[s.value,s.children,o],s.keywords),f=st(),w=fs(O=>O.value&&O.value===N.current),D=fs(O=>m||u.filter()===!1?!0:O.search?O.filtered.items.get(n)>0:!0);p.useEffect(()=>{let O=o.current;if(!(!O||s.disabled))return O.addEventListener(Fa,H),()=>O.removeEventListener(Fa,H)},[D,s.onSelect,s.disabled]);function H(){var O,_;h(),(_=(O=d.current).onSelect)==null||_.call(O,N.current)}function h(){f.setState("value",N.current,!0)}if(!D)return null;let{disabled:F,value:P,onSelect:V,forceMount:I,keywords:A,...G}=s;return p.createElement(hs.div,{ref:Ls(o,a),...G,id:n,"cmdk-item":"",role:"option","aria-disabled":!!F,"aria-selected":!!w,"data-disabled":!!F,"data-selected":!!w,onPointerMove:F||u.getDisablePointerSelection()?void 0:h,onClick:F?void 0:H},s.children)}),pi=p.forwardRef((s,a)=>{let{heading:t,children:r,forceMount:n,...o}=s,i=ys(),u=p.useRef(null),d=p.useRef(null),m=ys(),N=Ws(),f=fs(D=>n||N.filter()===!1?!0:D.search?D.filtered.groups.has(i):!0);ws(()=>N.group(i),[]),Lr(i,u,[s.value,s.heading,d]);let w=p.useMemo(()=>({id:i,forceMount:n}),[n]);return p.createElement(hs.div,{ref:Ls(u,a),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},t&&p.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:m},t),ha(s,D=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?m:void 0},p.createElement(Or.Provider,{value:w},D))))}),fi=p.forwardRef((s,a)=>{let{alwaysRender:t,...r}=s,n=p.useRef(null),o=fs(i=>!i.search);return!t&&!o?null:p.createElement(hs.div,{ref:Ls(n,a),...r,"cmdk-separator":"",role:"separator"})}),hi=p.forwardRef((s,a)=>{let{onValueChange:t,...r}=s,n=s.value!=null,o=st(),i=fs(m=>m.search),u=fs(m=>m.selectedItemId),d=Ws();return p.useEffect(()=>{s.value!=null&&o.setState("search",s.value)},[s.value]),p.createElement(hs.input,{ref:a,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:n?s.value:i,onChange:m=>{n||o.setState("search",m.target.value),t?.(m.target.value)}})}),Ni=p.forwardRef((s,a)=>{let{children:t,label:r="Suggestions",...n}=s,o=p.useRef(null),i=p.useRef(null),u=fs(m=>m.selectedItemId),d=Ws();return p.useEffect(()=>{if(i.current&&o.current){let m=i.current,N=o.current,f,w=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let D=m.offsetHeight;N.style.setProperty("--cmdk-list-height",D.toFixed(1)+"px")})});return w.observe(m),()=>{cancelAnimationFrame(f),w.unobserve(m)}}},[]),p.createElement(hs.div,{ref:Ls(o,a),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":r,id:d.listId},ha(s,m=>p.createElement("div",{ref:Ls(i,d.listInnerRef),"cmdk-list-sizer":""},m)))}),bi=p.forwardRef((s,a)=>{let{open:t,onOpenChange:r,overlayClassName:n,contentClassName:o,container:i,...u}=s;return p.createElement(fa,{open:t,onOpenChange:r},p.createElement(pa,{container:i},p.createElement(Ts,{"cmdk-overlay":"",className:n}),p.createElement(Ps,{"aria-label":s.label,"cmdk-dialog":"",className:o},p.createElement(Br,{ref:a,...u}))))}),xi=p.forwardRef((s,a)=>fs(t=>t.filtered.count===0)?p.createElement(hs.div,{ref:a,...s,"cmdk-empty":"",role:"presentation"}):null),vi=p.forwardRef((s,a)=>{let{progress:t,children:r,label:n="Loading...",...o}=s;return p.createElement(hs.div,{ref:a,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},ha(s,i=>p.createElement("div",{"aria-hidden":!0},i)))}),Ie=Object.assign(Br,{List:Ni,Item:di,Input:hi,Group:pi,Separator:fi,Dialog:bi,Empty:xi,Loading:vi});function ji(s,a){let t=s.nextElementSibling;for(;t;){if(t.matches(a))return t;t=t.nextElementSibling}}function gi(s,a){let t=s.previousElementSibling;for(;t;){if(t.matches(a))return t;t=t.previousElementSibling}}function $r(s){let a=p.useRef(s);return ws(()=>{a.current=s}),a}var ws=typeof window>"u"?p.useEffect:p.useLayoutEffect;function ks(s){let a=p.useRef();return a.current===void 0&&(a.current=s()),a}function fs(s){let a=st(),t=()=>s(a.snapshot());return p.useSyncExternalStore(a.subscribe,t,t)}function Lr(s,a,t,r=[]){let n=p.useRef(),o=Ws();return ws(()=>{var i;let u=(()=>{var m;for(let N of t){if(typeof N=="string")return N.trim();if(typeof N=="object"&&"current"in N)return N.current?(m=N.current.textContent)==null?void 0:m.trim():n.current}})(),d=r.map(m=>m.trim());o.value(s,u,d),(i=a.current)==null||i.setAttribute(Es,u),n.current=u}),n}var wi=()=>{let[s,a]=p.useState(),t=ks(()=>new Map);return ws(()=>{t.current.forEach(r=>r()),t.current=new Map},[s]),(r,n)=>{t.current.set(r,n),a({})}};function Di(s){let a=s.type;return typeof a=="function"?a(s.props):"render"in a?a.render(s.props):s}function ha({asChild:s,children:a},t){return s&&p.isValidElement(a)?p.cloneElement(Di(a),{ref:a.ref},t(a.props.children)):t(a)}var Ei={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const at=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ie,{ref:t,className:T("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:13,columnNumber:3},void 0));at.displayName=Ie.displayName;const Zu=({children:s,...a})=>e.jsxDEV(Vr,{...a,children:e.jsxDEV(Wa,{className:"overflow-hidden p-0 shadow-lg",children:e.jsxDEV(at,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:30,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:29,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:28,columnNumber:5},void 0),ki=p.forwardRef(({className:s,...a},t)=>e.jsxDEV("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsxDEV(Cs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:43,columnNumber:5},void 0),e.jsxDEV(Ie.Input,{ref:t,className:T("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:44,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:42,columnNumber:3},void 0));ki.displayName=Ie.Input.displayName;const zr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ie.List,{ref:t,className:T("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:61,columnNumber:3},void 0));zr.displayName=Ie.List.displayName;const qr=p.forwardRef((s,a)=>e.jsxDEV(Ie.Empty,{ref:a,className:"py-6 text-center text-sm",...s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:74,columnNumber:3},void 0));qr.displayName=Ie.Empty.displayName;const Ur=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ie.Group,{ref:t,className:T("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:87,columnNumber:3},void 0));Ur.displayName=Ie.Group.displayName;const Vi=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ie.Separator,{ref:t,className:T("-mx-1 h-px bg-border",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:103,columnNumber:3},void 0));Vi.displayName=Ie.Separator.displayName;const Hr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ie.Item,{ref:t,className:T("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:115,columnNumber:3},void 0));Hr.displayName=Ie.Item.displayName;const Jr=p.forwardRef(({...s},a)=>e.jsxDEV("nav",{ref:a,"aria-label":"breadcrumb",...s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:12,columnNumber:26},void 0));Jr.displayName="Breadcrumb";const Gr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV("ol",{ref:t,className:T("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:19,columnNumber:3},void 0));Gr.displayName="BreadcrumbList";const Oa=p.forwardRef(({className:s,...a},t)=>e.jsxDEV("li",{ref:t,className:T("inline-flex items-center gap-1.5",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:34,columnNumber:3},void 0));Oa.displayName="BreadcrumbItem";const Ba=p.forwardRef(({asChild:s,className:a,...t},r)=>{const n=s?Jn:"a";return e.jsxDEV(n,{ref:r,className:T("transition-colors hover:text-foreground",a),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:51,columnNumber:5},void 0)});Ba.displayName="BreadcrumbLink";const Kr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:T("font-normal text-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:64,columnNumber:3},void 0));Kr.displayName="BreadcrumbPage";const Wr=({children:s,className:a,...t})=>e.jsxDEV("li",{role:"presentation","aria-hidden":"true",className:T("[&>svg]:size-3.5",a),...t,children:s??e.jsxDEV(Ft,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:86,columnNumber:18},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:80,columnNumber:3},void 0);Wr.displayName="BreadcrumbSeparator";const Yr=p.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(Jt,{ref:r,className:T("relative overflow-hidden",s),...t,children:[e.jsxDEV(Gn,{className:"h-full w-full rounded-[inherit] min-h-0",children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:15,columnNumber:5},void 0),e.jsxDEV(Qr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:18,columnNumber:5},void 0),e.jsxDEV(Kn,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:19,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:10,columnNumber:3},void 0));Yr.displayName=Jt.displayName;const Qr=p.forwardRef(({className:s,orientation:a="vertical",...t},r)=>e.jsxDEV(Gt,{ref:r,orientation:a,className:T("flex touch-none select-none transition-colors",a==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...t,children:e.jsxDEV(Wn,{className:"relative flex-1 rounded-full bg-border"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:41,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:28,columnNumber:3},void 0));Qr.displayName=Gt.displayName;function yi(s,a){let t;try{t=s()}catch{return}return{getItem:n=>{var o;const i=d=>d===null?null:JSON.parse(d,void 0),u=(o=t.getItem(n))!=null?o:null;return u instanceof Promise?u.then(i):i(u)},setItem:(n,o)=>t.setItem(n,JSON.stringify(o,void 0)),removeItem:n=>t.removeItem(n)}}const $a=s=>a=>{try{const t=s(a);return t instanceof Promise?t:{then(r){return $a(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return $a(r)(t)}}}},_i=(s,a)=>(t,r,n)=>{let o={storage:yi(()=>localStorage),partialize:h=>h,version:0,merge:(h,F)=>({...F,...h}),...a},i=!1;const u=new Set,d=new Set;let m=o.storage;if(!m)return s((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...h)},r,n);const N=()=>{const h=o.partialize({...r()});return m.setItem(o.name,{state:h,version:o.version})},f=n.setState;n.setState=(h,F)=>(f(h,F),N());const w=s((...h)=>(t(...h),N()),r,n);n.getInitialState=()=>w;let D;const H=()=>{var h,F;if(!m)return;i=!1,u.forEach(V=>{var I;return V((I=r())!=null?I:w)});const P=((F=o.onRehydrateStorage)==null?void 0:F.call(o,(h=r())!=null?h:w))||void 0;return $a(m.getItem.bind(m))(o.name).then(V=>{if(V)if(typeof V.version=="number"&&V.version!==o.version){if(o.migrate){const I=o.migrate(V.state,V.version);return I instanceof Promise?I.then(A=>[!0,A]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,V.state];return[!1,void 0]}).then(V=>{var I;const[A,G]=V;if(D=o.merge(G,(I=r())!=null?I:w),t(D,!0),A)return N()}).then(()=>{P?.(D,void 0),D=r(),i=!0,d.forEach(V=>V(D))}).catch(V=>{P?.(void 0,V)})};return n.persist={setOptions:h=>{o={...o,...h},h.storage&&(m=h.storage)},clearStorage:()=>{m?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>H(),hasHydrated:()=>i,onHydrate:h=>(u.add(h),()=>{u.delete(h)}),onFinishHydration:h=>(d.add(h),()=>{d.delete(h)})},o.skipHydration||H(),D||w},Ci=_i,Si=Kt()(Ci((s,a)=>({notifications:[],unreadCount:0,addNotification:t=>{const r=`notification-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n={...t,id:r,createdAt:new Date,read:!1,duration:t.duration??5e3};return s(o=>({notifications:[n,...o.notifications],unreadCount:o.unreadCount+1})),n.duration&&setTimeout(()=>{a().removeNotification(r)},n.duration),r},removeNotification:t=>{s(r=>{const n=r.notifications.find(i=>i.id===t),o=n&&!n.read;return{notifications:r.notifications.filter(i=>i.id!==t),unreadCount:o?r.unreadCount-1:r.unreadCount}})},markAsRead:t=>{s(r=>{const n=r.notifications.map(i=>i.id===t?{...i,read:!0}:i),o=n.filter(i=>!i.read).length;return{notifications:n,unreadCount:o}})},markAllAsRead:()=>{s(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0}))},clearAll:()=>{s({notifications:[],unreadCount:0})},clearRead:()=>{s(t=>({notifications:t.notifications.filter(r=>!r.read),unreadCount:t.unreadCount}))}}),{name:"assistjur-notifications",partialize:s=>({notifications:s.notifications.slice(0,50)})})),Ti=()=>{const{addNotification:s,...a}=Si();return{...a,success:(t,r,n)=>s({type:"success",title:t,message:r,...n}),error:(t,r,n)=>s({type:"error",title:t,message:r,duration:void 0,...n}),warning:(t,r,n)=>s({type:"warning",title:t,message:r,...n}),info:(t,r,n)=>s({type:"info",title:t,message:r,...n}),addNotification:s}},Pi=Qn,em=Xn,Mi=Yn,Xr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Wt,{className:T("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));Xr.displayName=Wt.displayName;const Zr=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Mi,{children:[e.jsxDEV(Xr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),e.jsxDEV(Yt,{ref:t,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));Zr.displayName=Yt.displayName;const en=({className:s,...a})=>e.jsxDEV("div",{className:T("flex flex-col space-y-2 text-center sm:text-left",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:50,columnNumber:3},void 0);en.displayName="AlertDialogHeader";const sn=({className:s,...a})=>e.jsxDEV("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:64,columnNumber:3},void 0);sn.displayName="AlertDialogFooter";const an=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Qt,{ref:t,className:T("text-lg font-semibold",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:78,columnNumber:3},void 0));an.displayName=Qt.displayName;const tn=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Xt,{ref:t,className:T("text-sm text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:90,columnNumber:3},void 0));tn.displayName=Xt.displayName;const rn=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(Zt,{ref:t,className:T(hr(),s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:103,columnNumber:3},void 0));rn.displayName=Zt.displayName;const nn=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(er,{ref:t,className:T(hr({variant:"outline"}),"mt-2 sm:mt-0",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:115,columnNumber:3},void 0));nn.displayName=er.displayName;const us=Zn,ms=eo,as=p.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(sr,{ref:r,className:T("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[a,e.jsxDEV(so,{asChild:!0,children:e.jsxDEV(Ms,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:26,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:17,columnNumber:3},void 0));as.displayName=sr.displayName;const on=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(rr,{ref:t,className:T("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsxDEV(nr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:45,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:37,columnNumber:3},void 0));on.displayName=rr.displayName;const ln=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(or,{ref:t,className:T("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsxDEV(Ms,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:62,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:54,columnNumber:3},void 0));ln.displayName=or.displayName;const ts=p.forwardRef(({className:s,children:a,position:t="popper",...r},n)=>e.jsxDEV(ao,{children:e.jsxDEV(ar,{ref:n,className:T("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...r,children:[e.jsxDEV(on,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:84,columnNumber:7},void 0),e.jsxDEV(to,{className:T("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:85,columnNumber:7},void 0),e.jsxDEV(ln,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:94,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:73,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:72,columnNumber:3},void 0));ts.displayName=ar.displayName;const Ri=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(ir,{ref:t,className:T("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:104,columnNumber:3},void 0));Ri.displayName=ir.displayName;const De=p.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(tr,{ref:r,className:T("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsxDEV(ro,{children:e.jsxDEV(Ha,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:124,columnNumber:5},void 0),e.jsxDEV(no,{children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:130,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:116,columnNumber:3},void 0));De.displayName=tr.displayName;const Ai=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(lr,{ref:t,className:T("-mx-1 my-1 h-px bg-muted",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:139,columnNumber:3},void 0));Ai.displayName=lr.displayName;var un={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(s,a){((t,r)=>{s.exports=r()})(Oo,function t(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},n,o=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,u={},d=0,m={};function N(l){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(c){var x=G(c);x.chunkSize=parseInt(x.chunkSize),c.step||c.chunk||(x.chunkSize=null),this._handle=new h(x),(this._handle.streamer=this)._config=x}.call(this,l),this.parseChunk=function(c,x){var g=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<g){let $=this._config.newline;$||(C=this._config.quoteChar||'"',$=this._handle.guessLineEndings(c,C)),c=[...c.split($).slice(g)].join($)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(c))!==void 0&&(c=C),this.isFirstChunk=!1,this._halted=!1;var g=this._partialLine+c,C=(this._partialLine="",this._handle.parse(g,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(c=C.meta.cursor,g=(this._finished||(this._partialLine=g.substring(c-this._baseIndex),this._baseIndex=c),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)r.postMessage({results:C,workerId:m.WORKER_ID,finished:g});else if(_(this._config.chunk)&&!x){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!g||!_(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),g||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(c){_(this._config.error)?this._config.error(c):i&&this._config.error&&r.postMessage({workerId:m.WORKER_ID,error:c,finished:!1})}}function f(l){var c;(l=l||{}).chunkSize||(l.chunkSize=m.RemoteChunkSize),N.call(this,l),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(c=new XMLHttpRequest,this._config.withCredentials&&(c.withCredentials=this._config.withCredentials),o||(c.onload=O(this._chunkLoaded,this),c.onerror=O(this._chunkError,this)),c.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var x,g=this._config.downloadRequestHeaders;for(x in g)c.setRequestHeader(x,g[x])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,c.setRequestHeader("Range","bytes="+this._start+"-"+C));try{c.send(this._config.downloadRequestBody)}catch($){this._chunkError($.message)}o&&c.status===0&&this._chunkError()}},this._chunkLoaded=function(){c.readyState===4&&(c.status<200||400<=c.status?this._chunkError():(this._start+=this._config.chunkSize||c.responseText.length,this._finished=!this._config.chunkSize||this._start>=(x=>(x=x.getResponseHeader("Content-Range"))!==null?parseInt(x.substring(x.lastIndexOf("/")+1)):-1)(c),this.parseChunk(c.responseText)))},this._chunkError=function(x){x=c.statusText||x,this._sendError(new Error(x))}}function w(l){(l=l||{}).chunkSize||(l.chunkSize=m.LocalChunkSize),N.call(this,l);var c,x,g=typeof FileReader<"u";this.stream=function(C){this._input=C,x=C.slice||C.webkitSlice||C.mozSlice,g?((c=new FileReader).onload=O(this._chunkLoaded,this),c.onerror=O(this._chunkError,this)):c=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,$=(this._config.chunkSize&&($=Math.min(this._start+this._config.chunkSize,this._input.size),C=x.call(C,this._start,$)),c.readAsText(C,this._config.encoding));g||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(c.error)}}function D(l){var c;N.call(this,l=l||{}),this.stream=function(x){return c=x,this._nextChunk()},this._nextChunk=function(){var x,g;if(!this._finished)return x=this._config.chunkSize,c=x?(g=c.substring(0,x),c.substring(x)):(g=c,""),this._finished=!c,this.parseChunk(g)}}function H(l){N.call(this,l=l||{});var c=[],x=!0,g=!1;this.pause=function(){N.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){N.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){g&&c.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),c.length?this.parseChunk(c.shift()):x=!0},this._streamData=O(function(C){try{c.push(typeof C=="string"?C:C.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(c.shift()))}catch($){this._streamError($)}},this),this._streamError=O(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=O(function(){this._streamCleanUp(),g=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(l){var c,x,g,C,$=Math.pow(2,53),Z=-$,oe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,me=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,L=this,re=0,q=0,ce=!1,Y=!1,v=[],j={data:[],errors:[],meta:{}};function k(M){return l.skipEmptyLines==="greedy"?M.join("").trim()==="":M.length===1&&M[0].length===0}function b(){if(j&&g&&(R("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+m.DefaultDelimiter+"'"),g=!1),l.skipEmptyLines&&(j.data=j.data.filter(function(J){return!k(J)})),y()){let J=function(ue,B){_(l.transformHeader)&&(ue=l.transformHeader(ue,B)),v.push(ue)};if(j)if(Array.isArray(j.data[0])){for(var M=0;y()&&M<j.data.length;M++)j.data[M].forEach(J);j.data.splice(0,1)}else j.data.forEach(J)}function S(J,ue){for(var B=l.header?{}:[],ne=0;ne<J.length;ne++){var le=ne,E=J[ne],E=((ae,U)=>(Q=>(l.dynamicTypingFunction&&l.dynamicTyping[Q]===void 0&&(l.dynamicTyping[Q]=l.dynamicTypingFunction(Q)),(l.dynamicTyping[Q]||l.dynamicTyping)===!0))(ae)?U==="true"||U==="TRUE"||U!=="false"&&U!=="FALSE"&&((Q=>{if(oe.test(Q)&&(Q=parseFloat(Q),Z<Q&&Q<$))return 1})(U)?parseFloat(U):me.test(U)?new Date(U):U===""?null:U):U)(le=l.header?ne>=v.length?"__parsed_extra":v[ne]:le,E=l.transform?l.transform(E,le):E);le==="__parsed_extra"?(B[le]=B[le]||[],B[le].push(E)):B[le]=E}return l.header&&(ne>v.length?R("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+ne,q+ue):ne<v.length&&R("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+ne,q+ue)),B}var ie;j&&(l.header||l.dynamicTyping||l.transform)&&(ie=1,!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(S),ie=j.data.length):j.data=S(j.data,0),l.header&&j.meta&&(j.meta.fields=v),q+=ie)}function y(){return l.header&&v.length===0}function R(M,S,ie,J){M={type:M,code:S,message:ie},J!==void 0&&(M.row=J),j.errors.push(M)}_(l.step)&&(C=l.step,l.step=function(M){j=M,y()?b():(b(),j.data.length!==0&&(re+=M.data.length,l.preview&&re>l.preview?x.abort():(j.data=j.data[0],C(j,L))))}),this.parse=function(M,S,ie){var J=l.quoteChar||'"',J=(l.newline||(l.newline=this.guessLineEndings(M,J)),g=!1,l.delimiter?_(l.delimiter)&&(l.delimiter=l.delimiter(M),j.meta.delimiter=l.delimiter):((J=((ue,B,ne,le,E)=>{var ae,U,Q,te;E=E||[",","	","|",";",m.RECORD_SEP,m.UNIT_SEP];for(var ge=0;ge<E.length;ge++){for(var fe,ye=E[ge],he=0,_e=0,xe=0,Ee=(Q=void 0,new P({comments:le,delimiter:ye,newline:B,preview:10}).parse(ue)),Je=0;Je<Ee.data.length;Je++)ne&&k(Ee.data[Je])?xe++:(fe=Ee.data[Je].length,_e+=fe,Q===void 0?Q=fe:0<fe&&(he+=Math.abs(fe-Q),Q=fe));0<Ee.data.length&&(_e/=Ee.data.length-xe),(U===void 0||he<=U)&&(te===void 0||te<_e)&&1.99<_e&&(U=he,ae=ye,te=_e)}return{successful:!!(l.delimiter=ae),bestDelimiter:ae}})(M,l.newline,l.skipEmptyLines,l.comments,l.delimitersToGuess)).successful?l.delimiter=J.bestDelimiter:(g=!0,l.delimiter=m.DefaultDelimiter),j.meta.delimiter=l.delimiter),G(l));return l.preview&&l.header&&J.preview++,c=M,x=new P(J),j=x.parse(c,S,ie),b(),ce?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return ce},this.pause=function(){ce=!0,x.abort(),c=_(l.chunk)?"":c.substring(x.getCharIndex())},this.resume=function(){L.streamer._halted?(ce=!1,L.streamer.parseChunk(c,!0)):setTimeout(L.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,x.abort(),j.meta.aborted=!0,_(l.complete)&&l.complete(j),c=""},this.guessLineEndings=function(ue,J){ue=ue.substring(0,1048576);var J=new RegExp(F(J)+"([^]*?)"+F(J),"gm"),ie=(ue=ue.replace(J,"")).split("\r"),J=ue.split(`
`),ue=1<J.length&&J[0].length<ie[0].length;if(ie.length===1||ue)return`
`;for(var B=0,ne=0;ne<ie.length;ne++)ie[ne][0]===`
`&&B++;return B>=ie.length/2?`\r
`:"\r"}}function F(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(l){var c=(l=l||{}).delimiter,x=l.newline,g=l.comments,C=l.step,$=l.preview,Z=l.fastMode,oe=null,me=!1,L=l.quoteChar==null?'"':l.quoteChar,re=L;if(l.escapeChar!==void 0&&(re=l.escapeChar),(typeof c!="string"||-1<m.BAD_DELIMITERS.indexOf(c))&&(c=","),g===c)throw new Error("Comment character same as delimiter");g===!0?g="#":(typeof g!="string"||-1<m.BAD_DELIMITERS.indexOf(g))&&(g=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var q=0,ce=!1;this.parse=function(Y,v,j){if(typeof Y!="string")throw new Error("Input must be a string");var k=Y.length,b=c.length,y=x.length,R=g.length,M=_(C),S=[],ie=[],J=[],ue=q=0;if(!Y)return he();if(Z||Z!==!1&&Y.indexOf(L)===-1){for(var B=Y.split(x),ne=0;ne<B.length;ne++){if(J=B[ne],q+=J.length,ne!==B.length-1)q+=x.length;else if(j)return he();if(!g||J.substring(0,R)!==g){if(M){if(S=[],te(J.split(c)),_e(),ce)return he()}else te(J.split(c));if($&&$<=ne)return S=S.slice(0,$),he(!0)}}return he()}for(var le=Y.indexOf(c,q),E=Y.indexOf(x,q),ae=new RegExp(F(re)+F(L),"g"),U=Y.indexOf(L,q);;)if(Y[q]===L)for(U=q,q++;;){if((U=Y.indexOf(L,U+1))===-1)return j||ie.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:S.length,index:q}),fe();if(U===k-1)return fe(Y.substring(q,U).replace(ae,L));if(L===re&&Y[U+1]===re)U++;else if(L===re||U===0||Y[U-1]!==re){le!==-1&&le<U+1&&(le=Y.indexOf(c,U+1));var Q=ge((E=E!==-1&&E<U+1?Y.indexOf(x,U+1):E)===-1?le:Math.min(le,E));if(Y.substr(U+1+Q,b)===c){J.push(Y.substring(q,U).replace(ae,L)),Y[q=U+1+Q+b]!==L&&(U=Y.indexOf(L,q)),le=Y.indexOf(c,q),E=Y.indexOf(x,q);break}if(Q=ge(E),Y.substring(U+1+Q,U+1+Q+y)===x){if(J.push(Y.substring(q,U).replace(ae,L)),ye(U+1+Q+y),le=Y.indexOf(c,q),U=Y.indexOf(L,q),M&&(_e(),ce))return he();if($&&S.length>=$)return he(!0);break}ie.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:S.length,index:q}),U++}}else if(g&&J.length===0&&Y.substring(q,q+R)===g){if(E===-1)return he();q=E+y,E=Y.indexOf(x,q),le=Y.indexOf(c,q)}else if(le!==-1&&(le<E||E===-1))J.push(Y.substring(q,le)),q=le+b,le=Y.indexOf(c,q);else{if(E===-1)break;if(J.push(Y.substring(q,E)),ye(E+y),M&&(_e(),ce))return he();if($&&S.length>=$)return he(!0)}return fe();function te(xe){S.push(xe),ue=q}function ge(xe){var Ee=0;return Ee=xe!==-1&&(xe=Y.substring(U+1,xe))&&xe.trim()===""?xe.length:Ee}function fe(xe){return j||(xe===void 0&&(xe=Y.substring(q)),J.push(xe),q=k,te(J),M&&_e()),he()}function ye(xe){q=xe,te(J),J=[],E=Y.indexOf(x,q)}function he(xe){if(l.header&&!v&&S.length&&!me){var Ee=S[0],Je=Object.create(null),Ds=new Set(Ee);let Qs=!1;for(let qe=0;qe<Ee.length;qe++){let Fe=Ee[qe];if(Je[Fe=_(l.transformHeader)?l.transformHeader(Fe,qe):Fe]){let Ns,Xs=Je[Fe];for(;Ns=Fe+"_"+Xs,Xs++,Ds.has(Ns););Ds.add(Ns),Ee[qe]=Ns,Je[Fe]++,Qs=!0,(oe=oe===null?{}:oe)[Ns]=Fe}else Je[Fe]=1,Ee[qe]=Fe;Ds.add(Fe)}Qs&&console.warn("Duplicate headers found and renamed."),me=!0}return{data:S,errors:ie,meta:{delimiter:c,linebreak:x,aborted:ce,truncated:!!xe,cursor:ue+(v||0),renamedHeaders:oe}}}function _e(){C(he()),S=[],ie=[]}},this.abort=function(){ce=!0},this.getCharIndex=function(){return q}}function V(l){var c=l.data,x=u[c.workerId],g=!1;if(c.error)x.userError(c.error,c.file);else if(c.results&&c.results.data){var C={abort:function(){g=!0,I(c.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(_(x.userStep)){for(var $=0;$<c.results.data.length&&(x.userStep({data:c.results.data[$],errors:c.results.errors,meta:c.results.meta},C),!g);$++);delete c.results}else _(x.userChunk)&&(x.userChunk(c.results,C,c.file),delete c.results)}c.finished&&!g&&I(c.workerId,c.results)}function I(l,c){var x=u[l];_(x.userComplete)&&x.userComplete(c),x.terminate(),delete u[l]}function A(){throw new Error("Not implemented.")}function G(l){if(typeof l!="object"||l===null)return l;var c,x=Array.isArray(l)?[]:{};for(c in l)x[c]=G(l[c]);return x}function O(l,c){return function(){l.apply(c,arguments)}}function _(l){return typeof l=="function"}return m.parse=function(l,c){var x=(c=c||{}).dynamicTyping||!1;if(_(x)&&(c.dynamicTypingFunction=x,x={}),c.dynamicTyping=x,c.transform=!!_(c.transform)&&c.transform,!c.worker||!m.WORKERS_SUPPORTED)return x=null,m.NODE_STREAM_INPUT,typeof l=="string"?(l=(g=>g.charCodeAt(0)!==65279?g:g.slice(1))(l),x=new(c.download?f:D)(c)):l.readable===!0&&_(l.read)&&_(l.on)?x=new H(c):(r.File&&l instanceof File||l instanceof Object)&&(x=new w(c)),x.stream(l);(x=(()=>{var g;return!!m.WORKERS_SUPPORTED&&(g=(()=>{var C=r.URL||r.webkitURL||null,$=t.toString();return m.BLOB_URL||(m.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",$,")();"],{type:"text/javascript"})))})(),(g=new r.Worker(g)).onmessage=V,g.id=d++,u[g.id]=g)})()).userStep=c.step,x.userChunk=c.chunk,x.userComplete=c.complete,x.userError=c.error,c.step=_(c.step),c.chunk=_(c.chunk),c.complete=_(c.complete),c.error=_(c.error),delete c.worker,x.postMessage({input:l,config:c,workerId:x.id})},m.unparse=function(l,c){var x=!1,g=!0,C=",",$=`\r
`,Z='"',oe=Z+Z,me=!1,L=null,re=!1,q=((()=>{if(typeof c=="object"){if(typeof c.delimiter!="string"||m.BAD_DELIMITERS.filter(function(v){return c.delimiter.indexOf(v)!==-1}).length||(C=c.delimiter),typeof c.quotes!="boolean"&&typeof c.quotes!="function"&&!Array.isArray(c.quotes)||(x=c.quotes),typeof c.skipEmptyLines!="boolean"&&typeof c.skipEmptyLines!="string"||(me=c.skipEmptyLines),typeof c.newline=="string"&&($=c.newline),typeof c.quoteChar=="string"&&(Z=c.quoteChar),typeof c.header=="boolean"&&(g=c.header),Array.isArray(c.columns)){if(c.columns.length===0)throw new Error("Option columns is empty");L=c.columns}c.escapeChar!==void 0&&(oe=c.escapeChar+Z),c.escapeFormulae instanceof RegExp?re=c.escapeFormulae:typeof c.escapeFormulae=="boolean"&&c.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(F(Z),"g"));if(typeof l=="string"&&(l=JSON.parse(l)),Array.isArray(l)){if(!l.length||Array.isArray(l[0]))return ce(null,l,me);if(typeof l[0]=="object")return ce(L||Object.keys(l[0]),l,me)}else if(typeof l=="object")return typeof l.data=="string"&&(l.data=JSON.parse(l.data)),Array.isArray(l.data)&&(l.fields||(l.fields=l.meta&&l.meta.fields||L),l.fields||(l.fields=Array.isArray(l.data[0])?l.fields:typeof l.data[0]=="object"?Object.keys(l.data[0]):[]),Array.isArray(l.data[0])||typeof l.data[0]=="object"||(l.data=[l.data])),ce(l.fields||[],l.data||[],me);throw new Error("Unable to serialize unrecognized input");function ce(v,j,k){var b="",y=(typeof v=="string"&&(v=JSON.parse(v)),typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(v)&&0<v.length),R=!Array.isArray(j[0]);if(y&&g){for(var M=0;M<v.length;M++)0<M&&(b+=C),b+=Y(v[M],M);0<j.length&&(b+=$)}for(var S=0;S<j.length;S++){var ie=(y?v:j[S]).length,J=!1,ue=y?Object.keys(j[S]).length===0:j[S].length===0;if(k&&!y&&(J=k==="greedy"?j[S].join("").trim()==="":j[S].length===1&&j[S][0].length===0),k==="greedy"&&y){for(var B=[],ne=0;ne<ie;ne++){var le=R?v[ne]:ne;B.push(j[S][le])}J=B.join("").trim()===""}if(!J){for(var E=0;E<ie;E++){0<E&&!ue&&(b+=C);var ae=y&&R?v[E]:E;b+=Y(j[S][ae],E)}S<j.length-1&&(!k||0<ie&&!ue)&&(b+=$)}}return b}function Y(v,j){var k,b;return v==null?"":v.constructor===Date?JSON.stringify(v).slice(1,25):(b=!1,re&&typeof v=="string"&&re.test(v)&&(v="'"+v,b=!0),k=v.toString().replace(q,oe),(b=b||x===!0||typeof x=="function"&&x(v,j)||Array.isArray(x)&&x[j]||((y,R)=>{for(var M=0;M<R.length;M++)if(-1<y.indexOf(R[M]))return!0;return!1})(k,m.BAD_DELIMITERS)||-1<k.indexOf(C)||k.charAt(0)===" "||k.charAt(k.length-1)===" ")?Z+k+Z:k)}},m.RECORD_SEP="",m.UNIT_SEP="",m.BYTE_ORDER_MARK="\uFEFF",m.BAD_DELIMITERS=["\r",`
`,'"',m.BYTE_ORDER_MARK],m.WORKERS_SUPPORTED=!o&&!!r.Worker,m.NODE_STREAM_INPUT=1,m.LocalChunkSize=10485760,m.RemoteChunkSize=5242880,m.DefaultDelimiter=",",m.Parser=P,m.ParserHandle=h,m.NetworkStreamer=f,m.FileStreamer=w,m.StringStreamer=D,m.ReadableStreamStreamer=H,r.jQuery&&((n=r.jQuery).fn.parse=function(l){var c=l.config||{},x=[];return this.each(function($){if(!(n(this).prop("tagName").toUpperCase()==="INPUT"&&n(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Z=0;Z<this.files.length;Z++)x.push({file:this.files[Z],inputElem:this,instanceConfig:n.extend({},c)})}),g(),this;function g(){if(x.length===0)_(l.complete)&&l.complete();else{var $,Z,oe,me,L=x[0];if(_(l.before)){var re=l.before(L.file,L.inputElem);if(typeof re=="object"){if(re.action==="abort")return $="AbortError",Z=L.file,oe=L.inputElem,me=re.reason,void(_(l.error)&&l.error({name:$},Z,oe,me));if(re.action==="skip")return void C();typeof re.config=="object"&&(L.instanceConfig=n.extend(L.instanceConfig,re.config))}else if(re==="skip")return void C()}var q=L.instanceConfig.complete;L.instanceConfig.complete=function(ce){_(q)&&q(ce,L.file,L.inputElem),C()},m.parse(L.file,L.instanceConfig)}}function C(){x.splice(0,1),g()}}),i&&(r.onmessage=function(l){l=l.data,m.WORKER_ID===void 0&&l&&(m.WORKER_ID=l.workerId),typeof l.input=="string"?r.postMessage({workerId:m.WORKER_ID,results:m.parse(l.input,l.config),finished:!0}):(r.File&&l.input instanceof File||l.input instanceof Object)&&(l=m.parse(l.input,l.config))&&r.postMessage({workerId:m.WORKER_ID,results:l,finished:!0})}),(f.prototype=Object.create(N.prototype)).constructor=f,(w.prototype=Object.create(N.prototype)).constructor=w,(D.prototype=Object.create(D.prototype)).constructor=D,(H.prototype=Object.create(N.prototype)).constructor=H,m})})(un);var Ii=un.exports;const mn=Fo(Ii);function Fi(s){return s&&s.replace(/(\d{3})\.\d{3}\.\d{3}-(\d{2})/,"$1.***.***-$2")}function Oi(s){return s&&s.replace(/(\d{2})\.\d{3}\.\d{3}\/\d{4}-(\d{2})/,"$1.***.***/**-$2")}function Bi(s){if(!s)return s;const[a,t]=s.split("@");return a.length<=2?`${a}***@${t}`:`${a.slice(0,2)}***@${t}`}function $i(s){return s&&s.replace(/(\d{2})\d{4,5}(\d{4})/,"$1****$2")}function Li(s){return s&&s.replace(/(\d{2,3})\d+/,"$1***")}function zi(s){if(!s)return s;let a=s;return a=a.replace(/\d{3}\.\d{3}\.\d{3}-\d{2}/g,t=>Fi(t)),a=a.replace(/\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}/g,t=>Oi(t)),a=a.replace(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,t=>Bi(t)),a=a.replace(/\(\d{2}\)\s?\d{4,5}-?\d{4}/g,t=>$i(t)),a=a.replace(/OAB[-\/]?\s?\d{3,6}/gi,t=>{const r=t.match(/\d{3,6}/)?.[0]||"";return t.replace(r,Li(r))}),a}function rs(s,a){if(!a||!s)return s;if(typeof s=="string")return zi(s);if(Array.isArray(s))return s.map(t=>rs(t,a));if(typeof s=="object"){const t={};for(const[r,n]of Object.entries(s))t[r]=rs(n,a);return t}return s}function js({items:s,maxVisible:a=2,isPiiMasked:t=!1}){const{toast:r}=ze();if(!s||s.length===0)return e.jsxDEV("span",{className:"text-muted-foreground",children:"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:26,columnNumber:12},this);const n=rs(s,t),o=n.slice(0,a),i=s.length-a,u=async()=>{try{await navigator.clipboard.writeText(s.join(`
`)),r({title:"Copiado!",description:"Lista copiada para a área de transferência."})}catch{r({title:"Erro ao copiar",description:"Não foi possível copiar a lista.",variant:"destructive"})}};return s.length<=a?e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:o.map((d,m)=>e.jsxDEV(se,{variant:"secondary",className:"text-xs",children:d},m,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:53,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:51,columnNumber:7},this):e.jsxDEV("div",{className:"flex items-center gap-1",children:[o.map((d,m)=>e.jsxDEV(se,{variant:"secondary",className:"text-xs",children:d},m,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:64,columnNumber:9},this)),i>0&&e.jsxDEV(vr,{children:[e.jsxDEV(jr,{asChild:!0,children:e.jsxDEV(W,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",children:["+",i," ",e.jsxDEV(Ms,{className:"ml-1 h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:72,columnNumber:30},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:71,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:70,columnNumber:11},this),e.jsxDEV(gr,{className:"w-80",align:"start",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h4",{className:"font-medium",children:["Lista completa (",s.length," itens)"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:78,columnNumber:17},this),e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:u,className:"h-8 px-2",children:e.jsxDEV(ds,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:87,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:81,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:77,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1 max-h-48 overflow-y-auto",children:n.map((d,m)=>e.jsxDEV(se,{variant:"outline",className:"text-xs",children:d},m,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:92,columnNumber:19},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:90,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:76,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:69,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:62,columnNumber:5},this)}const qi=["⏱ Mapeando conexões de testemunhas…","🔎 Checando histórico probatório…","⚖️ Analisando padrões de triangulação…","📋 Identificando riscos processuais…","👥 Cruzando dados do polo ativo…","🎯 Gerando insights estratégicos…","📊 Compilando relatório executivo…"],K=Kt(s=>({processos:[],testemunhas:[],activeTab:"processos",selectedProcesso:null,selectedTestemunha:null,isDetailDrawerOpen:!1,isImportModalOpen:!1,isLoading:!1,isPiiMasked:!1,hasError:!1,errorMessage:"",lastUpdate:null,processoFilters:{},testemunhaFilters:{},columnVisibility:{processos:{cnj:!0,uf:!0,comarca:!0,fase:!0,status:!0,reclamante:!0,qtdDepos:!0,testemunhas:!0,classificacao:!0,acoes:!0},testemunhas:{nome:!0,qtdDepo:!0,ambosPolos:!0,jaReclamante:!0,cnjs:!0,classificacao:!0,acoes:!0}},savedViews:{},activeView:null,processosPage:1,testemunhasPage:1,pageSize:100,totalProcessos:0,totalTestemunhas:0,hasMoreProcessos:!1,hasMoreTestemunhas:!1,chatKind:"processo",chatInput:"",chatMessages:[],chatStatus:"idle",agentOnline:!0,chatResult:null,loadingHints:qi,currentHintIndex:0,density:"comfortable",navigationHistory:[{label:"Mapa de Testemunhas",path:"/mapa-testemunhas"}],setActiveTab:a=>s({activeTab:a}),setProcessos:a=>s({processos:a}),setTestemunhas:a=>s({testemunhas:a}),setSelectedProcesso:a=>s({selectedProcesso:a}),setSelectedTestemunha:a=>s({selectedTestemunha:a}),setIsDetailDrawerOpen:a=>s({isDetailDrawerOpen:a}),setIsImportModalOpen:a=>s({isImportModalOpen:a}),setIsLoading:a=>s({isLoading:a}),setIsPiiMasked:a=>s({isPiiMasked:a}),setError:(a,t="")=>s({hasError:a,errorMessage:t}),setLastUpdate:a=>s({lastUpdate:a}),setProcessoFilters:a=>s(t=>{const r={...t.processoFilters,...a};return Object.keys(a).forEach(n=>{a[n]===void 0&&delete r[n]}),{processoFilters:r,processosPage:1}}),setTestemunhaFilters:a=>s(t=>{const r={...t.testemunhaFilters,...a};return Object.keys(a).forEach(n=>{a[n]===void 0&&delete r[n]}),{testemunhaFilters:r,testemunhasPage:1}}),setColumnVisibility:(a,t,r)=>s(n=>({columnVisibility:{...n.columnVisibility,[a]:{...n.columnVisibility[a],[t]:r}}})),saveView:(a,t)=>s(r=>{const n={...r.savedViews,[a]:{processoFilters:r.processoFilters,testemunhaFilters:r.testemunhaFilters,columnVisibility:r.columnVisibility}};return typeof window<"u"&&(localStorage.setItem(`mapaViews_${t}`,JSON.stringify(n)),localStorage.setItem(`mapaActiveView_${t}`,a)),{savedViews:n,activeView:a}}),loadViews:a=>{if(typeof window>"u")return;const t=localStorage.getItem(`mapaViews_${a}`),r=t?JSON.parse(t):{},n=localStorage.getItem(`mapaActiveView_${a}`);s({savedViews:r,activeView:n}),n&&r[n]&&s({processoFilters:r[n].processoFilters,testemunhaFilters:r[n].testemunhaFilters,columnVisibility:r[n].columnVisibility})},setActiveViewName:(a,t)=>s(r=>{const n=r.savedViews[a];return n?(typeof window<"u"&&localStorage.setItem(`mapaActiveView_${t}`,a),{activeView:a,processoFilters:n.processoFilters,testemunhaFilters:n.testemunhaFilters,columnVisibility:n.columnVisibility}):{}}),setProcessosPage:a=>s({processosPage:a}),setTestemunhasPage:a=>s({testemunhasPage:a}),setTotalProcessos:a=>s({totalProcessos:a}),setTotalTestemunhas:a=>s({totalTestemunhas:a}),setHasMoreProcessos:a=>s({hasMoreProcessos:a}),setHasMoreTestemunhas:a=>s({hasMoreTestemunhas:a}),loadMoreProcessos:()=>s(a=>({processosPage:a.processosPage+1})),loadMoreTestemunhas:()=>s(a=>({testemunhasPage:a.testemunhasPage+1})),removeProcesso:a=>{let t=null;return s(r=>{const n=r.processos.findIndex(i=>i.cnj===a);if(n===-1)return{};t=r.processos[n];const o=[...r.processos];return o.splice(n,1),{processos:o,totalProcessos:r.totalProcessos-1}}),t},restoreProcesso:a=>s(t=>({processos:[a,...t.processos],totalProcessos:t.totalProcessos+1})),removeTestemunha:a=>{let t=null;return s(r=>{const n=r.testemunhas.findIndex(i=>i.nome_testemunha===a);if(n===-1)return{};t=r.testemunhas[n];const o=[...r.testemunhas];return o.splice(n,1),{testemunhas:o,totalTestemunhas:r.totalTestemunhas-1}}),t},restoreTestemunha:a=>s(t=>({testemunhas:[a,...t.testemunhas],totalTestemunhas:t.totalTestemunhas+1})),resetFilters:()=>s({processoFilters:{},testemunhaFilters:{},processosPage:1,testemunhasPage:1}),setChatKind:a=>s({chatKind:a}),setChatInput:a=>s({chatInput:a}),addChatMessage:a=>{const t={...a,id:`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date};return s(r=>({chatMessages:[...r.chatMessages,t]})),t.id},updateChatMessage:(a,t)=>s(r=>({chatMessages:r.chatMessages.map(n=>n.id===a?{...n,...t}:n)})),setChatStatus:a=>s({chatStatus:a}),setAgentOnline:a=>s({agentOnline:a}),setChatResult:a=>s({chatResult:a}),resetChat:()=>s({chatInput:"",chatMessages:[],chatStatus:"idle",chatResult:null,currentHintIndex:0}),nextHint:()=>s(a=>({currentHintIndex:(a.currentHintIndex+1)%a.loadingHints.length})),setDensity:a=>s({density:a}),pushNavigation:a=>s(t=>t.navigationHistory[t.navigationHistory.length-1]?.path===a.path?{}:{navigationHistory:[...t.navigationHistory,a]}),popNavigation:a=>s(t=>({navigationHistory:t.navigationHistory.slice(0,a+1)})),clearNavigation:()=>s({navigationHistory:[{label:"Mapa de Testemunhas",path:"/mapa-testemunhas"}]})})),cn=s=>s.activeTab,Ui=s=>s.processos,Hi=s=>s.testemunhas,Ji=s=>s.isLoading,Gi=s=>s.isPiiMasked,Ki=s=>s.hasError,Wi=s=>s.errorMessage,Yi=s=>s.lastUpdate,Qi=s=>s.processoFilters,Xi=s=>s.testemunhaFilters,Zi=s=>s.isImportModalOpen,tt=s=>s.columnVisibility,el=s=>s.savedViews,sl=s=>s.activeView;function dn({score:s,riscoNivel:a,className:t}){const o=a?(i=>{switch(i){case"critico":return{level:"Crítico",color:"bg-red-600 text-white border-red-700"};case"alto":return{level:"Alto",color:"bg-destructive text-destructive-foreground"};case"medio":return{level:"Médio",color:"bg-amber-500/15 text-amber-600 border-amber-500/30"};case"baixo":return{level:"Baixo",color:"bg-emerald-500/15 text-emerald-600 border-emerald-500/30"}}})(a):s!==void 0?(i=>i>=70?{level:"VALIDAR",color:"bg-destructive text-destructive-foreground",riscoNivel:"alto"}:i>=50?{level:"AVALIAR",color:"bg-warning text-warning-foreground",riscoNivel:"medio"}:i>=30?{level:"CONHECER",color:"bg-success text-success-foreground",riscoNivel:"baixo"}:{level:"DESCARTAR",color:"bg-muted text-muted-foreground",riscoNivel:"baixo"})(s):{level:"N/A",color:"bg-muted text-muted-foreground"};return e.jsxDEV(se,{className:T("font-semibold px-3 py-1 shadow-sm",o.color,t),children:[o.level,s!==void 0&&!a?` (${s})`:""]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/RiskBadge.tsx",lineNumber:69,columnNumber:5},this)}function pn(s){const{toast:a}=ze(),t=p.useRef(new Map);return{remove:({key:n,label:o,onDelete:i,onRestore:u})=>{const d=i();if(!d)return;t.current.set(n,d);const m=()=>{const N=t.current.get(n);N&&(u(N),t.current.delete(n))};a({title:`${s} removido`,description:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:o},void 0,!1,{fileName:"/workspaces/assitjur/src/hooks/useUndoDelete.tsx",lineNumber:36,columnNumber:11},this),e.jsxDEV(W,{variant:"outline",size:"sm",onClick:m,className:"ml-2 h-6 px-2 text-xs",children:[e.jsxDEV(oo,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/hooks/useUndoDelete.tsx",lineNumber:43,columnNumber:13},this),"Desfazer"]},void 0,!0,{fileName:"/workspaces/assitjur/src/hooks/useUndoDelete.tsx",lineNumber:37,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/hooks/useUndoDelete.tsx",lineNumber:35,columnNumber:9},this),duration:5e3}),setTimeout(()=>{t.current.delete(n)},5e3)}}}function rt({open:s,title:a,description:t,confirmText:r="Confirmar",cancelText:n="Cancelar",loading:o=!1,onConfirm:i,onCancel:u}){return e.jsxDEV(Pi,{open:s,onOpenChange:d=>!d&&u(),children:e.jsxDEV(Zr,{children:[e.jsxDEV(en,{children:[e.jsxDEV(an,{children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:38,columnNumber:11},this),t&&e.jsxDEV(tn,{children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:40,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:37,columnNumber:9},this),e.jsxDEV(sn,{children:[e.jsxDEV(nn,{disabled:o,children:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:44,columnNumber:11},this),e.jsxDEV(rn,{onClick:i,disabled:o,children:[o&&e.jsxDEV(Ss,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:46,columnNumber:25},this),r]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:45,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:43,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:36,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:35,columnNumber:5},this)}const fn={density:{compact:{row:"py-1",cell:"px-3 py-1",text:"text-xs",badge:"text-[10px] px-1.5 py-0",button:"h-6 w-6",icon:"h-3 w-3"},comfortable:{row:"py-3",cell:"px-4 py-3",text:"text-sm",badge:"text-xs px-2 py-0.5",button:"h-8 w-8",icon:"h-4 w-4"}}};function al({data:s}){const{setSelectedProcesso:a,setIsDetailDrawerOpen:t,isPiiMasked:r,removeProcesso:n,restoreProcesso:o,density:i}=K(),u=K(tt).processos,{remove:d}=pn("Processo"),[m,N]=p.useState(null),[f,w]=p.useState(!1),D=fn.density[i],H=V=>{a(V),t(!0)},h=V=>{N(V),w(!0)},F=()=>{m&&d({key:m.cnj,label:m.cnj,onDelete:()=>n(m.cnj),onRestore:o}),w(!1),N(null)},P=V=>{switch(V?.toLowerCase()){case"ativo":return"bg-success text-success-foreground";case"arquivado":return"bg-muted text-muted-foreground";case"suspenso":return"bg-warning text-warning-foreground";case"baixado":return"bg-secondary text-secondary-foreground";case"cancelado":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}};return s.length?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"border border-border/50 rounded-2xl overflow-hidden",children:e.jsxDEV(wr,{children:[e.jsxDEV(Dr,{children:e.jsxDEV(ma,{className:"bg-muted/30",children:[u.cnj&&e.jsxDEV(Ce,{className:"font-semibold",children:"CNJ"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:108,columnNumber:17},this),u.uf&&e.jsxDEV(Ce,{className:"font-semibold",children:"UF"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:111,columnNumber:17},this),u.comarca&&e.jsxDEV(Ce,{className:"font-semibold",children:"Comarca"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:114,columnNumber:17},this),u.fase&&e.jsxDEV(Ce,{className:"font-semibold",children:"Fase"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:117,columnNumber:17},this),u.status&&e.jsxDEV(Ce,{className:"font-semibold",children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:120,columnNumber:17},this),u.reclamante&&e.jsxDEV(Ce,{className:"font-semibold",children:"Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:123,columnNumber:17},this),u.qtdDepos&&e.jsxDEV(Ce,{className:"font-semibold",children:"Qtd Depo Únicos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:126,columnNumber:17},this),u.testemunhas&&e.jsxDEV(Ce,{className:"font-semibold",children:"Testemunhas Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:129,columnNumber:17},this),u.classificacao&&e.jsxDEV(Ce,{className:"font-semibold",children:"Classificação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:134,columnNumber:17},this),u.acoes&&e.jsxDEV(Ce,{className:"font-semibold text-center",children:"Ações"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:106,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:105,columnNumber:11},this),e.jsxDEV(Er,{children:s.map(V=>e.jsxDEV(ma,{className:T("hover:bg-muted/20",D.row),children:[u.cnj&&e.jsxDEV(Se,{className:T("font-mono",D.cell,D.text),children:rs(V.cnj,r)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:150,columnNumber:19},this),u.uf&&e.jsxDEV(Se,{className:D.cell,children:e.jsxDEV(se,{variant:"outline",className:D.badge,children:V.uf},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:162,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:161,columnNumber:19},this),u.comarca&&e.jsxDEV(Se,{className:T("max-w-[150px] truncate",D.cell,D.text),title:V.comarca||"",children:rs(V.comarca,r)||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:168,columnNumber:19},this),u.fase&&e.jsxDEV(Se,{className:D.cell,children:e.jsxDEV(se,{variant:"secondary",className:D.badge,children:V.fase||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:181,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:180,columnNumber:19},this),u.status&&e.jsxDEV(Se,{className:D.cell,children:e.jsxDEV(se,{className:T(D.badge,P(V.status)),children:V.status||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:188,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:187,columnNumber:19},this),u.reclamante&&e.jsxDEV(Se,{className:T("max-w-[180px] truncate",D.cell,D.text),title:V.reclamante_limpo||"",children:rs(V.reclamante_limpo,r)||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:199,columnNumber:19},this),u.qtdDepos&&e.jsxDEV(Se,{className:T("text-center",D.cell),children:V.qtd_total_depos_unicos?e.jsxDEV(dn,{score:V.qtd_total_depos_unicos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:214,columnNumber:23},this):"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:212,columnNumber:19},this),u.testemunhas&&e.jsxDEV(Se,{className:D.cell,children:e.jsxDEV(js,{items:V.testemunhas_ativo_limpo,maxVisible:2,isPiiMasked:r},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:222,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:221,columnNumber:19},this),u.classificacao&&e.jsxDEV(Se,{className:D.cell,children:e.jsxDEV(se,{variant:V.classificacao_final==="ALTO RISCO"?"destructive":"secondary",className:D.badge,children:V.classificacao_final||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:231,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:230,columnNumber:19},this),u.acoes&&e.jsxDEV(Se,{className:D.cell,children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>H(V),className:T("p-0",D.button),children:e.jsxDEV(ns,{className:D.icon},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:252,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:246,columnNumber:23},this),e.jsxDEV(W,{variant:"ghost",size:"sm",className:T("p-0",D.button),children:e.jsxDEV(ur,{className:D.icon},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:259,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:254,columnNumber:23},this),e.jsxDEV(W,{variant:"ghost",size:"sm",className:T("p-0 text-destructive hover:text-destructive",D.button),onClick:()=>h(V),children:e.jsxDEV(mr,{className:D.icon},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:270,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:261,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:245,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:244,columnNumber:19},this)]},V.cnj,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:145,columnNumber:15},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:143,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:104,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:103,columnNumber:7},this),e.jsxDEV(rt,{open:f,title:"Excluir processo?",description:m?`Deseja excluir o processo ${m.cnj}?`:void 0,confirmText:"Excluir",onConfirm:F,onCancel:()=>{w(!1),N(null)}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:280,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:102,columnNumber:5},this):e.jsxDEV("div",{className:"border border-border/50 rounded-2xl p-12 text-center",children:e.jsxDEV("div",{className:"text-muted-foreground space-y-2",children:[e.jsxDEV("p",{className:"text-lg",children:"Nenhum processo encontrado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:92,columnNumber:11},this),e.jsxDEV("p",{className:"text-sm",children:"Ajuste os filtros ou importe dados via Excel"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:91,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:90,columnNumber:7},this)}function bt({value:s,trueLabel:a="Sim",falseLabel:t="Não",size:r="md",className:n}){return s==null?e.jsxDEV(se,{variant:"outline",className:T("font-normal text-muted-foreground",r==="sm"?"text-[10px] px-1.5":"text-xs px-2",n),children:"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/boolean-badge.tsx",lineNumber:21,columnNumber:7},this):s===!0?e.jsxDEV(se,{variant:"outline",className:T("bg-green-100 text-green-800 border-green-200 font-medium","dark:bg-green-950/30 dark:text-green-400 dark:border-green-900",r==="sm"?"text-[10px] px-1.5":"text-xs px-2",n),children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/boolean-badge.tsx",lineNumber:36,columnNumber:7},this):e.jsxDEV(se,{variant:"outline",className:T("bg-gray-100 text-gray-600 border-gray-200 font-normal","dark:bg-gray-900/30 dark:text-gray-400 dark:border-gray-800",r==="sm"?"text-[10px] px-1.5":"text-xs px-2",n),children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/boolean-badge.tsx",lineNumber:51,columnNumber:5},this)}function tl({value:s,size:a="md"}){if(!s||s==="—"||s==="PENDENTE"||s==="")return e.jsxDEV(se,{variant:"outline",className:T("font-normal text-muted-foreground",a==="sm"?"text-[10px] px-1.5 py-0":"text-xs"),children:"Não classificada"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/classification-chip.tsx",lineNumber:15,columnNumber:7},this);const t=s.toLowerCase(),r=()=>t.includes("crítica")||t.includes("alto")||t.includes("alta")?"bg-red-100 text-red-800 border-red-200 dark:bg-red-950/30 dark:text-red-400 dark:border-red-900":t.includes("relevante")||t.includes("médio")||t.includes("media")?"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-950/30 dark:text-yellow-400 dark:border-yellow-900":t.includes("comum")||t.includes("baixo")||t.includes("baixa")?"bg-green-100 text-green-800 border-green-200 dark:bg-green-950/30 dark:text-green-400 dark:border-green-900":"bg-secondary text-secondary-foreground";return e.jsxDEV(se,{variant:"outline",className:T("font-medium border",r(),a==="sm"?"text-[10px] px-1.5 py-0":"text-xs"),children:s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/classification-chip.tsx",lineNumber:63,columnNumber:5},this)}function Us({status:s,onRetry:a,children:t}){return s==="loading"?e.jsxDEV("div",{className:"p-8 text-center text-sm text-muted-foreground",children:"Carregando..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:16,columnNumber:7},this):s==="error"?e.jsxDEV("div",{className:"p-8 text-center space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-destructive",children:[e.jsxDEV(zs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:26,columnNumber:11},this),e.jsxDEV("span",{children:"Erro ao carregar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:27,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:25,columnNumber:9},this),a&&e.jsxDEV(W,{variant:"outline",size:"sm",onClick:a,children:"Tentar novamente"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:30,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:24,columnNumber:7},this):s==="offline"?e.jsxDEV("div",{className:"p-8 text-center space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-destructive",children:[e.jsxDEV(zs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:42,columnNumber:11},this),e.jsxDEV("span",{children:"Sem conexão"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:43,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:41,columnNumber:9},this),a&&e.jsxDEV(W,{variant:"outline",size:"sm",onClick:a,children:"Tentar novamente"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:40,columnNumber:7},this):s==="empty"?e.jsxDEV("div",{className:"p-12 text-center text-muted-foreground",children:"Nenhum dado encontrado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:56,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:62,columnNumber:10},this)}function rl({data:s,status:a,onRetry:t}){const{setSelectedTestemunha:r,setIsDetailDrawerOpen:n,isPiiMasked:o,removeTestemunha:i,restoreTestemunha:u,density:d}=K(),m=K(tt).testemunhas,{remove:N}=pn("Testemunha"),[f,w]=p.useState(null),[D,H]=p.useState(!1),h=fn.density[d],F=p.useCallback(I=>{r(I),n(!0)},[r,n]);if(a!=="success")return e.jsxDEV(Us,{status:a,onRetry:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:65,columnNumber:12},this);if(!s.length)return e.jsxDEV(Us,{status:"empty",onRetry:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:69,columnNumber:12},this);const P=p.useCallback(I=>{w(I),H(!0)},[]),V=p.useCallback(()=>{f&&N({key:f.nome_testemunha,label:f.nome_testemunha,onDelete:()=>i(f.nome_testemunha),onRestore:u}),H(!1),w(null)},[f,N,i,u]);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"border border-border/50 rounded-2xl overflow-hidden",children:e.jsxDEV(wr,{children:[e.jsxDEV(Dr,{children:e.jsxDEV(ma,{className:"bg-muted/30",children:[m.nome&&e.jsxDEV(Ce,{className:"font-semibold",children:"Nome da Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:97,columnNumber:17},this),m.qtdDepo&&e.jsxDEV(Ce,{className:"font-semibold text-center",children:"Qtd Depoimentos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:102,columnNumber:17},this),m.ambosPolos&&e.jsxDEV(Ce,{className:"font-semibold text-center",children:"Ambos os Polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:107,columnNumber:17},this),m.jaReclamante&&e.jsxDEV(Ce,{className:"font-semibold text-center",children:"Já Foi Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:112,columnNumber:17},this),m.cnjs&&e.jsxDEV(Ce,{className:"font-semibold",children:"CNJs como Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:117,columnNumber:17},this),m.classificacao&&e.jsxDEV(Ce,{className:"font-semibold",children:"Classificação Estratégica"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:122,columnNumber:17},this),m.acoes&&e.jsxDEV(Ce,{className:"font-semibold text-center",children:"Ações"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:127,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:95,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:94,columnNumber:11},this),e.jsxDEV(Er,{children:s.map(I=>e.jsxDEV(ma,{className:T("group hover:bg-muted/20",h.row),children:[m.nome&&e.jsxDEV(Se,{className:T("font-medium max-w-[200px] truncate",h.cell,h.text),title:I.nome_testemunha,children:rs(I.nome_testemunha,o)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:140,columnNumber:19},this),m.qtdDepo&&e.jsxDEV(Se,{className:T("text-center",h.cell),children:e.jsxDEV(se,{variant:"secondary",className:h.badge,children:I.qtd_depoimentos||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:153,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:152,columnNumber:19},this),m.ambosPolos&&e.jsxDEV(Se,{className:T("text-center",h.cell),children:e.jsxDEV(bt,{value:I.foi_testemunha_em_ambos_polos,size:"sm"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:160,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:159,columnNumber:19},this),m.jaReclamante&&e.jsxDEV(Se,{className:T("text-center",h.cell),children:e.jsxDEV(bt,{value:I.ja_foi_reclamante,size:"sm"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:168,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:167,columnNumber:19},this),m.cnjs&&e.jsxDEV(Se,{className:h.cell,children:e.jsxDEV(js,{items:I.cnjs_como_testemunha??null,maxVisible:2,isPiiMasked:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:176,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:175,columnNumber:19},this),m.classificacao&&e.jsxDEV(Se,{className:h.cell,children:e.jsxDEV(tl,{value:I.classificacao||I.classificacao_estrategica,size:"sm"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:185,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:184,columnNumber:19},this),m.acoes&&e.jsxDEV(Se,{className:h.cell,children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>F(I),className:T("p-0 text-primary hover:bg-primary/10 hover:text-primary",h.button),title:"Visualizar detalhes",children:e.jsxDEV(ns,{className:h.icon,strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:208,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:198,columnNumber:23},this),e.jsxDEV(W,{variant:"ghost",size:"sm",className:T("p-0 text-muted-foreground hover:text-foreground hover:bg-muted",h.button),title:"Editar",children:e.jsxDEV(ur,{className:h.icon,strokeWidth:1.5},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:220,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:211,columnNumber:23},this),e.jsxDEV(W,{variant:"ghost",size:"sm",className:T("p-0 opacity-0 group-hover:opacity-100 text-destructive hover:bg-destructive/10 hover:text-destructive transition-opacity",h.button),onClick:()=>P(I),title:"Excluir",children:e.jsxDEV(mr,{className:h.icon,strokeWidth:1.5},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:236,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:226,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:196,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:195,columnNumber:19},this)]},I.nome_testemunha,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:135,columnNumber:15},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:93,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:92,columnNumber:7},this),e.jsxDEV(rt,{open:D,title:"Excluir testemunha?",description:f?`Deseja excluir ${f.nome_testemunha}?`:void 0,confirmText:"Excluir",onConfirm:V,onCancel:()=>{H(!1),w(null)}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:249,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:91,columnNumber:5},this)}const nl=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],ol=["Ativo","Arquivado","Suspenso","Baixado","Cancelado"],il=["Conhecimento","Execução","Recursal","Liquidação"];function ll(){const{processoFilters:s,setProcessoFilters:a,resetFilters:t}=K(),r=(i,u)=>{if(u===""||u===void 0||u==="TODAS"||u==="TODOS"){const d={...s};delete d[i],a(d)}else a({[i]:u})},n=()=>{t()},o=Object.keys(s).length>0;return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsxDEV(Cs,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:87,columnNumber:11},this),"Filtros - Por Processo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:86,columnNumber:9},this),o&&e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:n,children:[e.jsxDEV(cs,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:92,columnNumber:13},this),"Limpar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:85,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"search",children:"Buscar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:100,columnNumber:11},this),e.jsxDEV(ls,{id:"search",placeholder:"CNJ, comarca, reclamante...",value:s.search||"",onChange:i=>r("search",i.target.value)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:99,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"testemunha",children:"Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:110,columnNumber:11},this),e.jsxDEV(ls,{id:"testemunha",placeholder:"Nome da testemunha...",value:s.testemunha||"",onChange:i=>r("testemunha",i.target.value)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:109,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"uf",children:"UF"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:120,columnNumber:11},this),e.jsxDEV(us,{value:s.uf||"TODAS",onValueChange:i=>r("uf",i),children:[e.jsxDEV(as,{id:"uf",children:e.jsxDEV(ms,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:126,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:125,columnNumber:13},this),e.jsxDEV(ts,{children:[e.jsxDEV(De,{value:"TODAS",children:"Todas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:129,columnNumber:15},this),nl.map(i=>e.jsxDEV(De,{value:i,children:i},i,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:131,columnNumber:17},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:128,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:121,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:119,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"status",children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:140,columnNumber:11},this),e.jsxDEV(us,{value:s.status||"TODOS",onValueChange:i=>r("status",i),children:[e.jsxDEV(as,{id:"status",children:e.jsxDEV(ms,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:146,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:145,columnNumber:13},this),e.jsxDEV(ts,{children:[e.jsxDEV(De,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:149,columnNumber:15},this),ol.map(i=>e.jsxDEV(De,{value:i,children:i},i,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:151,columnNumber:17},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:148,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:139,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"fase",children:"Fase"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:160,columnNumber:11},this),e.jsxDEV(us,{value:s.fase||"TODAS",onValueChange:i=>r("fase",i),children:[e.jsxDEV(as,{id:"fase",children:e.jsxDEV(ms,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:166,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:165,columnNumber:13},this),e.jsxDEV(ts,{children:[e.jsxDEV(De,{value:"TODAS",children:"Todas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:169,columnNumber:15},this),il.map(i=>e.jsxDEV(De,{value:i,children:i},i,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:171,columnNumber:17},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:161,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:159,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"qtdMin",children:"Qtd Depo Únicos (Mín)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:180,columnNumber:11},this),e.jsxDEV(ls,{id:"qtdMin",type:"number",placeholder:"0",value:s.qtdDeposMin||"",onChange:i=>r("qtdDeposMin",i.target.value?Number(i.target.value):void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:179,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"qtdMax",children:"Qtd Depo Únicos (Máx)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:196,columnNumber:11},this),e.jsxDEV(ls,{id:"qtdMax",type:"number",placeholder:"∞",value:s.qtdDeposMax||"",onChange:i=>r("qtdDeposMax",i.target.value?Number(i.target.value):void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:197,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:195,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:98,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:84,columnNumber:5},this)}function ul(){const{testemunhaFilters:s,setTestemunhaFilters:a,resetFilters:t}=K(),r=(i,u)=>{if(u===""||u===void 0||u==="TODOS"){const d={...s};delete d[i],a(d)}else a({[i]:u})},n=()=>{t()},o=Object.keys(s).length>0;return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsxDEV(Cs,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:42,columnNumber:11},this),"Filtros - Por Testemunha"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:41,columnNumber:9},this),o&&e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:n,children:[e.jsxDEV(cs,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:47,columnNumber:13},this),"Limpar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:40,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"search",children:"Buscar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:55,columnNumber:11},this),e.jsxDEV(ls,{id:"search",placeholder:"Nome da testemunha...",value:s.search||"",onChange:i=>r("search",i.target.value)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:54,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"ambosPolos",children:"Em Ambos os Polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:65,columnNumber:11},this),e.jsxDEV(us,{value:s.ambosPolos!==void 0?s.ambosPolos.toString():"TODOS",onValueChange:i=>r("ambosPolos",i==="TODOS"?void 0:i==="true"),children:[e.jsxDEV(as,{id:"ambosPolos",children:e.jsxDEV(ms,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:80,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:79,columnNumber:13},this),e.jsxDEV(ts,{children:[e.jsxDEV(De,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:83,columnNumber:15},this),e.jsxDEV(De,{value:"true",children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:84,columnNumber:15},this),e.jsxDEV(De,{value:"false",children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:82,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:64,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"jaFoiReclamante",children:"Já Foi Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:91,columnNumber:11},this),e.jsxDEV(us,{value:s.jaFoiReclamante!==void 0?s.jaFoiReclamante.toString():"TODOS",onValueChange:i=>r("jaFoiReclamante",i==="TODOS"?void 0:i==="true"),children:[e.jsxDEV(as,{id:"jaFoiReclamante",children:e.jsxDEV(ms,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:106,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:105,columnNumber:13},this),e.jsxDEV(ts,{children:[e.jsxDEV(De,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:109,columnNumber:15},this),e.jsxDEV(De,{value:"true",children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:110,columnNumber:15},this),e.jsxDEV(De,{value:"false",children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:111,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:108,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:90,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"temTriangulacao",children:"Participou Triangulação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:117,columnNumber:11},this),e.jsxDEV(us,{value:s.temTriangulacao!==void 0?s.temTriangulacao.toString():"TODOS",onValueChange:i=>r("temTriangulacao",i==="TODOS"?void 0:i==="true"),children:[e.jsxDEV(as,{id:"temTriangulacao",children:e.jsxDEV(ms,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:132,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:131,columnNumber:13},this),e.jsxDEV(ts,{children:[e.jsxDEV(De,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:135,columnNumber:15},this),e.jsxDEV(De,{value:"true",children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:136,columnNumber:15},this),e.jsxDEV(De,{value:"false",children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:116,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"temTroca",children:"Participou Troca"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:143,columnNumber:11},this),e.jsxDEV(us,{value:s.temTroca!==void 0?s.temTroca.toString():"TODOS",onValueChange:i=>r("temTroca",i==="TODOS"?void 0:i==="true"),children:[e.jsxDEV(as,{id:"temTroca",children:e.jsxDEV(ms,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:158,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:157,columnNumber:13},this),e.jsxDEV(ts,{children:[e.jsxDEV(De,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:161,columnNumber:15},this),e.jsxDEV(De,{value:"true",children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV(De,{value:"false",children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:142,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"qtdMin",children:"Qtd Depoimentos (Mín)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:169,columnNumber:11},this),e.jsxDEV(ls,{id:"qtdMin",type:"number",placeholder:"0",value:s.qtdDeposMin||"",onChange:i=>r("qtdDeposMin",i.target.value?Number(i.target.value):void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:168,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(Te,{htmlFor:"qtdMax",children:"Qtd Depoimentos (Máx)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:185,columnNumber:11},this),e.jsxDEV(ls,{id:"qtdMax",type:"number",placeholder:"∞",value:s.qtdDeposMax||"",onChange:i=>r("qtdDeposMax",i.target.value?Number(i.target.value):void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:184,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:53,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:39,columnNumber:5},this)}function ml({open:s,onOpenChange:a}){const t=K(o=>o.activeTab),[r,n]=p.useState(t==="processos"?"processos":"testemunhas");return p.useEffect(()=>{n(t==="processos"?"processos":"testemunhas")},[t]),e.jsxDEV(Tr,{open:s,onOpenChange:a,children:e.jsxDEV(Qa,{side:"right",className:"w-[600px] sm:w-[700px] overflow-y-auto",children:[e.jsxDEV(Xa,{children:[e.jsxDEV(Za,{children:"Filtros Avançados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:36,columnNumber:11},this),e.jsxDEV(et,{children:"Refine sua busca com filtros específicos por processo ou testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:37,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:35,columnNumber:9},this),e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV(Nr,{value:r,onValueChange:n,children:[e.jsxDEV(br,{className:"grid w-full grid-cols-2",children:[e.jsxDEV(la,{value:"processos",children:"Por Processo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:45,columnNumber:15},this),e.jsxDEV(la,{value:"testemunhas",children:"Por Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:46,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:44,columnNumber:13},this),e.jsxDEV(ua,{value:"processos",className:"mt-4",children:e.jsxDEV(ll,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:50,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:49,columnNumber:13},this),e.jsxDEV(ua,{value:"testemunhas",className:"mt-4",children:e.jsxDEV(ul,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:54,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:53,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:43,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:42,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:31,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:30,columnNumber:5},this)}function cl(){const s=K(cn),a=K(tt),t=K(o=>o.setColumnVisibility),r=s==="processos"?[{key:"cnj",label:"CNJ"},{key:"uf",label:"UF"},{key:"comarca",label:"Comarca"},{key:"fase",label:"Fase"},{key:"status",label:"Status"},{key:"reclamante",label:"Reclamante"},{key:"qtdDepos",label:"Qtd Depo Únicos"},{key:"testemunhas",label:"Testemunhas Ativo"},{key:"classificacao",label:"Classificação"},{key:"acoes",label:"Ações"}]:[{key:"nome",label:"Nome da Testemunha"},{key:"qtdDepo",label:"Qtd Depoimentos"},{key:"ambosPolos",label:"Ambos os Polos"},{key:"jaReclamante",label:"Já Foi Reclamante"},{key:"cnjs",label:"CNJs como Testemunha"},{key:"classificacao",label:"Classificação Estratégica"},{key:"acoes",label:"Ações"}],n=a[s];return e.jsxDEV(Gs,{children:[e.jsxDEV(Ks,{asChild:!0,children:e.jsxDEV(W,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsxDEV(io,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:52,columnNumber:11},this)," Colunas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:51,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:50,columnNumber:7},this),e.jsxDEV(As,{align:"end",children:r.map(o=>e.jsxDEV(Mr,{checked:n[o.key],onCheckedChange:i=>t(s,o.key,i),children:o.label},o.key,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:57,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:55,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:49,columnNumber:5},this)}function dl({userId:s}){const a=K(el),t=K(sl),r=K(i=>i.saveView),n=K(i=>i.setActiveViewName),o=()=>{const i=window.prompt("Nome da visualização");i&&r(i,s)};return e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(us,{value:t||"",onValueChange:i=>n(i,s),children:[e.jsxDEV(as,{className:"w-[200px]",children:e.jsxDEV(ms,{placeholder:"Visualizações"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:40,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:39,columnNumber:9},this),e.jsxDEV(ts,{children:Object.keys(a).map(i=>e.jsxDEV(De,{value:i,children:i},i,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:44,columnNumber:13},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:42,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:35,columnNumber:7},this),e.jsxDEV(W,{variant:"outline",size:"sm",onClick:o,className:"flex items-center gap-2",children:[e.jsxDEV(lo,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:56,columnNumber:9},this)," Salvar visão"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:50,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:34,columnNumber:5},this)}function pl(s){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",a.appendChild(t),t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}const hn=z.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Ys=()=>{const s=z.useContext(hn);if(!s)throw new Error("useDrawerContext must be used within a Drawer.Root");return s};pl(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const fl=24,hl=typeof window<"u"?p.useLayoutEffect:p.useEffect;function xt(...s){return(...a)=>{for(let t of s)typeof t=="function"&&t(...a)}}function Nl(){return nt(/^Mac/)}function bl(){return nt(/^iPhone/)}function vt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function xl(){return nt(/^iPad/)||Nl()&&navigator.maxTouchPoints>1}function Nn(){return bl()||xl()}function nt(s){return typeof window<"u"&&window.navigator!=null?s.test(window.navigator.platform):void 0}const ga=typeof document<"u"&&window.visualViewport;function jt(s){let a=window.getComputedStyle(s);return/(auto|scroll)/.test(a.overflow+a.overflowX+a.overflowY)}function bn(s){for(jt(s)&&(s=s.parentElement);s&&!jt(s);)s=s.parentElement;return s||document.scrollingElement||document.documentElement}const vl=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ea=0,wa;function jl(s={}){let{isDisabled:a}=s;hl(()=>{if(!a)return ea++,ea===1&&Nn()&&(wa=gl()),()=>{ea--,ea===0&&wa?.()}},[a])}function gl(){let s,a=0,t=f=>{s=bn(f.target),!(s===document.documentElement&&s===document.body)&&(a=f.changedTouches[0].pageY)},r=f=>{if(!s||s===document.documentElement||s===document.body){f.preventDefault();return}let w=f.changedTouches[0].pageY,D=s.scrollTop,H=s.scrollHeight-s.clientHeight;H!==0&&((D<=0&&w>a||D>=H&&w<a)&&f.preventDefault(),a=w)},n=f=>{let w=f.target;La(w)&&w!==document.activeElement&&(f.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},o=f=>{let w=f.target;La(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",ga&&(ga.height<window.innerHeight?requestAnimationFrame(()=>{gt(w)}):ga.addEventListener("resize",()=>gt(w),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},u=window.pageXOffset,d=window.pageYOffset,m=xt(wl(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let N=xt(Fs(document,"touchstart",t,{passive:!1,capture:!0}),Fs(document,"touchmove",r,{passive:!1,capture:!0}),Fs(document,"touchend",n,{passive:!1,capture:!0}),Fs(document,"focus",o,!0),Fs(window,"scroll",i));return()=>{m(),N(),window.scrollTo(u,d)}}function wl(s,a,t){let r=s.style[a];return s.style[a]=t,()=>{s.style[a]=r}}function Fs(s,a,t,r){return s.addEventListener(a,t,r),()=>{s.removeEventListener(a,t,r)}}function gt(s){let a=document.scrollingElement||document.documentElement;for(;s&&s!==a;){let t=bn(s);if(t!==document.documentElement&&t!==document.body&&t!==s){let r=t.getBoundingClientRect().top,n=s.getBoundingClientRect().top,o=s.getBoundingClientRect().bottom;const i=t.getBoundingClientRect().bottom+fl;o>i&&(t.scrollTop+=n-r)}s=t.parentElement}}function La(s){return s instanceof HTMLInputElement&&!vl.has(s.type)||s instanceof HTMLTextAreaElement||s instanceof HTMLElement&&s.isContentEditable}function Dl(s,a){typeof s=="function"?s(a):s!=null&&(s.current=a)}function El(...s){return a=>s.forEach(t=>Dl(t,a))}function xn(...s){return p.useCallback(El(...s),s)}const vn=new WeakMap;function ke(s,a,t=!1){if(!s||!(s instanceof HTMLElement))return;let r={};Object.entries(a).forEach(([n,o])=>{if(n.startsWith("--")){s.style.setProperty(n,o);return}r[n]=s.style[n],s.style[n]=o}),!t&&vn.set(s,r)}function kl(s,a){if(!s||!(s instanceof HTMLElement))return;let t=vn.get(s);t&&(s.style[a]=t[a])}const Ve=s=>{switch(s){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return s}};function sa(s,a){if(!s)return null;const t=window.getComputedStyle(s),r=t.transform||t.webkitTransform||t.mozTransform;let n=r.match(/^matrix3d\((.+)\)$/);return n?parseFloat(n[1].split(", ")[Ve(a)?13:12]):(n=r.match(/^matrix\((.+)\)$/),n?parseFloat(n[1].split(", ")[Ve(a)?5:4]):null)}function Vl(s){return 8*(Math.log(s+1)-2)}function Da(s,a){if(!s)return()=>{};const t=s.style.cssText;return Object.assign(s.style,a),()=>{s.style.cssText=t}}function yl(...s){return(...a)=>{for(const t of s)typeof t=="function"&&t(...a)}}const je={DURATION:.5,EASE:[.32,.72,0,1]},jn=.4,_l=.25,Cl=100,gn=8,xs=16,za=26,Ea="vaul-dragging";function wn(s){const a=z.useRef(s);return z.useEffect(()=>{a.current=s}),z.useMemo(()=>(...t)=>a.current==null?void 0:a.current.call(a,...t),[])}function Sl({defaultProp:s,onChange:a}){const t=z.useState(s),[r]=t,n=z.useRef(r),o=wn(a);return z.useEffect(()=>{n.current!==r&&(o(r),n.current=r)},[r,n,o]),t}function Dn({prop:s,defaultProp:a,onChange:t=()=>{}}){const[r,n]=Sl({defaultProp:a,onChange:t}),o=s!==void 0,i=o?s:r,u=wn(t),d=z.useCallback(m=>{if(o){const f=typeof m=="function"?m(s):m;f!==s&&u(f)}else n(m)},[o,s,n,u]);return[i,d]}function Tl({activeSnapPointProp:s,setActiveSnapPointProp:a,snapPoints:t,drawerRef:r,overlayRef:n,fadeFromIndex:o,onSnapPointChange:i,direction:u="bottom",container:d,snapToSequentialPoint:m}){const[N,f]=Dn({prop:s,defaultProp:t?.[0],onChange:a}),[w,D]=z.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);z.useEffect(()=>{function _(){D({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const H=z.useMemo(()=>N===t?.[t.length-1]||null,[t,N]),h=z.useMemo(()=>t?.findIndex(_=>_===N),[t,N]),F=t&&t.length>0&&(o||o===0)&&!Number.isNaN(o)&&t[o]===N||!t,P=z.useMemo(()=>{const _=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var l;return(l=t?.map(c=>{const x=typeof c=="string";let g=0;if(x&&(g=parseInt(c,10)),Ve(u)){const $=x?g:w?c*_.height:0;return w?u==="bottom"?_.height-$:-_.height+$:$}const C=x?g:w?c*_.width:0;return w?u==="right"?_.width-C:-_.width+C:C}))!=null?l:[]},[t,w,d]),V=z.useMemo(()=>h!==null?P?.[h]:null,[P,h]),I=z.useCallback(_=>{var l;const c=(l=P?.findIndex(x=>x===_))!=null?l:null;i(c),ke(r.current,{transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,transform:Ve(u)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`}),P&&c!==P.length-1&&c!==o&&c<o?ke(n.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,opacity:"0"}):ke(n.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,opacity:"1"}),f(t?.[Math.max(c,0)])},[r.current,t,P,o,n,f]);z.useEffect(()=>{if(N||s){var _;const l=(_=t?.findIndex(c=>c===s||c===N))!=null?_:-1;P&&l!==-1&&typeof P[l]=="number"&&I(P[l])}},[N,s,t,P,I]);function A({draggedDistance:_,closeDrawer:l,velocity:c,dismissible:x}){if(o===void 0)return;const g=u==="bottom"||u==="right"?(V??0)-_:(V??0)+_,C=h===o-1,$=h===0,Z=_>0;if(C&&ke(n.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`}),!m&&c>2&&!Z){x?l():I(P[0]);return}if(!m&&c>2&&Z&&P&&t){I(P[t.length-1]);return}const oe=P?.reduce((L,re)=>typeof L!="number"||typeof re!="number"?L:Math.abs(re-g)<Math.abs(L-g)?re:L),me=Ve(u)?window.innerHeight:window.innerWidth;if(c>jn&&Math.abs(_)<me*.4){const L=Z?1:-1;if(L>0&&H){I(P[t.length-1]);return}if($&&L<0&&x&&l(),h===null)return;I(P[h+L]);return}I(oe)}function G({draggedDistance:_}){if(V===null)return;const l=u==="bottom"||u==="right"?V-_:V+_;(u==="bottom"||u==="right")&&l<P[P.length-1]||(u==="top"||u==="left")&&l>P[P.length-1]||ke(r.current,{transform:Ve(u)?`translate3d(0, ${l}px, 0)`:`translate3d(${l}px, 0, 0)`})}function O(_,l){if(!t||typeof h!="number"||!P||o===void 0)return null;const c=h===o-1;if(h>=o&&l)return 0;if(c&&!l)return 1;if(!F&&!c)return null;const g=c?h+1:h-1,C=c?P[g]-P[g-1]:P[g+1]-P[g],$=_/Math.abs(C);return c?1-$:$}return{isLastSnapPoint:H,activeSnapPoint:N,shouldFade:F,getPercentageDragged:O,setActiveSnapPoint:f,activeSnapPointIndex:h,onRelease:A,onDrag:G,snapPointsOffset:P}}const Pl=()=>()=>{};function Ml(){const{direction:s,isOpen:a,shouldScaleBackground:t,setBackgroundColorOnScale:r,noBodyStyles:n}=Ys(),o=z.useRef(null),i=p.useMemo(()=>document.body.style.backgroundColor,[]);function u(){return(window.innerWidth-za)/window.innerWidth}z.useEffect(()=>{if(a&&t){o.current&&clearTimeout(o.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;yl(r&&!n?Da(document.body,{background:"black"}):Pl,Da(d,{transformOrigin:Ve(s)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${je.DURATION}s`,transitionTimingFunction:`cubic-bezier(${je.EASE.join(",")})`}));const m=Da(d,{borderRadius:`${gn}px`,overflow:"hidden",...Ve(s)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{m(),o.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},je.DURATION*1e3)}}},[a,t,i])}let Os=null;function Rl({isOpen:s,modal:a,nested:t,hasBeenOpened:r,preventScrollRestoration:n,noBodyStyles:o}){const[i,u]=z.useState(()=>typeof window<"u"?window.location.href:""),d=z.useRef(0),m=z.useCallback(()=>{if(vt()&&Os===null&&s&&!o){Os={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:w}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const D=w-window.innerHeight;D&&d.current>=w&&(document.body.style.top=`${-(d.current+D)}px`)}),300)}},[s]),N=z.useCallback(()=>{if(vt()&&Os!==null&&!o){const f=-parseInt(document.body.style.top,10),w=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Os),window.requestAnimationFrame(()=>{if(n&&i!==window.location.href){u(window.location.href);return}window.scrollTo(w,f)}),Os=null}},[i]);return z.useEffect(()=>{function f(){d.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),z.useEffect(()=>{t||!r||(s?(!window.matchMedia("(display-mode: standalone)").matches&&m(),a||window.setTimeout(()=>{N()},500)):N())},[s,r,i,a,t,m,N]),{restorePositionSetting:N}}function Al({open:s,onOpenChange:a,children:t,onDrag:r,onRelease:n,snapPoints:o,shouldScaleBackground:i=!1,setBackgroundColorOnScale:u=!0,closeThreshold:d=_l,scrollLockTimeout:m=Cl,dismissible:N=!0,handleOnly:f=!1,fadeFromIndex:w=o&&o.length-1,activeSnapPoint:D,setActiveSnapPoint:H,fixed:h,modal:F=!0,onClose:P,nested:V,noBodyStyles:I,direction:A="bottom",defaultOpen:G=!1,disablePreventScroll:O=!0,snapToSequentialPoint:_=!1,preventScrollRestoration:l=!1,repositionInputs:c=!0,onAnimationEnd:x,container:g,autoFocus:C=!1}){var $,Z;const[oe=!1,me]=Dn({defaultProp:G,prop:s,onChange:ee=>{a?.(ee),!ee&&!V&&xe(),setTimeout(()=>{x?.(ee)},je.DURATION*1e3),ee&&!F&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ee||(document.body.style.pointerEvents="auto")}}),[L,re]=z.useState(!1),[q,ce]=z.useState(!1),[Y,v]=z.useState(!1),j=z.useRef(null),k=z.useRef(null),b=z.useRef(null),y=z.useRef(null),R=z.useRef(null),M=z.useRef(!1),S=z.useRef(null),ie=z.useRef(0),J=z.useRef(!1),ue=z.useRef(0),B=z.useRef(null),ne=z.useRef((($=B.current)==null?void 0:$.getBoundingClientRect().height)||0),le=z.useRef(((Z=B.current)==null?void 0:Z.getBoundingClientRect().width)||0),E=z.useRef(0),ae=z.useCallback(ee=>{o&&ee===fe.length-1&&(k.current=new Date)},[]),{activeSnapPoint:U,activeSnapPointIndex:Q,setActiveSnapPoint:te,onRelease:ge,snapPointsOffset:fe,onDrag:ye,shouldFade:he,getPercentageDragged:_e}=Tl({snapPoints:o,activeSnapPointProp:D,setActiveSnapPointProp:H,drawerRef:B,fadeFromIndex:w,overlayRef:j,onSnapPointChange:ae,direction:A,container:g,snapToSequentialPoint:_});jl({isDisabled:!oe||q||!F||Y||!L||!c||!O});const{restorePositionSetting:xe}=Rl({isOpen:oe,modal:F,nested:V,hasBeenOpened:L,preventScrollRestoration:l,noBodyStyles:I});function Ee(){return(window.innerWidth-za)/window.innerWidth}function Je(ee){var de,Ne;!N&&!o||B.current&&!B.current.contains(ee.target)||(ne.current=((de=B.current)==null?void 0:de.getBoundingClientRect().height)||0,le.current=((Ne=B.current)==null?void 0:Ne.getBoundingClientRect().width)||0,ce(!0),b.current=new Date,Nn()&&window.addEventListener("touchend",()=>M.current=!1,{once:!0}),ee.target.setPointerCapture(ee.pointerId),ie.current=Ve(A)?ee.pageY:ee.pageX)}function Ds(ee,de){var Ne,ve;let pe=ee;const Ue=(Ne=window.getSelection())==null?void 0:Ne.toString(),Re=B.current?sa(B.current,A):null,Oe=new Date;if(pe.hasAttribute("data-vaul-no-drag")||pe.closest("[data-vaul-no-drag]"))return!1;if(A==="right"||A==="left")return!0;if(k.current&&Oe.getTime()-k.current.getTime()<500)return!1;if(Re!==null&&(A==="bottom"?Re>0:Re<0))return!0;if(Ue&&Ue.length>0)return!1;if(Oe.getTime()-((ve=R.current)==null?void 0:ve.getTime())<m&&Re===0||de)return R.current=Oe,!1;for(;pe;){if(pe.scrollHeight>pe.clientHeight){if(pe.scrollTop!==0)return R.current=new Date,!1;if(pe.getAttribute("role")==="dialog")return!0}pe=pe.parentNode}return!0}function Qs(ee){if(B.current&&q){const de=A==="bottom"||A==="right"?1:-1,Ne=(ie.current-(Ve(A)?ee.pageY:ee.pageX))*de,ve=Ne>0,pe=o&&!N&&!ve;if(pe&&Q===0)return;const Ue=Math.abs(Ne),Re=document.querySelector("[data-vaul-drawer-wrapper]"),Oe=A==="bottom"||A==="top"?ne.current:le.current;let Ge=Ue/Oe;const bs=_e(Ue,ve);if(bs!==null&&(Ge=bs),pe&&Ge>=1||!M.current&&!Ds(ee.target,ve))return;if(B.current.classList.add(Ea),M.current=!0,ke(B.current,{transition:"none"}),ke(j.current,{transition:"none"}),o&&ye({draggedDistance:Ne}),ve&&!o){const Xe=Vl(Ne),Zs=Math.min(Xe*-1,0)*de;ke(B.current,{transform:Ve(A)?`translate3d(0, ${Zs}px, 0)`:`translate3d(${Zs}px, 0, 0)`});return}const is=1-Ge;if((he||w&&Q===w-1)&&(r?.(ee,Ge),ke(j.current,{opacity:`${is}`,transition:"none"},!0)),Re&&j.current&&i){const Xe=Math.min(Ee()+Ge*(1-Ee()),1),Zs=8-Ge*8,ot=Math.max(0,14-Ge*14);ke(Re,{borderRadius:`${Zs}px`,transform:Ve(A)?`scale(${Xe}) translate3d(0, ${ot}px, 0)`:`scale(${Xe}) translate3d(${ot}px, 0, 0)`,transition:"none"},!0)}if(!o){const Xe=Ue*de;ke(B.current,{transform:Ve(A)?`translate3d(0, ${Xe}px, 0)`:`translate3d(${Xe}px, 0, 0)`})}}}z.useEffect(()=>{var ee;function de(){if(!B.current||!c)return;const Ne=document.activeElement;if(La(Ne)||J.current){var ve;const pe=((ve=window.visualViewport)==null?void 0:ve.height)||0,Ue=window.innerHeight;let Re=Ue-pe;const Oe=B.current.getBoundingClientRect().height||0,Ge=Oe>Ue*.8;E.current||(E.current=Oe);const bs=B.current.getBoundingClientRect().top;if(Math.abs(ue.current-Re)>60&&(J.current=!J.current),o&&o.length>0&&fe&&Q){const is=fe[Q]||0;Re+=is}if(ue.current=Re,Oe>pe||J.current){const is=B.current.getBoundingClientRect().height;let Xe=is;is>pe&&(Xe=pe-(Ge?bs:za)),h?B.current.style.height=`${is-Math.max(Re,0)}px`:B.current.style.height=`${Math.max(Xe,pe-bs)}px`}else B.current.style.height=`${E.current}px`;o&&o.length>0&&!J.current?B.current.style.bottom="0px":B.current.style.bottom=`${Math.max(Re,0)}px`}}return(ee=window.visualViewport)==null||ee.addEventListener("resize",de),()=>{var Ne;return(Ne=window.visualViewport)==null?void 0:Ne.removeEventListener("resize",de)}},[Q,o,fe]);function qe(ee){Ns(),P?.(),ee||me(!1),setTimeout(()=>{o&&te(o[0])},je.DURATION*1e3)}function Fe(){if(!B.current)return;const ee=document.querySelector("[data-vaul-drawer-wrapper]"),de=sa(B.current,A);ke(B.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`}),ke(j.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,opacity:"1"}),i&&de&&de>0&&oe&&ke(ee,{borderRadius:`${gn}px`,overflow:"hidden",...Ve(A)?{transform:`scale(${Ee()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ee()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${je.DURATION}s`,transitionTimingFunction:`cubic-bezier(${je.EASE.join(",")})`},!0)}function Ns(){!q||!B.current||(B.current.classList.remove(Ea),M.current=!1,ce(!1),y.current=new Date)}function Xs(ee){if(!q||!B.current)return;B.current.classList.remove(Ea),M.current=!1,ce(!1),y.current=new Date;const de=sa(B.current,A);if(!Ds(ee.target,!1)||!de||Number.isNaN(de)||b.current===null)return;const Ne=y.current.getTime()-b.current.getTime(),ve=ie.current-(Ve(A)?ee.pageY:ee.pageX),pe=Math.abs(ve)/Ne;if(pe>.05&&(v(!0),setTimeout(()=>{v(!1)},200)),o){ge({draggedDistance:ve*(A==="bottom"||A==="right"?1:-1),closeDrawer:qe,velocity:pe,dismissible:N}),n?.(ee,!0);return}if(A==="bottom"||A==="right"?ve>0:ve<0){Fe(),n?.(ee,!0);return}if(pe>jn){qe(),n?.(ee,!1);return}var Ue;const Re=Math.min((Ue=B.current.getBoundingClientRect().height)!=null?Ue:0,window.innerHeight);var Oe;const Ge=Math.min((Oe=B.current.getBoundingClientRect().width)!=null?Oe:0,window.innerWidth),bs=A==="left"||A==="right";if(Math.abs(de)>=(bs?Ge:Re)*d){qe(),n?.(ee,!1);return}n?.(ee,!0),Fe()}z.useEffect(()=>(oe&&(ke(document.documentElement,{scrollBehavior:"auto"}),k.current=new Date),()=>{kl(document.documentElement,"scrollBehavior")}),[oe]);function Rn(ee){const de=ee?(window.innerWidth-xs)/window.innerWidth:1,Ne=ee?-xs:0;S.current&&window.clearTimeout(S.current),ke(B.current,{transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,transform:`scale(${de}) translate3d(0, ${Ne}px, 0)`}),!ee&&B.current&&(S.current=setTimeout(()=>{const ve=sa(B.current,A);ke(B.current,{transition:"none",transform:Ve(A)?`translate3d(0, ${ve}px, 0)`:`translate3d(${ve}px, 0, 0)`})},500))}function An(ee,de){if(de<0)return;const Ne=(window.innerWidth-xs)/window.innerWidth,ve=Ne+de*(1-Ne),pe=-xs+de*xs;ke(B.current,{transform:Ve(A)?`scale(${ve}) translate3d(0, ${pe}px, 0)`:`scale(${ve}) translate3d(${pe}px, 0, 0)`,transition:"none"})}function In(ee,de){const Ne=Ve(A)?window.innerHeight:window.innerWidth,ve=de?(Ne-xs)/Ne:1,pe=de?-xs:0;de&&ke(B.current,{transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,transform:Ve(A)?`scale(${ve}) translate3d(0, ${pe}px, 0)`:`scale(${ve}) translate3d(${pe}px, 0, 0)`})}return z.createElement(fa,{defaultOpen:G,onOpenChange:ee=>{!N&&!ee||(ee?re(!0):qe(!0),me(ee))},open:oe},z.createElement(hn.Provider,{value:{activeSnapPoint:U,snapPoints:o,setActiveSnapPoint:te,drawerRef:B,overlayRef:j,onOpenChange:a,onPress:Je,onRelease:Xs,onDrag:Qs,dismissible:N,handleOnly:f,isOpen:oe,isDragging:q,shouldFade:he,closeDrawer:qe,onNestedDrag:An,onNestedOpenChange:Rn,onNestedRelease:In,keyboardIsOpen:J,modal:F,snapPointsOffset:fe,direction:A,shouldScaleBackground:i,setBackgroundColorOnScale:u,noBodyStyles:I,container:g,autoFocus:C}},t))}const En=z.forwardRef(function({...s},a){const{overlayRef:t,snapPoints:r,onRelease:n,shouldFade:o,isOpen:i,modal:u}=Ys(),d=xn(a,t),m=r&&r.length>0;return u?z.createElement(Ts,{onMouseUp:n,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":i&&m?"true":"false","data-vaul-snap-points-overlay":i&&o?"true":"false",...s}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});En.displayName="Drawer.Overlay";const kn=z.forwardRef(function({onPointerDownOutside:s,style:a,onOpenAutoFocus:t,...r},n){const{drawerRef:o,onPress:i,onRelease:u,onDrag:d,keyboardIsOpen:m,snapPointsOffset:N,modal:f,isOpen:w,direction:D,snapPoints:H,container:h,handleOnly:F,autoFocus:P}=Ys(),[V,I]=z.useState(!1),A=xn(n,o),G=z.useRef(null),O=z.useRef(null),_=z.useRef(!1),l=H&&H.length>0;Ml();const c=(g,C,$=0)=>{if(_.current)return!0;const Z=Math.abs(g.y),oe=Math.abs(g.x),me=oe>Z,L=["bottom","right"].includes(C)?1:-1;if(C==="left"||C==="right"){if(!(g.x*L<0)&&oe>=0&&oe<=$)return me}else if(!(g.y*L<0)&&Z>=0&&Z<=$)return!me;return _.current=!0,!0};z.useEffect(()=>{l&&window.requestAnimationFrame(()=>{I(!0)})},[]);function x(g){G.current=null,_.current=!1,u(g)}return z.createElement(Ps,{"data-vaul-drawer-direction":D,"data-vaul-drawer":"","data-vaul-delayed-snap-points":V?"true":"false","data-vaul-snap-points":w&&l?"true":"false","data-vaul-custom-container":h?"true":"false",...r,ref:A,style:N&&N.length>0?{"--snap-point-height":`${N[0]}px`,...a}:a,onPointerDown:g=>{F||(r.onPointerDown==null||r.onPointerDown.call(r,g),G.current={x:g.pageX,y:g.pageY},i(g))},onOpenAutoFocus:g=>{t?.(g),P||g.preventDefault()},onPointerDownOutside:g=>{if(s?.(g),!f||g.defaultPrevented){g.preventDefault();return}m.current&&(m.current=!1)},onFocusOutside:g=>{if(!f){g.preventDefault();return}},onPointerMove:g=>{if(O.current=g,F||(r.onPointerMove==null||r.onPointerMove.call(r,g),!G.current))return;const C=g.pageY-G.current.y,$=g.pageX-G.current.x,Z=g.pointerType==="touch"?10:2;c({x:$,y:C},D,Z)?d(g):(Math.abs($)>Z||Math.abs(C)>Z)&&(G.current=null)},onPointerUp:g=>{r.onPointerUp==null||r.onPointerUp.call(r,g),G.current=null,_.current=!1,u(g)},onPointerOut:g=>{r.onPointerOut==null||r.onPointerOut.call(r,g),x(O.current)},onContextMenu:g=>{r.onContextMenu==null||r.onContextMenu.call(r,g),x(O.current)}})});kn.displayName="Drawer.Content";const Il=250,Fl=120,Ol=z.forwardRef(function({preventCycle:s=!1,children:a,...t},r){const{closeDrawer:n,isDragging:o,snapPoints:i,activeSnapPoint:u,setActiveSnapPoint:d,dismissible:m,handleOnly:N,isOpen:f,onPress:w,onDrag:D}=Ys(),H=z.useRef(null),h=z.useRef(!1);function F(){if(h.current){I();return}window.setTimeout(()=>{P()},Fl)}function P(){if(o||s||h.current){I();return}if(I(),(!i||i.length===0)&&m){n();return}if(u===i[i.length-1]&&m){n();return}const G=i.findIndex(_=>_===u);if(G===-1)return;const O=i[G+1];d(O)}function V(){H.current=window.setTimeout(()=>{h.current=!0},Il)}function I(){window.clearTimeout(H.current),h.current=!1}return z.createElement("div",{onClick:F,onPointerCancel:I,onPointerDown:A=>{N&&w(A),V()},onPointerMove:A=>{N&&D(A)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...t},z.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},a))});Ol.displayName="Drawer.Handle";function Bl(s){const a=Ys(),{container:t=a.container,...r}=s;return z.createElement(pa,{container:t,...r})}const os={Root:Al,Content:kn,Overlay:En,Portal:Bl,Title:Hs,Description:Js},Vn=({shouldScaleBackground:s=!0,...a})=>e.jsxDEV(os.Root,{shouldScaleBackground:s,...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:10,columnNumber:3},void 0);Vn.displayName="Drawer";const $l=os.Portal,yn=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(os.Overlay,{ref:t,className:T("fixed inset-0 z-50 bg-black/80",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:27,columnNumber:3},void 0));yn.displayName=os.Overlay.displayName;const _n=p.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV($l,{children:[e.jsxDEV(yn,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:40,columnNumber:5},void 0),e.jsxDEV(os.Content,{ref:r,className:T("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...t,children:[e.jsxDEV("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:49,columnNumber:7},void 0),a]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:41,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:39,columnNumber:3},void 0));_n.displayName="DrawerContent";const Cn=({className:s,...a})=>e.jsxDEV("div",{className:T("grid gap-1.5 p-4 text-center sm:text-left",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:60,columnNumber:3},void 0);Cn.displayName="DrawerHeader";const Sn=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(os.Title,{ref:t,className:T("text-lg font-semibold leading-none tracking-tight",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:82,columnNumber:3},void 0));Sn.displayName=os.Title.displayName;const Ll=p.forwardRef(({className:s,...a},t)=>e.jsxDEV(os.Description,{ref:t,className:T("text-sm text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:97,columnNumber:3},void 0));Ll.displayName=os.Description.displayName;function zl(){const{isDetailDrawerOpen:s,setIsDetailDrawerOpen:a,selectedProcesso:t,selectedTestemunha:r,isPiiMasked:n}=K(),{toast:o}=ze(),i=async(m,N)=>{const f=rs(m,n);try{await navigator.clipboard.writeText(f),o({title:"Copiado!",description:`${N} copiado para a área de transferência.`})}catch{o({title:"Erro ao copiar",description:`Não foi possível copiar ${N}.`,variant:"destructive"})}},u=({value:m,label:N})=>e.jsxDEV("div",{className:"flex items-center gap-2",children:[m===null?e.jsxDEV("span",{className:"text-muted-foreground",children:"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:53,columnNumber:9},this):m?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ze,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("span",{children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:57,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:55,columnNumber:9},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Sa,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:61,columnNumber:11},this),e.jsxDEV("span",{children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:60,columnNumber:9},this),N&&e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>i(m?.toString()||"N/A",N),className:"h-6 w-6 p-0",children:e.jsxDEV(ds,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:51,columnNumber:5},this),d=({label:m,value:N,copyable:f=!1})=>e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:m},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:89,columnNumber:9},this),f&&N&&e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>i(N.toString(),m),className:"h-6 w-6 p-0",children:e.jsxDEV(ds,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:99,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:88,columnNumber:7},this),e.jsxDEV("p",{className:"font-mono text-sm break-all",children:N?rs(N.toString(),n):"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:103,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:87,columnNumber:5},this);return!s||!t&&!r?null:e.jsxDEV(Vn,{open:s,onOpenChange:a,children:e.jsxDEV(_n,{className:"max-w-4xl mx-auto",children:[e.jsxDEV(Cn,{children:e.jsxDEV(Sn,{children:t?`Processo ${t.cnj}`:`Testemunha ${r?.nome_testemunha}`},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:117,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:116,columnNumber:9},this),e.jsxDEV(Yr,{className:"h-[80vh] px-6 pb-6",children:[t&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-muted/20 rounded-xl p-4",children:e.jsxDEV(se,{variant:"outline",className:"mb-2",children:"Conteúdo assistivo. Revisão humana obrigatória."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:128,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:127,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV(d,{label:"CNJ",value:t.cnj,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:134,columnNumber:17},this),e.jsxDEV(d,{label:"Status",value:t.status},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:139,columnNumber:17},this),e.jsxDEV(d,{label:"UF",value:t.uf},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:140,columnNumber:17},this),e.jsxDEV(d,{label:"Comarca",value:t.comarca,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:141,columnNumber:17},this),e.jsxDEV(d,{label:"Fase",value:t.fase},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:146,columnNumber:17},this),e.jsxDEV(d,{label:"Reclamante",value:t.reclamante_limpo,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:133,columnNumber:15},this),e.jsxDEV(vs,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"font-semibold",children:"Advogados Parte Ativa"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:157,columnNumber:17},this),e.jsxDEV(js,{items:t.advogados_parte_ativa,maxVisible:5,isPiiMasked:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:158,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"font-semibold",children:"Testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:166,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium mb-2",children:"Polo Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:169,columnNumber:21},this),e.jsxDEV(js,{items:t.testemunhas_ativo_limpo,maxVisible:5,isPiiMasked:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:170,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:168,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium mb-2",children:"Polo Passivo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:177,columnNumber:21},this),e.jsxDEV(js,{items:t.testemunhas_passivo_limpo,maxVisible:5,isPiiMasked:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:178,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:176,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:167,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV(vs,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:187,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Reclamante foi Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:191,columnNumber:19},this),e.jsxDEV(u,{value:t.reclamante_foi_testemunha},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:194,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:190,columnNumber:17},this),e.jsxDEV(d,{label:"Qtd Vezes Reclamante foi Testemunha",value:t.qtd_vezes_reclamante_foi_testemunha},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:198,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Troca Direta"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:203,columnNumber:19},this),e.jsxDEV(u,{value:t.troca_direta},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:206,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:202,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Triangulação Confirmada"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:209,columnNumber:19},this),e.jsxDEV(u,{value:t.triangulacao_confirmada},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:212,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:208,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV(vs,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:218,columnNumber:15},this),e.jsxDEV(d,{label:"Classificação Final",value:t.classificacao_final},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:220,columnNumber:15},this),e.jsxDEV(d,{label:"Insight Estratégico",value:t.insight_estrategico,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:225,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:126,columnNumber:13},this),r&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-muted/20 rounded-xl p-4",children:e.jsxDEV(se,{variant:"outline",className:"mb-2",children:"Conteúdo assistivo. Revisão humana obrigatória."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:236,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:235,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV(d,{label:"Nome da Testemunha",value:r.nome_testemunha,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:242,columnNumber:17},this),e.jsxDEV(d,{label:"Quantidade de Depoimentos",value:r.qtd_depoimentos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:247,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:241,columnNumber:15},this),e.jsxDEV(vs,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:253,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Já Foi Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:257,columnNumber:19},this),e.jsxDEV(u,{value:r.ja_foi_reclamante},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:260,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:256,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Foi Testemunha em Ambos os Polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:263,columnNumber:19},this),e.jsxDEV(u,{value:r.foi_testemunha_em_ambos_polos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:266,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:262,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Participou Troca Favor"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:271,columnNumber:19},this),e.jsxDEV(u,{value:r.participou_troca_favor},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:274,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:270,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Participou Triangulação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:279,columnNumber:19},this),e.jsxDEV(u,{value:r.participou_triangulacao},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:282,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:255,columnNumber:15},this),e.jsxDEV(vs,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:288,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"font-semibold",children:"CNJs como Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:291,columnNumber:17},this),e.jsxDEV(js,{items:r.cnjs_como_testemunha??null,maxVisible:5,isPiiMasked:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:290,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"font-semibold",children:"CNJs como Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:300,columnNumber:17},this),e.jsxDEV(js,{items:r.cnjs_como_reclamante??null,maxVisible:5,isPiiMasked:n},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:301,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:299,columnNumber:15},this),e.jsxDEV(vs,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:308,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV(d,{label:"Classificação",value:r.classificacao??null},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:311,columnNumber:17},this),e.jsxDEV(d,{label:"Classificação Estratégica",value:r.classificacao_estrategica??null},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:315,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:310,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:115,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:114,columnNumber:5},this)}const ql=uo,Ul=mo,Hl=co;function Jl(s,a="Você tem alterações não salvas. Deseja sair?"){p.useEffect(()=>{if(!s)return;const t=r=>(r.preventDefault(),r.returnValue=a,a);return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[s,a])}const qa=s=>String(s??"").replace(/\D/g,""),wt=s=>qa(s).length===20,Dt=s=>{const a=String(s??"").trim();if(!a||a==="[]")return[];if(a.startsWith("[")&&a.endsWith("]"))try{return JSON.parse(a.replace(/'/g,'"')).map(t=>String(t).trim()).filter(Boolean)}catch{}return a.split(/[;,]/).map(t=>t.trim()).filter(Boolean)},Gl=["Nome_Testemunha","CNJs_Como_Testemunha"],Kl=["CNJ","Reclamante_Limpo","Reu_Nome"],Et=(s,a)=>(a.utils.sheet_to_json(s,{header:1,blankrows:!1})[0]||[]).map(r=>String(r||"").trim()),kt=(s,a)=>{const t=new Set(s.map(n=>n.toLowerCase())),r=a.filter(n=>!t.has(n.toLowerCase()));return{ok:r.length===0,missing:r}},Wl=({currentStep:s,validationResults:a,isProcessing:t})=>{const r=[{id:"upload",title:"Upload do Arquivo",icon:Ta,description:"Selecione o arquivo Excel"},{id:"validation",title:"Validação",icon:ra,description:"Verificação da qualidade dos dados"},{id:"preview",title:"Prévia",icon:ns,description:"Visualização antes da importação"},{id:"publish",title:"Importação",icon:Ze,description:"Processamento final"}],n=i=>{const u=r.findIndex(m=>m.id===s),d=r.findIndex(m=>m.id===i);return t&&i===s?"processing":d<u?"completed":d===u?i==="validation"&&(a?.errors?.length??0)>0?"error":"current":"pending"},o=(i,u)=>{const d=i.icon;return u==="processing"?e.jsxDEV(cr,{className:"h-5 w-5 animate-pulse"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:176,columnNumber:14},void 0):u==="completed"?e.jsxDEV(Ze,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:178,columnNumber:14},void 0):u==="error"?e.jsxDEV(zs,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:180,columnNumber:14},void 0):e.jsxDEV(d,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:182,columnNumber:14},void 0)};return e.jsxDEV("div",{className:"mb-8",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:r.map((i,u)=>{const d=n(i.id),m=d==="current"||d==="processing",N=d==="completed",f=d==="error";return e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("div",{className:`
                  flex items-center justify-center w-12 h-12 rounded-full border-2 
                  ${N?"bg-green-100 border-green-500 text-green-700 dark:bg-green-950 dark:border-green-400 dark:text-green-300":""}
                  ${m&&!f?"bg-primary/10 border-primary text-primary":""}
                  ${f?"bg-red-100 border-red-500 text-red-700 dark:bg-red-950 dark:border-red-400 dark:text-red-300":""}
                  ${d==="pending"?"bg-muted border-muted-foreground/25 text-muted-foreground":""}
                  transition-all duration-200
                `,children:o(i,d)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:198,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-3 text-center",children:[e.jsxDEV("span",{className:`text-sm font-medium ${m?"text-foreground":N?"text-green-700 dark:text-green-300":f?"text-red-700 dark:text-red-300":"text-muted-foreground"}`,children:i.title},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:211,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:i.description},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:224,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:197,columnNumber:15},void 0),u<r.length-1&&e.jsxDEV("div",{className:`
                  w-16 h-0.5 mx-4 
                  ${u<r.findIndex(w=>w.id===s)?"bg-green-500":"bg-muted-foreground/25"}
                  transition-colors duration-200
                `},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:231,columnNumber:17},void 0)]},i.id,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:196,columnNumber:13},void 0)})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:188,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:187,columnNumber:5},void 0)},Yl=({validationResults:s,fileName:a})=>{const{toast:t}=ze();p.useState("empty"),p.useState(!1);const r=()=>{xr(async()=>{const i=[["Linha","Coluna","Tipo","Mensagem","Valor"].join(","),`"Resumo","Total: ${s.totalRows}","Válidos: ${s.validRows}","Erros: ${s.errors.length}","Avisos: ${s.warnings.length}"`,"",...s.errors.map(m=>[m.row,`"${m.column}"`,"Erro",`"${m.message}"`,`"${m.value||""}"`].join(",")),...s.warnings.map(m=>[m.row,`"${m.column}"`,"Aviso",`"${m.message}"`,`"${m.value||""}"`].join(","))].join(`
`),u=new Blob(["\uFEFF"+i],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");d.href=URL.createObjectURL(u),d.download=`relatorio-validacao-${a.replace(/\.[^/.]+$/,"")}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(d),d.click(),document.body.removeChild(d),t({title:"Relatório CSV gerado",description:"Download iniciado com sucesso"})},"ImportModal.generateCSVReport")};return e.jsxDEV(be,{children:[e.jsxDEV(Pe,{children:[e.jsxDEV(Me,{className:"flex items-center gap-2",children:[e.jsxDEV(es,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:311,columnNumber:11},void 0),"Relatório de Validação"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:310,columnNumber:9},void 0),e.jsxDEV(gs,{children:"Gere relatórios detalhados dos erros e avisos encontrados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:314,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:309,columnNumber:7},void 0),e.jsxDEV(we,{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"text-center p-3 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-lg font-bold",children:s.totalRows.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:321,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Total de linhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:324,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:320,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsxDEV("div",{className:"text-lg font-bold text-green-600",children:s.validRows.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:327,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Linhas válidas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:330,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:326,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsxDEV("div",{className:"text-lg font-bold text-red-600",children:s.errors.length},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:333,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Erros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:336,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:332,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxDEV("div",{className:"text-lg font-bold text-orange-600",children:s.warnings.length},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:339,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Avisos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:342,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:338,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:319,columnNumber:9},void 0),e.jsxDEV(W,{variant:"outline",onClick:r,className:"flex items-center gap-2",children:[e.jsxDEV(bo,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:351,columnNumber:11},void 0),"Exportar Relatório CSV"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:346,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:318,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:308,columnNumber:5},void 0)};function Ql(){const s=K(Zi),a=K(j=>j.setIsImportModalOpen),{toast:t}=ze(),[r,n]=p.useState("upload"),[o,i]=p.useState(null),[u,d]=p.useState(!1),[m,N]=p.useState(0),[f,w]=p.useState(null),[D,H]=p.useState(null),[h,F]=p.useState("empty"),[P,V]=p.useState(!1),[I,A]=p.useState(!1),G=()=>{n("upload"),i(null),d(!1),N(0),w(null),H(null),F("empty"),V(!1)},O=!!o||r!=="upload";Jl(O);const _=j=>{j?a(!0):O?A(!0):(G(),a(!1))},l=p.useCallback(j=>{const k=j[0];k&&(i(k),w(null),H(null),n("upload"),C(k))},[]),{getRootProps:c,getInputProps:x,isDragActive:g}=po({onDrop:l,accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-excel":[".xls"]},maxFiles:1}),C=j=>{d(!0),N(0);const k=setInterval(()=>{N(b=>b>=95?(clearInterval(k),95):b+Math.random()*15)},200);oe(j)},$=j=>{const k=[];return j.forEach((b,y)=>{(!b.nome_testemunha||String(b.nome_testemunha).trim()==="")&&k.push({row:y+2,column:"Nome_Testemunha",message:"Nome_Testemunha é obrigatório",type:"error"});const R=Array.isArray(b.cnjs_como_testemunha)?b.cnjs_como_testemunha:Dt(b.cnjs_como_testemunha);R.length||k.push({row:y+2,column:"CNJs_Como_Testemunha",message:"Lista de CNJs vazia",type:"error"}),R.some(wt)||k.push({row:y+2,column:"CNJs_Como_Testemunha",message:"Nenhum CNJ com 20 dígitos na lista",type:"error"})}),k},Z=j=>{const k=[];return j.forEach((b,y)=>{(!b.cnj||!wt(b.cnj))&&k.push({row:y+2,column:"CNJ",message:"CNJ deve ter 20 dígitos (removendo máscara)",value:b.cnj,type:"error"}),(!b.reclamante_limpo||String(b.reclamante_limpo).trim()==="")&&k.push({row:y+2,column:"Reclamante_Limpo",message:"Reclamante_Limpo é obrigatório",type:"error"}),(!b.reu_nome||String(b.reu_nome).trim()==="")&&k.push({row:y+2,column:"Reu_Nome",message:"Reu_Nome é obrigatório",type:"error"})}),k},oe=async j=>{await xr(async()=>{const{porProcesso:k,porTestemunha:b,errors:y,warnings:R}=await me(j),M=k.length+b.length,S=M-y.length;w({totalRows:M,validRows:S,errors:y,warnings:R||[],processos:k,testemunhas:b}),n("validation")},"ImportModal.processFileValidation").finally(()=>{d(!1),N(100)})},me=async j=>{const k=await Bo(()=>import("./xlsx-BBMPxr6S.js"),[]);return new Promise((b,y)=>{const R=new FileReader;R.onload=M=>{try{const S=new Uint8Array(M.target?.result),ie=k.read(S,{type:"array"}),J=ie.Sheets["Por Processo"],ue=ie.Sheets["Por Testemunha"];if(!J&&!ue)throw new Error('Arquivo deve conter ao menos uma aba: "Por Processo" ou "Por Testemunha".');const B=[],ne=[];let le=[];if(J){const E=Et(J,k),{ok:ae,missing:U}=kt(E,Kl);if(!ae)throw new Error(`Modo Processo: faltam colunas: ${U.join(", ")}`);k.utils.sheet_to_json(J,{defval:""}).forEach(te=>{const ge=String(te.CNJ??"").trim(),fe={cnj:ge,cnj_digits:qa(ge),reclamante_limpo:te.Reclamante_Limpo,reu_nome:te.Reu_Nome,comarca:te.Comarca??"",fase:te.Fase??"",status:te.Status??""};B.push(fe)}),le=le.concat(Z(B))}if(ue){const E=Et(ue,k),{ok:ae,missing:U}=kt(E,Gl);if(!ae)throw new Error(`Modo Testemunha: faltam colunas: ${U.join(", ")}`);k.utils.sheet_to_json(ue,{defval:""}).forEach(te=>{const ge=Dt(te.CNJs_Como_Testemunha),fe={nome_testemunha:te.Nome_Testemunha,cnjs_como_testemunha:ge};ne.push(fe)}),le=le.concat($(ne))}b({porProcesso:B,porTestemunha:ne,errors:le})}catch(S){y(S)}},R.onerror=()=>y(new Error("Erro ao ler arquivo")),R.readAsArrayBuffer(j)})},L=async()=>{if(f){if(!navigator.onLine){F("offline"),V(!0);return}d(!0),N(0),n("publish"),F("loading");try{const j=setInterval(()=>{N(M=>M>=90?(clearInterval(j),90):M+Math.random()*10)},300),k=f.testemunhas.flatMap(M=>M.cnjs_como_testemunha.map(S=>({nome_testemunha:M.nome_testemunha,cnj:S,cnj_digits:qa(S)}))),b={};f.processos.length&&(b.processos=f.processos),k.length&&(b.testemunhas=k);const{data:y,error:R}=await Qe.functions.invoke("import-mapa-testemunhas",{body:b});if(N(100),R)throw R;H(y),F("success"),V(!1),t({title:"Importação concluída!",description:`${y?.upserts??0} registros processados com sucesso.`})}catch(j){console.error("Import error:",j),F(navigator.onLine?"error":"offline"),V(!0),t({title:"Erro na importação",description:j.message||"Ocorreu um erro durante a importação.",variant:"destructive"})}finally{d(!1),N(100)}}},re=()=>{a(!1),i(null),w(null),H(null),n("upload"),N(0)},q=()=>e.jsxDEV(be,{children:[e.jsxDEV(Pe,{children:[e.jsxDEV(Me,{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Ta,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:718,columnNumber:13},this),"Upload de Arquivo Excel"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:717,columnNumber:11},this),e.jsxDEV(ql,{children:[e.jsxDEV(Ul,{asChild:!0,children:e.jsxDEV(W,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:[e.jsxDEV(fo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:728,columnNumber:17},this),"Precisa de ajuda?",e.jsxDEV(Ms,{className:"h-4 w-4 ml-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:730,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:723,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:722,columnNumber:13},this),e.jsxDEV(Hl,{className:"absolute z-10 mt-2 p-4 bg-background border rounded-lg shadow-lg max-w-md right-0",children:e.jsxDEV("div",{className:"space-y-3",children:e.jsxDEV(Ke,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950",children:[e.jsxDEV(Ga,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:736,columnNumber:19},this),e.jsxDEV(We,{className:"text-blue-800 dark:text-blue-200",children:[e.jsxDEV("strong",{children:"Formato requerido:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:738,columnNumber:21},this)," Arquivo Excel (.xlsx) com abas:",e.jsxDEV("br",{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:740,columnNumber:21},this),"• ",e.jsxDEV("strong",{children:"Por Processo:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:740,columnNumber:29},this)," CNJ, Reclamante_Limpo, Reu_Nome",e.jsxDEV("br",{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:742,columnNumber:21},this),"• ",e.jsxDEV("strong",{children:"Por Testemunha:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:742,columnNumber:29},this)," Nome_Testemunha, CNJs_Como_Testemunha"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:737,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:735,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:734,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:733,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:721,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:716,columnNumber:9},this),e.jsxDEV(gs,{children:"Faça upload do arquivo Excel com os dados do mapa de testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:750,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:715,columnNumber:7},this),e.jsxDEV(we,{children:[e.jsxDEV("div",{...c(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${g?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary"}`,children:[e.jsxDEV("input",{...x()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:763,columnNumber:11},this),e.jsxDEV(Ta,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:764,columnNumber:11},this),g?e.jsxDEV("p",{className:"text-lg",children:"Solte o arquivo aqui..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:766,columnNumber:13},this):e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-lg mb-2",children:"Arraste e solte o arquivo aqui"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:769,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"ou clique para selecionar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:770,columnNumber:15},this),e.jsxDEV(W,{variant:"outline",children:"Selecionar Arquivo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:773,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:768,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:755,columnNumber:9},this),o&&e.jsxDEV("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:o.name},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:782,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[(o.size/1024/1024).toFixed(2)," MB • Excel"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:783,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:781,columnNumber:15},this),e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>{i(null),w(null),n("upload")},children:e.jsxDEV(ho,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:796,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:787,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:780,columnNumber:13},this),u&&e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV(ca,{value:m,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:802,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1 flex items-center gap-2",children:[e.jsxDEV(No,{className:"h-3 w-3 animate-pulse"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:804,columnNumber:19},this),m<95?`Enviando arquivo... ${Math.round(m)}%`:"Processando e validando dados..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:803,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:801,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:779,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:754,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:714,columnNumber:5},this),ce=()=>e.jsxDEV(be,{children:[e.jsxDEV(Pe,{children:[e.jsxDEV(Me,{className:"flex items-center gap-2",children:[e.jsxDEV(ra,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:821,columnNumber:11},this),"Validação e Normalização"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:820,columnNumber:9},this),e.jsxDEV(gs,{children:"Verificando a qualidade e consistência dos dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:824,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:819,columnNumber:7},this),e.jsxDEV(we,{children:f?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:f.totalRows?.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:840,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Linhas analisadas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:843,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:839,columnNumber:15},this),e.jsxDEV("div",{className:"text-center p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f.validRows?.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:848,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Linhas válidas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:851,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:847,columnNumber:15},this),e.jsxDEV("div",{className:"text-center p-4 bg-red-50 dark:bg-red-950 rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:f.errors?.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:856,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Erros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:859,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:855,columnNumber:15},this),e.jsxDEV("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-950 rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:f.warnings?.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:862,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Avisos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:865,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:861,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:838,columnNumber:13},this),f.errors?.length===0&&f.validRows>0&&e.jsxDEV(Ke,{className:"border-green-200 bg-green-50 dark:bg-green-950 dark:border-green-800",children:[e.jsxDEV(Ze,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:872,columnNumber:19},this),e.jsxDEV(We,{className:"text-green-800 dark:text-green-200",children:["✅ Arquivo pronto para importação!"," ",f.validRows," registros serão processados."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:873,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:871,columnNumber:17},this),f.errors?.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Erros Encontrados:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:882,columnNumber:17},this),f.errors.slice(0,5).map((j,k)=>e.jsxDEV(Ke,{variant:"destructive",children:[e.jsxDEV(zs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:887,columnNumber:23},this),e.jsxDEV(We,{children:[e.jsxDEV("strong",{children:["Linha ",j.row,":"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:889,columnNumber:25},this)," ",j.message," (",j.column,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:888,columnNumber:23},this)]},k,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:886,columnNumber:21},this)),f.errors.length>5&&e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["... e mais ",f.errors.length-5," erros"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:895,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:881,columnNumber:15},this),(f.errors?.length>0||f.warnings?.length>0)&&e.jsxDEV(Yl,{validationResults:f,fileName:o?.name||"arquivo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:904,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-2 justify-between",children:[e.jsxDEV(W,{variant:"outline",onClick:()=>n("upload"),children:"Voltar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:911,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-2",children:e.jsxDEV(W,{onClick:()=>n("preview"),disabled:f.validRows===0||(f.errors?.length||0)>0,children:f.errors?.length>0?"Corrigir Erros Primeiro":"Continuar para Prévia"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:918,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:917,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:910,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:837,columnNumber:11},this):e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(na,{className:"h-8 w-8 animate-spin mx-auto mb-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:832,columnNumber:15},this),e.jsxDEV("p",{children:"Validando arquivo..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:833,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:831,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:830,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:828,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:818,columnNumber:5},this),Y=()=>e.jsxDEV(be,{children:[e.jsxDEV(Pe,{children:[e.jsxDEV(Me,{className:"flex items-center gap-2",children:[e.jsxDEV(ns,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:941,columnNumber:11},this),"Prévia dos Dados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:940,columnNumber:9},this),e.jsxDEV(gs,{children:"Visualização dos dados processados e normalizados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:944,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:939,columnNumber:7},this),e.jsxDEV(we,{children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:f?.processos.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:952,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:955,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:951,columnNumber:13},this),e.jsxDEV("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:f?.testemunhas.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:958,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:961,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:957,columnNumber:13},this),e.jsxDEV("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:[f?Math.round(f.validRows/f.totalRows*100):0,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:964,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Taxa de sucesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:974,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:963,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:950,columnNumber:11},this),e.jsxDEV(Ke,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950 dark:border-blue-800",children:[e.jsxDEV(ns,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:981,columnNumber:13},this),e.jsxDEV(We,{className:"text-blue-800 dark:text-blue-200",children:[e.jsxDEV("strong",{children:"Prévia da Importação:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:983,columnNumber:15},this)," ",f?.validRows||0," registros serão processados e inseridos no mapa de testemunhas."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:982,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:980,columnNumber:11},this),(f?.processos?.length??0)>0&&e.jsxDEV("div",{className:"border rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-muted",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-3 text-left",children:"CNJ"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:994,columnNumber:21},this),e.jsxDEV("th",{className:"p-3 text-left",children:"Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:995,columnNumber:21},this),e.jsxDEV("th",{className:"p-3 text-left",children:"Réu"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:996,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:993,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:992,columnNumber:17},this),e.jsxDEV("tbody",{children:f?.processos?.slice(0,3).map((j,k)=>e.jsxDEV("tr",{className:"border-t",children:[e.jsxDEV("td",{className:"p-3 font-mono text-sm",children:j.cnj},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1004,columnNumber:25},this),e.jsxDEV("td",{className:"p-3",children:j.reclamante_limpo},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1007,columnNumber:25},this),e.jsxDEV("td",{className:"p-3",children:j.reu_nome},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1008,columnNumber:25},this)]},k,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1003,columnNumber:23},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:999,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:991,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:990,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2 justify-between",children:[e.jsxDEV(W,{variant:"outline",onClick:()=>n("validation"),children:"Voltar para Validação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1017,columnNumber:13},this),e.jsxDEV(W,{onClick:L,className:"bg-green-600 hover:bg-green-700",disabled:(f?.errors?.length||0)>0,children:"Confirmar Importação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1023,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1016,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:949,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:948,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:938,columnNumber:5},this),v=()=>e.jsxDEV(be,{children:[e.jsxDEV(Pe,{children:[e.jsxDEV(Me,{className:"flex items-center gap-2",children:[e.jsxDEV(Ze,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1040,columnNumber:11},this),"Importação"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1039,columnNumber:9},this),e.jsxDEV(gs,{children:"Processamento dos dados no sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1043,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1038,columnNumber:7},this),e.jsxDEV(we,{children:e.jsxDEV("div",{className:"space-y-4",children:D?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(Ke,{className:"border-green-200 bg-green-50 dark:bg-green-950",children:[e.jsxDEV(Ze,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1064,columnNumber:17},this),e.jsxDEV(We,{className:"text-green-800 dark:text-green-200",children:[e.jsxDEV("strong",{children:"Importação concluída com sucesso!"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1066,columnNumber:19},this),e.jsxDEV("br",{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1067,columnNumber:19},this),"• Registros processados: ",D.upserts,D.errors?.length>0&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("br",{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1070,columnNumber:23},this),"• Erros: ",D.errors.length]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1069,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1065,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1063,columnNumber:15},this),e.jsxDEV(W,{className:"w-full",onClick:re,children:"Fechar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1076,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1062,columnNumber:13},this):e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(na,{className:"h-8 w-8 animate-spin mx-auto mb-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1049,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium",children:"Importando dados..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1050,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Processando e inserindo registros no mapa de testemunhas."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1051,columnNumber:15},this),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(ca,{value:m,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1055,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:m<100?"Processando...":"Finalizando..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1056,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1054,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1048,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1046,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1045,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1037,columnNumber:5},this);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Vr,{open:s,onOpenChange:_,children:e.jsxDEV(Wa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxDEV(_r,{children:[e.jsxDEV(Cr,{className:"flex items-center gap-2",children:[e.jsxDEV(Ja,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1092,columnNumber:15},this),"Importar Mapa de Testemunhas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1091,columnNumber:13},this),e.jsxDEV(Sr,{children:'Importe dados do Excel com as abas "Por Processo" e/ou "Por Testemunha"'},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1095,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1090,columnNumber:11},this),P&&e.jsxDEV(Ke,{variant:"destructive",className:"mb-4",children:e.jsxDEV(We,{children:"Integração CNJ indisponível"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1103,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1102,columnNumber:13},this),h!=="empty"&&h!=="success"&&e.jsxDEV(Us,{status:h,onRetry:L},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1108,columnNumber:13},this),e.jsxDEV(Wl,{currentStep:r,validationResults:f??void 0,isProcessing:u},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1111,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-6",children:[r==="upload"&&q(),r==="validation"&&ce(),r==="preview"&&Y(),r==="publish"&&v()]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1117,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1089,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1088,columnNumber:7},this),e.jsxDEV(rt,{open:I,title:"Descartar alterações?",description:"Você possui alterações não salvas. Deseja realmente sair?",confirmText:"Sair",onConfirm:()=>{A(!1),G(),a(!1)},onCancel:()=>A(!1)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1125,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1087,columnNumber:5},this)}const Xl=()=>{const s=K(t=>t.isPiiMasked),a=K(t=>t.setIsPiiMasked);return e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV(Ye,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:12,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(Ya,{id:"mask-pii",checked:s,onCheckedChange:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:14,columnNumber:9},void 0),e.jsxDEV(Te,{htmlFor:"mask-pii",className:"text-sm font-medium cursor-pointer flex items-center gap-1",children:s?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Pa,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:25,columnNumber:15},void 0),"Mascarar PII"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:24,columnNumber:13},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ns,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:30,columnNumber:15},void 0),"Mostrar PII"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:29,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:19,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:13,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:11,columnNumber:5},void 0)};function Zl(s){if(s.length!==18)throw new Error("CNJ without check digits must have exactly 18 digits");const a=[2,3,4,5,6,7,8,9,2,3,4,5,6,7,8,9,2,3];let t=0;const r=s.split("").map(Number);for(let i=0;i<r.length;i++)t+=r[i]*a[i];return(98-t%97).toString().padStart(2,"0")}function eu(s){const a=s?.year||2018+Math.floor(Math.random()*8),t=s?.sequential||String(Math.floor(Math.random()*9999999)+1).padStart(7,"0"),r=s?.justice,n=s?.tribunal,o=s?.origin||String(Math.floor(Math.random()*9999)+1).padStart(4,"0"),i=t+a+r+n+o,u=Zl(i);return`${t}-${u}.${a}.${r}.${n}.${o}`}function su(s,a=2024){const t=[];for(let n=0;n<s;n++){const o=String(1e6+n).padStart(7,"0");t.push(eu({sequential:o,year:a,justice:"5",tribunal:"02",origin:String(1e3+n).padStart(4,"0")}))}return t}const He=su(12,2024),sm=[{Aba:"Por Processo",Campo:"CNJ",Tipo:"texto",Obrigatorio:"Sim",Regra:"String com 20 dígitos (preserva formato original). Validação interna remove pontuação.",Exemplo:He[0]},{Aba:"Por Processo",Campo:"reclamante_nome",Tipo:"texto",Obrigatorio:"Sim (legado)",Regra:"Nome principal do reclamante (campo de compatibilidade)",Exemplo:"Ana Lima"},{Aba:"Por Processo",Campo:"reu_nome",Tipo:"texto",Obrigatorio:"Sim (legado)",Regra:"Nome do réu/empresa (campo de compatibilidade)",Exemplo:"Empresa XYZ Ltda"},{Aba:"Por Processo",Campo:"Status",Tipo:"texto",Obrigatorio:"Não",Regra:"Status atual do processo",Exemplo:"Em andamento"},{Aba:"Por Processo",Campo:"Fase",Tipo:"texto",Obrigatorio:"Não",Regra:"Fase processual atual",Exemplo:"Instrução"},{Aba:"Por Processo",Campo:"UF",Tipo:"texto",Obrigatorio:"Sim",Regra:"Sigla de 2 letras do estado",Exemplo:"SP"},{Aba:"Por Processo",Campo:"Comarca",Tipo:"texto",Obrigatorio:"Sim",Regra:"Nome da comarca",Exemplo:"São Paulo"},{Aba:"Por Processo",Campo:"Reclamantes",Tipo:"lista",Obrigatorio:"Sim",Regra:"Lista separada por ; (ponto e vírgula). Não usar []",Exemplo:"Ana Lima; Pedro Santos"},{Aba:"Por Processo",Campo:"Advogados_Ativo",Tipo:"lista",Obrigatorio:"Sim",Regra:"Lista separada por ; (primeiro é principal na UI)",Exemplo:"Dr. Xavier Silva; Dra. Yasmim Oliveira"},{Aba:"Por Processo",Campo:"Testemunhas_Ativo",Tipo:"lista",Obrigatorio:"Não",Regra:"Lista separada por ; ou — se vazio",Exemplo:"João Pereira; Carlos Costa"},{Aba:"Por Processo",Campo:"Testemunhas_Passivo",Tipo:"lista",Obrigatorio:"Não",Regra:"Lista separada por ; ou — se vazio",Exemplo:"Ana Silva"},{Aba:"Por Processo",Campo:"Todas_Testemunhas",Tipo:"lista",Obrigatorio:"Sim",Regra:"União de todas as testemunhas, separadas por ;",Exemplo:"João Pereira; Beatriz Nunes; Carlos Costa"},{Aba:"Por Processo",Campo:"Reclamante_Foi_Testemunha",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Processo",Campo:"Qtd_Reclamante_Testemunha",Tipo:"número",Obrigatorio:"Não",Regra:"Quantidade de vezes que reclamante foi testemunha",Exemplo:"1"},{Aba:"Por Processo",Campo:"CNJs_Reclamante_Testemunha",Tipo:"lista",Obrigatorio:"Não",Regra:"Lista de CNJs separados por ; ou — se vazio",Exemplo:`${He[9]}`},{Aba:"Por Processo",Campo:"Reclamante_Testemunha_Polo_Passivo",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"false"},{Aba:"Por Processo",Campo:"CNJs_Passivo",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs onde reclamante foi testemunha do polo passivo",Exemplo:"—"},{Aba:"Por Processo",Campo:"Triangulacao_Confirmada",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Processo",Campo:"Desenho_Triangulacao",Tipo:"texto",Obrigatorio:"Não",Regra:"Padrão da triangulação (A→B→C→A) ou — se não houver",Exemplo:"A→B→C→A"},{Aba:"Por Processo",Campo:"CNJs_Triangulacao",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs envolvidos na triangulação, separados por ;",Exemplo:`${He[1]}; ${He[2]}; ${He[3]}`},{Aba:"Por Processo",Campo:"Contem_Prova_Emprestada",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Processo",Campo:"Testemunhas_Prova_Emprestada",Tipo:"lista",Obrigatorio:"Não",Regra:"Nomes das testemunhas de prova emprestada, separados por ;",Exemplo:"João Pereira"},{Aba:"Por Processo",Campo:"Classificacao_Final",Tipo:"texto",Obrigatorio:"Não",Regra:"Classificação de risco (Risco Alto, Risco Médio, Risco Baixo)",Exemplo:"Risco Alto"},{Aba:"Por Processo",Campo:"Insight_Estrategico",Tipo:"texto",Obrigatorio:"Não",Regra:"Resumo dos principais achados",Exemplo:"Triangulação + prova emprestada"},{Aba:"Por Testemunha",Campo:"Nome_Testemunha",Tipo:"texto",Obrigatorio:"Sim",Regra:"Nome completo da testemunha",Exemplo:"João Pereira"},{Aba:"Por Testemunha",Campo:"Qtd_Depoimentos",Tipo:"número",Obrigatorio:"Sim",Regra:"Quantidade total de depoimentos",Exemplo:"12"},{Aba:"Por Testemunha",Campo:"CNJs_Como_Testemunha",Tipo:"lista",Obrigatorio:"Sim",Regra:"Lista de CNJs separados por ;",Exemplo:`${He[0]}; ${He[9]}`},{Aba:"Por Testemunha",Campo:"Ja_Foi_Reclamante",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"false"},{Aba:"Por Testemunha",Campo:"CNJs_Como_Reclamante",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs onde foi reclamante, separados por ; ou — se vazio",Exemplo:"—"},{Aba:"Por Testemunha",Campo:"Foi_Testemunha_Ativo",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Testemunha",Campo:"Foi_Testemunha_Passivo",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"false"},{Aba:"Por Testemunha",Campo:"CNJs_Passivo",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs onde foi testemunha do polo passivo",Exemplo:"—"},{Aba:"Por Testemunha",Campo:"Foi_Ambos_Polos",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"false"},{Aba:"Por Testemunha",Campo:"Participou_Troca_Favor",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Testemunha",Campo:"CNJs_Troca_Favor",Tipo:"lista",Obrigatorio:"Não",Regra:"Padrão CNJ_A↔CNJ_B ou lista separada por ;",Exemplo:`${He[4]}↔${He[5]}`},{Aba:"Por Testemunha",Campo:"Participou_Triangulacao",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Testemunha",Campo:"CNJs_Triangulacao",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs da triangulação, separados por ;",Exemplo:`${He[1]}; ${He[2]}; ${He[3]}`},{Aba:"Por Testemunha",Campo:"E_Prova_Emprestada",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Testemunha",Campo:"Classificacao",Tipo:"texto",Obrigatorio:"Não",Regra:"ALTA, MÉDIA, BAIXA",Exemplo:"ALTA"},{Aba:"Por Testemunha",Campo:"Classificacao_Estrategica",Tipo:"texto",Obrigatorio:"Não",Regra:"CRÍTICO, ATENÇÃO, NORMAL",Exemplo:"CRÍTICO"}];function Be(s){if(!s||s.length===0)return"—";const a=s.map(t=>String(t).trim()).filter(t=>t.length>0);return a.length>0?a.join("; "):"—"}const au=s=>({CNJ:s.cnj||"—",Status:s.status||"—",Fase:s.fase||"—",UF:s.uf||"—",Comarca:s.comarca||"—",Reclamantes:s.reclamante_limpo||"—",Advogados_Ativo:Be(s.advogados_parte_ativa||[]),Testemunhas_Ativo:Be(s.testemunhas_ativo_limpo||[]),Testemunhas_Passivo:Be(s.testemunhas_passivo_limpo||[]),Todas_Testemunhas:Be(s.todas_testemunhas||[]),Reclamante_Foi_Testemunha:s.reclamante_foi_testemunha||!1,Qtd_Reclamante_Testemunha:s.qtd_vezes_reclamante_foi_testemunha||0,CNJs_Reclamante_Testemunha:Be(s.cnjs_em_que_reclamante_foi_testemunha||[]),Reclamante_Testemunha_Polo_Passivo:s.reclamante_testemunha_polo_passivo||!1,CNJs_Passivo:Be(s.cnjs_passivo||[]),Triangulacao_Confirmada:s.triangulacao_confirmada||!1,Desenho_Triangulacao:s.desenho_triangulacao||"—",CNJs_Triangulacao:Be(s.cnjs_triangulacao||[]),Contem_Prova_Emprestada:s.contem_prova_emprestada||!1,Testemunhas_Prova_Emprestada:Be(s.testemunhas_prova_emprestada||[]),Classificacao_Final:s.classificacao_final||"—",Insight_Estrategico:s.insight_estrategico||"—"}),tu=s=>({Nome_Testemunha:s.nome_testemunha,Qtd_Depoimentos:s.qtd_depoimentos||0,CNJs_Como_Testemunha:Be(s.cnjs_como_testemunha||[]),Ja_Foi_Reclamante:s.ja_foi_reclamante||!1,CNJs_Como_Reclamante:Be(s.cnjs_como_reclamante||[]),Foi_Testemunha_Ativo:s.foi_testemunha_ativo||!1,Foi_Testemunha_Passivo:s.foi_testemunha_passivo||!1,CNJs_Passivo:Be(s.cnjs_passivo||[]),Foi_Ambos_Polos:s.foi_testemunha_em_ambos_polos||!1,Participou_Troca_Favor:s.participou_troca_favor||!1,CNJs_Troca_Favor:Be(s.cnjs_troca_favor||[]),Participou_Triangulacao:s.participou_triangulacao||!1,CNJs_Triangulacao:Be(s.cnjs_triangulacao||[]),E_Prova_Emprestada:s.e_prova_emprestada||!1,Classificacao:s.classificacao||"—",Classificacao_Estrategica:s.classificacao_estrategica||"—"}),ru=s=>{if(!s)return"";const a=s.replace(/\D/g,"");return a.length===11?a.replace(/(\d{3})\d{6}(\d{2})/,"$1******$2"):a.length>=3?a.substring(0,2)+"*".repeat(Math.max(1,a.length-4))+a.slice(-2):"*".repeat(s.length)},nu=s=>{if(!s)return"";const a=s.replace(/\D/g,"");return a.length===14?a.replace(/(\d{2})\d{9}(\d{4})/,"$1*********$2"):a.length>=6?a.substring(0,2)+"*".repeat(Math.max(1,a.length-6))+a.slice(-4):"*".repeat(s.length)},ou=s=>{if(!s)return"";const[a,t]=s.split("@");if(!a||!t)return s;const r=Math.min(2,a.length);return`${a.substring(0,r)+"*".repeat(Math.max(1,a.length-r))}@${t}`},iu=s=>{if(!s)return"";const a=s.replace(/\D/g,"");return a.length>=8?a.length===11?a.replace(/(\d{2})(\d{1})\d{4}(\d{2})/,"($1) $2****-**$3"):a.length===10?a.replace(/(\d{2})\d{4}(\d{2})/,"($1) ****-**$2"):a.substring(0,2)+"*".repeat(a.length-4)+a.slice(-2):"*".repeat(s.length)},lu=s=>{if(!s)return"";const a=s.replace(/\D/g,"");return a.length>=4?s.replace(/\d/g,(t,r,n)=>{const o=n.substring(0,r+1).replace(/\D/g,"").length-1;return o===0||o===a.length-1?t:"*"}):s.replace(/\d/g,"*")},_s=s=>{if(!s)return"";let a=s;return a=a.replace(/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/g,t=>ru(t)),a=a.replace(/\b\d{2}\.?\d{3}\.?\d{3}\/?\d{4}-?\d{2}\b/g,t=>nu(t)),a=a.replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,t=>ou(t)),a=a.replace(/\(\d{2}\)?\s*\d{4,5}-?\d{4}\b/g,t=>iu(t)),a=a.replace(/\bOAB\/?\w{2}\s*\d+/gi,t=>lu(t)),a},uu=(s,a={})=>{const{filename:t=`processos-${new Date().toISOString().split("T")[0]}.csv`,maskPII:r=!1,selectedOnly:n=!1,selectedIds:o=[]}=a;let i=s;n&&o.length>0&&(i=s.filter(w=>o.includes(w.cnj)));const u=i.map(w=>{const D=au(w);return r?{...D,Reclamantes:_s(D.Reclamantes),Todas_Testemunhas:_s(D.Todas_Testemunhas),Insight_Estrategico:_s(D.Insight_Estrategico)}:D}),m="\uFEFF"+mn.unparse(u,{delimiter:",",header:!0}),N=new Blob([m],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(f.download!==void 0){const w=URL.createObjectURL(N);f.setAttribute("href",w),f.setAttribute("download",t),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f)}return u.length},mu=(s,a={})=>{const{filename:t=`testemunhas-${new Date().toISOString().split("T")[0]}.csv`,maskPII:r=!1,selectedOnly:n=!1,selectedIds:o=[]}=a;let i=s;n&&o.length>0&&(i=s.filter(w=>o.includes(w.nome_testemunha)));const u=i.map(w=>{const D=tu(w);return r?{...D,Nome_Testemunha:_s(D.Nome_Testemunha),CNJs_Como_Testemunha:_s(D.CNJs_Como_Testemunha),CNJs_Como_Reclamante:_s(D.CNJs_Como_Reclamante)}:D}),m="\uFEFF"+mn.unparse(u,{delimiter:",",header:!0}),N=new Blob([m],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(f.download!==void 0){const w=URL.createObjectURL(N);f.setAttribute("href",w),f.setAttribute("download",t),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f)}return u.length},cu=(s,a=!0)=>{const r=s*(a?500:350);return r<1024?`${r} bytes`:r<1024*1024?`${(r/1024).toFixed(1)} KB`:`${(r/(1024*1024)).toFixed(1)} MB`},du=(s,a=!1)=>s===0?{isValid:!1,message:a?"Nenhum registro selecionado para exportação.":"Nenhum registro encontrado para exportação.",maxRecords:5e3}:s>5e3?{isValid:!1,message:`Limite de exportação excedido. Máximo permitido: ${5e3.toLocaleString()} registros. ${a?"Selecione menos registros":"Aplique filtros para reduzir o resultado"}.`,maxRecords:5e3}:{isValid:!0,maxRecords:5e3},pu=({data:s,fileName:a,disabled:t=!1})=>{const[r,n]=p.useState(!1),o=K(Gi),i=N=>N.length>0&&"cnj"in N[0]&&"reclamante_limpo"in N[0],u=async()=>{n(!0);try{const N=s.length,f=du(N,!1);if(!f.isValid){ba.error("Erro na exportação",{description:f.message});return}let w=0;const D=i(s)?"processos.csv":"testemunhas.csv";if(i(s)){const H=s.map(h=>({cnj:h.cnj,status:h.status||null,uf:h.uf||null,comarca:h.comarca||null,fase:h.fase||null,reclamante_limpo:h.reclamante_limpo||null,advogados_parte_ativa:h.advogados_parte_ativa||null,testemunhas_ativo_limpo:h.testemunhas_ativo_limpo||null,testemunhas_passivo_limpo:h.testemunhas_passivo_limpo||null,todas_testemunhas:h.todas_testemunhas||null,reclamante_foi_testemunha:h.reclamante_foi_testemunha||null,qtd_vezes_reclamante_foi_testemunha:h.qtd_vezes_reclamante_foi_testemunha||null,cnjs_em_que_reclamante_foi_testemunha:h.cnjs_em_que_reclamante_foi_testemunha||null,reclamante_testemunha_polo_passivo:h.reclamante_testemunha_polo_passivo||null,cnjs_passivo:h.cnjs_passivo||null,troca_direta:h.troca_direta||null,desenho_troca_direta:h.desenho_troca_direta||null,cnjs_troca_direta:h.cnjs_troca_direta||null,triangulacao_confirmada:h.triangulacao_confirmada||null,desenho_triangulacao:h.desenho_triangulacao||null,cnjs_triangulacao:h.cnjs_triangulacao||null,testemunha_do_reclamante_ja_foi_testemunha_antes:h.testemunha_do_reclamante_ja_foi_testemunha_antes||null,qtd_total_depos_unicos:h.qtd_total_depos_unicos||null,cnjs_depos_unicos:h.cnjs_depos_unicos||null,contem_prova_emprestada:h.contem_prova_emprestada||null,testemunhas_prova_emprestada:h.testemunhas_prova_emprestada||null,classificacao_final:h.classificacao_final||null,insight_estrategico:h.insight_estrategico||null,org_id:h.org_id||null,created_at:h.created_at||new Date().toISOString(),updated_at:h.updated_at||new Date().toISOString()}));w=uu(H,{filename:a||D,maskPII:o,selectedOnly:!1,selectedIds:[]})}else{const H=s.map(h=>({nome_testemunha:h.nome_testemunha??"",qtd_depoimentos:h.qtd_depoimentos??0,foi_testemunha_em_ambos_polos:h.foi_testemunha_em_ambos_polos??!1,ja_foi_reclamante:h.ja_foi_reclamante??!1,participou_triangulacao:h.participou_triangulacao??!1,participou_troca_favor:h.participou_troca_favor??!1,classificacao:h.classificacao??null,classificacao_estrategica:h.classificacao_estrategica??null,cnjs_como_testemunha:h.cnjs_como_testemunha??null,cnjs_como_reclamante:h.cnjs_como_reclamante??null,foi_testemunha_ativo:h.foi_testemunha_ativo??null,cnjs_ativo:h.cnjs_ativo??null,foi_testemunha_passivo:h.foi_testemunha_passivo??null,cnjs_passivo:h.cnjs_passivo??null,cnjs_troca_favor:h.cnjs_troca_favor??null,cnjs_triangulacao:h.cnjs_triangulacao??null,e_prova_emprestada:h.e_prova_emprestada??null,org_id:h.org_id??null,created_at:h.created_at??new Date().toISOString(),updated_at:h.updated_at??new Date().toISOString()}));w=mu(H,{filename:a||D,maskPII:o,selectedOnly:!1,selectedIds:[]})}ba.success("Exportação concluída!",{description:`${w} registros exportados com sucesso.`})}catch(N){console.error("Export error:",N),ba.error("Erro na exportação",{description:"Não foi possível exportar os dados. Tente novamente."})}finally{n(!1)}},m=(()=>{const N=Math.min(s.length,5e3),f=i(s);return{count:N,size:cu(N,f)}})();return e.jsxDEV(Gs,{children:[e.jsxDEV(Ks,{asChild:!0,children:e.jsxDEV(W,{variant:"outline",disabled:t||r||s.length===0,className:"gap-2","aria-label":"Exportar dados como CSV",children:[r?e.jsxDEV(Ss,{className:"h-4 w-4 animate-spin","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:183,columnNumber:13},void 0):e.jsxDEV(dr,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:185,columnNumber:13},void 0),"Exportar CSV"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:176,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:175,columnNumber:7},void 0),e.jsxDEV(As,{align:"end",className:"w-56",children:[e.jsxDEV("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:e.jsxDEV("div",{className:"flex items-center gap-1 mb-1",children:[e.jsxDEV(Ja,{className:"h-3 w-3","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:193,columnNumber:13},void 0),"Exportar como CSV"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:192,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:191,columnNumber:9},void 0),e.jsxDEV(Aa,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:198,columnNumber:9},void 0),e.jsxDEV(ps,{onClick:u,disabled:r,children:e.jsxDEV("div",{className:"w-full",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{children:"Todos os registros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:203,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:m.count.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:204,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:202,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:m.size},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:208,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:201,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:200,columnNumber:9},void 0),s.length>5e3&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Aa,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:214,columnNumber:13},void 0),e.jsxDEV("div",{className:"px-3 py-2 text-xs text-warning",children:"⚠️ Máximo de 5.000 registros por exportação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:215,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:213,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:190,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:174,columnNumber:5},void 0)};function Ua(s,a){const[t,r]=p.useState(s);return p.useEffect(()=>{const n=setTimeout(()=>{r(s)},a);return()=>{clearTimeout(n)}},[s,a]),t}const da=s=>{if(!/^\d{4}-\d{2}-\d{2}$/.test(s))return!1;const a=new Date(s);return!isNaN(a.valueOf())},ka="mapa-testemunhas-processos",Va="mapa-testemunhas-testemunhas",Tn=Rs({page:Le.number().int().min(1).default(1),limit:Le.number().int().min(1).max(1e3).default(20)}),fu=Rs({search:$e().trim().optional(),data_inicio:$e().trim().optional().refine(s=>!s||da(s),{message:"data inválida"}),data_fim:$e().trim().optional().refine(s=>!s||da(s),{message:"data inválida"}),uf:$e().trim().optional(),status:$e().trim().optional(),fase:$e().trim().optional(),testemunha:$e().trim().optional(),qtd_depoimentos_min:Le.number().int().optional(),qtd_depoimentos_max:Le.number().int().optional(),tem_triangulacao:Le.boolean().optional(),tem_troca:Le.boolean().optional(),tem_prova_emprestada:Le.boolean().optional()}).superRefine((s,a)=>{s.data_inicio&&s.data_fim&&new Date(s.data_inicio)>new Date(s.data_fim)&&a.addIssue({code:ia.custom,message:"data_inicio deve ser menor ou igual a data_fim",path:["data_inicio"]}),s.qtd_depoimentos_min!==void 0&&s.qtd_depoimentos_max!==void 0&&s.qtd_depoimentos_min>s.qtd_depoimentos_max&&a.addIssue({code:ia.custom,message:"qtd_depoimentos_min deve ser menor ou igual a qtd_depoimentos_max",path:["qtd_depoimentos_min"]})}).default({}),hu=Rs({paginacao:Tn.default({page:1,limit:20}),filtros:fu}).default(()=>({paginacao:{page:1,limit:20},filtros:{}})),Nu=Rs({nome:$e().trim().optional(),documento:$e().trim().optional(),search:$e().trim().optional(),data_inicio:$e().trim().optional().refine(s=>!s||da(s),{message:"data inválida"}),data_fim:$e().trim().optional().refine(s=>!s||da(s),{message:"data inválida"}),ambos_polos:Le.boolean().optional(),ja_foi_reclamante:Le.boolean().optional(),qtd_depoimentos_min:Le.number().int().optional(),qtd_depoimentos_max:Le.number().int().optional(),tem_triangulacao:Le.boolean().optional(),tem_troca:Le.boolean().optional()}).superRefine((s,a)=>{s.data_inicio&&s.data_fim&&new Date(s.data_inicio)>new Date(s.data_fim)&&a.addIssue({code:ia.custom,message:"data_inicio deve ser menor ou igual a data_fim",path:["data_inicio"]}),s.qtd_depoimentos_min!==void 0&&s.qtd_depoimentos_max!==void 0&&s.qtd_depoimentos_min>s.qtd_depoimentos_max&&a.addIssue({code:ia.custom,message:"qtd_depoimentos_min deve ser menor ou igual a qtd_depoimentos_max",path:["qtd_depoimentos_min"]})}).default({}),bu=Rs({paginacao:Tn.default({page:1,limit:20}),filtros:Nu}).default(()=>({paginacao:{page:1,limit:20},filtros:{}}));Rs({items:Lo(zo()),page:Na().int().min(1),limit:Na().int().min(1).max(1e3),total:Na().int().nonnegative(),next_cursor:$o().default(null),requestId:$e()});const ya="assistjur_debug_mode",X={isEnabled(){return typeof window>"u"?!1:localStorage.getItem(ya)==="true"},enable(){typeof window>"u"||(localStorage.setItem(ya,"true"),console.log("🐛 Debug mode ATIVADO"))},disable(){typeof window>"u"||(localStorage.setItem(ya,"false"),console.log("🐛 Debug mode DESATIVADO"))},toggle(){const s=!this.isEnabled();return s?this.enable():this.disable(),s},log(s,...a){this.isEnabled()&&console.log(`[DEBUG] ${s}`,...a)},warn(s,...a){this.isEnabled()&&console.warn(`[DEBUG] ${s}`,...a)},error(s,...a){this.isEnabled()?console.error(`[DEBUG] ${s}`,...a):console.error(s,...a)}};function Pn(s){const a={temTriangulacao:"tem_triangulacao",temTroca:"tem_troca",temProvaEmprestada:"tem_prova_emprestada",qtdDeposMin:"qtd_depoimentos_min",qtdDeposMax:"qtd_depoimentos_max",ambosPolos:"ambos_polos",jaFoiReclamante:"ja_foi_reclamante"};return Object.fromEntries(Object.entries(s??{}).filter(([t,r])=>!(r==null||typeof r=="string"&&r.trim()==="")).map(([t,r])=>[a[t]??t,r]))}async function Mn(s,a=3,t=1e3){let r=null;for(let n=0;n<a;n++)try{return await s()}catch(o){if(r=o,n<a-1){const i=t*Math.pow(2,n);console.warn(`Tentativa ${n+1} falhou, aguardando ${i}ms...`),await new Promise(u=>setTimeout(u,i))}}throw r}function Vt(s,a){console.warn("⚠️ MODO FALLBACK: Usando dados mock para testemunhas (API não disponível)"),X.isEnabled()&&console.table({mode:"FALLBACK",type:"TESTEMUNHAS",page:s,limit:a});const t=[{nome_testemunha:"Maria Silva Santos",qtd_depoimentos:8,foi_testemunha_em_ambos_polos:!0,ja_foi_reclamante:!0,participou_triangulacao:!0,participou_troca_favor:!0,classificacao:"ALTO_RISCO"},{nome_testemunha:"João Paulo Oliveira",qtd_depoimentos:5,foi_testemunha_em_ambos_polos:!1,ja_foi_reclamante:!1,participou_triangulacao:!0,participou_troca_favor:!1,classificacao:"MEDIO_RISCO"},{nome_testemunha:"Ana Costa Ferreira",qtd_depoimentos:12,foi_testemunha_em_ambos_polos:!0,ja_foi_reclamante:!0,participou_triangulacao:!1,participou_troca_favor:!0,classificacao:"ALTO_RISCO"}],r=(s-1)*a,n=r+a;return{data:t.slice(r,n),total:t.length}}async function xu(s){const a=Math.random().toString(36).substring(7),t=s.filters?.search;X.log(`🔍 [${a}] fetchTestemunhas iniciado`,{page:s.page,limit:s.limit,filters:s.filters,searchTerm:t,timestamp:new Date().toISOString()});try{const{data:r}=await Qe.auth.getSession();if(!r?.session?.access_token)return X.error(`❌ [${a}] Usuário não autenticado`),Vt(s.page||1,s.limit||20);X.log(`✅ [${a}] Sessão válida`,{userId:r.session.user?.id,hasToken:!!r.session.access_token});const n=Pn(s.filters??{}),o={paginacao:{page:s.page||1,limit:s.limit||20},filtros:n};t&&console.log(`🎯 [${a}] SEARCH DETECTADO:`,{searchTerm:t,filtrosEnviados:o.filtros,hasSearchInFiltros:"search"in o.filtros||"nome"in o.filtros}),X.log(`📦 [${a}] Payload preparado`,o),bu.parse(o);const i=await Mn(async()=>{X.log(`🚀 [${a}] ===== CHAMANDO EDGE FUNCTION =====`),X.log(`🚀 [${a}] Function: ${Va}`),X.log(`🚀 [${a}] URL: <<MANTER>>/functions/v1/${Va}`),X.log(`🚀 [${a}] Body:`,o),X.log(`🚀 [${a}] Auth Token presente: ${!!r.session.access_token}`);const u=performance.now(),{data:d,error:m}=await Qe.functions.invoke(Va,{body:o}),N=performance.now()-u;if(X.log(`⏱️ [${a}] Tempo de resposta: ${N.toFixed(2)}ms`),m)throw X.error(`❌ [${a}] ===== ERRO NA EDGE FUNCTION =====`),X.error(`❌ [${a}] Error object:`,m),X.error(`❌ [${a}] Error message:`,m.message),X.error(`❌ [${a}] Error context:`,m.context),new Error(`Erro ao buscar testemunhas: ${m.message}`);if(!d||!d.items)return X.log(`✅ [${a}] ===== DATASET VAZIO (VÁLIDO) =====`),X.log(`✅ [${a}] Empty dataset (0 records) - this is valid, not an error`),{data:[],total:0};X.log(`✅ [${a}] ===== RESPOSTA RECEBIDA COM SUCESSO =====`),X.log(`✅ [${a}] Data structure:`,{hasData:!!d,dataKeys:d?Object.keys(d):[],itemsCount:d.items?.length||0,total:d.total,hasNextCursor:!!d.next_cursor});const f=d.items.map(w=>({nome_testemunha:w.nome_testemunha||"",qtd_depoimentos:Number(w.qtd_depoimentos)||0,foi_testemunha_em_ambos_polos:!!w.foi_testemunha_em_ambos_polos,ja_foi_reclamante:!!w.ja_foi_reclamante,participou_triangulacao:!!w.participou_triangulacao,participou_troca_favor:!!w.participou_troca_favor,classificacao:w.classificacao||null,classificacao_estrategica:w.classificacao_estrategica||null,cnjs_como_testemunha:w.cnjs_como_testemunha||null,cnjs_como_reclamante:w.cnjs_como_reclamante||null,foi_testemunha_ativo:!!w.foi_testemunha_ativo,cnjs_ativo:w.cnjs_ativo||null,foi_testemunha_passivo:!!w.foi_testemunha_passivo,cnjs_passivo:w.cnjs_passivo||null,cnjs_troca_favor:w.cnjs_troca_favor||null,cnjs_triangulacao:w.cnjs_triangulacao||null,e_prova_emprestada:!!w.e_prova_emprestada,org_id:w.org_id||null,created_at:w.created_at,updated_at:w.updated_at}));return X.log(`✅ [${a}] Transformed ${f.length} items`),f.length>0&&X.log(`✅ [${a}] Sample item:`,f[0]),{data:f,total:d.total||0}});return X.log(`🎉 [${a}] fetchTestemunhas concluído com sucesso`),i}catch(r){return X.error(`💥 [${a}] Erro fatal ao buscar testemunhas:`,r),{...Vt(s.page||1,s.limit||20),error:r instanceof Error?r.message:"Erro desconhecido ao buscar testemunhas"}}}function yt(s,a){console.warn("⚠️ MODO FALLBACK: Usando dados mock para processos (API não disponível)"),X.isEnabled()&&console.table({mode:"FALLBACK",type:"PROCESSOS",page:s,limit:a});const t=[{cnj:"0001234-56.2024.5.02.0001",reclamante:"EMPRESA XYZ LTDA",reclamada:"FORNECEDOR ABC S.A.",testemunhas_ativo:["Maria Silva Santos","João Paulo Oliveira"],testemunhas_passivo:["Ana Costa Ferreira"],tem_triangulacao:!0,tem_troca:!0,tem_prova_emprestada:!1,comarca:"São Paulo",vara:"1ª Vara do Trabalho"},{cnj:"0007890-12.2024.5.02.0002",reclamante:"TECH SOLUTIONS LTDA",reclamada:"CLIENTE SERVIÇOS S.A.",testemunhas_ativo:["Ana Costa Ferreira"],testemunhas_passivo:["Maria Silva Santos","João Paulo Oliveira"],tem_triangulacao:!1,tem_troca:!0,tem_prova_emprestada:!0,comarca:"Rio de Janeiro",vara:"3ª Vara do Trabalho"}],r=(s-1)*a,n=r+a;return{data:t.slice(r,n),total:t.length}}async function vu(s){const a=Math.random().toString(36).substring(7);X.log(`🔍 [${a}] fetchProcessos iniciado`,{page:s.page,limit:s.limit,filters:s.filters,timestamp:new Date().toISOString()});try{const{data:t}=await Qe.auth.getSession();if(!t?.session?.access_token)return X.error(`❌ [${a}] Usuário não autenticado`),yt(s.page||1,s.limit||20);X.log(`✅ [${a}] Sessão válida`,{userId:t.session.user?.id,hasToken:!!t.session.access_token});const r=Pn(s.filters),n={paginacao:{page:s.page||1,limit:s.limit||20},filtros:r};X.log(`📦 [${a}] Payload preparado`,n),hu.parse(n);const o=await Mn(async()=>{X.log(`🚀 [${a}] ===== CHAMANDO EDGE FUNCTION =====`),X.log(`🚀 [${a}] Function: ${ka}`),X.log(`🚀 [${a}] URL: <<MANTER>>/functions/v1/${ka}`),X.log(`🚀 [${a}] Body:`,n),X.log(`🚀 [${a}] Auth Token presente: ${!!t.session.access_token}`);const i=performance.now(),{data:u,error:d}=await Qe.functions.invoke(ka,{body:n}),m=performance.now()-i;if(X.log(`⏱️ [${a}] Tempo de resposta: ${m.toFixed(2)}ms`),d)throw X.error(`❌ [${a}] ===== ERRO NA EDGE FUNCTION =====`),X.error(`❌ [${a}] Error object:`,d),X.error(`❌ [${a}] Error message:`,d.message),X.error(`❌ [${a}] Error context:`,d.context),new Error(`Erro ao buscar processos: ${d.message}`);if(!u||!u.items)return X.log(`✅ [${a}] ===== DATASET VAZIO (VÁLIDO) =====`),X.log(`✅ [${a}] Empty dataset (0 records) - this is valid, not an error`),{data:[],total:0};X.log(`✅ [${a}] ===== RESPOSTA RECEBIDA COM SUCESSO =====`),X.log(`✅ [${a}] Data structure:`,{hasData:!!u,dataKeys:u?Object.keys(u):[],itemsCount:u.items?.length||0,total:u.total,hasNextCursor:!!u.next_cursor});const N=Array.isArray(u.items)?u.items:[],f=isFinite(u.total)?u.total:N.length;return{data:N,total:f}});return X.log(`🎉 [${a}] fetchProcessos concluído com sucesso`),o}catch(t){return X.error(`💥 [${a}] Erro fatal ao buscar processos:`,t),{...yt(s.page||1,s.limit||20),error:t instanceof Error?t.message:"Erro desconhecido ao buscar processos"}}}function _a(s,a){if(!s||typeof s!="object")return 0;const r=a.filter(u=>{const d=s[u];return d!=null&&d!==""&&d!=="nan"}).length/a.length;let n=0;return n=["cnj","reclamante","status","classificacao"].filter(u=>a.includes(u)&&s[u]).length*.05,Math.min(1,r+n)}function ju(s){return!s||s==="null"||s==="undefined"?"Em andamento":s}function gu(s){return!s||s==="null"||s==="undefined"?"Normal":s}function wu(s){if(s.situacao)return{status:s.situacao,inferido:!1};if(s.categoria)return{status:s.categoria,inferido:!1};const a=(s.classificacao_final||"").toLowerCase();if(a.includes("descartar"))return{status:"Arquivado",inferido:!0};if(a.includes("conhecer"))return{status:"Aguardando movimentação",inferido:!0};const t=s.quantidade_movimentos||0,r=s.quantidade_documentos||0;return t===0&&r===0?{status:"Aguardando distribuição",inferido:!0}:t>10?{status:"Em fase instrutória",inferido:!0}:{status:"Em andamento",inferido:!0}}function _t(s){if(!s)return"Normal";const a=String(s).replace(/[\[\]]/g,"").trim().toLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)}function Ca(s,a,t){if(a!=null)return a>=85?"critico":a>=70?"alto":a>=50?"medio":"baixo";if(t){const n=t.toLowerCase();if(n.includes("triangulação")||n.includes("troca de favor"))return"critico";if(n.includes("já foi testemunha")||n.includes("ambos polos"))return"alto";if(n.includes("prova emprestada"))return"medio"}const r=gu(s).toLowerCase();return r.includes("crítico")||r.includes("alto")?"alto":r.includes("médio")||r.includes("medio")?"medio":"baixo"}const Du=s=>typeof s=="object"&&s!==null&&("status"in s||"message"in s);function Eu(){const{toast:s}=ze(),{error:a}=Ti(),{chatStatus:t,chatResult:r,agentOnline:n,selectedProcesso:o,selectedTestemunha:i,setChatStatus:u,setChatResult:d,addChatMessage:m,updateChatMessage:N,setAgentOnline:f}=K(),w=p.useCallback(h=>{switch(h){case"processo":return"process_analysis";case"testemunha":return"witness_analysis";case"reclamante":return"claimant_analysis";default:return"risk_analysis"}},[]),D=p.useCallback((h,F)=>[{type:"executive",title:"📌 Resumo Executivo",icon:"Sparkles",data:{cnj:F.match(/\d{7}-\d{2}\.\d{4}\.\d{1}\.\d{2}\.\d{4}/)?F:"1000000-09.2024.5.02.1000",reclamante:h==="reclamante"?F:"Maria Silva Santos",reu:"Empresa ABC Ltda",status:"Em andamento",observacoes:"Processo com potencial risco de triangulação detectado.",riscoNivel:"alto",confianca:.85,alerta:"Testemunhas conectadas em múltiplos processos"},meta:{status:"Em andamento",observacoes:"Processo com potencial risco de triangulação detectado.",riscoNivel:"alto",confidence:.85},citations:[{source:"por_processo",ref:"1000000-09.2024.5.02.1000"},{source:"por_testemunha",ref:"João Santos"}]},{type:"details",title:"📋 Análise Detalhada",icon:"FileText",data:{secoes:[{titulo:"Vínculos Identificados",conteudo:"Foram identificadas 3 testemunhas que aparecem em processos similares.",evidencias:["João Santos: 5 processos","Maria Oliveira: 3 processos"]},{titulo:"Padrões Temporais",conteudo:"Concentração de depoimentos entre Jan-Mar 2024.",evidencias:["Janeiro: 8 depoimentos","Fevereiro: 12 depoimentos"]}],textoOriginal:F}},{type:"alerts",title:"⚠️ Alertas Estratégicos",icon:"AlertTriangle",data:{suspiciousPatterns:["Triangulação detectada entre 3 testemunhas","Depoimentos com narrativas similares","Mesmo advogado em processos conexos"]}},{type:"strategies",title:"🎯 Polo Ativo & Estratégias",icon:"Target",data:{estrategias:[{texto:"Questionar vínculos entre testemunhas",prioridade:"ALTA"},{texto:"Investigar histórico de depoimentos",prioridade:"MÉDIA"}],proximosPassos:["Solicitar certidões de processos anteriores","Preparar questionário específico para audiência"]}}],[]);return{runAnalysis:p.useCallback(async(h,F)=>{if(!h.trim()){s({title:"Campo obrigatório",description:"Digite uma consulta para executar a análise.",variant:"destructive"});return}if(!n){s({title:"Agente indisponível",description:"O assistente está temporariamente em manutenção.",variant:"destructive"});return}u("loading"),s({title:"Análise iniciada",description:"Processando sua consulta..."});const P=m({role:"assistant",content:"",blocks:[]});try{const V={message:h,queryType:w(F)};if(o&&(F==="processo"||h.match(/\d{7}-\d{2}\.\d{4}\.\d\.\d{2}\.\d{4}/))){const l=wu(o),c=_t(o.classificacao_final),x=Ca(o.classificacao_final,o.score_risco,o.insight_estrategico),g=_a(o,["cnj","reclamante_nome","reu_nome","status","classificacao_final"]);V.context={type:"processo",data:{cnj:o.cnj||o.numero_cnj,reclamante:o.reclamante_nome,reu:o.reu_nome,status:l.status,statusInferido:l.inferido,fase:o.fase,uf:o.uf,comarca:o.comarca,testemunhas_ativo:o.testemunhas_ativo,testemunhas_passivo:o.testemunhas_passivo,classificacao:c,classificacao_final:o.classificacao_final,score_risco:o.score_risco,insight_estrategico:o.insight_estrategico,riscoNivel:x},meta:{status:l.status,statusInferido:l.inferido,classificacao:c,riscoNivel:x,confidence:g}}}else if(i&&F==="testemunha"){const l=_t(i.classificacao_final),c=Ca(i.classificacao_final,i.score_risco,null),x=_a(i,["nome_testemunha","qtd_depoimentos","classificacao_final"]);V.context={type:"testemunha",data:{nome:i.nome_testemunha,qtd_depoimentos:i.qtd_depoimentos,processos_cnj:i.processos_cnj,foi_testemunha_em_ambos_polos:i.foi_testemunha_em_ambos_polos,ja_foi_reclamante:i.ja_foi_reclamante,classificacao_final:l,score_risco:i.score_risco},meta:{status:i.foi_testemunha_em_ambos_polos?"Ativo em ambos polos":"Normal",statusInferido:!1,classificacao:l,riscoNivel:c,confidence:x}}}console.log("🚀 [PAYLOAD] Enviando para chat-legal:",{message:V.message,queryType:V.queryType,hasContext:!!V.context,contextType:V.context?.type,hasMeta:!!V.context?.meta,meta:V.context?.meta,dataKeys:V.context?.data?Object.keys(V.context.data):[]});const{data:I,error:A}=await Qe.functions.invoke("chat-legal",{body:V});if(A){if(Du(A)&&(A.status===402||A.message?.includes("Workspace out of credits"))){const l=`https://${qo()}.functions.supabase.co/chat-legal`;console.warn(`Lovable API ${A.status} at ${l}`),a("Limite de créditos atingido","As funções de chat/assistente estão temporariamente indisponíveis. Tente novamente mais tarde.",{duration:void 0}),f(!1),N(P,{content:"Créditos esgotados. Função indisponível."}),u("error");return}throw A}const G=I?.data||I?.content||"";console.log("🔍 [FRONTEND] Raw AI Response type:",typeof G),console.log("🔍 [FRONTEND] Response length:",G.length),console.log("🔍 [FRONTEND] First 300 chars:",G.substring(0,300));let O=[];try{const l=JSON.parse(G);console.log("✅ [FRONTEND] Parsed JSON, type:",typeof l),l.blocks&&Array.isArray(l.blocks)?(O=l.blocks,console.log("✅ [FRONTEND] Extracted blocks array with",O.length,"items")):Array.isArray(l)&&l.length>0?(O=l,console.log("✅ [FRONTEND] Direct array with",O.length,"blocks")):l.type?(O=[l],console.log("✅ [FRONTEND] Single block object")):console.warn("⚠️ [FRONTEND] Parsed JSON but unexpected structure:",Object.keys(l))}catch(l){console.error("❌ [FRONTEND] JSON parse failed:",l);try{const c=G.match(/\{[\s\S]*"blocks"[\s\S]*\}/);c&&(O=JSON.parse(c[0]).blocks||[],console.log("✅ [FRONTEND] Extracted blocks from text:",O.length))}catch(c){console.error("❌ [FRONTEND] Extraction failed:",c)}}(!O||O.length===0)&&(console.log("🔧 [FRONTEND] Gerando fallback blocks para input:",h),O=[{type:"executive",title:"📊 Resumo Executivo",icon:"FileText",data:{cnj:h.match(/\d{7}-\d{2}\.\d{4}\.\d\.\d{2}\.\d{4}/)?h:"0000000-00.0000.0.00.0000",reclamante:o?.reclamante_nome||"Aguardando dados...",reu:o?.reu_nome||"Aguardando dados...",status:ju(o?.status),observacoes:o?.observacoes||`Análise iniciada para: ${h.substring(0,100)}${h.length>100?"...":""}`,riscoNivel:Ca(o?.classificacao_final,o?.score_risco),confianca:o?_a(o,["cnj","reclamante_nome","reu_nome","status"]):.5,alerta:void 0,citacoes:[]}},{type:"details",title:"🔍 Análise Detalhada",icon:"Search",data:{secoes:[{titulo:"Informações Disponíveis",conteudo:`Consulta realizada: ${h}`,evidencias:[]},{titulo:"Análise",conteudo:"Aguardando processamento completo pelo sistema. Por favor, tente novamente em alguns instantes.",evidencias:[]},{titulo:"Recomendações",conteudo:"Ações sugeridas:",evidencias:["Verificar se os dados estão disponíveis no sistema","Confirmar formato da consulta (CNJ, nome, etc)","Aguardar alguns instantes e tentar novamente"]}]}}],console.log("✅ [FRONTEND] Fallback blocks gerados:",O.length));const _=O.map(l=>({...l,context:V.context,meta:V.context?.meta}));N(P,{content:_.length>0?"Análise concluída":G,blocks:_}),d(_),u("success"),s({title:"Análise concluída",description:`Análise ${F==="processo"?"por processo":F==="testemunha"?"por testemunha":"por reclamante"} executada com sucesso.`})}catch(V){console.error("Error in analysis:",V),N(P,{content:"Erro ao executar análise. Tente novamente."}),u("error"),s({title:"Erro na análise",description:V instanceof Error?V.message:"Erro desconhecido ao executar análise.",variant:"destructive"})}},[n,w,D,u,d,m,N,s,a,f]),chatStatus:t,chatResult:r,agentOnline:n}}function ku(s,a="all",t=!0){const r=Ua(s,250);return xo({queryKey:["unified-search",r,a],queryFn:async()=>{if(!r||r.length<2)return{query:r,parsed:r,filters:{},scope:a,results:[],total:0};const{data:n,error:o}=await Qe.functions.invoke("search",{body:{q:r,scope:a,limit:20}});if(o)throw o;return n},enabled:t&&r.length>=2,staleTime:3e4})}const Ct={process:"Processo",witness:"Testemunha",claimant:"Reclamante",lawyer:"Advogado",comarca:"Comarca"},Vu={process:"bg-blue-500/10 text-blue-700 dark:text-blue-300",witness:"bg-purple-500/10 text-purple-700 dark:text-purple-300",claimant:"bg-green-500/10 text-green-700 dark:text-green-300",lawyer:"bg-orange-500/10 text-orange-700 dark:text-orange-300",comarca:"bg-gray-500/10 text-gray-700 dark:text-gray-300"},yu=[{scope:"all",label:"Tudo",icon:Cs},{scope:"process",label:"Processos",icon:es},{scope:"witness",label:"Testemunhas",icon:qs},{scope:"claimant",label:"Reclamantes",icon:oa}],_u={process:es,witness:qs,claimant:oa,lawyer:oa,comarca:jo};function Cu(){const s=p.useRef(null),[a,t]=p.useState(!1),[r,n]=p.useState("all"),[o,i]=p.useState(""),[u,d]=p.useState(!1),[m,N]=p.useState(0),f=Ka(),{toast:w}=ze(),{chatKind:D,chatStatus:H,agentOnline:h,selectedProcesso:F,selectedTestemunha:P,setChatInput:V,setChatKind:I,setSelectedProcesso:A,setSelectedTestemunha:G,processos:O,testemunhas:_}=K(),{runAnalysis:l}=Eu(),c=o,{data:x,isLoading:g}=ku(c,r,a&&c.length>=2),C=["Digite um nome... Ex: João Silva","Busque por CNJ... Ex: 0001234-56.2024.5.02.0001","Use operadores... Ex: risco:alto uf:RS","Filtros avançados... Ex: depoimentos:>3 comarca:POA"];p.useEffect(()=>{const b=setInterval(()=>{N(y=>(y+1)%C.length)},3e3);return()=>clearInterval(b)},[]);const $=C[m];p.useEffect(()=>{/\d{7}-\d{2}\.\d{4}\.\d{1}\.\d{2}\.\d{4}/.test(o)&&(n("process"),I("processo"))},[o,I]),p.useEffect(()=>{o.length>=2?t(!0):t(!1)},[o]),p.useEffect(()=>{const b=y=>{y.key==="k"&&y.ctrlKey&&(y.preventDefault(),s.current?.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]);const Z=b=>{switch(t(!1),i(b.title),V(b.title),b.type){case"process":{const y=O.find(R=>R.cnj===b.title||R.numero_cnj===b.title);y&&(A(y),w({title:"Processo selecionado",description:y.cnj||y.numero_cnj})),I("processo"),f(`/mapa-testemunhas?tab=processos&cnj=${encodeURIComponent(b.title)}`);break}case"witness":{const y=_.find(R=>R.nome_testemunha?.toLowerCase()===b.title.toLowerCase());y&&(G(y),w({title:"Testemunha selecionada",description:y.nome_testemunha})),I("testemunha"),f(`/mapa-testemunhas?tab=testemunhas&nome=${encodeURIComponent(b.title)}`);break}case"claimant":{I("reclamante"),f(`/mapa-testemunhas?tab=processos&reclamante=${encodeURIComponent(b.title)}`);break}}},oe=(b,y)=>{y.stopPropagation(),navigator.clipboard.writeText(b),w({title:"CNJ copiado",description:b})},me=()=>{A(null),G(null),V(""),i("")},L=F||P,re=F?`Processo: ${F.cnj||F.numero_cnj}`:P?`Testemunha: ${P.nome_testemunha}`:null,q=async()=>{if(!o.trim()||j||!h)return;t(!1),V(o);const b=D||(r==="process"?"processo":r==="witness"?"testemunha":"reclamante");I(b),await l(o.trim(),b)},ce=b=>{b.key==="Enter"&&(b.ctrlKey||b.metaKey)&&(b.preventDefault(),q())},Y=x&&x.results.length>0,v=x?.isAmbiguous||!1,j=v&&o.length>=2,k=o.trim().length>0&&!j&&h;return e.jsxDEV("div",{className:"w-full mx-auto max-w-7xl p-6 space-y-6",children:[!u&&e.jsxDEV(Ke,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",children:[e.jsxDEV(ss,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:255,columnNumber:11},this),e.jsxDEV(We,{className:"flex items-center justify-between gap-4",children:[e.jsxDEV("span",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsxDEV("strong",{className:"font-semibold",children:"Conteúdo assistivo."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:258,columnNumber:15},this)," ","Revisão humana obrigatória. Dados tratados conforme LGPD."," ",e.jsxDEV("a",{href:"/privacy",className:"underline hover:no-underline",children:"Política de Privacidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:257,columnNumber:13},this),e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>d(!0),className:"shrink-0 hover:bg-yellow-100 dark:hover:bg-yellow-900/30",children:e.jsxDEV(cs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:270,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:264,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:256,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:254,columnNumber:9},this),v&&x?.suggestions&&e.jsxDEV(Ke,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsxDEV(Ga,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:279,columnNumber:11},this),e.jsxDEV(We,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:x.suggestions.message},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:282,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Object.entries(x.suggestions.counts).map(([b,y])=>e.jsxDEV(se,{variant:"secondary",className:"text-xs",children:[b,": ",y]},b,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:288,columnNumber:21},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:281,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:280,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:278,columnNumber:9},this),L&&re&&e.jsxDEV("div",{className:"flex items-center gap-2 bg-primary/10 border border-primary/20 rounded-lg px-4 py-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsxDEV(se,{variant:"default",className:"gap-1.5 text-xs",children:[F&&e.jsxDEV(es,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:303,columnNumber:34},this),P&&e.jsxDEV(qs,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:304,columnNumber:36},this),"Contexto Selecionado"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:302,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm font-medium text-foreground flex-1",children:re},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:307,columnNumber:11},this),e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:me,className:"h-7 px-2 hover:bg-destructive/10 gap-1.5",children:[e.jsxDEV(cs,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:316,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs",children:"Limpar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:317,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:310,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:301,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsxDEV(Cs,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:327,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:326,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold",children:"Busca Inteligente Unificada"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:330,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Pesquise por processo, testemunha ou reclamante em um único lugar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:333,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:329,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:325,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:h?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ze,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:344,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Online"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:345,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:343,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(vo,{className:"h-4 w-4 text-orange-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:349,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Manutenção"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:350,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:348,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:341,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:324,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:yu.map(b=>{const y=b.icon;return e.jsxDEV(W,{variant:r===b.scope?"default":"outline",size:"sm",onClick:()=>n(b.scope),className:"gap-2 h-8 transition-all hover:scale-105",children:[e.jsxDEV(y,{className:"h-3.5 w-3.5",strokeWidth:1.5},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:370,columnNumber:17},this),b.label]},b.scope,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:363,columnNumber:15},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:359,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:323,columnNumber:7},this),e.jsxDEV("div",{className:"relative",children:e.jsxDEV(vr,{open:a,onOpenChange:t,children:[e.jsxDEV(jr,{asChild:!0,children:e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg blur-sm group-hover:blur-md transition-all opacity-0 group-hover:opacity-100"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:383,columnNumber:15},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Cs,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none z-10"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:385,columnNumber:17},this),e.jsxDEV(ls,{ref:s,value:o,onChange:b=>i(b.target.value),onKeyDown:ce,placeholder:$,className:"pl-12 pr-12 h-14 text-base border-2 focus:border-primary/50 transition-all shadow-sm hover:shadow-md"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:386,columnNumber:17},this),o&&e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>i(""),className:"absolute right-2 top-1/2 -translate-y-1/2 h-9 w-9 p-0 rounded-full hover:bg-destructive/10",children:e.jsxDEV(cs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:401,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:395,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:384,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:382,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:381,columnNumber:11},this),e.jsxDEV(gr,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",onOpenAutoFocus:b=>b.preventDefault(),children:e.jsxDEV(at,{children:e.jsxDEV(zr,{children:[g&&e.jsxDEV("div",{className:"flex items-center justify-center py-6",children:e.jsxDEV(Ss,{className:"h-5 w-5 animate-spin text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:417,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:416,columnNumber:19},this),!g&&Y&&e.jsxDEV(e.Fragment,{children:[v&&x?.suggestions&&e.jsxDEV("div",{className:"px-3 py-2 border-b bg-muted/50",children:e.jsxDEV("p",{className:"text-xs font-medium text-foreground",children:x.suggestions.message},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:425,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:424,columnNumber:23},this),["process","witness","claimant"].map(b=>{const y=x.results.filter(S=>S.type===b);if(y.length===0)return null;const R=_u[b],M=Ct[b];return e.jsxDEV(Ur,{heading:e.jsxDEV("div",{className:"flex items-center justify-between w-full pr-2",children:[e.jsxDEV("span",{children:M},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:446,columnNumber:31},this),e.jsxDEV(se,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:y.length},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:447,columnNumber:31},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:445,columnNumber:29},this),children:y.map(S=>e.jsxDEV(Hr,{onSelect:()=>Z(S),className:T("flex items-start gap-3 py-3 cursor-pointer transition-colors",v&&"hover:bg-blue-50 dark:hover:bg-blue-950/30"),children:[e.jsxDEV("div",{className:"mt-0.5",children:e.jsxDEV(R,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:467,columnNumber:33},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:466,columnNumber:31},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV("span",{className:"font-medium truncate",children:S.title},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:472,columnNumber:35},this),e.jsxDEV(se,{variant:"secondary",className:`text-[10px] px-1.5 py-0 ${Vu[S.type]}`,children:Ct[S.type]},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:475,columnNumber:35},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:471,columnNumber:33},this),S.subtitle&&e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:S.subtitle},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:484,columnNumber:35},this),S.type==="process"&&S.meta&&e.jsxDEV("div",{className:"flex items-center gap-2 mt-1 text-[10px] text-muted-foreground",children:[S.meta.status&&e.jsxDEV("span",{children:["Status: ",S.meta.status]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:492,columnNumber:39},this),S.meta.comarca&&e.jsxDEV("span",{children:["· ",S.meta.comarca]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:495,columnNumber:39},this),S.meta.classificacao&&e.jsxDEV(se,{variant:"outline",className:"text-[9px] px-1 py-0",children:S.meta.classificacao},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:498,columnNumber:39},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:490,columnNumber:35},this),S.type==="witness"&&S.meta&&e.jsxDEV("div",{className:"flex items-center gap-2 mt-1 text-[10px]",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:[S.meta.depoimentos," depoimentos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:510,columnNumber:37},this),S.meta.ambosPoles&&e.jsxDEV(se,{variant:"destructive",className:"text-[9px] px-1 py-0",children:"⚠ Ambos polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:514,columnNumber:39},this),S.meta.classificacao&&e.jsxDEV(se,{variant:"outline",className:"text-[9px] px-1 py-0",children:S.meta.classificacao},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:522,columnNumber:39},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:509,columnNumber:35},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:470,columnNumber:31},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[S.type==="process"&&e.jsxDEV(W,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:ie=>oe(S.title,ie),title:"Copiar CNJ",children:e.jsxDEV(ds,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:544,columnNumber:37},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:535,columnNumber:35},this),e.jsxDEV(W,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",title:"Abrir detalhes",children:e.jsxDEV(Ma,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:553,columnNumber:35},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:547,columnNumber:33},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:533,columnNumber:31},this)]},S.id,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:457,columnNumber:29},this))},b,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:442,columnNumber:25},this)})]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:422,columnNumber:19},this),!g&&!Y&&o.length>=2&&e.jsxDEV(qr,{children:e.jsxDEV("div",{className:"text-center py-6",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Nenhum resultado encontrado."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:567,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:["Tente operadores:"," ",e.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"p:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:572,columnNumber:25},this)," ",e.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"w:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:573,columnNumber:25},this)," ",e.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"uf:RS"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:574,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:570,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:566,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:565,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:414,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:413,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:408,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:380,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:379,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4 pt-2",children:[e.jsxDEV("div",{className:"flex-1 flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-lg",children:[e.jsxDEV(go,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:589,columnNumber:13},this),e.jsxDEV("span",{children:[e.jsxDEV("kbd",{className:"px-1.5 py-0.5 text-xs rounded bg-background shadow-sm",children:"Ctrl"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:591,columnNumber:15},this),e.jsxDEV("span",{className:"mx-1",children:"+"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:594,columnNumber:15},this),e.jsxDEV("kbd",{className:"px-1.5 py-0.5 text-xs rounded bg-background shadow-sm",children:"K"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:595,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:590,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:588,columnNumber:11},this),o.length>0&&e.jsxDEV("div",{className:"text-xs text-muted-foreground flex items-center gap-1.5 animate-in fade-in slide-in-from-left-2 duration-300",children:[e.jsxDEV("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500 animate-pulse"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:602,columnNumber:15},this),c.length>=2?`${x?.total||0} resultados`:"Digite para buscar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:601,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:587,columnNumber:9},this),e.jsxDEV(W,{onClick:q,disabled:!k||H==="loading",size:"lg",className:T("gap-2 min-w-[180px] shadow-md hover:shadow-lg transition-all hover:scale-105 font-semibold",L&&"bg-primary/90 hover:bg-primary ring-2 ring-primary/20"),children:H==="loading"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ss,{className:"h-5 w-5 animate-spin",strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:622,columnNumber:15},this),e.jsxDEV("span",{children:"Analisando dados..."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:623,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:621,columnNumber:13},this):j?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(zs,{className:"h-5 w-5",strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:627,columnNumber:15},this),e.jsxDEV("span",{children:"Refinar busca"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:628,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:626,columnNumber:13},this):L?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ra,{className:"h-5 w-5",strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:632,columnNumber:15},this),e.jsxDEV("span",{children:"⚡ Análise Contextual"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:633,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:631,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ra,{className:"h-5 w-5",strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:637,columnNumber:15},this),e.jsxDEV("span",{children:"⚡ Executar Análise"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:638,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:636,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:610,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:586,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:251,columnNumber:5},this)}function aa({label:s,value:a,type:t="default"}){const r=()=>{switch(t){case"reclamante":return"text-blue-700 font-medium";case"reu":return"text-red-700 font-medium";case"status":return"text-green-700";case"observacoes":return"text-muted-foreground text-sm";default:return"text-foreground"}},n=()=>{switch(t){case"status":return a.toLowerCase().includes("ativo")?"default":"secondary";default:return"outline"}};return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:s},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:37,columnNumber:7},this),e.jsxDEV("div",{className:T("font-medium",r()),children:t==="status"&&a!=="Não informado"?e.jsxDEV(se,{variant:n(),className:"text-xs",children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:42,columnNumber:11},this):e.jsxDEV("span",{children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:46,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:36,columnNumber:5},this)}function Su({cnj:s,reclamante:a,reu:t,status:r="Não informado",observacoes:n="Sem observações registradas",riscoNivel:o,confianca:i,alerta:u,citacoes:d}){console.log("📊 [ExecutiveSummaryCard] Props recebidas:",{cnj:s,status:r,observacoes:n,riscoNivel:o,confianca:typeof i=="number"?`${i}%`:i,hasObservacoes:!!n&&n!=="Sem observações registradas",hasStatus:!!r&&r!=="Não informado",isDefaultData:r==="Não informado"&&n==="Sem observações registradas"});const{toast:m}=ze(),[N,f]=p.useState(!1),w=typeof i=="number"&&!isNaN(i)&&isFinite(i)?Math.max(0,Math.min(1,i)):0,D=Math.round(w*100),H=3,h=d.length>H,F=N?d:d.slice(0,H),P=d.length-H,V=async()=>{const G=`Resumo Executivo - ${s}

Reclamante: ${a}
Réu: ${t}
Status: ${r}
Observações: ${n}

Risco: ${o.toUpperCase()}
Confiança: ${D}%
${u?`Alerta: ${u}`:""}

Citações:
${d.map(O=>`• ${O.label}`).join(`
`)}`;try{await navigator.clipboard.writeText(G),m({title:"Copiado!",description:"Resumo executivo copiado para a área de transferência."})}catch{m({title:"Erro ao copiar",description:"Não foi possível copiar o conteúdo.",variant:"destructive"})}},I=()=>{window.print(),m({title:"PDF",description:"Abrindo diálogo de impressão..."})},A=()=>{const G={cnj:s,reclamante:a,reu:t,status:r,observacoes:n,riscoNivel:o,confianca:i,alerta:u,citacoes:d},O=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),_=URL.createObjectURL(O),l=document.createElement("a");l.href=_,l.download=`resumo-executivo-${s.replace(/[^\w]/g,"-")}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(_),m({title:"JSON exportado",description:"Arquivo JSON baixado com sucesso."})};return e.jsxDEV(be,{className:"rounded-2xl border-border/50 transition-shadow hover:shadow-sm","aria-labelledby":"executive-summary",children:[e.jsxDEV(Pe,{className:"pb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(Me,{id:"executive-summary",className:"text-base font-semibold flex items-center gap-2",children:[e.jsxDEV(Ra,{className:"h-4 w-4 text-violet-600","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:169,columnNumber:13},this),"Resumo Executivo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:165,columnNumber:11},this),e.jsxDEV(Gs,{children:[e.jsxDEV(Ks,{asChild:!0,children:e.jsxDEV(W,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0","aria-label":"Ações do resumo",children:e.jsxDEV(wo,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:181,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:175,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:174,columnNumber:13},this),e.jsxDEV(As,{align:"end",children:[e.jsxDEV(ps,{onClick:V,children:[e.jsxDEV(ds,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:186,columnNumber:17},this),"Copiar resumo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:185,columnNumber:15},this),e.jsxDEV(ps,{onClick:I,children:[e.jsxDEV(Do,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:190,columnNumber:17},this),"Exportar PDF"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV(ps,{onClick:A,children:[e.jsxDEV(Eo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:194,columnNumber:17},this),"Exportar JSON"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:193,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:164,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:163,columnNumber:7},this),e.jsxDEV(we,{className:"pt-0 space-y-5",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(aa,{label:"Reclamante",value:a,type:"reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:205,columnNumber:11},this),e.jsxDEV(aa,{label:"Réu",value:t,type:"reu"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:206,columnNumber:11},this),e.jsxDEV(aa,{label:"Status",value:r,type:"status"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:207,columnNumber:11},this),e.jsxDEV(aa,{label:"Observações",value:n,type:"observacoes"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:204,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Nível de Risco"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:219,columnNumber:15},this),e.jsxDEV(dn,{riscoNivel:o},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:220,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:218,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Confiança"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:224,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ca,{value:D,className:"w-16 h-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:226,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[D,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:227,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:225,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:223,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:217,columnNumber:11},this),u&&e.jsxDEV("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg","aria-live":"polite",children:[e.jsxDEV(pr,{className:"h-4 w-4 text-violet-600","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:239,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-medium",children:u},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:243,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:235,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:216,columnNumber:9},this),d.length>0&&e.jsxDEV("div",{className:"pt-3 border-t",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(it,{className:"h-3 w-3 text-muted-foreground","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:252,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs font-medium text-muted-foreground",children:"Citações:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:256,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:251,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[F.map((G,O)=>e.jsxDEV(se,{variant:"secondary",className:T("text-xs flex items-center gap-1 cursor-pointer hover:bg-secondary/80",G.href&&"underline"),onClick:G.onClick||(()=>G.href&&window.open(G.href,"_blank")),children:[e.jsxDEV(it,{className:"h-3 w-3","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:275,columnNumber:19},this),G.label]},O,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:262,columnNumber:17},this)),h&&e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>f(!N),className:"h-6 px-2 text-xs text-muted-foreground hover:text-foreground",children:N?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(nr,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:289,columnNumber:23},this),"Menos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:288,columnNumber:21},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ms,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:294,columnNumber:23},this),"+",P]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:293,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:281,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:250,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:202,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:159,columnNumber:5},this)}function Tu({secoes:s,textoOriginal:a}){const t=n=>{switch(n){case"alta":return e.jsxDEV(se,{variant:"destructive",className:"text-xs",children:"Alta"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:40,columnNumber:11},this);case"media":return e.jsxDEV(se,{variant:"secondary",className:"text-xs",children:"Média"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:46,columnNumber:11},this);case"baixa":return e.jsxDEV(se,{variant:"outline",className:"text-xs",children:"Baixa"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:52,columnNumber:11},this);default:return null}},r=Array.isArray(s)?s:[];return e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV(Uo,{type:"multiple",className:"w-full",children:[r.map((n,o)=>e.jsxDEV(ct,{value:`secao-${o}`,children:[e.jsxDEV(dt,{className:"text-left",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium",children:n.titulo},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:71,columnNumber:17},this),n.evidencias&&n.evidencias.length>0&&e.jsxDEV(se,{variant:"outline",className:"text-xs",children:[n.evidencias.length," evidência",n.evidencias.length>1?"s":""]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:73,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:70,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:69,columnNumber:13},this),e.jsxDEV(pt,{children:e.jsxDEV("div",{className:"space-y-4 pt-2",children:[e.jsxDEV("div",{className:"prose prose-sm max-w-none",children:e.jsxDEV("p",{className:"text-sm text-muted-foreground leading-relaxed",children:n.conteudo},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:84,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:83,columnNumber:17},this),n.evidencias&&n.evidencias.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h5",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Evidências"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:92,columnNumber:21},this),e.jsxDEV("div",{className:"grid gap-2",children:n.evidencias.map((i,u)=>typeof i=="string"?e.jsxDEV(be,{className:"p-3 bg-muted/30",children:e.jsxDEV("p",{className:"text-sm",children:i},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:103,columnNumber:31},this)},u,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:99,columnNumber:29},this):e.jsxDEV(be,{className:"p-3 bg-muted/30",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[e.jsxDEV("div",{className:"flex-1",children:[i.tipo&&e.jsxDEV("div",{className:"text-xs text-muted-foreground font-medium mb-1",children:i.tipo},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:115,columnNumber:37},this),e.jsxDEV("p",{className:"text-sm",children:i.descricao},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:119,columnNumber:35},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:113,columnNumber:33},this),i.relevancia&&t(i.relevancia)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:112,columnNumber:31},this)},u,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:108,columnNumber:29},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:95,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:91,columnNumber:19},this),n.metadados&&e.jsxDEV("div",{className:"pt-2 border-t border-muted",children:e.jsxDEV("div",{className:"flex flex-wrap gap-4 text-xs text-muted-foreground",children:[n.metadados.fonte&&e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Fonte:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:140,columnNumber:27},this)," ",n.metadados.fonte]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:139,columnNumber:25},this),n.metadados.confiabilidade&&e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Confiabilidade:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:145,columnNumber:27},this)," ",Math.round(n.metadados.confiabilidade*100),"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:144,columnNumber:25},this),n.metadados.timestamp&&e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Processado:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:151,columnNumber:27},this)," ",new Date(n.metadados.timestamp).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:150,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:137,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:136,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:81,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:80,columnNumber:13},this)]},o,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:68,columnNumber:11},this)),a&&e.jsxDEV(ct,{value:"texto-original",children:[e.jsxDEV(dt,{className:"text-left",children:e.jsxDEV("span",{className:"font-medium",children:"Consulta Original"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:169,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:168,columnNumber:13},this),e.jsxDEV(pt,{children:e.jsxDEV(be,{className:"p-4 bg-muted/30",children:e.jsxDEV("pre",{className:"text-sm whitespace-pre-wrap font-mono text-muted-foreground",children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:173,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:172,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:171,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:167,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:66,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:65,columnNumber:5},this)}function ta({citations:s}){if(!s.length)return null;const a=r=>{switch(r){case"por_processo":return e.jsxDEV(es,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:15,columnNumber:16},this);case"por_testemunha":return e.jsxDEV(oa,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:17,columnNumber:16},this);default:return e.jsxDEV(Ma,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:19,columnNumber:16},this)}},t=r=>{switch(r){case"por_processo":return"default";case"por_testemunha":return"secondary";default:return"outline"}};return e.jsxDEV("div",{className:"pt-3 border-t",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(Ma,{className:"h-3 w-3 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:37,columnNumber:9},this),e.jsxDEV("span",{className:"text-xs font-medium text-muted-foreground",children:"Citações:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:38,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:36,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:s.map((r,n)=>e.jsxDEV(se,{variant:t(r.source),className:"text-xs flex items-center gap-1",children:[a(r.source),r.ref]},n,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:44,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:42,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:35,columnNumber:5},this)}function Pu({onToggle:s,isAnonymized:a,variant:t="default",className:r=""}){const[n,o]=p.useState(!1),i=async()=>{o(!0);try{await new Promise(u=>setTimeout(u,300)),s(!a)}finally{o(!1)}};return t==="minimal"?e.jsxDEV(W,{variant:a?"default":"outline",size:"sm",onClick:i,disabled:n,className:r,children:a?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Pa,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:48,columnNumber:13},this),"Dados Anonimizados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:47,columnNumber:11},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ns,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:53,columnNumber:13},this),"Dados Completos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:52,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:39,columnNumber:7},this):e.jsxDEV(Gs,{children:[e.jsxDEV(Ks,{asChild:!0,children:e.jsxDEV(W,{variant:"outline",className:r,children:[e.jsxDEV(Ye,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:65,columnNumber:11},this),"Privacidade",e.jsxDEV(Ms,{className:"h-4 w-4 ml-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:64,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:63,columnNumber:7},this),e.jsxDEV(As,{align:"end",className:"w-56",children:[e.jsxDEV(ps,{onClick:i,disabled:n,children:a?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ns,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:74,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:"Mostrar Dados Completos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:76,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Revelar CPFs e nomes reais"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:77,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:75,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:73,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Pa,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:84,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:"Anonimizar Dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:86,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Mascarar informações sensíveis"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:83,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:71,columnNumber:9},this),e.jsxDEV(ps,{disabled:!0,className:"border-t mt-1 pt-2",children:[e.jsxDEV(Ye,{className:"h-4 w-4 mr-2 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Conforme Art. 6º, VII da LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:94,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:70,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:62,columnNumber:5},this)}function Mu({variant:s="compact",showDetails:a=!1,className:t=""}){return s==="badge"?e.jsxDEV(kr,{children:e.jsxDEV(Bs,{children:[e.jsxDEV($s,{asChild:!0,children:e.jsxDEV(se,{variant:"secondary",className:`bg-success/10 text-success border-success/20 ${t}`,children:[e.jsxDEV(Ye,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:30,columnNumber:15},this),"LGPD Ready"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:26,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:25,columnNumber:11},this),e.jsxDEV(Vs,{children:e.jsxDEV("p",{children:"Documento em conformidade com a LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:35,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:34,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:24,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:23,columnNumber:7},this):s==="compact"?e.jsxDEV("div",{className:`inline-flex items-center gap-2 px-3 py-2 bg-success/10 border border-success/20 rounded-lg ${t}`,children:[e.jsxDEV(Ye,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:47,columnNumber:9},this),e.jsxDEV("span",{className:"text-sm font-medium text-success",children:"LGPD Compliant"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:48,columnNumber:9},this),e.jsxDEV(Ze,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:44,columnNumber:7},this):e.jsxDEV("div",{className:`border border-success/20 rounded-lg p-4 bg-success/5 ${t}`,children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 bg-success/10 rounded-full",children:e.jsxDEV(Ye,{className:"h-5 w-5 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:60,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:59,columnNumber:9},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-success",children:"Documento LGPD-Ready"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:63,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Conforme Lei 13.709/2018"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:62,columnNumber:9},this),e.jsxDEV(Ze,{className:"h-5 w-5 text-success ml-auto"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:68,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:58,columnNumber:7},this),a&&e.jsxDEV("div",{className:"space-y-2 text-xs",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(ko,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:74,columnNumber:13},this),e.jsxDEV("span",{children:"Dados criptografados em trânsito e repouso"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(ns,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:78,columnNumber:13},this),e.jsxDEV("span",{children:"Informações sensíveis anonimizadas por padrão"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:79,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:77,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(es,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:82,columnNumber:13},this),e.jsxDEV("span",{children:"Base legal: Execução regular de direitos (Art. 7º, VI)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:81,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:72,columnNumber:9},this),e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-success/20",children:e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[e.jsxDEV("strong",{children:"Aviso:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:90,columnNumber:11},this)," Este documento contém análise assistida por IA. Validação jurídica humana é obrigatória antes do uso processual."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:89,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:88,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:55,columnNumber:5},this)}function Ru({onExport:s,showPrint:a=!0,disabled:t=!1,showAnonymizeOption:r=!0,isAnonymized:n=!1,onAnonymizeToggle:o,className:i=""}){const{toast:u}=ze(),d=()=>{window.print(),u({title:"Imprimindo",description:"Preparando documento para impressão..."})},m=N=>{s(N,n);const f=n?" (dados anonimizados)":" (dados completos)";u({title:"Exportando",description:`Gerando arquivo ${N.toUpperCase()}${f}... Será registrado no log de auditoria.`})};return e.jsxDEV("div",{className:`space-y-3 ${i}`,children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(Mu,{variant:"badge"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:60,columnNumber:9},this),r&&o&&e.jsxDEV(Pu,{isAnonymized:n,onToggle:o,variant:"minimal"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:59,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[a&&e.jsxDEV(W,{variant:"outline",size:"sm",onClick:d,disabled:t,className:"gap-2",children:[e.jsxDEV(Vo,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:80,columnNumber:13},this),"Imprimir",n&&e.jsxDEV(Ye,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:82,columnNumber:30},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV(W,{variant:"outline",size:"sm",onClick:()=>m("pdf"),disabled:t,className:"gap-2",children:[e.jsxDEV(es,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:93,columnNumber:11},this),"PDF",n&&e.jsxDEV(Ye,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:95,columnNumber:28},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:86,columnNumber:9},this),e.jsxDEV(W,{variant:"outline",size:"sm",onClick:()=>m("csv"),disabled:t,className:"gap-2",children:[e.jsxDEV(Ja,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:105,columnNumber:11},this),"CSV",n&&e.jsxDEV(Ye,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:107,columnNumber:28},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:98,columnNumber:9},this),e.jsxDEV(W,{variant:"outline",size:"sm",onClick:()=>m("docx"),disabled:t,className:"gap-2",children:[e.jsxDEV(es,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:117,columnNumber:11},this),"DOCX",n&&e.jsxDEV(Ye,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:119,columnNumber:28},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:110,columnNumber:9},this),e.jsxDEV(W,{variant:"outline",size:"sm",onClick:()=>m("json"),disabled:t,className:"gap-2",children:[e.jsxDEV(dr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:129,columnNumber:11},this),"JSON",n&&e.jsxDEV(Ye,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:131,columnNumber:28},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:71,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:57,columnNumber:5},this)}function Au({blocks:s}){const{toast:a}=ze(),t=()=>{window.print(),a({title:"PDF",description:"Abrindo diálogo de impressão..."})},r=()=>{const i=["Tipo,Conteudo",...s.map(N=>({Tipo:N.title,Conteudo:JSON.stringify(N.data)})).map(N=>`"${N.Tipo}","${N.Conteudo}"`)].join(`
`),u=new Blob([i],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),m=URL.createObjectURL(u);d.setAttribute("href",m),d.setAttribute("download",`analise-${Date.now()}.csv`),document.body.appendChild(d),d.click(),document.body.removeChild(d),a({title:"CSV exportado",description:"Arquivo CSV baixado com sucesso."})},n=()=>{const o={timestamp:new Date().toISOString(),blocks:s},i=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),u=URL.createObjectURL(i),d=document.createElement("a");d.href=u,d.download=`analise-completa-${Date.now()}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(u),a({title:"JSON exportado",description:"Arquivo JSON baixado com sucesso."})};return!s||s.length===0?null:e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-brand-ink",children:"Resultado da Análise"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:93,columnNumber:9},this),e.jsxDEV(Ru,{onExport:o=>{switch(o){case"pdf":t();break;case"csv":r();break;case"json":n();break}},showPrint:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:92,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:s.map((o,i)=>{switch(o.type){case"executive":return e.jsxDEV(Su,{cnj:o.data?.cnj||o.data?.processo||(o.context?.type==="testemunha","N/A"),reclamante:o.data?.reclamante||o.context?.data?.nome||o.data?.reclamada||"Não informado",reu:o.data?.reu||o.data?.reclamada||(o.context?.type==="testemunha"?"N/A":"Não informado"),status:o.data?.status||o.meta?.status||o.context?.meta?.status||"Não informado",observacoes:o.data?.observacoes||o.meta?.observacoes||"Análise contextual em progresso",riscoNivel:o.data?.riscoNivel||o.meta?.riscoNivel||o.context?.meta?.riscoNivel||"baixo",confianca:typeof o.data?.confianca=="number"?o.data.confianca:typeof o.meta?.confidence=="number"?Math.round(o.meta.confidence*100):typeof o.context?.meta?.confidence=="number"?Math.round(o.context.meta.confidence*100):typeof o.data?.score=="number"?o.data.score:0,alerta:o.data?.alerta,citacoes:o.citations?.map(u=>({label:u.ref,onClick:()=>{console.log("Citation clicked:",u)}}))||[]},i,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:120,columnNumber:17},this);case"details":return e.jsxDEV(be,{className:"rounded-2xl border-border/50",children:[e.jsxDEV(Pe,{children:e.jsxDEV(Me,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsxDEV(es,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:185,columnNumber:23},this),o.title]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:184,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:183,columnNumber:19},this),e.jsxDEV(we,{children:[e.jsxDEV(Tu,{secoes:o.data.secoes,textoOriginal:o.data.textoOriginal},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:190,columnNumber:21},this),o.citations&&e.jsxDEV(ta,{citations:o.citations},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:195,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:189,columnNumber:19},this)]},i,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:182,columnNumber:17},this);case"alerts":return e.jsxDEV(be,{className:"rounded-2xl border-status-critical/30 bg-status-critical/5",children:[e.jsxDEV(Pe,{children:e.jsxDEV(Me,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsxDEV(ss,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:209,columnNumber:23},this),o.title]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:208,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:207,columnNumber:19},this),e.jsxDEV(we,{className:"space-y-3",children:[e.jsxDEV(Ke,{className:"border-destructive/30 bg-destructive/10",children:[e.jsxDEV(ss,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:215,columnNumber:23},this),e.jsxDEV(We,{className:"text-destructive-foreground",children:[e.jsxDEV("strong",{children:"Triangulação Detectada"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:217,columnNumber:25},this)," - Padrões suspeitos identificados entre testemunhas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:216,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:214,columnNumber:21},this),e.jsxDEV(Ke,{className:"border-status-warning/30 bg-status-warning/10",children:[e.jsxDEV(ss,{className:"h-4 w-4 text-status-warning"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:223,columnNumber:23},this),e.jsxDEV(We,{className:"text-status-warning",children:[e.jsxDEV("strong",{children:"Depoimentos Repetidos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:225,columnNumber:25},this)," - Narrativas similares encontradas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:224,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:222,columnNumber:21},this),o.data.suspiciousPatterns?.map((u,d)=>e.jsxDEV("div",{className:"flex items-center gap-2 p-2 bg-destructive/10 rounded-lg",children:[e.jsxDEV(ss,{className:"h-3 w-3 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:236,columnNumber:27},this),e.jsxDEV("span",{className:"text-sm text-destructive-foreground",children:u},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:237,columnNumber:27},this)]},d,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:232,columnNumber:25},this)),e.jsxDEV("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["⚠️ ",e.jsxDEV("strong",{children:"Atenção:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:246,columnNumber:28},this)," Possível coordenação entre depoimentos de testemunhas. Recomenda-se investigação detalhada dos vínculos identificados."]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:245,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:244,columnNumber:21},this),o.citations&&e.jsxDEV(ta,{citations:o.citations},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:253,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:213,columnNumber:19},this)]},i,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:203,columnNumber:17},this);case"strategies":return e.jsxDEV(Iu,{block:o},i,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:260,columnNumber:22},this);default:return e.jsxDEV(be,{className:"rounded-2xl border-border/50",children:[e.jsxDEV(Pe,{children:e.jsxDEV(Me,{className:"text-base font-semibold",children:o.title},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:266,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:265,columnNumber:19},this),e.jsxDEV(we,{children:[e.jsxDEV("pre",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:JSON.stringify(o.data,null,2)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:271,columnNumber:21},this),o.citations&&e.jsxDEV(ta,{citations:o.citations},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:275,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:270,columnNumber:19},this)]},i,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:264,columnNumber:17},this)}})},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:115,columnNumber:7},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center pt-4 border-t",children:["Relatório gerado às ",new Date().toLocaleTimeString("pt-BR")," • Dados sujeitos à verificação manual conforme LGPD"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:285,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:90,columnNumber:5},this)}function Iu({block:s}){const{toast:a}=ze(),t=async n=>{try{await navigator.clipboard.writeText(n),a({title:"Copiado!",description:"Recomendação copiada para a área de transferência."})}catch{a({title:"Erro ao copiar",description:"Não foi possível copiar o conteúdo.",variant:"destructive"})}},r=n=>{switch(n?.toUpperCase()){case"ALTA":return"bg-status-critical/15 text-status-critical border-status-critical/30";case"MÉDIA":return"bg-status-warning/15 text-status-warning border-status-warning/30";case"BAIXA":return"bg-status-success/15 text-status-success border-status-success/30";default:return"bg-muted text-muted-foreground border-border"}};return e.jsxDEV(be,{className:"rounded-2xl border-status-success/30 bg-status-success/10",children:[e.jsxDEV(Pe,{children:e.jsxDEV(Me,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsxDEV(lt,{className:"h-4 w-4 text-emerald-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:333,columnNumber:11},this),s.title]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:332,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:331,columnNumber:7},this),e.jsxDEV(we,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h4",{className:"font-medium text-emerald-800",children:"Estratégias Ativas"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:341,columnNumber:13},this),e.jsxDEV(se,{variant:"secondary",className:"text-xs",children:"Polo Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:342,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:340,columnNumber:11},this),s.data.estrategias?.map((n,o)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-white/70 rounded-lg border",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(se,{className:T("text-xs",r(n.prioridade)),children:n.prioridade},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:353,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm",children:n.texto},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:361,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:352,columnNumber:15},this),e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>t(n.texto),className:"h-8 w-8 p-0 shrink-0",children:e.jsxDEV(ds,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:369,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:363,columnNumber:15},this)]},o,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:348,columnNumber:13},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:339,columnNumber:9},this),s.data.acoesDefensivas&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-emerald-800",children:"Ações Defensivas"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:378,columnNumber:13},this),s.data.acoesDefensivas.map((n,o)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-white/70 rounded-lg border",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(se,{className:T("text-xs",r(n.prioridade)),children:n.prioridade},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:385,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm",children:n.texto},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:390,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:384,columnNumber:17},this),e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>t(n.texto),className:"h-8 w-8 p-0 shrink-0",children:e.jsxDEV(ds,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:398,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:392,columnNumber:17},this)]},o,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:380,columnNumber:15},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:377,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(lt,{className:"h-4 w-4 text-emerald-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:408,columnNumber:13},this),e.jsxDEV("h4",{className:"font-medium text-emerald-800",children:"Próximos Passos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:409,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:407,columnNumber:11},this),s.data.proximosPassos?.map((n,o)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-white/70 rounded-lg border",children:[e.jsxDEV("span",{className:"text-sm",children:n},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:417,columnNumber:15},this),e.jsxDEV(W,{variant:"ghost",size:"sm",onClick:()=>t(n),className:"h-8 w-8 p-0 shrink-0",children:e.jsxDEV(ds,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:424,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:418,columnNumber:15},this)]},o,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:413,columnNumber:13},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:406,columnNumber:9},this),s.citations&&e.jsxDEV(ta,{citations:s.citations},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:430,columnNumber:29},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:337,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:330,columnNumber:5},this)}function Fu(){const{loadingHints:s,currentHintIndex:a,nextHint:t}=K(),r=p.useRef(null);return p.useEffect(()=>(r.current&&clearInterval(r.current),r.current=setInterval(()=>{t()},800),()=>{r.current&&clearInterval(r.current)}),[t]),e.jsxDEV("div",{className:"flex gap-4 animate-fade-in",children:[e.jsxDEV("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsxDEV(yo,{className:"h-4 w-4 text-primary animate-pulse"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:36,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:35,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 max-w-4xl",children:e.jsxDEV(be,{className:"bg-card border-primary/20 shadow-sm",children:e.jsxDEV(we,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ss,{className:"h-4 w-4 animate-spin text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:44,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-foreground font-medium transition-opacity duration-200",children:s[a]||"Carregando..."},a,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:45,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:43,columnNumber:13},this),e.jsxDEV("div",{className:"mt-3 flex gap-1",children:Array.from({length:3}).map((n,o)=>e.jsxDEV("div",{className:"h-1 w-8 rounded-full bg-primary/20 animate-pulse",style:{animationDelay:`${o*.2}s`,animationDuration:"1s"}},o,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:55,columnNumber:17},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:53,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:42,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:41,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:33,columnNumber:5},this)}const St=({isLoading:s,hasError:a,errorMessage:t,isConnected:r,dataCount:n,dataType:o})=>s?e.jsxDEV(be,{className:"mb-4 border-blue-200 bg-blue-50/50",children:e.jsxDEV(we,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ss,{className:"h-5 w-5 text-blue-600 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:27,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-sm text-blue-800",children:"Conectando com servidor..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:28,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:26,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:25,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:24,columnNumber:7},void 0):a&&!r?e.jsxDEV(be,{className:"mb-4 border-orange-200 bg-orange-50/50",children:e.jsxDEV(we,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(_o,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:42,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("span",{className:"text-sm text-orange-800",children:"Servidor indisponível - Exibindo dados simulados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:44,columnNumber:15},void 0),t&&e.jsxDEV("p",{className:"text-xs text-orange-700 mt-1",children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:48,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:43,columnNumber:13},void 0),e.jsxDEV(se,{variant:"outline",className:"text-orange-700 border-orange-300",children:"Mock"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:51,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:41,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:40,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:39,columnNumber:7},void 0):a&&r?e.jsxDEV(be,{className:"mb-4 border-red-200 bg-red-50/50",children:e.jsxDEV(we,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(ss,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:68,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("span",{className:"text-sm text-red-800",children:"Erro de validação nos filtros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:70,columnNumber:15},void 0),t&&e.jsxDEV("p",{className:"text-xs text-red-700 mt-1",children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:74,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:69,columnNumber:13},void 0),e.jsxDEV(se,{variant:"destructive",className:"text-xs",children:"Erro"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:67,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:66,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:65,columnNumber:7},void 0):r&&n>0?e.jsxDEV(be,{className:"mb-4 border-green-200 bg-green-50/50",children:e.jsxDEV(we,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Ze,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:91,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-sm text-green-800",children:[n," ",o," carregados do servidor"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:92,columnNumber:13},void 0),e.jsxDEV(se,{variant:"outline",className:"text-green-700 border-green-300",children:"Online"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:95,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:90,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:89,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:88,columnNumber:7},void 0):null;class Ou extends p.Component{state={hasError:!1,error:null,errorInfo:null,errorCount:0};static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,t){const r=this.state.errorCount+1;Ae.error("🔴 [MapaErrorBoundary] Erro capturado",{error:a.message,stack:a.stack,componentStack:t.componentStack,errorCount:r,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,online:navigator.onLine}),this.setState({error:a,errorInfo:t,errorCount:r}),r>3&&Ae.error("⛔ [MapaErrorBoundary] Loop de erros detectado",{errorCount:r,lastError:a.message})}handleReset=()=>{Ae.info("🔄 [MapaErrorBoundary] Resetando estado de erro"),this.setState({hasError:!1,error:null,errorInfo:null,errorCount:0})};handleGoHome=()=>{Ae.info("🏠 [MapaErrorBoundary] Navegando para home"),window.location.href="/"};render(){if(this.state.hasError){const{error:a,errorInfo:t,errorCount:r}=this.state;return e.jsxDEV("div",{className:"flex items-center justify-center min-h-screen p-4 bg-background",children:e.jsxDEV(be,{className:"max-w-2xl w-full",children:[e.jsxDEV(Pe,{children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(ss,{className:"h-8 w-8 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:89,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV(Me,{className:"text-2xl",children:"Erro no Mapa de Testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:91,columnNumber:19},this),e.jsxDEV(gs,{children:r>1?`Ocorreram ${r} erros consecutivos`:"Ocorreu um erro inesperado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:94,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:90,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:88,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:87,columnNumber:13},this),e.jsxDEV(we,{className:"space-y-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Mensagem de Erro"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:105,columnNumber:17},this),e.jsxDEV("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:e.jsxDEV("p",{className:"text-sm text-destructive font-mono",children:a?.message||"Erro desconhecido"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:109,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:108,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:104,columnNumber:15},this),t&&e.jsxDEV("details",{className:"space-y-2",children:[e.jsxDEV("summary",{className:"cursor-pointer font-semibold text-sm text-muted-foreground hover:text-foreground",children:"Detalhes Técnicos (Dev)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:118,columnNumber:19},this),e.jsxDEV("div",{className:"p-3 bg-muted rounded-md overflow-x-auto",children:e.jsxDEV("pre",{className:"text-xs font-mono whitespace-pre-wrap",children:t.componentStack},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:122,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:121,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:117,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Possíveis Causas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:131,columnNumber:17},this),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[e.jsxDEV("li",{children:"Problemas de conexão com o servidor"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:135,columnNumber:19},this),e.jsxDEV("li",{children:"Dados inconsistentes ou mal formatados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:136,columnNumber:19},this),e.jsxDEV("li",{children:"Erro na Edge Function do backend"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:137,columnNumber:19},this),e.jsxDEV("li",{children:"Sessão expirada ou inválida"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:138,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:134,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:130,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-3",children:[r<=3&&e.jsxDEV(W,{onClick:this.handleReset,className:"flex-1",children:[e.jsxDEV(na,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:146,columnNumber:21},this),"Tentar Novamente"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:145,columnNumber:19},this),e.jsxDEV(W,{onClick:this.handleGoHome,variant:"outline",className:"flex-1",children:[e.jsxDEV(fr,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:155,columnNumber:19},this),"Voltar ao Início"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:150,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:143,columnNumber:15},this),r>3&&e.jsxDEV("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-md",children:e.jsxDEV("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"⚠️ Múltiplas tentativas falharam. Por favor, entre em contato com o suporte."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:162,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:85,columnNumber:9},this)}return this.props.children}}const Bu=()=>{const[s,a]=p.useState(X.isEnabled()),{toast:t}=ze();p.useEffect(()=>{a(X.isEnabled())},[]);const r=()=>{const n=X.toggle();a(n),t({title:n?"🐛 Debug Mode Ativado":"Debug Mode Desativado",description:n?"Logs detalhados estão sendo exibidos no console":"Logs de debug foram desativados",duration:2e3})};return e.jsxDEV("div",{className:"flex items-center space-x-2 bg-muted/50 px-3 py-2 rounded-md border border-border/40",children:[e.jsxDEV(Co,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DebugToggle.tsx",lineNumber:32,columnNumber:7},void 0),e.jsxDEV(Te,{htmlFor:"debug-mode",className:"text-sm cursor-pointer",children:"Debug Mode"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DebugToggle.tsx",lineNumber:33,columnNumber:7},void 0),e.jsxDEV(Ya,{id:"debug-mode",checked:s,onCheckedChange:r,className:"data-[state=checked]:bg-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DebugToggle.tsx",lineNumber:36,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DebugToggle.tsx",lineNumber:31,columnNumber:5},void 0)};async function $u(s){const a={functionName:s,isReachable:!1,hasAuth:!1};try{const{data:{session:t},error:r}=await Qe.auth.getSession();if(r)return a.authError=r.message,Ae.error(`[EdgeDiagnostics] Erro de sessão para ${s}`,{error:r}),a;if(!t)return a.authError="Nenhuma sessão ativa",Ae.warn(`[EdgeDiagnostics] Nenhuma sessão ativa para ${s}`),a;a.hasAuth=!0,Ae.info(`[EdgeDiagnostics] Testando ${s}...`);const{data:n,error:o}=await Qe.functions.invoke(s,{body:{paginacao:{page:1,limit:1},filtros:{}}});return o?(a.testResult="error",a.errorDetails={message:o.message,context:o.context,status:o.status},Ae.error(`[EdgeDiagnostics] Erro ao testar ${s}`,{error:o,errorDetails:a.errorDetails})):(a.isReachable=!0,a.testResult="success",Ae.info(`[EdgeDiagnostics] ${s} respondeu com sucesso`,{hasData:!!n,dataKeys:n?Object.keys(n):[]})),a}catch(t){return a.testResult="error",a.errorDetails=t,Ae.error(`[EdgeDiagnostics] Exceção ao testar ${s}`,{error:t}),a}}async function Lu(){Ae.info("🔍 [EdgeDiagnostics] ===== INICIANDO DIAGNÓSTICO COMPLETO =====");const s=["mapa-testemunhas-processos","mapa-testemunhas-testemunhas"],a={};for(const r of s)Ae.info(`🔍 [EdgeDiagnostics] Testando função: ${r}`),a[r]=await $u(r);Ae.info("✅ [EdgeDiagnostics] ===== DIAGNÓSTICO CONCLUÍDO =====",{results:a});const t=Object.entries(a).map(([r,n])=>({function:r,reachable:n.isReachable,authenticated:n.hasAuth,testResult:n.testResult,error:n.errorDetails?.message||n.authError||"none"}));return console.table(t),a}function zu(){Ae.info("🔍 [EdgeDiagnostics] ===== CONFIGURAÇÃO SUPABASE =====");const s={hasSupabaseClient:!!Qe,functionsUrl:"<<MANTER>>/functions/v1",hasAuth:!!Qe?.auth};return Ae.info("🔍 [EdgeDiagnostics] Config:",s),console.table(s),s}function qu(){const[s,a]=p.useState(null),[t,r]=p.useState(!1),n=async()=>{r(!0),zu();const o=await Lu();a(o),r(!1)};return e.jsxDEV(be,{className:"border-dashed border-yellow-500/50 bg-yellow-50/5",children:[e.jsxDEV(Pe,{className:"pb-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(So,{className:"h-4 w-4 text-yellow-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:43,columnNumber:13},this),e.jsxDEV(Me,{className:"text-sm",children:"Diagnóstico de Edge Functions"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:44,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:42,columnNumber:11},this),e.jsxDEV(se,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"DEV ONLY"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:48,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:41,columnNumber:9},this),e.jsxDEV(gs,{className:"text-xs",children:"Teste a conectividade e configuração das Edge Functions"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:40,columnNumber:7},this),e.jsxDEV(we,{className:"space-y-3",children:[e.jsxDEV(W,{onClick:n,disabled:t,size:"sm",variant:"outline",className:"w-full",children:[t&&e.jsxDEV(na,{className:"mr-2 h-3 w-3 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:67,columnNumber:25},this),t?"Executando diagnóstico...":"Executar Diagnóstico"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:60,columnNumber:9},this),s&&e.jsxDEV("div",{className:"space-y-2",children:Object.entries(s).map(([o,i])=>e.jsxDEV("div",{className:"flex items-start justify-between gap-2 rounded-lg border border-border/50 bg-card/50 p-2 text-xs",children:e.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.jsxDEV("div",{className:"font-mono font-medium",children:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:79,columnNumber:19},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[i.hasAuth?e.jsxDEV(se,{variant:"outline",className:"text-green-600 border-green-600 text-[10px]",children:[e.jsxDEV(ra,{className:"mr-1 h-2 w-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:86,columnNumber:25},this),"Autenticado"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:82,columnNumber:23},this):e.jsxDEV(se,{variant:"outline",className:"text-red-600 border-red-600 text-[10px]",children:[e.jsxDEV(Sa,{className:"mr-1 h-2 w-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:94,columnNumber:25},this),"Sem Auth"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:90,columnNumber:23},this),i.isReachable?e.jsxDEV(se,{variant:"outline",className:"text-green-600 border-green-600 text-[10px]",children:[e.jsxDEV(ra,{className:"mr-1 h-2 w-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:103,columnNumber:25},this),"Alcançável"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:99,columnNumber:23},this):e.jsxDEV(se,{variant:"outline",className:"text-red-600 border-red-600 text-[10px]",children:[e.jsxDEV(Sa,{className:"mr-1 h-2 w-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:111,columnNumber:25},this),"Não Alcançável"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:107,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:80,columnNumber:19},this),(i.authError||i.errorDetails)&&e.jsxDEV("div",{className:"text-[10px] text-destructive/80",children:i.authError||i.errorDetails?.message||"Erro desconhecido"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:117,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:78,columnNumber:17},this)},o,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:74,columnNumber:15},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:39,columnNumber:5},this)}function Uu(){const s=K(r=>r.density),a=K(r=>r.setDensity),t=[{value:"compact",label:"Compacto",description:"Espaçamento mínimo"},{value:"comfortable",label:"Confortável",description:"Espaçamento amplo"}];return e.jsxDEV(Gs,{children:[e.jsxDEV(Ks,{asChild:!0,children:e.jsxDEV(W,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsxDEV(To,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:33,columnNumber:11},this),"Densidade"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:32,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:31,columnNumber:7},this),e.jsxDEV(As,{align:"end",className:"w-[200px]",children:t.map(r=>e.jsxDEV(ps,{onClick:()=>a(r.value),className:"flex items-center justify-between cursor-pointer",children:[e.jsxDEV("div",{className:"flex flex-col gap-0.5",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:r.label},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:45,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:r.description},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:46,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:44,columnNumber:13},this),s===r.value&&e.jsxDEV(Ha,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:51,columnNumber:15},this)]},r.value,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:39,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:37,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:30,columnNumber:5},this)}function Hu(){const s=Ka(),a=K(n=>n.navigationHistory),t=K(n=>n.popNavigation),r=n=>{const o=a[n];o?.path&&(s(o.path),t(n))};return a.length<=1?null:e.jsxDEV(Jr,{className:"mb-4",children:e.jsxDEV(Gr,{children:[e.jsxDEV(Oa,{children:e.jsxDEV(Ba,{onClick:()=>r(0),className:"flex items-center gap-1 cursor-pointer",children:[e.jsxDEV(fr,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:39,columnNumber:13},this),e.jsxDEV("span",{children:"Início"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:40,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:35,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:34,columnNumber:9},this),a.slice(1).map((n,o)=>{const i=o===a.length-2,u=o+1;return e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Wr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:50,columnNumber:15},this),e.jsxDEV(Oa,{children:i?e.jsxDEV(Kr,{className:"font-medium",children:n.label},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:53,columnNumber:19},this):e.jsxDEV(Ba,{onClick:()=>r(u),className:"cursor-pointer hover:text-foreground",children:n.label},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:57,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:51,columnNumber:15},this)]},u,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:49,columnNumber:13},this)})]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:33,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:32,columnNumber:5},this)}const Ju=()=>{const s=Ka(),[a,t]=Po(),{user:r,loading:n}=Ho(),{toast:o}=ze(),i=K(cn),u=K(Ui),d=K(Hi),m=K(Ji),N=K(Ki),f=K(Wi),w=K(Yi),D=K(Qi),H=K(Xi),h=p.useRef(null),F=p.useRef(null),P=p.useRef(!1),V=p.useRef(!0),I=p.useRef(!1),[A,G]=p.useState(!1),[O,_]=p.useState(!1),l=K(E=>E.chatResult),c=K(E=>E.chatStatus),x=K(E=>E.setActiveTab),g=K(E=>E.setProcessos),C=K(E=>E.setTestemunhas),$=K(E=>E.setIsLoading),Z=K(E=>E.setLastUpdate),oe=K(E=>E.setError),me=K(E=>E.setIsImportModalOpen),L=K(E=>E.loadViews),re=K(E=>E.setProcessoFilters),q=K(E=>E.setTestemunhaFilters),ce=K(E=>E.setSelectedProcesso),Y=K(E=>E.setSelectedTestemunha),[v,j]=p.useState(0),[k,b]=p.useState(0),y=E=>E.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),R=p.useMemo(()=>{const E=Array.isArray(u)?u:[],ae=Array.isArray(d)?d:[],U=E.filter(ye=>ye?.classificacao_final==="Risco Alto"||ye?.classificacao_final==="Alto").length,Q=ae.filter(ye=>ye?.foi_testemunha_em_ambos_polos===!0).length,te=(ye,he)=>{if(!isFinite(ye)||!isFinite(he)||he<=0)return 0;const _e=Math.round(ye/he*100);return isFinite(_e)?_e:0},ge=isFinite(v)&&v>0?v:E.length,fe=isFinite(k)&&k>0?k:ae.length;return{totalProcessos:ge,totalTestemunhas:fe,processosAltoRisco:U,testemunhasAmbosPolos:Q,pctProcAlto:te(U,ge),pctAmbos:te(Q,fe)}},[u,d,v,k]),M=E=>m?"loading":N?navigator.onLine?"error":"offline":E.length?"success":"empty",S=M(u),ie=M(d);p.useEffect(()=>{if(!n&&!r){s("/login");return}},[r,n,s]),p.useEffect(()=>{r&&L(r.id)},[r,L]),p.useEffect(()=>{if(I.current)return;const E=a.get("tab"),ae=a.get("nome"),U=a.get("cnj"),Q=a.get("reclamante");if(E&&(E==="processos"||E==="testemunhas")&&E!==i&&x(E),ae&&q({search:decodeURIComponent(ae)}),U&&re({search:decodeURIComponent(U)}),Q&&re({search:decodeURIComponent(Q)}),ae||U||Q){I.current=!0;const te=new URLSearchParams(a);te.delete("nome"),te.delete("cnj"),te.delete("reclamante"),t(te,{replace:!0})}},[]),p.useEffect(()=>{if(!(!I.current||P.current)&&!(u.length===0&&d.length===0)){if(H.search&&d.length>0){const E=d.find(ae=>ae.nome_testemunha?.toLowerCase()===H.search?.toLowerCase());E&&!K.getState().selectedTestemunha&&(Y(E),o({title:"Testemunha selecionada",description:E.nome_testemunha}))}if(D.search&&u.length>0){const E=u.find(ae=>ae.cnj===D.search||ae.numero_cnj===D.search);E&&!K.getState().selectedProcesso&&(ce(E),o({title:"Processo selecionado",description:E.cnj||E.numero_cnj}))}}},[u.length,d.length]);const J=E=>{const ae=E;x(ae),t({tab:ae},{replace:!0}),ce(null),Y(null)},ue=Ua(D,300),B=Ua(H,300),ne=p.useCallback(async()=>{if(!r||P.current)return;h.current?.abort(),F.current?.abort();const E=new AbortController,ae=new AbortController;h.current=E,F.current=ae,P.current=!0,$(!0),oe(!1);try{const U=K.getState().processoFilters,Q=K.getState().testemunhaFilters,[te,ge]=await Promise.all([vu({page:1,limit:100,filters:U}),xu({page:1,limit:100,filters:Q})]);if(E.signal.aborted||ae.signal.aborted)return;const fe=Array.isArray(te.data)?te.data:[],ye=Array.isArray(ge.data)?ge.data:[];g(fe),C(ye);const he=isFinite(te.total)?te.total:fe.length,_e=isFinite(ge.total)?ge.total:ye.length;j(he),b(_e);const xe=te.error||ge.error;xe?(oe(!0,`Erro ao conectar: ${xe}`),o({title:"Falha ao conectar",description:xe,variant:"destructive"})):V.current&&(Z(new Date),V.current=!1)}catch(U){if(U?.name==="AbortError")return;const Q=U instanceof Error?U.message:"Erro ao carregar dados";oe(!0,Q),o({title:"Falha na conexão",description:Q,variant:"destructive"})}finally{!E.signal.aborted&&!ae.signal.aborted&&(P.current=!1,$(!1))}},[r]);p.useEffect(()=>(r&&ne(),()=>{h.current?.abort(),F.current?.abort()}),[r,ne]),p.useEffect(()=>{!V.current&&r&&ne()},[ue,B,ne]),p.useEffect(()=>{const E=ae=>{(ae.ctrlKey||ae.metaKey)&&ae.key==="f"&&(ae.preventDefault(),G(!0))};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[]);const le=()=>{const ae=Object.entries(i==="processos"?D:H);if(ae.length===0)return null;const U=Q=>{if(i==="processos"){const te={...D};delete te[Q],re(te)}else{const te={...H};delete te[Q],q(te)}};return e.jsxDEV("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Filtros ativos:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:470,columnNumber:9},void 0),ae.map(([Q,te])=>e.jsxDEV(se,{variant:"secondary",className:"gap-1",children:[e.jsxDEV("span",{className:"text-xs",children:[Q,": ",String(te)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:473,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>U(Q),className:"ml-1 hover:bg-secondary-foreground/10 rounded-full p-0.5","aria-label":`Remover filtro ${Q}`,children:e.jsxDEV(cs,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:481,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:476,columnNumber:13},void 0)]},Q,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:472,columnNumber:11},void 0))]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:469,columnNumber:7},void 0)};return n?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center","aria-live":"polite",children:e.jsxDEV("div",{className:"animate-pulse text-muted-foreground",children:"Verificando autenticação..."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:496,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:492,columnNumber:7},void 0):r?e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"border-b border-border/50 bg-card",children:e.jsxDEV("div",{className:"container mx-auto px-6 py-6",children:[e.jsxDEV(Hu,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:513,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsxDEV(Mo,{className:"h-8 w-8 text-primary","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:517,columnNumber:17},void 0),"Mapa de Testemunhas",N&&e.jsxDEV(se,{variant:"destructive",className:"text-xs",children:"Modo Fallback"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:520,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:516,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Análise estratégica de testemunhas e processos judiciais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:525,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(Ro,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:530,columnNumber:19},void 0),e.jsxDEV("span",{children:["Última atualização:"," ",w?y(w):"—"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:531,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:529,columnNumber:17},void 0),e.jsxDEV(vs,{orientation:"vertical",className:"h-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:536,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(cr,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:538,columnNumber:19},void 0),e.jsxDEV("span",{children:N?"Dados mock":"Dados em tempo real"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:539,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:537,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:528,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:515,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Uu,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:544,columnNumber:15},void 0),e.jsxDEV(W,{variant:"outline",onClick:()=>me(!0),className:"gap-2","aria-label":"Importar dados via Excel",children:[e.jsxDEV(es,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:551,columnNumber:17},void 0),"Importar Dados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:545,columnNumber:15},void 0),X.isEnabled()&&e.jsxDEV(Tr,{open:O,onOpenChange:_,children:[e.jsxDEV(Ko,{asChild:!0,children:e.jsxDEV(W,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsxDEV(Ao,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:561,columnNumber:23},void 0),"Diagnóstico"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:560,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:559,columnNumber:19},void 0),e.jsxDEV(Qa,{side:"right",className:"w-[400px]",children:[e.jsxDEV(Xa,{children:[e.jsxDEV(Za,{children:"Diagnóstico do Sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:567,columnNumber:23},void 0),e.jsxDEV(et,{children:"Ferramentas de desenvolvimento e diagnóstico"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:568,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:566,columnNumber:21},void 0),e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV(qu,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:573,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:572,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:565,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:555,columnNumber:17},void 0),e.jsxDEV(Bu,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:578,columnNumber:15},void 0),e.jsxDEV(Xl,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:579,columnNumber:15},void 0),e.jsxDEV(pu,{data:i==="processos"?u:d,fileName:i==="processos"?"por_processo.csv":"por_testemunha.csv"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:580,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:543,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:514,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:512,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:511,columnNumber:7},void 0),e.jsxDEV("div",{className:"container mx-auto px-6 py-6",children:[N&&e.jsxDEV(be,{className:"rounded-2xl border-destructive/50 bg-destructive/5 mb-6",children:e.jsxDEV(we,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsxDEV(ss,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:599,columnNumber:17},void 0),e.jsxDEV("span",{className:"font-medium",children:"Erro:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:600,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm",children:f},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:601,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:598,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:597,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:596,columnNumber:11},void 0),e.jsxDEV(kr,{children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV(Bs,{children:[e.jsxDEV($s,{asChild:!0,children:e.jsxDEV(be,{className:"rounded-2xl border-border/50 hover:shadow-md transition-shadow cursor-help",children:[e.jsxDEV(Pe,{className:"pb-3",children:e.jsxDEV(Me,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(ut,{className:"h-4 w-4 text-primary","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:615,columnNumber:23},void 0),"Total de Processos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:614,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:613,columnNumber:19},void 0),e.jsxDEV(we,{children:[e.jsxDEV("div",{className:"text-3xl font-bold text-primary",children:R.totalProcessos.toLocaleString("pt-BR")},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:623,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:["Processos cadastrados"," ",u.length<R.totalProcessos&&`(exibindo ${u.length})`]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:626,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:622,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:612,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:611,columnNumber:15},void 0),e.jsxDEV(Vs,{children:e.jsxDEV("p",{children:"Total de processos jurídicos cadastrados no sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:635,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:634,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:610,columnNumber:13},void 0),e.jsxDEV(Bs,{children:[e.jsxDEV($s,{asChild:!0,children:e.jsxDEV(be,{className:"rounded-2xl border-border/50 hover:shadow-md transition-shadow cursor-help",children:[e.jsxDEV(Pe,{className:"pb-3",children:e.jsxDEV(Me,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(qs,{className:"h-4 w-4 text-emerald-600","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:644,columnNumber:23},void 0),"Total de Testemunhas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:643,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:642,columnNumber:19},void 0),e.jsxDEV(we,{children:[e.jsxDEV("div",{className:"text-3xl font-bold text-emerald-600",children:R.totalTestemunhas.toLocaleString("pt-BR")},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:652,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:["Testemunhas identificadas"," ",d.length<R.totalTestemunhas&&`(exibindo ${d.length})`]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:655,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:651,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:641,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:640,columnNumber:15},void 0),e.jsxDEV(Vs,{children:e.jsxDEV("p",{children:"Total de testemunhas únicas identificadas em todos os processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:664,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:663,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:639,columnNumber:13},void 0),e.jsxDEV(Bs,{children:[e.jsxDEV($s,{asChild:!0,children:e.jsxDEV(be,{className:"rounded-2xl border-border/50 hover:shadow-md transition-shadow cursor-help",children:[e.jsxDEV(Pe,{className:"pb-3",children:e.jsxDEV(Me,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(ss,{className:"h-4 w-4 text-destructive","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:676,columnNumber:23},void 0),"Processos de Alto Risco"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:675,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:674,columnNumber:19},void 0),e.jsxDEV(we,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-destructive",children:R.processosAltoRisco},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:685,columnNumber:23},void 0),e.jsxDEV(se,{variant:"destructive",className:"text-xs",children:[R.pctProcAlto,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:688,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:684,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Requerem atenção especial"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:692,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:683,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:673,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:672,columnNumber:15},void 0),e.jsxDEV(Vs,{children:e.jsxDEV("p",{children:"Processos classificados como alto risco que necessitam atenção imediata"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:699,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:698,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:671,columnNumber:13},void 0),e.jsxDEV(Bs,{children:[e.jsxDEV($s,{asChild:!0,children:e.jsxDEV(be,{className:"rounded-2xl border-border/50 hover:shadow-md transition-shadow cursor-help",children:[e.jsxDEV(Pe,{className:"pb-3",children:e.jsxDEV(Me,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(pr,{className:"h-4 w-4 text-orange-500","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:711,columnNumber:23},void 0),"Atua nos Dois Polos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:710,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:709,columnNumber:19},void 0),e.jsxDEV(we,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-orange-600",children:R.testemunhasAmbosPolos},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:720,columnNumber:23},void 0),e.jsxDEV(se,{variant:"secondary",className:"text-xs",children:[R.pctAmbos,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:723,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:719,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Testemunhas em ambos os polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:727,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:718,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:708,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:707,columnNumber:15},void 0),e.jsxDEV(Vs,{children:e.jsxDEV("p",{children:"Testemunhas que participaram tanto como testemunha da reclamante quanto da ré"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:734,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:733,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:706,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:609,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:608,columnNumber:9},void 0),e.jsxDEV("div",{id:"chat-assistant-section",className:"mb-8 space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:"Assistente de Análise"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:746,columnNumber:13},void 0),e.jsxDEV(Ke,{className:"inline-flex items-center gap-2 py-2 px-3 w-auto border-violet-200 bg-violet-50",children:[e.jsxDEV(Ga,{className:"h-4 w-4 text-violet-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:748,columnNumber:15},void 0),e.jsxDEV(We,{className:"text-xs text-violet-900",children:["IA Assistiva LGPD Compliant."," ",e.jsxDEV("a",{href:"/privacidade",className:"underline font-medium hover:text-violet-700",children:"Saiba mais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:751,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:749,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:747,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:745,columnNumber:11},void 0),e.jsxDEV(Cu,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:761,columnNumber:11},void 0),l&&e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV(Au,{blocks:l},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:764,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:763,columnNumber:13},void 0),c==="loading"&&e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV(Fu,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:769,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:768,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:744,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-8",children:e.jsxDEV(Nr,{value:i,onValueChange:J,children:[e.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[e.jsxDEV(br,{className:"grid w-full lg:w-auto grid-cols-2",children:[e.jsxDEV(la,{value:"processos",className:"flex items-center gap-2",children:[e.jsxDEV(ut,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:783,columnNumber:19},void 0),"Por Processo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:779,columnNumber:17},void 0),e.jsxDEV(la,{value:"testemunhas",className:"flex items-center gap-2",children:[e.jsxDEV(qs,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:790,columnNumber:19},void 0),"Por Testemunha"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:786,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:778,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[r&&e.jsxDEV(dl,{userId:r.id},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:795,columnNumber:26},void 0),e.jsxDEV(cl,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:796,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:794,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:777,columnNumber:13},void 0),e.jsxDEV(ua,{value:"processos",className:"space-y-6",children:[e.jsxDEV(St,{isLoading:m,hasError:N,errorMessage:f,isConnected:!N||u.length>3,dataCount:u.length,dataType:"processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:801,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-col gap-3",children:[e.jsxDEV(W,{variant:"outline",onClick:()=>G(!0),className:"w-full sm:w-auto gap-2",children:[e.jsxDEV(mt,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:817,columnNumber:19},void 0),"Filtros Avançados",e.jsxDEV("kbd",{className:"ml-auto hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100",children:[e.jsxDEV("span",{className:"text-xs",children:"⌘"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:820,columnNumber:21},void 0),"F"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:819,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:812,columnNumber:17},void 0),le()]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:811,columnNumber:15},void 0),S!=="success"?e.jsxDEV(Us,{status:S,onRetry:ne},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:827,columnNumber:17},void 0):e.jsxDEV(al,{data:u},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:829,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:800,columnNumber:13},void 0),e.jsxDEV(ua,{value:"testemunhas",className:"space-y-6",children:[e.jsxDEV(St,{isLoading:m,hasError:N,errorMessage:f,isConnected:!N||d.length>3,dataCount:d.length,dataType:"testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:834,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-col gap-3",children:[e.jsxDEV(W,{variant:"outline",onClick:()=>G(!0),className:"w-full sm:w-auto gap-2",children:[e.jsxDEV(mt,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:850,columnNumber:19},void 0),"Filtros Avançados",e.jsxDEV("kbd",{className:"ml-auto hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100",children:[e.jsxDEV("span",{className:"text-xs",children:"⌘"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:853,columnNumber:21},void 0),"F"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:852,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:845,columnNumber:17},void 0),le()]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:844,columnNumber:15},void 0),ie!=="success"?e.jsxDEV(Us,{status:ie,onRetry:ne},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:860,columnNumber:17},void 0):e.jsxDEV(rl,{data:d,status:ie,onRetry:ne},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:862,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:833,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:776,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:775,columnNumber:9},void 0),e.jsxDEV(zl,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:873,columnNumber:9},void 0),e.jsxDEV(Ql,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:874,columnNumber:9},void 0),e.jsxDEV(ml,{open:A,onOpenChange:G},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:875,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:593,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:509,columnNumber:5},void 0):null},Gu=()=>e.jsxDEV(Ou,{children:e.jsxDEV(Ju,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:887,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:886,columnNumber:3},void 0),am=Object.freeze(Object.defineProperty({__proto__:null,default:Gu},Symbol.toStringTag,{value:"Module"}));export{rs as $,Pi as A,Gs as B,Zu as C,Vr as D,Ks as E,As as F,ps as G,Aa as H,Ti as I,Yr as J,Jr as K,Gr as L,Oa as M,Kr as N,Ba as O,Wr as P,Ru as Q,ca as R,us as S,kr as T,Us as U,sm as V,su as W,Go as X,mn as Y,Sr as Z,Xu as _,as as a,js as a0,ei as a1,am as a2,ms as b,ts as c,De as d,Ya as e,em as f,Zr as g,en as h,an as i,tn as j,sn as k,nn as l,rn as m,Wa as n,_r as o,Cr as p,Tr as q,Qa as r,Bs as s,$s as t,Vs as u,ki as v,zr as w,qr as x,Ur as y,Hr as z};
