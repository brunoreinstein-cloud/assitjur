import{r as N,j as e,ag as Pa,ah as Nr,ai as fr,aj as hr,ak as Cs,al as Ta,am as Ps,an as Sa,ao as Qe,ap as Ts,aq as Ss,ar as Ma,as as Aa,at as Ra,au as xr,av as Ia,aw as br,ax as Fa,ay as Ba,az as Oa,aA as jr,aB as La,aC as $a,aD as za,aE as qa,a7 as Zs,aF as Ua,aG as vr,aH as Ja,aI as Ha,aJ as gr,aK as wr,aL as Ve,J as rs,S as Dr,aM as Ga,aN as Er,aO as kr,aP as Ka,aQ as Vr,$ as Qa,aR as yr,aS as Wa,aT as _r,aU as Za,aV as Xa,aW as Ya,aX as et,aY as st,aZ as Cr,a_ as Pr,a$ as Tr,b0 as Sr,b1 as at,b2 as Mr,C as is,b3 as Ar,b4 as tt,b5 as Rr,b6 as rt,b7 as Ir,b8 as Fr,b9 as ot,l as it,ba as nt,bb as mt,bc as lt,bd as We,be as Br,L as os,s as Ue,bf as ut,bg as ct,ad as ds,bh as Or,bi as Lr,bj as Je,t as Fe,bk as $s,bl as $r,bm as zr,bn as qr,bo as Ur,bp as Xs,bq as zs,o as vs,V as Jr,w as Ys,br as Hr,Z as Gr,ab as gs,O as dt,bs as Be,bt as Kr,e as Ae,ac as qs,D as pt,a0 as As,bu as Qr,u as ea,ae as Le,U as ps,bv as Wr,bw as ws,bx as Zr,E as Us,by as Xr,P as Js,bz as Yr,bA as eo,bB as so,g as Nt,bC as da,p as ao,bD as to,k as pa,bE as ro,bF as oo,bG as ft,bH as io,bI as no,bJ as mo,af as lo,F as uo,f as co,bK as po,aa as Na,bL as fa}from"./vendor-BifU-Y_Y.js";import{j as g,l as No,w as ht,x as fo,y as Pe,a as L,B as S,S as Xe,n as Se,p as Me,s as Re,C as ie,b as ge,c as we,m as es,d as ue,_ as ho,q as ns,z as Ce,u as _e,Z as Ds,D as xo,E as Rs,G as bo,H as jo,I as vo,A as go,f as ha,g as xa,h as ba}from"./page-About-BHlfFeQG.js";import{L as ve,I as He,T as xt,a as bt,b as Es,c as ks,w as jt,l as Ee,u as wo}from"./page-Login-Cb2wXJhK.js";import{P as vt,a as gt,b as wt,T as Dt,c as Et,d as Vs,e as xe,f as kt,g as be}from"./page-DemoMapaTestemunhas-BREju1Qp.js";const Vt=Nr,us=fr,cs=hr,as=N.forwardRef(({className:s,sideOffset:a=4,...t},r)=>e.jsxDEV(Pa,{ref:r,sideOffset:a,className:g("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/tooltip.tsx",lineNumber:16,columnNumber:3},void 0));as.displayName=Pa.displayName;const yt=Ma,Sn=Aa,Do=Ta,_t=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Cs,{ref:t,className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:19,columnNumber:3},void 0));_t.displayName=Cs.displayName;const sa=N.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(Do,{children:[e.jsxDEV(_t,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:35,columnNumber:5},void 0),e.jsxDEV(Ps,{ref:r,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[a,e.jsxDEV(Sa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsxDEV(Qe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:46,columnNumber:9},void 0),e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:47,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:45,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:36,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:34,columnNumber:3},void 0));sa.displayName=Ps.displayName;const Ct=({className:s,...a})=>e.jsxDEV("div",{className:g("flex flex-col space-y-1.5 text-center sm:text-left",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:58,columnNumber:3},void 0);Ct.displayName="DialogHeader";const Eo=({className:s,...a})=>e.jsxDEV("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:72,columnNumber:3},void 0);Eo.displayName="DialogFooter";const Pt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ts,{ref:t,className:g("text-lg font-semibold leading-none tracking-tight",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:86,columnNumber:3},void 0));Pt.displayName=Ts.displayName;const Tt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ss,{ref:t,className:g("text-sm text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dialog.tsx",lineNumber:101,columnNumber:3},void 0));Tt.displayName=Ss.displayName;const aa=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ra,{className:g("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...a,ref:t,children:e.jsxDEV(xr,{className:g("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/switch.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/switch.tsx",lineNumber:10,columnNumber:3},void 0));aa.displayName=Ra.displayName;const ys=N.forwardRef(({className:s,value:a,...t},r)=>e.jsxDEV(Ia,{ref:r,className:g("relative h-2 w-full overflow-hidden rounded-full bg-secondary",s),...t,children:e.jsxDEV(br,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/progress.tsx",lineNumber:18,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/progress.tsx",lineNumber:10,columnNumber:3},void 0));ys.displayName=Ia.displayName;const St=Ma,ko=Aa,Vo=Ta,Mt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Cs,{className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:20,columnNumber:3},void 0));Mt.displayName=Cs.displayName;const yo=No("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ta=N.forwardRef(({side:s="right",className:a,children:t,...r},o)=>e.jsxDEV(Vo,{children:[e.jsxDEV(Mt,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:59,columnNumber:5},void 0),e.jsxDEV(Ps,{ref:o,className:g(yo({side:s}),a),...r,children:[t,e.jsxDEV(Sa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsxDEV(Qe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:67,columnNumber:9},void 0),e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:68,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:66,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:60,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:58,columnNumber:3},void 0));ta.displayName=Ps.displayName;const ra=({className:s,...a})=>e.jsxDEV("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:79,columnNumber:3},void 0);ra.displayName="SheetHeader";const oa=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ts,{ref:t,className:g("text-lg font-semibold text-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:107,columnNumber:3},void 0));oa.displayName=Ts.displayName;const ia=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ss,{ref:t,className:g("text-sm text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/sheet.tsx",lineNumber:119,columnNumber:3},void 0));ia.displayName=Ss.displayName;const fs=gr,hs=wr,_o=N.forwardRef(({className:s,inset:a,children:t,...r},o)=>e.jsxDEV(Fa,{ref:o,className:g("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",s),...r,children:[t,e.jsxDEV(Ba,{className:"ml-auto h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:35,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:25,columnNumber:3},void 0));_o.displayName=Fa.displayName;const Co=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Oa,{ref:t,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:45,columnNumber:3},void 0));Co.displayName=Oa.displayName;const ms=N.forwardRef(({className:s,sideOffset:a=4,...t},r)=>e.jsxDEV(jr,{children:e.jsxDEV(La,{ref:r,sideOffset:a,className:g("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:62,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:61,columnNumber:3},void 0));ms.displayName=La.displayName;const Ze=N.forwardRef(({className:s,inset:a,...t},r)=>e.jsxDEV($a,{ref:r,className:g("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",s),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:81,columnNumber:3},void 0));Ze.displayName=$a.displayName;const At=N.forwardRef(({className:s,children:a,checked:t,...r},o)=>e.jsxDEV(za,{ref:o,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:t,...r,children:[e.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsxDEV(qa,{children:e.jsxDEV(Zs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:108,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:107,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:106,columnNumber:5},void 0),a]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:97,columnNumber:3},void 0));At.displayName=za.displayName;const Po=N.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(Ua,{ref:r,className:g("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsxDEV(qa,{children:e.jsxDEV(vr,{className:"h-2 w-2 fill-current"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:131,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:130,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:129,columnNumber:5},void 0),a]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:121,columnNumber:3},void 0));Po.displayName=Ua.displayName;const To=N.forwardRef(({className:s,inset:a,...t},r)=>e.jsxDEV(Ja,{ref:r,className:g("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:145,columnNumber:3},void 0));To.displayName=Ja.displayName;const Hs=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ha,{ref:t,className:g("-mx-1 my-1 h-px bg-muted",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/dropdown-menu.tsx",lineNumber:161,columnNumber:3},void 0));Hs.displayName=Ha.displayName;const na=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ve,{ref:t,className:g("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:13,columnNumber:3},void 0));na.displayName=Ve.displayName;const Mn=({children:s,...a})=>e.jsxDEV(yt,{...a,children:e.jsxDEV(sa,{className:"overflow-hidden p-0 shadow-lg",children:e.jsxDEV(na,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:30,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:29,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:28,columnNumber:5},void 0),So=N.forwardRef(({className:s,...a},t)=>e.jsxDEV("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsxDEV(rs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:43,columnNumber:5},void 0),e.jsxDEV(Ve.Input,{ref:t,className:g("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:44,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:42,columnNumber:3},void 0));So.displayName=Ve.Input.displayName;const Rt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ve.List,{ref:t,className:g("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:61,columnNumber:3},void 0));Rt.displayName=Ve.List.displayName;const It=N.forwardRef((s,a)=>e.jsxDEV(Ve.Empty,{ref:a,className:"py-6 text-center text-sm",...s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:74,columnNumber:3},void 0));It.displayName=Ve.Empty.displayName;const Ft=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ve.Group,{ref:t,className:g("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:87,columnNumber:3},void 0));Ft.displayName=Ve.Group.displayName;const Mo=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ve.Separator,{ref:t,className:g("-mx-1 h-px bg-border",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:103,columnNumber:3},void 0));Mo.displayName=Ve.Separator.displayName;const Bt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ve.Item,{ref:t,className:g("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/command.tsx",lineNumber:115,columnNumber:3},void 0));Bt.displayName=Ve.Item.displayName;const Ot=N.forwardRef(({...s},a)=>e.jsxDEV("nav",{ref:a,"aria-label":"breadcrumb",...s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:12,columnNumber:26},void 0));Ot.displayName="Breadcrumb";const Lt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV("ol",{ref:t,className:g("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:19,columnNumber:3},void 0));Lt.displayName="BreadcrumbList";const Gs=N.forwardRef(({className:s,...a},t)=>e.jsxDEV("li",{ref:t,className:g("inline-flex items-center gap-1.5",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:34,columnNumber:3},void 0));Gs.displayName="BreadcrumbItem";const Ks=N.forwardRef(({asChild:s,className:a,...t},r)=>{const o=s?Dr:"a";return e.jsxDEV(o,{ref:r,className:g("transition-colors hover:text-foreground",a),...t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:51,columnNumber:5},void 0)});Ks.displayName="BreadcrumbLink";const $t=N.forwardRef(({className:s,...a},t)=>e.jsxDEV("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:g("font-normal text-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:64,columnNumber:3},void 0));$t.displayName="BreadcrumbPage";const zt=({children:s,className:a,...t})=>e.jsxDEV("li",{role:"presentation","aria-hidden":"true",className:g("[&>svg]:size-3.5",a),...t,children:s??e.jsxDEV(Ba,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:86,columnNumber:18},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/breadcrumb.tsx",lineNumber:80,columnNumber:3},void 0);zt.displayName="BreadcrumbSeparator";const qt=N.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(Ga,{ref:r,className:g("relative overflow-hidden",s),...t,children:[e.jsxDEV(Er,{className:"h-full w-full rounded-[inherit] min-h-0",children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:15,columnNumber:5},void 0),e.jsxDEV(Ut,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:18,columnNumber:5},void 0),e.jsxDEV(kr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:19,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:10,columnNumber:3},void 0));qt.displayName=Ga.displayName;const Ut=N.forwardRef(({className:s,orientation:a="vertical",...t},r)=>e.jsxDEV(Ka,{ref:r,orientation:a,className:g("flex touch-none select-none transition-colors",a==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...t,children:e.jsxDEV(Vr,{className:"relative flex-1 rounded-full bg-border"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:41,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/scroll-area.tsx",lineNumber:28,columnNumber:3},void 0));Ut.displayName=Ka.displayName;const Ao=Qa()(yr((s,a)=>({notifications:[],unreadCount:0,addNotification:t=>{const r=`notification-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,o={...t,id:r,createdAt:new Date,read:!1,duration:t.duration??5e3};return s(i=>({notifications:[o,...i.notifications],unreadCount:i.unreadCount+1})),o.duration&&setTimeout(()=>{a().removeNotification(r)},o.duration),r},removeNotification:t=>{s(r=>{const o=r.notifications.find(n=>n.id===t),i=o&&!o.read;return{notifications:r.notifications.filter(n=>n.id!==t),unreadCount:i?r.unreadCount-1:r.unreadCount}})},markAsRead:t=>{s(r=>{const o=r.notifications.map(n=>n.id===t?{...n,read:!0}:n),i=o.filter(n=>!n.read).length;return{notifications:o,unreadCount:i}})},markAllAsRead:()=>{s(t=>({notifications:t.notifications.map(r=>({...r,read:!0})),unreadCount:0}))},clearAll:()=>{s({notifications:[],unreadCount:0})},clearRead:()=>{s(t=>({notifications:t.notifications.filter(r=>!r.read),unreadCount:t.unreadCount}))}}),{name:"assistjur-notifications",partialize:s=>({notifications:s.notifications.slice(0,50)})})),Ro=()=>{const{addNotification:s,...a}=Ao();return{...a,success:(t,r,o)=>s({type:"success",title:t,message:r,...o}),error:(t,r,o)=>s({type:"error",title:t,message:r,duration:void 0,...o}),warning:(t,r,o)=>s({type:"warning",title:t,message:r,...o}),info:(t,r,o)=>s({type:"info",title:t,message:r,...o}),addNotification:s}},Io=Cr,An=Pr,Fo=_r,Jt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Wa,{className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:17,columnNumber:3},void 0));Jt.displayName=Wa.displayName;const Ht=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Fo,{children:[e.jsxDEV(Jt,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:33,columnNumber:5},void 0),e.jsxDEV(Za,{ref:t,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:34,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:32,columnNumber:3},void 0));Ht.displayName=Za.displayName;const Gt=({className:s,...a})=>e.jsxDEV("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:50,columnNumber:3},void 0);Gt.displayName="AlertDialogHeader";const Kt=({className:s,...a})=>e.jsxDEV("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:64,columnNumber:3},void 0);Kt.displayName="AlertDialogFooter";const Qt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Xa,{ref:t,className:g("text-lg font-semibold",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:78,columnNumber:3},void 0));Qt.displayName=Xa.displayName;const Wt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Ya,{ref:t,className:g("text-sm text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:90,columnNumber:3},void 0));Wt.displayName=Ya.displayName;const Zt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(et,{ref:t,className:g(ht(),s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:103,columnNumber:3},void 0));Zt.displayName=et.displayName;const Xt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(st,{ref:t,className:g(ht({variant:"outline"}),"mt-2 sm:mt-0",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/alert-dialog.tsx",lineNumber:115,columnNumber:3},void 0));Xt.displayName=st.displayName;const Ge=Tr,Ke=Sr,$e=N.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(at,{ref:r,className:g("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[a,e.jsxDEV(Mr,{asChild:!0,children:e.jsxDEV(is,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:27,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:26,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:17,columnNumber:3},void 0));$e.displayName=at.displayName;const Yt=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(ot,{ref:t,className:g("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsxDEV(it,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:45,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:37,columnNumber:3},void 0));Yt.displayName=ot.displayName;const er=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(nt,{ref:t,className:g("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsxDEV(is,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:62,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:54,columnNumber:3},void 0));er.displayName=nt.displayName;const ze=N.forwardRef(({className:s,children:a,position:t="popper",...r},o)=>e.jsxDEV(Ar,{children:e.jsxDEV(tt,{ref:o,className:g("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...r,children:[e.jsxDEV(Yt,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:84,columnNumber:7},void 0),e.jsxDEV(Rr,{className:g("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:85,columnNumber:7},void 0),e.jsxDEV(er,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:94,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:73,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:72,columnNumber:3},void 0));ze.displayName=tt.displayName;const Bo=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(mt,{ref:t,className:g("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:104,columnNumber:3},void 0));Bo.displayName=mt.displayName;const fe=N.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(rt,{ref:r,className:g("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsxDEV(Ir,{children:e.jsxDEV(Zs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:125,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:124,columnNumber:5},void 0),e.jsxDEV(Fr,{children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:130,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:116,columnNumber:3},void 0));fe.displayName=rt.displayName;const Oo=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(lt,{ref:t,className:g("-mx-1 my-1 h-px bg-muted",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/select.tsx",lineNumber:139,columnNumber:3},void 0));Oo.displayName=lt.displayName;var bs={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Lo=bs.exports,ja;function $o(){return ja||(ja=1,(function(s,a){((t,r)=>{s.exports=r()})(Lo,function t(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},o,i=!r.document&&!!r.postMessage,n=r.IS_PAPA_WORKER||!1,u={},d=0,c={};function j(m){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(l){var p=ee(l);p.chunkSize=parseInt(p.chunkSize),l.step||l.chunk||(p.chunkSize=null),this._handle=new f(p),(this._handle.streamer=this)._config=p}.call(this,m),this.parseChunk=function(l,p){var w=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<w){let z=this._config.newline;z||(k=this._config.quoteChar||'"',z=this._handle.guessLineEndings(l,k)),l=[...l.split(z).slice(w)].join(z)}this.isFirstChunk&&H(this._config.beforeFirstChunk)&&(k=this._config.beforeFirstChunk(l))!==void 0&&(l=k),this.isFirstChunk=!1,this._halted=!1;var w=this._partialLine+l,k=(this._partialLine="",this._handle.parse(w,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(l=k.meta.cursor,w=(this._finished||(this._partialLine=w.substring(l-this._baseIndex),this._baseIndex=l),k&&k.data&&(this._rowCount+=k.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),n)r.postMessage({results:k,workerId:c.WORKER_ID,finished:w});else if(H(this._config.chunk)&&!p){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=k=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!w||!H(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),w||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(l){H(this._config.error)?this._config.error(l):n&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:l,finished:!1})}}function x(m){var l;(m=m||{}).chunkSize||(m.chunkSize=c.RemoteChunkSize),j.call(this,m),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(p){this._input=p,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),i||(l.onload=W(this._chunkLoaded,this),l.onerror=W(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var p,w=this._config.downloadRequestHeaders;for(p in w)l.setRequestHeader(p,w[p])}var k;this._config.chunkSize&&(k=this._start+this._config.chunkSize-1,l.setRequestHeader("Range","bytes="+this._start+"-"+k));try{l.send(this._config.downloadRequestBody)}catch(z){this._chunkError(z.message)}i&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize||l.responseText.length,this._finished=!this._config.chunkSize||this._start>=(p=>(p=p.getResponseHeader("Content-Range"))!==null?parseInt(p.substring(p.lastIndexOf("/")+1)):-1)(l),this.parseChunk(l.responseText)))},this._chunkError=function(p){p=l.statusText||p,this._sendError(new Error(p))}}function D(m){(m=m||{}).chunkSize||(m.chunkSize=c.LocalChunkSize),j.call(this,m);var l,p,w=typeof FileReader<"u";this.stream=function(k){this._input=k,p=k.slice||k.webkitSlice||k.mozSlice,w?((l=new FileReader).onload=W(this._chunkLoaded,this),l.onerror=W(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input,z=(this._config.chunkSize&&(z=Math.min(this._start+this._config.chunkSize,this._input.size),k=p.call(k,this._start,z)),l.readAsText(k,this._config.encoding));w||this._chunkLoaded({target:{result:z}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(l.error)}}function V(m){var l;j.call(this,m=m||{}),this.stream=function(p){return l=p,this._nextChunk()},this._nextChunk=function(){var p,w;if(!this._finished)return p=this._config.chunkSize,l=p?(w=l.substring(0,p),l.substring(p)):(w=l,""),this._finished=!l,this.parseChunk(w)}}function X(m){j.call(this,m=m||{});var l=[],p=!0,w=!1;this.pause=function(){j.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){j.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){w&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):p=!0},this._streamData=W(function(k){try{l.push(typeof k=="string"?k:k.toString(this._config.encoding)),p&&(p=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch(z){this._streamError(z)}},this),this._streamError=W(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=W(function(){this._streamCleanUp(),w=!0,this._streamData("")},this),this._streamCleanUp=W(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function f(m){var l,p,w,k,z=Math.pow(2,53),re=-z,de=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,he=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,O=this,se=0,M=0,ne=!1,I=!1,B=[],v={data:[],errors:[],meta:{}};function P(A){return m.skipEmptyLines==="greedy"?A.join("").trim()==="":A.length===1&&A[0].length===0}function b(){if(v&&w&&(U("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),w=!1),m.skipEmptyLines&&(v.data=v.data.filter(function(R){return!P(R)})),_()){let R=function(ae,oe){H(m.transformHeader)&&(ae=m.transformHeader(ae,oe)),B.push(ae)};if(v)if(Array.isArray(v.data[0])){for(var A=0;_()&&A<v.data.length;A++)v.data[A].forEach(R);v.data.splice(0,1)}else v.data.forEach(R)}function E(R,ae){for(var oe=m.header?{}:[],G=0;G<R.length;G++){var Z=G,h=R[G],h=((q,C)=>($=>(m.dynamicTypingFunction&&m.dynamicTyping[$]===void 0&&(m.dynamicTyping[$]=m.dynamicTypingFunction($)),(m.dynamicTyping[$]||m.dynamicTyping)===!0))(q)?C==="true"||C==="TRUE"||C!=="false"&&C!=="FALSE"&&(($=>{if(de.test($)&&($=parseFloat($),re<$&&$<z))return 1})(C)?parseFloat(C):he.test(C)?new Date(C):C===""?null:C):C)(Z=m.header?G>=B.length?"__parsed_extra":B[G]:Z,h=m.transform?m.transform(h,Z):h);Z==="__parsed_extra"?(oe[Z]=oe[Z]||[],oe[Z].push(h)):oe[Z]=h}return m.header&&(G>B.length?U("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+G,M+ae):G<B.length&&U("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+G,M+ae)),oe}var Y;v&&(m.header||m.dynamicTyping||m.transform)&&(Y=1,!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(E),Y=v.data.length):v.data=E(v.data,0),m.header&&v.meta&&(v.meta.fields=B),M+=Y)}function _(){return m.header&&B.length===0}function U(A,E,Y,R){A={type:A,code:E,message:Y},R!==void 0&&(A.row=R),v.errors.push(A)}H(m.step)&&(k=m.step,m.step=function(A){v=A,_()?b():(b(),v.data.length!==0&&(se+=A.data.length,m.preview&&se>m.preview?p.abort():(v.data=v.data[0],k(v,O))))}),this.parse=function(A,E,Y){var R=m.quoteChar||'"',R=(m.newline||(m.newline=this.guessLineEndings(A,R)),w=!1,m.delimiter?H(m.delimiter)&&(m.delimiter=m.delimiter(A),v.meta.delimiter=m.delimiter):((R=((ae,oe,G,Z,h)=>{var q,C,$,J;h=h||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var pe=0;pe<h.length;pe++){for(var Ne,je=h[pe],me=0,De=0,le=0,ke=($=void 0,new te({comments:Z,delimiter:je,newline:oe,preview:10}).parse(ae)),Oe=0;Oe<ke.data.length;Oe++)G&&P(ke.data[Oe])?le++:(Ne=ke.data[Oe].length,De+=Ne,$===void 0?$=Ne:0<Ne&&(me+=Math.abs(Ne-$),$=Ne));0<ke.data.length&&(De/=ke.data.length-le),(C===void 0||me<=C)&&(J===void 0||J<De)&&1.99<De&&(C=me,q=je,J=De)}return{successful:!!(m.delimiter=q),bestDelimiter:q}})(A,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess)).successful?m.delimiter=R.bestDelimiter:(w=!0,m.delimiter=c.DefaultDelimiter),v.meta.delimiter=m.delimiter),ee(m));return m.preview&&m.header&&R.preview++,l=A,p=new te(R),v=p.parse(l,E,Y),b(),ne?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return ne},this.pause=function(){ne=!0,p.abort(),l=H(m.chunk)?"":l.substring(p.getCharIndex())},this.resume=function(){O.streamer._halted?(ne=!1,O.streamer.parseChunk(l,!0)):setTimeout(O.resume,3)},this.aborted=function(){return I},this.abort=function(){I=!0,p.abort(),v.meta.aborted=!0,H(m.complete)&&m.complete(v),l=""},this.guessLineEndings=function(ae,R){ae=ae.substring(0,1048576);var R=new RegExp(K(R)+"([^]*?)"+K(R),"gm"),Y=(ae=ae.replace(R,"")).split("\r"),R=ae.split(`
`),ae=1<R.length&&R[0].length<Y[0].length;if(Y.length===1||ae)return`
`;for(var oe=0,G=0;G<Y.length;G++)Y[G][0]===`
`&&oe++;return oe>=Y.length/2?`\r
`:"\r"}}function K(m){return m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function te(m){var l=(m=m||{}).delimiter,p=m.newline,w=m.comments,k=m.step,z=m.preview,re=m.fastMode,de=null,he=!1,O=m.quoteChar==null?'"':m.quoteChar,se=O;if(m.escapeChar!==void 0&&(se=m.escapeChar),(typeof l!="string"||-1<c.BAD_DELIMITERS.indexOf(l))&&(l=","),w===l)throw new Error("Comment character same as delimiter");w===!0?w="#":(typeof w!="string"||-1<c.BAD_DELIMITERS.indexOf(w))&&(w=!1),p!==`
`&&p!=="\r"&&p!==`\r
`&&(p=`
`);var M=0,ne=!1;this.parse=function(I,B,v){if(typeof I!="string")throw new Error("Input must be a string");var P=I.length,b=l.length,_=p.length,U=w.length,A=H(k),E=[],Y=[],R=[],ae=M=0;if(!I)return me();if(re||re!==!1&&I.indexOf(O)===-1){for(var oe=I.split(p),G=0;G<oe.length;G++){if(R=oe[G],M+=R.length,G!==oe.length-1)M+=p.length;else if(v)return me();if(!w||R.substring(0,U)!==w){if(A){if(E=[],J(R.split(l)),De(),ne)return me()}else J(R.split(l));if(z&&z<=G)return E=E.slice(0,z),me(!0)}}return me()}for(var Z=I.indexOf(l,M),h=I.indexOf(p,M),q=new RegExp(K(se)+K(O),"g"),C=I.indexOf(O,M);;)if(I[M]===O)for(C=M,M++;;){if((C=I.indexOf(O,C+1))===-1)return v||Y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:E.length,index:M}),Ne();if(C===P-1)return Ne(I.substring(M,C).replace(q,O));if(O===se&&I[C+1]===se)C++;else if(O===se||C===0||I[C-1]!==se){Z!==-1&&Z<C+1&&(Z=I.indexOf(l,C+1));var $=pe((h=h!==-1&&h<C+1?I.indexOf(p,C+1):h)===-1?Z:Math.min(Z,h));if(I.substr(C+1+$,b)===l){R.push(I.substring(M,C).replace(q,O)),I[M=C+1+$+b]!==O&&(C=I.indexOf(O,M)),Z=I.indexOf(l,M),h=I.indexOf(p,M);break}if($=pe(h),I.substring(C+1+$,C+1+$+_)===p){if(R.push(I.substring(M,C).replace(q,O)),je(C+1+$+_),Z=I.indexOf(l,M),C=I.indexOf(O,M),A&&(De(),ne))return me();if(z&&E.length>=z)return me(!0);break}Y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:E.length,index:M}),C++}}else if(w&&R.length===0&&I.substring(M,M+U)===w){if(h===-1)return me();M=h+_,h=I.indexOf(p,M),Z=I.indexOf(l,M)}else if(Z!==-1&&(Z<h||h===-1))R.push(I.substring(M,Z)),M=Z+b,Z=I.indexOf(l,M);else{if(h===-1)break;if(R.push(I.substring(M,h)),je(h+_),A&&(De(),ne))return me();if(z&&E.length>=z)return me(!0)}return Ne();function J(le){E.push(le),ae=M}function pe(le){var ke=0;return ke=le!==-1&&(le=I.substring(C+1,le))&&le.trim()===""?le.length:ke}function Ne(le){return v||(le===void 0&&(le=I.substring(M)),R.push(le),M=P,J(R),A&&De()),me()}function je(le){M=le,J(R),R=[],h=I.indexOf(p,M)}function me(le){if(m.header&&!B&&E.length&&!he){var ke=E[0],Oe=Object.create(null),Ms=new Set(ke);let ua=!1;for(let ss=0;ss<ke.length;ss++){let Ie=ke[ss];if(Oe[Ie=H(m.transformHeader)?m.transformHeader(Ie,ss):Ie]){let ls,ca=Oe[Ie];for(;ls=Ie+"_"+ca,ca++,Ms.has(ls););Ms.add(ls),ke[ss]=ls,Oe[Ie]++,ua=!0,(de=de===null?{}:de)[ls]=Ie}else Oe[Ie]=1,ke[ss]=Ie;Ms.add(Ie)}ua&&console.warn("Duplicate headers found and renamed."),he=!0}return{data:E,errors:Y,meta:{delimiter:l,linebreak:p,aborted:ne,truncated:!!le,cursor:ae+(B||0),renamedHeaders:de}}}function De(){k(me()),E=[],Y=[]}},this.abort=function(){ne=!0},this.getCharIndex=function(){return M}}function y(m){var l=m.data,p=u[l.workerId],w=!1;if(l.error)p.userError(l.error,l.file);else if(l.results&&l.results.data){var k={abort:function(){w=!0,Q(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ce,resume:ce};if(H(p.userStep)){for(var z=0;z<l.results.data.length&&(p.userStep({data:l.results.data[z],errors:l.results.errors,meta:l.results.meta},k),!w);z++);delete l.results}else H(p.userChunk)&&(p.userChunk(l.results,k,l.file),delete l.results)}l.finished&&!w&&Q(l.workerId,l.results)}function Q(m,l){var p=u[m];H(p.userComplete)&&p.userComplete(l),p.terminate(),delete u[m]}function ce(){throw new Error("Not implemented.")}function ee(m){if(typeof m!="object"||m===null)return m;var l,p=Array.isArray(m)?[]:{};for(l in m)p[l]=ee(m[l]);return p}function W(m,l){return function(){m.apply(l,arguments)}}function H(m){return typeof m=="function"}return c.parse=function(m,l){var p=(l=l||{}).dynamicTyping||!1;if(H(p)&&(l.dynamicTypingFunction=p,p={}),l.dynamicTyping=p,l.transform=!!H(l.transform)&&l.transform,!l.worker||!c.WORKERS_SUPPORTED)return p=null,c.NODE_STREAM_INPUT,typeof m=="string"?(m=(w=>w.charCodeAt(0)!==65279?w:w.slice(1))(m),p=new(l.download?x:V)(l)):m.readable===!0&&H(m.read)&&H(m.on)?p=new X(l):(r.File&&m instanceof File||m instanceof Object)&&(p=new D(l)),p.stream(m);(p=(()=>{var w;return!!c.WORKERS_SUPPORTED&&(w=(()=>{var k=r.URL||r.webkitURL||null,z=t.toString();return c.BLOB_URL||(c.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",z,")();"],{type:"text/javascript"})))})(),(w=new r.Worker(w)).onmessage=y,w.id=d++,u[w.id]=w)})()).userStep=l.step,p.userChunk=l.chunk,p.userComplete=l.complete,p.userError=l.error,l.step=H(l.step),l.chunk=H(l.chunk),l.complete=H(l.complete),l.error=H(l.error),delete l.worker,p.postMessage({input:m,config:l,workerId:p.id})},c.unparse=function(m,l){var p=!1,w=!0,k=",",z=`\r
`,re='"',de=re+re,he=!1,O=null,se=!1,M=((()=>{if(typeof l=="object"){if(typeof l.delimiter!="string"||c.BAD_DELIMITERS.filter(function(B){return l.delimiter.indexOf(B)!==-1}).length||(k=l.delimiter),typeof l.quotes!="boolean"&&typeof l.quotes!="function"&&!Array.isArray(l.quotes)||(p=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(he=l.skipEmptyLines),typeof l.newline=="string"&&(z=l.newline),typeof l.quoteChar=="string"&&(re=l.quoteChar),typeof l.header=="boolean"&&(w=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");O=l.columns}l.escapeChar!==void 0&&(de=l.escapeChar+re),l.escapeFormulae instanceof RegExp?se=l.escapeFormulae:typeof l.escapeFormulae=="boolean"&&l.escapeFormulae&&(se=/^[=+\-@\t\r].*$/)}})(),new RegExp(K(re),"g"));if(typeof m=="string"&&(m=JSON.parse(m)),Array.isArray(m)){if(!m.length||Array.isArray(m[0]))return ne(null,m,he);if(typeof m[0]=="object")return ne(O||Object.keys(m[0]),m,he)}else if(typeof m=="object")return typeof m.data=="string"&&(m.data=JSON.parse(m.data)),Array.isArray(m.data)&&(m.fields||(m.fields=m.meta&&m.meta.fields||O),m.fields||(m.fields=Array.isArray(m.data[0])?m.fields:typeof m.data[0]=="object"?Object.keys(m.data[0]):[]),Array.isArray(m.data[0])||typeof m.data[0]=="object"||(m.data=[m.data])),ne(m.fields||[],m.data||[],he);throw new Error("Unable to serialize unrecognized input");function ne(B,v,P){var b="",_=(typeof B=="string"&&(B=JSON.parse(B)),typeof v=="string"&&(v=JSON.parse(v)),Array.isArray(B)&&0<B.length),U=!Array.isArray(v[0]);if(_&&w){for(var A=0;A<B.length;A++)0<A&&(b+=k),b+=I(B[A],A);0<v.length&&(b+=z)}for(var E=0;E<v.length;E++){var Y=(_?B:v[E]).length,R=!1,ae=_?Object.keys(v[E]).length===0:v[E].length===0;if(P&&!_&&(R=P==="greedy"?v[E].join("").trim()==="":v[E].length===1&&v[E][0].length===0),P==="greedy"&&_){for(var oe=[],G=0;G<Y;G++){var Z=U?B[G]:G;oe.push(v[E][Z])}R=oe.join("").trim()===""}if(!R){for(var h=0;h<Y;h++){0<h&&!ae&&(b+=k);var q=_&&U?B[h]:h;b+=I(v[E][q],h)}E<v.length-1&&(!P||0<Y&&!ae)&&(b+=z)}}return b}function I(B,v){var P,b;return B==null?"":B.constructor===Date?JSON.stringify(B).slice(1,25):(b=!1,se&&typeof B=="string"&&se.test(B)&&(B="'"+B,b=!0),P=B.toString().replace(M,de),(b=b||p===!0||typeof p=="function"&&p(B,v)||Array.isArray(p)&&p[v]||((_,U)=>{for(var A=0;A<U.length;A++)if(-1<_.indexOf(U[A]))return!0;return!1})(P,c.BAD_DELIMITERS)||-1<P.indexOf(k)||P.charAt(0)===" "||P.charAt(P.length-1)===" ")?re+P+re:P)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=te,c.ParserHandle=f,c.NetworkStreamer=x,c.FileStreamer=D,c.StringStreamer=V,c.ReadableStreamStreamer=X,r.jQuery&&((o=r.jQuery).fn.parse=function(m){var l=m.config||{},p=[];return this.each(function(z){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var re=0;re<this.files.length;re++)p.push({file:this.files[re],inputElem:this,instanceConfig:o.extend({},l)})}),w(),this;function w(){if(p.length===0)H(m.complete)&&m.complete();else{var z,re,de,he,O=p[0];if(H(m.before)){var se=m.before(O.file,O.inputElem);if(typeof se=="object"){if(se.action==="abort")return z="AbortError",re=O.file,de=O.inputElem,he=se.reason,void(H(m.error)&&m.error({name:z},re,de,he));if(se.action==="skip")return void k();typeof se.config=="object"&&(O.instanceConfig=o.extend(O.instanceConfig,se.config))}else if(se==="skip")return void k()}var M=O.instanceConfig.complete;O.instanceConfig.complete=function(ne){H(M)&&M(ne,O.file,O.inputElem),k()},c.parse(O.file,O.instanceConfig)}}function k(){p.splice(0,1),w()}}),n&&(r.onmessage=function(m){m=m.data,c.WORKER_ID===void 0&&m&&(c.WORKER_ID=m.workerId),typeof m.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(m.input,m.config),finished:!0}):(r.File&&m.input instanceof File||m.input instanceof Object)&&(m=c.parse(m.input,m.config))&&r.postMessage({workerId:c.WORKER_ID,results:m,finished:!0})}),(x.prototype=Object.create(j.prototype)).constructor=x,(D.prototype=Object.create(j.prototype)).constructor=D,(V.prototype=Object.create(V.prototype)).constructor=V,(X.prototype=Object.create(j.prototype)).constructor=X,c})})(bs)),bs.exports}var zo=$o();const sr=fo(zo);function qo(s){return s&&s.replace(/(\d{3})\.\d{3}\.\d{3}-(\d{2})/,"$1.***.***-$2")}function Uo(s){return s&&s.replace(/(\d{2})\.\d{3}\.\d{3}\/\d{4}-(\d{2})/,"$1.***.***/**-$2")}function Jo(s){if(!s)return s;const[a,t]=s.split("@");return a.length<=2?`${a}***@${t}`:`${a.slice(0,2)}***@${t}`}function Ho(s){return s&&s.replace(/(\d{2})\d{4,5}(\d{4})/,"$1****$2")}function Go(s){return s&&s.replace(/(\d{2,3})\d+/,"$1***")}function Ko(s){if(!s)return s;let a=s;return a=a.replace(/\d{3}\.\d{3}\.\d{3}-\d{2}/g,t=>qo(t)),a=a.replace(/\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}/g,t=>Uo(t)),a=a.replace(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,t=>Jo(t)),a=a.replace(/\(\d{2}\)\s?\d{4,5}-?\d{4}/g,t=>Ho(t)),a=a.replace(/OAB[-\/]?\s?\d{3,6}/gi,t=>{const r=t.match(/\d{3,6}/)?.[0]||"";return t.replace(r,Go(r))}),a}function qe(s,a){if(!a||!s)return s;if(typeof s=="string")return Ko(s);if(Array.isArray(s))return s.map(t=>qe(t,a));if(typeof s=="object"){const t={};for(const[r,o]of Object.entries(s))t[r]=qe(o,a);return t}return s}function Ye({items:s,maxVisible:a=2,isPiiMasked:t=!1}){const{toast:r}=Pe();if(!s||s.length===0)return e.jsxDEV("span",{className:"text-muted-foreground",children:"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:26,columnNumber:12},this);const o=qe(s,t),i=o.slice(0,a),n=s.length-a,u=async()=>{try{await navigator.clipboard.writeText(s.join(`
`)),r({title:"Copiado!",description:"Lista copiada para a área de transferência."})}catch{r({title:"Erro ao copiar",description:"Não foi possível copiar a lista.",variant:"destructive"})}};return s.length<=a?e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:i.map((d,c)=>e.jsxDEV(L,{variant:"secondary",className:"text-xs",children:d},c,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:53,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:51,columnNumber:7},this):e.jsxDEV("div",{className:"flex items-center gap-1",children:[i.map((d,c)=>e.jsxDEV(L,{variant:"secondary",className:"text-xs",children:d},c,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:64,columnNumber:9},this)),n>0&&e.jsxDEV(vt,{children:[e.jsxDEV(gt,{asChild:!0,children:e.jsxDEV(S,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",children:["+",n," ",e.jsxDEV(is,{className:"ml-1 h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:72,columnNumber:30},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:71,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:70,columnNumber:11},this),e.jsxDEV(wt,{className:"w-80",align:"start",children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h4",{className:"font-medium",children:["Lista completa (",s.length," itens)"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:78,columnNumber:17},this),e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:u,className:"h-8 px-2",children:e.jsxDEV(We,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:87,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:81,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:77,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1 max-h-48 overflow-y-auto",children:o.map((d,c)=>e.jsxDEV(L,{variant:"outline",className:"text-xs",children:d},c,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:92,columnNumber:19},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:90,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:76,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:69,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ArrayField.tsx",lineNumber:62,columnNumber:5},this)}const Qo=["⏱ Mapeando conexões de testemunhas…","🔎 Checando histórico probatório…","⚖️ Analisando padrões de triangulação…","📋 Identificando riscos processuais…","👥 Cruzando dados do polo ativo…","🎯 Gerando insights estratégicos…","📊 Compilando relatório executivo…"],T=Qa(s=>({processos:[],testemunhas:[],activeTab:"processos",selectedProcesso:null,selectedTestemunha:null,isDetailDrawerOpen:!1,isImportModalOpen:!1,isLoading:!1,isPiiMasked:!1,hasError:!1,errorMessage:"",lastUpdate:null,processoFilters:{},testemunhaFilters:{},columnVisibility:{processos:{cnj:!0,uf:!0,comarca:!0,fase:!0,status:!0,reclamante:!0,qtdDepos:!0,testemunhas:!0,classificacao:!0,acoes:!0},testemunhas:{nome:!0,qtdDepo:!0,ambosPolos:!0,jaReclamante:!0,cnjs:!0,classificacao:!0,acoes:!0}},savedViews:{},activeView:null,processosPage:1,testemunhasPage:1,pageSize:100,totalProcessos:0,totalTestemunhas:0,hasMoreProcessos:!1,hasMoreTestemunhas:!1,chatKind:"processo",chatInput:"",chatMessages:[],chatStatus:"idle",agentOnline:!0,chatResult:null,loadingHints:Qo,currentHintIndex:0,density:"comfortable",navigationHistory:[{label:"Mapa de Testemunhas",path:"/mapa-testemunhas"}],setActiveTab:a=>s({activeTab:a}),setProcessos:a=>s({processos:a}),setTestemunhas:a=>s({testemunhas:a}),setSelectedProcesso:a=>s({selectedProcesso:a}),setSelectedTestemunha:a=>s({selectedTestemunha:a}),setIsDetailDrawerOpen:a=>s({isDetailDrawerOpen:a}),setIsImportModalOpen:a=>s({isImportModalOpen:a}),setIsLoading:a=>s({isLoading:a}),setIsPiiMasked:a=>s({isPiiMasked:a}),setError:(a,t="")=>s({hasError:a,errorMessage:t}),setLastUpdate:a=>s({lastUpdate:a}),setProcessoFilters:a=>s(t=>{const r={...t.processoFilters,...a};return Object.keys(a).forEach(o=>{a[o]===void 0&&delete r[o]}),{processoFilters:r,processosPage:1}}),setTestemunhaFilters:a=>s(t=>{const r={...t.testemunhaFilters,...a};return Object.keys(a).forEach(o=>{a[o]===void 0&&delete r[o]}),{testemunhaFilters:r,testemunhasPage:1}}),setColumnVisibility:(a,t,r)=>s(o=>({columnVisibility:{...o.columnVisibility,[a]:{...o.columnVisibility[a],[t]:r}}})),saveView:(a,t)=>s(r=>{const o={...r.savedViews,[a]:{processoFilters:r.processoFilters,testemunhaFilters:r.testemunhaFilters,columnVisibility:r.columnVisibility}};return typeof window<"u"&&(localStorage.setItem(`mapaViews_${t}`,JSON.stringify(o)),localStorage.setItem(`mapaActiveView_${t}`,a)),{savedViews:o,activeView:a}}),loadViews:a=>{if(typeof window>"u")return;const t=localStorage.getItem(`mapaViews_${a}`),r=t?JSON.parse(t):{},o=localStorage.getItem(`mapaActiveView_${a}`);s({savedViews:r,activeView:o}),o&&r[o]&&s({processoFilters:r[o].processoFilters,testemunhaFilters:r[o].testemunhaFilters,columnVisibility:r[o].columnVisibility})},setActiveViewName:(a,t)=>s(r=>{const o=r.savedViews[a];return o?(typeof window<"u"&&localStorage.setItem(`mapaActiveView_${t}`,a),{activeView:a,processoFilters:o.processoFilters,testemunhaFilters:o.testemunhaFilters,columnVisibility:o.columnVisibility}):{}}),setProcessosPage:a=>s({processosPage:a}),setTestemunhasPage:a=>s({testemunhasPage:a}),setTotalProcessos:a=>s({totalProcessos:a}),setTotalTestemunhas:a=>s({totalTestemunhas:a}),setHasMoreProcessos:a=>s({hasMoreProcessos:a}),setHasMoreTestemunhas:a=>s({hasMoreTestemunhas:a}),loadMoreProcessos:()=>s(a=>({processosPage:a.processosPage+1})),loadMoreTestemunhas:()=>s(a=>({testemunhasPage:a.testemunhasPage+1})),removeProcesso:a=>{let t=null;return s(r=>{const o=r.processos.findIndex(n=>n.cnj===a);if(o===-1)return{};t=r.processos[o];const i=[...r.processos];return i.splice(o,1),{processos:i,totalProcessos:r.totalProcessos-1}}),t},restoreProcesso:a=>s(t=>({processos:[a,...t.processos],totalProcessos:t.totalProcessos+1})),removeTestemunha:a=>{let t=null;return s(r=>{const o=r.testemunhas.findIndex(n=>n.nome_testemunha===a);if(o===-1)return{};t=r.testemunhas[o];const i=[...r.testemunhas];return i.splice(o,1),{testemunhas:i,totalTestemunhas:r.totalTestemunhas-1}}),t},restoreTestemunha:a=>s(t=>({testemunhas:[a,...t.testemunhas],totalTestemunhas:t.totalTestemunhas+1})),resetFilters:()=>s({processoFilters:{},testemunhaFilters:{},processosPage:1,testemunhasPage:1}),setChatKind:a=>s({chatKind:a}),setChatInput:a=>s({chatInput:a}),addChatMessage:a=>{const t={...a,id:`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date};return s(r=>({chatMessages:[...r.chatMessages,t]})),t.id},updateChatMessage:(a,t)=>s(r=>({chatMessages:r.chatMessages.map(o=>o.id===a?{...o,...t}:o)})),setChatStatus:a=>s({chatStatus:a}),setAgentOnline:a=>s({agentOnline:a}),setChatResult:a=>s({chatResult:a}),resetChat:()=>s({chatInput:"",chatMessages:[],chatStatus:"idle",chatResult:null,currentHintIndex:0}),nextHint:()=>s(a=>({currentHintIndex:(a.currentHintIndex+1)%a.loadingHints.length})),setDensity:a=>s({density:a}),pushNavigation:a=>s(t=>t.navigationHistory[t.navigationHistory.length-1]?.path===a.path?{}:{navigationHistory:[...t.navigationHistory,a]}),popNavigation:a=>s(t=>({navigationHistory:t.navigationHistory.slice(0,a+1)})),clearNavigation:()=>s({navigationHistory:[{label:"Mapa de Testemunhas",path:"/mapa-testemunhas"}]})})),ar=s=>s.activeTab,Wo=s=>s.processos,Zo=s=>s.testemunhas,Xo=s=>s.isLoading,Yo=s=>s.isPiiMasked,ei=s=>s.hasError,si=s=>s.errorMessage,ai=s=>s.lastUpdate,ti=s=>s.processoFilters,ri=s=>s.testemunhaFilters,oi=s=>s.isImportModalOpen,ma=s=>s.columnVisibility,ii=s=>s.savedViews,ni=s=>s.activeView;function tr({score:s,riscoNivel:a,className:t}){const i=a?(n=>{switch(n){case"critico":return{level:"Crítico",color:"bg-red-600 text-white border-red-700"};case"alto":return{level:"Alto",color:"bg-destructive text-destructive-foreground"};case"medio":return{level:"Médio",color:"bg-amber-500/15 text-amber-600 border-amber-500/30"};case"baixo":return{level:"Baixo",color:"bg-emerald-500/15 text-emerald-600 border-emerald-500/30"}}})(a):s!==void 0?(n=>n>=70?{level:"VALIDAR",color:"bg-destructive text-destructive-foreground",riscoNivel:"alto"}:n>=50?{level:"AVALIAR",color:"bg-warning text-warning-foreground",riscoNivel:"medio"}:n>=30?{level:"CONHECER",color:"bg-success text-success-foreground",riscoNivel:"baixo"}:{level:"DESCARTAR",color:"bg-muted text-muted-foreground",riscoNivel:"baixo"})(s):{level:"N/A",color:"bg-muted text-muted-foreground"};return e.jsxDEV(L,{className:g("font-semibold px-3 py-1 shadow-sm",i.color,t),children:[i.level,s!==void 0&&!a?` (${s})`:""]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/RiskBadge.tsx",lineNumber:69,columnNumber:5},this)}function rr(s){const{toast:a}=Pe(),t=N.useRef(new Map);return{remove:({key:o,label:i,onDelete:n,onRestore:u})=>{const d=n();if(!d)return;t.current.set(o,d);const c=()=>{const j=t.current.get(o);j&&(u(j),t.current.delete(o))};a({title:`${s} removido`,description:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{children:i},void 0,!1,{fileName:"/workspaces/assitjur/src/hooks/useUndoDelete.tsx",lineNumber:36,columnNumber:11},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:c,className:"ml-2 h-6 px-2 text-xs",children:[e.jsxDEV(Br,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/hooks/useUndoDelete.tsx",lineNumber:43,columnNumber:13},this),"Desfazer"]},void 0,!0,{fileName:"/workspaces/assitjur/src/hooks/useUndoDelete.tsx",lineNumber:37,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/hooks/useUndoDelete.tsx",lineNumber:35,columnNumber:9},this),duration:5e3}),setTimeout(()=>{t.current.delete(o)},5e3)}}}function la({open:s,title:a,description:t,confirmText:r="Confirmar",cancelText:o="Cancelar",loading:i=!1,onConfirm:n,onCancel:u}){return e.jsxDEV(Io,{open:s,onOpenChange:d=>!d&&u(),children:e.jsxDEV(Ht,{children:[e.jsxDEV(Gt,{children:[e.jsxDEV(Qt,{children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:38,columnNumber:11},this),t&&e.jsxDEV(Wt,{children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:40,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:37,columnNumber:9},this),e.jsxDEV(Kt,{children:[e.jsxDEV(Xt,{disabled:i,children:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:44,columnNumber:11},this),e.jsxDEV(Zt,{onClick:n,disabled:i,children:[i&&e.jsxDEV(os,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:46,columnNumber:25},this),r]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:45,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:43,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:36,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/confirm-dialog.tsx",lineNumber:35,columnNumber:5},this)}const or={density:{compact:{row:"py-1",cell:"px-3 py-1",text:"text-xs",badge:"text-[10px] px-1.5 py-0",button:"h-6 w-6",icon:"h-3 w-3"},comfortable:{row:"py-3",cell:"px-4 py-3",text:"text-sm",badge:"text-xs px-2 py-0.5",button:"h-8 w-8",icon:"h-4 w-4"}}};function mi({data:s}){const{setSelectedProcesso:a,setIsDetailDrawerOpen:t,isPiiMasked:r,removeProcesso:o,restoreProcesso:i,density:n}=T(),u=T(ma).processos,{remove:d}=rr("Processo"),[c,j]=N.useState(null),[x,D]=N.useState(!1),V=or.density[n],X=y=>{a(y),t(!0)},f=y=>{j(y),D(!0)},K=()=>{c&&d({key:c.cnj,label:c.cnj,onDelete:()=>o(c.cnj),onRestore:i}),D(!1),j(null)},te=y=>{switch(y?.toLowerCase()){case"ativo":return"bg-success text-success-foreground";case"arquivado":return"bg-muted text-muted-foreground";case"suspenso":return"bg-warning text-warning-foreground";case"baixado":return"bg-secondary text-secondary-foreground";case"cancelado":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}};return s.length?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"border border-border/50 rounded-2xl overflow-hidden",children:e.jsxDEV(Dt,{children:[e.jsxDEV(Et,{children:e.jsxDEV(Vs,{className:"bg-muted/30",children:[u.cnj&&e.jsxDEV(xe,{className:"font-semibold",children:"CNJ"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:108,columnNumber:17},this),u.uf&&e.jsxDEV(xe,{className:"font-semibold",children:"UF"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:111,columnNumber:17},this),u.comarca&&e.jsxDEV(xe,{className:"font-semibold",children:"Comarca"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:114,columnNumber:17},this),u.fase&&e.jsxDEV(xe,{className:"font-semibold",children:"Fase"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:117,columnNumber:17},this),u.status&&e.jsxDEV(xe,{className:"font-semibold",children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:120,columnNumber:17},this),u.reclamante&&e.jsxDEV(xe,{className:"font-semibold",children:"Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:123,columnNumber:17},this),u.qtdDepos&&e.jsxDEV(xe,{className:"font-semibold",children:"Qtd Depo Únicos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:126,columnNumber:17},this),u.testemunhas&&e.jsxDEV(xe,{className:"font-semibold",children:"Testemunhas Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:129,columnNumber:17},this),u.classificacao&&e.jsxDEV(xe,{className:"font-semibold",children:"Classificação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:134,columnNumber:17},this),u.acoes&&e.jsxDEV(xe,{className:"font-semibold text-center",children:"Ações"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:137,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:106,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:105,columnNumber:11},this),e.jsxDEV(kt,{children:s.map(y=>e.jsxDEV(Vs,{className:g("hover:bg-muted/20",V.row),children:[u.cnj&&e.jsxDEV(be,{className:g("font-mono",V.cell,V.text),children:qe(y.cnj,r)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:150,columnNumber:19},this),u.uf&&e.jsxDEV(be,{className:V.cell,children:e.jsxDEV(L,{variant:"outline",className:V.badge,children:y.uf},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:162,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:161,columnNumber:19},this),u.comarca&&e.jsxDEV(be,{className:g("max-w-[150px] truncate",V.cell,V.text),title:y.comarca||"",children:qe(y.comarca,r)||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:168,columnNumber:19},this),u.fase&&e.jsxDEV(be,{className:V.cell,children:e.jsxDEV(L,{variant:"secondary",className:V.badge,children:y.fase||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:181,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:180,columnNumber:19},this),u.status&&e.jsxDEV(be,{className:V.cell,children:e.jsxDEV(L,{className:g(V.badge,te(y.status)),children:y.status||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:188,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:187,columnNumber:19},this),u.reclamante&&e.jsxDEV(be,{className:g("max-w-[180px] truncate",V.cell,V.text),title:y.reclamante_limpo||"",children:qe(y.reclamante_limpo,r)||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:199,columnNumber:19},this),u.qtdDepos&&e.jsxDEV(be,{className:g("text-center",V.cell),children:y.qtd_total_depos_unicos?e.jsxDEV(tr,{score:y.qtd_total_depos_unicos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:214,columnNumber:23},this):"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:212,columnNumber:19},this),u.testemunhas&&e.jsxDEV(be,{className:V.cell,children:e.jsxDEV(Ye,{items:y.testemunhas_ativo_limpo,maxVisible:2,isPiiMasked:r},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:222,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:221,columnNumber:19},this),u.classificacao&&e.jsxDEV(be,{className:V.cell,children:e.jsxDEV(L,{variant:y.classificacao_final==="ALTO RISCO"?"destructive":"secondary",className:V.badge,children:y.classificacao_final||"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:231,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:230,columnNumber:19},this),u.acoes&&e.jsxDEV(be,{className:V.cell,children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>X(y),className:g("p-0",V.button),children:e.jsxDEV(Ue,{className:V.icon},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:252,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:246,columnNumber:23},this),e.jsxDEV(S,{variant:"ghost",size:"sm",className:g("p-0",V.button),children:e.jsxDEV(ut,{className:V.icon},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:259,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:254,columnNumber:23},this),e.jsxDEV(S,{variant:"ghost",size:"sm",className:g("p-0 text-destructive hover:text-destructive",V.button),onClick:()=>f(y),children:e.jsxDEV(ct,{className:V.icon},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:270,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:261,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:245,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:244,columnNumber:19},this)]},y.cnj,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:145,columnNumber:15},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:143,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:104,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:103,columnNumber:7},this),e.jsxDEV(la,{open:x,title:"Excluir processo?",description:c?`Deseja excluir o processo ${c.cnj}?`:void 0,confirmText:"Excluir",onConfirm:K,onCancel:()=>{D(!1),j(null)}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:280,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:102,columnNumber:5},this):e.jsxDEV("div",{className:"border border-border/50 rounded-2xl p-12 text-center",children:e.jsxDEV("div",{className:"text-muted-foreground space-y-2",children:[e.jsxDEV("p",{className:"text-lg",children:"Nenhum processo encontrado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:92,columnNumber:11},this),e.jsxDEV("p",{className:"text-sm",children:"Ajuste os filtros ou importe dados via Excel"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:91,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoTable.tsx",lineNumber:90,columnNumber:7},this)}function va({value:s,trueLabel:a="Sim",falseLabel:t="Não",size:r="md",className:o}){return s==null?e.jsxDEV(L,{variant:"outline",className:g("font-normal text-muted-foreground",r==="sm"?"text-[10px] px-1.5":"text-xs px-2",o),children:"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/boolean-badge.tsx",lineNumber:21,columnNumber:7},this):s===!0?e.jsxDEV(L,{variant:"outline",className:g("bg-green-100 text-green-800 border-green-200 font-medium","dark:bg-green-950/30 dark:text-green-400 dark:border-green-900",r==="sm"?"text-[10px] px-1.5":"text-xs px-2",o),children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/boolean-badge.tsx",lineNumber:36,columnNumber:7},this):e.jsxDEV(L,{variant:"outline",className:g("bg-gray-100 text-gray-600 border-gray-200 font-normal","dark:bg-gray-900/30 dark:text-gray-400 dark:border-gray-800",r==="sm"?"text-[10px] px-1.5":"text-xs px-2",o),children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/boolean-badge.tsx",lineNumber:51,columnNumber:5},this)}function li({value:s,size:a="md"}){if(!s||s==="—"||s==="PENDENTE"||s==="")return e.jsxDEV(L,{variant:"outline",className:g("font-normal text-muted-foreground",a==="sm"?"text-[10px] px-1.5 py-0":"text-xs"),children:"Não classificada"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/classification-chip.tsx",lineNumber:15,columnNumber:7},this);const t=s.toLowerCase(),r=()=>t.includes("crítica")||t.includes("alto")||t.includes("alta")?"bg-red-100 text-red-800 border-red-200 dark:bg-red-950/30 dark:text-red-400 dark:border-red-900":t.includes("relevante")||t.includes("médio")||t.includes("media")?"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-950/30 dark:text-yellow-400 dark:border-yellow-900":t.includes("comum")||t.includes("baixo")||t.includes("baixa")?"bg-green-100 text-green-800 border-green-200 dark:bg-green-950/30 dark:text-green-400 dark:border-green-900":"bg-secondary text-secondary-foreground";return e.jsxDEV(L,{variant:"outline",className:g("font-medium border",r(),a==="sm"?"text-[10px] px-1.5 py-0":"text-xs"),children:s},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/classification-chip.tsx",lineNumber:63,columnNumber:5},this)}function Ns({status:s,onRetry:a,children:t}){return s==="loading"?e.jsxDEV("div",{className:"p-8 text-center text-sm text-muted-foreground",children:"Carregando..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:16,columnNumber:7},this):s==="error"?e.jsxDEV("div",{className:"p-8 text-center space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-destructive",children:[e.jsxDEV(ds,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:26,columnNumber:11},this),e.jsxDEV("span",{children:"Erro ao carregar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:27,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:25,columnNumber:9},this),a&&e.jsxDEV(S,{variant:"outline",size:"sm",onClick:a,children:"Tentar novamente"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:30,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:24,columnNumber:7},this):s==="offline"?e.jsxDEV("div",{className:"p-8 text-center space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center gap-2 text-destructive",children:[e.jsxDEV(ds,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:42,columnNumber:11},this),e.jsxDEV("span",{children:"Sem conexão"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:43,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:41,columnNumber:9},this),a&&e.jsxDEV(S,{variant:"outline",size:"sm",onClick:a,children:"Tentar novamente"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:40,columnNumber:7},this):s==="empty"?e.jsxDEV("div",{className:"p-12 text-center text-muted-foreground",children:"Nenhum dado encontrado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:56,columnNumber:7},this):e.jsxDEV(e.Fragment,{children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/data-state.tsx",lineNumber:62,columnNumber:10},this)}function ui({data:s,status:a,onRetry:t}){const{setSelectedTestemunha:r,setIsDetailDrawerOpen:o,isPiiMasked:i,removeTestemunha:n,restoreTestemunha:u,density:d}=T(),c=T(ma).testemunhas,{remove:j}=rr("Testemunha"),[x,D]=N.useState(null),[V,X]=N.useState(!1),f=or.density[d],K=N.useCallback(Q=>{r(Q),o(!0)},[r,o]);if(a!=="success")return e.jsxDEV(Ns,{status:a,onRetry:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:65,columnNumber:12},this);if(!s.length)return e.jsxDEV(Ns,{status:"empty",onRetry:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:69,columnNumber:12},this);const te=N.useCallback(Q=>{D(Q),X(!0)},[]),y=N.useCallback(()=>{x&&j({key:x.nome_testemunha,label:x.nome_testemunha,onDelete:()=>n(x.nome_testemunha),onRestore:u}),X(!1),D(null)},[x,j,n,u]);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"border border-border/50 rounded-2xl overflow-hidden",children:e.jsxDEV(Dt,{children:[e.jsxDEV(Et,{children:e.jsxDEV(Vs,{className:"bg-muted/30",children:[c.nome&&e.jsxDEV(xe,{className:"font-semibold",children:"Nome da Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:97,columnNumber:17},this),c.qtdDepo&&e.jsxDEV(xe,{className:"font-semibold text-center",children:"Qtd Depoimentos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:102,columnNumber:17},this),c.ambosPolos&&e.jsxDEV(xe,{className:"font-semibold text-center",children:"Ambos os Polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:107,columnNumber:17},this),c.jaReclamante&&e.jsxDEV(xe,{className:"font-semibold text-center",children:"Já Foi Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:112,columnNumber:17},this),c.cnjs&&e.jsxDEV(xe,{className:"font-semibold",children:"CNJs como Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:117,columnNumber:17},this),c.classificacao&&e.jsxDEV(xe,{className:"font-semibold",children:"Classificação Estratégica"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:122,columnNumber:17},this),c.acoes&&e.jsxDEV(xe,{className:"font-semibold text-center",children:"Ações"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:127,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:95,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:94,columnNumber:11},this),e.jsxDEV(kt,{children:s.map(Q=>e.jsxDEV(Vs,{className:g("group hover:bg-muted/20",f.row),children:[c.nome&&e.jsxDEV(be,{className:g("font-medium max-w-[200px] truncate",f.cell,f.text),title:Q.nome_testemunha,children:qe(Q.nome_testemunha,i)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:140,columnNumber:19},this),c.qtdDepo&&e.jsxDEV(be,{className:g("text-center",f.cell),children:e.jsxDEV(L,{variant:"secondary",className:f.badge,children:Q.qtd_depoimentos||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:153,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:152,columnNumber:19},this),c.ambosPolos&&e.jsxDEV(be,{className:g("text-center",f.cell),children:e.jsxDEV(va,{value:Q.foi_testemunha_em_ambos_polos,size:"sm"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:160,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:159,columnNumber:19},this),c.jaReclamante&&e.jsxDEV(be,{className:g("text-center",f.cell),children:e.jsxDEV(va,{value:Q.ja_foi_reclamante,size:"sm"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:168,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:167,columnNumber:19},this),c.cnjs&&e.jsxDEV(be,{className:f.cell,children:e.jsxDEV(Ye,{items:Q.cnjs_como_testemunha??null,maxVisible:2,isPiiMasked:i},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:176,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:175,columnNumber:19},this),c.classificacao&&e.jsxDEV(be,{className:f.cell,children:e.jsxDEV(li,{value:Q.classificacao||Q.classificacao_estrategica,size:"sm"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:185,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:184,columnNumber:19},this),c.acoes&&e.jsxDEV(be,{className:f.cell,children:e.jsxDEV("div",{className:"flex items-center justify-center gap-1",children:[e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>K(Q),className:g("p-0 text-primary hover:bg-primary/10 hover:text-primary",f.button),title:"Visualizar detalhes",children:e.jsxDEV(Ue,{className:f.icon,strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:208,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:198,columnNumber:23},this),e.jsxDEV(S,{variant:"ghost",size:"sm",className:g("p-0 text-muted-foreground hover:text-foreground hover:bg-muted",f.button),title:"Editar",children:e.jsxDEV(ut,{className:f.icon,strokeWidth:1.5},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:220,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:211,columnNumber:23},this),e.jsxDEV(S,{variant:"ghost",size:"sm",className:g("p-0 opacity-0 group-hover:opacity-100 text-destructive hover:bg-destructive/10 hover:text-destructive transition-opacity",f.button),onClick:()=>te(Q),title:"Excluir",children:e.jsxDEV(ct,{className:f.icon,strokeWidth:1.5},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:236,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:226,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:196,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:195,columnNumber:19},this)]},Q.nome_testemunha,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:135,columnNumber:15},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:93,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:92,columnNumber:7},this),e.jsxDEV(la,{open:V,title:"Excluir testemunha?",description:x?`Deseja excluir ${x.nome_testemunha}?`:void 0,confirmText:"Excluir",onConfirm:y,onCancel:()=>{X(!1),D(null)}},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:249,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaTable.tsx",lineNumber:91,columnNumber:5},this)}const ci=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],di=["Ativo","Arquivado","Suspenso","Baixado","Cancelado"],pi=["Conhecimento","Execução","Recursal","Liquidação"];function Ni(){const{processoFilters:s,setProcessoFilters:a,resetFilters:t}=T(),r=(n,u)=>{if(u===""||u===void 0||u==="TODAS"||u==="TODOS"){const d={...s};delete d[n],a(d)}else a({[n]:u})},o=()=>{t()},i=Object.keys(s).length>0;return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsxDEV(rs,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:87,columnNumber:11},this),"Filtros - Por Processo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:86,columnNumber:9},this),i&&e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:o,children:[e.jsxDEV(Qe,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:92,columnNumber:13},this),"Limpar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:85,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"search",children:"Buscar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:100,columnNumber:11},this),e.jsxDEV(He,{id:"search",placeholder:"CNJ, comarca, reclamante...",value:s.search||"",onChange:n=>r("search",n.target.value)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:101,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:99,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"testemunha",children:"Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:110,columnNumber:11},this),e.jsxDEV(He,{id:"testemunha",placeholder:"Nome da testemunha...",value:s.testemunha||"",onChange:n=>r("testemunha",n.target.value)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:109,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"uf",children:"UF"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:120,columnNumber:11},this),e.jsxDEV(Ge,{value:s.uf||"TODAS",onValueChange:n=>r("uf",n),children:[e.jsxDEV($e,{id:"uf",children:e.jsxDEV(Ke,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:126,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:125,columnNumber:13},this),e.jsxDEV(ze,{children:[e.jsxDEV(fe,{value:"TODAS",children:"Todas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:129,columnNumber:15},this),ci.map(n=>e.jsxDEV(fe,{value:n,children:n},n,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:131,columnNumber:17},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:128,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:121,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:119,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"status",children:"Status"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:140,columnNumber:11},this),e.jsxDEV(Ge,{value:s.status||"TODOS",onValueChange:n=>r("status",n),children:[e.jsxDEV($e,{id:"status",children:e.jsxDEV(Ke,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:146,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:145,columnNumber:13},this),e.jsxDEV(ze,{children:[e.jsxDEV(fe,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:149,columnNumber:15},this),di.map(n=>e.jsxDEV(fe,{value:n,children:n},n,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:151,columnNumber:17},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:148,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:139,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"fase",children:"Fase"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:160,columnNumber:11},this),e.jsxDEV(Ge,{value:s.fase||"TODAS",onValueChange:n=>r("fase",n),children:[e.jsxDEV($e,{id:"fase",children:e.jsxDEV(Ke,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:166,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:165,columnNumber:13},this),e.jsxDEV(ze,{children:[e.jsxDEV(fe,{value:"TODAS",children:"Todas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:169,columnNumber:15},this),pi.map(n=>e.jsxDEV(fe,{value:n,children:n},n,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:171,columnNumber:17},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:161,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:159,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"qtdMin",children:"Qtd Depo Únicos (Mín)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:180,columnNumber:11},this),e.jsxDEV(He,{id:"qtdMin",type:"number",placeholder:"0",value:s.qtdDeposMin||"",onChange:n=>r("qtdDeposMin",n.target.value?Number(n.target.value):void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:179,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"qtdMax",children:"Qtd Depo Únicos (Máx)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:196,columnNumber:11},this),e.jsxDEV(He,{id:"qtdMax",type:"number",placeholder:"∞",value:s.qtdDeposMax||"",onChange:n=>r("qtdDeposMax",n.target.value?Number(n.target.value):void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:197,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:195,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:98,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ProcessoFilters.tsx",lineNumber:84,columnNumber:5},this)}function fi(){const{testemunhaFilters:s,setTestemunhaFilters:a,resetFilters:t}=T(),r=(n,u)=>{if(u===""||u===void 0||u==="TODOS"){const d={...s};delete d[n],a(d)}else a({[n]:u})},o=()=>{t()},i=Object.keys(s).length>0;return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsxDEV(rs,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:42,columnNumber:11},this),"Filtros - Por Testemunha"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:41,columnNumber:9},this),i&&e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:o,children:[e.jsxDEV(Qe,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:47,columnNumber:13},this),"Limpar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:40,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"search",children:"Buscar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:55,columnNumber:11},this),e.jsxDEV(He,{id:"search",placeholder:"Nome da testemunha...",value:s.search||"",onChange:n=>r("search",n.target.value)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:54,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"ambosPolos",children:"Em Ambos os Polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:65,columnNumber:11},this),e.jsxDEV(Ge,{value:s.ambosPolos!==void 0?s.ambosPolos.toString():"TODOS",onValueChange:n=>r("ambosPolos",n==="TODOS"?void 0:n==="true"),children:[e.jsxDEV($e,{id:"ambosPolos",children:e.jsxDEV(Ke,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:80,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:79,columnNumber:13},this),e.jsxDEV(ze,{children:[e.jsxDEV(fe,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:83,columnNumber:15},this),e.jsxDEV(fe,{value:"true",children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:84,columnNumber:15},this),e.jsxDEV(fe,{value:"false",children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:82,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:64,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"jaFoiReclamante",children:"Já Foi Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:91,columnNumber:11},this),e.jsxDEV(Ge,{value:s.jaFoiReclamante!==void 0?s.jaFoiReclamante.toString():"TODOS",onValueChange:n=>r("jaFoiReclamante",n==="TODOS"?void 0:n==="true"),children:[e.jsxDEV($e,{id:"jaFoiReclamante",children:e.jsxDEV(Ke,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:106,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:105,columnNumber:13},this),e.jsxDEV(ze,{children:[e.jsxDEV(fe,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:109,columnNumber:15},this),e.jsxDEV(fe,{value:"true",children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:110,columnNumber:15},this),e.jsxDEV(fe,{value:"false",children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:111,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:108,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:90,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"temTriangulacao",children:"Participou Triangulação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:117,columnNumber:11},this),e.jsxDEV(Ge,{value:s.temTriangulacao!==void 0?s.temTriangulacao.toString():"TODOS",onValueChange:n=>r("temTriangulacao",n==="TODOS"?void 0:n==="true"),children:[e.jsxDEV($e,{id:"temTriangulacao",children:e.jsxDEV(Ke,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:132,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:131,columnNumber:13},this),e.jsxDEV(ze,{children:[e.jsxDEV(fe,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:135,columnNumber:15},this),e.jsxDEV(fe,{value:"true",children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:136,columnNumber:15},this),e.jsxDEV(fe,{value:"false",children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:116,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"temTroca",children:"Participou Troca"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:143,columnNumber:11},this),e.jsxDEV(Ge,{value:s.temTroca!==void 0?s.temTroca.toString():"TODOS",onValueChange:n=>r("temTroca",n==="TODOS"?void 0:n==="true"),children:[e.jsxDEV($e,{id:"temTroca",children:e.jsxDEV(Ke,{placeholder:"Selecione..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:158,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:157,columnNumber:13},this),e.jsxDEV(ze,{children:[e.jsxDEV(fe,{value:"TODOS",children:"Todos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:161,columnNumber:15},this),e.jsxDEV(fe,{value:"true",children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:162,columnNumber:15},this),e.jsxDEV(fe,{value:"false",children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:142,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"qtdMin",children:"Qtd Depoimentos (Mín)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:169,columnNumber:11},this),e.jsxDEV(He,{id:"qtdMin",type:"number",placeholder:"0",value:s.qtdDeposMin||"",onChange:n=>r("qtdDeposMin",n.target.value?Number(n.target.value):void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:168,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(ve,{htmlFor:"qtdMax",children:"Qtd Depoimentos (Máx)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:185,columnNumber:11},this),e.jsxDEV(He,{id:"qtdMax",type:"number",placeholder:"∞",value:s.qtdDeposMax||"",onChange:n=>r("qtdDeposMax",n.target.value?Number(n.target.value):void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:184,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:53,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/TestemunhaFilters.tsx",lineNumber:39,columnNumber:5},this)}function hi({open:s,onOpenChange:a}){const t=T(i=>i.activeTab),[r,o]=N.useState(t==="processos"?"processos":"testemunhas");return N.useEffect(()=>{o(t==="processos"?"processos":"testemunhas")},[t]),e.jsxDEV(St,{open:s,onOpenChange:a,children:e.jsxDEV(ta,{side:"right",className:"w-[600px] sm:w-[700px] overflow-y-auto",children:[e.jsxDEV(ra,{children:[e.jsxDEV(oa,{children:"Filtros Avançados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:36,columnNumber:11},this),e.jsxDEV(ia,{children:"Refine sua busca com filtros específicos por processo ou testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:37,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:35,columnNumber:9},this),e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV(xt,{value:r,onValueChange:o,children:[e.jsxDEV(bt,{className:"grid w-full grid-cols-2",children:[e.jsxDEV(Es,{value:"processos",children:"Por Processo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:45,columnNumber:15},this),e.jsxDEV(Es,{value:"testemunhas",children:"Por Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:46,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:44,columnNumber:13},this),e.jsxDEV(ks,{value:"processos",className:"mt-4",children:e.jsxDEV(Ni,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:50,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:49,columnNumber:13},this),e.jsxDEV(ks,{value:"testemunhas",className:"mt-4",children:e.jsxDEV(fi,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:54,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:53,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:43,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:42,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:31,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/FilterDrawer.tsx",lineNumber:30,columnNumber:5},this)}function xi(){const s=T(ar),a=T(ma),t=T(i=>i.setColumnVisibility),r=s==="processos"?[{key:"cnj",label:"CNJ"},{key:"uf",label:"UF"},{key:"comarca",label:"Comarca"},{key:"fase",label:"Fase"},{key:"status",label:"Status"},{key:"reclamante",label:"Reclamante"},{key:"qtdDepos",label:"Qtd Depo Únicos"},{key:"testemunhas",label:"Testemunhas Ativo"},{key:"classificacao",label:"Classificação"},{key:"acoes",label:"Ações"}]:[{key:"nome",label:"Nome da Testemunha"},{key:"qtdDepo",label:"Qtd Depoimentos"},{key:"ambosPolos",label:"Ambos os Polos"},{key:"jaReclamante",label:"Já Foi Reclamante"},{key:"cnjs",label:"CNJs como Testemunha"},{key:"classificacao",label:"Classificação Estratégica"},{key:"acoes",label:"Ações"}],o=a[s];return e.jsxDEV(fs,{children:[e.jsxDEV(hs,{asChild:!0,children:e.jsxDEV(S,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsxDEV(Or,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:52,columnNumber:11},this)," Colunas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:51,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:50,columnNumber:7},this),e.jsxDEV(ms,{align:"end",children:r.map(i=>e.jsxDEV(At,{checked:o[i.key],onCheckedChange:n=>t(s,i.key,n),children:i.label},i.key,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:57,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:55,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ColumnVisibilityMenu.tsx",lineNumber:49,columnNumber:5},this)}function bi({userId:s}){const a=T(ii),t=T(ni),r=T(n=>n.saveView),o=T(n=>n.setActiveViewName),i=()=>{const n=window.prompt("Nome da visualização");n&&r(n,s)};return e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Ge,{value:t||"",onValueChange:n=>o(n,s),children:[e.jsxDEV($e,{className:"w-[200px]",children:e.jsxDEV(Ke,{placeholder:"Visualizações"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:40,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:39,columnNumber:9},this),e.jsxDEV(ze,{children:Object.keys(a).map(n=>e.jsxDEV(fe,{value:n,children:n},n,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:44,columnNumber:13},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:42,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:35,columnNumber:7},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:i,className:"flex items-center gap-2",children:[e.jsxDEV(Lr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:56,columnNumber:9},this)," Salvar visão"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:50,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/VisualizationSelector.tsx",lineNumber:34,columnNumber:5},this)}const ir=({shouldScaleBackground:s=!0,...a})=>e.jsxDEV(Je.Root,{shouldScaleBackground:s,...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:10,columnNumber:3},void 0);ir.displayName="Drawer";const ji=Je.Portal,nr=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Je.Overlay,{ref:t,className:g("fixed inset-0 z-50 bg-black/80",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:27,columnNumber:3},void 0));nr.displayName=Je.Overlay.displayName;const mr=N.forwardRef(({className:s,children:a,...t},r)=>e.jsxDEV(ji,{children:[e.jsxDEV(nr,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:40,columnNumber:5},void 0),e.jsxDEV(Je.Content,{ref:r,className:g("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...t,children:[e.jsxDEV("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:49,columnNumber:7},void 0),a]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:41,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:39,columnNumber:3},void 0));mr.displayName="DrawerContent";const lr=({className:s,...a})=>e.jsxDEV("div",{className:g("grid gap-1.5 p-4 text-center sm:text-left",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:60,columnNumber:3},void 0);lr.displayName="DrawerHeader";const ur=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Je.Title,{ref:t,className:g("text-lg font-semibold leading-none tracking-tight",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:82,columnNumber:3},void 0));ur.displayName=Je.Title.displayName;const vi=N.forwardRef(({className:s,...a},t)=>e.jsxDEV(Je.Description,{ref:t,className:g("text-sm text-muted-foreground",s),...a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/ui/drawer.tsx",lineNumber:97,columnNumber:3},void 0));vi.displayName=Je.Description.displayName;function gi(){const{isDetailDrawerOpen:s,setIsDetailDrawerOpen:a,selectedProcesso:t,selectedTestemunha:r,isPiiMasked:o}=T(),{toast:i}=Pe(),n=async(c,j)=>{const x=qe(c,o);try{await navigator.clipboard.writeText(x),i({title:"Copiado!",description:`${j} copiado para a área de transferência.`})}catch{i({title:"Erro ao copiar",description:`Não foi possível copiar ${j}.`,variant:"destructive"})}},u=({value:c,label:j})=>e.jsxDEV("div",{className:"flex items-center gap-2",children:[c===null?e.jsxDEV("span",{className:"text-muted-foreground",children:"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:53,columnNumber:9},this):c?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Fe,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("span",{children:"Sim"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:57,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:55,columnNumber:9},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV($s,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:61,columnNumber:11},this),e.jsxDEV("span",{children:"Não"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:60,columnNumber:9},this),j&&e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>n(c?.toString()||"N/A",j),className:"h-6 w-6 p-0",children:e.jsxDEV(We,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:51,columnNumber:5},this),d=({label:c,value:j,copyable:x=!1})=>e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:c},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:89,columnNumber:9},this),x&&j&&e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>n(j.toString(),c),className:"h-6 w-6 p-0",children:e.jsxDEV(We,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:99,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:88,columnNumber:7},this),e.jsxDEV("p",{className:"font-mono text-sm break-all",children:j?qe(j.toString(),o):"—"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:103,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:87,columnNumber:5},this);return!s||!t&&!r?null:e.jsxDEV(ir,{open:s,onOpenChange:a,children:e.jsxDEV(mr,{className:"max-w-4xl mx-auto",children:[e.jsxDEV(lr,{children:e.jsxDEV(ur,{children:t?`Processo ${t.cnj}`:`Testemunha ${r?.nome_testemunha}`},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:117,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:116,columnNumber:9},this),e.jsxDEV(qt,{className:"h-[80vh] px-6 pb-6",children:[t&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-muted/20 rounded-xl p-4",children:e.jsxDEV(L,{variant:"outline",className:"mb-2",children:"Conteúdo assistivo. Revisão humana obrigatória."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:128,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:127,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV(d,{label:"CNJ",value:t.cnj,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:134,columnNumber:17},this),e.jsxDEV(d,{label:"Status",value:t.status},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:139,columnNumber:17},this),e.jsxDEV(d,{label:"UF",value:t.uf},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:140,columnNumber:17},this),e.jsxDEV(d,{label:"Comarca",value:t.comarca,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:141,columnNumber:17},this),e.jsxDEV(d,{label:"Fase",value:t.fase},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:146,columnNumber:17},this),e.jsxDEV(d,{label:"Reclamante",value:t.reclamante_limpo,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:133,columnNumber:15},this),e.jsxDEV(Xe,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"font-semibold",children:"Advogados Parte Ativa"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:157,columnNumber:17},this),e.jsxDEV(Ye,{items:t.advogados_parte_ativa,maxVisible:5,isPiiMasked:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:158,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"font-semibold",children:"Testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:166,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium mb-2",children:"Polo Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:169,columnNumber:21},this),e.jsxDEV(Ye,{items:t.testemunhas_ativo_limpo,maxVisible:5,isPiiMasked:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:170,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:168,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium mb-2",children:"Polo Passivo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:177,columnNumber:21},this),e.jsxDEV(Ye,{items:t.testemunhas_passivo_limpo,maxVisible:5,isPiiMasked:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:178,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:176,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:167,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV(Xe,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:187,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Reclamante foi Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:191,columnNumber:19},this),e.jsxDEV(u,{value:t.reclamante_foi_testemunha},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:194,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:190,columnNumber:17},this),e.jsxDEV(d,{label:"Qtd Vezes Reclamante foi Testemunha",value:t.qtd_vezes_reclamante_foi_testemunha},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:198,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Troca Direta"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:203,columnNumber:19},this),e.jsxDEV(u,{value:t.troca_direta},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:206,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:202,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Triangulação Confirmada"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:209,columnNumber:19},this),e.jsxDEV(u,{value:t.triangulacao_confirmada},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:212,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:208,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV(Xe,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:218,columnNumber:15},this),e.jsxDEV(d,{label:"Classificação Final",value:t.classificacao_final},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:220,columnNumber:15},this),e.jsxDEV(d,{label:"Insight Estratégico",value:t.insight_estrategico,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:225,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:126,columnNumber:13},this),r&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-muted/20 rounded-xl p-4",children:e.jsxDEV(L,{variant:"outline",className:"mb-2",children:"Conteúdo assistivo. Revisão humana obrigatória."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:236,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:235,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV(d,{label:"Nome da Testemunha",value:r.nome_testemunha,copyable:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:242,columnNumber:17},this),e.jsxDEV(d,{label:"Quantidade de Depoimentos",value:r.qtd_depoimentos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:247,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:241,columnNumber:15},this),e.jsxDEV(Xe,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:253,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Já Foi Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:257,columnNumber:19},this),e.jsxDEV(u,{value:r.ja_foi_reclamante},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:260,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:256,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Foi Testemunha em Ambos os Polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:263,columnNumber:19},this),e.jsxDEV(u,{value:r.foi_testemunha_em_ambos_polos},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:266,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:262,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Participou Troca Favor"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:271,columnNumber:19},this),e.jsxDEV(u,{value:r.participou_troca_favor},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:274,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:270,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("label",{className:"text-sm font-medium text-muted-foreground",children:"Participou Triangulação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:279,columnNumber:19},this),e.jsxDEV(u,{value:r.participou_triangulacao},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:282,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:255,columnNumber:15},this),e.jsxDEV(Xe,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:288,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"font-semibold",children:"CNJs como Testemunha"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:291,columnNumber:17},this),e.jsxDEV(Ye,{items:r.cnjs_como_testemunha??null,maxVisible:5,isPiiMasked:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:290,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"font-semibold",children:"CNJs como Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:300,columnNumber:17},this),e.jsxDEV(Ye,{items:r.cnjs_como_reclamante??null,maxVisible:5,isPiiMasked:o},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:301,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:299,columnNumber:15},this),e.jsxDEV(Xe,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:308,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV(d,{label:"Classificação",value:r.classificacao??null},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:311,columnNumber:17},this),e.jsxDEV(d,{label:"Classificação Estratégica",value:r.classificacao_estrategica??null},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:315,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:310,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:115,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DetailDrawer.tsx",lineNumber:114,columnNumber:5},this)}const wi=$r,Di=zr,Ei=qr;function ki(s,a="Você tem alterações não salvas. Deseja sair?"){N.useEffect(()=>{if(!s)return;const t=r=>(r.preventDefault(),r.returnValue=a,a);return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[s,a])}const Qs=s=>String(s??"").replace(/\D/g,""),ga=s=>Qs(s).length===20,wa=s=>{const a=String(s??"").trim();if(!a||a==="[]")return[];if(a.startsWith("[")&&a.endsWith("]"))try{return JSON.parse(a.replace(/'/g,'"')).map(t=>String(t).trim()).filter(Boolean)}catch{}return a.split(/[;,]/).map(t=>t.trim()).filter(Boolean)},Vi=["Nome_Testemunha","CNJs_Como_Testemunha"],yi=["CNJ","Reclamante_Limpo","Reu_Nome"],Da=(s,a)=>(a.utils.sheet_to_json(s,{header:1,blankrows:!1})[0]||[]).map(r=>String(r||"").trim()),Ea=(s,a)=>{const t=new Set(s.map(o=>o.toLowerCase())),r=a.filter(o=>!t.has(o.toLowerCase()));return{ok:r.length===0,missing:r}},_i=({currentStep:s,validationResults:a,isProcessing:t})=>{const r=[{id:"upload",title:"Upload do Arquivo",icon:zs,description:"Selecione o arquivo Excel"},{id:"validation",title:"Validação",icon:vs,description:"Verificação da qualidade dos dados"},{id:"preview",title:"Prévia",icon:Ue,description:"Visualização antes da importação"},{id:"publish",title:"Importação",icon:Fe,description:"Processamento final"}],o=n=>{const u=r.findIndex(c=>c.id===s),d=r.findIndex(c=>c.id===n);return t&&n===s?"processing":d<u?"completed":d===u?n==="validation"&&(a?.errors?.length??0)>0?"error":"current":"pending"},i=(n,u)=>{const d=n.icon;return u==="processing"?e.jsxDEV(dt,{className:"h-5 w-5 animate-pulse"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:176,columnNumber:14},void 0):u==="completed"?e.jsxDEV(Fe,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:178,columnNumber:14},void 0):u==="error"?e.jsxDEV(ds,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:180,columnNumber:14},void 0):e.jsxDEV(d,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:182,columnNumber:14},void 0)};return e.jsxDEV("div",{className:"mb-8",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:r.map((n,u)=>{const d=o(n.id),c=d==="current"||d==="processing",j=d==="completed",x=d==="error";return e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("div",{className:`
                  flex items-center justify-center w-12 h-12 rounded-full border-2 
                  ${j?"bg-green-100 border-green-500 text-green-700 dark:bg-green-950 dark:border-green-400 dark:text-green-300":""}
                  ${c&&!x?"bg-primary/10 border-primary text-primary":""}
                  ${x?"bg-red-100 border-red-500 text-red-700 dark:bg-red-950 dark:border-red-400 dark:text-red-300":""}
                  ${d==="pending"?"bg-muted border-muted-foreground/25 text-muted-foreground":""}
                  transition-all duration-200
                `,children:i(n,d)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:198,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-3 text-center",children:[e.jsxDEV("span",{className:`text-sm font-medium ${c?"text-foreground":j?"text-green-700 dark:text-green-300":x?"text-red-700 dark:text-red-300":"text-muted-foreground"}`,children:n.title},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:211,columnNumber:19},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground mt-1",children:n.description},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:224,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:210,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:197,columnNumber:15},void 0),u<r.length-1&&e.jsxDEV("div",{className:`
                  w-16 h-0.5 mx-4 
                  ${u<r.findIndex(D=>D.id===s)?"bg-green-500":"bg-muted-foreground/25"}
                  transition-colors duration-200
                `},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:231,columnNumber:17},void 0)]},n.id,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:196,columnNumber:13},void 0)})},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:188,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:187,columnNumber:5},void 0)},Ci=({validationResults:s,fileName:a})=>{const{toast:t}=Pe();N.useState("empty"),N.useState(!1);const r=()=>{jt(async()=>{const n=[["Linha","Coluna","Tipo","Mensagem","Valor"].join(","),`"Resumo","Total: ${s.totalRows}","Válidos: ${s.validRows}","Erros: ${s.errors.length}","Avisos: ${s.warnings.length}"`,"",...s.errors.map(c=>[c.row,`"${c.column}"`,"Erro",`"${c.message}"`,`"${c.value||""}"`].join(",")),...s.warnings.map(c=>[c.row,`"${c.column}"`,"Aviso",`"${c.message}"`,`"${c.value||""}"`].join(","))].join(`
`),u=new Blob(["\uFEFF"+n],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");d.href=URL.createObjectURL(u),d.download=`relatorio-validacao-${a.replace(/\.[^/.]+$/,"")}-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(d),d.click(),document.body.removeChild(d),t({title:"Relatório CSV gerado",description:"Download iniciado com sucesso"})},"ImportModal.generateCSVReport")};return e.jsxDEV(ie,{children:[e.jsxDEV(ge,{children:[e.jsxDEV(we,{className:"flex items-center gap-2",children:[e.jsxDEV(Be,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:311,columnNumber:11},void 0),"Relatório de Validação"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:310,columnNumber:9},void 0),e.jsxDEV(es,{children:"Gere relatórios detalhados dos erros e avisos encontrados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:314,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:309,columnNumber:7},void 0),e.jsxDEV(ue,{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"text-center p-3 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-lg font-bold",children:s.totalRows.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:321,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Total de linhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:324,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:320,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsxDEV("div",{className:"text-lg font-bold text-green-600",children:s.validRows.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:327,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Linhas válidas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:330,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:326,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsxDEV("div",{className:"text-lg font-bold text-red-600",children:s.errors.length},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:333,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Erros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:336,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:332,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsxDEV("div",{className:"text-lg font-bold text-orange-600",children:s.warnings.length},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:339,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Avisos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:342,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:338,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:319,columnNumber:9},void 0),e.jsxDEV(S,{variant:"outline",onClick:r,className:"flex items-center gap-2",children:[e.jsxDEV(Kr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:351,columnNumber:11},void 0),"Exportar Relatório CSV"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:346,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:318,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:308,columnNumber:5},void 0)};function Pi(){const s=T(oi),a=T(v=>v.setIsImportModalOpen),{toast:t}=Pe(),[r,o]=N.useState("upload"),[i,n]=N.useState(null),[u,d]=N.useState(!1),[c,j]=N.useState(0),[x,D]=N.useState(null),[V,X]=N.useState(null),[f,K]=N.useState("empty"),[te,y]=N.useState(!1),[Q,ce]=N.useState(!1),ee=()=>{o("upload"),n(null),d(!1),j(0),D(null),X(null),K("empty"),y(!1)},W=!!i||r!=="upload";ki(W);const H=v=>{v?a(!0):W?ce(!0):(ee(),a(!1))},m=N.useCallback(v=>{const P=v[0];P&&(n(P),D(null),X(null),o("upload"),k(P))},[]),{getRootProps:l,getInputProps:p,isDragActive:w}=Ur({onDrop:m,accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-excel":[".xls"]},maxFiles:1}),k=v=>{d(!0),j(0);const P=setInterval(()=>{j(b=>b>=95?(clearInterval(P),95):b+Math.random()*15)},200);de(v)},z=v=>{const P=[];return v.forEach((b,_)=>{(!b.nome_testemunha||String(b.nome_testemunha).trim()==="")&&P.push({row:_+2,column:"Nome_Testemunha",message:"Nome_Testemunha é obrigatório",type:"error"});const U=Array.isArray(b.cnjs_como_testemunha)?b.cnjs_como_testemunha:wa(b.cnjs_como_testemunha);U.length||P.push({row:_+2,column:"CNJs_Como_Testemunha",message:"Lista de CNJs vazia",type:"error"}),U.some(ga)||P.push({row:_+2,column:"CNJs_Como_Testemunha",message:"Nenhum CNJ com 20 dígitos na lista",type:"error"})}),P},re=v=>{const P=[];return v.forEach((b,_)=>{(!b.cnj||!ga(b.cnj))&&P.push({row:_+2,column:"CNJ",message:"CNJ deve ter 20 dígitos (removendo máscara)",value:b.cnj,type:"error"}),(!b.reclamante_limpo||String(b.reclamante_limpo).trim()==="")&&P.push({row:_+2,column:"Reclamante_Limpo",message:"Reclamante_Limpo é obrigatório",type:"error"}),(!b.reu_nome||String(b.reu_nome).trim()==="")&&P.push({row:_+2,column:"Reu_Nome",message:"Reu_Nome é obrigatório",type:"error"})}),P},de=async v=>{await jt(async()=>{const{porProcesso:P,porTestemunha:b,errors:_,warnings:U}=await he(v),A=P.length+b.length,E=A-_.length;D({totalRows:A,validRows:E,errors:_,warnings:U||[],processos:P,testemunhas:b}),o("validation")},"ImportModal.processFileValidation").finally(()=>{d(!1),j(100)})},he=async v=>{const P=await ho(()=>import("./xlsx-PER9UG_v.js"),[]);return new Promise((b,_)=>{const U=new FileReader;U.onload=A=>{try{const E=new Uint8Array(A.target?.result),Y=P.read(E,{type:"array"}),R=Y.Sheets["Por Processo"],ae=Y.Sheets["Por Testemunha"];if(!R&&!ae)throw new Error('Arquivo deve conter ao menos uma aba: "Por Processo" ou "Por Testemunha".');const oe=[],G=[];let Z=[];if(R){const h=Da(R,P),{ok:q,missing:C}=Ea(h,yi);if(!q)throw new Error(`Modo Processo: faltam colunas: ${C.join(", ")}`);P.utils.sheet_to_json(R,{defval:""}).forEach(J=>{const pe=String(J.CNJ??"").trim(),Ne={cnj:pe,cnj_digits:Qs(pe),reclamante_limpo:J.Reclamante_Limpo,reu_nome:J.Reu_Nome,comarca:J.Comarca??"",fase:J.Fase??"",status:J.Status??""};oe.push(Ne)}),Z=Z.concat(re(oe))}if(ae){const h=Da(ae,P),{ok:q,missing:C}=Ea(h,Vi);if(!q)throw new Error(`Modo Testemunha: faltam colunas: ${C.join(", ")}`);P.utils.sheet_to_json(ae,{defval:""}).forEach(J=>{const pe=wa(J.CNJs_Como_Testemunha),Ne={nome_testemunha:J.Nome_Testemunha,cnjs_como_testemunha:pe};G.push(Ne)}),Z=Z.concat(z(G))}b({porProcesso:oe,porTestemunha:G,errors:Z})}catch(E){_(E)}},U.onerror=()=>_(new Error("Erro ao ler arquivo")),U.readAsArrayBuffer(v)})},O=async()=>{if(x){if(!navigator.onLine){K("offline"),y(!0);return}d(!0),j(0),o("publish"),K("loading");try{const v=setInterval(()=>{j(A=>A>=90?(clearInterval(v),90):A+Math.random()*10)},300),P=x.testemunhas.flatMap(A=>A.cnjs_como_testemunha.map(E=>({nome_testemunha:A.nome_testemunha,cnj:E,cnj_digits:Qs(E)}))),b={};x.processos.length&&(b.processos=x.processos),P.length&&(b.testemunhas=P);const{data:_,error:U}=await Re.functions.invoke("import-mapa-testemunhas",{body:b});if(j(100),U)throw U;X(_),K("success"),y(!1),t({title:"Importação concluída!",description:`${_?.upserts??0} registros processados com sucesso.`})}catch(v){console.error("Import error:",v),K(navigator.onLine?"error":"offline"),y(!0),t({title:"Erro na importação",description:v.message||"Ocorreu um erro durante a importação.",variant:"destructive"})}finally{d(!1),j(100)}}},se=()=>{a(!1),n(null),D(null),X(null),o("upload"),j(0)},M=()=>e.jsxDEV(ie,{children:[e.jsxDEV(ge,{children:[e.jsxDEV(we,{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(zs,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:718,columnNumber:13},this),"Upload de Arquivo Excel"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:717,columnNumber:11},this),e.jsxDEV(wi,{children:[e.jsxDEV(Di,{asChild:!0,children:e.jsxDEV(S,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:[e.jsxDEV(Jr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:728,columnNumber:17},this),"Precisa de ajuda?",e.jsxDEV(is,{className:"h-4 w-4 ml-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:730,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:723,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:722,columnNumber:13},this),e.jsxDEV(Ei,{className:"absolute z-10 mt-2 p-4 bg-background border rounded-lg shadow-lg max-w-md right-0",children:e.jsxDEV("div",{className:"space-y-3",children:e.jsxDEV(Se,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950",children:[e.jsxDEV(Ys,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:736,columnNumber:19},this),e.jsxDEV(Me,{className:"text-blue-800 dark:text-blue-200",children:[e.jsxDEV("strong",{children:"Formato requerido:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:738,columnNumber:21},this)," Arquivo Excel (.xlsx) com abas:",e.jsxDEV("br",{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:740,columnNumber:21},this),"• ",e.jsxDEV("strong",{children:"Por Processo:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:740,columnNumber:29},this)," CNJ, Reclamante_Limpo, Reu_Nome",e.jsxDEV("br",{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:742,columnNumber:21},this),"• ",e.jsxDEV("strong",{children:"Por Testemunha:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:742,columnNumber:29},this)," Nome_Testemunha, CNJs_Como_Testemunha"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:737,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:735,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:734,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:733,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:721,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:716,columnNumber:9},this),e.jsxDEV(es,{children:"Faça upload do arquivo Excel com os dados do mapa de testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:750,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:715,columnNumber:7},this),e.jsxDEV(ue,{children:[e.jsxDEV("div",{...l(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${w?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary"}`,children:[e.jsxDEV("input",{...p()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:763,columnNumber:11},this),e.jsxDEV(zs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:764,columnNumber:11},this),w?e.jsxDEV("p",{className:"text-lg",children:"Solte o arquivo aqui..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:766,columnNumber:13},this):e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-lg mb-2",children:"Arraste e solte o arquivo aqui"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:769,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mb-4",children:"ou clique para selecionar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:770,columnNumber:15},this),e.jsxDEV(S,{variant:"outline",children:"Selecionar Arquivo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:773,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:768,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:755,columnNumber:9},this),i&&e.jsxDEV("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:i.name},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:782,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[(i.size/1024/1024).toFixed(2)," MB • Excel"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:783,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:781,columnNumber:15},this),e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>{n(null),D(null),o("upload")},children:e.jsxDEV(Hr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:796,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:787,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:780,columnNumber:13},this),u&&e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV(ys,{value:c,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:802,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1 flex items-center gap-2",children:[e.jsxDEV(Gr,{className:"h-3 w-3 animate-pulse"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:804,columnNumber:19},this),c<95?`Enviando arquivo... ${Math.round(c)}%`:"Processando e validando dados..."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:803,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:801,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:779,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:754,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:714,columnNumber:5},this),ne=()=>e.jsxDEV(ie,{children:[e.jsxDEV(ge,{children:[e.jsxDEV(we,{className:"flex items-center gap-2",children:[e.jsxDEV(vs,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:821,columnNumber:11},this),"Validação e Normalização"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:820,columnNumber:9},this),e.jsxDEV(es,{children:"Verificando a qualidade e consistência dos dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:824,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:819,columnNumber:7},this),e.jsxDEV(ue,{children:x?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:x.totalRows?.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:840,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Linhas analisadas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:843,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:839,columnNumber:15},this),e.jsxDEV("div",{className:"text-center p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:x.validRows?.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:848,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Linhas válidas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:851,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:847,columnNumber:15},this),e.jsxDEV("div",{className:"text-center p-4 bg-red-50 dark:bg-red-950 rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:x.errors?.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:856,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Erros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:859,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:855,columnNumber:15},this),e.jsxDEV("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-950 rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:x.warnings?.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:862,columnNumber:17},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Avisos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:865,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:861,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:838,columnNumber:13},this),x.errors?.length===0&&x.validRows>0&&e.jsxDEV(Se,{className:"border-green-200 bg-green-50 dark:bg-green-950 dark:border-green-800",children:[e.jsxDEV(Fe,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:872,columnNumber:19},this),e.jsxDEV(Me,{className:"text-green-800 dark:text-green-200",children:["✅ Arquivo pronto para importação!"," ",x.validRows," registros serão processados."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:873,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:871,columnNumber:17},this),x.errors?.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h4",{className:"font-medium",children:"Erros Encontrados:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:882,columnNumber:17},this),x.errors.slice(0,5).map((v,P)=>e.jsxDEV(Se,{variant:"destructive",children:[e.jsxDEV(ds,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:887,columnNumber:23},this),e.jsxDEV(Me,{children:[e.jsxDEV("strong",{children:["Linha ",v.row,":"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:889,columnNumber:25},this)," ",v.message," (",v.column,")"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:888,columnNumber:23},this)]},P,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:886,columnNumber:21},this)),x.errors.length>5&&e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["... e mais ",x.errors.length-5," erros"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:895,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:881,columnNumber:15},this),(x.errors?.length>0||x.warnings?.length>0)&&e.jsxDEV(Ci,{validationResults:x,fileName:i?.name||"arquivo"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:904,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-2 justify-between",children:[e.jsxDEV(S,{variant:"outline",onClick:()=>o("upload"),children:"Voltar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:911,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-2",children:e.jsxDEV(S,{onClick:()=>o("preview"),disabled:x.validRows===0||(x.errors?.length||0)>0,children:x.errors?.length>0?"Corrigir Erros Primeiro":"Continuar para Prévia"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:918,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:917,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:910,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:837,columnNumber:11},this):e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(gs,{className:"h-8 w-8 animate-spin mx-auto mb-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:832,columnNumber:15},this),e.jsxDEV("p",{children:"Validando arquivo..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:833,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:831,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:830,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:828,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:818,columnNumber:5},this),I=()=>e.jsxDEV(ie,{children:[e.jsxDEV(ge,{children:[e.jsxDEV(we,{className:"flex items-center gap-2",children:[e.jsxDEV(Ue,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:941,columnNumber:11},this),"Prévia dos Dados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:940,columnNumber:9},this),e.jsxDEV(es,{children:"Visualização dos dados processados e normalizados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:944,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:939,columnNumber:7},this),e.jsxDEV(ue,{children:e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:x?.processos.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:952,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:955,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:951,columnNumber:13},this),e.jsxDEV("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:x?.testemunhas.length||0},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:958,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:961,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:957,columnNumber:13},this),e.jsxDEV("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxDEV("div",{className:"text-2xl font-bold",children:[x?Math.round(x.validRows/x.totalRows*100):0,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:964,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Taxa de sucesso"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:974,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:963,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:950,columnNumber:11},this),e.jsxDEV(Se,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950 dark:border-blue-800",children:[e.jsxDEV(Ue,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:981,columnNumber:13},this),e.jsxDEV(Me,{className:"text-blue-800 dark:text-blue-200",children:[e.jsxDEV("strong",{children:"Prévia da Importação:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:983,columnNumber:15},this)," ",x?.validRows||0," registros serão processados e inseridos no mapa de testemunhas."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:982,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:980,columnNumber:11},this),(x?.processos?.length??0)>0&&e.jsxDEV("div",{className:"border rounded-lg overflow-hidden",children:e.jsxDEV("table",{className:"w-full",children:[e.jsxDEV("thead",{className:"bg-muted",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-3 text-left",children:"CNJ"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:994,columnNumber:21},this),e.jsxDEV("th",{className:"p-3 text-left",children:"Reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:995,columnNumber:21},this),e.jsxDEV("th",{className:"p-3 text-left",children:"Réu"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:996,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:993,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:992,columnNumber:17},this),e.jsxDEV("tbody",{children:x?.processos?.slice(0,3).map((v,P)=>e.jsxDEV("tr",{className:"border-t",children:[e.jsxDEV("td",{className:"p-3 font-mono text-sm",children:v.cnj},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1004,columnNumber:25},this),e.jsxDEV("td",{className:"p-3",children:v.reclamante_limpo},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1007,columnNumber:25},this),e.jsxDEV("td",{className:"p-3",children:v.reu_nome},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1008,columnNumber:25},this)]},P,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1003,columnNumber:23},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:999,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:991,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:990,columnNumber:13},this),e.jsxDEV("div",{className:"flex gap-2 justify-between",children:[e.jsxDEV(S,{variant:"outline",onClick:()=>o("validation"),children:"Voltar para Validação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1017,columnNumber:13},this),e.jsxDEV(S,{onClick:O,className:"bg-green-600 hover:bg-green-700",disabled:(x?.errors?.length||0)>0,children:"Confirmar Importação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1023,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1016,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:949,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:948,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:938,columnNumber:5},this),B=()=>e.jsxDEV(ie,{children:[e.jsxDEV(ge,{children:[e.jsxDEV(we,{className:"flex items-center gap-2",children:[e.jsxDEV(Fe,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1040,columnNumber:11},this),"Importação"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1039,columnNumber:9},this),e.jsxDEV(es,{children:"Processamento dos dados no sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1043,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1038,columnNumber:7},this),e.jsxDEV(ue,{children:e.jsxDEV("div",{className:"space-y-4",children:V?e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(Se,{className:"border-green-200 bg-green-50 dark:bg-green-950",children:[e.jsxDEV(Fe,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1064,columnNumber:17},this),e.jsxDEV(Me,{className:"text-green-800 dark:text-green-200",children:[e.jsxDEV("strong",{children:"Importação concluída com sucesso!"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1066,columnNumber:19},this),e.jsxDEV("br",{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1067,columnNumber:19},this),"• Registros processados: ",V.upserts,V.errors?.length>0&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("br",{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1070,columnNumber:23},this),"• Erros: ",V.errors.length]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1069,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1065,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1063,columnNumber:15},this),e.jsxDEV(S,{className:"w-full",onClick:se,children:"Fechar"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1076,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1062,columnNumber:13},this):e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV(gs,{className:"h-8 w-8 animate-spin mx-auto mb-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1049,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium",children:"Importando dados..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1050,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Processando e inserindo registros no mapa de testemunhas."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1051,columnNumber:15},this),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV(ys,{value:c,className:"w-full"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1055,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:c<100?"Processando...":"Finalizando..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1056,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1054,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1048,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1046,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1045,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1037,columnNumber:5},this);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(yt,{open:s,onOpenChange:H,children:e.jsxDEV(sa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxDEV(Ct,{children:[e.jsxDEV(Pt,{className:"flex items-center gap-2",children:[e.jsxDEV(Xs,{className:"h-5 w-5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1092,columnNumber:15},this),"Importar Mapa de Testemunhas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1091,columnNumber:13},this),e.jsxDEV(Tt,{children:'Importe dados do Excel com as abas "Por Processo" e/ou "Por Testemunha"'},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1095,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1090,columnNumber:11},this),te&&e.jsxDEV(Se,{variant:"destructive",className:"mb-4",children:e.jsxDEV(Me,{children:"Integração CNJ indisponível"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1103,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1102,columnNumber:13},this),f!=="empty"&&f!=="success"&&e.jsxDEV(Ns,{status:f,onRetry:O},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1108,columnNumber:13},this),e.jsxDEV(_i,{currentStep:r,validationResults:x??void 0,isProcessing:u},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1111,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-6",children:[r==="upload"&&M(),r==="validation"&&ne(),r==="preview"&&I(),r==="publish"&&B()]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1117,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1089,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1088,columnNumber:7},this),e.jsxDEV(la,{open:Q,title:"Descartar alterações?",description:"Você possui alterações não salvas. Deseja realmente sair?",confirmText:"Sair",onConfirm:()=>{ce(!1),ee(),a(!1)},onCancel:()=>ce(!1)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1125,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ImportModal.tsx",lineNumber:1087,columnNumber:5},this)}const Ti=()=>{const s=T(t=>t.isPiiMasked),a=T(t=>t.setIsPiiMasked);return e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV(Ae,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:12,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(aa,{id:"mask-pii",checked:s,onCheckedChange:a},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:14,columnNumber:9},void 0),e.jsxDEV(ve,{htmlFor:"mask-pii",className:"text-sm font-medium cursor-pointer flex items-center gap-1",children:s?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(qs,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:25,columnNumber:15},void 0),"Mascarar PII"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:24,columnNumber:13},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ue,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:30,columnNumber:15},void 0),"Mostrar PII"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:29,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:19,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:13,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/MaskPIISwitch.tsx",lineNumber:11,columnNumber:5},void 0)};function Si(s){if(s.length!==18)throw new Error("CNJ without check digits must have exactly 18 digits");const a=[2,3,4,5,6,7,8,9,2,3,4,5,6,7,8,9,2,3];let t=0;const r=s.split("").map(Number);for(let n=0;n<r.length;n++)t+=r[n]*a[n];return(98-t%97).toString().padStart(2,"0")}function Mi(s){const a=s?.year||2018+Math.floor(Math.random()*8),t=s?.sequential||String(Math.floor(Math.random()*9999999)+1).padStart(7,"0"),r=s?.justice,o=s?.tribunal,i=s?.origin||String(Math.floor(Math.random()*9999)+1).padStart(4,"0"),n=t+a+r+o+i,u=Si(n);return`${t}-${u}.${a}.${r}.${o}.${i}`}function Ai(s,a=2024){const t=[];for(let o=0;o<s;o++){const i=String(1e6+o).padStart(7,"0");t.push(Mi({sequential:i,year:a,justice:"5",tribunal:"02",origin:String(1e3+o).padStart(4,"0")}))}return t}const Te=Ai(12,2024),Rn=[{Aba:"Por Processo",Campo:"CNJ",Tipo:"texto",Obrigatorio:"Sim",Regra:"String com 20 dígitos (preserva formato original). Validação interna remove pontuação.",Exemplo:Te[0]},{Aba:"Por Processo",Campo:"reclamante_nome",Tipo:"texto",Obrigatorio:"Sim (legado)",Regra:"Nome principal do reclamante (campo de compatibilidade)",Exemplo:"Ana Lima"},{Aba:"Por Processo",Campo:"reu_nome",Tipo:"texto",Obrigatorio:"Sim (legado)",Regra:"Nome do réu/empresa (campo de compatibilidade)",Exemplo:"Empresa XYZ Ltda"},{Aba:"Por Processo",Campo:"Status",Tipo:"texto",Obrigatorio:"Não",Regra:"Status atual do processo",Exemplo:"Em andamento"},{Aba:"Por Processo",Campo:"Fase",Tipo:"texto",Obrigatorio:"Não",Regra:"Fase processual atual",Exemplo:"Instrução"},{Aba:"Por Processo",Campo:"UF",Tipo:"texto",Obrigatorio:"Sim",Regra:"Sigla de 2 letras do estado",Exemplo:"SP"},{Aba:"Por Processo",Campo:"Comarca",Tipo:"texto",Obrigatorio:"Sim",Regra:"Nome da comarca",Exemplo:"São Paulo"},{Aba:"Por Processo",Campo:"Reclamantes",Tipo:"lista",Obrigatorio:"Sim",Regra:"Lista separada por ; (ponto e vírgula). Não usar []",Exemplo:"Ana Lima; Pedro Santos"},{Aba:"Por Processo",Campo:"Advogados_Ativo",Tipo:"lista",Obrigatorio:"Sim",Regra:"Lista separada por ; (primeiro é principal na UI)",Exemplo:"Dr. Xavier Silva; Dra. Yasmim Oliveira"},{Aba:"Por Processo",Campo:"Testemunhas_Ativo",Tipo:"lista",Obrigatorio:"Não",Regra:"Lista separada por ; ou — se vazio",Exemplo:"João Pereira; Carlos Costa"},{Aba:"Por Processo",Campo:"Testemunhas_Passivo",Tipo:"lista",Obrigatorio:"Não",Regra:"Lista separada por ; ou — se vazio",Exemplo:"Ana Silva"},{Aba:"Por Processo",Campo:"Todas_Testemunhas",Tipo:"lista",Obrigatorio:"Sim",Regra:"União de todas as testemunhas, separadas por ;",Exemplo:"João Pereira; Beatriz Nunes; Carlos Costa"},{Aba:"Por Processo",Campo:"Reclamante_Foi_Testemunha",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Processo",Campo:"Qtd_Reclamante_Testemunha",Tipo:"número",Obrigatorio:"Não",Regra:"Quantidade de vezes que reclamante foi testemunha",Exemplo:"1"},{Aba:"Por Processo",Campo:"CNJs_Reclamante_Testemunha",Tipo:"lista",Obrigatorio:"Não",Regra:"Lista de CNJs separados por ; ou — se vazio",Exemplo:`${Te[9]}`},{Aba:"Por Processo",Campo:"Reclamante_Testemunha_Polo_Passivo",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"false"},{Aba:"Por Processo",Campo:"CNJs_Passivo",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs onde reclamante foi testemunha do polo passivo",Exemplo:"—"},{Aba:"Por Processo",Campo:"Triangulacao_Confirmada",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Processo",Campo:"Desenho_Triangulacao",Tipo:"texto",Obrigatorio:"Não",Regra:"Padrão da triangulação (A→B→C→A) ou — se não houver",Exemplo:"A→B→C→A"},{Aba:"Por Processo",Campo:"CNJs_Triangulacao",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs envolvidos na triangulação, separados por ;",Exemplo:`${Te[1]}; ${Te[2]}; ${Te[3]}`},{Aba:"Por Processo",Campo:"Contem_Prova_Emprestada",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Processo",Campo:"Testemunhas_Prova_Emprestada",Tipo:"lista",Obrigatorio:"Não",Regra:"Nomes das testemunhas de prova emprestada, separados por ;",Exemplo:"João Pereira"},{Aba:"Por Processo",Campo:"Classificacao_Final",Tipo:"texto",Obrigatorio:"Não",Regra:"Classificação de risco (Risco Alto, Risco Médio, Risco Baixo)",Exemplo:"Risco Alto"},{Aba:"Por Processo",Campo:"Insight_Estrategico",Tipo:"texto",Obrigatorio:"Não",Regra:"Resumo dos principais achados",Exemplo:"Triangulação + prova emprestada"},{Aba:"Por Testemunha",Campo:"Nome_Testemunha",Tipo:"texto",Obrigatorio:"Sim",Regra:"Nome completo da testemunha",Exemplo:"João Pereira"},{Aba:"Por Testemunha",Campo:"Qtd_Depoimentos",Tipo:"número",Obrigatorio:"Sim",Regra:"Quantidade total de depoimentos",Exemplo:"12"},{Aba:"Por Testemunha",Campo:"CNJs_Como_Testemunha",Tipo:"lista",Obrigatorio:"Sim",Regra:"Lista de CNJs separados por ;",Exemplo:`${Te[0]}; ${Te[9]}`},{Aba:"Por Testemunha",Campo:"Ja_Foi_Reclamante",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"false"},{Aba:"Por Testemunha",Campo:"CNJs_Como_Reclamante",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs onde foi reclamante, separados por ; ou — se vazio",Exemplo:"—"},{Aba:"Por Testemunha",Campo:"Foi_Testemunha_Ativo",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Testemunha",Campo:"Foi_Testemunha_Passivo",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"false"},{Aba:"Por Testemunha",Campo:"CNJs_Passivo",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs onde foi testemunha do polo passivo",Exemplo:"—"},{Aba:"Por Testemunha",Campo:"Foi_Ambos_Polos",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"false"},{Aba:"Por Testemunha",Campo:"Participou_Troca_Favor",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Testemunha",Campo:"CNJs_Troca_Favor",Tipo:"lista",Obrigatorio:"Não",Regra:"Padrão CNJ_A↔CNJ_B ou lista separada por ;",Exemplo:`${Te[4]}↔${Te[5]}`},{Aba:"Por Testemunha",Campo:"Participou_Triangulacao",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Testemunha",Campo:"CNJs_Triangulacao",Tipo:"lista",Obrigatorio:"Não",Regra:"CNJs da triangulação, separados por ;",Exemplo:`${Te[1]}; ${Te[2]}; ${Te[3]}`},{Aba:"Por Testemunha",Campo:"E_Prova_Emprestada",Tipo:"boolean",Obrigatorio:"Não",Regra:"true/false",Exemplo:"true"},{Aba:"Por Testemunha",Campo:"Classificacao",Tipo:"texto",Obrigatorio:"Não",Regra:"ALTA, MÉDIA, BAIXA",Exemplo:"ALTA"},{Aba:"Por Testemunha",Campo:"Classificacao_Estrategica",Tipo:"texto",Obrigatorio:"Não",Regra:"CRÍTICO, ATENÇÃO, NORMAL",Exemplo:"CRÍTICO"}];function ye(s){if(!s||s.length===0)return"—";const a=s.map(t=>String(t).trim()).filter(t=>t.length>0);return a.length>0?a.join("; "):"—"}const Ri=s=>({CNJ:s.cnj||"—",Status:s.status||"—",Fase:s.fase||"—",UF:s.uf||"—",Comarca:s.comarca||"—",Reclamantes:s.reclamante_limpo||"—",Advogados_Ativo:ye(s.advogados_parte_ativa||[]),Testemunhas_Ativo:ye(s.testemunhas_ativo_limpo||[]),Testemunhas_Passivo:ye(s.testemunhas_passivo_limpo||[]),Todas_Testemunhas:ye(s.todas_testemunhas||[]),Reclamante_Foi_Testemunha:s.reclamante_foi_testemunha||!1,Qtd_Reclamante_Testemunha:s.qtd_vezes_reclamante_foi_testemunha||0,CNJs_Reclamante_Testemunha:ye(s.cnjs_em_que_reclamante_foi_testemunha||[]),Reclamante_Testemunha_Polo_Passivo:s.reclamante_testemunha_polo_passivo||!1,CNJs_Passivo:ye(s.cnjs_passivo||[]),Triangulacao_Confirmada:s.triangulacao_confirmada||!1,Desenho_Triangulacao:s.desenho_triangulacao||"—",CNJs_Triangulacao:ye(s.cnjs_triangulacao||[]),Contem_Prova_Emprestada:s.contem_prova_emprestada||!1,Testemunhas_Prova_Emprestada:ye(s.testemunhas_prova_emprestada||[]),Classificacao_Final:s.classificacao_final||"—",Insight_Estrategico:s.insight_estrategico||"—"}),Ii=s=>({Nome_Testemunha:s.nome_testemunha,Qtd_Depoimentos:s.qtd_depoimentos||0,CNJs_Como_Testemunha:ye(s.cnjs_como_testemunha||[]),Ja_Foi_Reclamante:s.ja_foi_reclamante||!1,CNJs_Como_Reclamante:ye(s.cnjs_como_reclamante||[]),Foi_Testemunha_Ativo:s.foi_testemunha_ativo||!1,Foi_Testemunha_Passivo:s.foi_testemunha_passivo||!1,CNJs_Passivo:ye(s.cnjs_passivo||[]),Foi_Ambos_Polos:s.foi_testemunha_em_ambos_polos||!1,Participou_Troca_Favor:s.participou_troca_favor||!1,CNJs_Troca_Favor:ye(s.cnjs_troca_favor||[]),Participou_Triangulacao:s.participou_triangulacao||!1,CNJs_Triangulacao:ye(s.cnjs_triangulacao||[]),E_Prova_Emprestada:s.e_prova_emprestada||!1,Classificacao:s.classificacao||"—",Classificacao_Estrategica:s.classificacao_estrategica||"—"}),Fi=s=>{if(!s)return"";const a=s.replace(/\D/g,"");return a.length===11?a.replace(/(\d{3})\d{6}(\d{2})/,"$1******$2"):a.length>=3?a.substring(0,2)+"*".repeat(Math.max(1,a.length-4))+a.slice(-2):"*".repeat(s.length)},Bi=s=>{if(!s)return"";const a=s.replace(/\D/g,"");return a.length===14?a.replace(/(\d{2})\d{9}(\d{4})/,"$1*********$2"):a.length>=6?a.substring(0,2)+"*".repeat(Math.max(1,a.length-6))+a.slice(-4):"*".repeat(s.length)},Oi=s=>{if(!s)return"";const[a,t]=s.split("@");if(!a||!t)return s;const r=Math.min(2,a.length);return`${a.substring(0,r)+"*".repeat(Math.max(1,a.length-r))}@${t}`},Li=s=>{if(!s)return"";const a=s.replace(/\D/g,"");return a.length>=8?a.length===11?a.replace(/(\d{2})(\d{1})\d{4}(\d{2})/,"($1) $2****-**$3"):a.length===10?a.replace(/(\d{2})\d{4}(\d{2})/,"($1) ****-**$2"):a.substring(0,2)+"*".repeat(a.length-4)+a.slice(-2):"*".repeat(s.length)},$i=s=>{if(!s)return"";const a=s.replace(/\D/g,"");return a.length>=4?s.replace(/\d/g,(t,r,o)=>{const i=o.substring(0,r+1).replace(/\D/g,"").length-1;return i===0||i===a.length-1?t:"*"}):s.replace(/\d/g,"*")},ts=s=>{if(!s)return"";let a=s;return a=a.replace(/\b\d{3}\.?\d{3}\.?\d{3}-?\d{2}\b/g,t=>Fi(t)),a=a.replace(/\b\d{2}\.?\d{3}\.?\d{3}\/?\d{4}-?\d{2}\b/g,t=>Bi(t)),a=a.replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,t=>Oi(t)),a=a.replace(/\(\d{2}\)?\s*\d{4,5}-?\d{4}\b/g,t=>Li(t)),a=a.replace(/\bOAB\/?\w{2}\s*\d+/gi,t=>$i(t)),a},zi=(s,a={})=>{const{filename:t=`processos-${new Date().toISOString().split("T")[0]}.csv`,maskPII:r=!1,selectedOnly:o=!1,selectedIds:i=[]}=a;let n=s;o&&i.length>0&&(n=s.filter(D=>i.includes(D.cnj)));const u=n.map(D=>{const V=Ri(D);return r?{...V,Reclamantes:ts(V.Reclamantes),Todas_Testemunhas:ts(V.Todas_Testemunhas),Insight_Estrategico:ts(V.Insight_Estrategico)}:V}),c="\uFEFF"+sr.unparse(u,{delimiter:",",header:!0}),j=new Blob([c],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");if(x.download!==void 0){const D=URL.createObjectURL(j);x.setAttribute("href",D),x.setAttribute("download",t),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)}return u.length},qi=(s,a={})=>{const{filename:t=`testemunhas-${new Date().toISOString().split("T")[0]}.csv`,maskPII:r=!1,selectedOnly:o=!1,selectedIds:i=[]}=a;let n=s;o&&i.length>0&&(n=s.filter(D=>i.includes(D.nome_testemunha)));const u=n.map(D=>{const V=Ii(D);return r?{...V,Nome_Testemunha:ts(V.Nome_Testemunha),CNJs_Como_Testemunha:ts(V.CNJs_Como_Testemunha),CNJs_Como_Reclamante:ts(V.CNJs_Como_Reclamante)}:V}),c="\uFEFF"+sr.unparse(u,{delimiter:",",header:!0}),j=new Blob([c],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");if(x.download!==void 0){const D=URL.createObjectURL(j);x.setAttribute("href",D),x.setAttribute("download",t),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)}return u.length},Ui=(s,a=!0)=>{const r=s*(a?500:350);return r<1024?`${r} bytes`:r<1024*1024?`${(r/1024).toFixed(1)} KB`:`${(r/(1024*1024)).toFixed(1)} MB`},Ji=(s,a=!1)=>s===0?{isValid:!1,message:a?"Nenhum registro selecionado para exportação.":"Nenhum registro encontrado para exportação.",maxRecords:5e3}:s>5e3?{isValid:!1,message:`Limite de exportação excedido. Máximo permitido: ${5e3.toLocaleString()} registros. ${a?"Selecione menos registros":"Aplique filtros para reduzir o resultado"}.`,maxRecords:5e3}:{isValid:!0,maxRecords:5e3},Hi=({data:s,fileName:a,disabled:t=!1})=>{const[r,o]=N.useState(!1),i=T(Yo),n=j=>j.length>0&&"cnj"in j[0]&&"reclamante_limpo"in j[0],u=async()=>{o(!0);try{const j=s.length,x=Ji(j,!1);if(!x.isValid){As.error("Erro na exportação",{description:x.message});return}let D=0;const V=n(s)?"processos.csv":"testemunhas.csv";if(n(s)){const X=s.map(f=>({cnj:f.cnj,status:f.status||null,uf:f.uf||null,comarca:f.comarca||null,fase:f.fase||null,reclamante_limpo:f.reclamante_limpo||null,advogados_parte_ativa:f.advogados_parte_ativa||null,testemunhas_ativo_limpo:f.testemunhas_ativo_limpo||null,testemunhas_passivo_limpo:f.testemunhas_passivo_limpo||null,todas_testemunhas:f.todas_testemunhas||null,reclamante_foi_testemunha:f.reclamante_foi_testemunha||null,qtd_vezes_reclamante_foi_testemunha:f.qtd_vezes_reclamante_foi_testemunha||null,cnjs_em_que_reclamante_foi_testemunha:f.cnjs_em_que_reclamante_foi_testemunha||null,reclamante_testemunha_polo_passivo:f.reclamante_testemunha_polo_passivo||null,cnjs_passivo:f.cnjs_passivo||null,troca_direta:f.troca_direta||null,desenho_troca_direta:f.desenho_troca_direta||null,cnjs_troca_direta:f.cnjs_troca_direta||null,triangulacao_confirmada:f.triangulacao_confirmada||null,desenho_triangulacao:f.desenho_triangulacao||null,cnjs_triangulacao:f.cnjs_triangulacao||null,testemunha_do_reclamante_ja_foi_testemunha_antes:f.testemunha_do_reclamante_ja_foi_testemunha_antes||null,qtd_total_depos_unicos:f.qtd_total_depos_unicos||null,cnjs_depos_unicos:f.cnjs_depos_unicos||null,contem_prova_emprestada:f.contem_prova_emprestada||null,testemunhas_prova_emprestada:f.testemunhas_prova_emprestada||null,classificacao_final:f.classificacao_final||null,insight_estrategico:f.insight_estrategico||null,org_id:f.org_id||null,created_at:f.created_at||new Date().toISOString(),updated_at:f.updated_at||new Date().toISOString()}));D=zi(X,{filename:a||V,maskPII:i,selectedOnly:!1,selectedIds:[]})}else{const X=s.map(f=>({nome_testemunha:f.nome_testemunha??"",qtd_depoimentos:f.qtd_depoimentos??0,foi_testemunha_em_ambos_polos:f.foi_testemunha_em_ambos_polos??!1,ja_foi_reclamante:f.ja_foi_reclamante??!1,participou_triangulacao:f.participou_triangulacao??!1,participou_troca_favor:f.participou_troca_favor??!1,classificacao:f.classificacao??null,classificacao_estrategica:f.classificacao_estrategica??null,cnjs_como_testemunha:f.cnjs_como_testemunha??null,cnjs_como_reclamante:f.cnjs_como_reclamante??null,foi_testemunha_ativo:f.foi_testemunha_ativo??null,cnjs_ativo:f.cnjs_ativo??null,foi_testemunha_passivo:f.foi_testemunha_passivo??null,cnjs_passivo:f.cnjs_passivo??null,cnjs_troca_favor:f.cnjs_troca_favor??null,cnjs_triangulacao:f.cnjs_triangulacao??null,e_prova_emprestada:f.e_prova_emprestada??null,org_id:f.org_id??null,created_at:f.created_at??new Date().toISOString(),updated_at:f.updated_at??new Date().toISOString()}));D=qi(X,{filename:a||V,maskPII:i,selectedOnly:!1,selectedIds:[]})}As.success("Exportação concluída!",{description:`${D} registros exportados com sucesso.`})}catch(j){console.error("Export error:",j),As.error("Erro na exportação",{description:"Não foi possível exportar os dados. Tente novamente."})}finally{o(!1)}},c=(()=>{const j=Math.min(s.length,5e3),x=n(s);return{count:j,size:Ui(j,x)}})();return e.jsxDEV(fs,{children:[e.jsxDEV(hs,{asChild:!0,children:e.jsxDEV(S,{variant:"outline",disabled:t||r||s.length===0,className:"gap-2","aria-label":"Exportar dados como CSV",children:[r?e.jsxDEV(os,{className:"h-4 w-4 animate-spin","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:183,columnNumber:13},void 0):e.jsxDEV(pt,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:185,columnNumber:13},void 0),"Exportar CSV"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:176,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:175,columnNumber:7},void 0),e.jsxDEV(ms,{align:"end",className:"w-56",children:[e.jsxDEV("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:e.jsxDEV("div",{className:"flex items-center gap-1 mb-1",children:[e.jsxDEV(Xs,{className:"h-3 w-3","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:193,columnNumber:13},void 0),"Exportar como CSV"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:192,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:191,columnNumber:9},void 0),e.jsxDEV(Hs,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:198,columnNumber:9},void 0),e.jsxDEV(Ze,{onClick:u,disabled:r,children:e.jsxDEV("div",{className:"w-full",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("span",{children:"Todos os registros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:203,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:c.count.toLocaleString()},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:204,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:202,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:c.size},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:208,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:201,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:200,columnNumber:9},void 0),s.length>5e3&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Hs,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:214,columnNumber:13},void 0),e.jsxDEV("div",{className:"px-3 py-2 text-xs text-warning",children:"⚠️ Máximo de 5.000 registros por exportação"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:215,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:213,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:190,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa/ExportCsvButton.tsx",lineNumber:174,columnNumber:5},void 0)};function Ws(s,a){const[t,r]=N.useState(s);return N.useEffect(()=>{const o=setTimeout(()=>{r(s)},a);return()=>{clearTimeout(o)}},[s,a]),t}const _s=s=>{if(!/^\d{4}-\d{2}-\d{2}$/.test(s))return!1;const a=new Date(s);return!isNaN(a.valueOf())},Is="mapa-testemunhas-processos",Fs="mapa-testemunhas-testemunhas",cr=ns({page:Ce.number().int().min(1).default(1),limit:Ce.number().int().min(1).max(1e3).default(20)}),Gi=ns({search:_e().trim().optional(),data_inicio:_e().trim().optional().refine(s=>!s||_s(s),{message:"data inválida"}),data_fim:_e().trim().optional().refine(s=>!s||_s(s),{message:"data inválida"}),uf:_e().trim().optional(),status:_e().trim().optional(),fase:_e().trim().optional(),testemunha:_e().trim().optional(),qtd_depoimentos_min:Ce.number().int().optional(),qtd_depoimentos_max:Ce.number().int().optional(),tem_triangulacao:Ce.boolean().optional(),tem_troca:Ce.boolean().optional(),tem_prova_emprestada:Ce.boolean().optional()}).superRefine((s,a)=>{s.data_inicio&&s.data_fim&&new Date(s.data_inicio)>new Date(s.data_fim)&&a.addIssue({code:Ds.custom,message:"data_inicio deve ser menor ou igual a data_fim",path:["data_inicio"]}),s.qtd_depoimentos_min!==void 0&&s.qtd_depoimentos_max!==void 0&&s.qtd_depoimentos_min>s.qtd_depoimentos_max&&a.addIssue({code:Ds.custom,message:"qtd_depoimentos_min deve ser menor ou igual a qtd_depoimentos_max",path:["qtd_depoimentos_min"]})}).default({}),Ki=ns({paginacao:cr.default({page:1,limit:20}),filtros:Gi}).default(()=>({paginacao:{page:1,limit:20},filtros:{}})),Qi=ns({nome:_e().trim().optional(),documento:_e().trim().optional(),search:_e().trim().optional(),data_inicio:_e().trim().optional().refine(s=>!s||_s(s),{message:"data inválida"}),data_fim:_e().trim().optional().refine(s=>!s||_s(s),{message:"data inválida"}),ambos_polos:Ce.boolean().optional(),ja_foi_reclamante:Ce.boolean().optional(),qtd_depoimentos_min:Ce.number().int().optional(),qtd_depoimentos_max:Ce.number().int().optional(),tem_triangulacao:Ce.boolean().optional(),tem_troca:Ce.boolean().optional()}).superRefine((s,a)=>{s.data_inicio&&s.data_fim&&new Date(s.data_inicio)>new Date(s.data_fim)&&a.addIssue({code:Ds.custom,message:"data_inicio deve ser menor ou igual a data_fim",path:["data_inicio"]}),s.qtd_depoimentos_min!==void 0&&s.qtd_depoimentos_max!==void 0&&s.qtd_depoimentos_min>s.qtd_depoimentos_max&&a.addIssue({code:Ds.custom,message:"qtd_depoimentos_min deve ser menor ou igual a qtd_depoimentos_max",path:["qtd_depoimentos_min"]})}).default({}),Wi=ns({paginacao:cr.default({page:1,limit:20}),filtros:Qi}).default(()=>({paginacao:{page:1,limit:20},filtros:{}}));ns({items:bo(jo()),page:Rs().int().min(1),limit:Rs().int().min(1).max(1e3),total:Rs().int().nonnegative(),next_cursor:xo().default(null),requestId:_e()});const Bs="assistjur_debug_mode",F={isEnabled(){return typeof window>"u"?!1:localStorage.getItem(Bs)==="true"},enable(){typeof window>"u"||(localStorage.setItem(Bs,"true"),console.log("🐛 Debug mode ATIVADO"))},disable(){typeof window>"u"||(localStorage.setItem(Bs,"false"),console.log("🐛 Debug mode DESATIVADO"))},toggle(){const s=!this.isEnabled();return s?this.enable():this.disable(),s},log(s,...a){this.isEnabled()&&console.log(`[DEBUG] ${s}`,...a)},warn(s,...a){this.isEnabled()&&console.warn(`[DEBUG] ${s}`,...a)},error(s,...a){this.isEnabled()?console.error(`[DEBUG] ${s}`,...a):console.error(s,...a)}};function dr(s){const a={temTriangulacao:"tem_triangulacao",temTroca:"tem_troca",temProvaEmprestada:"tem_prova_emprestada",qtdDeposMin:"qtd_depoimentos_min",qtdDeposMax:"qtd_depoimentos_max",ambosPolos:"ambos_polos",jaFoiReclamante:"ja_foi_reclamante"};return Object.fromEntries(Object.entries(s??{}).filter(([t,r])=>!(r==null||typeof r=="string"&&r.trim()==="")).map(([t,r])=>[a[t]??t,r]))}async function pr(s,a=3,t=1e3){let r=null;for(let o=0;o<a;o++)try{return await s()}catch(i){if(r=i,o<a-1){const n=t*Math.pow(2,o);console.warn(`Tentativa ${o+1} falhou, aguardando ${n}ms...`),await new Promise(u=>setTimeout(u,n))}}throw r}function ka(s,a){console.warn("⚠️ MODO FALLBACK: Usando dados mock para testemunhas (API não disponível)"),F.isEnabled()&&console.table({mode:"FALLBACK",type:"TESTEMUNHAS",page:s,limit:a});const t=[{nome_testemunha:"Maria Silva Santos",qtd_depoimentos:8,foi_testemunha_em_ambos_polos:!0,ja_foi_reclamante:!0,participou_triangulacao:!0,participou_troca_favor:!0,classificacao:"ALTO_RISCO"},{nome_testemunha:"João Paulo Oliveira",qtd_depoimentos:5,foi_testemunha_em_ambos_polos:!1,ja_foi_reclamante:!1,participou_triangulacao:!0,participou_troca_favor:!1,classificacao:"MEDIO_RISCO"},{nome_testemunha:"Ana Costa Ferreira",qtd_depoimentos:12,foi_testemunha_em_ambos_polos:!0,ja_foi_reclamante:!0,participou_triangulacao:!1,participou_troca_favor:!0,classificacao:"ALTO_RISCO"}],r=(s-1)*a,o=r+a;return{data:t.slice(r,o),total:t.length}}async function Zi(s){const a=Math.random().toString(36).substring(7),t=s.filters?.search;F.log(`🔍 [${a}] fetchTestemunhas iniciado`,{page:s.page,limit:s.limit,filters:s.filters,searchTerm:t,timestamp:new Date().toISOString()});try{const{data:r}=await Re.auth.getSession();if(!r?.session?.access_token)return F.error(`❌ [${a}] Usuário não autenticado`),ka(s.page||1,s.limit||20);F.log(`✅ [${a}] Sessão válida`,{userId:r.session.user?.id,hasToken:!!r.session.access_token});const o=dr(s.filters??{}),i={paginacao:{page:s.page||1,limit:s.limit||20},filtros:o};t&&console.log(`🎯 [${a}] SEARCH DETECTADO:`,{searchTerm:t,filtrosEnviados:i.filtros,hasSearchInFiltros:"search"in i.filtros||"nome"in i.filtros}),F.log(`📦 [${a}] Payload preparado`,i),Wi.parse(i);const n=await pr(async()=>{F.log(`🚀 [${a}] ===== CHAMANDO EDGE FUNCTION =====`),F.log(`🚀 [${a}] Function: ${Fs}`),F.log(`🚀 [${a}] URL: <<MANTER>>/functions/v1/${Fs}`),F.log(`🚀 [${a}] Body:`,i),F.log(`🚀 [${a}] Auth Token presente: ${!!r.session.access_token}`);const u=performance.now(),{data:d,error:c}=await Re.functions.invoke(Fs,{body:i}),j=performance.now()-u;if(F.log(`⏱️ [${a}] Tempo de resposta: ${j.toFixed(2)}ms`),c)throw F.error(`❌ [${a}] ===== ERRO NA EDGE FUNCTION =====`),F.error(`❌ [${a}] Error object:`,c),F.error(`❌ [${a}] Error message:`,c.message),F.error(`❌ [${a}] Error context:`,c.context),new Error(`Erro ao buscar testemunhas: ${c.message}`);if(!d||!d.items)return F.log(`✅ [${a}] ===== DATASET VAZIO (VÁLIDO) =====`),F.log(`✅ [${a}] Empty dataset (0 records) - this is valid, not an error`),{data:[],total:0};F.log(`✅ [${a}] ===== RESPOSTA RECEBIDA COM SUCESSO =====`),F.log(`✅ [${a}] Data structure:`,{hasData:!!d,dataKeys:d?Object.keys(d):[],itemsCount:d.items?.length||0,total:d.total,hasNextCursor:!!d.next_cursor});const x=d.items.map(D=>({nome_testemunha:D.nome_testemunha||"",qtd_depoimentos:Number(D.qtd_depoimentos)||0,foi_testemunha_em_ambos_polos:!!D.foi_testemunha_em_ambos_polos,ja_foi_reclamante:!!D.ja_foi_reclamante,participou_triangulacao:!!D.participou_triangulacao,participou_troca_favor:!!D.participou_troca_favor,classificacao:D.classificacao||null,classificacao_estrategica:D.classificacao_estrategica||null,cnjs_como_testemunha:D.cnjs_como_testemunha||null,cnjs_como_reclamante:D.cnjs_como_reclamante||null,foi_testemunha_ativo:!!D.foi_testemunha_ativo,cnjs_ativo:D.cnjs_ativo||null,foi_testemunha_passivo:!!D.foi_testemunha_passivo,cnjs_passivo:D.cnjs_passivo||null,cnjs_troca_favor:D.cnjs_troca_favor||null,cnjs_triangulacao:D.cnjs_triangulacao||null,e_prova_emprestada:!!D.e_prova_emprestada,org_id:D.org_id||null,created_at:D.created_at,updated_at:D.updated_at}));return F.log(`✅ [${a}] Transformed ${x.length} items`),x.length>0&&F.log(`✅ [${a}] Sample item:`,x[0]),{data:x,total:d.total||0}});return F.log(`🎉 [${a}] fetchTestemunhas concluído com sucesso`),n}catch(r){return F.error(`💥 [${a}] Erro fatal ao buscar testemunhas:`,r),{...ka(s.page||1,s.limit||20),error:r instanceof Error?r.message:"Erro desconhecido ao buscar testemunhas"}}}function Va(s,a){console.warn("⚠️ MODO FALLBACK: Usando dados mock para processos (API não disponível)"),F.isEnabled()&&console.table({mode:"FALLBACK",type:"PROCESSOS",page:s,limit:a});const t=[{cnj:"0001234-56.2024.5.02.0001",reclamante:"EMPRESA XYZ LTDA",reclamada:"FORNECEDOR ABC S.A.",testemunhas_ativo:["Maria Silva Santos","João Paulo Oliveira"],testemunhas_passivo:["Ana Costa Ferreira"],tem_triangulacao:!0,tem_troca:!0,tem_prova_emprestada:!1,comarca:"São Paulo",vara:"1ª Vara do Trabalho"},{cnj:"0007890-12.2024.5.02.0002",reclamante:"TECH SOLUTIONS LTDA",reclamada:"CLIENTE SERVIÇOS S.A.",testemunhas_ativo:["Ana Costa Ferreira"],testemunhas_passivo:["Maria Silva Santos","João Paulo Oliveira"],tem_triangulacao:!1,tem_troca:!0,tem_prova_emprestada:!0,comarca:"Rio de Janeiro",vara:"3ª Vara do Trabalho"}],r=(s-1)*a,o=r+a;return{data:t.slice(r,o),total:t.length}}async function Xi(s){const a=Math.random().toString(36).substring(7);F.log(`🔍 [${a}] fetchProcessos iniciado`,{page:s.page,limit:s.limit,filters:s.filters,timestamp:new Date().toISOString()});try{const{data:t}=await Re.auth.getSession();if(!t?.session?.access_token)return F.error(`❌ [${a}] Usuário não autenticado`),Va(s.page||1,s.limit||20);F.log(`✅ [${a}] Sessão válida`,{userId:t.session.user?.id,hasToken:!!t.session.access_token});const r=dr(s.filters),o={paginacao:{page:s.page||1,limit:s.limit||20},filtros:r};F.log(`📦 [${a}] Payload preparado`,o),Ki.parse(o);const i=await pr(async()=>{F.log(`🚀 [${a}] ===== CHAMANDO EDGE FUNCTION =====`),F.log(`🚀 [${a}] Function: ${Is}`),F.log(`🚀 [${a}] URL: <<MANTER>>/functions/v1/${Is}`),F.log(`🚀 [${a}] Body:`,o),F.log(`🚀 [${a}] Auth Token presente: ${!!t.session.access_token}`);const n=performance.now(),{data:u,error:d}=await Re.functions.invoke(Is,{body:o}),c=performance.now()-n;if(F.log(`⏱️ [${a}] Tempo de resposta: ${c.toFixed(2)}ms`),d)throw F.error(`❌ [${a}] ===== ERRO NA EDGE FUNCTION =====`),F.error(`❌ [${a}] Error object:`,d),F.error(`❌ [${a}] Error message:`,d.message),F.error(`❌ [${a}] Error context:`,d.context),new Error(`Erro ao buscar processos: ${d.message}`);if(!u||!u.items)return F.log(`✅ [${a}] ===== DATASET VAZIO (VÁLIDO) =====`),F.log(`✅ [${a}] Empty dataset (0 records) - this is valid, not an error`),{data:[],total:0};F.log(`✅ [${a}] ===== RESPOSTA RECEBIDA COM SUCESSO =====`),F.log(`✅ [${a}] Data structure:`,{hasData:!!u,dataKeys:u?Object.keys(u):[],itemsCount:u.items?.length||0,total:u.total,hasNextCursor:!!u.next_cursor});const j=Array.isArray(u.items)?u.items:[],x=isFinite(u.total)?u.total:j.length;return{data:j,total:x}});return F.log(`🎉 [${a}] fetchProcessos concluído com sucesso`),i}catch(t){return F.error(`💥 [${a}] Erro fatal ao buscar processos:`,t),{...Va(s.page||1,s.limit||20),error:t instanceof Error?t.message:"Erro desconhecido ao buscar processos"}}}function Os(s,a){if(!s||typeof s!="object")return 0;const r=a.filter(u=>{const d=s[u];return d!=null&&d!==""&&d!=="nan"}).length/a.length;let o=0;return o=["cnj","reclamante","status","classificacao"].filter(u=>a.includes(u)&&s[u]).length*.05,Math.min(1,r+o)}function Yi(s){return!s||s==="null"||s==="undefined"?"Em andamento":s}function en(s){return!s||s==="null"||s==="undefined"?"Normal":s}function sn(s){if(s.situacao)return{status:s.situacao,inferido:!1};if(s.categoria)return{status:s.categoria,inferido:!1};const a=(s.classificacao_final||"").toLowerCase();if(a.includes("descartar"))return{status:"Arquivado",inferido:!0};if(a.includes("conhecer"))return{status:"Aguardando movimentação",inferido:!0};const t=s.quantidade_movimentos||0,r=s.quantidade_documentos||0;return t===0&&r===0?{status:"Aguardando distribuição",inferido:!0}:t>10?{status:"Em fase instrutória",inferido:!0}:{status:"Em andamento",inferido:!0}}function ya(s){if(!s)return"Normal";const a=String(s).replace(/[\[\]]/g,"").trim().toLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)}function Ls(s,a,t){if(a!=null)return a>=85?"critico":a>=70?"alto":a>=50?"medio":"baixo";if(t){const o=t.toLowerCase();if(o.includes("triangulação")||o.includes("troca de favor"))return"critico";if(o.includes("já foi testemunha")||o.includes("ambos polos"))return"alto";if(o.includes("prova emprestada"))return"medio"}const r=en(s).toLowerCase();return r.includes("crítico")||r.includes("alto")?"alto":r.includes("médio")||r.includes("medio")?"medio":"baixo"}const an=s=>typeof s=="object"&&s!==null&&("status"in s||"message"in s);function tn(){const{toast:s}=Pe(),{error:a}=Ro(),{chatStatus:t,chatResult:r,agentOnline:o,selectedProcesso:i,selectedTestemunha:n,setChatStatus:u,setChatResult:d,addChatMessage:c,updateChatMessage:j,setAgentOnline:x}=T(),D=N.useCallback(f=>{switch(f){case"processo":return"process_analysis";case"testemunha":return"witness_analysis";case"reclamante":return"claimant_analysis";default:return"risk_analysis"}},[]),V=N.useCallback((f,K)=>[{type:"executive",title:"📌 Resumo Executivo",icon:"Sparkles",data:{cnj:K.match(/\d{7}-\d{2}\.\d{4}\.\d{1}\.\d{2}\.\d{4}/)?K:"1000000-09.2024.5.02.1000",reclamante:f==="reclamante"?K:"Maria Silva Santos",reu:"Empresa ABC Ltda",status:"Em andamento",observacoes:"Processo com potencial risco de triangulação detectado.",riscoNivel:"alto",confianca:.85,alerta:"Testemunhas conectadas em múltiplos processos"},meta:{status:"Em andamento",observacoes:"Processo com potencial risco de triangulação detectado.",riscoNivel:"alto",confidence:.85},citations:[{source:"por_processo",ref:"1000000-09.2024.5.02.1000"},{source:"por_testemunha",ref:"João Santos"}]},{type:"details",title:"📋 Análise Detalhada",icon:"FileText",data:{secoes:[{titulo:"Vínculos Identificados",conteudo:"Foram identificadas 3 testemunhas que aparecem em processos similares.",evidencias:["João Santos: 5 processos","Maria Oliveira: 3 processos"]},{titulo:"Padrões Temporais",conteudo:"Concentração de depoimentos entre Jan-Mar 2024.",evidencias:["Janeiro: 8 depoimentos","Fevereiro: 12 depoimentos"]}],textoOriginal:K}},{type:"alerts",title:"⚠️ Alertas Estratégicos",icon:"AlertTriangle",data:{suspiciousPatterns:["Triangulação detectada entre 3 testemunhas","Depoimentos com narrativas similares","Mesmo advogado em processos conexos"]}},{type:"strategies",title:"🎯 Polo Ativo & Estratégias",icon:"Target",data:{estrategias:[{texto:"Questionar vínculos entre testemunhas",prioridade:"ALTA"},{texto:"Investigar histórico de depoimentos",prioridade:"MÉDIA"}],proximosPassos:["Solicitar certidões de processos anteriores","Preparar questionário específico para audiência"]}}],[]);return{runAnalysis:N.useCallback(async(f,K)=>{if(!f.trim()){s({title:"Campo obrigatório",description:"Digite uma consulta para executar a análise.",variant:"destructive"});return}if(!o){s({title:"Agente indisponível",description:"O assistente está temporariamente em manutenção.",variant:"destructive"});return}u("loading"),s({title:"Análise iniciada",description:"Processando sua consulta..."});const te=c({role:"assistant",content:"",blocks:[]});try{const y={message:f,queryType:D(K)};if(i&&(K==="processo"||f.match(/\d{7}-\d{2}\.\d{4}\.\d\.\d{2}\.\d{4}/))){const m=sn(i),l=ya(i.classificacao_final),p=Ls(i.classificacao_final,i.score_risco,i.insight_estrategico),w=Os(i,["cnj","reclamante_nome","reu_nome","status","classificacao_final"]);y.context={type:"processo",data:{cnj:i.cnj||i.numero_cnj,reclamante:i.reclamante_nome,reu:i.reu_nome,status:m.status,statusInferido:m.inferido,fase:i.fase,uf:i.uf,comarca:i.comarca,testemunhas_ativo:i.testemunhas_ativo,testemunhas_passivo:i.testemunhas_passivo,classificacao:l,classificacao_final:i.classificacao_final,score_risco:i.score_risco,insight_estrategico:i.insight_estrategico,riscoNivel:p},meta:{status:m.status,statusInferido:m.inferido,classificacao:l,riscoNivel:p,confidence:w}}}else if(n&&K==="testemunha"){const m=ya(n.classificacao_final),l=Ls(n.classificacao_final,n.score_risco,null),p=Os(n,["nome_testemunha","qtd_depoimentos","classificacao_final"]);y.context={type:"testemunha",data:{nome:n.nome_testemunha,qtd_depoimentos:n.qtd_depoimentos,processos_cnj:n.processos_cnj,foi_testemunha_em_ambos_polos:n.foi_testemunha_em_ambos_polos,ja_foi_reclamante:n.ja_foi_reclamante,classificacao_final:m,score_risco:n.score_risco},meta:{status:n.foi_testemunha_em_ambos_polos?"Ativo em ambos polos":"Normal",statusInferido:!1,classificacao:m,riscoNivel:l,confidence:p}}}console.log("🚀 [PAYLOAD] Enviando para chat-legal:",{message:y.message,queryType:y.queryType,hasContext:!!y.context,contextType:y.context?.type,hasMeta:!!y.context?.meta,meta:y.context?.meta,dataKeys:y.context?.data?Object.keys(y.context.data):[]});const{data:Q,error:ce}=await Re.functions.invoke("chat-legal",{body:y});if(ce){if(an(ce)&&(ce.status===402||ce.message?.includes("Workspace out of credits"))){const m=`https://${vo()}.functions.supabase.co/chat-legal`;console.warn(`Lovable API ${ce.status} at ${m}`),a("Limite de créditos atingido","As funções de chat/assistente estão temporariamente indisponíveis. Tente novamente mais tarde.",{duration:void 0}),x(!1),j(te,{content:"Créditos esgotados. Função indisponível."}),u("error");return}throw ce}const ee=Q?.data||Q?.content||"";console.log("🔍 [FRONTEND] Raw AI Response type:",typeof ee),console.log("🔍 [FRONTEND] Response length:",ee.length),console.log("🔍 [FRONTEND] First 300 chars:",ee.substring(0,300));let W=[];try{const m=JSON.parse(ee);console.log("✅ [FRONTEND] Parsed JSON, type:",typeof m),m.blocks&&Array.isArray(m.blocks)?(W=m.blocks,console.log("✅ [FRONTEND] Extracted blocks array with",W.length,"items")):Array.isArray(m)&&m.length>0?(W=m,console.log("✅ [FRONTEND] Direct array with",W.length,"blocks")):m.type?(W=[m],console.log("✅ [FRONTEND] Single block object")):console.warn("⚠️ [FRONTEND] Parsed JSON but unexpected structure:",Object.keys(m))}catch(m){console.error("❌ [FRONTEND] JSON parse failed:",m);try{const l=ee.match(/\{[\s\S]*"blocks"[\s\S]*\}/);l&&(W=JSON.parse(l[0]).blocks||[],console.log("✅ [FRONTEND] Extracted blocks from text:",W.length))}catch(l){console.error("❌ [FRONTEND] Extraction failed:",l)}}(!W||W.length===0)&&(console.log("🔧 [FRONTEND] Gerando fallback blocks para input:",f),W=[{type:"executive",title:"📊 Resumo Executivo",icon:"FileText",data:{cnj:f.match(/\d{7}-\d{2}\.\d{4}\.\d\.\d{2}\.\d{4}/)?f:"0000000-00.0000.0.00.0000",reclamante:i?.reclamante_nome||"Aguardando dados...",reu:i?.reu_nome||"Aguardando dados...",status:Yi(i?.status),observacoes:i?.observacoes||`Análise iniciada para: ${f.substring(0,100)}${f.length>100?"...":""}`,riscoNivel:Ls(i?.classificacao_final,i?.score_risco),confianca:i?Os(i,["cnj","reclamante_nome","reu_nome","status"]):.5,alerta:void 0,citacoes:[]}},{type:"details",title:"🔍 Análise Detalhada",icon:"Search",data:{secoes:[{titulo:"Informações Disponíveis",conteudo:`Consulta realizada: ${f}`,evidencias:[]},{titulo:"Análise",conteudo:"Aguardando processamento completo pelo sistema. Por favor, tente novamente em alguns instantes.",evidencias:[]},{titulo:"Recomendações",conteudo:"Ações sugeridas:",evidencias:["Verificar se os dados estão disponíveis no sistema","Confirmar formato da consulta (CNJ, nome, etc)","Aguardar alguns instantes e tentar novamente"]}]}}],console.log("✅ [FRONTEND] Fallback blocks gerados:",W.length));const H=W.map(m=>({...m,context:y.context,meta:y.context?.meta}));j(te,{content:H.length>0?"Análise concluída":ee,blocks:H}),d(H),u("success"),s({title:"Análise concluída",description:`Análise ${K==="processo"?"por processo":K==="testemunha"?"por testemunha":"por reclamante"} executada com sucesso.`})}catch(y){console.error("Error in analysis:",y),j(te,{content:"Erro ao executar análise. Tente novamente."}),u("error"),s({title:"Erro na análise",description:y instanceof Error?y.message:"Erro desconhecido ao executar análise.",variant:"destructive"})}},[o,D,V,u,d,c,j,s,a,x]),chatStatus:t,chatResult:r,agentOnline:o}}function rn(s,a="all",t=!0){const r=Ws(s,250);return Qr({queryKey:["unified-search",r,a],queryFn:async()=>{if(!r||r.length<2)return{query:r,parsed:r,filters:{},scope:a,results:[],total:0};const{data:o,error:i}=await Re.functions.invoke("search",{body:{q:r,scope:a,limit:20}});if(i)throw i;return o},enabled:t&&r.length>=2,staleTime:3e4})}const _a={process:"Processo",witness:"Testemunha",claimant:"Reclamante",lawyer:"Advogado",comarca:"Comarca"},on={process:"bg-blue-500/10 text-blue-700 dark:text-blue-300",witness:"bg-purple-500/10 text-purple-700 dark:text-purple-300",claimant:"bg-green-500/10 text-green-700 dark:text-green-300",lawyer:"bg-orange-500/10 text-orange-700 dark:text-orange-300",comarca:"bg-gray-500/10 text-gray-700 dark:text-gray-300"},nn=[{scope:"all",label:"Tudo",icon:rs},{scope:"process",label:"Processos",icon:Be},{scope:"witness",label:"Testemunhas",icon:ps},{scope:"claimant",label:"Reclamantes",icon:ws}],mn={process:Be,witness:ps,claimant:ws,lawyer:ws,comarca:Zr};function ln(){const s=N.useRef(null),[a,t]=N.useState(!1),[r,o]=N.useState("all"),[i,n]=N.useState(""),[u,d]=N.useState(!1),[c,j]=N.useState(0),x=ea(),{toast:D}=Pe(),{chatKind:V,chatStatus:X,agentOnline:f,selectedProcesso:K,selectedTestemunha:te,setChatInput:y,setChatKind:Q,setSelectedProcesso:ce,setSelectedTestemunha:ee,processos:W,testemunhas:H}=T(),{runAnalysis:m}=tn(),l=i,{data:p,isLoading:w}=rn(l,r,a&&l.length>=2),k=["Digite um nome... Ex: João Silva","Busque por CNJ... Ex: 0001234-56.2024.5.02.0001","Use operadores... Ex: risco:alto uf:RS","Filtros avançados... Ex: depoimentos:>3 comarca:POA"];N.useEffect(()=>{const b=setInterval(()=>{j(_=>(_+1)%k.length)},3e3);return()=>clearInterval(b)},[]);const z=k[c];N.useEffect(()=>{/\d{7}-\d{2}\.\d{4}\.\d{1}\.\d{2}\.\d{4}/.test(i)&&(o("process"),Q("processo"))},[i,Q]),N.useEffect(()=>{i.length>=2?t(!0):t(!1)},[i]),N.useEffect(()=>{const b=_=>{_.key==="k"&&_.ctrlKey&&(_.preventDefault(),s.current?.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[]);const re=b=>{switch(t(!1),n(b.title),y(b.title),b.type){case"process":{const _=W.find(U=>U.cnj===b.title||U.numero_cnj===b.title);_&&(ce(_),D({title:"Processo selecionado",description:_.cnj||_.numero_cnj})),Q("processo"),x(`/mapa-testemunhas?tab=processos&cnj=${encodeURIComponent(b.title)}`);break}case"witness":{const _=H.find(U=>U.nome_testemunha?.toLowerCase()===b.title.toLowerCase());_&&(ee(_),D({title:"Testemunha selecionada",description:_.nome_testemunha})),Q("testemunha"),x(`/mapa-testemunhas?tab=testemunhas&nome=${encodeURIComponent(b.title)}`);break}case"claimant":{Q("reclamante"),x(`/mapa-testemunhas?tab=processos&reclamante=${encodeURIComponent(b.title)}`);break}}},de=(b,_)=>{_.stopPropagation(),navigator.clipboard.writeText(b),D({title:"CNJ copiado",description:b})},he=()=>{ce(null),ee(null),y(""),n("")},O=K||te,se=K?`Processo: ${K.cnj||K.numero_cnj}`:te?`Testemunha: ${te.nome_testemunha}`:null,M=async()=>{if(!i.trim()||v||!f)return;t(!1),y(i);const b=V||(r==="process"?"processo":r==="witness"?"testemunha":"reclamante");Q(b),await m(i.trim(),b)},ne=b=>{b.key==="Enter"&&(b.ctrlKey||b.metaKey)&&(b.preventDefault(),M())},I=p&&p.results.length>0,B=p?.isAmbiguous||!1,v=B&&i.length>=2,P=i.trim().length>0&&!v&&f;return e.jsxDEV("div",{className:"w-full mx-auto max-w-7xl p-6 space-y-6",children:[!u&&e.jsxDEV(Se,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",children:[e.jsxDEV(Le,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:255,columnNumber:11},this),e.jsxDEV(Me,{className:"flex items-center justify-between gap-4",children:[e.jsxDEV("span",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsxDEV("strong",{className:"font-semibold",children:"Conteúdo assistivo."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:258,columnNumber:15},this)," ","Revisão humana obrigatória. Dados tratados conforme LGPD."," ",e.jsxDEV("a",{href:"/privacy",className:"underline hover:no-underline",children:"Política de Privacidade"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:260,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:257,columnNumber:13},this),e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>d(!0),className:"shrink-0 hover:bg-yellow-100 dark:hover:bg-yellow-900/30",children:e.jsxDEV(Qe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:270,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:264,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:256,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:254,columnNumber:9},this),B&&p?.suggestions&&e.jsxDEV(Se,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsxDEV(Ys,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:279,columnNumber:11},this),e.jsxDEV(Me,{children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:p.suggestions.message},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:282,columnNumber:15},this),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Object.entries(p.suggestions.counts).map(([b,_])=>e.jsxDEV(L,{variant:"secondary",className:"text-xs",children:[b,": ",_]},b,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:288,columnNumber:21},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:281,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:280,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:278,columnNumber:9},this),O&&se&&e.jsxDEV("div",{className:"flex items-center gap-2 bg-primary/10 border border-primary/20 rounded-lg px-4 py-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[e.jsxDEV(L,{variant:"default",className:"gap-1.5 text-xs",children:[K&&e.jsxDEV(Be,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:303,columnNumber:34},this),te&&e.jsxDEV(ps,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:304,columnNumber:36},this),"Contexto Selecionado"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:302,columnNumber:11},this),e.jsxDEV("span",{className:"text-sm font-medium text-foreground flex-1",children:se},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:307,columnNumber:11},this),e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:he,className:"h-7 px-2 hover:bg-destructive/10 gap-1.5",children:[e.jsxDEV(Qe,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:316,columnNumber:13},this),e.jsxDEV("span",{className:"text-xs",children:"Limpar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:317,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:310,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:301,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsxDEV(rs,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:327,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:326,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold",children:"Busca Inteligente Unificada"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:330,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Pesquise por processo, testemunha ou reclamante em um único lugar"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:333,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:329,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:325,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:f?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Fe,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:344,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Online"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:345,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:343,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Wr,{className:"h-4 w-4 text-orange-500"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:349,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Manutenção"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:350,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:348,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:341,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:324,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-2 flex-wrap",children:nn.map(b=>{const _=b.icon;return e.jsxDEV(S,{variant:r===b.scope?"default":"outline",size:"sm",onClick:()=>o(b.scope),className:"gap-2 h-8 transition-all hover:scale-105",children:[e.jsxDEV(_,{className:"h-3.5 w-3.5",strokeWidth:1.5},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:370,columnNumber:17},this),b.label]},b.scope,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:363,columnNumber:15},this)})},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:359,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:323,columnNumber:7},this),e.jsxDEV("div",{className:"relative",children:e.jsxDEV(vt,{open:a,onOpenChange:t,children:[e.jsxDEV(gt,{asChild:!0,children:e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg blur-sm group-hover:blur-md transition-all opacity-0 group-hover:opacity-100"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:383,columnNumber:15},this),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(rs,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none z-10"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:385,columnNumber:17},this),e.jsxDEV(He,{ref:s,value:i,onChange:b=>n(b.target.value),onKeyDown:ne,placeholder:z,className:"pl-12 pr-12 h-14 text-base border-2 focus:border-primary/50 transition-all shadow-sm hover:shadow-md"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:386,columnNumber:17},this),i&&e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>n(""),className:"absolute right-2 top-1/2 -translate-y-1/2 h-9 w-9 p-0 rounded-full hover:bg-destructive/10",children:e.jsxDEV(Qe,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:401,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:395,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:384,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:382,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:381,columnNumber:11},this),e.jsxDEV(wt,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",onOpenAutoFocus:b=>b.preventDefault(),children:e.jsxDEV(na,{children:e.jsxDEV(Rt,{children:[w&&e.jsxDEV("div",{className:"flex items-center justify-center py-6",children:e.jsxDEV(os,{className:"h-5 w-5 animate-spin text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:417,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:416,columnNumber:19},this),!w&&I&&e.jsxDEV(e.Fragment,{children:[B&&p?.suggestions&&e.jsxDEV("div",{className:"px-3 py-2 border-b bg-muted/50",children:e.jsxDEV("p",{className:"text-xs font-medium text-foreground",children:p.suggestions.message},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:425,columnNumber:25},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:424,columnNumber:23},this),["process","witness","claimant"].map(b=>{const _=p.results.filter(E=>E.type===b);if(_.length===0)return null;const U=mn[b],A=_a[b];return e.jsxDEV(Ft,{heading:e.jsxDEV("div",{className:"flex items-center justify-between w-full pr-2",children:[e.jsxDEV("span",{children:A},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:446,columnNumber:31},this),e.jsxDEV(L,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:_.length},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:447,columnNumber:31},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:445,columnNumber:29},this),children:_.map(E=>e.jsxDEV(Bt,{onSelect:()=>re(E),className:g("flex items-start gap-3 py-3 cursor-pointer transition-colors",B&&"hover:bg-blue-50 dark:hover:bg-blue-950/30"),children:[e.jsxDEV("div",{className:"mt-0.5",children:e.jsxDEV(U,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:467,columnNumber:33},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:466,columnNumber:31},this),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV("span",{className:"font-medium truncate",children:E.title},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:472,columnNumber:35},this),e.jsxDEV(L,{variant:"secondary",className:`text-[10px] px-1.5 py-0 ${on[E.type]}`,children:_a[E.type]},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:475,columnNumber:35},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:471,columnNumber:33},this),E.subtitle&&e.jsxDEV("p",{className:"text-xs text-muted-foreground truncate",children:E.subtitle},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:484,columnNumber:35},this),E.type==="process"&&E.meta&&e.jsxDEV("div",{className:"flex items-center gap-2 mt-1 text-[10px] text-muted-foreground",children:[E.meta.status&&e.jsxDEV("span",{children:["Status: ",E.meta.status]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:492,columnNumber:39},this),E.meta.comarca&&e.jsxDEV("span",{children:["· ",E.meta.comarca]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:495,columnNumber:39},this),E.meta.classificacao&&e.jsxDEV(L,{variant:"outline",className:"text-[9px] px-1 py-0",children:E.meta.classificacao},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:498,columnNumber:39},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:490,columnNumber:35},this),E.type==="witness"&&E.meta&&e.jsxDEV("div",{className:"flex items-center gap-2 mt-1 text-[10px]",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:[E.meta.depoimentos," depoimentos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:510,columnNumber:37},this),E.meta.ambosPoles&&e.jsxDEV(L,{variant:"destructive",className:"text-[9px] px-1 py-0",children:"⚠ Ambos polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:514,columnNumber:39},this),E.meta.classificacao&&e.jsxDEV(L,{variant:"outline",className:"text-[9px] px-1 py-0",children:E.meta.classificacao},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:522,columnNumber:39},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:509,columnNumber:35},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:470,columnNumber:31},this),e.jsxDEV("div",{className:"flex items-center gap-1",children:[E.type==="process"&&e.jsxDEV(S,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",onClick:Y=>de(E.title,Y),title:"Copiar CNJ",children:e.jsxDEV(We,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:544,columnNumber:37},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:535,columnNumber:35},this),e.jsxDEV(S,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted",title:"Abrir detalhes",children:e.jsxDEV(Us,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:553,columnNumber:35},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:547,columnNumber:33},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:533,columnNumber:31},this)]},E.id,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:457,columnNumber:29},this))},b,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:442,columnNumber:25},this)})]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:422,columnNumber:19},this),!w&&!I&&i.length>=2&&e.jsxDEV(It,{children:e.jsxDEV("div",{className:"text-center py-6",children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Nenhum resultado encontrado."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:567,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:["Tente operadores:"," ",e.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"p:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:572,columnNumber:25},this)," ",e.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"w:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:573,columnNumber:25},this)," ",e.jsxDEV("code",{className:"bg-muted px-1 rounded",children:"uf:RS"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:574,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:570,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:566,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:565,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:414,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:413,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:408,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:380,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:379,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center justify-between gap-4 pt-2",children:[e.jsxDEV("div",{className:"flex-1 flex items-center gap-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-xs text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-lg",children:[e.jsxDEV(Xr,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:589,columnNumber:13},this),e.jsxDEV("span",{children:[e.jsxDEV("kbd",{className:"px-1.5 py-0.5 text-xs rounded bg-background shadow-sm",children:"Ctrl"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:591,columnNumber:15},this),e.jsxDEV("span",{className:"mx-1",children:"+"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:594,columnNumber:15},this),e.jsxDEV("kbd",{className:"px-1.5 py-0.5 text-xs rounded bg-background shadow-sm",children:"K"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:595,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:590,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:588,columnNumber:11},this),i.length>0&&e.jsxDEV("div",{className:"text-xs text-muted-foreground flex items-center gap-1.5 animate-in fade-in slide-in-from-left-2 duration-300",children:[e.jsxDEV("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500 animate-pulse"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:602,columnNumber:15},this),l.length>=2?`${p?.total||0} resultados`:"Digite para buscar"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:601,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:587,columnNumber:9},this),e.jsxDEV(S,{onClick:M,disabled:!P||X==="loading",size:"lg",className:g("gap-2 min-w-[180px] shadow-md hover:shadow-lg transition-all hover:scale-105 font-semibold",O&&"bg-primary/90 hover:bg-primary ring-2 ring-primary/20"),children:X==="loading"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(os,{className:"h-5 w-5 animate-spin",strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:622,columnNumber:15},this),e.jsxDEV("span",{children:"Analisando dados..."},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:623,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:621,columnNumber:13},this):v?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ds,{className:"h-5 w-5",strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:627,columnNumber:15},this),e.jsxDEV("span",{children:"Refinar busca"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:628,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:626,columnNumber:13},this):O?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Js,{className:"h-5 w-5",strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:632,columnNumber:15},this),e.jsxDEV("span",{children:"⚡ Análise Contextual"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:633,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:631,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Js,{className:"h-5 w-5",strokeWidth:2},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:637,columnNumber:15},this),e.jsxDEV("span",{children:"⚡ Executar Análise"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:638,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:636,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:610,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:586,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ChatBar.tsx",lineNumber:251,columnNumber:5},this)}function xs({label:s,value:a,type:t="default"}){const r=()=>{switch(t){case"reclamante":return"text-blue-700 font-medium";case"reu":return"text-red-700 font-medium";case"status":return"text-green-700";case"observacoes":return"text-muted-foreground text-sm";default:return"text-foreground"}},o=()=>{switch(t){case"status":return a.toLowerCase().includes("ativo")?"default":"secondary";default:return"outline"}};return e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:s},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:37,columnNumber:7},this),e.jsxDEV("div",{className:g("font-medium",r()),children:t==="status"&&a!=="Não informado"?e.jsxDEV(L,{variant:o(),className:"text-xs",children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:42,columnNumber:11},this):e.jsxDEV("span",{children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:46,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/KeyValue.tsx",lineNumber:36,columnNumber:5},this)}function un({cnj:s,reclamante:a,reu:t,status:r="Não informado",observacoes:o="Sem observações registradas",riscoNivel:i,confianca:n,alerta:u,citacoes:d}){console.log("📊 [ExecutiveSummaryCard] Props recebidas:",{cnj:s,status:r,observacoes:o,riscoNivel:i,confianca:typeof n=="number"?`${n}%`:n,hasObservacoes:!!o&&o!=="Sem observações registradas",hasStatus:!!r&&r!=="Não informado",isDefaultData:r==="Não informado"&&o==="Sem observações registradas"});const{toast:c}=Pe(),[j,x]=N.useState(!1),D=typeof n=="number"&&!isNaN(n)&&isFinite(n)?Math.max(0,Math.min(1,n)):0,V=Math.round(D*100),X=3,f=d.length>X,K=j?d:d.slice(0,X),te=d.length-X,y=async()=>{const ee=`Resumo Executivo - ${s}

Reclamante: ${a}
Réu: ${t}
Status: ${r}
Observações: ${o}

Risco: ${i.toUpperCase()}
Confiança: ${V}%
${u?`Alerta: ${u}`:""}

Citações:
${d.map(W=>`• ${W.label}`).join(`
`)}`;try{await navigator.clipboard.writeText(ee),c({title:"Copiado!",description:"Resumo executivo copiado para a área de transferência."})}catch{c({title:"Erro ao copiar",description:"Não foi possível copiar o conteúdo.",variant:"destructive"})}},Q=()=>{window.print(),c({title:"PDF",description:"Abrindo diálogo de impressão..."})},ce=()=>{const ee={cnj:s,reclamante:a,reu:t,status:r,observacoes:o,riscoNivel:i,confianca:n,alerta:u,citacoes:d},W=new Blob([JSON.stringify(ee,null,2)],{type:"application/json"}),H=URL.createObjectURL(W),m=document.createElement("a");m.href=H,m.download=`resumo-executivo-${s.replace(/[^\w]/g,"-")}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(H),c({title:"JSON exportado",description:"Arquivo JSON baixado com sucesso."})};return e.jsxDEV(ie,{className:"rounded-2xl border-border/50 transition-shadow hover:shadow-sm","aria-labelledby":"executive-summary",children:[e.jsxDEV(ge,{className:"pb-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(we,{id:"executive-summary",className:"text-base font-semibold flex items-center gap-2",children:[e.jsxDEV(Js,{className:"h-4 w-4 text-violet-600","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:169,columnNumber:13},this),"Resumo Executivo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:165,columnNumber:11},this),e.jsxDEV(fs,{children:[e.jsxDEV(hs,{asChild:!0,children:e.jsxDEV(S,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0","aria-label":"Ações do resumo",children:e.jsxDEV(Yr,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:181,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:175,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:174,columnNumber:13},this),e.jsxDEV(ms,{align:"end",children:[e.jsxDEV(Ze,{onClick:y,children:[e.jsxDEV(We,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:186,columnNumber:17},this),"Copiar resumo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:185,columnNumber:15},this),e.jsxDEV(Ze,{onClick:Q,children:[e.jsxDEV(eo,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:190,columnNumber:17},this),"Exportar PDF"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:189,columnNumber:15},this),e.jsxDEV(Ze,{onClick:ce,children:[e.jsxDEV(so,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:194,columnNumber:17},this),"Exportar JSON"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:193,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:164,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:163,columnNumber:7},this),e.jsxDEV(ue,{className:"pt-0 space-y-5",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV(xs,{label:"Reclamante",value:a,type:"reclamante"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:205,columnNumber:11},this),e.jsxDEV(xs,{label:"Réu",value:t,type:"reu"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:206,columnNumber:11},this),e.jsxDEV(xs,{label:"Status",value:r,type:"status"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:207,columnNumber:11},this),e.jsxDEV(xs,{label:"Observações",value:o,type:"observacoes"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:204,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Nível de Risco"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:219,columnNumber:15},this),e.jsxDEV(tr,{riscoNivel:i},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:220,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:218,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Confiança"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:224,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ys,{value:V,className:"w-16 h-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:226,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[V,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:227,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:225,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:223,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:217,columnNumber:11},this),u&&e.jsxDEV("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg","aria-live":"polite",children:[e.jsxDEV(Nt,{className:"h-4 w-4 text-violet-600","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:239,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm font-medium",children:u},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:243,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:235,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:216,columnNumber:9},this),d.length>0&&e.jsxDEV("div",{className:"pt-3 border-t",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(da,{className:"h-3 w-3 text-muted-foreground","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:252,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs font-medium text-muted-foreground",children:"Citações:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:256,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:251,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[K.map((ee,W)=>e.jsxDEV(L,{variant:"secondary",className:g("text-xs flex items-center gap-1 cursor-pointer hover:bg-secondary/80",ee.href&&"underline"),onClick:ee.onClick||(()=>ee.href&&window.open(ee.href,"_blank")),children:[e.jsxDEV(da,{className:"h-3 w-3","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:275,columnNumber:19},this),ee.label]},W,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:262,columnNumber:17},this)),f&&e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>x(!j),className:"h-6 px-2 text-xs text-muted-foreground hover:text-foreground",children:j?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(it,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:289,columnNumber:23},this),"Menos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:288,columnNumber:21},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(is,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:294,columnNumber:23},this),"+",te]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:293,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:281,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:250,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:202,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ExecutiveSummaryCard.tsx",lineNumber:159,columnNumber:5},this)}function cn({secoes:s,textoOriginal:a}){const t=o=>{switch(o){case"alta":return e.jsxDEV(L,{variant:"destructive",className:"text-xs",children:"Alta"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:40,columnNumber:11},this);case"media":return e.jsxDEV(L,{variant:"secondary",className:"text-xs",children:"Média"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:46,columnNumber:11},this);case"baixa":return e.jsxDEV(L,{variant:"outline",className:"text-xs",children:"Baixa"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:52,columnNumber:11},this);default:return null}},r=Array.isArray(s)?s:[];return e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV(go,{type:"multiple",className:"w-full",children:[r.map((o,i)=>e.jsxDEV(ha,{value:`secao-${i}`,children:[e.jsxDEV(xa,{className:"text-left",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-medium",children:o.titulo},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:71,columnNumber:17},this),o.evidencias&&o.evidencias.length>0&&e.jsxDEV(L,{variant:"outline",className:"text-xs",children:[o.evidencias.length," evidência",o.evidencias.length>1?"s":""]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:73,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:70,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:69,columnNumber:13},this),e.jsxDEV(ba,{children:e.jsxDEV("div",{className:"space-y-4 pt-2",children:[e.jsxDEV("div",{className:"prose prose-sm max-w-none",children:e.jsxDEV("p",{className:"text-sm text-muted-foreground leading-relaxed",children:o.conteudo},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:84,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:83,columnNumber:17},this),o.evidencias&&o.evidencias.length>0&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h5",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Evidências"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:92,columnNumber:21},this),e.jsxDEV("div",{className:"grid gap-2",children:o.evidencias.map((n,u)=>typeof n=="string"?e.jsxDEV(ie,{className:"p-3 bg-muted/30",children:e.jsxDEV("p",{className:"text-sm",children:n},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:103,columnNumber:31},this)},u,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:99,columnNumber:29},this):e.jsxDEV(ie,{className:"p-3 bg-muted/30",children:e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:[e.jsxDEV("div",{className:"flex-1",children:[n.tipo&&e.jsxDEV("div",{className:"text-xs text-muted-foreground font-medium mb-1",children:n.tipo},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:115,columnNumber:37},this),e.jsxDEV("p",{className:"text-sm",children:n.descricao},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:119,columnNumber:35},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:113,columnNumber:33},this),n.relevancia&&t(n.relevancia)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:112,columnNumber:31},this)},u,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:108,columnNumber:29},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:95,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:91,columnNumber:19},this),o.metadados&&e.jsxDEV("div",{className:"pt-2 border-t border-muted",children:e.jsxDEV("div",{className:"flex flex-wrap gap-4 text-xs text-muted-foreground",children:[o.metadados.fonte&&e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Fonte:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:140,columnNumber:27},this)," ",o.metadados.fonte]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:139,columnNumber:25},this),o.metadados.confiabilidade&&e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Confiabilidade:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:145,columnNumber:27},this)," ",Math.round(o.metadados.confiabilidade*100),"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:144,columnNumber:25},this),o.metadados.timestamp&&e.jsxDEV("span",{children:[e.jsxDEV("strong",{children:"Processado:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:151,columnNumber:27},this)," ",new Date(o.metadados.timestamp).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:150,columnNumber:25},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:137,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:136,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:81,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:80,columnNumber:13},this)]},i,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:68,columnNumber:11},this)),a&&e.jsxDEV(ha,{value:"texto-original",children:[e.jsxDEV(xa,{className:"text-left",children:e.jsxDEV("span",{className:"font-medium",children:"Consulta Original"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:169,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:168,columnNumber:13},this),e.jsxDEV(ba,{children:e.jsxDEV(ie,{className:"p-4 bg-muted/30",children:e.jsxDEV("pre",{className:"text-sm whitespace-pre-wrap font-mono text-muted-foreground",children:a},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:173,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:172,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:171,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:167,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:66,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/AnalysisAccordion.tsx",lineNumber:65,columnNumber:5},this)}function js({citations:s}){if(!s.length)return null;const a=r=>{switch(r){case"por_processo":return e.jsxDEV(Be,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:15,columnNumber:16},this);case"por_testemunha":return e.jsxDEV(ws,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:17,columnNumber:16},this);default:return e.jsxDEV(Us,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:19,columnNumber:16},this)}},t=r=>{switch(r){case"por_processo":return"default";case"por_testemunha":return"secondary";default:return"outline"}};return e.jsxDEV("div",{className:"pt-3 border-t",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(Us,{className:"h-3 w-3 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:37,columnNumber:9},this),e.jsxDEV("span",{className:"text-xs font-medium text-muted-foreground",children:"Citações:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:38,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:36,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:s.map((r,o)=>e.jsxDEV(L,{variant:t(r.source),className:"text-xs flex items-center gap-1",children:[a(r.source),r.ref]},o,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:44,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:42,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/Citations.tsx",lineNumber:35,columnNumber:5},this)}function dn({onToggle:s,isAnonymized:a,variant:t="default",className:r=""}){const[o,i]=N.useState(!1),n=async()=>{i(!0);try{await new Promise(u=>setTimeout(u,300)),s(!a)}finally{i(!1)}};return t==="minimal"?e.jsxDEV(S,{variant:a?"default":"outline",size:"sm",onClick:n,disabled:o,className:r,children:a?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(qs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:48,columnNumber:13},this),"Dados Anonimizados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:47,columnNumber:11},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ue,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:53,columnNumber:13},this),"Dados Completos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:52,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:39,columnNumber:7},this):e.jsxDEV(fs,{children:[e.jsxDEV(hs,{asChild:!0,children:e.jsxDEV(S,{variant:"outline",className:r,children:[e.jsxDEV(Ae,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:65,columnNumber:11},this),"Privacidade",e.jsxDEV(is,{className:"h-4 w-4 ml-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:64,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:63,columnNumber:7},this),e.jsxDEV(ms,{align:"end",className:"w-56",children:[e.jsxDEV(Ze,{onClick:n,disabled:o,children:a?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ue,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:74,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:"Mostrar Dados Completos"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:76,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Revelar CPFs e nomes reais"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:77,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:75,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:73,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(qs,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:84,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:"Anonimizar Dados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:86,columnNumber:17},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Mascarar informações sensíveis"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:87,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:85,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:83,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:71,columnNumber:9},this),e.jsxDEV(Ze,{disabled:!0,className:"border-t mt-1 pt-2",children:[e.jsxDEV(Ae,{className:"h-4 w-4 mr-2 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:"Conforme Art. 6º, VII da LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:94,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:70,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/AnonymizeButton.tsx",lineNumber:62,columnNumber:5},this)}function pn({variant:s="compact",showDetails:a=!1,className:t=""}){return s==="badge"?e.jsxDEV(Vt,{children:e.jsxDEV(us,{children:[e.jsxDEV(cs,{asChild:!0,children:e.jsxDEV(L,{variant:"secondary",className:`bg-success/10 text-success border-success/20 ${t}`,children:[e.jsxDEV(Ae,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:30,columnNumber:15},this),"LGPD Ready"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:26,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:25,columnNumber:11},this),e.jsxDEV(as,{children:e.jsxDEV("p",{children:"Documento em conformidade com a LGPD"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:35,columnNumber:13},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:34,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:24,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:23,columnNumber:7},this):s==="compact"?e.jsxDEV("div",{className:`inline-flex items-center gap-2 px-3 py-2 bg-success/10 border border-success/20 rounded-lg ${t}`,children:[e.jsxDEV(Ae,{className:"h-4 w-4 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:47,columnNumber:9},this),e.jsxDEV("span",{className:"text-sm font-medium text-success",children:"LGPD Compliant"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:48,columnNumber:9},this),e.jsxDEV(Fe,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:44,columnNumber:7},this):e.jsxDEV("div",{className:`border border-success/20 rounded-lg p-4 bg-success/5 ${t}`,children:[e.jsxDEV("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxDEV("div",{className:"flex items-center justify-center w-10 h-10 bg-success/10 rounded-full",children:e.jsxDEV(Ae,{className:"h-5 w-5 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:60,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:59,columnNumber:9},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold text-success",children:"Documento LGPD-Ready"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:63,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Conforme Lei 13.709/2018"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:62,columnNumber:9},this),e.jsxDEV(Fe,{className:"h-5 w-5 text-success ml-auto"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:68,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:58,columnNumber:7},this),a&&e.jsxDEV("div",{className:"space-y-2 text-xs",children:[e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(ao,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:74,columnNumber:13},this),e.jsxDEV("span",{children:"Dados criptografados em trânsito e repouso"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:75,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(Ue,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:78,columnNumber:13},this),e.jsxDEV("span",{children:"Informações sensíveis anonimizadas por padrão"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:79,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:77,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsxDEV(Be,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:82,columnNumber:13},this),e.jsxDEV("span",{children:"Base legal: Execução regular de direitos (Art. 7º, VI)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:81,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:72,columnNumber:9},this),e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-success/20",children:e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[e.jsxDEV("strong",{children:"Aviso:"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:90,columnNumber:11},this)," Este documento contém análise assistida por IA. Validação jurídica humana é obrigatória antes do uso processual."]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:89,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:88,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/compliance/LGPDSeal.tsx",lineNumber:55,columnNumber:5},this)}function Nn({onExport:s,showPrint:a=!0,disabled:t=!1,showAnonymizeOption:r=!0,isAnonymized:o=!1,onAnonymizeToggle:i,className:n=""}){const{toast:u}=Pe(),d=()=>{window.print(),u({title:"Imprimindo",description:"Preparando documento para impressão..."})},c=j=>{s(j,o);const x=o?" (dados anonimizados)":" (dados completos)";u({title:"Exportando",description:`Gerando arquivo ${j.toUpperCase()}${x}... Será registrado no log de auditoria.`})};return e.jsxDEV("div",{className:`space-y-3 ${n}`,children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV(pn,{variant:"badge"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:60,columnNumber:9},this),r&&i&&e.jsxDEV(dn,{isAnonymized:o,onToggle:i,variant:"minimal"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:59,columnNumber:7},this),e.jsxDEV("div",{className:"flex items-center gap-2",children:[a&&e.jsxDEV(S,{variant:"outline",size:"sm",onClick:d,disabled:t,className:"gap-2",children:[e.jsxDEV(to,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:80,columnNumber:13},this),"Imprimir",o&&e.jsxDEV(Ae,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:82,columnNumber:30},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:73,columnNumber:11},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>c("pdf"),disabled:t,className:"gap-2",children:[e.jsxDEV(Be,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:93,columnNumber:11},this),"PDF",o&&e.jsxDEV(Ae,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:95,columnNumber:28},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:86,columnNumber:9},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>c("csv"),disabled:t,className:"gap-2",children:[e.jsxDEV(Xs,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:105,columnNumber:11},this),"CSV",o&&e.jsxDEV(Ae,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:107,columnNumber:28},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:98,columnNumber:9},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>c("docx"),disabled:t,className:"gap-2",children:[e.jsxDEV(Be,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:117,columnNumber:11},this),"DOCX",o&&e.jsxDEV(Ae,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:119,columnNumber:28},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:110,columnNumber:9},this),e.jsxDEV(S,{variant:"outline",size:"sm",onClick:()=>c("json"),disabled:t,className:"gap-2",children:[e.jsxDEV(pt,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:129,columnNumber:11},this),"JSON",o&&e.jsxDEV(Ae,{className:"h-3 w-3 text-success"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:131,columnNumber:28},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:71,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/brand/ExportActions.tsx",lineNumber:57,columnNumber:5},this)}function fn({blocks:s}){const{toast:a}=Pe(),t=()=>{window.print(),a({title:"PDF",description:"Abrindo diálogo de impressão..."})},r=()=>{const n=["Tipo,Conteudo",...s.map(j=>({Tipo:j.title,Conteudo:JSON.stringify(j.data)})).map(j=>`"${j.Tipo}","${j.Conteudo}"`)].join(`
`),u=new Blob([n],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),c=URL.createObjectURL(u);d.setAttribute("href",c),d.setAttribute("download",`analise-${Date.now()}.csv`),document.body.appendChild(d),d.click(),document.body.removeChild(d),a({title:"CSV exportado",description:"Arquivo CSV baixado com sucesso."})},o=()=>{const i={timestamp:new Date().toISOString(),blocks:s},n=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),u=URL.createObjectURL(n),d=document.createElement("a");d.href=u,d.download=`analise-completa-${Date.now()}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(u),a({title:"JSON exportado",description:"Arquivo JSON baixado com sucesso."})};return!s||s.length===0?null:e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-brand-ink",children:"Resultado da Análise"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:93,columnNumber:9},this),e.jsxDEV(Nn,{onExport:i=>{switch(i){case"pdf":t();break;case"csv":r();break;case"json":o();break}},showPrint:!0},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:92,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:s.map((i,n)=>{switch(i.type){case"executive":return e.jsxDEV(un,{cnj:i.data?.cnj||i.data?.processo||(i.context?.type==="testemunha","N/A"),reclamante:i.data?.reclamante||i.context?.data?.nome||i.data?.reclamada||"Não informado",reu:i.data?.reu||i.data?.reclamada||(i.context?.type==="testemunha"?"N/A":"Não informado"),status:i.data?.status||i.meta?.status||i.context?.meta?.status||"Não informado",observacoes:i.data?.observacoes||i.meta?.observacoes||"Análise contextual em progresso",riscoNivel:i.data?.riscoNivel||i.meta?.riscoNivel||i.context?.meta?.riscoNivel||"baixo",confianca:typeof i.data?.confianca=="number"?i.data.confianca:typeof i.meta?.confidence=="number"?Math.round(i.meta.confidence*100):typeof i.context?.meta?.confidence=="number"?Math.round(i.context.meta.confidence*100):typeof i.data?.score=="number"?i.data.score:0,alerta:i.data?.alerta,citacoes:i.citations?.map(u=>({label:u.ref,onClick:()=>{console.log("Citation clicked:",u)}}))||[]},n,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:120,columnNumber:17},this);case"details":return e.jsxDEV(ie,{className:"rounded-2xl border-border/50",children:[e.jsxDEV(ge,{children:e.jsxDEV(we,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsxDEV(Be,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:185,columnNumber:23},this),i.title]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:184,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:183,columnNumber:19},this),e.jsxDEV(ue,{children:[e.jsxDEV(cn,{secoes:i.data.secoes,textoOriginal:i.data.textoOriginal},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:190,columnNumber:21},this),i.citations&&e.jsxDEV(js,{citations:i.citations},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:195,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:189,columnNumber:19},this)]},n,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:182,columnNumber:17},this);case"alerts":return e.jsxDEV(ie,{className:"rounded-2xl border-status-critical/30 bg-status-critical/5",children:[e.jsxDEV(ge,{children:e.jsxDEV(we,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsxDEV(Le,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:209,columnNumber:23},this),i.title]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:208,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:207,columnNumber:19},this),e.jsxDEV(ue,{className:"space-y-3",children:[e.jsxDEV(Se,{className:"border-destructive/30 bg-destructive/10",children:[e.jsxDEV(Le,{className:"h-4 w-4 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:215,columnNumber:23},this),e.jsxDEV(Me,{className:"text-destructive-foreground",children:[e.jsxDEV("strong",{children:"Triangulação Detectada"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:217,columnNumber:25},this)," - Padrões suspeitos identificados entre testemunhas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:216,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:214,columnNumber:21},this),e.jsxDEV(Se,{className:"border-status-warning/30 bg-status-warning/10",children:[e.jsxDEV(Le,{className:"h-4 w-4 text-status-warning"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:223,columnNumber:23},this),e.jsxDEV(Me,{className:"text-status-warning",children:[e.jsxDEV("strong",{children:"Depoimentos Repetidos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:225,columnNumber:25},this)," - Narrativas similares encontradas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:224,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:222,columnNumber:21},this),i.data.suspiciousPatterns?.map((u,d)=>e.jsxDEV("div",{className:"flex items-center gap-2 p-2 bg-destructive/10 rounded-lg",children:[e.jsxDEV(Le,{className:"h-3 w-3 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:236,columnNumber:27},this),e.jsxDEV("span",{className:"text-sm text-destructive-foreground",children:u},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:237,columnNumber:27},this)]},d,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:232,columnNumber:25},this)),e.jsxDEV("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["⚠️ ",e.jsxDEV("strong",{children:"Atenção:"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:246,columnNumber:28},this)," Possível coordenação entre depoimentos de testemunhas. Recomenda-se investigação detalhada dos vínculos identificados."]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:245,columnNumber:23},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:244,columnNumber:21},this),i.citations&&e.jsxDEV(js,{citations:i.citations},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:253,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:213,columnNumber:19},this)]},n,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:203,columnNumber:17},this);case"strategies":return e.jsxDEV(hn,{block:i},n,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:260,columnNumber:22},this);default:return e.jsxDEV(ie,{className:"rounded-2xl border-border/50",children:[e.jsxDEV(ge,{children:e.jsxDEV(we,{className:"text-base font-semibold",children:i.title},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:266,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:265,columnNumber:19},this),e.jsxDEV(ue,{children:[e.jsxDEV("pre",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:JSON.stringify(i.data,null,2)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:271,columnNumber:21},this),i.citations&&e.jsxDEV(js,{citations:i.citations},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:275,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:270,columnNumber:19},this)]},n,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:264,columnNumber:17},this)}})},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:115,columnNumber:7},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground text-center pt-4 border-t",children:["Relatório gerado às ",new Date().toLocaleTimeString("pt-BR")," • Dados sujeitos à verificação manual conforme LGPD"]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:285,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:90,columnNumber:5},this)}function hn({block:s}){const{toast:a}=Pe(),t=async o=>{try{await navigator.clipboard.writeText(o),a({title:"Copiado!",description:"Recomendação copiada para a área de transferência."})}catch{a({title:"Erro ao copiar",description:"Não foi possível copiar o conteúdo.",variant:"destructive"})}},r=o=>{switch(o?.toUpperCase()){case"ALTA":return"bg-status-critical/15 text-status-critical border-status-critical/30";case"MÉDIA":return"bg-status-warning/15 text-status-warning border-status-warning/30";case"BAIXA":return"bg-status-success/15 text-status-success border-status-success/30";default:return"bg-muted text-muted-foreground border-border"}};return e.jsxDEV(ie,{className:"rounded-2xl border-status-success/30 bg-status-success/10",children:[e.jsxDEV(ge,{children:e.jsxDEV(we,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsxDEV(pa,{className:"h-4 w-4 text-emerald-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:333,columnNumber:11},this),s.title]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:332,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:331,columnNumber:7},this),e.jsxDEV(ue,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h4",{className:"font-medium text-emerald-800",children:"Estratégias Ativas"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:341,columnNumber:13},this),e.jsxDEV(L,{variant:"secondary",className:"text-xs",children:"Polo Ativo"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:342,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:340,columnNumber:11},this),s.data.estrategias?.map((o,i)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-white/70 rounded-lg border",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(L,{className:g("text-xs",r(o.prioridade)),children:o.prioridade},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:353,columnNumber:17},this),e.jsxDEV("span",{className:"text-sm",children:o.texto},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:361,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:352,columnNumber:15},this),e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>t(o.texto),className:"h-8 w-8 p-0 shrink-0",children:e.jsxDEV(We,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:369,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:363,columnNumber:15},this)]},i,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:348,columnNumber:13},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:339,columnNumber:9},this),s.data.acoesDefensivas&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-medium text-emerald-800",children:"Ações Defensivas"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:378,columnNumber:13},this),s.data.acoesDefensivas.map((o,i)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-white/70 rounded-lg border",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(L,{className:g("text-xs",r(o.prioridade)),children:o.prioridade},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:385,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm",children:o.texto},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:390,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:384,columnNumber:17},this),e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>t(o.texto),className:"h-8 w-8 p-0 shrink-0",children:e.jsxDEV(We,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:398,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:392,columnNumber:17},this)]},i,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:380,columnNumber:15},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:377,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(pa,{className:"h-4 w-4 text-emerald-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:408,columnNumber:13},this),e.jsxDEV("h4",{className:"font-medium text-emerald-800",children:"Próximos Passos"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:409,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:407,columnNumber:11},this),s.data.proximosPassos?.map((o,i)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-white/70 rounded-lg border",children:[e.jsxDEV("span",{className:"text-sm",children:o},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:417,columnNumber:15},this),e.jsxDEV(S,{variant:"ghost",size:"sm",onClick:()=>t(o),className:"h-8 w-8 p-0 shrink-0",children:e.jsxDEV(We,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:424,columnNumber:17},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:418,columnNumber:15},this)]},i,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:413,columnNumber:13},this))]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:406,columnNumber:9},this),s.citations&&e.jsxDEV(js,{citations:s.citations},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:430,columnNumber:29},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:337,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/ResultBlocks.tsx",lineNumber:330,columnNumber:5},this)}function xn(){const{loadingHints:s,currentHintIndex:a,nextHint:t}=T(),r=N.useRef(null);return N.useEffect(()=>(r.current&&clearInterval(r.current),r.current=setInterval(()=>{t()},800),()=>{r.current&&clearInterval(r.current)}),[t]),e.jsxDEV("div",{className:"flex gap-4 animate-fade-in",children:[e.jsxDEV("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsxDEV(ro,{className:"h-4 w-4 text-primary animate-pulse"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:36,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:35,columnNumber:7},this),e.jsxDEV("div",{className:"flex-1 max-w-4xl",children:e.jsxDEV(ie,{className:"bg-card border-primary/20 shadow-sm",children:e.jsxDEV(ue,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(os,{className:"h-4 w-4 animate-spin text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:44,columnNumber:15},this),e.jsxDEV("span",{className:"text-sm text-foreground font-medium transition-opacity duration-200",children:s[a]||"Carregando..."},a,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:45,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:43,columnNumber:13},this),e.jsxDEV("div",{className:"mt-3 flex gap-1",children:Array.from({length:3}).map((o,i)=>e.jsxDEV("div",{className:"h-1 w-8 rounded-full bg-primary/20 animate-pulse",style:{animationDelay:`${i*.2}s`,animationDuration:"1s"}},i,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:55,columnNumber:17},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:53,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:42,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:41,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/features/testemunhas/LoadingHints.tsx",lineNumber:33,columnNumber:5},this)}const Ca=({isLoading:s,hasError:a,errorMessage:t,isConnected:r,dataCount:o,dataType:i})=>s?e.jsxDEV(ie,{className:"mb-4 border-blue-200 bg-blue-50/50",children:e.jsxDEV(ue,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(os,{className:"h-5 w-5 text-blue-600 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:27,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-sm text-blue-800",children:"Conectando com servidor..."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:28,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:26,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:25,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:24,columnNumber:7},void 0):a&&!r?e.jsxDEV(ie,{className:"mb-4 border-orange-200 bg-orange-50/50",children:e.jsxDEV(ue,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(oo,{className:"h-5 w-5 text-orange-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:42,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("span",{className:"text-sm text-orange-800",children:"Servidor indisponível - Exibindo dados simulados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:44,columnNumber:15},void 0),t&&e.jsxDEV("p",{className:"text-xs text-orange-700 mt-1",children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:48,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:43,columnNumber:13},void 0),e.jsxDEV(L,{variant:"outline",className:"text-orange-700 border-orange-300",children:"Mock"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:51,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:41,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:40,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:39,columnNumber:7},void 0):a&&r?e.jsxDEV(ie,{className:"mb-4 border-red-200 bg-red-50/50",children:e.jsxDEV(ue,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Le,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:68,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("span",{className:"text-sm text-red-800",children:"Erro de validação nos filtros"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:70,columnNumber:15},void 0),t&&e.jsxDEV("p",{className:"text-xs text-red-700 mt-1",children:t},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:74,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:69,columnNumber:13},void 0),e.jsxDEV(L,{variant:"destructive",className:"text-xs",children:"Erro"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:77,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:67,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:66,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:65,columnNumber:7},void 0):r&&o>0?e.jsxDEV(ie,{className:"mb-4 border-green-200 bg-green-50/50",children:e.jsxDEV(ue,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Fe,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:91,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-sm text-green-800",children:[o," ",i," carregados do servidor"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:92,columnNumber:13},void 0),e.jsxDEV(L,{variant:"outline",className:"text-green-700 border-green-300",children:"Online"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:95,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:90,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:89,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ConnectionStatus.tsx",lineNumber:88,columnNumber:7},void 0):null;class bn extends N.Component{state={hasError:!1,error:null,errorInfo:null,errorCount:0};static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,t){const r=this.state.errorCount+1;Ee.error("🔴 [MapaErrorBoundary] Erro capturado",{error:a.message,stack:a.stack,componentStack:t.componentStack,errorCount:r,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,online:navigator.onLine}),this.setState({error:a,errorInfo:t,errorCount:r}),r>3&&Ee.error("⛔ [MapaErrorBoundary] Loop de erros detectado",{errorCount:r,lastError:a.message})}handleReset=()=>{Ee.info("🔄 [MapaErrorBoundary] Resetando estado de erro"),this.setState({hasError:!1,error:null,errorInfo:null,errorCount:0})};handleGoHome=()=>{Ee.info("🏠 [MapaErrorBoundary] Navegando para home"),window.location.href="/"};render(){if(this.state.hasError){const{error:a,errorInfo:t,errorCount:r}=this.state;return e.jsxDEV("div",{className:"flex items-center justify-center min-h-screen p-4 bg-background",children:e.jsxDEV(ie,{className:"max-w-2xl w-full",children:[e.jsxDEV(ge,{children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(Le,{className:"h-8 w-8 text-destructive"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:89,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV(we,{className:"text-2xl",children:"Erro no Mapa de Testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:91,columnNumber:19},this),e.jsxDEV(es,{children:r>1?`Ocorreram ${r} erros consecutivos`:"Ocorreu um erro inesperado"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:94,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:90,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:88,columnNumber:15},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:87,columnNumber:13},this),e.jsxDEV(ue,{className:"space-y-6",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Mensagem de Erro"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:105,columnNumber:17},this),e.jsxDEV("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:e.jsxDEV("p",{className:"text-sm text-destructive font-mono",children:a?.message||"Erro desconhecido"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:109,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:108,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:104,columnNumber:15},this),t&&e.jsxDEV("details",{className:"space-y-2",children:[e.jsxDEV("summary",{className:"cursor-pointer font-semibold text-sm text-muted-foreground hover:text-foreground",children:"Detalhes Técnicos (Dev)"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:118,columnNumber:19},this),e.jsxDEV("div",{className:"p-3 bg-muted rounded-md overflow-x-auto",children:e.jsxDEV("pre",{className:"text-xs font-mono whitespace-pre-wrap",children:t.componentStack},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:122,columnNumber:21},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:121,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:117,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Possíveis Causas"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:131,columnNumber:17},this),e.jsxDEV("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[e.jsxDEV("li",{children:"Problemas de conexão com o servidor"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:135,columnNumber:19},this),e.jsxDEV("li",{children:"Dados inconsistentes ou mal formatados"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:136,columnNumber:19},this),e.jsxDEV("li",{children:"Erro na Edge Function do backend"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:137,columnNumber:19},this),e.jsxDEV("li",{children:"Sessão expirada ou inválida"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:138,columnNumber:19},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:134,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:130,columnNumber:15},this),e.jsxDEV("div",{className:"flex gap-3",children:[r<=3&&e.jsxDEV(S,{onClick:this.handleReset,className:"flex-1",children:[e.jsxDEV(gs,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:146,columnNumber:21},this),"Tentar Novamente"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:145,columnNumber:19},this),e.jsxDEV(S,{onClick:this.handleGoHome,variant:"outline",className:"flex-1",children:[e.jsxDEV(ft,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:155,columnNumber:19},this),"Voltar ao Início"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:150,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:143,columnNumber:15},this),r>3&&e.jsxDEV("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-md",children:e.jsxDEV("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"⚠️ Múltiplas tentativas falharam. Por favor, entre em contato com o suporte."},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:162,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/MapaErrorBoundary.tsx",lineNumber:85,columnNumber:9},this)}return this.props.children}}const jn=()=>{const[s,a]=N.useState(F.isEnabled()),{toast:t}=Pe();N.useEffect(()=>{a(F.isEnabled())},[]);const r=()=>{const o=F.toggle();a(o),t({title:o?"🐛 Debug Mode Ativado":"Debug Mode Desativado",description:o?"Logs detalhados estão sendo exibidos no console":"Logs de debug foram desativados",duration:2e3})};return e.jsxDEV("div",{className:"flex items-center space-x-2 bg-muted/50 px-3 py-2 rounded-md border border-border/40",children:[e.jsxDEV(io,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DebugToggle.tsx",lineNumber:32,columnNumber:7},void 0),e.jsxDEV(ve,{htmlFor:"debug-mode",className:"text-sm cursor-pointer",children:"Debug Mode"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DebugToggle.tsx",lineNumber:33,columnNumber:7},void 0),e.jsxDEV(aa,{id:"debug-mode",checked:s,onCheckedChange:r,className:"data-[state=checked]:bg-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DebugToggle.tsx",lineNumber:36,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DebugToggle.tsx",lineNumber:31,columnNumber:5},void 0)};async function vn(s){const a={functionName:s,isReachable:!1,hasAuth:!1};try{const{data:{session:t},error:r}=await Re.auth.getSession();if(r)return a.authError=r.message,Ee.error(`[EdgeDiagnostics] Erro de sessão para ${s}`,{error:r}),a;if(!t)return a.authError="Nenhuma sessão ativa",Ee.warn(`[EdgeDiagnostics] Nenhuma sessão ativa para ${s}`),a;a.hasAuth=!0,Ee.info(`[EdgeDiagnostics] Testando ${s}...`);const{data:o,error:i}=await Re.functions.invoke(s,{body:{paginacao:{page:1,limit:1},filtros:{}}});return i?(a.testResult="error",a.errorDetails={message:i.message,context:i.context,status:i.status},Ee.error(`[EdgeDiagnostics] Erro ao testar ${s}`,{error:i,errorDetails:a.errorDetails})):(a.isReachable=!0,a.testResult="success",Ee.info(`[EdgeDiagnostics] ${s} respondeu com sucesso`,{hasData:!!o,dataKeys:o?Object.keys(o):[]})),a}catch(t){return a.testResult="error",a.errorDetails=t,Ee.error(`[EdgeDiagnostics] Exceção ao testar ${s}`,{error:t}),a}}async function gn(){Ee.info("🔍 [EdgeDiagnostics] ===== INICIANDO DIAGNÓSTICO COMPLETO =====");const s=["mapa-testemunhas-processos","mapa-testemunhas-testemunhas"],a={};for(const r of s)Ee.info(`🔍 [EdgeDiagnostics] Testando função: ${r}`),a[r]=await vn(r);Ee.info("✅ [EdgeDiagnostics] ===== DIAGNÓSTICO CONCLUÍDO =====",{results:a});const t=Object.entries(a).map(([r,o])=>({function:r,reachable:o.isReachable,authenticated:o.hasAuth,testResult:o.testResult,error:o.errorDetails?.message||o.authError||"none"}));return console.table(t),a}function wn(){Ee.info("🔍 [EdgeDiagnostics] ===== CONFIGURAÇÃO SUPABASE =====");const s={hasSupabaseClient:!!Re,functionsUrl:"<<MANTER>>/functions/v1",hasAuth:!!Re?.auth};return Ee.info("🔍 [EdgeDiagnostics] Config:",s),console.table(s),s}function Dn(){const[s,a]=N.useState(null),[t,r]=N.useState(!1),o=async()=>{r(!0),wn();const i=await gn();a(i),r(!1)};return e.jsxDEV(ie,{className:"border-dashed border-yellow-500/50 bg-yellow-50/5",children:[e.jsxDEV(ge,{className:"pb-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(no,{className:"h-4 w-4 text-yellow-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:43,columnNumber:13},this),e.jsxDEV(we,{className:"text-sm",children:"Diagnóstico de Edge Functions"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:44,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:42,columnNumber:11},this),e.jsxDEV(L,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"DEV ONLY"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:48,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:41,columnNumber:9},this),e.jsxDEV(es,{className:"text-xs",children:"Teste a conectividade e configuração das Edge Functions"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:40,columnNumber:7},this),e.jsxDEV(ue,{className:"space-y-3",children:[e.jsxDEV(S,{onClick:o,disabled:t,size:"sm",variant:"outline",className:"w-full",children:[t&&e.jsxDEV(gs,{className:"mr-2 h-3 w-3 animate-spin"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:67,columnNumber:25},this),t?"Executando diagnóstico...":"Executar Diagnóstico"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:60,columnNumber:9},this),s&&e.jsxDEV("div",{className:"space-y-2",children:Object.entries(s).map(([i,n])=>e.jsxDEV("div",{className:"flex items-start justify-between gap-2 rounded-lg border border-border/50 bg-card/50 p-2 text-xs",children:e.jsxDEV("div",{className:"flex-1 space-y-1",children:[e.jsxDEV("div",{className:"font-mono font-medium",children:i},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:79,columnNumber:19},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1",children:[n.hasAuth?e.jsxDEV(L,{variant:"outline",className:"text-green-600 border-green-600 text-[10px]",children:[e.jsxDEV(vs,{className:"mr-1 h-2 w-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:86,columnNumber:25},this),"Autenticado"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:82,columnNumber:23},this):e.jsxDEV(L,{variant:"outline",className:"text-red-600 border-red-600 text-[10px]",children:[e.jsxDEV($s,{className:"mr-1 h-2 w-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:94,columnNumber:25},this),"Sem Auth"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:90,columnNumber:23},this),n.isReachable?e.jsxDEV(L,{variant:"outline",className:"text-green-600 border-green-600 text-[10px]",children:[e.jsxDEV(vs,{className:"mr-1 h-2 w-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:103,columnNumber:25},this),"Alcançável"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:99,columnNumber:23},this):e.jsxDEV(L,{variant:"outline",className:"text-red-600 border-red-600 text-[10px]",children:[e.jsxDEV($s,{className:"mr-1 h-2 w-2"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:111,columnNumber:25},this),"Não Alcançável"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:107,columnNumber:23},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:80,columnNumber:19},this),(n.authError||n.errorDetails)&&e.jsxDEV("div",{className:"text-[10px] text-destructive/80",children:n.authError||n.errorDetails?.message||"Erro desconhecido"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:117,columnNumber:21},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:78,columnNumber:17},this)},i,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:74,columnNumber:15},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DiagnosticPanel.tsx",lineNumber:39,columnNumber:5},this)}function En(){const s=T(r=>r.density),a=T(r=>r.setDensity),t=[{value:"compact",label:"Compacto",description:"Espaçamento mínimo"},{value:"comfortable",label:"Confortável",description:"Espaçamento amplo"}];return e.jsxDEV(fs,{children:[e.jsxDEV(hs,{asChild:!0,children:e.jsxDEV(S,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsxDEV(mo,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:33,columnNumber:11},this),"Densidade"]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:32,columnNumber:9},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:31,columnNumber:7},this),e.jsxDEV(ms,{align:"end",className:"w-[200px]",children:t.map(r=>e.jsxDEV(Ze,{onClick:()=>a(r.value),className:"flex items-center justify-between cursor-pointer",children:[e.jsxDEV("div",{className:"flex flex-col gap-0.5",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:r.label},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:45,columnNumber:15},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:r.description},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:46,columnNumber:15},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:44,columnNumber:13},this),s===r.value&&e.jsxDEV(Zs,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:51,columnNumber:15},this)]},r.value,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:39,columnNumber:11},this))},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:37,columnNumber:7},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/DensitySelector.tsx",lineNumber:30,columnNumber:5},this)}function kn(){const s=ea(),a=T(o=>o.navigationHistory),t=T(o=>o.popNavigation),r=o=>{const i=a[o];i?.path&&(s(i.path),t(o))};return a.length<=1?null:e.jsxDEV(Ot,{className:"mb-4",children:e.jsxDEV(Lt,{children:[e.jsxDEV(Gs,{children:e.jsxDEV(Ks,{onClick:()=>r(0),className:"flex items-center gap-1 cursor-pointer",children:[e.jsxDEV(ft,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:39,columnNumber:13},this),e.jsxDEV("span",{children:"Início"},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:40,columnNumber:13},this)]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:35,columnNumber:11},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:34,columnNumber:9},this),a.slice(1).map((o,i)=>{const n=i===a.length-2,u=i+1;return e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(zt,{},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:50,columnNumber:15},this),e.jsxDEV(Gs,{children:n?e.jsxDEV($t,{className:"font-medium",children:o.label},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:53,columnNumber:19},this):e.jsxDEV(Ks,{onClick:()=>r(u),className:"cursor-pointer hover:text-foreground",children:o.label},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:57,columnNumber:19},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:51,columnNumber:15},this)]},u,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:49,columnNumber:13},this)})]},void 0,!0,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:33,columnNumber:7},this)},void 0,!1,{fileName:"/workspaces/assitjur/src/components/mapa-testemunhas/ContextBreadcrumb.tsx",lineNumber:32,columnNumber:5},this)}const Vn=()=>{const s=ea(),[a,t]=lo(),{user:r,loading:o}=wo(),{toast:i}=Pe(),n=T(ar),u=T(Wo),d=T(Zo),c=T(Xo),j=T(ei),x=T(si),D=T(ai),V=T(ti),X=T(ri),f=N.useRef(null),K=N.useRef(null),te=N.useRef(!1),y=N.useRef(!0),Q=N.useRef(!1),[ce,ee]=N.useState(!1),[W,H]=N.useState(!1),m=T(h=>h.chatResult),l=T(h=>h.chatStatus),p=T(h=>h.setActiveTab),w=T(h=>h.setProcessos),k=T(h=>h.setTestemunhas),z=T(h=>h.setIsLoading),re=T(h=>h.setLastUpdate),de=T(h=>h.setError),he=T(h=>h.setIsImportModalOpen),O=T(h=>h.loadViews),se=T(h=>h.setProcessoFilters),M=T(h=>h.setTestemunhaFilters),ne=T(h=>h.setSelectedProcesso),I=T(h=>h.setSelectedTestemunha),[B,v]=N.useState(0),[P,b]=N.useState(0),_=h=>h.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),U=N.useMemo(()=>{const h=Array.isArray(u)?u:[],q=Array.isArray(d)?d:[],C=h.filter(je=>je?.classificacao_final==="Risco Alto"||je?.classificacao_final==="Alto").length,$=q.filter(je=>je?.foi_testemunha_em_ambos_polos===!0).length,J=(je,me)=>{if(!isFinite(je)||!isFinite(me)||me<=0)return 0;const De=Math.round(je/me*100);return isFinite(De)?De:0},pe=isFinite(B)&&B>0?B:h.length,Ne=isFinite(P)&&P>0?P:q.length;return{totalProcessos:pe,totalTestemunhas:Ne,processosAltoRisco:C,testemunhasAmbosPolos:$,pctProcAlto:J(C,pe),pctAmbos:J($,Ne)}},[u,d,B,P]),A=h=>c?"loading":j?navigator.onLine?"error":"offline":h.length?"success":"empty",E=A(u),Y=A(d);N.useEffect(()=>{if(!o&&!r){s("/login");return}},[r,o,s]),N.useEffect(()=>{r&&O(r.id)},[r,O]),N.useEffect(()=>{if(Q.current)return;const h=a.get("tab"),q=a.get("nome"),C=a.get("cnj"),$=a.get("reclamante");if(h&&(h==="processos"||h==="testemunhas")&&h!==n&&p(h),q&&M({search:decodeURIComponent(q)}),C&&se({search:decodeURIComponent(C)}),$&&se({search:decodeURIComponent($)}),q||C||$){Q.current=!0;const J=new URLSearchParams(a);J.delete("nome"),J.delete("cnj"),J.delete("reclamante"),t(J,{replace:!0})}},[]),N.useEffect(()=>{if(!(!Q.current||te.current)&&!(u.length===0&&d.length===0)){if(X.search&&d.length>0){const h=d.find(q=>q.nome_testemunha?.toLowerCase()===X.search?.toLowerCase());h&&!T.getState().selectedTestemunha&&(I(h),i({title:"Testemunha selecionada",description:h.nome_testemunha}))}if(V.search&&u.length>0){const h=u.find(q=>q.cnj===V.search||q.numero_cnj===V.search);h&&!T.getState().selectedProcesso&&(ne(h),i({title:"Processo selecionado",description:h.cnj||h.numero_cnj}))}}},[u.length,d.length]);const R=h=>{const q=h;p(q),t({tab:q},{replace:!0}),ne(null),I(null)},ae=Ws(V,300),oe=Ws(X,300),G=N.useCallback(async()=>{if(!r||te.current)return;f.current?.abort(),K.current?.abort();const h=new AbortController,q=new AbortController;f.current=h,K.current=q,te.current=!0,z(!0),de(!1);try{const C=T.getState().processoFilters,$=T.getState().testemunhaFilters,[J,pe]=await Promise.all([Xi({page:1,limit:100,filters:C}),Zi({page:1,limit:100,filters:$})]);if(h.signal.aborted||q.signal.aborted)return;const Ne=Array.isArray(J.data)?J.data:[],je=Array.isArray(pe.data)?pe.data:[];w(Ne),k(je);const me=isFinite(J.total)?J.total:Ne.length,De=isFinite(pe.total)?pe.total:je.length;v(me),b(De);const le=J.error||pe.error;le?(de(!0,`Erro ao conectar: ${le}`),i({title:"Falha ao conectar",description:le,variant:"destructive"})):y.current&&(re(new Date),y.current=!1)}catch(C){if(C?.name==="AbortError")return;const $=C instanceof Error?C.message:"Erro ao carregar dados";de(!0,$),i({title:"Falha na conexão",description:$,variant:"destructive"})}finally{!h.signal.aborted&&!q.signal.aborted&&(te.current=!1,z(!1))}},[r]);N.useEffect(()=>(r&&G(),()=>{f.current?.abort(),K.current?.abort()}),[r,G]),N.useEffect(()=>{!y.current&&r&&G()},[ae,oe,G]),N.useEffect(()=>{const h=q=>{(q.ctrlKey||q.metaKey)&&q.key==="f"&&(q.preventDefault(),ee(!0))};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[]);const Z=()=>{const q=Object.entries(n==="processos"?V:X);if(q.length===0)return null;const C=$=>{if(n==="processos"){const J={...V};delete J[$],se(J)}else{const J={...X};delete J[$],M(J)}};return e.jsxDEV("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"Filtros ativos:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:470,columnNumber:9},void 0),q.map(([$,J])=>e.jsxDEV(L,{variant:"secondary",className:"gap-1",children:[e.jsxDEV("span",{className:"text-xs",children:[$,": ",String(J)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:473,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>C($),className:"ml-1 hover:bg-secondary-foreground/10 rounded-full p-0.5","aria-label":`Remover filtro ${$}`,children:e.jsxDEV(Qe,{className:"h-3 w-3"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:481,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:476,columnNumber:13},void 0)]},$,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:472,columnNumber:11},void 0))]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:469,columnNumber:7},void 0)};return o?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center","aria-live":"polite",children:e.jsxDEV("div",{className:"animate-pulse text-muted-foreground",children:"Verificando autenticação..."},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:496,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:492,columnNumber:7},void 0):r?e.jsxDEV("div",{className:"min-h-screen bg-background",children:[e.jsxDEV("div",{className:"border-b border-border/50 bg-card",children:e.jsxDEV("div",{className:"container mx-auto px-6 py-6",children:[e.jsxDEV(kn,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:513,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsxDEV(uo,{className:"h-8 w-8 text-primary","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:517,columnNumber:17},void 0),"Mapa de Testemunhas",j&&e.jsxDEV(L,{variant:"destructive",className:"text-xs",children:"Modo Fallback"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:520,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:516,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Análise estratégica de testemunhas e processos judiciais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:525,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(co,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:530,columnNumber:19},void 0),e.jsxDEV("span",{children:["Última atualização:"," ",D?_(D):"—"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:531,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:529,columnNumber:17},void 0),e.jsxDEV(Xe,{orientation:"vertical",className:"h-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:536,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(dt,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:538,columnNumber:19},void 0),e.jsxDEV("span",{children:j?"Dados mock":"Dados em tempo real"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:539,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:537,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:528,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:515,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(En,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:544,columnNumber:15},void 0),e.jsxDEV(S,{variant:"outline",onClick:()=>he(!0),className:"gap-2","aria-label":"Importar dados via Excel",children:[e.jsxDEV(Be,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:551,columnNumber:17},void 0),"Importar Dados"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:545,columnNumber:15},void 0),F.isEnabled()&&e.jsxDEV(St,{open:W,onOpenChange:H,children:[e.jsxDEV(ko,{asChild:!0,children:e.jsxDEV(S,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsxDEV(po,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:561,columnNumber:23},void 0),"Diagnóstico"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:560,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:559,columnNumber:19},void 0),e.jsxDEV(ta,{side:"right",className:"w-[400px]",children:[e.jsxDEV(ra,{children:[e.jsxDEV(oa,{children:"Diagnóstico do Sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:567,columnNumber:23},void 0),e.jsxDEV(ia,{children:"Ferramentas de desenvolvimento e diagnóstico"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:568,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:566,columnNumber:21},void 0),e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV(Dn,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:573,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:572,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:565,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:555,columnNumber:17},void 0),e.jsxDEV(jn,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:578,columnNumber:15},void 0),e.jsxDEV(Ti,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:579,columnNumber:15},void 0),e.jsxDEV(Hi,{data:n==="processos"?u:d,fileName:n==="processos"?"por_processo.csv":"por_testemunha.csv"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:580,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:543,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:514,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:512,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:511,columnNumber:7},void 0),e.jsxDEV("div",{className:"container mx-auto px-6 py-6",children:[j&&e.jsxDEV(ie,{className:"rounded-2xl border-destructive/50 bg-destructive/5 mb-6",children:e.jsxDEV(ue,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsxDEV(Le,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:599,columnNumber:17},void 0),e.jsxDEV("span",{className:"font-medium",children:"Erro:"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:600,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-sm",children:x},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:601,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:598,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:597,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:596,columnNumber:11},void 0),e.jsxDEV(Vt,{children:e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV(us,{children:[e.jsxDEV(cs,{asChild:!0,children:e.jsxDEV(ie,{className:"rounded-2xl border-border/50 hover:shadow-md transition-shadow cursor-help",children:[e.jsxDEV(ge,{className:"pb-3",children:e.jsxDEV(we,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(Na,{className:"h-4 w-4 text-primary","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:615,columnNumber:23},void 0),"Total de Processos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:614,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:613,columnNumber:19},void 0),e.jsxDEV(ue,{children:[e.jsxDEV("div",{className:"text-3xl font-bold text-primary",children:U.totalProcessos.toLocaleString("pt-BR")},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:623,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:["Processos cadastrados"," ",u.length<U.totalProcessos&&`(exibindo ${u.length})`]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:626,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:622,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:612,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:611,columnNumber:15},void 0),e.jsxDEV(as,{children:e.jsxDEV("p",{children:"Total de processos jurídicos cadastrados no sistema"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:635,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:634,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:610,columnNumber:13},void 0),e.jsxDEV(us,{children:[e.jsxDEV(cs,{asChild:!0,children:e.jsxDEV(ie,{className:"rounded-2xl border-border/50 hover:shadow-md transition-shadow cursor-help",children:[e.jsxDEV(ge,{className:"pb-3",children:e.jsxDEV(we,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(ps,{className:"h-4 w-4 text-emerald-600","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:644,columnNumber:23},void 0),"Total de Testemunhas"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:643,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:642,columnNumber:19},void 0),e.jsxDEV(ue,{children:[e.jsxDEV("div",{className:"text-3xl font-bold text-emerald-600",children:U.totalTestemunhas.toLocaleString("pt-BR")},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:652,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:["Testemunhas identificadas"," ",d.length<U.totalTestemunhas&&`(exibindo ${d.length})`]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:655,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:651,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:641,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:640,columnNumber:15},void 0),e.jsxDEV(as,{children:e.jsxDEV("p",{children:"Total de testemunhas únicas identificadas em todos os processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:664,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:663,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:639,columnNumber:13},void 0),e.jsxDEV(us,{children:[e.jsxDEV(cs,{asChild:!0,children:e.jsxDEV(ie,{className:"rounded-2xl border-border/50 hover:shadow-md transition-shadow cursor-help",children:[e.jsxDEV(ge,{className:"pb-3",children:e.jsxDEV(we,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(Le,{className:"h-4 w-4 text-destructive","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:676,columnNumber:23},void 0),"Processos de Alto Risco"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:675,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:674,columnNumber:19},void 0),e.jsxDEV(ue,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-destructive",children:U.processosAltoRisco},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:685,columnNumber:23},void 0),e.jsxDEV(L,{variant:"destructive",className:"text-xs",children:[U.pctProcAlto,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:688,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:684,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Requerem atenção especial"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:692,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:683,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:673,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:672,columnNumber:15},void 0),e.jsxDEV(as,{children:e.jsxDEV("p",{children:"Processos classificados como alto risco que necessitam atenção imediata"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:699,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:698,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:671,columnNumber:13},void 0),e.jsxDEV(us,{children:[e.jsxDEV(cs,{asChild:!0,children:e.jsxDEV(ie,{className:"rounded-2xl border-border/50 hover:shadow-md transition-shadow cursor-help",children:[e.jsxDEV(ge,{className:"pb-3",children:e.jsxDEV(we,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(Nt,{className:"h-4 w-4 text-orange-500","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:711,columnNumber:23},void 0),"Atua nos Dois Polos"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:710,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:709,columnNumber:19},void 0),e.jsxDEV(ue,{children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:"text-3xl font-bold text-orange-600",children:U.testemunhasAmbosPolos},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:720,columnNumber:23},void 0),e.jsxDEV(L,{variant:"secondary",className:"text-xs",children:[U.pctAmbos,"%"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:723,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:719,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Testemunhas em ambos os polos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:727,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:718,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:708,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:707,columnNumber:15},void 0),e.jsxDEV(as,{children:e.jsxDEV("p",{children:"Testemunhas que participaram tanto como testemunha da reclamante quanto da ré"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:734,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:733,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:706,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:609,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:608,columnNumber:9},void 0),e.jsxDEV("div",{id:"chat-assistant-section",className:"mb-8 space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h2",{className:"text-xl font-semibold",children:"Assistente de Análise"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:746,columnNumber:13},void 0),e.jsxDEV(Se,{className:"inline-flex items-center gap-2 py-2 px-3 w-auto border-violet-200 bg-violet-50",children:[e.jsxDEV(Ys,{className:"h-4 w-4 text-violet-600"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:748,columnNumber:15},void 0),e.jsxDEV(Me,{className:"text-xs text-violet-900",children:["IA Assistiva LGPD Compliant."," ",e.jsxDEV("a",{href:"/privacidade",className:"underline font-medium hover:text-violet-700",children:"Saiba mais"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:751,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:749,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:747,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:745,columnNumber:11},void 0),e.jsxDEV(ln,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:761,columnNumber:11},void 0),m&&e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV(fn,{blocks:m},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:764,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:763,columnNumber:13},void 0),l==="loading"&&e.jsxDEV("div",{className:"mt-6",children:e.jsxDEV(xn,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:769,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:768,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:744,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-8",children:e.jsxDEV(xt,{value:n,onValueChange:R,children:[e.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[e.jsxDEV(bt,{className:"grid w-full lg:w-auto grid-cols-2",children:[e.jsxDEV(Es,{value:"processos",className:"flex items-center gap-2",children:[e.jsxDEV(Na,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:783,columnNumber:19},void 0),"Por Processo"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:779,columnNumber:17},void 0),e.jsxDEV(Es,{value:"testemunhas",className:"flex items-center gap-2",children:[e.jsxDEV(ps,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:790,columnNumber:19},void 0),"Por Testemunha"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:786,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:778,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[r&&e.jsxDEV(bi,{userId:r.id},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:795,columnNumber:26},void 0),e.jsxDEV(xi,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:796,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:794,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:777,columnNumber:13},void 0),e.jsxDEV(ks,{value:"processos",className:"space-y-6",children:[e.jsxDEV(Ca,{isLoading:c,hasError:j,errorMessage:x,isConnected:!j||u.length>3,dataCount:u.length,dataType:"processos"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:801,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-col gap-3",children:[e.jsxDEV(S,{variant:"outline",onClick:()=>ee(!0),className:"w-full sm:w-auto gap-2",children:[e.jsxDEV(fa,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:817,columnNumber:19},void 0),"Filtros Avançados",e.jsxDEV("kbd",{className:"ml-auto hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100",children:[e.jsxDEV("span",{className:"text-xs",children:"⌘"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:820,columnNumber:21},void 0),"F"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:819,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:812,columnNumber:17},void 0),Z()]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:811,columnNumber:15},void 0),E!=="success"?e.jsxDEV(Ns,{status:E,onRetry:G},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:827,columnNumber:17},void 0):e.jsxDEV(mi,{data:u},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:829,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:800,columnNumber:13},void 0),e.jsxDEV(ks,{value:"testemunhas",className:"space-y-6",children:[e.jsxDEV(Ca,{isLoading:c,hasError:j,errorMessage:x,isConnected:!j||d.length>3,dataCount:d.length,dataType:"testemunhas"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:834,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex flex-col gap-3",children:[e.jsxDEV(S,{variant:"outline",onClick:()=>ee(!0),className:"w-full sm:w-auto gap-2",children:[e.jsxDEV(fa,{className:"h-4 w-4"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:850,columnNumber:19},void 0),"Filtros Avançados",e.jsxDEV("kbd",{className:"ml-auto hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100",children:[e.jsxDEV("span",{className:"text-xs",children:"⌘"},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:853,columnNumber:21},void 0),"F"]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:852,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:845,columnNumber:17},void 0),Z()]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:844,columnNumber:15},void 0),Y!=="success"?e.jsxDEV(Ns,{status:Y,onRetry:G},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:860,columnNumber:17},void 0):e.jsxDEV(ui,{data:d,status:Y,onRetry:G},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:862,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:833,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:776,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:775,columnNumber:9},void 0),e.jsxDEV(gi,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:873,columnNumber:9},void 0),e.jsxDEV(Pi,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:874,columnNumber:9},void 0),e.jsxDEV(hi,{open:ce,onOpenChange:ee},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:875,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:593,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:509,columnNumber:5},void 0):null},yn=()=>e.jsxDEV(bn,{children:e.jsxDEV(Vn,{},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:887,columnNumber:5},void 0)},void 0,!1,{fileName:"/workspaces/assitjur/src/pages/MapaPage.tsx",lineNumber:886,columnNumber:3},void 0),In=Object.freeze(Object.defineProperty({__proto__:null,default:yn},Symbol.toStringTag,{value:"Module"}));export{qe as $,Io as A,fs as B,Mn as C,yt as D,hs as E,ms as F,Ze as G,Hs as H,Ro as I,qt as J,Ot as K,Lt as L,Gs as M,$t as N,Ks as O,zt as P,Nn as Q,ys as R,Ge as S,Vt as T,Ns as U,Rn as V,Ai as W,Eo as X,sr as Y,Tt as Z,Sn as _,$e as a,Ye as a0,To as a1,In as a2,Ke as b,ze as c,fe as d,aa as e,An as f,Ht as g,Gt as h,Qt as i,Wt as j,Kt as k,Xt as l,Zt as m,sa as n,Ct as o,Pt as p,St as q,ta as r,us as s,cs as t,as as u,So as v,Rt as w,It as x,Ft as y,Bt as z};
